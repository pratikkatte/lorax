(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(`*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}[type=text],input:where(:not([type])),[type=email],[type=url],[type=password],[type=number],[type=date],[type=datetime-local],[type=month],[type=search],[type=tel],[type=time],[type=week],[multiple],textarea,select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#6b7280;border-width:1px;border-radius:0;padding:.5rem .75rem;font-size:1rem;line-height:1.5rem;--tw-shadow: 0 0 #0000}[type=text]:focus,input:where(:not([type])):focus,[type=email]:focus,[type=url]:focus,[type=password]:focus,[type=number]:focus,[type=date]:focus,[type=datetime-local]:focus,[type=month]:focus,[type=search]:focus,[type=tel]:focus,[type=time]:focus,[type=week]:focus,[multiple]:focus,textarea:focus,select:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset: var(--tw-empty, );--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: #2563eb;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);border-color:#2563eb}input::-moz-placeholder,textarea::-moz-placeholder{color:#6b7280;opacity:1}input::placeholder,textarea::placeholder{color:#6b7280;opacity:1}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-date-and-time-value{min-height:1.5em;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-top:0;padding-bottom:0}select{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right .5rem center;background-repeat:no-repeat;background-size:1.5em 1.5em;padding-right:2.5rem;-webkit-print-color-adjust:exact;print-color-adjust:exact}[multiple],[size]:where(select:not([size="1"])){background-image:initial;background-position:initial;background-repeat:unset;background-size:initial;padding-right:.75rem;-webkit-print-color-adjust:unset;print-color-adjust:unset}[type=checkbox],[type=radio]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;-webkit-print-color-adjust:exact;print-color-adjust:exact;display:inline-block;vertical-align:middle;background-origin:border-box;-webkit-user-select:none;-moz-user-select:none;user-select:none;flex-shrink:0;height:1rem;width:1rem;color:#2563eb;background-color:#fff;border-color:#6b7280;border-width:1px;--tw-shadow: 0 0 #0000}[type=checkbox]{border-radius:0}[type=radio]{border-radius:100%}[type=checkbox]:focus,[type=radio]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset: var(--tw-empty, );--tw-ring-offset-width: 2px;--tw-ring-offset-color: #fff;--tw-ring-color: #2563eb;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}[type=checkbox]:checked,[type=radio]:checked{border-color:transparent;background-color:currentColor;background-size:100% 100%;background-position:center;background-repeat:no-repeat}[type=checkbox]:checked{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e")}@media (forced-colors: active){[type=checkbox]:checked{-webkit-appearance:auto;-moz-appearance:auto;appearance:auto}}[type=radio]:checked{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e")}@media (forced-colors: active){[type=radio]:checked{-webkit-appearance:auto;-moz-appearance:auto;appearance:auto}}[type=checkbox]:checked:hover,[type=checkbox]:checked:focus,[type=radio]:checked:hover,[type=radio]:checked:focus{border-color:transparent;background-color:currentColor}[type=checkbox]:indeterminate{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 16 16'%3e%3cpath stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 8h8'/%3e%3c/svg%3e");border-color:transparent;background-color:currentColor;background-size:100% 100%;background-position:center;background-repeat:no-repeat}@media (forced-colors: active){[type=checkbox]:indeterminate{-webkit-appearance:auto;-moz-appearance:auto;appearance:auto}}[type=checkbox]:indeterminate:hover,[type=checkbox]:indeterminate:focus{border-color:transparent;background-color:currentColor}[type=file]{background:unset;border-color:inherit;border-width:0;border-radius:0;padding:0;font-size:unset;line-height:inherit}[type=file]:focus{outline:1px solid ButtonText;outline:1px auto -webkit-focus-ring-color}.visible{visibility:visible}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.bottom-2{bottom:.5rem}.left-0{left:0}.left-2{left:.5rem}.right-0{right:0}.top-0{top:0}.z-10{z-index:10}.z-50{z-index:50}.float-right{float:right}.m-0{margin:0}.m-3{margin:.75rem}.m-4{margin:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-8{margin-top:2rem;margin-bottom:2rem}.-mb-1{margin-bottom:-.25rem}.-mr-4{margin-right:-1rem}.-mt-1{margin-top:-.25rem}.mb-0{margin-bottom:0}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-5{margin-bottom:1.25rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-4{margin-left:1rem}.mr-1{margin-right:.25rem}.mr-1\\.5{margin-right:.375rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mt-0\\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-auto{margin-top:auto}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.hidden{display:none}.h-1\\/2{height:50%}.h-10{height:2.5rem}.h-2{height:.5rem}.h-3{height:.75rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-5\\/6{height:83.333333%}.h-60{height:15rem}.h-64{height:16rem}.h-8{height:2rem}.h-\\[calc\\(100\\%-4rem\\)\\]{height:calc(100% - 4rem)}.h-full{height:100%}.h-screen{height:100vh}.min-h-screen{min-height:100vh}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:.5rem}.w-20{width:5rem}.w-3{width:.75rem}.w-32{width:8rem}.w-4{width:1rem}.w-40{width:10rem}.w-5{width:1.25rem}.w-56{width:14rem}.w-60{width:15rem}.w-full{width:100%}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-grow{flex-grow:1}.scale-100{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-150{--tw-scale-x: 1.5;--tw-scale-y: 1.5;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.resize{resize:both}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.break-all{word-break:break-all}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-solid{border-style:solid}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-gray-800{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-neutral-100{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-6{padding:1.5rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-11{padding-left:2.75rem}.pl-2{padding-left:.5rem}.pl-5{padding-left:1.25rem}.pr-2{padding-right:.5rem}.pr-3{padding-right:.75rem}.pr-4{padding-right:1rem}.pr-6{padding-right:1.5rem}.pr-8{padding-right:2rem}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.italic{font-style:italic}.leading-5{line-height:1.25rem}.leading-6{line-height:1.5rem}.leading-tight{line-height:1.25}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.no-underline{text-decoration-line:none}.opacity-30{opacity:.3}.opacity-50{opacity:.5}.opacity-70{opacity:.7}.opacity-90{opacity:.9}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.tx-button:focus-visible{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1));outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(31 41 55 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 0px}.MuiPaper-root.MuiPaper-rounded.MuiPaper-elevation{box-shadow:none!important;padding:0!important;margin:0!important}#view-browser-axis>div>span>div>div>div>div:nth-child(1){display:none!important}.jss2{margin:0!important}p[data-testid=refLabel-NC_045512v2]{display:none!important}[class*=PrivateSwitchBase-input-]+svg{color:"#2463eb"!important}.sidebar-toggle{border:2px solid rgb(136,135,135)!important;border-radius:3px;margin:10px}.sidebar-open{transition:right .3s ease-in-out!important}.sidebar-closed{transition:right .3s ease-in-out!important;position:absolute;width:60px;right:0}.search-panel{width:100%!important}select,input{border-color:#c7ccd8!important}.infoTooltip{max-width:200px;font-size:12pt!important;pointer-events:auto!important}.infoTooltip :hover{visibility:visible!important;opacity:1!important}.tooltipLink{color:#2563eb;text-decoration:underline}button[data-testid=addTrackNextButton]{background-color:#858585}.MuiDialog-container>div>div>.MuiScopedCssBaseline-root{padding:15px}body{margin:0;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:#f8f9fa}.app-container{display:flex;min-height:100vh;background:linear-gradient(to bottom,rgb(8,120,135),rgba(10,10,10,0));overflow:hidden}.left-container{width:70%;height:100vh;position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;overflow:hidden;z-index:1;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out}.left-form-container{display:flex;height:350px;width:250px;justify-content:center;align-items:flex-start;flex-direction:column;position:relative;padding:20px;margin-top:150px;background-color:#fff;box-shadow:0 4px 20px #0003;border-radius:0 20px 20px 0;animation:slideIn .5s ease-out}.right-container{width:30%;height:100vh;display:flex;justify-content:center;align-items:center;z-index:2;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;position:absolute;top:0;right:0;overflow:hidden}.right-container.opened{transform:translate(-300px);box-shadow:0 0 20px #0000004d}.not-supported-message{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;text-align:center}.not-supported-message p{margin:0;font-size:16px;color:#444}@media only screen and (max-width: 600px){.left-container,.left-form-container,.right-container{display:none}.not-supported-message{display:block}}@keyframes slideIn{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}.hover\\:border-gray-500:hover{--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity, 1))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\\:text-black:hover{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.hover\\:text-blue-800:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.hover\\:text-gray-700:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.hover\\:text-red-700:hover{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.focus\\:border-gray-800:focus{--tw-border-opacity: 1;border-color:rgb(31 41 55 / var(--tw-border-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-gray-800:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(31 41 55 / var(--tw-ring-opacity, 1))}@media (min-width: 640px){.sm\\:inline-block{display:inline-block}}@media (min-width: 768px){.md\\:static{position:static}.md\\:col-span-12{grid-column:span 12 / span 12}.md\\:h-full{height:100%}.md\\:min-h-0{min-height:0px}.md\\:w-2\\/3{width:66.666667%}.md\\:w-3\\/4{width:75%}.md\\:flex-grow{flex-grow:1}.md\\:flex-row{flex-direction:row}.md\\:overflow-y-auto{overflow-y:auto}.md\\:px-0{padding-left:0;padding-right:0}.md\\:shadow-none{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}}@media (min-width: 1536px){.\\32xl\\:w-3\\/4{width:75%}}.chat-container{width:100%;height:100vh;border:1px solid #ccc;box-shadow:0 4px 20px #0000001a;background-color:#f8f9fa;margin:auto;display:flex;flex-direction:column;font-family:Roboto,sans-serif}.chat-header{background:linear-gradient(90deg,#023e82,#0056b3);color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd;box-shadow:0 2px 6px #0000001a;font-size:18px;font-weight:700}.clear-button{background-color:#fff;color:#0366d6;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s;width:15%;font-size:10px}.clear-button:hover{background-color:#0366d6;color:#fff;transform:scale(1.05)}.chat-content{padding:15px;overflow-y:auto;flex-grow:1;background-color:#e9ecef;border-radius:10px 10px 0 0;box-shadow:inset 0 0 10px #0000000d;font-size:15px}.chat-bubble{padding:7px;border-radius:20px;animation:fadeIn .5s ease}.user-bubble{align-self:flex-end;background-color:#0366d6;color:#fff;border-radius:15px 15px 0;margin-left:30%;margin-bottom:1%}.assistant-bubble{align-self:flex-start;background-color:#fff;color:#333;border-radius:15px 15px 15px 0;box-shadow:0 2px 4px #0000001a;margin-bottom:1%;margin-right:30%}.chat-input-container{display:flex;padding:10px;background-color:#fff;border-top:1px solid #ddd;border-radius:0 0 10px 10px;align-items:center}.chat-input{flex-grow:1;padding:12px;border:1px solid #ccc;border-radius:20px;font-size:16px;box-sizing:border-box;margin-right:10px;transition:border-color .3s}.chat-input:focus{border-color:#0366d6;outline:none;box-shadow:0 0 5px #0366d64d}.send-button{background-color:#0366d6;color:#fff;border:none;border-radius:20px;padding:10px 20px;font-size:16px;cursor:pointer;transition:background-color .3s,transform .2s}.send-button:hover{background-color:#0056b3;transform:scale(1.05)}.attachment{display:flex;align-items:center;margin-right:10px}.upload-file{background-color:#fff;border:1px solid #0366d6;border-radius:5px;padding:8px 15px;cursor:pointer;color:#0366d6;font-weight:700;display:flex;align-items:center;transition:background-color .3s,color .3s}.upload-file:hover{background-color:#0366d6;color:#fff}.file-display{background-color:#e9ecef;border:1px solid #ccc;border-radius:5px;padding:5px 10px;display:flex;align-items:center;font-size:14px}.remove-file{margin-left:10px;background-color:#f5c6cb;color:#721c24;border:none;border-radius:5px;padding:2px 5px;cursor:pointer;font-size:12px}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.visual-display{width:100%;height:100%;background-color:#fff}.visual-title{display:flex;font-size:20px;justify-content:center}.CircularProgressbar{width:100%;vertical-align:middle}.CircularProgressbar .CircularProgressbar-path{stroke:#3e98c7;stroke-linecap:round;transition:stroke-dashoffset .5s ease 0s}.CircularProgressbar .CircularProgressbar-trail{stroke:#d6d6d6;stroke-linecap:round}.CircularProgressbar .CircularProgressbar-text{fill:#3e98c7;font-size:20px;dominant-baseline:middle;text-anchor:middle}.CircularProgressbar .CircularProgressbar-background{fill:#d6d6d6}.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-background{fill:#3e98c7}.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-text{fill:#fff}.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-path{stroke:#fff}.CircularProgressbar.CircularProgressbar-inverted .CircularProgressbar-trail{stroke:transparent}.react-tabs{-webkit-tap-highlight-color:transparent}.react-tabs__tab-list{border-bottom:1px solid #aaa;margin:0 0 10px;padding:0}.react-tabs__tab{display:inline-block;border:1px solid transparent;border-bottom:none;bottom:-1px;position:relative;list-style:none;padding:6px 12px;cursor:pointer}.react-tabs__tab--selected{background:#fff;border-color:#aaa;color:#000;border-radius:5px 5px 0 0}.react-tabs__tab--disabled{color:GrayText;cursor:default}.react-tabs__tab:focus{outline:none}.react-tabs__tab:focus:after{content:"";position:absolute;height:5px;left:-4px;right:-4px;bottom:-5px;background:#fff}.react-tabs__tab-panel{display:none}.react-tabs__tab-panel--selected{display:block}`)),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
var CK=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Tve=CK((gn,Wn)=>{function hM(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in t)){const r=Object.getOwnPropertyDescriptor(i,l);r&&Object.defineProperty(t,l,r.get?r:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var l=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return t[i]}})}),n}var pM={exports:{}},Ud={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var $2=Object.getOwnPropertySymbols,kK=Object.prototype.hasOwnProperty,EK=Object.prototype.propertyIsEnumerable;function KK(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function UK(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(r){return e[r]});if(i.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(r){l[r]=r}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ZM=UK()?Object.assign:function(t,e){for(var n,i=KK(t),l,r=1;r<arguments.length;r++){n=Object(arguments[r]);for(var a in n)kK.call(n,a)&&(i[a]=n[a]);if($2){l=$2(n);for(var s=0;s<l.length;s++)EK.call(n,l[s])&&(i[l[s]]=n[l[s]])}}return i},fM={exports:{}},Je={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg=ZM,_o=60103,yM=60106;Je.Fragment=60107;Je.StrictMode=60108;Je.Profiler=60114;var GM=60109,XM=60110,gM=60112;Je.Suspense=60113;var WM=60115,VM=60116;if(typeof Symbol=="function"&&Symbol.for){var li=Symbol.for;_o=li("react.element"),yM=li("react.portal"),Je.Fragment=li("react.fragment"),Je.StrictMode=li("react.strict_mode"),Je.Profiler=li("react.profiler"),GM=li("react.provider"),XM=li("react.context"),gM=li("react.forward_ref"),Je.Suspense=li("react.suspense"),WM=li("react.memo"),VM=li("react.lazy")}var q2=typeof Symbol=="function"&&Symbol.iterator;function PK(t){return t===null||typeof t!="object"?null:(t=q2&&t[q2]||t["@@iterator"],typeof t=="function"?t:null)}function Pd(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xM={};function $o(t,e,n){this.props=t,this.context=e,this.refs=xM,this.updater=n||TM}$o.prototype.isReactComponent={};$o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Pd(85));this.updater.enqueueSetState(this,t,e,"setState")};$o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RM(){}RM.prototype=$o.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=xM,this.updater=n||TM}var sg=ag.prototype=new RM;sg.constructor=ag;rg(sg,$o.prototype);sg.isPureReactComponent=!0;var og={current:null},SM=Object.prototype.hasOwnProperty,YM={key:!0,ref:!0,__self:!0,__source:!0};function LM(t,e,n){var i,l={},r=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)SM.call(e,i)&&!YM.hasOwnProperty(i)&&(l[i]=e[i]);var s=arguments.length-2;if(s===1)l.children=n;else if(1<s){for(var o=Array(s),c=0;c<s;c++)o[c]=arguments[c+2];l.children=o}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return{$$typeof:_o,type:t,key:r,ref:a,props:l,_owner:og.current}}function FK(t,e){return{$$typeof:_o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===_o}function zK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eT=/\/+/g;function E0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zK(""+t.key):e.toString(36)}function kh(t,e,n,i,l){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _o:case yM:a=!0}}if(a)return a=t,l=l(a),t=i===""?"."+E0(a,0):i,Array.isArray(l)?(n="",t!=null&&(n=t.replace(eT,"$&/")+"/"),kh(l,e,n,"",function(c){return c})):l!=null&&(cg(l)&&(l=FK(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(eT,"$&/")+"/")+t)),e.push(l)),1;if(a=0,i=i===""?".":i+":",Array.isArray(t))for(var s=0;s<t.length;s++){r=t[s];var o=i+E0(r,s);a+=kh(r,e,n,o,l)}else if(o=PK(t),typeof o=="function")for(t=o.call(t),s=0;!(r=t.next()).done;)r=r.value,o=i+E0(r,s++),a+=kh(r,e,n,o,l);else if(r==="object")throw e=""+t,Error(Pd(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function Um(t,e,n){if(t==null)return t;var i=[],l=0;return kh(t,i,"","",function(r){return e.call(n,r,l++)}),i}function jK(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var MM={current:null};function Ul(){var t=MM.current;if(t===null)throw Error(Pd(321));return t}var HK={ReactCurrentDispatcher:MM,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:og,IsSomeRendererActing:{current:!1},assign:rg};Je.Children={map:Um,forEach:function(t,e,n){Um(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Um(t,function(){e++}),e},toArray:function(t){return Um(t,function(e){return e})||[]},only:function(t){if(!cg(t))throw Error(Pd(143));return t}};Je.Component=$o;Je.PureComponent=ag;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HK;Je.cloneElement=function(t,e,n){if(t==null)throw Error(Pd(267,t));var i=rg({},t.props),l=t.key,r=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=og.current),e.key!==void 0&&(l=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(o in e)SM.call(e,o)&&!YM.hasOwnProperty(o)&&(i[o]=e[o]===void 0&&s!==void 0?s[o]:e[o])}var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){s=Array(o);for(var c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:_o,type:t.type,key:l,ref:r,props:i,_owner:a}};Je.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:XM,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:GM,_context:t},t.Consumer=t};Je.createElement=LM;Je.createFactory=function(t){var e=LM.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:gM,render:t}};Je.isValidElement=cg;Je.lazy=function(t){return{$$typeof:VM,_payload:{_status:-1,_result:t},_init:jK}};Je.memo=function(t,e){return{$$typeof:WM,type:t,compare:e===void 0?null:e}};Je.useCallback=function(t,e){return Ul().useCallback(t,e)};Je.useContext=function(t,e){return Ul().useContext(t,e)};Je.useDebugValue=function(){};Je.useEffect=function(t,e){return Ul().useEffect(t,e)};Je.useImperativeHandle=function(t,e,n){return Ul().useImperativeHandle(t,e,n)};Je.useLayoutEffect=function(t,e){return Ul().useLayoutEffect(t,e)};Je.useMemo=function(t,e){return Ul().useMemo(t,e)};Je.useReducer=function(t,e,n){return Ul().useReducer(t,e,n)};Je.useRef=function(t){return Ul().useRef(t)};Je.useState=function(t){return Ul().useState(t)};Je.version="17.0.2";fM.exports=Je;var T=fM.exports;const S=Kl(T),_u=hM({__proto__:null,default:S},[T]);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DK=T,NM=60103;Ud.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var tT=Symbol.for;NM=tT("react.element"),Ud.Fragment=tT("react.fragment")}var OK=DK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BK=Object.prototype.hasOwnProperty,QK={key:!0,ref:!0,__self:!0,__source:!0};function vM(t,e,n){var i,l={},r=null,a=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)BK.call(e,i)&&!QK.hasOwnProperty(i)&&(l[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)l[i]===void 0&&(l[i]=e[i]);return{$$typeof:NM,type:t,key:r,ref:a,props:l,_owner:OK.current}}Ud.jsx=vM;Ud.jsxs=vM;pM.exports=Ud;var N=pM.exports,IM={},qp={};qp.byteLength=$K;qp.toByteArray=eU;qp.fromByteArray=iU;var Pi=[],Jn=[],AK=typeof Uint8Array<"u"?Uint8Array:Array,K0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Xs=0,_K=K0.length;Xs<_K;++Xs)Pi[Xs]=K0[Xs],Jn[K0.charCodeAt(Xs)]=Xs;Jn["-".charCodeAt(0)]=62;Jn["_".charCodeAt(0)]=63;function wM(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function $K(t){var e=wM(t),n=e[0],i=e[1];return(n+i)*3/4-i}function qK(t,e,n){return(e+n)*3/4-n}function eU(t){var e,n=wM(t),i=n[0],l=n[1],r=new AK(qK(t,i,l)),a=0,s=l>0?i-4:i,o;for(o=0;o<s;o+=4)e=Jn[t.charCodeAt(o)]<<18|Jn[t.charCodeAt(o+1)]<<12|Jn[t.charCodeAt(o+2)]<<6|Jn[t.charCodeAt(o+3)],r[a++]=e>>16&255,r[a++]=e>>8&255,r[a++]=e&255;return l===2&&(e=Jn[t.charCodeAt(o)]<<2|Jn[t.charCodeAt(o+1)]>>4,r[a++]=e&255),l===1&&(e=Jn[t.charCodeAt(o)]<<10|Jn[t.charCodeAt(o+1)]<<4|Jn[t.charCodeAt(o+2)]>>2,r[a++]=e>>8&255,r[a++]=e&255),r}function tU(t){return Pi[t>>18&63]+Pi[t>>12&63]+Pi[t>>6&63]+Pi[t&63]}function nU(t,e,n){for(var i,l=[],r=e;r<n;r+=3)i=(t[r]<<16&16711680)+(t[r+1]<<8&65280)+(t[r+2]&255),l.push(tU(i));return l.join("")}function iU(t){for(var e,n=t.length,i=n%3,l=[],r=16383,a=0,s=n-i;a<s;a+=r)l.push(nU(t,a,a+r>s?s:a+r));return i===1?(e=t[n-1],l.push(Pi[e>>2]+Pi[e<<4&63]+"==")):i===2&&(e=(t[n-2]<<8)+t[n-1],l.push(Pi[e>>10]+Pi[e>>4&63]+Pi[e<<2&63]+"=")),l.join("")}var ug={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ug.read=function(t,e,n,i,l){var r,a,s=l*8-i-1,o=(1<<s)-1,c=o>>1,u=-7,d=n?l-1:0,m=n?-1:1,h=t[e+d];for(d+=m,r=h&(1<<-u)-1,h>>=-u,u+=s;u>0;r=r*256+t[e+d],d+=m,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=i;u>0;a=a*256+t[e+d],d+=m,u-=8);if(r===0)r=1-c;else{if(r===o)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,i),r=r-c}return(h?-1:1)*a*Math.pow(2,r-i)};ug.write=function(t,e,n,i,l,r){var a,s,o,c=r*8-l-1,u=(1<<c)-1,d=u>>1,m=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:r-1,b=i?1:-1,Z=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(o=Math.pow(2,-a))<1&&(a--,o*=2),a+d>=1?e+=m/o:e+=m*Math.pow(2,1-d),e*o>=2&&(a++,o/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*o-1)*Math.pow(2,l),a=a+d):(s=e*Math.pow(2,d-1)*Math.pow(2,l),a=0));l>=8;t[n+h]=s&255,h+=b,s/=256,l-=8);for(a=a<<l|s,c+=l;c>0;t[n+h]=a&255,h+=b,a/=256,c-=8);t[n+h-b]|=Z*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=qp,n=ug,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=G,t.INSPECT_MAX_BYTES=50;var l=2147483647;t.kMaxLength=l,s.TYPED_ARRAY_SUPPORT=r(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function r(){try{var W=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(W,y),W.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(W){if(W>l)throw new RangeError('The value "'+W+'" is invalid for option "size"');var y=new Uint8Array(W);return Object.setPrototypeOf(y,s.prototype),y}function s(W,y,g){if(typeof W=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(W)}return o(W,y,g)}s.poolSize=8192;function o(W,y,g){if(typeof W=="string")return m(W,y);if(ArrayBuffer.isView(W))return b(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Le(W,ArrayBuffer)||W&&Le(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(W,SharedArrayBuffer)||W&&Le(W.buffer,SharedArrayBuffer)))return Z(W,y,g);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var M=W.valueOf&&W.valueOf();if(M!=null&&M!==W)return s.from(M,y,g);var J=p(W);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return s.from(W[Symbol.toPrimitive]("string"),y,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}s.from=function(W,y,g){return o(W,y,g)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,y,g){return c(W),W<=0?a(W):y!==void 0?typeof g=="string"?a(W).fill(y,g):a(W).fill(y):a(W)}s.alloc=function(W,y,g){return u(W,y,g)};function d(W){return c(W),a(W<0?0:f(W)|0)}s.allocUnsafe=function(W){return d(W)},s.allocUnsafeSlow=function(W){return d(W)};function m(W,y){if((typeof y!="string"||y==="")&&(y="utf8"),!s.isEncoding(y))throw new TypeError("Unknown encoding: "+y);var g=V(W,y)|0,M=a(g),J=M.write(W,y);return J!==g&&(M=M.slice(0,J)),M}function h(W){for(var y=W.length<0?0:f(W.length)|0,g=a(y),M=0;M<y;M+=1)g[M]=W[M]&255;return g}function b(W){if(Le(W,Uint8Array)){var y=new Uint8Array(W);return Z(y.buffer,y.byteOffset,y.byteLength)}return h(W)}function Z(W,y,g){if(y<0||W.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<y+(g||0))throw new RangeError('"length" is outside of buffer bounds');var M;return y===void 0&&g===void 0?M=new Uint8Array(W):g===void 0?M=new Uint8Array(W,y):M=new Uint8Array(W,y,g),Object.setPrototypeOf(M,s.prototype),M}function p(W){if(s.isBuffer(W)){var y=f(W.length)|0,g=a(y);return g.length===0||W.copy(g,0,0,y),g}if(W.length!==void 0)return typeof W.length!="number"||ct(W.length)?a(0):h(W);if(W.type==="Buffer"&&Array.isArray(W.data))return h(W.data)}function f(W){if(W>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return W|0}function G(W){return+W!=W&&(W=0),s.alloc(+W)}s.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==s.prototype},s.compare=function(y,g){if(Le(y,Uint8Array)&&(y=s.from(y,y.offset,y.byteLength)),Le(g,Uint8Array)&&(g=s.from(g,g.offset,g.byteLength)),!s.isBuffer(y)||!s.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===g)return 0;for(var M=y.length,J=g.length,B=0,ne=Math.min(M,J);B<ne;++B)if(y[B]!==g[B]){M=y[B],J=g[B];break}return M<J?-1:J<M?1:0},s.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(y,g){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return s.alloc(0);var M;if(g===void 0)for(g=0,M=0;M<y.length;++M)g+=y[M].length;var J=s.allocUnsafe(g),B=0;for(M=0;M<y.length;++M){var ne=y[M];if(Le(ne,Uint8Array))B+ne.length>J.length?s.from(ne).copy(J,B):Uint8Array.prototype.set.call(J,ne,B);else if(s.isBuffer(ne))ne.copy(J,B);else throw new TypeError('"list" argument must be an Array of Buffers');B+=ne.length}return J};function V(W,y){if(s.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Le(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var g=W.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&g===0)return 0;for(var J=!1;;)switch(y){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return ve(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return xe(W).length;default:if(J)return M?-1:ve(W).length;y=(""+y).toLowerCase(),J=!0}}s.byteLength=V;function X(W,y,g){var M=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,y>>>=0,g<=y))return"";for(W||(W="utf8");;)switch(W){case"hex":return de(this,y,g);case"utf8":case"utf-8":return j(this,y,g);case"ascii":return E(this,y,g);case"latin1":case"binary":return H(this,y,g);case"base64":return D(this,y,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,y,g);default:if(M)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),M=!0}}s.prototype._isBuffer=!0;function L(W,y,g){var M=W[y];W[y]=W[g],W[g]=M}s.prototype.swap16=function(){var y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<y;g+=2)L(this,g,g+1);return this},s.prototype.swap32=function(){var y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<y;g+=4)L(this,g,g+3),L(this,g+1,g+2);return this},s.prototype.swap64=function(){var y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<y;g+=8)L(this,g,g+7),L(this,g+1,g+6),L(this,g+2,g+5),L(this,g+3,g+4);return this},s.prototype.toString=function(){var y=this.length;return y===0?"":arguments.length===0?j(this,0,y):X.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(y){if(!s.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:s.compare(this,y)===0},s.prototype.inspect=function(){var y="",g=t.INSPECT_MAX_BYTES;return y=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(y+=" ... "),"<Buffer "+y+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(y,g,M,J,B){if(Le(y,Uint8Array)&&(y=s.from(y,y.offset,y.byteLength)),!s.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(g===void 0&&(g=0),M===void 0&&(M=y?y.length:0),J===void 0&&(J=0),B===void 0&&(B=this.length),g<0||M>y.length||J<0||B>this.length)throw new RangeError("out of range index");if(J>=B&&g>=M)return 0;if(J>=B)return-1;if(g>=M)return 1;if(g>>>=0,M>>>=0,J>>>=0,B>>>=0,this===y)return 0;for(var ne=B-J,Se=M-g,Ee=Math.min(ne,Se),Fe=this.slice(J,B),Ke=y.slice(g,M),_e=0;_e<Ee;++_e)if(Fe[_e]!==Ke[_e]){ne=Fe[_e],Se=Ke[_e];break}return ne<Se?-1:Se<ne?1:0};function x(W,y,g,M,J){if(W.length===0)return-1;if(typeof g=="string"?(M=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,ct(g)&&(g=J?0:W.length-1),g<0&&(g=W.length+g),g>=W.length){if(J)return-1;g=W.length-1}else if(g<0)if(J)g=0;else return-1;if(typeof y=="string"&&(y=s.from(y,M)),s.isBuffer(y))return y.length===0?-1:v(W,y,g,M,J);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(W,y,g):Uint8Array.prototype.lastIndexOf.call(W,y,g):v(W,[y],g,M,J);throw new TypeError("val must be string, number or Buffer")}function v(W,y,g,M,J){var B=1,ne=W.length,Se=y.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(W.length<2||y.length<2)return-1;B=2,ne/=2,Se/=2,g/=2}function Ee(Nc,vc){return B===1?Nc[vc]:Nc.readUInt16BE(vc*B)}var Fe;if(J){var Ke=-1;for(Fe=g;Fe<ne;Fe++)if(Ee(W,Fe)===Ee(y,Ke===-1?0:Fe-Ke)){if(Ke===-1&&(Ke=Fe),Fe-Ke+1===Se)return Ke*B}else Ke!==-1&&(Fe-=Fe-Ke),Ke=-1}else for(g+Se>ne&&(g=ne-Se),Fe=g;Fe>=0;Fe--){for(var _e=!0,la=0;la<Se;la++)if(Ee(W,Fe+la)!==Ee(y,la)){_e=!1;break}if(_e)return Fe}return-1}s.prototype.includes=function(y,g,M){return this.indexOf(y,g,M)!==-1},s.prototype.indexOf=function(y,g,M){return x(this,y,g,M,!0)},s.prototype.lastIndexOf=function(y,g,M){return x(this,y,g,M,!1)};function C(W,y,g,M){g=Number(g)||0;var J=W.length-g;M?(M=Number(M),M>J&&(M=J)):M=J;var B=y.length;M>B/2&&(M=B/2);for(var ne=0;ne<M;++ne){var Se=parseInt(y.substr(ne*2,2),16);if(ct(Se))return ne;W[g+ne]=Se}return ne}function w(W,y,g,M){return je(ve(y,W.length-g),W,g,M)}function z(W,y,g,M){return je(fe(y),W,g,M)}function $(W,y,g,M){return je(xe(y),W,g,M)}function ee(W,y,g,M){return je(Pe(y,W.length-g),W,g,M)}s.prototype.write=function(y,g,M,J){if(g===void 0)J="utf8",M=this.length,g=0;else if(M===void 0&&typeof g=="string")J=g,M=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(M)?(M=M>>>0,J===void 0&&(J="utf8")):(J=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var B=this.length-g;if((M===void 0||M>B)&&(M=B),y.length>0&&(M<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ne=!1;;)switch(J){case"hex":return C(this,y,g,M);case"utf8":case"utf-8":return w(this,y,g,M);case"ascii":case"latin1":case"binary":return z(this,y,g,M);case"base64":return $(this,y,g,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,y,g,M);default:if(ne)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ne=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(W,y,g){return y===0&&g===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(y,g))}function j(W,y,g){g=Math.min(W.length,g);for(var M=[],J=y;J<g;){var B=W[J],ne=null,Se=B>239?4:B>223?3:B>191?2:1;if(J+Se<=g){var Ee,Fe,Ke,_e;switch(Se){case 1:B<128&&(ne=B);break;case 2:Ee=W[J+1],(Ee&192)===128&&(_e=(B&31)<<6|Ee&63,_e>127&&(ne=_e));break;case 3:Ee=W[J+1],Fe=W[J+2],(Ee&192)===128&&(Fe&192)===128&&(_e=(B&15)<<12|(Ee&63)<<6|Fe&63,_e>2047&&(_e<55296||_e>57343)&&(ne=_e));break;case 4:Ee=W[J+1],Fe=W[J+2],Ke=W[J+3],(Ee&192)===128&&(Fe&192)===128&&(Ke&192)===128&&(_e=(B&15)<<18|(Ee&63)<<12|(Fe&63)<<6|Ke&63,_e>65535&&_e<1114112&&(ne=_e))}}ne===null?(ne=65533,Se=1):ne>65535&&(ne-=65536,M.push(ne>>>10&1023|55296),ne=56320|ne&1023),M.push(ne),J+=Se}return ce(M)}var _=4096;function ce(W){var y=W.length;if(y<=_)return String.fromCharCode.apply(String,W);for(var g="",M=0;M<y;)g+=String.fromCharCode.apply(String,W.slice(M,M+=_));return g}function E(W,y,g){var M="";g=Math.min(W.length,g);for(var J=y;J<g;++J)M+=String.fromCharCode(W[J]&127);return M}function H(W,y,g){var M="";g=Math.min(W.length,g);for(var J=y;J<g;++J)M+=String.fromCharCode(W[J]);return M}function de(W,y,g){var M=W.length;(!y||y<0)&&(y=0),(!g||g<0||g>M)&&(g=M);for(var J="",B=y;B<g;++B)J+=ni[W[B]];return J}function ue(W,y,g){for(var M=W.slice(y,g),J="",B=0;B<M.length-1;B+=2)J+=String.fromCharCode(M[B]+M[B+1]*256);return J}s.prototype.slice=function(y,g){var M=this.length;y=~~y,g=g===void 0?M:~~g,y<0?(y+=M,y<0&&(y=0)):y>M&&(y=M),g<0?(g+=M,g<0&&(g=0)):g>M&&(g=M),g<y&&(g=y);var J=this.subarray(y,g);return Object.setPrototypeOf(J,s.prototype),J};function U(W,y,g){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+y>g)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(y,g,M){y=y>>>0,g=g>>>0,M||U(y,g,this.length);for(var J=this[y],B=1,ne=0;++ne<g&&(B*=256);)J+=this[y+ne]*B;return J},s.prototype.readUintBE=s.prototype.readUIntBE=function(y,g,M){y=y>>>0,g=g>>>0,M||U(y,g,this.length);for(var J=this[y+--g],B=1;g>0&&(B*=256);)J+=this[y+--g]*B;return J},s.prototype.readUint8=s.prototype.readUInt8=function(y,g){return y=y>>>0,g||U(y,1,this.length),this[y]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(y,g){return y=y>>>0,g||U(y,2,this.length),this[y]|this[y+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(y,g){return y=y>>>0,g||U(y,2,this.length),this[y]<<8|this[y+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(y,g){return y=y>>>0,g||U(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(y,g){return y=y>>>0,g||U(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},s.prototype.readIntLE=function(y,g,M){y=y>>>0,g=g>>>0,M||U(y,g,this.length);for(var J=this[y],B=1,ne=0;++ne<g&&(B*=256);)J+=this[y+ne]*B;return B*=128,J>=B&&(J-=Math.pow(2,8*g)),J},s.prototype.readIntBE=function(y,g,M){y=y>>>0,g=g>>>0,M||U(y,g,this.length);for(var J=g,B=1,ne=this[y+--J];J>0&&(B*=256);)ne+=this[y+--J]*B;return B*=128,ne>=B&&(ne-=Math.pow(2,8*g)),ne},s.prototype.readInt8=function(y,g){return y=y>>>0,g||U(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},s.prototype.readInt16LE=function(y,g){y=y>>>0,g||U(y,2,this.length);var M=this[y]|this[y+1]<<8;return M&32768?M|4294901760:M},s.prototype.readInt16BE=function(y,g){y=y>>>0,g||U(y,2,this.length);var M=this[y+1]|this[y]<<8;return M&32768?M|4294901760:M},s.prototype.readInt32LE=function(y,g){return y=y>>>0,g||U(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},s.prototype.readInt32BE=function(y,g){return y=y>>>0,g||U(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},s.prototype.readFloatLE=function(y,g){return y=y>>>0,g||U(y,4,this.length),n.read(this,y,!0,23,4)},s.prototype.readFloatBE=function(y,g){return y=y>>>0,g||U(y,4,this.length),n.read(this,y,!1,23,4)},s.prototype.readDoubleLE=function(y,g){return y=y>>>0,g||U(y,8,this.length),n.read(this,y,!0,52,8)},s.prototype.readDoubleBE=function(y,g){return y=y>>>0,g||U(y,8,this.length),n.read(this,y,!1,52,8)};function Q(W,y,g,M,J,B){if(!s.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>J||y<B)throw new RangeError('"value" argument is out of bounds');if(g+M>W.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(y,g,M,J){if(y=+y,g=g>>>0,M=M>>>0,!J){var B=Math.pow(2,8*M)-1;Q(this,y,g,M,B,0)}var ne=1,Se=0;for(this[g]=y&255;++Se<M&&(ne*=256);)this[g+Se]=y/ne&255;return g+M},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(y,g,M,J){if(y=+y,g=g>>>0,M=M>>>0,!J){var B=Math.pow(2,8*M)-1;Q(this,y,g,M,B,0)}var ne=M-1,Se=1;for(this[g+ne]=y&255;--ne>=0&&(Se*=256);)this[g+ne]=y/Se&255;return g+M},s.prototype.writeUint8=s.prototype.writeUInt8=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,1,255,0),this[g]=y&255,g+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,2,65535,0),this[g]=y&255,this[g+1]=y>>>8,g+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,2,65535,0),this[g]=y>>>8,this[g+1]=y&255,g+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,4,4294967295,0),this[g+3]=y>>>24,this[g+2]=y>>>16,this[g+1]=y>>>8,this[g]=y&255,g+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,4,4294967295,0),this[g]=y>>>24,this[g+1]=y>>>16,this[g+2]=y>>>8,this[g+3]=y&255,g+4},s.prototype.writeIntLE=function(y,g,M,J){if(y=+y,g=g>>>0,!J){var B=Math.pow(2,8*M-1);Q(this,y,g,M,B-1,-B)}var ne=0,Se=1,Ee=0;for(this[g]=y&255;++ne<M&&(Se*=256);)y<0&&Ee===0&&this[g+ne-1]!==0&&(Ee=1),this[g+ne]=(y/Se>>0)-Ee&255;return g+M},s.prototype.writeIntBE=function(y,g,M,J){if(y=+y,g=g>>>0,!J){var B=Math.pow(2,8*M-1);Q(this,y,g,M,B-1,-B)}var ne=M-1,Se=1,Ee=0;for(this[g+ne]=y&255;--ne>=0&&(Se*=256);)y<0&&Ee===0&&this[g+ne+1]!==0&&(Ee=1),this[g+ne]=(y/Se>>0)-Ee&255;return g+M},s.prototype.writeInt8=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,1,127,-128),y<0&&(y=255+y+1),this[g]=y&255,g+1},s.prototype.writeInt16LE=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,2,32767,-32768),this[g]=y&255,this[g+1]=y>>>8,g+2},s.prototype.writeInt16BE=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,2,32767,-32768),this[g]=y>>>8,this[g+1]=y&255,g+2},s.prototype.writeInt32LE=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,4,2147483647,-2147483648),this[g]=y&255,this[g+1]=y>>>8,this[g+2]=y>>>16,this[g+3]=y>>>24,g+4},s.prototype.writeInt32BE=function(y,g,M){return y=+y,g=g>>>0,M||Q(this,y,g,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[g]=y>>>24,this[g+1]=y>>>16,this[g+2]=y>>>8,this[g+3]=y&255,g+4};function k(W,y,g,M,J,B){if(g+M>W.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function A(W,y,g,M,J){return y=+y,g=g>>>0,J||k(W,y,g,4),n.write(W,y,g,M,23,4),g+4}s.prototype.writeFloatLE=function(y,g,M){return A(this,y,g,!0,M)},s.prototype.writeFloatBE=function(y,g,M){return A(this,y,g,!1,M)};function O(W,y,g,M,J){return y=+y,g=g>>>0,J||k(W,y,g,8),n.write(W,y,g,M,52,8),g+8}s.prototype.writeDoubleLE=function(y,g,M){return O(this,y,g,!0,M)},s.prototype.writeDoubleBE=function(y,g,M){return O(this,y,g,!1,M)},s.prototype.copy=function(y,g,M,J){if(!s.isBuffer(y))throw new TypeError("argument should be a Buffer");if(M||(M=0),!J&&J!==0&&(J=this.length),g>=y.length&&(g=y.length),g||(g=0),J>0&&J<M&&(J=M),J===M||y.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),y.length-g<J-M&&(J=y.length-g+M);var B=J-M;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,M,J):Uint8Array.prototype.set.call(y,this.subarray(M,J),g),B},s.prototype.fill=function(y,g,M,J){if(typeof y=="string"){if(typeof g=="string"?(J=g,g=0,M=this.length):typeof M=="string"&&(J=M,M=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!s.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(y.length===1){var B=y.charCodeAt(0);(J==="utf8"&&B<128||J==="latin1")&&(y=B)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(g<0||this.length<g||this.length<M)throw new RangeError("Out of range index");if(M<=g)return this;g=g>>>0,M=M===void 0?this.length:M>>>0,y||(y=0);var ne;if(typeof y=="number")for(ne=g;ne<M;++ne)this[ne]=y;else{var Se=s.isBuffer(y)?y:s.from(y,J),Ee=Se.length;if(Ee===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(ne=0;ne<M-g;++ne)this[ne+g]=Se[ne%Ee]}return this};var le=/[^+/0-9A-Za-z-_]/g;function Ge(W){if(W=W.split("=")[0],W=W.trim().replace(le,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function ve(W,y){y=y||1/0;for(var g,M=W.length,J=null,B=[],ne=0;ne<M;++ne){if(g=W.charCodeAt(ne),g>55295&&g<57344){if(!J){if(g>56319){(y-=3)>-1&&B.push(239,191,189);continue}else if(ne+1===M){(y-=3)>-1&&B.push(239,191,189);continue}J=g;continue}if(g<56320){(y-=3)>-1&&B.push(239,191,189),J=g;continue}g=(J-55296<<10|g-56320)+65536}else J&&(y-=3)>-1&&B.push(239,191,189);if(J=null,g<128){if((y-=1)<0)break;B.push(g)}else if(g<2048){if((y-=2)<0)break;B.push(g>>6|192,g&63|128)}else if(g<65536){if((y-=3)<0)break;B.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((y-=4)<0)break;B.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return B}function fe(W){for(var y=[],g=0;g<W.length;++g)y.push(W.charCodeAt(g)&255);return y}function Pe(W,y){for(var g,M,J,B=[],ne=0;ne<W.length&&!((y-=2)<0);++ne)g=W.charCodeAt(ne),M=g>>8,J=g%256,B.push(J),B.push(M);return B}function xe(W){return e.toByteArray(Ge(W))}function je(W,y,g,M){for(var J=0;J<M&&!(J+g>=y.length||J>=W.length);++J)y[J+g]=W[J];return J}function Le(W,y){return W instanceof y||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===y.name}function ct(W){return W!==W}var ni=function(){for(var W="0123456789abcdef",y=new Array(256),g=0;g<16;++g)for(var M=g*16,J=0;J<16;++J)y[M+J]=W[g]+W[J];return y}()})(IM);var Te={exports:{}},Zt=Te.exports={},Ei,Ki;function Qy(){throw new Error("setTimeout has not been defined")}function Ay(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ei=setTimeout:Ei=Qy}catch{Ei=Qy}try{typeof clearTimeout=="function"?Ki=clearTimeout:Ki=Ay}catch{Ki=Ay}})();function JM(t){if(Ei===setTimeout)return setTimeout(t,0);if((Ei===Qy||!Ei)&&setTimeout)return Ei=setTimeout,setTimeout(t,0);try{return Ei(t,0)}catch{try{return Ei.call(null,t,0)}catch{return Ei.call(this,t,0)}}}function lU(t){if(Ki===clearTimeout)return clearTimeout(t);if((Ki===Ay||!Ki)&&clearTimeout)return Ki=clearTimeout,clearTimeout(t);try{return Ki(t)}catch{try{return Ki.call(null,t)}catch{return Ki.call(this,t)}}}var Xl=[],Zo=!1,ya,Eh=-1;function rU(){!Zo||!ya||(Zo=!1,ya.length?Xl=ya.concat(Xl):Eh=-1,Xl.length&&CM())}function CM(){if(!Zo){var t=JM(rU);Zo=!0;for(var e=Xl.length;e;){for(ya=Xl,Xl=[];++Eh<e;)ya&&ya[Eh].run();Eh=-1,e=Xl.length}ya=null,Zo=!1,lU(t)}}Zt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Xl.push(new kM(t,e)),Xl.length===1&&!Zo&&JM(CM)};function kM(t,e){this.fun=t,this.array=e}kM.prototype.run=function(){this.fun.apply(null,this.array)};Zt.title="browser";Zt.browser=!0;Zt.env={};Zt.argv=[];Zt.version="";Zt.versions={};function Pl(){}Zt.on=Pl;Zt.addListener=Pl;Zt.once=Pl;Zt.off=Pl;Zt.removeListener=Pl;Zt.removeAllListeners=Pl;Zt.emit=Pl;Zt.prependListener=Pl;Zt.prependOnceListener=Pl;Zt.listeners=function(t){return[]};Zt.binding=function(t){throw new Error("process.binding is not supported")};Zt.cwd=function(){return"/"};Zt.chdir=function(t){throw new Error("process.chdir is not supported")};Zt.umask=function(){return 0};function $a(){}var aU=Te.exports.browser,sU=$a,oU=Te.exports.binding,cU=$a,uU=1,dU={},mU=$a,hU=$a,bU=$a,pU=$a,ZU=$a,fU="browser",yU="browser",GU="browser",XU=[],He={nextTick:Te.exports.nextTick,title:Te.exports.title,browser:aU,env:Te.exports.env,argv:Te.exports.argv,version:Te.exports.version,versions:Te.exports.versions,on:Te.exports.on,addListener:Te.exports.addListener,once:Te.exports.once,off:Te.exports.off,removeListener:Te.exports.removeListener,removeAllListeners:Te.exports.removeAllListeners,emit:Te.exports.emit,emitWarning:sU,prependListener:Te.exports.prependListener,prependOnceListener:Te.exports.prependOnceListener,listeners:Te.exports.listeners,binding:oU,cwd:Te.exports.cwd,chdir:Te.exports.chdir,umask:Te.exports.umask,exit:cU,pid:uU,features:dU,kill:mU,dlopen:hU,uptime:bU,memoryUsage:pU,uvCounters:ZU,platform:fU,arch:yU,execPath:GU,execArgv:XU};Te.exports.addListener;Te.exports.argv;Te.exports.chdir;Te.exports.cwd;Te.exports.emit;Te.exports.env;Te.exports.listeners;Te.exports.nextTick;Te.exports.off;Te.exports.on;Te.exports.once;Te.exports.prependListener;Te.exports.prependOnceListener;Te.exports.removeAllListeners;Te.exports.removeListener;Te.exports.title;Te.exports.umask;Te.exports.version;Te.exports.versions;var gU=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var n=__magic__;return n}(Object),jn=gU;function EM(t,e){return function(){return t.apply(e,arguments)}}const{toString:WU}=Object.prototype,{getPrototypeOf:dg}=Object,eZ=(t=>e=>{const n=WU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vi=t=>(t=t.toLowerCase(),e=>eZ(e)===t),tZ=t=>e=>typeof e===t,{isArray:qo}=Array,$u=tZ("undefined");function VU(t){return t!==null&&!$u(t)&&t.constructor!==null&&!$u(t.constructor)&&Vn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const KM=Vi("ArrayBuffer");function TU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KM(t.buffer),e}const xU=tZ("string"),Vn=tZ("function"),UM=tZ("number"),nZ=t=>t!==null&&typeof t=="object",RU=t=>t===!0||t===!1,Kh=t=>{if(eZ(t)!=="object")return!1;const e=dg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},SU=Vi("Date"),YU=Vi("File"),LU=Vi("Blob"),MU=Vi("FileList"),NU=t=>nZ(t)&&Vn(t.pipe),vU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vn(t.append)&&((e=eZ(t))==="formdata"||e==="object"&&Vn(t.toString)&&t.toString()==="[object FormData]"))},IU=Vi("URLSearchParams"),[wU,JU,CU,kU]=["ReadableStream","Request","Response","Headers"].map(Vi),EU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,l;if(typeof t!="object"&&(t=[t]),qo(t))for(i=0,l=t.length;i<l;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),a=r.length;let s;for(i=0;i<a;i++)s=r[i],e.call(null,t[s],s,t)}}function PM(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,l;for(;i-- >0;)if(l=n[i],e===l.toLowerCase())return l;return null}const Ga=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:jn)(),FM=t=>!$u(t)&&t!==Ga;function _y(){const{caseless:t}=FM(this)&&this||{},e={},n=(i,l)=>{const r=t&&PM(e,l)||l;Kh(e[r])&&Kh(i)?e[r]=_y(e[r],i):Kh(i)?e[r]=_y({},i):qo(i)?e[r]=i.slice():e[r]=i};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&Fd(arguments[i],n);return e}const KU=(t,e,n,{allOwnKeys:i}={})=>(Fd(e,(l,r)=>{n&&Vn(l)?t[r]=EM(l,n):t[r]=l},{allOwnKeys:i}),t),UU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),PU=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},FU=(t,e,n,i)=>{let l,r,a;const s={};if(e=e||{},t==null)return e;do{for(l=Object.getOwnPropertyNames(t),r=l.length;r-- >0;)a=l[r],(!i||i(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=n!==!1&&dg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},jU=t=>{if(!t)return null;if(qo(t))return t;let e=t.length;if(!UM(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},HU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dg(Uint8Array)),DU=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let l;for(;(l=i.next())&&!l.done;){const r=l.value;e.call(t,r[0],r[1])}},OU=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},BU=Vi("HTMLFormElement"),QU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,l){return i.toUpperCase()+l}),nT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AU=Vi("RegExp"),zM=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Fd(n,(l,r)=>{let a;(a=e(l,r,t))!==!1&&(i[r]=a||l)}),Object.defineProperties(t,i)},_U=t=>{zM(t,(e,n)=>{if(Vn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Vn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$U=(t,e)=>{const n={},i=l=>{l.forEach(r=>{n[r]=!0})};return qo(t)?i(t):i(String(t).split(e)),n},qU=()=>{},eP=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,U0="abcdefghijklmnopqrstuvwxyz",iT="0123456789",jM={DIGIT:iT,ALPHA:U0,ALPHA_DIGIT:U0+U0.toUpperCase()+iT},tP=(t=16,e=jM.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function nP(t){return!!(t&&Vn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const iP=t=>{const e=new Array(10),n=(i,l)=>{if(nZ(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[l]=i;const r=qo(i)?[]:{};return Fd(i,(a,s)=>{const o=n(a,l+1);!$u(o)&&(r[s]=o)}),e[l]=void 0,r}}return i};return n(t,0)},lP=Vi("AsyncFunction"),rP=t=>t&&(nZ(t)||Vn(t))&&Vn(t.then)&&Vn(t.catch),HM=((t,e)=>t?setImmediate:e?((n,i)=>(Ga.addEventListener("message",({source:l,data:r})=>{l===Ga&&r===n&&i.length&&i.shift()()},!1),l=>{i.push(l),Ga.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vn(Ga.postMessage)),aP=typeof queueMicrotask<"u"?queueMicrotask.bind(Ga):typeof He<"u"&&He.nextTick||HM,F={isArray:qo,isArrayBuffer:KM,isBuffer:VU,isFormData:vU,isArrayBufferView:TU,isString:xU,isNumber:UM,isBoolean:RU,isObject:nZ,isPlainObject:Kh,isReadableStream:wU,isRequest:JU,isResponse:CU,isHeaders:kU,isUndefined:$u,isDate:SU,isFile:YU,isBlob:LU,isRegExp:AU,isFunction:Vn,isStream:NU,isURLSearchParams:IU,isTypedArray:HU,isFileList:MU,forEach:Fd,merge:_y,extend:KU,trim:EU,stripBOM:UU,inherits:PU,toFlatObject:FU,kindOf:eZ,kindOfTest:Vi,endsWith:zU,toArray:jU,forEachEntry:DU,matchAll:OU,isHTMLForm:BU,hasOwnProperty:nT,hasOwnProp:nT,reduceDescriptors:zM,freezeMethods:_U,toObjectSet:$U,toCamelCase:QU,noop:qU,toFiniteNumber:eP,findKey:PM,global:Ga,isContextDefined:FM,ALPHABET:jM,generateString:tP,isSpecCompliantForm:nP,toJSONObject:iP,isAsyncFn:lP,isThenable:rP,setImmediate:HM,asap:aP};function Ve(t,e,n,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),l&&(this.response=l,this.status=l.status?l.status:null)}F.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const DM=Ve.prototype,OM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{OM[t]={value:t}});Object.defineProperties(Ve,OM);Object.defineProperty(DM,"isAxiosError",{value:!0});Ve.from=(t,e,n,i,l,r)=>{const a=Object.create(DM);return F.toFlatObject(t,a,function(o){return o!==Error.prototype},s=>s!=="isAxiosError"),Ve.call(a,t.message,e,n,i,l),a.cause=t,a.name=t.name,r&&Object.assign(a,r),a};const sP=null;function $y(t){return F.isPlainObject(t)||F.isArray(t)}function BM(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function lT(t,e,n){return t?t.concat(e).map(function(l,r){return l=BM(l),!n&&r?"["+l+"]":l}).join(n?".":""):e}function oP(t){return F.isArray(t)&&!t.some($y)}const cP=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function iZ(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Z,p){return!F.isUndefined(p[Z])});const i=n.metaTokens,l=n.visitor||u,r=n.dots,a=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(l))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(F.isDate(b))return b.toISOString();if(!o&&F.isBlob(b))throw new Ve("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(b)||F.isTypedArray(b)?o&&typeof Blob=="function"?new Blob([b]):IM.Buffer.from(b):b}function u(b,Z,p){let f=b;if(b&&!p&&typeof b=="object"){if(F.endsWith(Z,"{}"))Z=i?Z:Z.slice(0,-2),b=JSON.stringify(b);else if(F.isArray(b)&&oP(b)||(F.isFileList(b)||F.endsWith(Z,"[]"))&&(f=F.toArray(b)))return Z=BM(Z),f.forEach(function(V,X){!(F.isUndefined(V)||V===null)&&e.append(a===!0?lT([Z],X,r):a===null?Z:Z+"[]",c(V))}),!1}return $y(b)?!0:(e.append(lT(p,Z,r),c(b)),!1)}const d=[],m=Object.assign(cP,{defaultVisitor:u,convertValue:c,isVisitable:$y});function h(b,Z){if(!F.isUndefined(b)){if(d.indexOf(b)!==-1)throw Error("Circular reference detected in "+Z.join("."));d.push(b),F.forEach(b,function(f,G){(!(F.isUndefined(f)||f===null)&&l.call(e,f,F.isString(G)?G.trim():G,Z,m))===!0&&h(f,Z?Z.concat(G):[G])}),d.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return h(t),e}function rT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function mg(t,e){this._pairs=[],t&&iZ(t,this,e)}const QM=mg.prototype;QM.append=function(e,n){this._pairs.push([e,n])};QM.toString=function(e){const n=e?function(i){return e.call(this,i,rT)}:rT;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function uP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AM(t,e,n){if(!e)return t;const i=n&&n.encode||uP;F.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let r;if(l?r=l(e,n):r=F.isURLSearchParams(e)?e.toString():new mg(e,n).toString(i),r){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class dP{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(i){i!==null&&e(i)})}}const aT=dP,_M={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mP=typeof URLSearchParams<"u"?URLSearchParams:mg,hP=typeof FormData<"u"?FormData:null,bP=typeof Blob<"u"?Blob:null,pP={isBrowser:!0,classes:{URLSearchParams:mP,FormData:hP,Blob:bP},protocols:["http","https","file","blob","url","data"]},hg=typeof window<"u"&&typeof document<"u",qy=typeof navigator=="object"&&navigator||void 0,ZP=hg&&(!qy||["ReactNative","NativeScript","NS"].indexOf(qy.product)<0),fP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),yP=hg&&window.location.href||"http://localhost",GP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hg,hasStandardBrowserEnv:ZP,hasStandardBrowserWebWorkerEnv:fP,navigator:qy,origin:yP},Symbol.toStringTag,{value:"Module"})),Ct={...GP,...pP};function XP(t,e){return iZ(t,new Ct.classes.URLSearchParams,Object.assign({visitor:function(n,i,l,r){return Ct.isNode&&F.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function gP(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function WP(t){const e={},n=Object.keys(t);let i;const l=n.length;let r;for(i=0;i<l;i++)r=n[i],e[r]=t[r];return e}function $M(t){function e(n,i,l,r){let a=n[r++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),o=r>=n.length;return a=!a&&F.isArray(l)?l.length:a,o?(F.hasOwnProp(l,a)?l[a]=[l[a],i]:l[a]=i,!s):((!l[a]||!F.isObject(l[a]))&&(l[a]=[]),e(n,i,l[a],r)&&F.isArray(l[a])&&(l[a]=WP(l[a])),!s)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(i,l)=>{e(gP(i),l,n,0)}),n}return null}function VP(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const bg={transitional:_M,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",l=i.indexOf("application/json")>-1,r=F.isObject(e);if(r&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return l?JSON.stringify($M(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return XP(e,this.formSerializer).toString();if((s=F.isFileList(e))||i.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return iZ(s?{"files[]":e}:e,o&&new o,this.formSerializer)}}return r||l?(n.setContentType("application/json",!1),VP(e)):e}],transformResponse:[function(e){const n=this.transitional||bg.transitional,i=n&&n.forcedJSONParsing,l=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(i&&!this.responseType||l)){const a=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(s){if(a)throw s.name==="SyntaxError"?Ve.from(s,Ve.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{bg.headers[t]={}});const pg=bg,TP=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xP=t=>{const e={};let n,i,l;return t&&t.split(`
`).forEach(function(a){l=a.indexOf(":"),n=a.substring(0,l).trim().toLowerCase(),i=a.substring(l+1).trim(),!(!n||e[n]&&TP[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},sT=Symbol("internals");function Cc(t){return t&&String(t).trim().toLowerCase()}function Uh(t){return t===!1||t==null?t:F.isArray(t)?t.map(Uh):String(t)}function RP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const SP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function P0(t,e,n,i,l){if(F.isFunction(i))return i.call(this,e,n);if(l&&(e=n),!!F.isString(e)){if(F.isString(i))return e.indexOf(i)!==-1;if(F.isRegExp(i))return i.test(e)}}function YP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function LP(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(l,r,a){return this[i].call(this,e,l,r,a)},configurable:!0})})}class lZ{constructor(e){e&&this.set(e)}set(e,n,i){const l=this;function r(s,o,c){const u=Cc(o);if(!u)throw new Error("header name must be a non-empty string");const d=F.findKey(l,u);(!d||l[d]===void 0||c===!0||c===void 0&&l[d]!==!1)&&(l[d||o]=Uh(s))}const a=(s,o)=>F.forEach(s,(c,u)=>r(c,u,o));if(F.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(F.isString(e)&&(e=e.trim())&&!SP(e))a(xP(e),n);else if(F.isHeaders(e))for(const[s,o]of e.entries())r(o,s,i);else e!=null&&r(n,e,i);return this}get(e,n){if(e=Cc(e),e){const i=F.findKey(this,e);if(i){const l=this[i];if(!n)return l;if(n===!0)return RP(l);if(F.isFunction(n))return n.call(this,l,i);if(F.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Cc(e),e){const i=F.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||P0(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let l=!1;function r(a){if(a=Cc(a),a){const s=F.findKey(i,a);s&&(!n||P0(i,i[s],s,n))&&(delete i[s],l=!0)}}return F.isArray(e)?e.forEach(r):r(e),l}clear(e){const n=Object.keys(this);let i=n.length,l=!1;for(;i--;){const r=n[i];(!e||P0(this,this[r],r,e,!0))&&(delete this[r],l=!0)}return l}normalize(e){const n=this,i={};return F.forEach(this,(l,r)=>{const a=F.findKey(i,r);if(a){n[a]=Uh(l),delete n[r];return}const s=e?YP(r):String(r).trim();s!==r&&delete n[r],n[s]=Uh(l),i[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(i,l)=>{i!=null&&i!==!1&&(n[l]=e&&F.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(l=>i.set(l)),i}static accessor(e){const i=(this[sT]=this[sT]={accessors:{}}).accessors,l=this.prototype;function r(a){const s=Cc(a);i[s]||(LP(l,a),i[s]=!0)}return F.isArray(e)?e.forEach(r):r(e),this}}lZ.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(lZ.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});F.freezeMethods(lZ);const bi=lZ;function F0(t,e){const n=this||pg,i=e||n,l=bi.from(i.headers);let r=i.data;return F.forEach(t,function(s){r=s.call(n,r,l.normalize(),e?e.status:void 0)}),l.normalize(),r}function qM(t){return!!(t&&t.__CANCEL__)}function ec(t,e,n){Ve.call(this,t??"canceled",Ve.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(ec,Ve,{__CANCEL__:!0});function eN(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Ve("Request failed with status code "+n.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function MP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function NP(t,e){t=t||10;const n=new Array(t),i=new Array(t);let l=0,r=0,a;return e=e!==void 0?e:1e3,function(o){const c=Date.now(),u=i[r];a||(a=c),n[l]=o,i[l]=c;let d=r,m=0;for(;d!==l;)m+=n[d++],d=d%t;if(l=(l+1)%t,l===r&&(r=(r+1)%t),c-a<e)return;const h=u&&c-u;return h?Math.round(m*1e3/h):void 0}}function vP(t,e){let n=0,i=1e3/e,l,r;const a=(c,u=Date.now())=>{n=u,l=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=i?a(c,u):(l=c,r||(r=setTimeout(()=>{r=null,a(l)},i-d)))},()=>l&&a(l)]}const Vb=(t,e,n=3)=>{let i=0;const l=NP(50,250);return vP(r=>{const a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-i,c=l(o),u=a<=s;i=a;const d={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:c||void 0,estimated:c&&s&&u?(s-a)/c:void 0,event:r,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(d)},n)},oT=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},cT=t=>(...e)=>F.asap(()=>t(...e)),IP=Ct.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ct.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ct.origin),Ct.navigator&&/(msie|trident)/i.test(Ct.navigator.userAgent)):()=>!0,wP=Ct.hasStandardBrowserEnv?{write(t,e,n,i,l,r){const a=[t+"="+encodeURIComponent(e)];F.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),F.isString(i)&&a.push("path="+i),F.isString(l)&&a.push("domain="+l),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CP(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function tN(t,e){return t&&!JP(e)?CP(t,e):e}const uT=t=>t instanceof bi?{...t}:t;function Ea(t,e){e=e||{};const n={};function i(c,u,d,m){return F.isPlainObject(c)&&F.isPlainObject(u)?F.merge.call({caseless:m},c,u):F.isPlainObject(u)?F.merge({},u):F.isArray(u)?u.slice():u}function l(c,u,d,m){if(F.isUndefined(u)){if(!F.isUndefined(c))return i(void 0,c,d,m)}else return i(c,u,d,m)}function r(c,u){if(!F.isUndefined(u))return i(void 0,u)}function a(c,u){if(F.isUndefined(u)){if(!F.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function s(c,u,d){if(d in e)return i(c,u);if(d in t)return i(void 0,c)}const o={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u,d)=>l(uT(c),uT(u),d,!0)};return F.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=o[u]||l,m=d(t[u],e[u],u);F.isUndefined(m)&&d!==s||(n[u]=m)}),n}const nN=t=>{const e=Ea({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:r,headers:a,auth:s}=e;e.headers=a=bi.from(a),e.url=AM(tN(e.baseURL,e.url),t.params,t.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let o;if(F.isFormData(n)){if(Ct.hasStandardBrowserEnv||Ct.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((o=a.getContentType())!==!1){const[c,...u]=o?o.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Ct.hasStandardBrowserEnv&&(i&&F.isFunction(i)&&(i=i(e)),i||i!==!1&&IP(e.url))){const c=l&&r&&wP.read(r);c&&a.set(l,c)}return e},kP=typeof XMLHttpRequest<"u",EP=kP&&function(t){return new Promise(function(n,i){const l=nN(t);let r=l.data;const a=bi.from(l.headers).normalize();let{responseType:s,onUploadProgress:o,onDownloadProgress:c}=l,u,d,m,h,b;function Z(){h&&h(),b&&b(),l.cancelToken&&l.cancelToken.unsubscribe(u),l.signal&&l.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(l.method.toUpperCase(),l.url,!0),p.timeout=l.timeout;function f(){if(!p)return;const V=bi.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),L={data:!s||s==="text"||s==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:V,config:t,request:p};eN(function(v){n(v),Z()},function(v){i(v),Z()},L),p=null}"onloadend"in p?p.onloadend=f:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(f)},p.onabort=function(){p&&(i(new Ve("Request aborted",Ve.ECONNABORTED,t,p)),p=null)},p.onerror=function(){i(new Ve("Network Error",Ve.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let X=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const L=l.transitional||_M;l.timeoutErrorMessage&&(X=l.timeoutErrorMessage),i(new Ve(X,L.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,t,p)),p=null},r===void 0&&a.setContentType(null),"setRequestHeader"in p&&F.forEach(a.toJSON(),function(X,L){p.setRequestHeader(L,X)}),F.isUndefined(l.withCredentials)||(p.withCredentials=!!l.withCredentials),s&&s!=="json"&&(p.responseType=l.responseType),c&&([m,b]=Vb(c,!0),p.addEventListener("progress",m)),o&&p.upload&&([d,h]=Vb(o),p.upload.addEventListener("progress",d),p.upload.addEventListener("loadend",h)),(l.cancelToken||l.signal)&&(u=V=>{p&&(i(!V||V.type?new ec(null,t,p):V),p.abort(),p=null)},l.cancelToken&&l.cancelToken.subscribe(u),l.signal&&(l.signal.aborted?u():l.signal.addEventListener("abort",u)));const G=MP(l.url);if(G&&Ct.protocols.indexOf(G)===-1){i(new Ve("Unsupported protocol "+G+":",Ve.ERR_BAD_REQUEST,t));return}p.send(r||null)})},KP=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,l;const r=function(c){if(!l){l=!0,s();const u=c instanceof Error?c:this.reason;i.abort(u instanceof Ve?u:new ec(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,r(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const s=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:o}=i;return o.unsubscribe=()=>F.asap(s),o}},UP=KP,PP=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,l;for(;i<n;)l=i+e,yield t.slice(i,l),i=l},FP=async function*(t,e){for await(const n of zP(t))yield*PP(n,e)},zP=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},dT=(t,e,n,i)=>{const l=FP(t,e);let r=0,a,s=o=>{a||(a=!0,i&&i(o))};return new ReadableStream({async pull(o){try{const{done:c,value:u}=await l.next();if(c){s(),o.close();return}let d=u.byteLength;if(n){let m=r+=d;n(m)}o.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(o){return s(o),l.return()}},{highWaterMark:2})},rZ=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iN=rZ&&typeof ReadableStream=="function",jP=rZ&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),lN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},HP=iN&&lN(()=>{let t=!1;const e=new Request(Ct.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),mT=64*1024,eG=iN&&lN(()=>F.isReadableStream(new Response("").body)),Tb={stream:eG&&(t=>t.body)};rZ&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Tb[e]&&(Tb[e]=F.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,i)})})})(new Response);const DP=async t=>{if(t==null)return 0;if(F.isBlob(t))return t.size;if(F.isSpecCompliantForm(t))return(await new Request(Ct.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(F.isArrayBufferView(t)||F.isArrayBuffer(t))return t.byteLength;if(F.isURLSearchParams(t)&&(t=t+""),F.isString(t))return(await jP(t)).byteLength},OP=async(t,e)=>{const n=F.toFiniteNumber(t.getContentLength());return n??DP(e)},BP=rZ&&(async t=>{let{url:e,method:n,data:i,signal:l,cancelToken:r,timeout:a,onDownloadProgress:s,onUploadProgress:o,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:m}=nN(t);c=c?(c+"").toLowerCase():"text";let h=UP([l,r&&r.toAbortSignal()],a),b;const Z=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(o&&HP&&n!=="get"&&n!=="head"&&(p=await OP(u,i))!==0){let L=new Request(e,{method:"POST",body:i,duplex:"half"}),x;if(F.isFormData(i)&&(x=L.headers.get("content-type"))&&u.setContentType(x),L.body){const[v,C]=oT(p,Vb(cT(o)));i=dT(L.body,mT,v,C)}}F.isString(d)||(d=d?"include":"omit");const f="credentials"in Request.prototype;b=new Request(e,{...m,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:f?d:void 0});let G=await fetch(b);const V=eG&&(c==="stream"||c==="response");if(eG&&(s||V&&Z)){const L={};["status","statusText","headers"].forEach(w=>{L[w]=G[w]});const x=F.toFiniteNumber(G.headers.get("content-length")),[v,C]=s&&oT(x,Vb(cT(s),!0))||[];G=new Response(dT(G.body,mT,v,()=>{C&&C(),Z&&Z()}),L)}c=c||"text";let X=await Tb[F.findKey(Tb,c)||"text"](G,t);return!V&&Z&&Z(),await new Promise((L,x)=>{eN(L,x,{data:X,headers:bi.from(G.headers),status:G.status,statusText:G.statusText,config:t,request:b})})}catch(f){throw Z&&Z(),f&&f.name==="TypeError"&&/fetch/i.test(f.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,t,b),{cause:f.cause||f}):Ve.from(f,f&&f.code,t,b)}}),tG={http:sP,xhr:EP,fetch:BP};F.forEach(tG,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hT=t=>`- ${t}`,QP=t=>F.isFunction(t)||t===null||t===!1,rN={getAdapter:t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,i;const l={};for(let r=0;r<e;r++){n=t[r];let a;if(i=n,!QP(n)&&(i=tG[(a=String(n)).toLowerCase()],i===void 0))throw new Ve(`Unknown adapter '${a}'`);if(i)break;l[a||"#"+r]=i}if(!i){const r=Object.entries(l).map(([s,o])=>`adapter ${s} `+(o===!1?"is not supported by the environment":"is not available in the build"));let a=e?r.length>1?`since :
`+r.map(hT).join(`
`):" "+hT(r[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:tG};function z0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ec(null,t)}function bT(t){return z0(t),t.headers=bi.from(t.headers),t.data=F0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rN.getAdapter(t.adapter||pg.adapter)(t).then(function(i){return z0(t),i.data=F0.call(t,t.transformResponse,i),i.headers=bi.from(i.headers),i},function(i){return qM(i)||(z0(t),i&&i.response&&(i.response.data=F0.call(t,t.transformResponse,i.response),i.response.headers=bi.from(i.response.headers))),Promise.reject(i)})}const aN="1.7.9",aZ={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{aZ[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const pT={};aZ.transitional=function(e,n,i){function l(r,a){return"[Axios v"+aN+"] Transitional option '"+r+"'"+a+(i?". "+i:"")}return(r,a,s)=>{if(e===!1)throw new Ve(l(a," has been removed"+(n?" in "+n:"")),Ve.ERR_DEPRECATED);return n&&!pT[a]&&(pT[a]=!0,console.warn(l(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,a,s):!0}};aZ.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function AP(t,e,n){if(typeof t!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let l=i.length;for(;l-- >0;){const r=i[l],a=e[r];if(a){const s=t[r],o=s===void 0||a(s,r,t);if(o!==!0)throw new Ve("option "+r+" must be "+o,Ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ve("Unknown option "+r,Ve.ERR_BAD_OPTION)}}const Ph={assertOptions:AP,validators:aZ},Ii=Ph.validators;class xb{constructor(e){this.defaults=e,this.interceptors={request:new aT,response:new aT}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const r=l.stack?l.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ea(this.defaults,n);const{transitional:i,paramsSerializer:l,headers:r}=n;i!==void 0&&Ph.assertOptions(i,{silentJSONParsing:Ii.transitional(Ii.boolean),forcedJSONParsing:Ii.transitional(Ii.boolean),clarifyTimeoutError:Ii.transitional(Ii.boolean)},!1),l!=null&&(F.isFunction(l)?n.paramsSerializer={serialize:l}:Ph.assertOptions(l,{encode:Ii.function,serialize:Ii.function},!0)),Ph.assertOptions(n,{baseUrl:Ii.spelling("baseURL"),withXsrfToken:Ii.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=r&&F.merge(r.common,r[n.method]);r&&F.forEach(["delete","get","head","post","put","patch","common"],b=>{delete r[b]}),n.headers=bi.concat(a,r);const s=[];let o=!0;this.interceptors.request.forEach(function(Z){typeof Z.runWhen=="function"&&Z.runWhen(n)===!1||(o=o&&Z.synchronous,s.unshift(Z.fulfilled,Z.rejected))});const c=[];this.interceptors.response.forEach(function(Z){c.push(Z.fulfilled,Z.rejected)});let u,d=0,m;if(!o){const b=[bT.bind(this),void 0];for(b.unshift.apply(b,s),b.push.apply(b,c),m=b.length,u=Promise.resolve(n);d<m;)u=u.then(b[d++],b[d++]);return u}m=s.length;let h=n;for(d=0;d<m;){const b=s[d++],Z=s[d++];try{h=b(h)}catch(p){Z.call(this,p);break}}try{u=bT.call(this,h)}catch(b){return Promise.reject(b)}for(d=0,m=c.length;d<m;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Ea(this.defaults,e);const n=tN(e.baseURL,e.url);return AM(n,e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){xb.prototype[e]=function(n,i){return this.request(Ea(i||{},{method:e,url:n,data:(i||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(i){return function(r,a,s){return this.request(Ea(s||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}xb.prototype[e]=n(),xb.prototype[e+"Form"]=n(!0)});const Fh=xb;class Zg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(l=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](l);i._listeners=null}),this.promise.then=l=>{let r;const a=new Promise(s=>{i.subscribe(s),r=s}).then(l);return a.cancel=function(){i.unsubscribe(r)},a},e(function(r,a,s){i.reason||(i.reason=new ec(r,a,s),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Zg(function(l){e=l}),cancel:e}}}const _P=Zg;function $P(t){return function(n){return t.apply(null,n)}}function qP(t){return F.isObject(t)&&t.isAxiosError===!0}const nG={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nG).forEach(([t,e])=>{nG[e]=t});const eF=nG;function sN(t){const e=new Fh(t),n=EM(Fh.prototype.request,e);return F.extend(n,Fh.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(l){return sN(Ea(t,l))},n}const ft=sN(pg);ft.Axios=Fh;ft.CanceledError=ec;ft.CancelToken=_P;ft.isCancel=qM;ft.VERSION=aN;ft.toFormData=iZ;ft.AxiosError=Ve;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=$P;ft.isAxiosError=qP;ft.mergeConfig=Ea;ft.AxiosHeaders=bi;ft.formToJSON=t=>$M(F.isHTMLForm(t)?new FormData(t):t);ft.getAdapter=rN.getAdapter;ft.HttpStatusCode=eF;ft.default=ft;const j0=ft;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function tF(t,e,n){return(e=iF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(i){tF(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function nF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iF(t){var e=nF(t,"string");return typeof e=="symbol"?e:e+""}const fT=()=>{};let fg={},oN={},cN=null,uN={mark:fT,measure:fT};try{typeof window<"u"&&(fg=window),typeof document<"u"&&(oN=document),typeof MutationObserver<"u"&&(cN=MutationObserver),typeof performance<"u"&&(uN=performance)}catch{}const{userAgent:yT=""}=fg.navigator||{},Nr=fg,lt=oN,GT=cN,Pm=uN;Nr.document;const Fl=!!lt.documentElement&&!!lt.head&&typeof lt.addEventListener=="function"&&typeof lt.createElement=="function",dN=~yT.indexOf("MSIE")||~yT.indexOf("Trident/");var lF=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,rF=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,mN={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},aF={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},hN=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Pt="classic",sZ="duotone",sF="sharp",oF="sharp-duotone",bN=[Pt,sZ,sF,oF],cF={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},uF={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},dF=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),mF={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},hF=["fak","fa-kit","fakd","fa-kit-duotone"],XT={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},bF=["kit"],pF={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},ZF=["fak","fakd"],fF={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},gT={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Fm={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yF=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],GF=["fak","fa-kit","fakd","fa-kit-duotone"],XF={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},gF={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},WF={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},iG={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},VF=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],lG=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...yF,...VF],TF=["solid","regular","light","thin","duotone","brands"],pN=[1,2,3,4,5,6,7,8,9,10],xF=pN.concat([11,12,13,14,15,16,17,18,19,20]),RF=[...Object.keys(WF),...TF,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Fm.GROUP,Fm.SWAP_OPACITY,Fm.PRIMARY,Fm.SECONDARY].concat(pN.map(t=>"".concat(t,"x"))).concat(xF.map(t=>"w-".concat(t))),SF={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Ll="___FONT_AWESOME___",rG=16,ZN="fa",fN="svg-inline--fa",Ka="data-fa-i2svg",aG="data-fa-pseudo-element",YF="data-fa-pseudo-element-pending",yg="data-prefix",Gg="data-icon",WT="fontawesome-i2svg",LF="async",MF=["HTML","HEAD","STYLE","SCRIPT"],yN=(()=>{try{return!0}catch{return!1}})();function zd(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Pt]}})}const GN=te({},mN);GN[Pt]=te(te(te(te({},{"fa-duotone":"duotone"}),mN[Pt]),XT.kit),XT["kit-duotone"]);const NF=zd(GN),sG=te({},mF);sG[Pt]=te(te(te(te({},{duotone:"fad"}),sG[Pt]),gT.kit),gT["kit-duotone"]);const VT=zd(sG),oG=te({},iG);oG[Pt]=te(te({},oG[Pt]),fF.kit);const Xg=zd(oG),cG=te({},gF);cG[Pt]=te(te({},cG[Pt]),pF.kit);zd(cG);const vF=lF,XN="fa-layers-text",IF=rF,wF=te({},cF);zd(wF);const JF=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],H0=aF,CF=[...bF,...RF],Tu=Nr.FontAwesomeConfig||{};function kF(t){var e=lt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function EF(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}lt&&typeof lt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,i]=e;const l=EF(kF(n));l!=null&&(Tu[i]=l)});const gN={styleDefault:"solid",familyDefault:Pt,cssPrefix:ZN,replacementClass:fN,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Tu.familyPrefix&&(Tu.cssPrefix=Tu.familyPrefix);const Mo=te(te({},gN),Tu);Mo.autoReplaceSvg||(Mo.observeMutations=!1);const pe={};Object.keys(gN).forEach(t=>{Object.defineProperty(pe,t,{enumerable:!0,set:function(e){Mo[t]=e,xu.forEach(n=>n(pe))},get:function(){return Mo[t]}})});Object.defineProperty(pe,"familyPrefix",{enumerable:!0,set:function(t){Mo.cssPrefix=t,xu.forEach(e=>e(pe))},get:function(){return Mo.cssPrefix}});Nr.FontAwesomeConfig=pe;const xu=[];function KF(t){return xu.push(t),()=>{xu.splice(xu.indexOf(t),1)}}const _l=rG,zi={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function UF(t){if(!t||!Fl)return;const e=lt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=lt.head.childNodes;let i=null;for(let l=n.length-1;l>-1;l--){const r=n[l],a=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=r)}return lt.head.insertBefore(e,i),t}const PF="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function qu(){let t=12,e="";for(;t-- >0;)e+=PF[Math.random()*62|0];return e}function tc(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function gg(t){return t.classList?tc(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function WN(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function FF(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(WN(t[n]),'" '),"").trim()}function oZ(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function Wg(t){return t.size!==zi.size||t.x!==zi.x||t.y!==zi.y||t.rotate!==zi.rotate||t.flipX||t.flipY}function zF(t){let{transform:e,containerWidth:n,iconWidth:i}=t;const l={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)"),o={transform:"".concat(r," ").concat(a," ").concat(s)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:l,inner:o,path:c}}function jF(t){let{transform:e,width:n=rG,height:i=rG,startCentered:l=!1}=t,r="";return l&&dN?r+="translate(".concat(e.x/_l-n/2,"em, ").concat(e.y/_l-i/2,"em) "):l?r+="translate(calc(-50% + ".concat(e.x/_l,"em), calc(-50% + ").concat(e.y/_l,"em)) "):r+="translate(".concat(e.x/_l,"em, ").concat(e.y/_l,"em) "),r+="scale(".concat(e.size/_l*(e.flipX?-1:1),", ").concat(e.size/_l*(e.flipY?-1:1),") "),r+="rotate(".concat(e.rotate,"deg) "),r}var HF=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function VN(){const t=ZN,e=fN,n=pe.cssPrefix,i=pe.replacementClass;let l=HF;if(n!==t||i!==e){const r=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");l=l.replace(r,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(i))}return l}let TT=!1;function D0(){pe.autoAddCss&&!TT&&(UF(VN()),TT=!0)}var DF={mixout(){return{dom:{css:VN,insertCss:D0}}},hooks(){return{beforeDOMElementCreation(){D0()},beforeI2svg(){D0()}}}};const Ml=Nr||{};Ml[Ll]||(Ml[Ll]={});Ml[Ll].styles||(Ml[Ll].styles={});Ml[Ll].hooks||(Ml[Ll].hooks={});Ml[Ll].shims||(Ml[Ll].shims=[]);var ji=Ml[Ll];const TN=[],xN=function(){lt.removeEventListener("DOMContentLoaded",xN),Rb=1,TN.map(t=>t())};let Rb=!1;Fl&&(Rb=(lt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(lt.readyState),Rb||lt.addEventListener("DOMContentLoaded",xN));function OF(t){Fl&&(Rb?setTimeout(t,0):TN.push(t))}function jd(t){const{tag:e,attributes:n={},children:i=[]}=t;return typeof t=="string"?WN(t):"<".concat(e," ").concat(FF(n),">").concat(i.map(jd).join(""),"</").concat(e,">")}function xT(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var BF=function(e,n){return function(i,l,r,a){return e.call(n,i,l,r,a)}},O0=function(e,n,i,l){var r=Object.keys(e),a=r.length,s=l!==void 0?BF(n,l):n,o,c,u;for(i===void 0?(o=1,u=e[r[0]]):(o=0,u=i);o<a;o++)c=r[o],u=s(u,e[c],c,e);return u};function QF(t){const e=[];let n=0;const i=t.length;for(;n<i;){const l=t.charCodeAt(n++);if(l>=55296&&l<=56319&&n<i){const r=t.charCodeAt(n++);(r&64512)==56320?e.push(((l&1023)<<10)+(r&1023)+65536):(e.push(l),n--)}else e.push(l)}return e}function uG(t){const e=QF(t);return e.length===1?e[0].toString(16):null}function AF(t,e){const n=t.length;let i=t.charCodeAt(e),l;return i>=55296&&i<=56319&&n>e+1&&(l=t.charCodeAt(e+1),l>=56320&&l<=57343)?(i-55296)*1024+l-56320+65536:i}function RT(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return!!i.icon?e[i.iconName]=i.icon:e[n]=i,e},{})}function dG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=n,l=RT(e);typeof ji.hooks.addPack=="function"&&!i?ji.hooks.addPack(t,RT(e)):ji.styles[t]=te(te({},ji.styles[t]||{}),l),t==="fas"&&dG("fa",e)}const{styles:ed,shims:_F}=ji,RN=Object.keys(Xg),$F=RN.reduce((t,e)=>(t[e]=Object.keys(Xg[e]),t),{});let Vg=null,SN={},YN={},LN={},MN={},NN={};function qF(t){return~CF.indexOf(t)}function ez(t,e){const n=e.split("-"),i=n[0],l=n.slice(1).join("-");return i===t&&l!==""&&!qF(l)?l:null}const vN=()=>{const t=i=>O0(ed,(l,r,a)=>(l[a]=O0(r,i,{}),l),{});SN=t((i,l,r)=>(l[3]&&(i[l[3]]=r),l[2]&&l[2].filter(s=>typeof s=="number").forEach(s=>{i[s.toString(16)]=r}),i)),YN=t((i,l,r)=>(i[r]=r,l[2]&&l[2].filter(s=>typeof s=="string").forEach(s=>{i[s]=r}),i)),NN=t((i,l,r)=>{const a=l[2];return i[r]=r,a.forEach(s=>{i[s]=r}),i});const e="far"in ed||pe.autoFetchSvg,n=O0(_F,(i,l)=>{const r=l[0];let a=l[1];const s=l[2];return a==="far"&&!e&&(a="fas"),typeof r=="string"&&(i.names[r]={prefix:a,iconName:s}),typeof r=="number"&&(i.unicodes[r.toString(16)]={prefix:a,iconName:s}),i},{names:{},unicodes:{}});LN=n.names,MN=n.unicodes,Vg=cZ(pe.styleDefault,{family:pe.familyDefault})};KF(t=>{Vg=cZ(t.styleDefault,{family:pe.familyDefault})});vN();function Tg(t,e){return(SN[t]||{})[e]}function tz(t,e){return(YN[t]||{})[e]}function Xa(t,e){return(NN[t]||{})[e]}function IN(t){return LN[t]||{prefix:null,iconName:null}}function nz(t){const e=MN[t],n=Tg("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function vr(){return Vg}const wN=()=>({prefix:null,iconName:null,rest:[]});function iz(t){let e=Pt;const n=RN.reduce((i,l)=>(i[l]="".concat(pe.cssPrefix,"-").concat(l),i),{});return bN.forEach(i=>{(t.includes(n[i])||t.some(l=>$F[i].includes(l)))&&(e=i)}),e}function cZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Pt}=e,i=NF[n][t];if(n===sZ&&!t)return"fad";const l=VT[n][t]||VT[n][i],r=t in ji.styles?t:null;return l||r||null}function lz(t){let e=[],n=null;return t.forEach(i=>{const l=ez(pe.cssPrefix,i);l?n=l:i&&e.push(i)}),{iconName:n,rest:e}}function ST(t){return t.sort().filter((e,n,i)=>i.indexOf(e)===n)}function uZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e;let i=null;const l=lG.concat(GF),r=ST(t.filter(d=>l.includes(d))),a=ST(t.filter(d=>!lG.includes(d))),s=r.filter(d=>(i=d,!hN.includes(d))),[o=null]=s,c=iz(r),u=te(te({},lz(a)),{},{prefix:cZ(o,{family:c})});return te(te(te({},u),oz({values:t,family:c,styles:ed,config:pe,canonical:u,givenPrefix:i})),rz(n,i,u))}function rz(t,e,n){let{prefix:i,iconName:l}=n;if(t||!i||!l)return{prefix:i,iconName:l};const r=e==="fa"?IN(l):{},a=Xa(i,l);return l=r.iconName||a||l,i=r.prefix||i,i==="far"&&!ed.far&&ed.fas&&!pe.autoFetchSvg&&(i="fas"),{prefix:i,iconName:l}}const az=bN.filter(t=>t!==Pt||t!==sZ),sz=Object.keys(iG).filter(t=>t!==Pt).map(t=>Object.keys(iG[t])).flat();function oz(t){const{values:e,family:n,canonical:i,givenPrefix:l="",styles:r={},config:a={}}=t,s=n===sZ,o=e.includes("fa-duotone")||e.includes("fad"),c=a.familyDefault==="duotone",u=i.prefix==="fad"||i.prefix==="fa-duotone";if(!s&&(o||c||u)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&az.includes(n)&&(Object.keys(r).find(m=>sz.includes(m))||a.autoFetchSvg)){const m=dF.get(n).defaultShortPrefixId;i.prefix=m,i.iconName=Xa(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||l==="fa")&&(i.prefix=vr()||"fas"),i}class cz{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const l=n.reduce(this._pullDefinitions,{});Object.keys(l).forEach(r=>{this.definitions[r]=te(te({},this.definitions[r]||{}),l[r]),dG(r,l[r]);const a=Xg[Pt][r];a&&dG(a,l[r]),vN()})}reset(){this.definitions={}}_pullDefinitions(e,n){const i=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(i).map(l=>{const{prefix:r,iconName:a,icon:s}=i[l],o=s[2];e[r]||(e[r]={}),o.length>0&&o.forEach(c=>{typeof c=="string"&&(e[r][c]=s)}),e[r][a]=s}),e}}let YT=[],eo={};const fo={},uz=Object.keys(fo);function dz(t,e){let{mixoutsTo:n}=e;return YT=t,eo={},Object.keys(fo).forEach(i=>{uz.indexOf(i)===-1&&delete fo[i]}),YT.forEach(i=>{const l=i.mixout?i.mixout():{};if(Object.keys(l).forEach(r=>{typeof l[r]=="function"&&(n[r]=l[r]),typeof l[r]=="object"&&Object.keys(l[r]).forEach(a=>{n[r]||(n[r]={}),n[r][a]=l[r][a]})}),i.hooks){const r=i.hooks();Object.keys(r).forEach(a=>{eo[a]||(eo[a]=[]),eo[a].push(r[a])})}i.provides&&i.provides(fo)}),n}function mG(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];return(eo[t]||[]).forEach(a=>{e=a.apply(null,[e,...i])}),e}function Ua(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(eo[t]||[]).forEach(r=>{r.apply(null,n)})}function Ir(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return fo[t]?fo[t].apply(null,e):void 0}function hG(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||vr();if(e)return e=Xa(n,e)||e,xT(JN.definitions,n,e)||xT(ji.styles,n,e)}const JN=new cz,mz=()=>{pe.autoReplaceSvg=!1,pe.observeMutations=!1,Ua("noAuto")},hz={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fl?(Ua("beforeI2svg",t),Ir("pseudoElements2svg",t),Ir("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;pe.autoReplaceSvg===!1&&(pe.autoReplaceSvg=!0),pe.observeMutations=!0,OF(()=>{pz({autoReplaceSvgRoot:e}),Ua("watch",t)})}},bz={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Xa(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=cZ(t[0]);return{prefix:n,iconName:Xa(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(pe.cssPrefix,"-"))>-1||t.match(vF))){const e=uZ(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||vr(),iconName:Xa(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=vr();return{prefix:e,iconName:Xa(e,t)||t}}}},Ln={noAuto:mz,config:pe,dom:hz,parse:bz,library:JN,findIconDefinition:hG,toHtml:jd},pz=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=lt}=t;(Object.keys(ji.styles).length>0||pe.autoFetchSvg)&&Fl&&pe.autoReplaceSvg&&Ln.dom.i2svg({node:e})};function dZ(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>jd(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Fl)return;const n=lt.createElement("div");return n.innerHTML=t.html,n.children}}),t}function Zz(t){let{children:e,main:n,mask:i,attributes:l,styles:r,transform:a}=t;if(Wg(a)&&n.found&&!i.found){const{width:s,height:o}=n,c={x:s/o/2,y:.5};l.style=oZ(te(te({},r),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:l,children:e}]}function fz(t){let{prefix:e,iconName:n,children:i,attributes:l,symbol:r}=t;const a=r===!0?"".concat(e,"-").concat(pe.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:te(te({},l),{},{id:a}),children:i}]}]}function xg(t){const{icons:{main:e,mask:n},prefix:i,iconName:l,transform:r,symbol:a,title:s,maskId:o,titleId:c,extra:u,watchable:d=!1}=t,{width:m,height:h}=n.found?n:e,b=ZF.includes(i),Z=[pe.replacementClass,l?"".concat(pe.cssPrefix,"-").concat(l):""].filter(L=>u.classes.indexOf(L)===-1).filter(L=>L!==""||!!L).concat(u.classes).join(" ");let p={children:[],attributes:te(te({},u.attributes),{},{"data-prefix":i,"data-icon":l,class:Z,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(h)})};const f=b&&!~u.classes.indexOf("fa-fw")?{width:"".concat(m/h*16*.0625,"em")}:{};d&&(p.attributes[Ka]=""),s&&(p.children.push({tag:"title",attributes:{id:p.attributes["aria-labelledby"]||"title-".concat(c||qu())},children:[s]}),delete p.attributes.title);const G=te(te({},p),{},{prefix:i,iconName:l,main:e,mask:n,maskId:o,transform:r,symbol:a,styles:te(te({},f),u.styles)}),{children:V,attributes:X}=n.found&&e.found?Ir("generateAbstractMask",G)||{children:[],attributes:{}}:Ir("generateAbstractIcon",G)||{children:[],attributes:{}};return G.children=V,G.attributes=X,a?fz(G):Zz(G)}function LT(t){const{content:e,width:n,height:i,transform:l,title:r,extra:a,watchable:s=!1}=t,o=te(te(te({},a.attributes),r?{title:r}:{}),{},{class:a.classes.join(" ")});s&&(o[Ka]="");const c=te({},a.styles);Wg(l)&&(c.transform=jF({transform:l,startCentered:!0,width:n,height:i}),c["-webkit-transform"]=c.transform);const u=oZ(c);u.length>0&&(o.style=u);const d=[];return d.push({tag:"span",attributes:o,children:[e]}),r&&d.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),d}function yz(t){const{content:e,title:n,extra:i}=t,l=te(te(te({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),r=oZ(i.styles);r.length>0&&(l.style=r);const a=[];return a.push({tag:"span",attributes:l,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}const{styles:B0}=ji;function bG(t){const e=t[0],n=t[1],[i]=t.slice(4);let l=null;return Array.isArray(i)?l={tag:"g",attributes:{class:"".concat(pe.cssPrefix,"-").concat(H0.GROUP)},children:[{tag:"path",attributes:{class:"".concat(pe.cssPrefix,"-").concat(H0.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(pe.cssPrefix,"-").concat(H0.PRIMARY),fill:"currentColor",d:i[1]}}]}:l={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:l}}const Gz={found:!1,width:512,height:512};function Xz(t,e){!yN&&!pe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function pG(t,e){let n=e;return e==="fa"&&pe.styleDefault!==null&&(e=vr()),new Promise((i,l)=>{if(n==="fa"){const r=IN(t)||{};t=r.iconName||t,e=r.prefix||e}if(t&&e&&B0[e]&&B0[e][t]){const r=B0[e][t];return i(bG(r))}Xz(t,e),i(te(te({},Gz),{},{icon:pe.showMissingIcons&&t?Ir("missingIconAbstract")||{}:{}}))})}const MT=()=>{},ZG=pe.measurePerformance&&Pm&&Pm.mark&&Pm.measure?Pm:{mark:MT,measure:MT},uu='FA "6.7.2"',gz=t=>(ZG.mark("".concat(uu," ").concat(t," begins")),()=>CN(t)),CN=t=>{ZG.mark("".concat(uu," ").concat(t," ends")),ZG.measure("".concat(uu," ").concat(t),"".concat(uu," ").concat(t," begins"),"".concat(uu," ").concat(t," ends"))};var Rg={begin:gz,end:CN};const zh=()=>{};function NT(t){return typeof(t.getAttribute?t.getAttribute(Ka):null)=="string"}function Wz(t){const e=t.getAttribute?t.getAttribute(yg):null,n=t.getAttribute?t.getAttribute(Gg):null;return e&&n}function Vz(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(pe.replacementClass)}function Tz(){return pe.autoReplaceSvg===!0?jh.replace:jh[pe.autoReplaceSvg]||jh.replace}function xz(t){return lt.createElementNS("http://www.w3.org/2000/svg",t)}function Rz(t){return lt.createElement(t)}function kN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?xz:Rz}=e;if(typeof t=="string")return lt.createTextNode(t);const i=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(r){i.setAttribute(r,t.attributes[r])}),(t.children||[]).forEach(function(r){i.appendChild(kN(r,{ceFn:n}))}),i}function Sz(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const jh={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(kN(n),e)}),e.getAttribute(Ka)===null&&pe.keepOriginalSource){let n=lt.createComment(Sz(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~gg(e).indexOf(pe.replacementClass))return jh.replace(t);const i=new RegExp("".concat(pe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const r=n[0].attributes.class.split(" ").reduce((a,s)=>(s===pe.replacementClass||s.match(i)?a.toSvg.push(s):a.toNode.push(s),a),{toNode:[],toSvg:[]});n[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",r.toNode.join(" "))}const l=n.map(r=>jd(r)).join(`
`);e.setAttribute(Ka,""),e.innerHTML=l}};function vT(t){t()}function EN(t,e){const n=typeof e=="function"?e:zh;if(t.length===0)n();else{let i=vT;pe.mutateApproach===LF&&(i=Nr.requestAnimationFrame||vT),i(()=>{const l=Tz(),r=Rg.begin("mutate");t.map(l),r(),n()})}}let Sg=!1;function KN(){Sg=!0}function fG(){Sg=!1}let Sb=null;function IT(t){if(!GT||!pe.observeMutations)return;const{treeCallback:e=zh,nodeCallback:n=zh,pseudoElementsCallback:i=zh,observeMutationsRoot:l=lt}=t;Sb=new GT(r=>{if(Sg)return;const a=vr();tc(r).forEach(s=>{if(s.type==="childList"&&s.addedNodes.length>0&&!NT(s.addedNodes[0])&&(pe.searchPseudoElements&&i(s.target),e(s.target)),s.type==="attributes"&&s.target.parentNode&&pe.searchPseudoElements&&i(s.target.parentNode),s.type==="attributes"&&NT(s.target)&&~JF.indexOf(s.attributeName))if(s.attributeName==="class"&&Wz(s.target)){const{prefix:o,iconName:c}=uZ(gg(s.target));s.target.setAttribute(yg,o||a),c&&s.target.setAttribute(Gg,c)}else Vz(s.target)&&n(s.target)})}),Fl&&Sb.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Yz(){Sb&&Sb.disconnect()}function Lz(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((i,l)=>{const r=l.split(":"),a=r[0],s=r.slice(1);return a&&s.length>0&&(i[a]=s.join(":").trim()),i},{})),n}function Mz(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),i=t.innerText!==void 0?t.innerText.trim():"";let l=uZ(gg(t));return l.prefix||(l.prefix=vr()),e&&n&&(l.prefix=e,l.iconName=n),l.iconName&&l.prefix||(l.prefix&&i.length>0&&(l.iconName=tz(l.prefix,t.innerText)||Tg(l.prefix,uG(t.innerText))),!l.iconName&&pe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(l.iconName=t.firstChild.data)),l}function Nz(t){const e=tc(t.attributes).reduce((l,r)=>(l.name!=="class"&&l.name!=="style"&&(l[r.name]=r.value),l),{}),n=t.getAttribute("title"),i=t.getAttribute("data-fa-title-id");return pe.autoA11y&&(n?e["aria-labelledby"]="".concat(pe.replacementClass,"-title-").concat(i||qu()):(e["aria-hidden"]="true",e.focusable="false")),e}function vz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:zi,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function wT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:i,rest:l}=Mz(t),r=Nz(t),a=mG("parseNodeAttributes",{},t);let s=e.styleParser?Lz(t):[];return te({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:zi,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:l,styles:s,attributes:r}},a)}const{styles:Iz}=ji;function UN(t){const e=pe.autoReplaceSvg==="nest"?wT(t,{styleParser:!1}):wT(t);return~e.extra.classes.indexOf(XN)?Ir("generateLayersText",t,e):Ir("generateSvgReplacementMutation",t,e)}function wz(){return[...hF,...lG]}function JT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Fl)return Promise.resolve();const n=lt.documentElement.classList,i=u=>n.add("".concat(WT,"-").concat(u)),l=u=>n.remove("".concat(WT,"-").concat(u)),r=pe.autoFetchSvg?wz():hN.concat(Object.keys(Iz));r.includes("fa")||r.push("fa");const a=[".".concat(XN,":not([").concat(Ka,"])")].concat(r.map(u=>".".concat(u,":not([").concat(Ka,"])"))).join(", ");if(a.length===0)return Promise.resolve();let s=[];try{s=tc(t.querySelectorAll(a))}catch{}if(s.length>0)i("pending"),l("complete");else return Promise.resolve();const o=Rg.begin("onTree"),c=s.reduce((u,d)=>{try{const m=UN(d);m&&u.push(m)}catch(m){yN||m.name==="MissingIcon"&&console.error(m)}return u},[]);return new Promise((u,d)=>{Promise.all(c).then(m=>{EN(m,()=>{i("active"),i("complete"),l("pending"),typeof e=="function"&&e(),o(),u()})}).catch(m=>{o(),d(m)})})}function Jz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;UN(t).then(n=>{n&&EN([n],e)})}function Cz(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(e||{}).icon?e:hG(e||{});let{mask:l}=n;return l&&(l=(l||{}).icon?l:hG(l||{})),t(i,te(te({},n),{},{mask:l}))}}const kz=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=zi,symbol:i=!1,mask:l=null,maskId:r=null,title:a=null,titleId:s=null,classes:o=[],attributes:c={},styles:u={}}=e;if(!t)return;const{prefix:d,iconName:m,icon:h}=t;return dZ(te({type:"icon"},t),()=>(Ua("beforeDOMElementCreation",{iconDefinition:t,params:e}),pe.autoA11y&&(a?c["aria-labelledby"]="".concat(pe.replacementClass,"-title-").concat(s||qu()):(c["aria-hidden"]="true",c.focusable="false")),xg({icons:{main:bG(h),mask:l?bG(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:m,transform:te(te({},zi),n),symbol:i,title:a,maskId:r,titleId:s,extra:{attributes:c,styles:u,classes:o}})))};var Ez={mixout(){return{icon:Cz(kz)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=JT,t.nodeCallback=Jz,t}}},provides(t){t.i2svg=function(e){const{node:n=lt,callback:i=()=>{}}=e;return JT(n,i)},t.generateSvgReplacementMutation=function(e,n){const{iconName:i,title:l,titleId:r,prefix:a,transform:s,symbol:o,mask:c,maskId:u,extra:d}=n;return new Promise((m,h)=>{Promise.all([pG(i,a),c.iconName?pG(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(b=>{let[Z,p]=b;m([e,xg({icons:{main:Z,mask:p},prefix:a,iconName:i,transform:s,symbol:o,maskId:u,title:l,titleId:r,extra:d,watchable:!0})])}).catch(h)})},t.generateAbstractIcon=function(e){let{children:n,attributes:i,main:l,transform:r,styles:a}=e;const s=oZ(a);s.length>0&&(i.style=s);let o;return Wg(r)&&(o=Ir("generateAbstractTransformGrouping",{main:l,transform:r,containerWidth:l.width,iconWidth:l.width})),n.push(o||l.icon),{children:n,attributes:i}}}},Kz={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return dZ({type:"layer"},()=>{Ua("beforeDOMElementCreation",{assembler:t,params:e});let i=[];return t(l=>{Array.isArray(l)?l.map(r=>{i=i.concat(r.abstract)}):i=i.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(pe.cssPrefix,"-layers"),...n].join(" ")},children:i}]})}}}},Uz={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:i=[],attributes:l={},styles:r={}}=e;return dZ({type:"counter",content:t},()=>(Ua("beforeDOMElementCreation",{content:t,params:e}),yz({content:t.toString(),title:n,extra:{attributes:l,styles:r,classes:["".concat(pe.cssPrefix,"-layers-counter"),...i]}})))}}}},Pz={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=zi,title:i=null,classes:l=[],attributes:r={},styles:a={}}=e;return dZ({type:"text",content:t},()=>(Ua("beforeDOMElementCreation",{content:t,params:e}),LT({content:t,transform:te(te({},zi),n),title:i,extra:{attributes:r,styles:a,classes:["".concat(pe.cssPrefix,"-layers-text"),...l]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:i,transform:l,extra:r}=n;let a=null,s=null;if(dN){const o=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();a=c.width/o,s=c.height/o}return pe.autoA11y&&!i&&(r.attributes["aria-hidden"]="true"),Promise.resolve([e,LT({content:e.innerHTML,width:a,height:s,transform:l,title:i,extra:r,watchable:!0})])}}};const Fz=new RegExp('"',"ug"),CT=[1105920,1112319],kT=te(te(te(te({},{FontAwesome:{normal:"fas",400:"fas"}}),uF),SF),XF),yG=Object.keys(kT).reduce((t,e)=>(t[e.toLowerCase()]=kT[e],t),{}),zz=Object.keys(yG).reduce((t,e)=>{const n=yG[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function jz(t){const e=t.replace(Fz,""),n=AF(e,0),i=n>=CT[0]&&n<=CT[1],l=e.length===2?e[0]===e[1]:!1;return{value:uG(l?e[0]:e),isSecondary:i||l}}function Hz(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),l=isNaN(i)?"normal":i;return(yG[n]||{})[l]||zz[n]}function ET(t,e){const n="".concat(YF).concat(e.replace(":","-"));return new Promise((i,l)=>{if(t.getAttribute(n)!==null)return i();const a=tc(t.children).filter(m=>m.getAttribute(aG)===e)[0],s=Nr.getComputedStyle(t,e),o=s.getPropertyValue("font-family"),c=o.match(IF),u=s.getPropertyValue("font-weight"),d=s.getPropertyValue("content");if(a&&!c)return t.removeChild(a),i();if(c&&d!=="none"&&d!==""){const m=s.getPropertyValue("content");let h=Hz(o,u);const{value:b,isSecondary:Z}=jz(m),p=c[0].startsWith("FontAwesome");let f=Tg(h,b),G=f;if(p){const V=nz(b);V.iconName&&V.prefix&&(f=V.iconName,h=V.prefix)}if(f&&!Z&&(!a||a.getAttribute(yg)!==h||a.getAttribute(Gg)!==G)){t.setAttribute(n,G),a&&t.removeChild(a);const V=vz(),{extra:X}=V;X.attributes[aG]=e,pG(f,h).then(L=>{const x=xg(te(te({},V),{},{icons:{main:L,mask:wN()},prefix:h,iconName:G,extra:X,watchable:!0})),v=lt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(v,t.firstChild):t.appendChild(v),v.outerHTML=x.map(C=>jd(C)).join(`
`),t.removeAttribute(n),i()}).catch(l)}else i()}else i()})}function Dz(t){return Promise.all([ET(t,"::before"),ET(t,"::after")])}function Oz(t){return t.parentNode!==document.head&&!~MF.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(aG)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function KT(t){if(Fl)return new Promise((e,n)=>{const i=tc(t.querySelectorAll("*")).filter(Oz).map(Dz),l=Rg.begin("searchPseudoElements");KN(),Promise.all(i).then(()=>{l(),fG(),e()}).catch(()=>{l(),fG(),n()})})}var Bz={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=KT,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=lt}=e;pe.searchPseudoElements&&KT(n)}}};let UT=!1;var Qz={mixout(){return{dom:{unwatch(){KN(),UT=!0}}}},hooks(){return{bootstrap(){IT(mG("mutationObserverCallbacks",{}))},noAuto(){Yz()},watch(t){const{observeMutationsRoot:e}=t;UT?fG():IT(mG("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const PT=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,i)=>{const l=i.toLowerCase().split("-"),r=l[0];let a=l.slice(1).join("-");if(r&&a==="h")return n.flipX=!0,n;if(r&&a==="v")return n.flipY=!0,n;if(a=parseFloat(a),isNaN(a))return n;switch(r){case"grow":n.size=n.size+a;break;case"shrink":n.size=n.size-a;break;case"left":n.x=n.x-a;break;case"right":n.x=n.x+a;break;case"up":n.y=n.y-a;break;case"down":n.y=n.y+a;break;case"rotate":n.rotate=n.rotate+a;break}return n},e)};var Az={mixout(){return{parse:{transform:t=>PT(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=PT(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:i,containerWidth:l,iconWidth:r}=e;const a={transform:"translate(".concat(l/2," 256)")},s="translate(".concat(i.x*32,", ").concat(i.y*32,") "),o="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),u={transform:"".concat(s," ").concat(o," ").concat(c)},d={transform:"translate(".concat(r/2*-1," -256)")},m={outer:a,inner:u,path:d};return{tag:"g",attributes:te({},m.outer),children:[{tag:"g",attributes:te({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:te(te({},n.icon.attributes),m.path)}]}]}}}};const Q0={x:0,y:0,width:"100%",height:"100%"};function FT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function _z(t){return t.tag==="g"?t.children:[t]}var $z={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),i=n?uZ(n.split(" ").map(l=>l.trim())):wN();return i.prefix||(i.prefix=vr()),t.mask=i,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:i,main:l,mask:r,maskId:a,transform:s}=e;const{width:o,icon:c}=l,{width:u,icon:d}=r,m=zF({transform:s,containerWidth:u,iconWidth:o}),h={tag:"rect",attributes:te(te({},Q0),{},{fill:"white"})},b=c.children?{children:c.children.map(FT)}:{},Z={tag:"g",attributes:te({},m.inner),children:[FT(te({tag:c.tag,attributes:te(te({},c.attributes),m.path)},b))]},p={tag:"g",attributes:te({},m.outer),children:[Z]},f="mask-".concat(a||qu()),G="clip-".concat(a||qu()),V={tag:"mask",attributes:te(te({},Q0),{},{id:f,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]},X={tag:"defs",children:[{tag:"clipPath",attributes:{id:G},children:_z(d)},V]};return n.push(X,{tag:"rect",attributes:te({fill:"currentColor","clip-path":"url(#".concat(G,")"),mask:"url(#".concat(f,")")},Q0)}),{children:n,attributes:i}}}},qz={provides(t){let e=!1;Nr.matchMedia&&(e=Nr.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],i={fill:"currentColor"},l={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:te(te({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const r=te(te({},l),{},{attributeName:"opacity"}),a={tag:"circle",attributes:te(te({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:te(te({},l),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:te(te({},r),{},{values:"1;0;1;1;0;1;"})}),n.push(a),n.push({tag:"path",attributes:te(te({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:te(te({},r),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:te(te({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:te(te({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},ej={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),i=n===null?!1:n===""?!0:n;return t.symbol=i,t}}}},tj=[DF,Ez,Kz,Uz,Pz,Bz,Qz,Az,$z,qz,ej];dz(tj,{mixoutsTo:Ln});Ln.noAuto;Ln.config;Ln.library;Ln.dom;const GG=Ln.parse;Ln.findIconDefinition;Ln.toHtml;const nj=Ln.icon;Ln.layer;Ln.text;Ln.counter;var PN={exports:{}},ij="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lj=ij,rj=lj;function FN(){}function zN(){}zN.resetWarningCache=FN;var aj=function(){function t(i,l,r,a,s,o){if(o!==rj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zN,resetWarningCache:FN};return n.PropTypes=n,n};PN.exports=aj();var Yg=PN.exports;const K=Kl(Yg);function zT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(n),!0).forEach(function(i){to(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sj(t,e){if(t==null)return{};var n={},i=Object.keys(t),l,r;for(r=0;r<i.length;r++)l=i[r],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function oj(t,e){if(t==null)return{};var n=sj(t,e),i,l;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function XG(t){return cj(t)||uj(t)||dj(t)||mj()}function cj(t){if(Array.isArray(t))return gG(t)}function uj(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dj(t,e){if(t){if(typeof t=="string")return gG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gG(t,e)}}function gG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function mj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hj(t){var e,n=t.beat,i=t.fade,l=t.beatFade,r=t.bounce,a=t.shake,s=t.flash,o=t.spin,c=t.spinPulse,u=t.spinReverse,d=t.pulse,m=t.fixedWidth,h=t.inverse,b=t.border,Z=t.listItem,p=t.flip,f=t.size,G=t.rotation,V=t.pull,X=(e={"fa-beat":n,"fa-fade":i,"fa-beat-fade":l,"fa-bounce":r,"fa-shake":a,"fa-flash":s,"fa-spin":o,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":m,"fa-inverse":h,"fa-border":b,"fa-li":Z,"fa-flip":p===!0,"fa-flip-horizontal":p==="horizontal"||p==="both","fa-flip-vertical":p==="vertical"||p==="both"},to(e,"fa-".concat(f),typeof f<"u"&&f!==null),to(e,"fa-rotate-".concat(G),typeof G<"u"&&G!==null&&G!==0),to(e,"fa-pull-".concat(V),typeof V<"u"&&V!==null),to(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(X).map(function(L){return X[L]?L:null}).filter(function(L){return L})}function bj(t){return t=t-0,t===t}function jN(t){return bj(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var pj=["style"];function Zj(t){return t.charAt(0).toUpperCase()+t.slice(1)}function fj(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var i=n.indexOf(":"),l=jN(n.slice(0,i)),r=n.slice(i+1).trim();return l.startsWith("webkit")?e[Zj(l)]=r:e[l]=r,e},{})}function HN(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(o){return HN(t,o)}),l=Object.keys(e.attributes||{}).reduce(function(o,c){var u=e.attributes[c];switch(c){case"class":o.attrs.className=u,delete e.attributes.class;break;case"style":o.attrs.style=fj(u);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?o.attrs[c.toLowerCase()]=u:o.attrs[jN(c)]=u}return o},{attrs:{}}),r=n.style,a=r===void 0?{}:r,s=oj(n,pj);return l.attrs.style=Ui(Ui({},l.attrs.style),a),t.apply(void 0,[e.tag,Ui(Ui({},l.attrs),s)].concat(XG(i)))}var DN=!1;try{DN=!0}catch{}function yj(){if(!DN&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function jT(t){if(t&&Yb(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(GG.icon)return GG.icon(t);if(t===null)return null;if(t&&Yb(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function A0(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?to({},t,e):{}}var HT={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Lg=S.forwardRef(function(t,e){var n=Ui(Ui({},HT),t),i=n.icon,l=n.mask,r=n.symbol,a=n.className,s=n.title,o=n.titleId,c=n.maskId,u=jT(i),d=A0("classes",[].concat(XG(hj(n)),XG((a||"").split(" ")))),m=A0("transform",typeof n.transform=="string"?GG.transform(n.transform):n.transform),h=A0("mask",jT(l)),b=nj(u,Ui(Ui(Ui(Ui({},d),m),h),{},{symbol:r,title:s,titleId:o,maskId:c}));if(!b)return yj("Could not find icon",u),null;var Z=b.abstract,p={ref:e};return Object.keys(n).forEach(function(f){HT.hasOwnProperty(f)||(p[f]=n[f])}),Gj(Z[0],p)});Lg.displayName="FontAwesomeIcon";Lg.propTypes={beat:K.bool,border:K.bool,beatFade:K.bool,bounce:K.bool,className:K.string,fade:K.bool,flash:K.bool,mask:K.oneOfType([K.object,K.array,K.string]),maskId:K.string,fixedWidth:K.bool,inverse:K.bool,flip:K.oneOf([!0,!1,"horizontal","vertical","both"]),icon:K.oneOfType([K.object,K.array,K.string]),listItem:K.bool,pull:K.oneOf(["right","left"]),pulse:K.bool,rotation:K.oneOf([0,90,180,270]),shake:K.bool,size:K.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:K.bool,spinPulse:K.bool,spinReverse:K.bool,symbol:K.oneOfType([K.bool,K.string]),title:K.string,titleId:K.string,transform:K.oneOfType([K.string,K.object]),swapOpacity:K.bool};var Gj=HN.bind(null,S.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const Xj={prefix:"fas",iconName:"paperclip",icon:[448,512,[128206],"f0c6","M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z"]},_0="http://localhost:8000";function gj(t){const[e,n]=T.useState(""),[i,l]=T.useState([]),[r,a]=T.useState(""),s=T.useRef(null),o=T.useRef(null),c=b=>{n(b.target.value)},u=async b=>{b.preventDefault();const Z={role:"user",content:e,hidden:!1};l(G=>[...G,Z]),n("");const f=(await j0.post(`${_0}/api/chat`,{message:e},{headers:{"Content-Type":"application/json"}})).data.response;l(G=>[...G,{role:"assistant",content:f,hidden:!0}]),o.current.scrollIntoView({behavior:"smooth"})},d=async()=>{try{await j0.post(`${_0}/clear_chat`),console.log("Chat cleared"),l([{role:"assistant",content:`Hello ${t.userName}, how can I help you?`,hidden:!0}])}catch(b){console.error("Error clearing chat:",b)}};T.useEffect(()=>{document.querySelectorAll(".chat-bubble").forEach((Z,p)=>{setTimeout(()=>{Z.style.opacity=1},p*100)})},[i]),T.useEffect(()=>{l([...i,{role:"assistant",content:`Hello ${t.userName}, how can I help you?`,hidden:!0}])},[]);const m=async b=>{const Z=b.target.files[0];if(Z){const p=new FormData;p.append("file",Z);try{const f=await j0.post(`${_0}/api/upload`,p,{headers:{"Content-Type":"multipart/form-data"}});console.log("File uploaded successfully:",f.data)}catch(f){console.error("Error uploading file:",f)}a(Z.name),console.log("Selected file:",Z.name)}},h=b=>{console.log("remove file"),a("")};return N.jsxs("div",{className:"chat-container",children:[N.jsxs("div",{className:"chat-header",children:[N.jsx("div",{className:"chat-title",children:"Tree-Sequence Analysis"}),N.jsx("div",{className:"clear-button",onClick:d,children:"New Chat"})]}),N.jsx("div",{ref:s,className:"chat-content",children:i.map((b,Z)=>N.jsxs("div",{className:`chat-bubble ${b.role==="user"?"user-bubble":"assistant-bubble"}`,style:{opacity:b.hidden?0:1,whiteSpace:"pre-wrap"},children:[b.role==="user"&&N.jsx("div",{className:"message-label",children:"User"}),b.role==="assistant"&&N.jsx("div",{className:"message-label",ref:b.role==="assistant"?o:null,children:"AI"}),b.content]},Z))}),N.jsx("div",{ref:o}),N.jsxs("div",{className:"attachment",children:[r?N.jsxs("div",{className:"file-display",children:[N.jsx("span",{className:"file-name",children:r}),N.jsx("button",{className:"remove-file",onClick:h,children:N.jsx("span",{children:"x"})})]}):N.jsxs("button",{className:"upload-file",type:"button",onClick:()=>document.getElementById("fileInput").click(),children:[N.jsx(Lg,{icon:Xj}),"Attach File"]}),N.jsx("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:m})]}),N.jsxs("form",{onSubmit:u,className:"chat-input-container",children:[N.jsx("input",{type:"text",value:e,onChange:c,placeholder:"Type your query...",className:"chat-input"}),N.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})]})}function Re(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var Wj={};function mZ(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof jn<"u"?jn:typeof self<"u"?self:Wj}var ON=Object.assign,Lb=Object.getOwnPropertyDescriptor,Ai=Object.defineProperty,hZ=Object.prototype,WG=[];Object.freeze(WG);var Mg={};Object.freeze(Mg);var Vj=typeof Proxy<"u",Tj=Object.toString();function BN(){Vj||Re("Proxy not available")}function QN(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var no=function(){};function Sn(t){return typeof t=="function"}function Pa(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function bZ(t){return t!==null&&typeof t=="object"}function wr(t){if(!bZ(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===Tj}function AN(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function pZ(t,e,n){Ai(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function _N(t,e,n){Ai(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Qr(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(i){return bZ(i)&&i[n]===!0}}function nc(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function xj(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),i=Object.getPrototypeOf(n);return i===null}function Zl(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var $N=typeof Object.getOwnPropertySymbols<"u";function Rj(t){var e=Object.keys(t);if(!$N)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(i){return hZ.propertyIsEnumerable.call(t,i)})):e}var ZZ=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:$N?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function qN(t){return t===null?null:typeof t=="object"?""+t:t}function Vl(t,e){return hZ.hasOwnProperty.call(t,e)}var Sj=Object.getOwnPropertyDescriptors||function(e){var n={};return ZZ(e).forEach(function(i){n[i]=Lb(e,i)}),n};function fn(t,e){return!!(t&e)}function yn(t,e,n){return n?t|=e:t&=~e,t}function DT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function OT(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Lj(i.key),i)}}function ic(t,e,n){return e&&OT(t.prototype,e),n&&OT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function io(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Mj(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jr(){return Jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jr.apply(null,arguments)}function ev(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,VG(t,e)}function VG(t,e){return VG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VG(t,e)}function Yj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lj(t){var e=Yj(t,"string");return typeof e=="symbol"?e:e+""}function Mj(t,e){if(t){if(typeof t=="string")return DT(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DT(t,e):void 0}}var Hi=Symbol("mobx-stored-annotations");function _i(t){function e(n,i){if(Dd(i))return t.decorate_20223_(n,i);Hd(n,i,t)}return Object.assign(e,t)}function Hd(t,e,n){Vl(t,Hi)||pZ(t,Hi,Jr({},t[Hi])),Kj(n)||(t[Hi][e]=n)}function Nj(t){return Vl(t,Hi)||pZ(t,Hi,Jr({},t[Hi])),t[Hi]}function Dd(t){return typeof t=="object"&&typeof t.kind=="string"}var ye=Symbol("mobx administration"),Ar=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ce.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return Zv(this)},e.reportChanged=function(){_t(),fv(this),$t()},e.toString=function(){return this.name_},ic(t,[{key:"isBeingObserved",get:function(){return fn(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=yn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return fn(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=yn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return fn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=yn(this.flags_,t.diffValueMask_,i===1)}}])}();Ar.isBeingObservedMask_=1;Ar.isPendingUnobservationMask_=2;Ar.diffValueMask_=4;var Ng=Qr("Atom",Ar);function Mb(t,e,n){e===void 0&&(e=no),n===void 0&&(n=no);var i=new Ar(t);return e!==no&&zH(i,e),n!==no&&xv(i,n),i}function vj(t,e){return t===e}function Ij(t,e){return Ug(t,e)}function wj(t,e){return Ug(t,e,1)}function Jj(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var No={identity:vj,structural:Ij,default:Jj,shallow:wj};function Fa(t,e,n){return Mv(t)?t:Array.isArray(t)?it.array(t,{name:n}):wr(t)?it.object(t,void 0,{name:n}):nc(t)?it.map(t,{name:n}):Zl(t)?it.set(t,{name:n}):typeof t=="function"&&!nd(t)&&!id(t)?AN(t)?vo(t):td(n,t):t}function Cj(t,e,n){if(t==null||Dn(t)||ll(t)||$n(t)||Ht(t))return t;if(Array.isArray(t))return it.array(t,{name:n,deep:!1});if(wr(t))return it.object(t,void 0,{name:n,deep:!1});if(nc(t))return it.map(t,{name:n,deep:!1});if(Zl(t))return it.set(t,{name:n,deep:!1})}function fZ(t){return t}function kj(t,e){return Ug(t,e)?e:t}var Ej="override";function Kj(t){return t.annotationType_===Ej}function Od(t,e){return{annotationType_:t,options_:e,make_:Uj,extend_:Pj,decorate_20223_:Fj}}function Uj(t,e,n,i){var l;if((l=this.options_)!=null&&l.bound)return this.extend_(t,e,n,!1)===null?0:1;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(nd(n.value))return 1;var r=tv(t,this,e,n,!1);return Ai(i,e,r),2}function Pj(t,e,n,i){var l=tv(t,this,e,n);return t.defineProperty_(e,l,i)}function Fj(t,e){var n=e.kind,i=e.name,l=e.addInitializer,r=this,a=function(c){var u,d,m,h;return Cr((u=(d=r.options_)==null?void 0:d.name)!=null?u:i.toString(),c,(m=(h=r.options_)==null?void 0:h.autoAction)!=null?m:!1)};if(n=="field")return function(o){var c,u=o;return nd(u)||(u=a(u)),(c=r.options_)!=null&&c.bound&&(u=u.bind(this),u.isMobxAction=!0),u};if(n=="method"){var s;return nd(t)||(t=a(t)),(s=this.options_)!=null&&s.bound&&l(function(){var o=this,c=o[i].bind(o);c.isMobxAction=!0,o[i]=c}),t}Re("Cannot apply '"+r.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+r.annotationType_+"' can only be used on properties with a function value."))}function zj(t,e,n,i){e.annotationType_,i.value}function tv(t,e,n,i,l){var r,a,s,o,c,u,d;l===void 0&&(l=re.safeDescriptors),zj(t,e,n,i);var m=i.value;if((r=e.options_)!=null&&r.bound){var h;m=m.bind((h=t.proxy_)!=null?h:t.target_)}return{value:Cr((a=(s=e.options_)==null?void 0:s.name)!=null?a:n.toString(),m,(o=(c=e.options_)==null?void 0:c.autoAction)!=null?o:!1,(u=e.options_)!=null&&u.bound?(d=t.proxy_)!=null?d:t.target_:void 0),configurable:l?t.isPlainObject_:!0,enumerable:!1,writable:!l}}function nv(t,e){return{annotationType_:t,options_:e,make_:jj,extend_:Hj,decorate_20223_:Dj}}function jj(t,e,n,i){var l;if(i===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((l=this.options_)!=null&&l.bound&&(!Vl(t.target_,e)||!id(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(id(n.value))return 1;var r=iv(t,this,e,n,!1,!1);return Ai(i,e,r),2}function Hj(t,e,n,i){var l,r=iv(t,this,e,n,(l=this.options_)==null?void 0:l.bound);return t.defineProperty_(e,r,i)}function Dj(t,e){var n,i=e.name,l=e.addInitializer;return id(t)||(t=vo(t)),(n=this.options_)!=null&&n.bound&&l(function(){var r=this,a=r[i].bind(r);a.isMobXFlow=!0,r[i]=a}),t}function Oj(t,e,n,i){e.annotationType_,i.value}function iv(t,e,n,i,l,r){r===void 0&&(r=re.safeDescriptors),Oj(t,e,n,i);var a=i.value;if(id(a)||(a=vo(a)),l){var s;a=a.bind((s=t.proxy_)!=null?s:t.target_),a.isMobXFlow=!0}return{value:a,configurable:r?t.isPlainObject_:!0,enumerable:!1,writable:!r}}function vg(t,e){return{annotationType_:t,options_:e,make_:Bj,extend_:Qj,decorate_20223_:Aj}}function Bj(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function Qj(t,e,n,i){return _j(t,this,e,n),t.defineComputedProperty_(e,Jr({},this.options_,{get:n.get,set:n.set}),i)}function Aj(t,e){var n=this,i=e.name,l=e.addInitializer;return l(function(){var r=rc(this)[ye],a=Jr({},n.options_,{get:t,context:this});a.name||(a.name="ObservableObject."+i.toString()),r.values_.set(i,new gi(a))}),function(){return this[ye].getObservablePropValue_(i)}}function _j(t,e,n,i){e.annotationType_,i.get}function yZ(t,e){return{annotationType_:t,options_:e,make_:$j,extend_:qj,decorate_20223_:eH}}function $j(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function qj(t,e,n,i){var l,r;return tH(t,this),t.defineObservableProperty_(e,n.value,(l=(r=this.options_)==null?void 0:r.enhancer)!=null?l:Fa,i)}function eH(t,e){var n=this,i=e.kind,l=e.name,r=new WeakSet;function a(s,o){var c,u,d=rc(s)[ye],m=new Gr(o,(c=(u=n.options_)==null?void 0:u.enhancer)!=null?c:Fa,"ObservableObject."+l.toString(),!1);d.values_.set(l,m),r.add(s)}if(i=="accessor")return{get:function(){return r.has(this)||a(this,t.get.call(this)),this[ye].getObservablePropValue_(l)},set:function(o){return r.has(this)||a(this,o),this[ye].setObservablePropValue_(l,o)},init:function(o){return r.has(this)||a(this,o),o}}}function tH(t,e,n,i){e.annotationType_}var nH="true",iH=lv();function lv(t){return{annotationType_:nH,options_:t,make_:lH,extend_:rH,decorate_20223_:aH}}function lH(t,e,n,i){var l,r;if(n.get)return lc.make_(t,e,n,i);if(n.set){var a=Cr(e.toString(),n.set);return i===t.target_?t.defineProperty_(e,{configurable:re.safeDescriptors?t.isPlainObject_:!0,set:a})===null?0:2:(Ai(i,e,{configurable:!0,set:a}),2)}if(i!==t.target_&&typeof n.value=="function"){var s;if(AN(n.value)){var o,c=(o=this.options_)!=null&&o.autoBind?vo.bound:vo;return c.make_(t,e,n,i)}var u=(s=this.options_)!=null&&s.autoBind?td.bound:td;return u.make_(t,e,n,i)}var d=((l=this.options_)==null?void 0:l.deep)===!1?it.ref:it;if(typeof n.value=="function"&&(r=this.options_)!=null&&r.autoBind){var m;n.value=n.value.bind((m=t.proxy_)!=null?m:t.target_)}return d.make_(t,e,n,i)}function rH(t,e,n,i){var l,r;if(n.get)return lc.extend_(t,e,n,i);if(n.set)return t.defineProperty_(e,{configurable:re.safeDescriptors?t.isPlainObject_:!0,set:Cr(e.toString(),n.set)},i);if(typeof n.value=="function"&&(l=this.options_)!=null&&l.autoBind){var a;n.value=n.value.bind((a=t.proxy_)!=null?a:t.target_)}var s=((r=this.options_)==null?void 0:r.deep)===!1?it.ref:it;return s.extend_(t,e,n,i)}function aH(t,e){Re("'"+this.annotationType_+"' cannot be used as a decorator")}var sH="observable",oH="observable.ref",cH="observable.shallow",uH="observable.struct",rv={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(rv);function zm(t){return t||rv}var TG=yZ(sH),dH=yZ(oH,{enhancer:fZ}),mH=yZ(cH,{enhancer:Cj}),hH=yZ(uH,{enhancer:kj}),av=_i(TG);function jm(t){return t.deep===!0?Fa:t.deep===!1?fZ:pH(t.defaultDecorator)}function bH(t){var e;return t?(e=t.defaultDecorator)!=null?e:lv(t):void 0}function pH(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Fa}function sv(t,e,n){if(Dd(e))return TG.decorate_20223_(t,e);if(Pa(e)){Hd(t,e,TG);return}return Mv(t)?t:wr(t)?it.object(t,e,n):Array.isArray(t)?it.array(t,e):nc(t)?it.map(t,e):Zl(t)?it.set(t,e):typeof t=="object"&&t!==null?t:it.box(t,e)}ON(sv,av);var ZH={box:function(e,n){var i=zm(n);return new Gr(e,jm(i),i.name,!0,i.equals)},array:function(e,n){var i=zm(n);return(re.useProxies===!1||i.proxy===!1?GD:cD)(e,jm(i),i.name)},map:function(e,n){var i=zm(n);return new Eg(e,jm(i),i.name)},set:function(e,n){var i=zm(n);return new kv(e,jm(i),i.name)},object:function(e,n,i){return es(function(){return OH(re.useProxies===!1||(i==null?void 0:i.proxy)===!1?rc({},i):aD({},i),e,n)})},ref:_i(dH),shallow:_i(mH),deep:av,struct:_i(hH)},it=ON(sv,ZH),ov="computed",fH="computed.struct",xG=vg(ov),yH=vg(fH,{equals:No.structural}),lc=function(e,n){if(Dd(n))return xG.decorate_20223_(e,n);if(Pa(n))return Hd(e,n,xG);if(wr(e))return _i(vg(ov,e));var i=wr(n)?n:{};return i.get=e,i.name||(i.name=e.name||""),new gi(i)};Object.assign(lc,xG);lc.struct=_i(yH);var BT,QT,Nb=0,GH=1,XH=(BT=(QT=Lb(function(){},"name"))==null?void 0:QT.configurable)!=null?BT:!1,AT={value:"action",configurable:!0,writable:!1,enumerable:!1};function Cr(t,e,n,i){n===void 0&&(n=!1);function l(){return cv(t,n,e,i||this,arguments)}return l.isMobxAction=!0,l.toString=function(){return e.toString()},XH&&(AT.value=t,Ai(l,"name",AT)),l}function cv(t,e,n,i,l){var r=gH(t,e);try{return n.apply(i,l)}catch(a){throw r.error_=a,a}finally{WH(r)}}function gH(t,e,n,i){var l=!1,r=0,a=re.trackingDerivation,s=!e||!a;_t();var o=re.allowStateChanges;s&&(qa(),o=GZ(!0));var c=wg(!0),u={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:o,prevAllowStateReads_:c,notifySpy_:l,startTime_:r,actionId_:GH++,parentActionId_:Nb};return Nb=u.actionId_,u}function WH(t){Nb!==t.actionId_&&Re(30),Nb=t.parentActionId_,t.error_!==void 0&&(re.suppressReactionErrors=!0),XZ(t.prevAllowStateChanges_),Ru(t.prevAllowStateReads_),$t(),t.runAsAction_&&Tl(t.prevDerivation_),re.suppressReactionErrors=!1}function Ig(t,e){var n=GZ(t);try{return e()}finally{XZ(n)}}function GZ(t){var e=re.allowStateChanges;return re.allowStateChanges=t,e}function XZ(t){re.allowStateChanges=t}var Gr=function(t){function e(i,l,r,a,s){var o;return r===void 0&&(r="ObservableValue"),s===void 0&&(s=No.default),o=t.call(this,r)||this,o.enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=l,o.name_=r,o.equals=s,o.value_=l(i,void 0,r),o}ev(e,t);var n=e.prototype;return n.dehanceValue=function(l){return this.dehancer!==void 0?this.dehancer(l):l},n.set=function(l){this.value_,l=this.prepareNewValue_(l),l!==re.UNCHANGED&&this.setNewValue_(l)},n.prepareNewValue_=function(l){if(Kn(this)){var r=Un(this,{object:this,type:$i,newValue:l});if(!r)return re.UNCHANGED;l=r.newValue}return l=this.enhancer(l,this.value_,this.name_),this.equals(this.value_,l)?re.UNCHANGED:l},n.setNewValue_=function(l){var r=this.value_;this.value_=l,this.reportChanged(),pi(this)&&Zi(this,{type:$i,object:this,newValue:l,oldValue:r})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(l){return Bd(this,l)},n.observe_=function(l,r){return r&&l({observableKind:"value",debugObjectName:this.name_,object:this,type:$i,newValue:this.value_,oldValue:void 0}),Qd(this,l)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return qN(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Ar),VH=Qr("ObservableValue",Gr),gi=function(){function t(n){this.dependenciesState_=Ce.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ce.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ib(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=vb.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Re(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Cr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?No.structural:No.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){LH(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing&&Re(32,this.name_,this.derivation),re.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)RG(this)&&(this.warnAboutUntrackedRead_(),_t(),this.value_=this.computeValue_(!1),$t());else if(Zv(this),RG(this)){var i=re.trackingContext;this.keepAlive_&&!i&&(re.trackingContext=this),this.trackAndCompute()&&YH(this),re.trackingContext=i}var l=this.value_;if(Hh(l))throw l.cause;return l},e.set=function(i){if(this.setter_){this.isRunningSetter&&Re(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Re(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,l=this.dependenciesState_===Ce.NOT_TRACKING_,r=this.computeValue_(!0),a=l||Hh(i)||Hh(r)||!this.equals_(i,r);return a&&(this.value_=r),a},e.computeValue_=function(i){this.isComputing=!0;var l=GZ(!1),r;if(i)r=uv(this,this.derivation,this.scope_);else if(re.disableErrorBoundaries===!0)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(a){r=new Ib(a)}return XZ(l),this.isComputing=!1,r},e.suspend_=function(){this.keepAlive_||(SG(this),this.value_=void 0)},e.observe_=function(i,l){var r=this,a=!0,s=void 0;return Vv(function(){var o=r.get();if(!a||l){var c=qa();i({observableKind:"computed",debugObjectName:r.name_,type:$i,object:r,newValue:o,oldValue:s}),Tl(c)}a=!1,s=o})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return qN(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},ic(t,[{key:"isComputing",get:function(){return fn(this.flags_,t.isComputingMask_)},set:function(i){this.flags_=yn(this.flags_,t.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return fn(this.flags_,t.isRunningSetterMask_)},set:function(i){this.flags_=yn(this.flags_,t.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return fn(this.flags_,t.isBeingObservedMask_)},set:function(i){this.flags_=yn(this.flags_,t.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return fn(this.flags_,t.isPendingUnobservationMask_)},set:function(i){this.flags_=yn(this.flags_,t.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return fn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=yn(this.flags_,t.diffValueMask_,i===1)}}])}();gi.isComputingMask_=1;gi.isRunningSetterMask_=2;gi.isBeingObservedMask_=4;gi.isPendingUnobservationMask_=8;gi.diffValueMask_=16;var gZ=Qr("ComputedValue",gi),Ce;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(Ce||(Ce={}));var vb;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(vb||(vb={}));var Ib=function(e){this.cause=void 0,this.cause=e};function Hh(t){return t instanceof Ib}function RG(t){switch(t.dependenciesState_){case Ce.UP_TO_DATE_:return!1;case Ce.NOT_TRACKING_:case Ce.STALE_:return!0;case Ce.POSSIBLY_STALE_:{for(var e=wg(!0),n=qa(),i=t.observing_,l=i.length,r=0;r<l;r++){var a=i[r];if(gZ(a)){if(re.disableErrorBoundaries)a.get();else try{a.get()}catch{return Tl(n),Ru(e),!0}if(t.dependenciesState_===Ce.STALE_)return Tl(n),Ru(e),!0}}return mv(t),Tl(n),Ru(e),!1}}}function uv(t,e,n){var i=wg(!0);mv(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++re.runId;var l=re.trackingDerivation;re.trackingDerivation=t,re.inBatch++;var r;if(re.disableErrorBoundaries===!0)r=e.call(n);else try{r=e.call(n)}catch(a){r=new Ib(a)}return re.inBatch--,re.trackingDerivation=l,TH(t),Ru(i),r}function TH(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,i=Ce.UP_TO_DATE_,l=0,r=t.unboundDepsCount_,a=0;a<r;a++){var s=n[a];s.diffValue===0&&(s.diffValue=1,l!==a&&(n[l]=s),l++),s.dependenciesState_>i&&(i=s.dependenciesState_)}for(n.length=l,t.newObserving_=null,r=e.length;r--;){var o=e[r];o.diffValue===0&&bv(o,t),o.diffValue=0}for(;l--;){var c=n[l];c.diffValue===1&&(c.diffValue=0,SH(c,t))}i!==Ce.UP_TO_DATE_&&(t.dependenciesState_=i,t.onBecomeStale_())}function SG(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)bv(e[n],t);t.dependenciesState_=Ce.NOT_TRACKING_}function dv(t){var e=qa();try{return t()}finally{Tl(e)}}function qa(){var t=re.trackingDerivation;return re.trackingDerivation=null,t}function Tl(t){re.trackingDerivation=t}function wg(t){var e=re.allowStateReads;return re.allowStateReads=t,e}function Ru(t){re.allowStateReads=t}function mv(t){if(t.dependenciesState_!==Ce.UP_TO_DATE_){t.dependenciesState_=Ce.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=Ce.UP_TO_DATE_}}var Dh=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Oh=!0,hv=!1,re=function(){var t=mZ();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Oh=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Dh().version&&(Oh=!1),Oh?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Dh):(setTimeout(function(){hv||Re(35)},1),new Dh)}();function xH(){if((re.pendingReactions.length||re.inBatch||re.isRunningReactions)&&Re(36),hv=!0,Oh){var t=mZ();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),re=new Dh}}function RH(){return re}function SH(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function bv(t,e){t.observers_.delete(e),t.observers_.size===0&&pv(t)}function pv(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,re.pendingUnobservations.push(t))}function _t(){re.inBatch++}function $t(){if(--re.inBatch===0){yv();for(var t=re.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof gi&&n.suspend_())}re.pendingUnobservations=[]}}function Zv(t){var e=re.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&re.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&re.inBatch>0&&pv(t),!1)}function fv(t){t.lowestObserverState_!==Ce.STALE_&&(t.lowestObserverState_=Ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ce.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Ce.STALE_}))}function YH(t){t.lowestObserverState_!==Ce.STALE_&&(t.lowestObserverState_=Ce.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ce.POSSIBLY_STALE_?e.dependenciesState_=Ce.STALE_:e.dependenciesState_===Ce.UP_TO_DATE_&&(t.lowestObserverState_=Ce.UP_TO_DATE_)}))}function LH(t){t.lowestObserverState_===Ce.UP_TO_DATE_&&(t.lowestObserverState_=Ce.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===Ce.UP_TO_DATE_&&(e.dependenciesState_=Ce.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Wi=function(){function t(n,i,l,r){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ce.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=vb.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=l,this.requiresObservable_=r}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,re.pendingReactions.push(this),yv())},e.runReaction_=function(){if(!this.isDisposed){_t(),this.isScheduled=!1;var i=re.trackingContext;if(re.trackingContext=this,RG(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(l){this.reportExceptionInDerivation_(l)}}re.trackingContext=i,$t()}},e.track=function(i){if(!this.isDisposed){_t(),this.isRunning=!0;var l=re.trackingContext;re.trackingContext=this;var r=uv(this,i,void 0);re.trackingContext=l,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&SG(this),Hh(r)&&this.reportExceptionInDerivation_(r.cause),$t()}},e.reportExceptionInDerivation_=function(i){var l=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(re.disableErrorBoundaries)throw i;var r="[mobx] uncaught error in '"+this+"'";re.suppressReactionErrors||console.error(r,i),re.globalReactionErrorHandlers.forEach(function(a){return a(i,l)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(_t(),SG(this),$t()))},e.getDisposer_=function(i){var l=this,r=function a(){l.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",a)};return i==null||i.addEventListener==null||i.addEventListener("abort",r),r[ye]=this,r},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){},ic(t,[{key:"isDisposed",get:function(){return fn(this.flags_,t.isDisposedMask_)},set:function(i){this.flags_=yn(this.flags_,t.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return fn(this.flags_,t.isScheduledMask_)},set:function(i){this.flags_=yn(this.flags_,t.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return fn(this.flags_,t.isTrackPendingMask_)},set:function(i){this.flags_=yn(this.flags_,t.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return fn(this.flags_,t.isRunningMask_)},set:function(i){this.flags_=yn(this.flags_,t.isRunningMask_,i)}},{key:"diffValue",get:function(){return fn(this.flags_,t.diffValueMask_)?1:0},set:function(i){this.flags_=yn(this.flags_,t.diffValueMask_,i===1)}}])}();Wi.isDisposedMask_=1;Wi.isScheduledMask_=2;Wi.isTrackPendingMask_=4;Wi.isRunningMask_=8;Wi.diffValueMask_=16;var MH=100,YG=function(e){return e()};function yv(){re.inBatch>0||re.isRunningReactions||YG(NH)}function NH(){re.isRunningReactions=!0;for(var t=re.pendingReactions,e=0;t.length>0;){++e===MH&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,l=n.length;i<l;i++)n[i].runReaction_()}re.isRunningReactions=!1}var wb=Qr("Reaction",Wi);function vH(t){var e=YG;YG=function(i){return t(function(){return e(i)})}}function Su(){return!1}function IH(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Gv="action",wH="action.bound",Xv="autoAction",JH="autoAction.bound",gv="<unnamed action>",LG=Od(Gv),CH=Od(wH,{bound:!0}),MG=Od(Xv,{autoAction:!0}),kH=Od(JH,{autoAction:!0,bound:!0});function Wv(t){var e=function(i,l){if(Sn(i))return Cr(i.name||gv,i,t);if(Sn(l))return Cr(i,l,t);if(Dd(l))return(t?MG:LG).decorate_20223_(i,l);if(Pa(l))return Hd(i,l,t?MG:LG);if(Pa(i))return _i(Od(t?Xv:Gv,{name:i,autoAction:t}))};return e}var Xt=Wv(!1);Object.assign(Xt,LG);var td=Wv(!0);Object.assign(td,MG);Xt.bound=_i(CH);td.bound=_i(kH);function _T(t){return cv(t.name||gv,!1,t,this,void 0)}function nd(t){return Sn(t)&&t.isMobxAction===!0}function Vv(t,e){var n,i,l,r;e===void 0&&(e=Mg);var a=(n=(i=e)==null?void 0:i.name)!=null?n:"Autorun",s=!e.scheduler&&!e.delay,o;if(s)o=new Wi(a,function(){this.track(d)},e.onError,e.requiresObservable);else{var c=Tv(e),u=!1;o=new Wi(a,function(){u||(u=!0,c(function(){u=!1,o.isDisposed||o.track(d)}))},e.onError,e.requiresObservable)}function d(){t(o)}return(l=e)!=null&&(l=l.signal)!=null&&l.aborted||o.schedule_(),o.getDisposer_((r=e)==null?void 0:r.signal)}var EH=function(e){return e()};function Tv(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:EH}function KH(t,e,n){var i,l,r;n===void 0&&(n=Mg);var a=(i=n.name)!=null?i:"Reaction",s=Xt(a,n.onError?UH(n.onError,e):e),o=!n.scheduler&&!n.delay,c=Tv(n),u=!0,d=!1,m,h=n.compareStructural?No.structural:n.equals||No.default,b=new Wi(a,function(){u||o?Z():d||(d=!0,c(Z))},n.onError,n.requiresObservable);function Z(){if(d=!1,!b.isDisposed){var p=!1,f=m;b.track(function(){var G=Ig(!1,function(){return t(b)});p=u||!h(m,G),m=G}),(u&&n.fireImmediately||!u&&p)&&s(m,f,b),u=!1}}return(l=n)!=null&&(l=l.signal)!=null&&l.aborted||b.schedule_(),b.getDisposer_((r=n)==null?void 0:r.signal)}function UH(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}var PH="onBO",FH="onBUO";function zH(t,e,n){return Rv(PH,t,e,n)}function xv(t,e,n){return Rv(FH,t,e,n)}function Rv(t,e,n,i){var l=typeof i=="function"?za(e,n):za(e),r=Sn(i)?i:n,a=t+"L";return l[a]?l[a].add(r):l[a]=new Set([r]),function(){var s=l[a];s&&(s.delete(r),s.size===0&&delete l[a])}}var jH="never",Hm="always",HH="observed";function DH(t){t.isolateGlobalState===!0&&xH();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(re.useProxies=e===Hm?!0:e===jH?!1:typeof Proxy<"u"),e==="ifavailable"&&(re.verifyProxies=!0),n!==void 0){var i=n===Hm?Hm:n===HH;re.enforceActions=i,re.allowStateChanges=!(i===!0||i===Hm)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(l){l in t&&(re[l]=!!t[l])}),re.allowStateReads=!re.observableRequiresReaction,t.reactionScheduler&&vH(t.reactionScheduler)}function OH(t,e,n,i){var l=Sj(e);return es(function(){var r=rc(t,i)[ye];ZZ(l).forEach(function(a){r.extend_(a,l[a],n&&a in n?n[a]:!0)})}),t}function BH(t,e){return Sv(za(t,e))}function Sv(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=QH(t.observing_).map(Sv)),e}function QH(t){return Array.from(new Set(t))}var AH=0;function Yv(){this.message="FLOW_CANCELLED"}Yv.prototype=Object.create(Error.prototype);var $0=nv("flow"),_H=nv("flow.bound",{bound:!0}),vo=Object.assign(function(e,n){if(Dd(n))return $0.decorate_20223_(e,n);if(Pa(n))return Hd(e,n,$0);var i=e,l=i.name||"<unnamed flow>",r=function(){var s=this,o=arguments,c=++AH,u=Xt(l+" - runid: "+c+" - init",i).apply(s,o),d,m=void 0,h=new Promise(function(b,Z){var p=0;d=Z;function f(X){m=void 0;var L;try{L=Xt(l+" - runid: "+c+" - yield "+p++,u.next).call(u,X)}catch(x){return Z(x)}V(L)}function G(X){m=void 0;var L;try{L=Xt(l+" - runid: "+c+" - yield "+p++,u.throw).call(u,X)}catch(x){return Z(x)}V(L)}function V(X){if(Sn(X==null?void 0:X.then)){X.then(V,Z);return}return X.done?b(X.value):(m=Promise.resolve(X.value),m.then(f,G))}f(void 0)});return h.cancel=Xt(l+" - runid: "+c+" - cancel",function(){try{m&&$T(m);var b=u.return(void 0),Z=Promise.resolve(b.value);Z.then(no,no),$T(Z),d(new Yv)}catch(p){d(p)}}),h};return r.isMobXFlow=!0,r},$0);vo.bound=_i(_H);function $T(t){Sn(t.cancel)&&t.cancel()}function id(t){return(t==null?void 0:t.isMobXFlow)===!0}function Lv(t,e,n){var i;return $n(t)||ll(t)||VH(t)?i=nl(t):Dn(t)&&(i=nl(t,e)),i.dehancer=typeof e=="function"?e:n,function(){i.dehancer=void 0}}function Jg(t,e,n){return Sn(n)?qH(t,e,n):$H(t,e)}function $H(t,e){return nl(t).intercept_(e)}function qH(t,e,n){return nl(t,e).intercept_(n)}function eD(t,e){return t?e!==void 0?Dn(t)?t[ye].values_.has(e):!1:Dn(t)||!!t[ye]||Ng(t)||wb(t)||gZ(t):!1}function Mv(t){return eD(t)}function Jb(t){if(Dn(t))return t[ye].keys_();if($n(t)||Ht(t))return Array.from(t.keys());if(ll(t))return t.map(function(e,n){return n});Re(5)}function Nv(t){if(Dn(t))return Jb(t).map(function(e){return t[e]});if($n(t))return Jb(t).map(function(e){return t.get(e)});if(Ht(t))return Array.from(t.values());if(ll(t))return t.slice();Re(6)}function tD(t){if(Dn(t))return Jb(t).map(function(e){return[e,t[e]]});if($n(t))return Jb(t).map(function(e){return[e,t.get(e)]});if(Ht(t))return Array.from(t.entries());if(ll(t))return t.map(function(e,n){return[n,e]});Re(7)}function vv(t,e,n){if(arguments.length===2&&!Ht(t)){_t();var i=e;try{for(var l in i)vv(t,l,i[l])}finally{$t()}return}Dn(t)?t[ye].set_(e,n):$n(t)?t.set(e,n):Ht(t)?t.add(e):ll(t)?(typeof e!="number"&&(e=parseInt(e,10)),e<0&&Re("Invalid index: '"+e+"'"),_t(),e>=t.length&&(t.length=e+1),t[e]=n,$t()):Re(8)}function Iv(t,e,n){if(Dn(t))return t[ye].defineProperty_(e,n);Re(39)}function Cg(t,e,n,i){return Sn(n)?iD(t,e,n,i):nD(t,e,n)}function nD(t,e,n){return nl(t).observe_(e,n)}function iD(t,e,n,i){return nl(t,e).observe_(n,i)}function fl(t,e){e===void 0&&(e=void 0),_t();try{return t.apply(e)}finally{$t()}}function qT(t,e,n){return arguments.length===1||e&&typeof e=="object"?lD(t,e):wv(t,e,n||{})}function wv(t,e,n){var i;if(typeof n.timeout=="number"){var l=new Error("WHEN_TIMEOUT");i=setTimeout(function(){if(!a[ye].isDisposed)if(a(),n.onError)n.onError(l);else throw l},n.timeout)}n.name="When";var r=Cr("When-effect",e),a=Vv(function(s){var o=Ig(!1,t);o&&(s.dispose(),i&&clearTimeout(i),r())},n);return a}function lD(t,e){var n;if(e!=null&&(n=e.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var i,l,r=new Promise(function(a,s){var o,c=wv(t,a,Jr({},e,{onError:s}));i=function(){c(),s(new Error("WHEN_CANCELLED"))},l=function(){c(),s(new Error("WHEN_ABORTED"))},e==null||(o=e.signal)==null||o.addEventListener==null||o.addEventListener("abort",l)}).finally(function(){var a;return e==null||(a=e.signal)==null||a.removeEventListener==null?void 0:a.removeEventListener("abort",l)});return r.cancel=i,r}function gs(t){return t[ye]}var rD={has:function(e,n){return gs(e).has_(n)},get:function(e,n){return gs(e).get_(n)},set:function(e,n,i){var l;return Pa(n)?(l=gs(e).set_(n,i,!0))!=null?l:!0:!1},deleteProperty:function(e,n){var i;return Pa(n)?(i=gs(e).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(e,n,i){var l;return(l=gs(e).defineProperty_(n,i))!=null?l:!0},ownKeys:function(e){return gs(e).ownKeys_()},preventExtensions:function(e){Re(13)}};function aD(t,e){var n,i;return BN(),t=rc(t,e),(i=(n=t[ye]).proxy_)!=null?i:n.proxy_=new Proxy(t,rD)}function Kn(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Bd(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),QN(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function Un(t,e){var n=qa();try{for(var i=[].concat(t.interceptors_||[]),l=0,r=i.length;l<r&&(e=i[l](e),e&&!e.type&&Re(14),!!e);l++);return e}finally{Tl(n)}}function pi(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Qd(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),QN(function(){var i=n.indexOf(e);i!==-1&&n.splice(i,1)})}function Zi(t,e){var n=qa(),i=t.changeListeners_;if(i){i=i.slice();for(var l=0,r=i.length;l<r;l++)i[l](e);Tl(n)}}function Jv(t,e,n){return es(function(){var i,l=rc(t,n)[ye];(i=e)!=null||(e=Nj(t)),ZZ(e).forEach(function(r){return l.make_(r,e[r])})}),t}var ex="splice",$i="update",sD=1e4,oD={get:function(e,n){var i=e[ye];return n===ye?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):Vl(Cb,n)?Cb[n]:e[n]},set:function(e,n,i){var l=e[ye];return n==="length"&&l.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?e[n]=i:l.set_(parseInt(n),i),!0},preventExtensions:function(){Re(15)}},kg=function(){function t(n,i,l,r){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=l,this.legacyMode_=r,this.atom_=new Ar(n),this.enhancer_=function(a,s){return i(a,s,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return Bd(this,i)},e.observe_=function(i,l){return l===void 0&&(l=!1),l&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Qd(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Re("Out of range: "+i);var l=this.values_.length;if(i!==l)if(i>l){for(var r=new Array(i-l),a=0;a<i-l;a++)r[a]=void 0;this.spliceWithArray_(l,0,r)}else this.spliceWithArray_(i,l-i)},e.updateArrayLength_=function(i,l){i!==this.lastKnownLength_&&Re(16),this.lastKnownLength_+=l,this.legacyMode_&&l>0&&Pv(i+l+1)},e.spliceWithArray_=function(i,l,r){var a=this;this.atom_;var s=this.values_.length;if(i===void 0?i=0:i>s?i=s:i<0&&(i=Math.max(0,s+i)),arguments.length===1?l=s-i:l==null?l=0:l=Math.max(0,Math.min(l,s-i)),r===void 0&&(r=WG),Kn(this)){var o=Un(this,{object:this.proxy_,type:ex,index:i,removedCount:l,added:r});if(!o)return WG;l=o.removedCount,r=o.added}if(r=r.length===0?r:r.map(function(d){return a.enhancer_(d,void 0)}),this.legacyMode_){var c=r.length-l;this.updateArrayLength_(s,c)}var u=this.spliceItemsIntoValues_(i,l,r);return(l!==0||r.length!==0)&&this.notifyArraySplice_(i,r,u),this.dehanceValues_(u)},e.spliceItemsIntoValues_=function(i,l,r){if(r.length<sD){var a;return(a=this.values_).splice.apply(a,[i,l].concat(r))}else{var s=this.values_.slice(i,i+l),o=this.values_.slice(i+l);this.values_.length+=r.length-l;for(var c=0;c<r.length;c++)this.values_[i+c]=r[c];for(var u=0;u<o.length;u++)this.values_[i+r.length+u]=o[u];return s}},e.notifyArrayChildUpdate_=function(i,l,r){var a=!this.owned_&&Su(),s=pi(this),o=s||a?{observableKind:"array",object:this.proxy_,type:$i,debugObjectName:this.atom_.name_,index:i,newValue:l,oldValue:r}:null;this.atom_.reportChanged(),s&&Zi(this,o)},e.notifyArraySplice_=function(i,l,r){var a=!this.owned_&&Su(),s=pi(this),o=s||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:ex,index:i,removed:r,added:l,removedCount:r.length,addedCount:l.length}:null;this.atom_.reportChanged(),s&&Zi(this,o)},e.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},e.set_=function(i,l){var r=this.values_;if(this.legacyMode_&&i>r.length&&Re(17,i,r.length),i<r.length){this.atom_;var a=r[i];if(Kn(this)){var s=Un(this,{type:$i,object:this.proxy_,index:i,newValue:l});if(!s)return;l=s.newValue}l=this.enhancer_(l,a);var o=l!==a;o&&(r[i]=l,this.notifyArrayChildUpdate_(i,l,a))}else{for(var c=new Array(i+1-r.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=l,this.spliceWithArray_(r.length,0,c)}},t}();function cD(t,e,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),BN(),es(function(){var l=new kg(n,e,i,!1);_N(l.values_,ye,l);var r=new Proxy(l.values_,oD);return l.proxy_=r,t&&t.length&&l.spliceWithArray_(0,0,t),r})}var Cb={clear:function(){return this.splice(0)},replace:function(e){var n=this[ye];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var i=arguments.length,l=new Array(i>2?i-2:0),r=2;r<i;r++)l[r-2]=arguments[r];var a=this[ye];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,n)}return a.spliceWithArray_(e,n,l)},spliceWithArray:function(e,n,i){return this[ye].spliceWithArray_(e,n,i)},push:function(){for(var e=this[ye],n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[ye].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[ye],n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return re.trackingDerivation&&Re(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){re.trackingDerivation&&Re(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[ye],i=n.dehanceValues_(n.values_).indexOf(e);return i>-1?(this.splice(i,1),!0):!1}};Qe("at",Mn);Qe("concat",Mn);Qe("flat",Mn);Qe("includes",Mn);Qe("indexOf",Mn);Qe("join",Mn);Qe("lastIndexOf",Mn);Qe("slice",Mn);Qe("toString",Mn);Qe("toLocaleString",Mn);Qe("toSorted",Mn);Qe("toSpliced",Mn);Qe("with",Mn);Qe("every",Ti);Qe("filter",Ti);Qe("find",Ti);Qe("findIndex",Ti);Qe("findLast",Ti);Qe("findLastIndex",Ti);Qe("flatMap",Ti);Qe("forEach",Ti);Qe("map",Ti);Qe("some",Ti);Qe("toReversed",Ti);Qe("reduce",Cv);Qe("reduceRight",Cv);function Qe(t,e){typeof Array.prototype[t]=="function"&&(Cb[t]=e(t))}function Mn(t){return function(){var e=this[ye];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function Ti(t){return function(e,n){var i=this,l=this[ye];l.atom_.reportObserved();var r=l.dehanceValues_(l.values_);return r[t](function(a,s){return e.call(n,a,s,i)})}}function Cv(t){return function(){var e=this,n=this[ye];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),l=arguments[0];return arguments[0]=function(r,a,s){return l(r,a,s,e)},i[t].apply(i,arguments)}}var uD=Qr("ObservableArrayAdministration",kg);function ll(t){return bZ(t)&&uD(t[ye])}var dD={},mr="add",kb="delete",Eg=function(){function t(n,i,l){var r=this;i===void 0&&(i=Fa),l===void 0&&(l="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ye]=dD,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=l,Sn(Map)||Re(18),es(function(){r.keysAtom_=Mb("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,n&&r.merge(n)})}var e=t.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var l=this;if(!re.trackingDerivation)return this.has_(i);var r=this.hasMap_.get(i);if(!r){var a=r=new Gr(this.has_(i),fZ,"ObservableMap.key?",!1);this.hasMap_.set(i,a),xv(a,function(){return l.hasMap_.delete(i)})}return r.get()},e.set=function(i,l){var r=this.has_(i);if(Kn(this)){var a=Un(this,{type:r?$i:mr,object:this,newValue:l,name:i});if(!a)return this;l=a.newValue}return r?this.updateValue_(i,l):this.addValue_(i,l),this},e.delete=function(i){var l=this;if(this.keysAtom_,Kn(this)){var r=Un(this,{type:kb,object:this,name:i});if(!r)return!1}if(this.has_(i)){var a=Su(),s=pi(this),o=s||a?{observableKind:"map",debugObjectName:this.name_,type:kb,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return fl(function(){var c;l.keysAtom_.reportChanged(),(c=l.hasMap_.get(i))==null||c.setNewValue_(!1);var u=l.data_.get(i);u.setNewValue_(void 0),l.data_.delete(i)}),s&&Zi(this,o),!0}return!1},e.updateValue_=function(i,l){var r=this.data_.get(i);if(l=r.prepareNewValue_(l),l!==re.UNCHANGED){var a=Su(),s=pi(this),o=s||a?{observableKind:"map",debugObjectName:this.name_,type:$i,object:this,oldValue:r.value_,name:i,newValue:l}:null;r.setNewValue_(l),s&&Zi(this,o)}},e.addValue_=function(i,l){var r=this;this.keysAtom_,fl(function(){var c,u=new Gr(l,r.enhancer_,"ObservableMap.key",!1);r.data_.set(i,u),l=u.value_,(c=r.hasMap_.get(i))==null||c.setNewValue_(!0),r.keysAtom_.reportChanged()});var a=Su(),s=pi(this),o=s||a?{observableKind:"map",debugObjectName:this.name_,type:mr,object:this,name:i,newValue:l}:null;s&&Zi(this,o)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,l=this.keys();return tx({next:function(){var a=l.next(),s=a.done,o=a.value;return{done:s,value:s?void 0:i.get(o)}}})},e.entries=function(){var i=this,l=this.keys();return tx({next:function(){var a=l.next(),s=a.done,o=a.value;return{done:s,value:s?void 0:[o,i.get(o)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(i,l){for(var r=io(this),a;!(a=r()).done;){var s=a.value,o=s[0],c=s[1];i.call(l,c,o,this)}},e.merge=function(i){var l=this;return $n(i)&&(i=new Map(i)),fl(function(){wr(i)?Rj(i).forEach(function(r){return l.set(r,i[r])}):Array.isArray(i)?i.forEach(function(r){var a=r[0],s=r[1];return l.set(a,s)}):nc(i)?(xj(i)||Re(19,i),i.forEach(function(r,a){return l.set(a,r)})):i!=null&&Re(20,i)}),this},e.clear=function(){var i=this;fl(function(){dv(function(){for(var l=io(i.keys()),r;!(r=l()).done;){var a=r.value;i.delete(a)}})})},e.replace=function(i){var l=this;return fl(function(){for(var r=mD(i),a=new Map,s=!1,o=io(l.data_.keys()),c;!(c=o()).done;){var u=c.value;if(!r.has(u)){var d=l.delete(u);if(d)s=!0;else{var m=l.data_.get(u);a.set(u,m)}}}for(var h=io(r.entries()),b;!(b=h()).done;){var Z=b.value,p=Z[0],f=Z[1],G=l.data_.has(p);if(l.set(p,f),l.data_.has(p)){var V=l.data_.get(p);a.set(p,V),G||(s=!0)}}if(!s)if(l.data_.size!==a.size)l.keysAtom_.reportChanged();else for(var X=l.data_.keys(),L=a.keys(),x=X.next(),v=L.next();!x.done;){if(x.value!==v.value){l.keysAtom_.reportChanged();break}x=X.next(),v=L.next()}l.data_=a}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,l){return Qd(this,i)},e.intercept_=function(i){return Bd(this,i)},ic(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),$n=Qr("ObservableMap",Eg);function tx(t){return t[Symbol.toStringTag]="MapIterator",Pg(t)}function mD(t){if(nc(t)||$n(t))return t;if(Array.isArray(t))return new Map(t);if(wr(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return Re(21,t)}var hD={},kv=function(){function t(n,i,l){var r=this;i===void 0&&(i=Fa),l===void 0&&(l="ObservableSet"),this.name_=void 0,this[ye]=hD,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=l,Sn(Set)||Re(22),this.enhancer_=function(a,s){return i(a,s,l)},es(function(){r.atom_=Mb(r.name_),n&&r.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},e.clear=function(){var i=this;fl(function(){dv(function(){for(var l=io(i.data_.values()),r;!(r=l()).done;){var a=r.value;i.delete(a)}})})},e.forEach=function(i,l){for(var r=io(this),a;!(a=r()).done;){var s=a.value;i.call(l,s,s,this)}},e.add=function(i){var l=this;if(this.atom_,Kn(this)){var r=Un(this,{type:mr,object:this,newValue:i});if(!r)return this}if(!this.has(i)){fl(function(){l.data_.add(l.enhancer_(i,void 0)),l.atom_.reportChanged()});var a=!1,s=pi(this),o=s||a?{observableKind:"set",debugObjectName:this.name_,type:mr,object:this,newValue:i}:null;s&&Zi(this,o)}return this},e.delete=function(i){var l=this;if(Kn(this)){var r=Un(this,{type:kb,object:this,oldValue:i});if(!r)return!1}if(this.has(i)){var a=!1,s=pi(this),o=s||a?{observableKind:"set",debugObjectName:this.name_,type:kb,object:this,oldValue:i}:null;return fl(function(){l.atom_.reportChanged(),l.data_.delete(i)}),s&&Zi(this,o),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=0,l=Array.from(this.keys()),r=Array.from(this.values());return nx({next:function(){var s=i;return i+=1,s<r.length?{value:[l[s],r[s]],done:!1}:{value:void 0,done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,l=0,r=Array.from(this.data_.values());return nx({next:function(){return l<r.length?{value:i.dehanceValue_(r[l++]),done:!1}:{value:void 0,done:!0}}})},e.intersection=function(i){if(Zl(i)&&!Ht(i))return i.intersection(this);var l=new Set(this);return l.intersection(i)},e.union=function(i){if(Zl(i)&&!Ht(i))return i.union(this);var l=new Set(this);return l.union(i)},e.difference=function(i){return new Set(this).difference(i)},e.symmetricDifference=function(i){if(Zl(i)&&!Ht(i))return i.symmetricDifference(this);var l=new Set(this);return l.symmetricDifference(i)},e.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},e.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},e.isDisjointFrom=function(i){if(Zl(i)&&!Ht(i))return i.isDisjointFrom(this);var l=new Set(this);return l.isDisjointFrom(i)},e.replace=function(i){var l=this;return Ht(i)&&(i=new Set(i)),fl(function(){Array.isArray(i)?(l.clear(),i.forEach(function(r){return l.add(r)})):Zl(i)?(l.clear(),i.forEach(function(r){return l.add(r)})):i!=null&&Re("Cannot initialize set from "+i)}),this},e.observe_=function(i,l){return Qd(this,i)},e.intercept_=function(i){return Bd(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},ic(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Ht=Qr("ObservableSet",kv);function nx(t){return t[Symbol.toStringTag]="SetIterator",Pg(t)}var ix=Object.create(null),lx="remove",Ev=function(){function t(n,i,l,r){i===void 0&&(i=new Map),r===void 0&&(r=iH),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=l,this.defaultAnnotation_=r,this.keysAtom_=new Ar("ObservableObject.keys"),this.isPlainObject_=wr(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,l){var r=this.values_.get(i);if(r instanceof gi)return r.set(l),!0;if(Kn(this)){var a=Un(this,{type:$i,object:this.proxy_||this.target_,name:i,newValue:l});if(!a)return null;l=a.newValue}if(l=r.prepareNewValue_(l),l!==re.UNCHANGED){var s=pi(this),o=!1,c=s||o?{type:$i,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:i,newValue:l}:null;r.setNewValue_(l),s&&Zi(this,c)}return!0},e.get_=function(i){return re.trackingDerivation&&!Vl(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,l,r){return r===void 0&&(r=!1),Vl(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,l):r?Reflect.set(this.target_,i,l):(this.target_[i]=l,!0):this.extend_(i,{value:l,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},e.has_=function(i){if(!re.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var l=this.pendingKeys_.get(i);return l||(l=new Gr(i in this.target_,fZ,"ObservableObject.key?",!1),this.pendingKeys_.set(i,l)),l.get()},e.make_=function(i,l){if(l===!0&&(l=this.defaultAnnotation_),l!==!1){if(!(i in this.target_)){var r;if((r=this.target_[Hi])!=null&&r[i])return;Re(1,l.annotationType_,this.name_+"."+i.toString())}for(var a=this.target_;a&&a!==hZ;){var s=Lb(a,i);if(s){var o=l.make_(this,i,s,a);if(o===0)return;if(o===1)break}a=Object.getPrototypeOf(a)}ax(this,l,i)}},e.extend_=function(i,l,r,a){if(a===void 0&&(a=!1),r===!0&&(r=this.defaultAnnotation_),r===!1)return this.defineProperty_(i,l,a);var s=r.extend_(this,i,l,a);return s&&ax(this,r,i),s},e.defineProperty_=function(i,l,r){r===void 0&&(r=!1),this.keysAtom_;try{_t();var a=this.delete_(i);if(!a)return a;if(Kn(this)){var s=Un(this,{object:this.proxy_||this.target_,name:i,type:mr,newValue:l.value});if(!s)return null;var o=s.newValue;l.value!==o&&(l=Jr({},l,{value:o}))}if(r){if(!Reflect.defineProperty(this.target_,i,l))return!1}else Ai(this.target_,i,l);this.notifyPropertyAddition_(i,l.value)}finally{$t()}return!0},e.defineObservableProperty_=function(i,l,r,a){a===void 0&&(a=!1),this.keysAtom_;try{_t();var s=this.delete_(i);if(!s)return s;if(Kn(this)){var o=Un(this,{object:this.proxy_||this.target_,name:i,type:mr,newValue:l});if(!o)return null;l=o.newValue}var c=rx(i),u={configurable:re.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(a){if(!Reflect.defineProperty(this.target_,i,u))return!1}else Ai(this.target_,i,u);var d=new Gr(l,r,"ObservableObject.key",!1);this.values_.set(i,d),this.notifyPropertyAddition_(i,d.value_)}finally{$t()}return!0},e.defineComputedProperty_=function(i,l,r){r===void 0&&(r=!1),this.keysAtom_;try{_t();var a=this.delete_(i);if(!a)return a;if(Kn(this)){var s=Un(this,{object:this.proxy_||this.target_,name:i,type:mr,newValue:void 0});if(!s)return null}l.name||(l.name="ObservableObject.key"),l.context=this.proxy_||this.target_;var o=rx(i),c={configurable:re.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,i,c))return!1}else Ai(this.target_,i,c);this.values_.set(i,new gi(l)),this.notifyPropertyAddition_(i,void 0)}finally{$t()}return!0},e.delete_=function(i,l){if(l===void 0&&(l=!1),this.keysAtom_,!Vl(this.target_,i))return!0;if(Kn(this)){var r=Un(this,{object:this.proxy_||this.target_,name:i,type:lx});if(!r)return null}try{var a;_t();var s=pi(this),o=!1,c=this.values_.get(i),u=void 0;if(!c&&(s||o)){var d;u=(d=Lb(this.target_,i))==null?void 0:d.value}if(l){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(c&&(this.values_.delete(i),c instanceof Gr&&(u=c.value_),fv(c)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(i in this.target_),s||o){var m={type:lx,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:i};s&&Zi(this,m)}}finally{$t()}return!0},e.observe_=function(i,l){return Qd(this,i)},e.intercept_=function(i){return Bd(this,i)},e.notifyPropertyAddition_=function(i,l){var r,a=pi(this),s=!1;if(a||s){var o=a||s?{type:mr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:l}:null;a&&Zi(this,o)}(r=this.pendingKeys_)==null||(r=r.get(i))==null||r.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ZZ(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function rc(t,e){var n;if(Vl(t,ye))return t;var i=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",l=new Ev(t,new Map,String(i),bH(e));return pZ(t,ye,l),t}var bD=Qr("ObservableObjectAdministration",Ev);function rx(t){return ix[t]||(ix[t]={get:function(){return this[ye].getObservablePropValue_(t)},set:function(n){return this[ye].setObservablePropValue_(t,n)}})}function Dn(t){return bZ(t)?bD(t[ye]):!1}function ax(t,e,n){var i;(i=t.target_[Hi])==null||delete i[n]}var pD=Uv(0),ZD=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),q0=0,Kv=function(){};function fD(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}fD(Kv,Array.prototype);var Kg=function(t){function e(i,l,r,a){var s;return r===void 0&&(r="ObservableArray"),a===void 0&&(a=!1),s=t.call(this)||this,es(function(){var o=new kg(r,l,a,!0);o.proxy_=s,_N(s,ye,o),i&&i.length&&s.spliceWithArray(0,0,i),ZD&&Object.defineProperty(s,"0",pD)}),s}ev(e,t);var n=e.prototype;return n.concat=function(){this[ye].atom_.reportObserved();for(var l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),r.map(function(s){return ll(s)?s.slice():s}))},n[Symbol.iterator]=function(){var i=this,l=0;return Pg({next:function(){return l<i.length?{value:i[l++],done:!1}:{done:!0,value:void 0}}})},ic(e,[{key:"length",get:function(){return this[ye].getArrayLength_()},set:function(l){this[ye].setArrayLength_(l)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Kv);Object.entries(Cb).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&pZ(Kg.prototype,e,n)});function Uv(t){return{enumerable:!1,configurable:!0,get:function(){return this[ye].get_(t)},set:function(n){this[ye].set_(t,n)}}}function yD(t){Ai(Kg.prototype,""+t,Uv(t))}function Pv(t){if(t>q0){for(var e=q0;e<t+100;e++)yD(e);q0=t}}Pv(1e3);function GD(t,e,n){return new Kg(t,e,n)}function za(t,e){if(typeof t=="object"&&t!==null){if(ll(t))return e!==void 0&&Re(23),t[ye].atom_;if(Ht(t))return t.atom_;if($n(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||Re(25,e,NG(t)),n}if(Dn(t)){if(!e)return Re(26);var i=t[ye].values_.get(e);return i||Re(27,e,NG(t)),i}if(Ng(t)||gZ(t)||wb(t))return t}else if(Sn(t)&&wb(t[ye]))return t[ye];Re(28)}function nl(t,e){if(t||Re(29),e!==void 0)return nl(za(t,e));if(Ng(t)||gZ(t)||wb(t)||$n(t)||Ht(t))return t;if(t[ye])return t[ye];Re(24,t)}function NG(t,e){var n;if(e!==void 0)n=za(t,e);else{if(nd(t))return t.name;Dn(t)||$n(t)||Ht(t)?n=nl(t):n=za(t)}return n.name_}function es(t){var e=qa(),n=GZ(!0);_t();try{return t()}finally{$t(),XZ(n),Tl(e)}}var sx=hZ.toString;function Ug(t,e,n){return n===void 0&&(n=-1),vG(t,e,n)}function vG(t,e,n,i,l){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var r=typeof t;if(r!=="function"&&r!=="object"&&typeof e!="object")return!1;var a=sx.call(t);if(a!==sx.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=ox(t),e=ox(e);var s=a==="[object Array]";if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,c=e.constructor;if(o!==c&&!(Sn(o)&&o instanceof o&&Sn(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],l=l||[];for(var u=i.length;u--;)if(i[u]===t)return l[u]===e;if(i.push(t),l.push(e),s){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!vG(t[u],e[u],n-1,i,l))return!1}else{var d=Object.keys(t),m;if(u=d.length,Object.keys(e).length!==u)return!1;for(;u--;)if(m=d[u],!(Vl(e,m)&&vG(t[m],e[m],n-1,i,l)))return!1}return i.pop(),l.pop(),!0}function ox(t){return ll(t)?t.slice():nc(t)||$n(t)||Zl(t)||Ht(t)?Array.from(t.entries()):t}var cx,XD=((cx=mZ().Iterator)==null?void 0:cx.prototype)||{};function Pg(t){return t[Symbol.iterator]=gD,Object.assign(Object.create(XD),t)}function gD(){return this}["Symbol","Map","Set"].forEach(function(t){var e=mZ();typeof e[t]>"u"&&Re("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:IH,extras:{getDebugName:NG},$mobx:ye});if(!T.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Jv)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Fv={exports:{}},qn={},zv={exports:{}},jv={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,i,l;if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}if(typeof window>"u"||typeof MessageChannel!="function"){var o=null,c=null,u=function(){if(o!==null)try{var U=t.unstable_now();o(!0,U),o=null}catch(Q){throw setTimeout(u,0),Q}};e=function(U){o!==null?setTimeout(e,0,U):(o=U,setTimeout(u,0))},n=function(U,Q){c=setTimeout(U,Q)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},l=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,m=window.clearTimeout;if(typeof console<"u"){var h=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof h!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,Z=null,p=-1,f=5,G=0;t.unstable_shouldYield=function(){return t.unstable_now()>=G},l=function(){},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):f=0<U?Math.floor(1e3/U):5};var V=new MessageChannel,X=V.port2;V.port1.onmessage=function(){if(Z!==null){var U=t.unstable_now();G=U+f;try{Z(!0,U)?X.postMessage(null):(b=!1,Z=null)}catch(Q){throw X.postMessage(null),Q}}else b=!1},e=function(U){Z=U,b||(b=!0,X.postMessage(null))},n=function(U,Q){p=d(function(){U(t.unstable_now())},Q)},i=function(){m(p),p=-1}}function L(U,Q){var k=U.length;U.push(Q);e:for(;;){var A=k-1>>>1,O=U[A];if(O!==void 0&&0<C(O,Q))U[A]=Q,U[k]=O,k=A;else break e}}function x(U){return U=U[0],U===void 0?null:U}function v(U){var Q=U[0];if(Q!==void 0){var k=U.pop();if(k!==Q){U[0]=k;e:for(var A=0,O=U.length;A<O;){var le=2*(A+1)-1,Ge=U[le],ve=le+1,fe=U[ve];if(Ge!==void 0&&0>C(Ge,k))fe!==void 0&&0>C(fe,Ge)?(U[A]=fe,U[ve]=k,A=ve):(U[A]=Ge,U[le]=k,A=le);else if(fe!==void 0&&0>C(fe,k))U[A]=fe,U[ve]=k,A=ve;else break e}}return Q}return null}function C(U,Q){var k=U.sortIndex-Q.sortIndex;return k!==0?k:U.id-Q.id}var w=[],z=[],$=1,ee=null,D=3,j=!1,_=!1,ce=!1;function E(U){for(var Q=x(z);Q!==null;){if(Q.callback===null)v(z);else if(Q.startTime<=U)v(z),Q.sortIndex=Q.expirationTime,L(w,Q);else break;Q=x(z)}}function H(U){if(ce=!1,E(U),!_)if(x(w)!==null)_=!0,e(de);else{var Q=x(z);Q!==null&&n(H,Q.startTime-U)}}function de(U,Q){_=!1,ce&&(ce=!1,i()),j=!0;var k=D;try{for(E(Q),ee=x(w);ee!==null&&(!(ee.expirationTime>Q)||U&&!t.unstable_shouldYield());){var A=ee.callback;if(typeof A=="function"){ee.callback=null,D=ee.priorityLevel;var O=A(ee.expirationTime<=Q);Q=t.unstable_now(),typeof O=="function"?ee.callback=O:ee===x(w)&&v(w),E(Q)}else v(w);ee=x(w)}if(ee!==null)var le=!0;else{var Ge=x(z);Ge!==null&&n(H,Ge.startTime-Q),le=!1}return le}finally{ee=null,D=k,j=!1}}var ue=l;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||j||(_=!0,e(de))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return x(w)},t.unstable_next=function(U){switch(D){case 1:case 2:case 3:var Q=3;break;default:Q=D}var k=D;D=Q;try{return U()}finally{D=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ue,t.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var k=D;D=U;try{return Q()}finally{D=k}},t.unstable_scheduleCallback=function(U,Q,k){var A=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?A+k:A):k=A,U){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=k+O,U={id:$++,callback:Q,priorityLevel:U,startTime:k,expirationTime:O,sortIndex:-1},k>A?(U.sortIndex=k,L(z,U),x(w)===null&&U===x(z)&&(ce?i():ce=!0,n(H,k-A))):(U.sortIndex=O,L(w,U),_||j||(_=!0,e(de))),U},t.unstable_wrapCallback=function(U){var Q=D;return function(){var k=D;D=Q;try{return U.apply(this,arguments)}finally{D=k}}}})(jv);zv.exports=jv;var WD=zv.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WZ=T,ot=ZM,xt=WD;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!WZ)throw Error(ie(227));var Hv=new Set,ld={};function ts(t,e){Io(t,e),Io(t+"Capture",e)}function Io(t,e){for(ld[t]=e,t=0;t<e.length;t++)Hv.add(e[t])}var Nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ux=Object.prototype.hasOwnProperty,dx={},mx={};function TD(t){return ux.call(mx,t)?!0:ux.call(dx,t)?!1:VD.test(t)?mx[t]=!0:(dx[t]=!0,!1)}function xD(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RD(t,e,n,i){if(e===null||typeof e>"u"||xD(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,i,l,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fg,zg);Nt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fg,zg);Nt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fg,zg);Nt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function jg(t,e,n,i){var l=Nt.hasOwnProperty(e)?Nt[e]:null,r=l!==null?l.type===0:i?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");r||(RD(e,n,l,i)&&(n=null),i||l===null?TD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):l.mustUseProperty?t[l.propertyName]=n===null?l.type===3?!1:"":n:(e=l.attributeName,i=l.attributeNamespace,n===null?t.removeAttribute(e):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ns=WZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=60103,ga=60106,sr=60107,Hg=60108,Yu=60114,Dg=60109,Og=60110,VZ=60112,Lu=60113,Eb=60120,TZ=60115,Bg=60116,Qg=60121,Ag=60128,Dv=60129,_g=60130,IG=60131;if(typeof Symbol=="function"&&Symbol.for){var Tt=Symbol.for;du=Tt("react.element"),ga=Tt("react.portal"),sr=Tt("react.fragment"),Hg=Tt("react.strict_mode"),Yu=Tt("react.profiler"),Dg=Tt("react.provider"),Og=Tt("react.context"),VZ=Tt("react.forward_ref"),Lu=Tt("react.suspense"),Eb=Tt("react.suspense_list"),TZ=Tt("react.memo"),Bg=Tt("react.lazy"),Qg=Tt("react.block"),Tt("react.scope"),Ag=Tt("react.opaque.id"),Dv=Tt("react.debug_trace_mode"),_g=Tt("react.offscreen"),IG=Tt("react.legacy_hidden")}var hx=typeof Symbol=="function"&&Symbol.iterator;function kc(t){return t===null||typeof t!="object"?null:(t=hx&&t[hx]||t["@@iterator"],typeof t=="function"?t:null)}var ef;function mu(t){if(ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ef=e&&e[1]||""}return`
`+ef+t}var tf=!1;function Dm(t,e){if(!t||tf)return"";tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(o){var i=o}Reflect.construct(t,[],e)}else{try{e.call()}catch(o){i=o}t.call(e.prototype)}else{try{throw Error()}catch(o){i=o}t()}}catch(o){if(o&&i&&typeof o.stack=="string"){for(var l=o.stack.split(`
`),r=i.stack.split(`
`),a=l.length-1,s=r.length-1;1<=a&&0<=s&&l[a]!==r[s];)s--;for(;1<=a&&0<=s;a--,s--)if(l[a]!==r[s]){if(a!==1||s!==1)do if(a--,s--,0>s||l[a]!==r[s])return`
`+l[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{tf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mu(t):""}function SD(t){switch(t.tag){case 5:return mu(t.type);case 16:return mu("Lazy");case 13:return mu("Suspense");case 19:return mu("SuspenseList");case 0:case 2:case 15:return t=Dm(t.type,!1),t;case 11:return t=Dm(t.type.render,!1),t;case 22:return t=Dm(t.type._render,!1),t;case 1:return t=Dm(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sr:return"Fragment";case ga:return"Portal";case Yu:return"Profiler";case Hg:return"StrictMode";case Lu:return"Suspense";case Eb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Og:return(t.displayName||"Context")+".Consumer";case Dg:return(t._context.displayName||"Context")+".Provider";case VZ:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case TZ:return yo(t.type);case Qg:return yo(t._render);case Bg:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function kr(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Ov(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YD(t){var e=Ov(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Om(t){t._valueTracker||(t._valueTracker=YD(t))}function Bv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Ov(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Kb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wG(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bx(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=kr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qv(t,e){e=e.checked,e!=null&&jg(t,"checked",e,!1)}function JG(t,e){Qv(t,e);var n=kr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?CG(t,e.type,n):e.hasOwnProperty("defaultValue")&&CG(t,e.type,kr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function px(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function CG(t,e,n){(e!=="number"||Kb(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function LD(t){var e="";return WZ.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function kG(t,e){return t=ot({children:void 0},e),(e=LD(e.children))&&(t.children=e),t}function Go(t,e,n,i){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&i&&(t[n].defaultSelected=!0)}else{for(n=""+kr(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,i&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function EG(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kr(n)}}function Av(t,e){var n=kr(e.value),i=kr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function fx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var KG={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function _v(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function UG(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_v(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bm,$v=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,l){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,l)})}:t}(function(t,e){if(t.namespaceURI!==KG.svg||"innerHTML"in t)t.innerHTML=e;else{for(Bm=Bm||document.createElement("div"),Bm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MD=["Webkit","ms","Moz","O"];Object.keys(Mu).forEach(function(t){MD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mu[e]=Mu[t]})});function qv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mu.hasOwnProperty(t)&&Mu[t]?(""+e).trim():e+"px"}function eI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,l=qv(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,l):t[n]=l}}var ND=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function PG(t,e){if(e){if(ND[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function FG(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function $g(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zG=null,Xo=null,go=null;function yx(t){if(t=_d(t)){if(typeof zG!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=MZ(e),zG(t.stateNode,t.type,e))}}function tI(t){Xo?go?go.push(t):go=[t]:Xo=t}function nI(){if(Xo){var t=Xo,e=go;if(go=Xo=null,yx(t),e)for(t=0;t<e.length;t++)yx(e[t])}}function qg(t,e){return t(e)}function iI(t,e,n,i,l){return t(e,n,i,l)}function eW(){}var lI=qg,Wa=!1,nf=!1;function tW(){(Xo!==null||go!==null)&&(eW(),nI())}function vD(t,e,n){if(nf)return t(e,n);nf=!0;try{return lI(t,e,n)}finally{nf=!1,tW()}}function ad(t,e){var n=t.stateNode;if(n===null)return null;var i=MZ(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var jG=!1;if(Nl)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){jG=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{jG=!1}function ID(t,e,n,i,l,r,a,s,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Nu=!1,Ub=null,Pb=!1,HG=null,wD={onError:function(t){Nu=!0,Ub=t}};function JD(t,e,n,i,l,r,a,s,o){Nu=!1,Ub=null,ID.apply(wD,arguments)}function CD(t,e,n,i,l,r,a,s,o){if(JD.apply(this,arguments),Nu){if(Nu){var c=Ub;Nu=!1,Ub=null}else throw Error(ie(198));Pb||(Pb=!0,HG=c)}}function is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gx(t){if(is(t)!==t)throw Error(ie(188))}function kD(t){var e=t.alternate;if(!e){if(e=is(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,i=e;;){var l=n.return;if(l===null)break;var r=l.alternate;if(r===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===r.child){for(r=l.child;r;){if(r===n)return Gx(l),t;if(r===i)return Gx(l),e;r=r.sibling}throw Error(ie(188))}if(n.return!==i.return)n=l,i=r;else{for(var a=!1,s=l.child;s;){if(s===n){a=!0,n=l,i=r;break}if(s===i){a=!0,i=l,n=r;break}s=s.sibling}if(!a){for(s=r.child;s;){if(s===n){a=!0,n=r,i=l;break}if(s===i){a=!0,i=r,n=l;break}s=s.sibling}if(!a)throw Error(ie(189))}}if(n.alternate!==i)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function aI(t){if(t=kD(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Xx(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var sI,nW,oI,cI,DG=!1,Di=[],Xr=null,gr=null,Wr=null,sd=new Map,od=new Map,Kc=[],gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OG(t,e,n,i,l){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:l,targetContainers:[i]}}function Wx(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":sd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":od.delete(e.pointerId)}}function Uc(t,e,n,i,l,r){return t===null||t.nativeEvent!==r?(t=OG(e,n,i,l,r),e!==null&&(e=_d(e),e!==null&&nW(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function ED(t,e,n,i,l){switch(e){case"focusin":return Xr=Uc(Xr,t,e,n,i,l),!0;case"dragenter":return gr=Uc(gr,t,e,n,i,l),!0;case"mouseover":return Wr=Uc(Wr,t,e,n,i,l),!0;case"pointerover":var r=l.pointerId;return sd.set(r,Uc(sd.get(r)||null,t,e,n,i,l)),!0;case"gotpointercapture":return r=l.pointerId,od.set(r,Uc(od.get(r)||null,t,e,n,i,l)),!0}return!1}function KD(t){var e=Va(t.target);if(e!==null){var n=is(e);if(n!==null){if(e=n.tag,e===13){if(e=rI(n),e!==null){t.blockedOn=e,cI(t.lanePriority,function(){xt.unstable_runWithPriority(t.priority,function(){oI(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=aW(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=_d(n),e!==null&&nW(e),t.blockedOn=n,!1;e.shift()}return!0}function Vx(t,e,n){Bh(t)&&n.delete(e)}function UD(){for(DG=!1;0<Di.length;){var t=Di[0];if(t.blockedOn!==null){t=_d(t.blockedOn),t!==null&&sI(t);break}for(var e=t.targetContainers;0<e.length;){var n=aW(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Di.shift()}Xr!==null&&Bh(Xr)&&(Xr=null),gr!==null&&Bh(gr)&&(gr=null),Wr!==null&&Bh(Wr)&&(Wr=null),sd.forEach(Vx),od.forEach(Vx)}function Pc(t,e){t.blockedOn===e&&(t.blockedOn=null,DG||(DG=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,UD)))}function uI(t){function e(l){return Pc(l,t)}if(0<Di.length){Pc(Di[0],t);for(var n=1;n<Di.length;n++){var i=Di[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Xr!==null&&Pc(Xr,t),gr!==null&&Pc(gr,t),Wr!==null&&Pc(Wr,t),sd.forEach(e),od.forEach(e),n=0;n<Kc.length;n++)i=Kc[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Kc.length&&(n=Kc[0],n.blockedOn===null);)KD(n),n.blockedOn===null&&Kc.shift()}function Qm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:Qm("Animation","AnimationEnd"),animationiteration:Qm("Animation","AnimationIteration"),animationstart:Qm("Animation","AnimationStart"),transitionend:Qm("Transition","TransitionEnd")},lf={},dI={};Nl&&(dI=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function xZ(t){if(lf[t])return lf[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dI)return lf[t]=e[n];return t}var mI=xZ("animationend"),hI=xZ("animationiteration"),bI=xZ("animationstart"),pI=xZ("transitionend"),ZI=new Map,iW=new Map,PD=["abort","abort",mI,"animationEnd",hI,"animationIteration",bI,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",pI,"transitionEnd","waiting","waiting"];function lW(t,e){for(var n=0;n<t.length;n+=2){var i=t[n],l=t[n+1];l="on"+(l[0].toUpperCase()+l.slice(1)),iW.set(i,e),ZI.set(i,l),ts(l,[i])}}var FD=xt.unstable_now;FD();var Be=8;function Ns(t){if(1&t)return Be=15,1;if(2&t)return Be=14,2;if(4&t)return Be=13,4;var e=24&t;return e!==0?(Be=12,e):t&32?(Be=11,32):(e=192&t,e!==0?(Be=10,e):t&256?(Be=9,256):(e=3584&t,e!==0?(Be=8,e):t&4096?(Be=7,4096):(e=4186112&t,e!==0?(Be=6,e):(e=62914560&t,e!==0?(Be=5,e):t&67108864?(Be=4,67108864):t&134217728?(Be=3,134217728):(e=805306368&t,e!==0?(Be=2,e):1073741824&t?(Be=1,1073741824):(Be=8,t))))))}function zD(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function jD(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ie(358,t))}}function cd(t,e){var n=t.pendingLanes;if(n===0)return Be=0;var i=0,l=0,r=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(r!==0)i=r,l=Be=15;else if(r=n&134217727,r!==0){var o=r&~a;o!==0?(i=Ns(o),l=Be):(s&=r,s!==0&&(i=Ns(s),l=Be))}else r=n&~a,r!==0?(i=Ns(r),l=Be):s!==0&&(i=Ns(s),l=Be);if(i===0)return 0;if(i=31-Er(i),i=n&((0>i?0:1<<i)<<1)-1,e!==0&&e!==i&&!(e&a)){if(Ns(e),l<=Be)return e;Be=l}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Er(e),l=1<<n,i|=t[n],e&=~l;return i}function fI(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fb(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=vs(24&~e),t===0?Fb(10,e):t;case 10:return t=vs(192&~e),t===0?Fb(8,e):t;case 8:return t=vs(3584&~e),t===0&&(t=vs(4186112&~e),t===0&&(t=512)),t;case 2:return e=vs(805306368&~e),e===0&&(e=268435456),e}throw Error(ie(358,t))}function vs(t){return t&-t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function RZ(t,e,n){t.pendingLanes|=e;var i=e-1;t.suspendedLanes&=i,t.pingedLanes&=i,t=t.eventTimes,e=31-Er(e),t[e]=n}var Er=Math.clz32?Math.clz32:OD,HD=Math.log,DD=Math.LN2;function OD(t){return t===0?32:31-(HD(t)/DD|0)|0}var BD=xt.unstable_UserBlockingPriority,QD=xt.unstable_runWithPriority,Qh=!0;function AD(t,e,n,i){Wa||eW();var l=rW,r=Wa;Wa=!0;try{iI(l,t,e,n,i)}finally{(Wa=r)||tW()}}function _D(t,e,n,i){QD(BD,rW.bind(null,t,e,n,i))}function rW(t,e,n,i){if(Qh){var l;if((l=(e&4)===0)&&0<Di.length&&-1<gx.indexOf(t))t=OG(null,t,e,n,i),Di.push(t);else{var r=aW(t,e,n,i);if(r===null)l&&Wx(t,i);else{if(l){if(-1<gx.indexOf(t)){t=OG(r,t,e,n,i),Di.push(t);return}if(ED(r,t,e,n,i))return;Wx(t,i)}MI(t,e,i,null,n)}}}}function aW(t,e,n,i){var l=$g(i);if(l=Va(l),l!==null){var r=is(l);if(r===null)l=null;else{var a=r.tag;if(a===13){if(l=rI(r),l!==null)return l;l=null}else if(a===3){if(r.stateNode.hydrate)return r.tag===3?r.stateNode.containerInfo:null;l=null}else r!==l&&(l=null)}}return MI(t,e,i,l,n),null}var hr=null,sW=null,Ah=null;function yI(){if(Ah)return Ah;var t,e=sW,n=e.length,i,l="value"in hr?hr.value:hr.textContent,r=l.length;for(t=0;t<n&&e[t]===l[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===l[r-i];i++);return Ah=l.slice(t,1<i?1-i:void 0)}function _h(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Am(){return!0}function Tx(){return!1}function Nn(t){function e(n,i,l,r,a){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(r):r[s]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Am:Tx,this.isPropagationStopped=Tx,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Am)},persist:function(){},isPersistent:Am}),e}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oW=Nn(ac),Ad=ot({},ac,{view:0,detail:0}),$D=Nn(Ad),af,sf,Fc,SZ=ot({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cW,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fc&&(Fc&&t.type==="mousemove"?(af=t.screenX-Fc.screenX,sf=t.screenY-Fc.screenY):sf=af=0,Fc=t),af)},movementY:function(t){return"movementY"in t?t.movementY:sf}}),xx=Nn(SZ),qD=ot({},SZ,{dataTransfer:0}),eO=Nn(qD),tO=ot({},Ad,{relatedTarget:0}),of=Nn(tO),nO=ot({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),iO=Nn(nO),lO=ot({},ac,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rO=Nn(lO),aO=ot({},ac,{data:0}),Rx=Nn(aO),sO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cO[t])?!!e[t]:!1}function cW(){return uO}var dO=ot({},Ad,{key:function(t){if(t.key){var e=sO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cW,charCode:function(t){return t.type==="keypress"?_h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mO=Nn(dO),hO=ot({},SZ,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sx=Nn(hO),bO=ot({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cW}),pO=Nn(bO),ZO=ot({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),fO=Nn(ZO),yO=ot({},SZ,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GO=Nn(yO),XO=[9,13,27,32],uW=Nl&&"CompositionEvent"in window,vu=null;Nl&&"documentMode"in document&&(vu=document.documentMode);var gO=Nl&&"TextEvent"in window&&!vu,GI=Nl&&(!uW||vu&&8<vu&&11>=vu),Yx=String.fromCharCode(32),Lx=!1;function XI(t,e){switch(t){case"keyup":return XO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function WO(t,e){switch(t){case"compositionend":return gI(e);case"keypress":return e.which!==32?null:(Lx=!0,Yx);case"textInput":return t=e.data,t===Yx&&Lx?null:t;default:return null}}function VO(t,e){if(ro)return t==="compositionend"||!uW&&XI(t,e)?(t=yI(),Ah=sW=hr=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GI&&e.locale!=="ko"?null:e.data;default:return null}}var TO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TO[t.type]:e==="textarea"}function WI(t,e,n,i){tI(i),e=zb(e,"onChange"),0<e.length&&(n=new oW("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Iu=null,ud=null;function xO(t){SI(t,0)}function YZ(t){var e=so(t);if(Bv(e))return t}function RO(t,e){if(t==="change")return e}var VI=!1;if(Nl){var cf;if(Nl){var uf="oninput"in document;if(!uf){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),uf=typeof Nx.oninput=="function"}cf=uf}else cf=!1;VI=cf&&(!document.documentMode||9<document.documentMode)}function vx(){Iu&&(Iu.detachEvent("onpropertychange",TI),ud=Iu=null)}function TI(t){if(t.propertyName==="value"&&YZ(ud)){var e=[];if(WI(e,ud,t,$g(t)),t=xO,Wa)t(e);else{Wa=!0;try{qg(t,e)}finally{Wa=!1,tW()}}}}function SO(t,e,n){t==="focusin"?(vx(),Iu=e,ud=n,Iu.attachEvent("onpropertychange",TI)):t==="focusout"&&vx()}function YO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return YZ(ud)}function LO(t,e){if(t==="click")return YZ(e)}function MO(t,e){if(t==="input"||t==="change")return YZ(e)}function NO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:NO,vO=Object.prototype.hasOwnProperty;function dd(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!vO.call(e,n[i])||!Pn(t[n[i]],e[n[i]]))return!1;return!0}function Ix(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wx(t,e){var n=Ix(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ix(n)}}function xI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jx(){for(var t=window,e=Kb();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kb(t.document)}return e}function BG(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var IO=Nl&&"documentMode"in document&&11>=document.documentMode,ao=null,QG=null,wu=null,AG=!1;function Cx(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;AG||ao==null||ao!==Kb(i)||(i=ao,"selectionStart"in i&&BG(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wu&&dd(wu,i)||(wu=i,i=zb(QG,"onSelect"),0<i.length&&(e=new oW("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ao)))}lW("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);lW("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);lW(PD,2);for(var kx="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),df=0;df<kx.length;df++)iW.set(kx[df],0);Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RI=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function Ex(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,CD(i,e,void 0,t),t.currentTarget=null}function SI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],l=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var s=i[a],o=s.instance,c=s.currentTarget;if(s=s.listener,o!==r&&l.isPropagationStopped())break e;Ex(l,s,c),r=o}else for(a=0;a<i.length;a++){if(s=i[a],o=s.instance,c=s.currentTarget,s=s.listener,o!==r&&l.isPropagationStopped())break e;Ex(l,s,c),r=o}}}if(Pb)throw t=HG,Pb=!1,HG=null,t}function qe(t,e){var n=vI(e),i=t+"__bubble";n.has(i)||(LI(e,t,2,!1),n.add(i))}var Kx="_reactListening"+Math.random().toString(36).slice(2);function YI(t){t[Kx]||(t[Kx]=!0,Hv.forEach(function(e){RI.has(e)||Ux(e,!1,t,null),Ux(e,!0,t,null)}))}function Ux(t,e,n,i){var l=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,r=n;if(t==="selectionchange"&&n.nodeType!==9&&(r=n.ownerDocument),i!==null&&!e&&RI.has(t)){if(t!=="scroll")return;l|=2,r=i}var a=vI(r),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(l|=4),LI(r,t,l,e),a.add(s))}function LI(t,e,n,i){var l=iW.get(e);switch(l===void 0?2:l){case 0:l=AD;break;case 1:l=_D;break;default:l=rW}n=l.bind(null,e,n,t),l=void 0,!jG||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function MI(t,e,n,i,l){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var s=i.stateNode.containerInfo;if(s===l||s.nodeType===8&&s.parentNode===l)break;if(a===4)for(a=i.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;a=a.return}for(;s!==null;){if(a=Va(s),a===null)return;if(o=a.tag,o===5||o===6){i=r=a;continue e}s=s.parentNode}}i=i.return}vD(function(){var c=r,u=$g(n),d=[];e:{var m=ZI.get(t);if(m!==void 0){var h=oW,b=t;switch(t){case"keypress":if(_h(n)===0)break e;case"keydown":case"keyup":h=mO;break;case"focusin":b="focus",h=of;break;case"focusout":b="blur",h=of;break;case"beforeblur":case"afterblur":h=of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=xx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=eO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=pO;break;case mI:case hI:case bI:h=iO;break;case pI:h=fO;break;case"scroll":h=$D;break;case"wheel":h=GO;break;case"copy":case"cut":case"paste":h=rO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Sx}var Z=(e&4)!==0,p=!Z&&t==="scroll",f=Z?m!==null?m+"Capture":null:m;Z=[];for(var G=c,V;G!==null;){V=G;var X=V.stateNode;if(V.tag===5&&X!==null&&(V=X,f!==null&&(X=ad(G,f),X!=null&&Z.push(md(G,X,V)))),p)break;G=G.return}0<Z.length&&(m=new h(m,b,null,n,u),d.push({event:m,listeners:Z}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&!(e&16)&&(b=n.relatedTarget||n.fromElement)&&(Va(b)||b[sc]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(b=n.relatedTarget||n.toElement,h=c,b=b?Va(b):null,b!==null&&(p=is(b),b!==p||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=c),h!==b)){if(Z=xx,X="onMouseLeave",f="onMouseEnter",G="mouse",(t==="pointerout"||t==="pointerover")&&(Z=Sx,X="onPointerLeave",f="onPointerEnter",G="pointer"),p=h==null?m:so(h),V=b==null?m:so(b),m=new Z(X,G+"leave",h,n,u),m.target=p,m.relatedTarget=V,X=null,Va(u)===c&&(Z=new Z(f,G+"enter",b,n,u),Z.target=V,Z.relatedTarget=p,X=Z),p=X,h&&b)t:{for(Z=h,f=b,G=0,V=Z;V;V=Ws(V))G++;for(V=0,X=f;X;X=Ws(X))V++;for(;0<G-V;)Z=Ws(Z),G--;for(;0<V-G;)f=Ws(f),V--;for(;G--;){if(Z===f||f!==null&&Z===f.alternate)break t;Z=Ws(Z),f=Ws(f)}Z=null}else Z=null;h!==null&&Px(d,m,h,Z,!1),b!==null&&p!==null&&Px(d,p,b,Z,!0)}}e:{if(m=c?so(c):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var L=RO;else if(Mx(m))if(VI)L=MO;else{L=YO;var x=SO}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=LO);if(L&&(L=L(t,c))){WI(d,L,n,u);break e}x&&x(t,m,c),t==="focusout"&&(x=m._wrapperState)&&x.controlled&&m.type==="number"&&CG(m,"number",m.value)}switch(x=c?so(c):window,t){case"focusin":(Mx(x)||x.contentEditable==="true")&&(ao=x,QG=c,wu=null);break;case"focusout":wu=QG=ao=null;break;case"mousedown":AG=!0;break;case"contextmenu":case"mouseup":case"dragend":AG=!1,Cx(d,n,u);break;case"selectionchange":if(IO)break;case"keydown":case"keyup":Cx(d,n,u)}var v;if(uW)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ro?XI(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(GI&&n.locale!=="ko"&&(ro||C!=="onCompositionStart"?C==="onCompositionEnd"&&ro&&(v=yI()):(hr=u,sW="value"in hr?hr.value:hr.textContent,ro=!0)),x=zb(c,C),0<x.length&&(C=new Rx(C,t,null,n,u),d.push({event:C,listeners:x}),v?C.data=v:(v=gI(n),v!==null&&(C.data=v)))),(v=gO?WO(t,n):VO(t,n))&&(c=zb(c,"onBeforeInput"),0<c.length&&(u=new Rx("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=v))}SI(d,e)})}function md(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zb(t,e){for(var n=e+"Capture",i=[];t!==null;){var l=t,r=l.stateNode;l.tag===5&&r!==null&&(l=r,r=ad(t,n),r!=null&&i.unshift(md(t,r,l)),r=ad(t,e),r!=null&&i.push(md(t,r,l))),t=t.return}return i}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Px(t,e,n,i,l){for(var r=e._reactName,a=[];n!==null&&n!==i;){var s=n,o=s.alternate,c=s.stateNode;if(o!==null&&o===i)break;s.tag===5&&c!==null&&(s=c,l?(o=ad(n,r),o!=null&&a.unshift(md(n,o,s))):l||(o=ad(n,r),o!=null&&a.push(md(n,o,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}function jb(){}var mf=null,hf=null;function NI(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function _G(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fx=typeof setTimeout=="function"?setTimeout:void 0,wO=typeof clearTimeout=="function"?clearTimeout:void 0;function dW(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function zx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bf=0;function JO(t){return{$$typeof:Ag,toString:t,valueOf:t}}var LZ=Math.random().toString(36).slice(2),br="__reactFiber$"+LZ,Hb="__reactProps$"+LZ,sc="__reactContainer$"+LZ,jx="__reactEvents$"+LZ;function Va(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sc]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zx(t);t!==null;){if(n=t[br])return n;t=zx(t)}return e}t=n,n=t.parentNode}return null}function _d(t){return t=t[br]||t[sc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function so(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function MZ(t){return t[Hb]||null}function vI(t){var e=t[jx];return e===void 0&&(e=t[jx]=new Set),e}var $G=[],oo=-1;function _r(t){return{current:t}}function rt(t){0>oo||(t.current=$G[oo],$G[oo]=null,oo--)}function bt(t,e){oo++,$G[oo]=t.current,t.current=e}var Kr={},Ft=_r(Kr),en=_r(!1),ja=Kr;function wo(t,e){var n=t.type.contextTypes;if(!n)return Kr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var l={},r;for(r in n)l[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),l}function tn(t){return t=t.childContextTypes,t!=null}function Db(){rt(en),rt(Ft)}function Hx(t,e,n){if(Ft.current!==Kr)throw Error(ie(168));bt(Ft,e),bt(en,n)}function II(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(ie(108,yo(e)||"Unknown",l));return ot({},n,i)}function $h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,ja=Ft.current,bt(Ft,t),bt(en,en.current),!0}function Dx(t,e,n){var i=t.stateNode;if(!i)throw Error(ie(169));n?(t=II(t,e,ja),i.__reactInternalMemoizedMergedChildContext=t,rt(en),rt(Ft),bt(Ft,t)):rt(en),bt(en,n)}var mW=null,Ma=null,CO=xt.unstable_runWithPriority,hW=xt.unstable_scheduleCallback,qG=xt.unstable_cancelCallback,kO=xt.unstable_shouldYield,Ox=xt.unstable_requestPaint,eX=xt.unstable_now,EO=xt.unstable_getCurrentPriorityLevel,NZ=xt.unstable_ImmediatePriority,wI=xt.unstable_UserBlockingPriority,JI=xt.unstable_NormalPriority,CI=xt.unstable_LowPriority,kI=xt.unstable_IdlePriority,pf={},KO=Ox!==void 0?Ox:function(){},pl=null,qh=null,Zf=!1,Bx=eX(),Et=1e4>Bx?eX:function(){return eX()-Bx};function Jo(){switch(EO()){case NZ:return 99;case wI:return 98;case JI:return 97;case CI:return 96;case kI:return 95;default:throw Error(ie(332))}}function EI(t){switch(t){case 99:return NZ;case 98:return wI;case 97:return JI;case 96:return CI;case 95:return kI;default:throw Error(ie(332))}}function Ha(t,e){return t=EI(t),CO(t,e)}function hd(t,e,n){return t=EI(t),hW(t,e,n)}function rl(){if(qh!==null){var t=qh;qh=null,qG(t)}KI()}function KI(){if(!Zf&&pl!==null){Zf=!0;var t=0;try{var e=pl;Ha(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),pl=null}catch(n){throw pl!==null&&(pl=pl.slice(t+1)),hW(NZ,rl),n}finally{Zf=!1}}}var UO=ns.ReactCurrentBatchConfig;function si(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ob=_r(null),Bb=null,co=null,Qb=null;function bW(){Qb=co=Bb=null}function pW(t){var e=Ob.current;rt(Ob),t.type._context._currentValue=e}function UI(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Vo(t,e){Bb=t,Qb=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ui=!0),t.firstContext=null)}function On(t,e){if(Qb!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Qb=t,e=1073741823),e={context:t,observedBits:e,next:null},co===null){if(Bb===null)throw Error(ie(308));co=e,Bb.dependencies={lanes:0,firstContext:e,responders:null}}else co=co.next=e;return t._currentValue}var rr=!1;function ZW(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function PI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Qx(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?l=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?l=r=e:r=r.next=e}else l=r=e;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bd(t,e,n,i){var l=t.updateQueue;rr=!1;var r=l.firstBaseUpdate,a=l.lastBaseUpdate,s=l.shared.pending;if(s!==null){l.shared.pending=null;var o=s,c=o.next;o.next=null,a===null?r=c:a.next=c,a=o;var u=t.alternate;if(u!==null){u=u.updateQueue;var d=u.lastBaseUpdate;d!==a&&(d===null?u.firstBaseUpdate=c:d.next=c,u.lastBaseUpdate=o)}}if(r!==null){d=l.baseState,a=0,u=c=o=null;do{s=r.lane;var m=r.eventTime;if((i&s)===s){u!==null&&(u=u.next={eventTime:m,lane:0,tag:r.tag,payload:r.payload,callback:r.callback,next:null});e:{var h=t,b=r;switch(s=e,m=n,b.tag){case 1:if(h=b.payload,typeof h=="function"){d=h.call(m,d,s);break e}d=h;break e;case 3:h.flags=h.flags&-4097|64;case 0:if(h=b.payload,s=typeof h=="function"?h.call(m,d,s):h,s==null)break e;d=ot({},d,s);break e;case 2:rr=!0}}r.callback!==null&&(t.flags|=32,s=l.effects,s===null?l.effects=[r]:s.push(r))}else m={eventTime:m,lane:s,tag:r.tag,payload:r.payload,callback:r.callback,next:null},u===null?(c=u=m,o=d):u=u.next=m,a|=s;if(r=r.next,r===null){if(s=l.shared.pending,s===null)break;r=s.next,s.next=null,l.lastBaseUpdate=s,l.shared.pending=null}}while(1);u===null&&(o=d),l.baseState=o,l.firstBaseUpdate=c,l.lastBaseUpdate=u,qd|=a,t.lanes=a,t.memoizedState=d}}function Ax(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],l=i.callback;if(l!==null){if(i.callback=null,i=n,typeof l!="function")throw Error(ie(191,l));l.call(i)}}}var FI=new WZ.Component().refs;function Ab(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vZ={isMounted:function(t){return(t=t._reactInternals)?is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Tn(),l=xr(t),r=Vr(i,l);r.payload=e,n!=null&&(r.callback=n),Tr(t,r),Rr(t,l,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Tn(),l=xr(t),r=Vr(i,l);r.tag=1,r.payload=e,n!=null&&(r.callback=n),Tr(t,r),Rr(t,l,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),i=xr(t),l=Vr(n,i);l.tag=2,e!=null&&(l.callback=e),Tr(t,l),Rr(t,i,n)}};function _x(t,e,n,i,l,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!dd(n,i)||!dd(l,r):!0}function zI(t,e,n){var i=!1,l=Kr,r=e.contextType;return typeof r=="object"&&r!==null?r=On(r):(l=tn(e)?ja:Ft.current,i=e.contextTypes,r=(i=i!=null)?wo(t,l):Kr),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vZ,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=r),e}function $x(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&vZ.enqueueReplaceState(e,e.state,null)}function tX(t,e,n,i){var l=t.stateNode;l.props=n,l.state=t.memoizedState,l.refs=FI,ZW(t);var r=e.contextType;typeof r=="object"&&r!==null?l.context=On(r):(r=tn(e)?ja:Ft.current,l.context=wo(t,r)),bd(t,n,l,i),l.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ab(t,e,r,n),l.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(e=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),e!==l.state&&vZ.enqueueReplaceState(l,l.state,null),bd(t,n,l,i),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4)}var _m=Array.isArray;function zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var i=n.stateNode}if(!i)throw Error(ie(147,t));var l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(r){var a=i.refs;a===FI&&(a=i.refs={}),r===null?delete a[l]:a[l]=r},e._stringRef=l,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function $m(t,e){if(t.type!=="textarea")throw Error(ie(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function jI(t){function e(p,f){if(t){var G=p.lastEffect;G!==null?(G.nextEffect=f,p.lastEffect=f):p.firstEffect=p.lastEffect=f,f.nextEffect=null,f.flags=8}}function n(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function i(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function l(p,f){return p=Pr(p,f),p.index=0,p.sibling=null,p}function r(p,f,G){return p.index=G,t?(G=p.alternate,G!==null?(G=G.index,G<f?(p.flags=2,f):G):(p.flags=2,f)):f}function a(p){return t&&p.alternate===null&&(p.flags=2),p}function s(p,f,G,V){return f===null||f.tag!==6?(f=gf(G,p.mode,V),f.return=p,f):(f=l(f,G),f.return=p,f)}function o(p,f,G,V){return f!==null&&f.elementType===G.type?(V=l(f,G.props),V.ref=zc(p,f,G),V.return=p,V):(V=ib(G.type,G.key,G.props,null,p.mode,V),V.ref=zc(p,f,G),V.return=p,V)}function c(p,f,G,V){return f===null||f.tag!==4||f.stateNode.containerInfo!==G.containerInfo||f.stateNode.implementation!==G.implementation?(f=Wf(G,p.mode,V),f.return=p,f):(f=l(f,G.children||[]),f.return=p,f)}function u(p,f,G,V,X){return f===null||f.tag!==7?(f=So(G,p.mode,V,X),f.return=p,f):(f=l(f,G),f.return=p,f)}function d(p,f,G){if(typeof f=="string"||typeof f=="number")return f=gf(""+f,p.mode,G),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case du:return G=ib(f.type,f.key,f.props,null,p.mode,G),G.ref=zc(p,null,f),G.return=p,G;case ga:return f=Wf(f,p.mode,G),f.return=p,f}if(_m(f)||kc(f))return f=So(f,p.mode,G,null),f.return=p,f;$m(p,f)}return null}function m(p,f,G,V){var X=f!==null?f.key:null;if(typeof G=="string"||typeof G=="number")return X!==null?null:s(p,f,""+G,V);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case du:return G.key===X?G.type===sr?u(p,f,G.props.children,V,X):o(p,f,G,V):null;case ga:return G.key===X?c(p,f,G,V):null}if(_m(G)||kc(G))return X!==null?null:u(p,f,G,V,null);$m(p,G)}return null}function h(p,f,G,V,X){if(typeof V=="string"||typeof V=="number")return p=p.get(G)||null,s(f,p,""+V,X);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case du:return p=p.get(V.key===null?G:V.key)||null,V.type===sr?u(f,p,V.props.children,X,V.key):o(f,p,V,X);case ga:return p=p.get(V.key===null?G:V.key)||null,c(f,p,V,X)}if(_m(V)||kc(V))return p=p.get(G)||null,u(f,p,V,X,null);$m(f,V)}return null}function b(p,f,G,V){for(var X=null,L=null,x=f,v=f=0,C=null;x!==null&&v<G.length;v++){x.index>v?(C=x,x=null):C=x.sibling;var w=m(p,x,G[v],V);if(w===null){x===null&&(x=C);break}t&&x&&w.alternate===null&&e(p,x),f=r(w,f,v),L===null?X=w:L.sibling=w,L=w,x=C}if(v===G.length)return n(p,x),X;if(x===null){for(;v<G.length;v++)x=d(p,G[v],V),x!==null&&(f=r(x,f,v),L===null?X=x:L.sibling=x,L=x);return X}for(x=i(p,x);v<G.length;v++)C=h(x,p,v,G[v],V),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?v:C.key),f=r(C,f,v),L===null?X=C:L.sibling=C,L=C);return t&&x.forEach(function(z){return e(p,z)}),X}function Z(p,f,G,V){var X=kc(G);if(typeof X!="function")throw Error(ie(150));if(G=X.call(G),G==null)throw Error(ie(151));for(var L=X=null,x=f,v=f=0,C=null,w=G.next();x!==null&&!w.done;v++,w=G.next()){x.index>v?(C=x,x=null):C=x.sibling;var z=m(p,x,w.value,V);if(z===null){x===null&&(x=C);break}t&&x&&z.alternate===null&&e(p,x),f=r(z,f,v),L===null?X=z:L.sibling=z,L=z,x=C}if(w.done)return n(p,x),X;if(x===null){for(;!w.done;v++,w=G.next())w=d(p,w.value,V),w!==null&&(f=r(w,f,v),L===null?X=w:L.sibling=w,L=w);return X}for(x=i(p,x);!w.done;v++,w=G.next())w=h(x,p,v,w.value,V),w!==null&&(t&&w.alternate!==null&&x.delete(w.key===null?v:w.key),f=r(w,f,v),L===null?X=w:L.sibling=w,L=w);return t&&x.forEach(function($){return e(p,$)}),X}return function(p,f,G,V){var X=typeof G=="object"&&G!==null&&G.type===sr&&G.key===null;X&&(G=G.props.children);var L=typeof G=="object"&&G!==null;if(L)switch(G.$$typeof){case du:e:{for(L=G.key,X=f;X!==null;){if(X.key===L){switch(X.tag){case 7:if(G.type===sr){n(p,X.sibling),f=l(X,G.props.children),f.return=p,p=f;break e}break;default:if(X.elementType===G.type){n(p,X.sibling),f=l(X,G.props),f.ref=zc(p,X,G),f.return=p,p=f;break e}}n(p,X);break}else e(p,X);X=X.sibling}G.type===sr?(f=So(G.props.children,p.mode,V,G.key),f.return=p,p=f):(V=ib(G.type,G.key,G.props,null,p.mode,V),V.ref=zc(p,f,G),V.return=p,p=V)}return a(p);case ga:e:{for(X=G.key;f!==null;){if(f.key===X)if(f.tag===4&&f.stateNode.containerInfo===G.containerInfo&&f.stateNode.implementation===G.implementation){n(p,f.sibling),f=l(f,G.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else e(p,f);f=f.sibling}f=Wf(G,p.mode,V),f.return=p,p=f}return a(p)}if(typeof G=="string"||typeof G=="number")return G=""+G,f!==null&&f.tag===6?(n(p,f.sibling),f=l(f,G),f.return=p,p=f):(n(p,f),f=gf(G,p.mode,V),f.return=p,p=f),a(p);if(_m(G))return b(p,f,G,V);if(kc(G))return Z(p,f,G,V);if(L&&$m(p,G),typeof G>"u"&&!X)switch(p.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ie(152,yo(p.type)||"Component"))}return n(p,f)}}var _b=jI(!0),HI=jI(!1),$d={},qi=_r($d),pd=_r($d),Zd=_r($d);function Ta(t){if(t===$d)throw Error(ie(174));return t}function nX(t,e){switch(bt(Zd,e),bt(pd,t),bt(qi,$d),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:UG(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=UG(e,t)}rt(qi),bt(qi,e)}function Co(){rt(qi),rt(pd),rt(Zd)}function qx(t){Ta(Zd.current);var e=Ta(qi.current),n=UG(e,t.type);e!==n&&(bt(pd,t),bt(qi,n))}function fW(t){pd.current===t&&(rt(qi),rt(pd))}var ht=_r(0);function $b(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gl=null,pr=null,el=!1;function DI(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function eR(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function iX(t){if(el){var e=pr;if(e){var n=e;if(!eR(t,e)){if(e=Wo(n.nextSibling),!e||!eR(t,e)){t.flags=t.flags&-1025|2,el=!1,gl=t;return}DI(gl,n)}gl=t,pr=Wo(e.firstChild)}else t.flags=t.flags&-1025|2,el=!1,gl=t}}function tR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gl=t}function qm(t){if(t!==gl)return!1;if(!el)return tR(t),el=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!_G(e,t.memoizedProps))for(e=pr;e;)DI(t,e),e=Wo(e.nextSibling);if(tR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=Wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=gl?Wo(t.stateNode.nextSibling):null;return!0}function ff(){pr=gl=null,el=!1}var To=[];function yW(){for(var t=0;t<To.length;t++)To[t]._workInProgressVersionPrimary=null;To.length=0}var Ju=ns.ReactCurrentDispatcher,Hn=ns.ReactCurrentBatchConfig,fd=0,pt=null,wt=null,Yt=null,qb=!1,Cu=!1;function Bt(){throw Error(ie(321))}function GW(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function XW(t,e,n,i,l,r){if(fd=r,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ju.current=t===null||t.memoizedState===null?FO:zO,t=n(i,l),Cu){r=0;do{if(Cu=!1,!(25>r))throw Error(ie(301));r+=1,Yt=wt=null,e.updateQueue=null,Ju.current=jO,t=n(i,l)}while(Cu)}if(Ju.current=ip,e=wt!==null&&wt.next!==null,fd=0,Yt=wt=pt=null,qb=!1,e)throw Error(ie(300));return t}function xa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?pt.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function ls(){if(wt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=Yt===null?pt.memoizedState:Yt.next;if(e!==null)Yt=e,wt=t;else{if(t===null)throw Error(ie(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Yt===null?pt.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Oi(t,e){return typeof e=="function"?e(t):e}function jc(t){var e=ls(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var i=wt,l=i.baseQueue,r=n.pending;if(r!==null){if(l!==null){var a=l.next;l.next=r.next,r.next=a}i.baseQueue=l=r,n.pending=null}if(l!==null){l=l.next,i=i.baseState;var s=a=r=null,o=l;do{var c=o.lane;if((fd&c)===c)s!==null&&(s=s.next={lane:0,action:o.action,eagerReducer:o.eagerReducer,eagerState:o.eagerState,next:null}),i=o.eagerReducer===t?o.eagerState:t(i,o.action);else{var u={lane:c,action:o.action,eagerReducer:o.eagerReducer,eagerState:o.eagerState,next:null};s===null?(a=s=u,r=i):s=s.next=u,pt.lanes|=c,qd|=c}o=o.next}while(o!==null&&o!==l);s===null?r=i:s.next=a,Pn(i,e.memoizedState)||(ui=!0),e.memoizedState=i,e.baseState=r,e.baseQueue=s,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function Hc(t){var e=ls(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var i=n.dispatch,l=n.pending,r=e.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do r=t(r,a.action),a=a.next;while(a!==l);Pn(r,e.memoizedState)||(ui=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function nR(t,e,n){var i=e._getVersion;i=i(e._source);var l=e._workInProgressVersionPrimary;if(l!==null?t=l===i:(t=t.mutableReadLanes,(t=(fd&t)===t)&&(e._workInProgressVersionPrimary=i,To.push(e))),t)return n(e._source);throw To.push(e),Error(ie(350))}function OI(t,e,n,i){var l=Dt;if(l===null)throw Error(ie(349));var r=e._getVersion,a=r(e._source),s=Ju.current,o=s.useState(function(){return nR(l,e,n)}),c=o[1],u=o[0];o=Yt;var d=t.memoizedState,m=d.refs,h=m.getSnapshot,b=d.source;d=d.subscribe;var Z=pt;return t.memoizedState={refs:m,source:e,subscribe:i},s.useEffect(function(){m.getSnapshot=n,m.setSnapshot=c;var p=r(e._source);if(!Pn(a,p)){p=n(e._source),Pn(u,p)||(c(p),p=xr(Z),l.mutableReadLanes|=p&l.pendingLanes),p=l.mutableReadLanes,l.entangledLanes|=p;for(var f=l.entanglements,G=p;0<G;){var V=31-Er(G),X=1<<V;f[V]|=p,G&=~X}}},[n,e,i]),s.useEffect(function(){return i(e._source,function(){var p=m.getSnapshot,f=m.setSnapshot;try{f(p(e._source));var G=xr(Z);l.mutableReadLanes|=G&l.pendingLanes}catch(V){f(function(){throw V})}})},[e,i]),Pn(h,n)&&Pn(b,e)&&Pn(d,i)||(t={pending:null,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:u},t.dispatch=c=VW.bind(null,pt,t),o.queue=t,o.baseQueue=null,u=nR(l,e,n),o.memoizedState=o.baseState=u),u}function BI(t,e,n){var i=ls();return OI(i,t,e,n)}function Dc(t){var e=xa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},t=t.dispatch=VW.bind(null,pt,t),[e.memoizedState,t]}function ep(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function iR(t){var e=xa();return t={current:t},e.memoizedState=t}function tp(){return ls().memoizedState}function lX(t,e,n,i){var l=xa();pt.flags|=t,l.memoizedState=ep(1|e,n,void 0,i===void 0?null:i)}function gW(t,e,n,i){var l=ls();i=i===void 0?null:i;var r=void 0;if(wt!==null){var a=wt.memoizedState;if(r=a.destroy,i!==null&&GW(i,a.deps)){ep(e,n,r,i);return}}pt.flags|=t,l.memoizedState=ep(1|e,n,r,i)}function lR(t,e){return lX(516,4,t,e)}function np(t,e){return gW(516,4,t,e)}function QI(t,e){return gW(4,2,t,e)}function AI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _I(t,e,n){return n=n!=null?n.concat([t]):null,gW(4,2,AI.bind(null,e,t),n)}function WW(){}function $I(t,e){var n=ls();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&GW(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function qI(t,e){var n=ls();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&GW(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function PO(t,e){var n=Jo();Ha(98>n?98:n,function(){t(!0)}),Ha(97<n?97:n,function(){var i=Hn.transition;Hn.transition=1;try{t(!1),e()}finally{Hn.transition=i}})}function VW(t,e,n){var i=Tn(),l=xr(t),r={lane:l,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r,a=t.alternate,t===pt||a!==null&&a===pt)Cu=qb=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(r.eagerReducer=a,r.eagerState=o,Pn(o,s))return}catch{}finally{}Rr(t,l,i)}}var ip={readContext:On,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useOpaqueIdentifier:Bt,unstable_isNewReconciler:!1},FO={readContext:On,useCallback:function(t,e){return xa().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:lR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lX(4,2,AI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lX(4,2,t,e)},useMemo:function(t,e){var n=xa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=xa();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=VW.bind(null,pt,t),[i.memoizedState,t]},useRef:iR,useState:Dc,useDebugValue:WW,useDeferredValue:function(t){var e=Dc(t),n=e[0],i=e[1];return lR(function(){var l=Hn.transition;Hn.transition=1;try{i(t)}finally{Hn.transition=l}},[t]),n},useTransition:function(){var t=Dc(!1),e=t[0];return t=PO.bind(null,t[1]),iR(t),[t,e]},useMutableSource:function(t,e,n){var i=xa();return i.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},OI(i,t,e,n)},useOpaqueIdentifier:function(){if(el){var t=!1,e=JO(function(){throw t||(t=!0,n("r:"+(bf++).toString(36))),Error(ie(355))}),n=Dc(e)[1];return!(pt.mode&2)&&(pt.flags|=516,ep(5,function(){n("r:"+(bf++).toString(36))},void 0,null)),e}return e="r:"+(bf++).toString(36),Dc(e),e},unstable_isNewReconciler:!1},zO={readContext:On,useCallback:$I,useContext:On,useEffect:np,useImperativeHandle:_I,useLayoutEffect:QI,useMemo:qI,useReducer:jc,useRef:tp,useState:function(){return jc(Oi)},useDebugValue:WW,useDeferredValue:function(t){var e=jc(Oi),n=e[0],i=e[1];return np(function(){var l=Hn.transition;Hn.transition=1;try{i(t)}finally{Hn.transition=l}},[t]),n},useTransition:function(){var t=jc(Oi)[0];return[tp().current,t]},useMutableSource:BI,useOpaqueIdentifier:function(){return jc(Oi)[0]},unstable_isNewReconciler:!1},jO={readContext:On,useCallback:$I,useContext:On,useEffect:np,useImperativeHandle:_I,useLayoutEffect:QI,useMemo:qI,useReducer:Hc,useRef:tp,useState:function(){return Hc(Oi)},useDebugValue:WW,useDeferredValue:function(t){var e=Hc(Oi),n=e[0],i=e[1];return np(function(){var l=Hn.transition;Hn.transition=1;try{i(t)}finally{Hn.transition=l}},[t]),n},useTransition:function(){var t=Hc(Oi)[0];return[tp().current,t]},useMutableSource:BI,useOpaqueIdentifier:function(){return Hc(Oi)[0]},unstable_isNewReconciler:!1},HO=ns.ReactCurrentOwner,ui=!1;function At(t,e,n,i){e.child=t===null?HI(e,null,n,i):_b(e,t.child,n,i)}function rR(t,e,n,i,l){n=n.render;var r=e.ref;return Vo(e,l),i=XW(t,e,n,i,r,l),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~l,Wl(t,e,l)):(e.flags|=1,At(t,e,i,l),e.child)}function aR(t,e,n,i,l,r){if(t===null){var a=n.type;return typeof a=="function"&&!LW(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,ew(t,e,a,i,l,r)):(t=ib(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,!(l&r)&&(l=a.memoizedProps,n=n.compare,n=n!==null?n:dd,n(l,i)&&t.ref===e.ref)?Wl(t,e,r):(e.flags|=1,t=Pr(a,i),t.ref=e.ref,t.return=e,e.child=t)}function ew(t,e,n,i,l,r){if(t!==null&&dd(t.memoizedProps,i)&&t.ref===e.ref)if(ui=!1,(r&l)!==0)t.flags&16384&&(ui=!0);else return e.lanes=t.lanes,Wl(t,e,r);return rX(t,e,n,i,r)}function yf(t,e,n){var i=e.pendingProps,l=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden"||i.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},th(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},th(e,r!==null?r.baseLanes:n);else return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},th(e,t),null;else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,th(e,i);return At(t,e,l,n),e.child}function tw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function rX(t,e,n,i,l){var r=tn(n)?ja:Ft.current;return r=wo(e,r),Vo(e,l),n=XW(t,e,n,i,r,l),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~l,Wl(t,e,l)):(e.flags|=1,At(t,e,n,l),e.child)}function sR(t,e,n,i,l){if(tn(n)){var r=!0;$h(e)}else r=!1;if(Vo(e,l),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),zI(e,n,i),tX(e,n,i,l),i=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var o=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=tn(n)?ja:Ft.current,c=wo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==i||o!==c)&&$x(e,a,i,c),rr=!1;var m=e.memoizedState;a.state=m,bd(e,i,a,l),o=e.memoizedState,s!==i||m!==o||en.current||rr?(typeof u=="function"&&(Ab(e,n,u,i),o=e.memoizedState),(s=rr||_x(e,n,s,i,m,o,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=i,e.memoizedState=o),a.props=i,a.state=o,a.context=c,i=s):(typeof a.componentDidMount=="function"&&(e.flags|=4),i=!1)}else{a=e.stateNode,PI(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:si(e.type,s),a.props=c,d=e.pendingProps,m=a.context,o=n.contextType,typeof o=="object"&&o!==null?o=On(o):(o=tn(n)?ja:Ft.current,o=wo(e,o));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||m!==o)&&$x(e,a,i,o),rr=!1,m=e.memoizedState,a.state=m,bd(e,i,a,l);var b=e.memoizedState;s!==d||m!==b||en.current||rr?(typeof h=="function"&&(Ab(e,n,h,i),b=e.memoizedState),(c=rr||_x(e,n,c,i,m,b,o))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,b,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,b,o)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=256),e.memoizedProps=i,e.memoizedState=b),a.props=i,a.state=b,a.context=o,i=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&m===t.memoizedState||(e.flags|=256),i=!1)}return aX(t,e,n,i,r,l)}function aX(t,e,n,i,l,r){tw(t,e);var a=(e.flags&64)!==0;if(!i&&!a)return l&&Dx(e,n,!1),Wl(t,e,r);i=e.stateNode,HO.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=_b(e,t.child,null,r),e.child=_b(e,null,s,r)):At(t,e,s,r),e.memoizedState=i.state,l&&Dx(e,n,!0),e.child}function oR(t){var e=t.stateNode;e.pendingContext?Hx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hx(t,e.context,!1),nX(t,e.containerInfo)}var eh={dehydrated:null,retryLane:0};function cR(t,e,n){var i=e.pendingProps,l=ht.current,r=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(l&2)!==0),a?(r=!0,e.flags&=-65):t!==null&&t.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(l|=1),bt(ht,l&1),t===null?(i.fallback!==void 0&&iX(e),t=i.children,l=i.fallback,r?(t=uR(e,t,l,n),e.child.memoizedState={baseLanes:n},e.memoizedState=eh,t):typeof i.unstable_expectedLoadTime=="number"?(t=uR(e,t,l,n),e.child.memoizedState={baseLanes:n},e.memoizedState=eh,e.lanes=33554432,t):(n=MW({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?r?(i=mR(t,e,i.children,i.fallback,n),r=e.child,l=t.child.memoizedState,r.memoizedState=l===null?{baseLanes:n}:{baseLanes:l.baseLanes|n},r.childLanes=t.childLanes&~n,e.memoizedState=eh,i):(n=dR(t,e,i.children,n),e.memoizedState=null,n):r?(i=mR(t,e,i.children,i.fallback,n),r=e.child,l=t.child.memoizedState,r.memoizedState=l===null?{baseLanes:n}:{baseLanes:l.baseLanes|n},r.childLanes=t.childLanes&~n,e.memoizedState=eh,i):(n=dR(t,e,i.children,n),e.memoizedState=null,n)}function uR(t,e,n,i){var l=t.mode,r=t.child;return e={mode:"hidden",children:e},!(l&2)&&r!==null?(r.childLanes=0,r.pendingProps=e):r=MW(e,l,0,null),n=So(n,l,i,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n}function dR(t,e,n,i){var l=t.child;return t=l.sibling,n=Pr(l,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function mR(t,e,n,i,l){var r=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return!(r&2)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=s,a=n.lastEffect,a!==null?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Pr(a,s),t!==null?i=Pr(t,i):(i=So(i,r,l,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,i}function hR(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),UI(t.return,e)}function Gf(t,e,n,i,l,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,lastEffect:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=l,a.lastEffect=r)}function bR(t,e,n){var i=e.pendingProps,l=i.revealOrder,r=i.tail;if(At(t,e,i.children,n),i=ht.current,i&2)i=i&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hR(t,n);else if(t.tag===19)hR(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(bt(ht,i),!(e.mode&2))e.memoizedState=null;else switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&$b(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Gf(e,!1,l,n,r,e.lastEffect);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&$b(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Gf(e,!0,n,null,r,e.lastEffect);break;case"together":Gf(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Wl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qd|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var nw,sX,iw,lw;nw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sX=function(){};iw=function(t,e,n,i){var l=t.memoizedProps;if(l!==i){t=e.stateNode,Ta(qi.current);var r=null;switch(n){case"input":l=wG(t,l),i=wG(t,i),r=[];break;case"option":l=kG(t,l),i=kG(t,i),r=[];break;case"select":l=ot({},l,{value:void 0}),i=ot({},i,{value:void 0}),r=[];break;case"textarea":l=EG(t,l),i=EG(t,i),r=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=jb)}PG(n,i);var a;n=null;for(c in l)if(!i.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var s=l[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ld.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var o=i[c];if(s=l!=null?l[c]:void 0,i.hasOwnProperty(c)&&o!==s&&(o!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in o)o.hasOwnProperty(a)&&s[a]!==o[a]&&(n||(n={}),n[a]=o[a])}else n||(r||(r=[]),r.push(c,n)),n=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,s=s?s.__html:void 0,o!=null&&s!==o&&(r=r||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(r=r||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ld.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&qe("scroll",t),r||s===o||(r=[])):typeof o=="object"&&o!==null&&o.$$typeof===Ag?o.toString():(r=r||[]).push(c,o))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};lw=function(t,e,n,i){n!==i&&(e.flags|=4)};function Oc(t,e){if(!el)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function DO(t,e,n){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return tn(e.type)&&Db(),null;case 3:return Co(),rt(en),rt(Ft),yW(),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(qm(e)?e.flags|=4:i.hydrate||(e.flags|=256)),sX(e),null;case 5:fW(e);var l=Ta(Zd.current);if(n=e.type,t!==null&&e.stateNode!=null)iw(t,e,n,i,l),t.ref!==e.ref&&(e.flags|=128);else{if(!i){if(e.stateNode===null)throw Error(ie(166));return null}if(t=Ta(qi.current),qm(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[br]=e,i[Hb]=r,n){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(t=0;t<hu.length;t++)qe(hu[t],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":bx(i,r),qe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},qe("invalid",i);break;case"textarea":Zx(i,r),qe("invalid",i)}PG(n,r),t=null;for(var a in r)r.hasOwnProperty(a)&&(l=r[a],a==="children"?typeof l=="string"?i.textContent!==l&&(t=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(t=["children",""+l]):ld.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&qe("scroll",i));switch(n){case"input":Om(i),px(i,r,!0);break;case"textarea":Om(i),fx(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=jb)}i=t,e.updateQueue=i,i!==null&&(e.flags|=4)}else{switch(a=l.nodeType===9?l:l.ownerDocument,t===KG.html&&(t=_v(n)),t===KG.html?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[br]=e,t[Hb]=i,nw(t,e,!1,!1),e.stateNode=t,a=FG(n,i),n){case"dialog":qe("cancel",t),qe("close",t),l=i;break;case"iframe":case"object":case"embed":qe("load",t),l=i;break;case"video":case"audio":for(l=0;l<hu.length;l++)qe(hu[l],t);l=i;break;case"source":qe("error",t),l=i;break;case"img":case"image":case"link":qe("error",t),qe("load",t),l=i;break;case"details":qe("toggle",t),l=i;break;case"input":bx(t,i),l=wG(t,i),qe("invalid",t);break;case"option":l=kG(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},l=ot({},i,{value:void 0}),qe("invalid",t);break;case"textarea":Zx(t,i),l=EG(t,i),qe("invalid",t);break;default:l=i}PG(n,l);var s=l;for(r in s)if(s.hasOwnProperty(r)){var o=s[r];r==="style"?eI(t,o):r==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&$v(t,o)):r==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&rd(t,o):typeof o=="number"&&rd(t,""+o):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ld.hasOwnProperty(r)?o!=null&&r==="onScroll"&&qe("scroll",t):o!=null&&jg(t,r,o,a))}switch(n){case"input":Om(t),px(t,i,!1);break;case"textarea":Om(t),fx(t);break;case"option":i.value!=null&&t.setAttribute("value",""+kr(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Go(t,!!i.multiple,r,!1):i.defaultValue!=null&&Go(t,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=jb)}NI(n,i)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)lw(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ie(166));n=Ta(Zd.current),Ta(qi.current),qm(e)?(i=e.stateNode,n=e.memoizedProps,i[br]=e,i.nodeValue!==n&&(e.flags|=4)):(i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[br]=e,e.stateNode=i)}return null;case 13:return rt(ht),i=e.memoizedState,e.flags&64?(e.lanes=n,e):(i=i!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&qm(e):n=t.memoizedState!==null,i&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||ht.current&1?Mt===0&&(Mt=3):((Mt===0||Mt===3)&&(Mt=4),Dt===null||!(qd&134217727)&&!(cc&134217727)||xo(Dt,Ut))),(i||n)&&(e.flags|=4),null);case 4:return Co(),sX(e),t===null&&YI(e.stateNode.containerInfo),null;case 10:return pW(e),null;case 17:return tn(e.type)&&Db(),null;case 19:if(rt(ht),i=e.memoizedState,i===null)return null;if(r=(e.flags&64)!==0,a=i.rendering,a===null)if(r)Oc(i,!1);else{if(Mt!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(a=$b(t),a!==null){for(e.flags|=64,Oc(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),i.lastEffect===null&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,a=r.alternate,a===null?(r.childLanes=0,r.lanes=t,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,t=a.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bt(ht,ht.current&1|2),e.child}t=t.sibling}i.tail!==null&&Et()>hX&&(e.flags|=64,r=!0,Oc(i,!1),e.lanes=33554432)}else{if(!r)if(t=$b(a),t!==null){if(e.flags|=64,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!el)return e=e.lastEffect=i.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Et()-i.renderingStartTime>hX&&n!==1073741824&&(e.flags|=64,r=!0,Oc(i,!1),e.lanes=33554432);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=Et(),n.sibling=null,e=ht.current,bt(ht,r?e&1|2:e&1),n):null;case 23:case 24:return YW(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&i.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ie(156,e.tag))}function OO(t){switch(t.tag){case 1:tn(t.type)&&Db();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Co(),rt(en),rt(Ft),yW(),e=t.flags,e&64)throw Error(ie(285));return t.flags=e&-4097|64,t;case 5:return fW(t),null;case 13:return rt(ht),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return rt(ht),null;case 4:return Co(),null;case 10:return pW(t),null;case 23:case 24:return YW(),null;default:return null}}function TW(t,e){try{var n="",i=e;do n+=SD(i),i=i.return;while(i);var l=n}catch(r){l=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:l}}function oX(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BO=typeof WeakMap=="function"?WeakMap:Map;function rw(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){rp||(rp=!0,bX=i),oX(t,e)},n}function aw(t,e,n){n=Vr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var l=e.value;n.payload=function(){return oX(t,e),i(l)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){typeof i!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this),oX(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}var QO=typeof WeakSet=="function"?WeakSet:Set;function pR(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Sr(t,n)}else e.current=null}function AO(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,i=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:si(e.type,n),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&dW(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ie(163))}function _O(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var l=t;i=l.next,l=l.tag,l&4&&l&1&&(pw(n,t),rB(n,t)),t=i}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(i=n.elementType===n.type?e.memoizedProps:si(n.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Ax(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Ax(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&NI(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&uI(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ie(163))}function ZR(t,e){for(var n=t;;){if(n.tag===5){var i=n.stateNode;if(e)i=i.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var l=n.memoizedProps.style;l=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=qv("display",l)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function fR(t,e){if(Ma&&typeof Ma.onCommitFiberUnmount=="function")try{Ma.onCommitFiberUnmount(mW,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var i=n,l=i.destroy;if(i=i.tag,l!==void 0)if(i&4)pw(e,n);else{i=e;try{l()}catch(r){Sr(i,r)}}n=n.next}while(n!==t)}break;case 1:if(pR(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){Sr(e,r)}break;case 5:pR(e);break;case 4:sw(t,e)}}function yR(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function GR(t){return t.tag===5||t.tag===3||t.tag===4}function XR(t){e:{for(var e=t.return;e!==null;){if(GR(e))break e;e=e.return}throw Error(ie(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var i=!1;break;case 3:e=e.containerInfo,i=!0;break;case 4:e=e.containerInfo,i=!0;break;default:throw Error(ie(161))}n.flags&16&&(rd(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||GR(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}i?cX(t,n,e):uX(t,n,e)}function cX(t,e,n){var i=t.tag,l=i===5||i===6;if(l)t=l?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jb));else if(i!==4&&(t=t.child,t!==null))for(cX(t,e,n),t=t.sibling;t!==null;)cX(t,e,n),t=t.sibling}function uX(t,e,n){var i=t.tag,l=i===5||i===6;if(l)t=l?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(uX(t,e,n),t=t.sibling;t!==null;)uX(t,e,n),t=t.sibling}function sw(t,e){for(var n=e,i=!1,l,r;;){if(!i){i=n.return;e:for(;;){if(i===null)throw Error(ie(160));switch(l=i.stateNode,i.tag){case 5:r=!1;break e;case 3:l=l.containerInfo,r=!0;break e;case 4:l=l.containerInfo,r=!0;break e}i=i.return}i=!0}if(n.tag===5||n.tag===6){e:for(var a=t,s=n,o=s;;)if(fR(a,o),o.child!==null&&o.tag!==4)o.child.return=o,o=o.child;else{if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}r?(a=l,s=n.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):l.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){l=n.stateNode.containerInfo,r=!0,n.child.return=n,n=n.child;continue}}else if(fR(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function Xf(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do(i.tag&3)===3&&(t=i.destroy,i.destroy=void 0,t!==void 0&&t()),i=i.next;while(i!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){i=e.memoizedProps;var l=t!==null?t.memoizedProps:i;t=e.type;var r=e.updateQueue;if(e.updateQueue=null,r!==null){for(n[Hb]=i,t==="input"&&i.type==="radio"&&i.name!=null&&Qv(n,i),FG(t,l),e=FG(t,i),l=0;l<r.length;l+=2){var a=r[l],s=r[l+1];a==="style"?eI(n,s):a==="dangerouslySetInnerHTML"?$v(n,s):a==="children"?rd(n,s):jg(n,a,s,e)}switch(t){case"input":JG(n,i);break;case"textarea":Av(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,r=i.value,r!=null?Go(n,!!i.multiple,r,!1):t!==!!i.multiple&&(i.defaultValue!=null?Go(n,!!i.multiple,i.defaultValue,!0):Go(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ie(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,uI(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(SW=Et(),ZR(e.child,!0)),gR(e);return;case 19:gR(e);return;case 17:return;case 23:case 24:ZR(e,e.memoizedState!==null);return}throw Error(ie(163))}function gR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QO),e.forEach(function(i){var l=oB.bind(null,t,i);n.has(i)||(n.add(i),i.then(l,l))})}}function $O(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var qO=Math.ceil,lp=ns.ReactCurrentDispatcher,xW=ns.ReactCurrentOwner,Xe=0,Dt=null,gt=null,Ut=0,Da=0,dX=_r(0),Mt=0,IZ=null,oc=0,qd=0,cc=0,RW=0,mX=null,SW=0,hX=1/0;function uc(){hX=Et()+500}var oe=null,rp=!1,bX=null,Bi=null,Ur=!1,ku=null,bu=90,pX=[],ZX=[],xl=null,Eu=0,fX=null,eb=-1,yl=0,tb=0,Ku=null,nb=!1;function Tn(){return Xe&48?Et():eb!==-1?eb:eb=Et()}function xr(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Jo()===99?1:2;if(yl===0&&(yl=oc),UO.transition!==0){tb!==0&&(tb=mX!==null?mX.pendingLanes:0),t=yl;var e=4186112&~tb;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Jo(),Xe&4&&t===98?t=Fb(12,yl):(t=zD(t),t=Fb(t,yl)),t}function Rr(t,e,n){if(50<Eu)throw Eu=0,fX=null,Error(ie(185));if(t=wZ(t,e),t===null)return null;RZ(t,e,n),t===Dt&&(cc|=e,Mt===4&&xo(t,Ut));var i=Jo();e===1?Xe&8&&!(Xe&48)?yX(t):(Bn(t,n),Xe===0&&(uc(),rl())):(!(Xe&4)||i!==98&&i!==99||(xl===null?xl=new Set([t]):xl.add(t)),Bn(t,n)),mX=t}function wZ(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Bn(t,e){for(var n=t.callbackNode,i=t.suspendedLanes,l=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Er(a),o=1<<s,c=r[s];if(c===-1){if(!(o&i)||o&l){c=e,Ns(o);var u=Be;r[s]=10<=u?c+250:6<=u?c+5e3:-1}}else c<=e&&(t.expiredLanes|=o);a&=~o}if(i=cd(t,t===Dt?Ut:0),e=Be,i===0)n!==null&&(n!==pf&&qG(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==pf&&qG(n)}e===15?(n=yX.bind(null,t),pl===null?(pl=[n],qh=hW(NZ,KI)):pl.push(n),n=pf):e===14?n=hd(99,yX.bind(null,t)):(n=jD(e),n=hd(n,ow.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function ow(t){if(eb=-1,tb=yl=0,Xe&48)throw Error(ie(327));var e=t.callbackNode;if($r()&&t.callbackNode!==e)return null;var n=cd(t,t===Dt?Ut:0);if(n===0)return null;var i=n,l=Xe;Xe|=16;var r=mw();(Dt!==t||Ut!==i)&&(uc(),Ro(t,i));do try{nB();break}catch(s){dw(t,s)}while(1);if(bW(),lp.current=r,Xe=l,gt!==null?i=0:(Dt=null,Ut=0,i=Mt),oc&cc)Ro(t,0);else if(i!==0){if(i===2&&(Xe|=64,t.hydrate&&(t.hydrate=!1,dW(t.containerInfo)),n=fI(t),n!==0&&(i=pu(t,n))),i===1)throw e=IZ,Ro(t,0),xo(t,n),Bn(t,Et()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,i){case 0:case 1:throw Error(ie(345));case 2:ua(t);break;case 3:if(xo(t,n),(n&62914560)===n&&(i=SW+500-Et(),10<i)){if(cd(t,0)!==0)break;if(l=t.suspendedLanes,(l&n)!==n){Tn(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=Fx(ua.bind(null,t),i);break}ua(t);break;case 4:if(xo(t,n),(n&4186112)===n)break;for(i=t.eventTimes,l=-1;0<n;){var a=31-Er(n);r=1<<a,a=i[a],a>l&&(l=a),n&=~r}if(n=l,n=Et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qO(n/1960))-n,10<n){t.timeoutHandle=Fx(ua.bind(null,t),n);break}ua(t);break;case 5:ua(t);break;default:throw Error(ie(329))}}return Bn(t,Et()),t.callbackNode===e?ow.bind(null,t):null}function xo(t,e){for(e&=~RW,e&=~cc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),i=1<<n;t[n]=-1,e&=~i}}function yX(t){if(Xe&48)throw Error(ie(327));if($r(),t===Dt&&t.expiredLanes&Ut){var e=Ut,n=pu(t,e);oc&cc&&(e=cd(t,e),n=pu(t,e))}else e=cd(t,0),n=pu(t,e);if(t.tag!==0&&n===2&&(Xe|=64,t.hydrate&&(t.hydrate=!1,dW(t.containerInfo)),e=fI(t),e!==0&&(n=pu(t,e))),n===1)throw n=IZ,Ro(t,0),xo(t,e),Bn(t,Et()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,ua(t),Bn(t,Et()),null}function eB(){if(xl!==null){var t=xl;xl=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Bn(e,Et())})}rl()}function cw(t,e){var n=Xe;Xe|=1;try{return t(e)}finally{Xe=n,Xe===0&&(uc(),rl())}}function uw(t,e){var n=Xe;Xe&=-2,Xe|=8;try{return t(e)}finally{Xe=n,Xe===0&&(uc(),rl())}}function th(t,e){bt(dX,Da),Da|=e,oc|=e}function YW(){Da=dX.current,rt(dX)}function Ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wO(n)),gt!==null)for(n=gt.return;n!==null;){var i=n;switch(i.tag){case 1:i=i.type.childContextTypes,i!=null&&Db();break;case 3:Co(),rt(en),rt(Ft),yW();break;case 5:fW(i);break;case 4:Co();break;case 13:rt(ht);break;case 19:rt(ht);break;case 10:pW(i);break;case 23:case 24:YW()}n=n.return}Dt=t,gt=Pr(t.current,null),Ut=Da=oc=e,Mt=0,IZ=null,RW=cc=qd=0}function dw(t,e){do{var n=gt;try{if(bW(),Ju.current=ip,qb){for(var i=pt.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}qb=!1}if(fd=0,Yt=wt=pt=null,Cu=!1,xW.current=null,n===null||n.return===null){Mt=1,IZ=e,gt=null;break}e:{var r=t,a=n.return,s=n,o=e;if(e=Ut,s.flags|=2048,s.firstEffect=s.lastEffect=null,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o;if(!(s.mode&2)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=(ht.current&1)!==0,m=a;do{var h;if(h=m.tag===13){var b=m.memoizedState;if(b!==null)h=b.dehydrated!==null;else{var Z=m.memoizedProps;h=Z.fallback===void 0?!1:Z.unstable_avoidThisFallback!==!0?!0:!d}}if(h){var p=m.updateQueue;if(p===null){var f=new Set;f.add(c),m.updateQueue=f}else p.add(c);if(!(m.mode&2)){if(m.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var G=Vr(-1,1);G.tag=2,Tr(s,G)}s.lanes|=1;break e}o=void 0,s=e;var V=r.pingCache;if(V===null?(V=r.pingCache=new BO,o=new Set,V.set(c,o)):(o=V.get(c),o===void 0&&(o=new Set,V.set(c,o))),!o.has(s)){o.add(s);var X=sB.bind(null,r,c,s);c.then(X,X)}m.flags|=4096,m.lanes=e;break e}m=m.return}while(m!==null);o=Error((yo(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Mt!==5&&(Mt=2),o=TW(o,s),m=a;do{switch(m.tag){case 3:r=o,m.flags|=4096,e&=-e,m.lanes|=e;var L=rw(m,r,e);Qx(m,L);break e;case 1:r=o;var x=m.type,v=m.stateNode;if(!(m.flags&64)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Bi===null||!Bi.has(v)))){m.flags|=4096,e&=-e,m.lanes|=e;var C=aw(m,r,e);Qx(m,C);break e}}m=m.return}while(m!==null)}bw(n)}catch(w){e=w,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(1)}function mw(){var t=lp.current;return lp.current=ip,t===null?ip:t}function pu(t,e){var n=Xe;Xe|=16;var i=mw();Dt===t&&Ut===e||Ro(t,e);do try{tB();break}catch(l){dw(t,l)}while(1);if(bW(),Xe=n,lp.current=i,gt!==null)throw Error(ie(261));return Dt=null,Ut=0,Mt}function tB(){for(;gt!==null;)hw(gt)}function nB(){for(;gt!==null&&!kO();)hw(gt)}function hw(t){var e=Zw(t.alternate,t,Da);t.memoizedProps=t.pendingProps,e===null?bw(t):gt=e,xW.current=null}function bw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=OO(e),n!==null){n.flags&=2047,gt=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=DO(n,e,Da),n!==null){gt=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||Da&1073741824||!(n.mode&4)){for(var i=0,l=n.child;l!==null;)i|=l.lanes|l.childLanes,l=l.sibling;n.childLanes=i}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Mt===0&&(Mt=5)}function ua(t){var e=Jo();return Ha(99,iB.bind(null,t,e)),null}function iB(t,e){do $r();while(ku!==null);if(Xe&48)throw Error(ie(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null;var i=n.lanes|n.childLanes,l=i,r=t.pendingLanes&~l;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=l,t.mutableReadLanes&=l,t.entangledLanes&=l,l=t.entanglements;for(var a=t.eventTimes,s=t.expirationTimes;0<r;){var o=31-Er(r),c=1<<o;l[o]=0,a[o]=-1,s[o]=-1,r&=~c}if(xl!==null&&!(i&24)&&xl.has(t)&&xl.delete(t),t===Dt&&(gt=Dt=null,Ut=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,i!==null){if(l=Xe,Xe|=32,xW.current=null,mf=Qh,a=Jx(),BG(a)){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&c.rangeCount!==0){s=c.anchorNode,r=c.anchorOffset,o=c.focusNode,c=c.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var u=0,d=-1,m=-1,h=0,b=0,Z=a,p=null;t:for(;;){for(var f;Z!==s||r!==0&&Z.nodeType!==3||(d=u+r),Z!==o||c!==0&&Z.nodeType!==3||(m=u+c),Z.nodeType===3&&(u+=Z.nodeValue.length),(f=Z.firstChild)!==null;)p=Z,Z=f;for(;;){if(Z===a)break t;if(p===s&&++h===r&&(d=u),p===o&&++b===c&&(m=u),(f=Z.nextSibling)!==null)break;Z=p,p=Z.parentNode}Z=f}s=d===-1||m===-1?null:{start:d,end:m}}else s=null;s=s||{start:0,end:0}}else s=null;hf={focusedElem:a,selectionRange:s},Qh=!1,Ku=null,nb=!1,oe=i;do try{lB()}catch(w){if(oe===null)throw Error(ie(330));Sr(oe,w),oe=oe.nextEffect}while(oe!==null);Ku=null,oe=i;do try{for(a=t;oe!==null;){var G=oe.flags;if(G&16&&rd(oe.stateNode,""),G&128){var V=oe.alternate;if(V!==null){var X=V.ref;X!==null&&(typeof X=="function"?X(null):X.current=null)}}switch(G&1038){case 2:XR(oe),oe.flags&=-3;break;case 6:XR(oe),oe.flags&=-3,Xf(oe.alternate,oe);break;case 1024:oe.flags&=-1025;break;case 1028:oe.flags&=-1025,Xf(oe.alternate,oe);break;case 4:Xf(oe.alternate,oe);break;case 8:s=oe,sw(a,s);var L=s.alternate;yR(s),L!==null&&yR(L)}oe=oe.nextEffect}}catch(w){if(oe===null)throw Error(ie(330));Sr(oe,w),oe=oe.nextEffect}while(oe!==null);if(X=hf,V=Jx(),G=X.focusedElem,a=X.selectionRange,V!==G&&G&&G.ownerDocument&&xI(G.ownerDocument.documentElement,G)){for(a!==null&&BG(G)&&(V=a.start,X=a.end,X===void 0&&(X=V),"selectionStart"in G?(G.selectionStart=V,G.selectionEnd=Math.min(X,G.value.length)):(X=(V=G.ownerDocument||document)&&V.defaultView||window,X.getSelection&&(X=X.getSelection(),s=G.textContent.length,L=Math.min(a.start,s),a=a.end===void 0?L:Math.min(a.end,s),!X.extend&&L>a&&(s=a,a=L,L=s),s=wx(G,L),r=wx(G,a),s&&r&&(X.rangeCount!==1||X.anchorNode!==s.node||X.anchorOffset!==s.offset||X.focusNode!==r.node||X.focusOffset!==r.offset)&&(V=V.createRange(),V.setStart(s.node,s.offset),X.removeAllRanges(),L>a?(X.addRange(V),X.extend(r.node,r.offset)):(V.setEnd(r.node,r.offset),X.addRange(V)))))),V=[],X=G;X=X.parentNode;)X.nodeType===1&&V.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<V.length;G++)X=V[G],X.element.scrollLeft=X.left,X.element.scrollTop=X.top}Qh=!!mf,hf=mf=null,t.current=n,oe=i;do try{for(G=t;oe!==null;){var x=oe.flags;if(x&36&&_O(G,oe.alternate,oe),x&128){V=void 0;var v=oe.ref;if(v!==null){var C=oe.stateNode;switch(oe.tag){case 5:V=C;break;default:V=C}typeof v=="function"?v(V):v.current=V}}oe=oe.nextEffect}}catch(w){if(oe===null)throw Error(ie(330));Sr(oe,w),oe=oe.nextEffect}while(oe!==null);oe=null,KO(),Xe=l}else t.current=n;if(Ur)Ur=!1,ku=t,bu=e;else for(oe=i;oe!==null;)e=oe.nextEffect,oe.nextEffect=null,oe.flags&8&&(x=oe,x.sibling=null,x.stateNode=null),oe=e;if(i=t.pendingLanes,i===0&&(Bi=null),i===1?t===fX?Eu++:(Eu=0,fX=t):Eu=0,n=n.stateNode,Ma&&typeof Ma.onCommitFiberRoot=="function")try{Ma.onCommitFiberRoot(mW,n,void 0,(n.current.flags&64)===64)}catch{}if(Bn(t,Et()),rp)throw rp=!1,t=bX,bX=null,t;return Xe&8||rl(),null}function lB(){for(;oe!==null;){var t=oe.alternate;nb||Ku===null||(oe.flags&8?Xx(oe,Ku)&&(nb=!0):oe.tag===13&&$O(t,oe)&&Xx(oe,Ku)&&(nb=!0));var e=oe.flags;e&256&&AO(t,oe),!(e&512)||Ur||(Ur=!0,hd(97,function(){return $r(),null})),oe=oe.nextEffect}}function $r(){if(bu!==90){var t=97<bu?97:bu;return bu=90,Ha(t,aB)}return!1}function rB(t,e){pX.push(e,t),Ur||(Ur=!0,hd(97,function(){return $r(),null}))}function pw(t,e){ZX.push(e,t),Ur||(Ur=!0,hd(97,function(){return $r(),null}))}function aB(){if(ku===null)return!1;var t=ku;if(ku=null,Xe&48)throw Error(ie(331));var e=Xe;Xe|=32;var n=ZX;ZX=[];for(var i=0;i<n.length;i+=2){var l=n[i],r=n[i+1],a=l.destroy;if(l.destroy=void 0,typeof a=="function")try{a()}catch(o){if(r===null)throw Error(ie(330));Sr(r,o)}}for(n=pX,pX=[],i=0;i<n.length;i+=2){l=n[i],r=n[i+1];try{var s=l.create;l.destroy=s()}catch(o){if(r===null)throw Error(ie(330));Sr(r,o)}}for(s=t.current.firstEffect;s!==null;)t=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=t;return Xe=e,rl(),!0}function WR(t,e,n){e=TW(n,e),e=rw(t,e,1),Tr(t,e),e=Tn(),t=wZ(t,1),t!==null&&(RZ(t,1,e),Bn(t,e))}function Sr(t,e){if(t.tag===3)WR(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){WR(n,t,e);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Bi===null||!Bi.has(i))){t=TW(e,t);var l=aw(n,t,1);if(Tr(n,l),l=Tn(),n=wZ(n,1),n!==null)RZ(n,1,l),Bn(n,l);else if(typeof i.componentDidCatch=="function"&&(Bi===null||!Bi.has(i)))try{i.componentDidCatch(e,t)}catch{}break}}n=n.return}}function sB(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Ut&n)===n&&(Mt===4||Mt===3&&(Ut&62914560)===Ut&&500>Et()-SW?Ro(t,0):RW|=n),Bn(t,e)}function oB(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(yl===0&&(yl=oc),e=vs(62914560&~yl),e===0&&(e=4194304)):e=Jo()===99?1:2:e=1),n=Tn(),t=wZ(t,e),t!==null&&(RZ(t,e,n),Bn(t,n))}var Zw;Zw=function(t,e,n){var i=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)ui=!0;else if(n&i)ui=!!(t.flags&16384);else{switch(ui=!1,e.tag){case 3:oR(e),ff();break;case 5:qx(e);break;case 1:tn(e.type)&&$h(e);break;case 4:nX(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value;var l=e.type._context;bt(Ob,l._currentValue),l._currentValue=i;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?cR(t,e,n):(bt(ht,ht.current&1),e=Wl(t,e,n),e!==null?e.sibling:null);bt(ht,ht.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&64){if(i)return bR(t,e,n);e.flags|=64}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),bt(ht,ht.current),i)break;return null;case 23:case 24:return e.lanes=0,yf(t,e,n)}return Wl(t,e,n)}else ui=!1;switch(e.lanes=0,e.tag){case 2:if(i=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,l=wo(e,Ft.current),Vo(e,n),l=XW(null,e,i,t,l,n),e.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(i)){var r=!0;$h(e)}else r=!1;e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ZW(e);var a=i.getDerivedStateFromProps;typeof a=="function"&&Ab(e,i,a,t),l.updater=vZ,e.stateNode=l,l._reactInternals=e,tX(e,i,t,n),e=aX(null,e,i,!0,r,n)}else e.tag=0,At(null,e,l,n),e=e.child;return e;case 16:l=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,r=l._init,l=r(l._payload),e.type=l,r=e.tag=uB(l),t=si(l,t),r){case 0:e=rX(null,e,l,t,n);break e;case 1:e=sR(null,e,l,t,n);break e;case 11:e=rR(null,e,l,t,n);break e;case 14:e=aR(null,e,l,si(l.type,t),i,n);break e}throw Error(ie(306,l,""))}return e;case 0:return i=e.type,l=e.pendingProps,l=e.elementType===i?l:si(i,l),rX(t,e,i,l,n);case 1:return i=e.type,l=e.pendingProps,l=e.elementType===i?l:si(i,l),sR(t,e,i,l,n);case 3:if(oR(e),i=e.updateQueue,t===null||i===null)throw Error(ie(282));if(i=e.pendingProps,l=e.memoizedState,l=l!==null?l.element:null,PI(t,e),bd(e,i,null,n),i=e.memoizedState.element,i===l)ff(),e=Wl(t,e,n);else{if(l=e.stateNode,(r=l.hydrate)&&(pr=Wo(e.stateNode.containerInfo.firstChild),gl=e,r=el=!0),r){if(t=l.mutableSourceEagerHydrationData,t!=null)for(l=0;l<t.length;l+=2)r=t[l],r._workInProgressVersionPrimary=t[l+1],To.push(r);for(n=HI(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else At(t,e,i,n),ff();e=e.child}return e;case 5:return qx(e),t===null&&iX(e),i=e.type,l=e.pendingProps,r=t!==null?t.memoizedProps:null,a=l.children,_G(i,l)?a=null:r!==null&&_G(i,r)&&(e.flags|=16),tw(t,e),At(t,e,a,n),e.child;case 6:return t===null&&iX(e),null;case 13:return cR(t,e,n);case 4:return nX(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=_b(e,null,i,n):At(t,e,i,n),e.child;case 11:return i=e.type,l=e.pendingProps,l=e.elementType===i?l:si(i,l),rR(t,e,i,l,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{i=e.type._context,l=e.pendingProps,a=e.memoizedProps,r=l.value;var s=e.type._context;if(bt(Ob,s._currentValue),s._currentValue=r,a!==null)if(s=a.value,r=Pn(s,r)?0:(typeof i._calculateChangedBits=="function"?i._calculateChangedBits(s,r):1073741823)|0,r===0){if(a.children===l.children&&!en.current){e=Wl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===i&&c.observedBits&r){s.tag===1&&(c=Vr(-1,n&-n),c.tag=2,Tr(s,c)),s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),UI(s.return,n),o.lanes|=n;break}c=c.next}}else a=s.tag===10&&s.type===e.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}At(t,e,l.children,n),e=e.child}return e;case 9:return l=e.type,r=e.pendingProps,i=r.children,Vo(e,n),l=On(l,r.unstable_observedBits),i=i(l),e.flags|=1,At(t,e,i,n),e.child;case 14:return l=e.type,r=si(l,e.pendingProps),r=si(l.type,r),aR(t,e,l,r,i,n);case 15:return ew(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,l=e.pendingProps,l=e.elementType===i?l:si(i,l),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,tn(i)?(t=!0,$h(e)):t=!1,Vo(e,n),zI(e,i,l),tX(e,i,l,n),aX(null,e,i,!0,t,n);case 19:return bR(t,e,n);case 23:return yf(t,e,n);case 24:return yf(t,e,n)}throw Error(ie(156,e.tag))};function cB(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,i){return new cB(t,e,n,i)}function LW(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uB(t){if(typeof t=="function")return LW(t)?1:0;if(t!=null){if(t=t.$$typeof,t===VZ)return 11;if(t===TZ)return 14}return 2}function Pr(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ib(t,e,n,i,l,r){var a=2;if(i=t,typeof t=="function")LW(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case sr:return So(n.children,l,r,e);case Dv:a=8,l|=16;break;case Hg:a=8,l|=1;break;case Yu:return t=Fn(12,n,e,l|8),t.elementType=Yu,t.type=Yu,t.lanes=r,t;case Lu:return t=Fn(13,n,e,l),t.type=Lu,t.elementType=Lu,t.lanes=r,t;case Eb:return t=Fn(19,n,e,l),t.elementType=Eb,t.lanes=r,t;case _g:return MW(n,l,r,e);case IG:return t=Fn(24,n,e,l),t.elementType=IG,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dg:a=10;break e;case Og:a=9;break e;case VZ:a=11;break e;case TZ:a=14;break e;case Bg:a=16,i=null;break e;case Qg:a=22;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Fn(a,n,e,l),e.elementType=t,e.type=i,e.lanes=r,e}function So(t,e,n,i){return t=Fn(7,t,i,e),t.lanes=n,t}function MW(t,e,n,i){return t=Fn(23,t,i,e),t.elementType=_g,t.lanes=n,t}function gf(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Wf(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dB(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.mutableSourceEagerHydrationData=null}function mB(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ga,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function ap(t,e,n,i){var l=e.current,r=Tn(),a=xr(l);e:if(n){n=n._reactInternals;t:{if(is(n)!==n||n.tag!==1)throw Error(ie(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(tn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(ie(171))}if(n.tag===1){var o=n.type;if(tn(o)){n=II(n,o,s);break e}}n=s}else n=Kr;return e.context===null?e.context=n:e.pendingContext=n,e=Vr(r,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),Tr(l,e),Rr(l,a,r),a}function Vf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function NW(t,e){VR(t,e),(t=t.alternate)&&VR(t,e)}function hB(){return null}function vW(t,e,n){var i=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new dB(t,e,n!=null&&n.hydrate===!0),e=Fn(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,ZW(e),t[sc]=n.current,YI(t.nodeType===8?t.parentNode:t),i)for(t=0;t<i.length;t++){e=i[t];var l=e._getVersion;l=l(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,l]:n.mutableSourceEagerHydrationData.push(e,l)}this._internalRoot=n}vW.prototype.render=function(t){ap(t,this._internalRoot,null,null)};vW.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;ap(null,t,null,function(){e[sc]=null})};function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bB(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new vW(t,0,e?{hydrate:!0}:void 0)}function JZ(t,e,n,i,l){var r=n._reactRootContainer;if(r){var a=r._internalRoot;if(typeof l=="function"){var s=l;l=function(){var c=Vf(a);s.call(c)}}ap(e,a,t,l)}else{if(r=n._reactRootContainer=bB(n,i),a=r._internalRoot,typeof l=="function"){var o=l;l=function(){var c=Vf(a);o.call(c)}}uw(function(){ap(e,a,t,l)})}return Vf(a)}sI=function(t){if(t.tag===13){var e=Tn();Rr(t,4,e),NW(t,4)}};nW=function(t){if(t.tag===13){var e=Tn();Rr(t,67108864,e),NW(t,67108864)}};oI=function(t){if(t.tag===13){var e=Tn(),n=xr(t);Rr(t,n,e),NW(t,n)}};cI=function(t,e){return e()};zG=function(t,e,n){switch(e){case"input":if(JG(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var l=MZ(i);if(!l)throw Error(ie(90));Bv(i),JG(i,l)}}}break;case"textarea":Av(t,n);break;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}};qg=cw;iI=function(t,e,n,i,l){var r=Xe;Xe|=4;try{return Ha(98,t.bind(null,e,n,i,l))}finally{Xe=r,Xe===0&&(uc(),rl())}};eW=function(){!(Xe&49)&&(eB(),$r())};lI=function(t,e){var n=Xe;Xe|=2;try{return t(e)}finally{Xe=n,Xe===0&&(uc(),rl())}};function fw(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(e))throw Error(ie(200));return mB(t,e,null,n)}var pB={Events:[_d,so,MZ,tI,nI,$r,{current:!1}]},Bc={findFiberByHostInstance:Va,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ZB={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aI(t),t===null?null:t.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||hB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{mW=nh.inject(ZB),Ma=nh}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pB;qn.createPortal=fw;qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):Error(ie(268,Object.keys(t)));return t=aI(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t,e){var n=Xe;if(n&48)return t(e);Xe|=1;try{if(t)return Ha(99,t.bind(null,e))}finally{Xe=n,rl()}};qn.hydrate=function(t,e,n){if(!em(e))throw Error(ie(200));return JZ(null,t,e,!0,n)};qn.render=function(t,e,n){if(!em(e))throw Error(ie(200));return JZ(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!em(t))throw Error(ie(40));return t._reactRootContainer?(uw(function(){JZ(null,null,t,!1,function(){t._reactRootContainer=null,t[sc]=null})}),!0):!1};qn.unstable_batchedUpdates=cw;qn.unstable_createPortal=function(t,e){return fw(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};qn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!em(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return JZ(t,e,n,!1,i)};qn.version="17.0.2";function yw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yw)}catch(t){console.error(t)}}yw(),Fv.exports=qn;var CZ=Fv.exports;const fB=Kl(CZ);function yB(t){t()}function GB(t){t||(t=yB),DH({reactionScheduler:t})}function XB(t){return BH(t)}var gB=1e4,WB=1e4,VB=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(i){i===void 0&&(i=gB),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var l=Date.now();n.registrations.forEach(function(r,a){l-r.registeredAt>=i&&(n.finalize(r.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){this.registrations.set(i,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,WB))}}),t}(),TB=typeof FinalizationRegistry<"u"?FinalizationRegistry:VB,yd=new TB(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),Gw={exports:{}},Xw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko=T;function xB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RB=typeof Object.is=="function"?Object.is:xB,SB=ko.useState,YB=ko.useEffect,LB=ko.useLayoutEffect,MB=ko.useDebugValue;function NB(t,e){var n=e(),i=SB({inst:{value:n,getSnapshot:e}}),l=i[0].inst,r=i[1];return LB(function(){l.value=n,l.getSnapshot=e,Tf(l)&&r({inst:l})},[t,n,e]),YB(function(){return Tf(l)&&r({inst:l}),t(function(){Tf(l)&&r({inst:l})})},[t]),MB(n),n}function Tf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!RB(t,n)}catch{return!0}}function vB(t,e){return e()}var IB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vB:NB;Xw.useSyncExternalStore=ko.useSyncExternalStore!==void 0?ko.useSyncExternalStore:IB;Gw.exports=Xw;var wB=Gw.exports;function TR(t){t.reaction=new Wi("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function JB(t,e){e===void 0&&(e="observed");var n=S.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(s){return yd.unregister(i),i.onStoreChange=s,i.reaction||(TR(i),i.stateVersion=Symbol()),function(){var o;i.onStoreChange=null,(o=i.reaction)===null||o===void 0||o.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var l=n.current;l.reaction||(TR(l),yd.register(n,l,l)),S.useDebugValue(l.reaction,XB),wB.useSyncExternalStore(l.subscribe,l.getSnapshot,l.getSnapshot);var r,a;if(l.reaction.track(function(){try{r=t()}catch(s){a=s}}),a)throw a;return r}var xf,Rf,gw=typeof Symbol=="function"&&Symbol.for,CB=(Rf=(xf=Object.getOwnPropertyDescriptor(function(){},"name"))===null||xf===void 0?void 0:xf.configurable)!==null&&Rf!==void 0?Rf:!1,xR=gw?Symbol.for("react.forward_ref"):typeof T.forwardRef=="function"&&T.forwardRef(function(t){return null}).$$typeof,RR=gw?Symbol.for("react.memo"):typeof T.memo=="function"&&T.memo(function(t){return null}).$$typeof;function kB(t,e){var n;if(RR&&t.$$typeof===RR)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=(n=e==null?void 0:e.forwardRef)!==null&&n!==void 0?n:!1,l=t,r=t.displayName||t.name;if(xR&&t.$$typeof===xR&&(i=!0,l=t.render,typeof l!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(s,o){return JB(function(){return l(s,o)},r)};return a.displayName=t.displayName,CB&&Object.defineProperty(a,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(a.contextTypes=t.contextTypes),i&&(a=T.forwardRef(a)),a=T.memo(a),KB(t,a),a}var EB={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function KB(t,e){Object.keys(t).forEach(function(n){EB[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var Sf;GB(CZ.unstable_batchedUpdates);Sf=yd.finalizeAllImmediately;function UB(t,e){if(SR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var l=0;l<n.length;l++)if(!Object.hasOwnProperty.call(e,n[l])||!SR(t[n[l]],e[n[l]]))return!1;return!0}function SR(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var YR=Symbol("patchMixins"),Ww=Symbol("patchedDefinition");function PB(t,e){var n=t[YR]=t[YR]||{},i=n[e]=n[e]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i}function LR(t,e){for(var n=this,i=arguments.length,l=new Array(i>2?i-2:0),r=2;r<i;r++)l[r-2]=arguments[r];e.locks++;try{var a;return t!=null&&(a=t.apply(this,l)),a}finally{e.locks--,e.locks===0&&e.methods.forEach(function(s){s.apply(n,l)})}}function MR(t,e){var n=function(){for(var l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];LR.call.apply(LR,[this,t,e].concat(r))};return n}function FB(t,e,n){var i=PB(t,e);i.methods.indexOf(n)<0&&i.methods.push(n);var l=Object.getOwnPropertyDescriptor(t,e);if(!(l&&l[Ww])){var r=t[e],a=Vw(t,e,l?l.enumerable:void 0,i,r);Object.defineProperty(t,e,a)}}function Vw(t,e,n,i,l){var r,a=MR(l,i);return r={},r[Ww]=!0,r.get=function(){return a},r.set=function(o){if(this===t)a=MR(o,i);else{var c=Vw(this,e,n,i,o);Object.defineProperty(this,e,c)}},r.configurable=!0,r.enumerable=n,r}var NR=Symbol("ObserverAdministration"),vR=Symbol("isMobXReactObserver");function GX(t){var e;return(e=t[NR])!=null?e:t[NR]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:XX(t.constructor),state:void 0,props:void 0,context:void 0}}function zB(t){var e=t.prototype;if(t[vR]){var n=XX(t);throw new Error("The provided component class ("+n+") has already been declared as an observer component.")}else t[vR]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==T.PureComponent){if(!e.shouldComponentUpdate)e.shouldComponentUpdate=IR;else if(e.shouldComponentUpdate!==IR)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}var i=e.render;if(typeof i!="function"){var l=XX(t);throw new Error("[mobx-react] class component ("+l+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}e.render=function(){return Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:jB.call(this,i)}),this.render()};var r=e.componentDidMount;return e.componentDidMount=function(){var a=this,s=GX(this);return s.mounted=!0,yd.unregister(this),s.forceUpdate=function(){return a.forceUpdate()},(!s.reaction||s.reactionInvalidatedBeforeMount)&&s.forceUpdate(),r==null?void 0:r.apply(this,arguments)},FB(e,"componentWillUnmount",function(){var a,s=GX(this);(a=s.reaction)==null||a.dispose(),s.reaction=null,s.forceUpdate=null,s.mounted=!1,s.reactionInvalidatedBeforeMount=!1}),t}function XX(t){return t.displayName||t.name||"<component>"}function jB(t){var e=t.bind(this),n=GX(this);function i(){n.reaction||(n.reaction=HB(n),n.mounted||yd.register(this,n,this));var l=void 0,r=void 0;if(n.reaction.track(function(){try{r=Ig(!1,e)}catch(a){l=a}}),l)throw l;return r}return i}function HB(t){return new Wi(t.name+".render()",function(){if(!t.mounted){t.reactionInvalidatedBeforeMount=!0;return}try{t.forceUpdate==null||t.forceUpdate()}catch{var e;(e=t.reaction)==null||e.dispose(),t.reaction=null}})}function IR(t,e){return this.state!==e?!0:!UB(this.props,t)}function DB(t,e){if(e&&e.kind!=="class")throw new Error("The @observer decorator can be used on classes only");return t.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(T.Component,t)||Object.prototype.isPrototypeOf.call(T.PureComponent,t)?zB(t):kB(t)}S.version.split(".")[0];if(!T.Component)throw new Error("mobx-react requires React to be available");if(!it)throw new Error("mobx-react requires mobx to be available");var OB="warn";function BB(){return OB}var Gt;(function(t){t.afterCreate="afterCreate",t.afterAttach="afterAttach",t.afterCreationFinalization="afterCreationFinalization",t.beforeDetach="beforeDetach",t.beforeDestroy="beforeDestroy"})(Gt||(Gt={}));var gX=function(t,e){return gX=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},gX(t,e)};function Ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gX(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var il=function(){return il=Object.assign||function(e){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},il.apply(this,arguments)};function QB(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(n[i[l]]=t[i[l]]);return n}function Uu(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),l,r=[],a;try{for(;(e===void 0||e-- >0)&&!(l=i.next()).done;)r.push(l.value)}catch(s){a={error:s}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return r}function Oa(t,e,n){if(n||arguments.length===2)for(var i=0,l=e.length,r;i<l;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function Tw(t){return Ue(t).type}function wR(t,e){Ue(t).applyPatches(vw(e))}function AB(t,e){e===void 0&&(e=!0);var n=Ue(t);return e?n.snapshot:n.type.getSnapshot(n,!1)}function _B(t){return Ue(t).root.storedValue}function $B(t){return Ue(t).path}function qB(t){return Ue(t).identifier}var xw=function(){function t(e,n,i,l){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:Lt.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=l,this.baseSetParent(n,i)}return Object.defineProperty(t.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){var n=this.isAlive;this._state=e;var i=this.isAlive;this.aliveAtom&&n!==i&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(t.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){return this._hookSubscribers||(this._hookSubscribers=new Jw),this._hookSubscribers.register(e,n)}}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(t.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){this._parent=e,this._subpath=n,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=Mb("path")),this.pathAtom.reportObserved()),this.parent?(this._escapedSubpath===void 0&&(this._escapedSubpath=this._subpath?va(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.parent===null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAlive",{get:function(){return this.state!==Lt.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDetaching",{get:function(){return this.state===Lt.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=Mb("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===Lt.CREATED){if(this.parent){if(this.parent.state!==Lt.FINALIZED)return;this.fireHook(Gt.afterAttach)}this.state=Lt.FINALIZED,e&&e()}}}),Object.defineProperty(t.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Lt.DEAD}}),Object.defineProperty(t.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(Gt.beforeDestroy)}}),t}(),Gd=function(t){Ae(e,t);function e(n,i,l,r,a){var s=t.call(this,n,i,l,r)||this;try{s.storedValue=n.createNewInstance(a)}catch(o){throw s.state=Lt.DEAD,o}return s.state=Lt.CREATED,s.finalizeCreation(),s}return Object.defineProperty(e.prototype,"root",{get:function(){if(!this.parent)throw new he("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this.parent!==n,r=this.subpath!==i;!l&&!r||(this.environment=void 0,this.baseSetParent(this.parent,i))}}),Object.defineProperty(e.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(e.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return"".concat(this.type.name,"@").concat(n).concat(this.isAlive?"":" [dead]")}}),Object.defineProperty(e.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){!this.isAlive||this.state===Lt.DETACHING||(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(e.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(e.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(e.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(e.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.fireInternalHook(n)}}),e}(xw);Gd.prototype.die=Xt(Gd.prototype.die);var eQ=1,ai;(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.CREATING=1]="CREATING",t[t.CREATED=2]="CREATED"})(ai||(ai={}));var dn;(function(t){t.Dispose="dispose",t.Patch="patch",t.Snapshot="snapshot"})(dn||(dn={}));var tQ={onError:function(t){throw t}},nn=function(t){Ae(e,t);function e(n,i,l,r,a){var s=t.call(this,n,i,l,r)||this;if(Object.defineProperty(s,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++eQ}),Object.defineProperty(s,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(s,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"hasSnapshotPostProcessor",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(s,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(s,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(s,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(s,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:ai.UNINITIALIZED}),Object.defineProperty(s,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(s,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),s._snapshotComputed=lc(function(){return s.getSnapshot()}),s.unbox=s.unbox.bind(s),s._initialSnapshot=a,s.identifierAttribute=n.identifierAttribute,i||(s.identifierCache=new ZQ),s._childNodes=n.initializeChildNodes(s,s._initialSnapshot),s.identifier=null,s.unnormalizedIdentifier=null,s.identifierAttribute&&s._initialSnapshot){var o=s._initialSnapshot[s.identifierAttribute];if(o===void 0){var c=s._childNodes[s.identifierAttribute];c&&(o=c.value)}if(typeof o!="string"&&typeof o!="number")throw new he("Instance identifier '".concat(s.identifierAttribute,"' for type '").concat(s.type.name,"' must be a string or a number"));s.identifier=tm(o),s.unnormalizedIdentifier=o}return i?i.root.identifierCache.addNodeToCache(s):s.identifierCache.addNodeToCache(s),s}return Object.defineProperty(e.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.createObservableInstanceIfNeeded(),this._applyPatches(n)}}),Object.defineProperty(e.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.createObservableInstanceIfNeeded(),this._applySnapshot(n)}}),Object.defineProperty(e.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(n){n===void 0&&(n=!0),this._observableInstanceState===ai.UNINITIALIZED&&this.createObservableInstance(n)}}),Object.defineProperty(e.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i,l,r,a;n===void 0&&(n=!0),this._observableInstanceState=ai.CREATING;for(var s=[],o=this.parent;o&&o._observableInstanceState===ai.UNINITIALIZED;)s.unshift(o),o=o.parent;try{for(var c=Uu(s),u=c.next();!u.done;u=c.next()){var d=u.value;d.createObservableInstanceIfNeeded(!1)}}catch(Z){i={error:Z}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(i)throw i.error}}var m=this.type;try{this.storedValue=m.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,m.finalizeNewInstance(this,this.storedValue)}catch(Z){throw this.state=Lt.DEAD,Z}finally{this._isRunningAction=!1}if(this._observableInstanceState=ai.CREATED,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=Uo,this.state=Lt.CREATED,n){this.fireHook(Gt.afterCreate),this.finalizeCreation();try{for(var h=Uu(s.reverse()),b=h.next();!b.done;b=h.next()){var d=b.value;d.fireHook(Gt.afterCreate),d.finalizeCreation()}}catch(Z){r={error:Z}}finally{try{b&&!b.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}}}}),Object.defineProperty(e.prototype,"root",{get:function(){var n=this.parent;return n?n.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(Gt.beforeDetach);var n=this.state;this.state=Lt.DETACHING;var i=this.root,l=i.environment,r=i.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=l,this.identifierCache=r}finally{this.state=n}}}}),Object.defineProperty(e.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=n!==this.parent,r=i!==this.subpath;!l&&!r||(l?(this.environment=void 0,n.root.identifierCache.mergeCache(this),this.baseSetParent(n,i),this.fireHook(Gt.afterAttach)):r&&this.baseSetParent(this.parent,i))}}),Object.defineProperty(e.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this;this.fireInternalHook(n);var l=this.storedValue&&typeof this.storedValue=="object"&&this.storedValue[n];typeof l=="function"&&(_T?_T(function(){l.apply(i.storedValue)}):l.apply(this.storedValue))}}),Object.defineProperty(e.prototype,"snapshot",{get:function(){return this.hasSnapshotPostProcessor&&this.createObservableInstanceIfNeeded(),this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?this._observableInstanceState===ai.CREATED?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(e.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(e.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var n=this.type,i=this._childNodes,l=this._initialSnapshot;this._cachedInitialSnapshot=n.processInitialSnapshot(i,l),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(e.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isRunningAction?!0:this.isRoot?!1:this.parent.isRunningAction()}}),Object.defineProperty(e.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=BB();if(!this.isAlive&&i!=="ignore"){var l=this._getAssertAliveError(n);switch(i){case"error":throw new he(l);case"warn":LQ(l)}}}}),Object.defineProperty(e.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this.getEscapedPath(!1)||this.pathUponDeath||"",l=n.subpath&&va(n.subpath)||"",r=n.actionContext||lQ();r&&r.type!=="action"&&r.parentActionEvent&&(r=r.parentActionEvent);var a="";if(r&&r.name!=null){var s=r&&r.context&&$B(r.context)||i;a="".concat(s,".").concat(r.name,"()")}return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '".concat(this.type.name,"', Path upon death: '").concat(i,"', Subpath: '").concat(l,"', Action: '").concat(a,"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree.")}}),Object.defineProperty(e.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.assertAlive({subpath:n}),this._autoUnbox=!1;try{return this._observableInstanceState===ai.CREATED?this.type.getChildNode(this,n):this._childNodes[n]}finally{this._autoUnbox=!0}}}),Object.defineProperty(e.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(Uo),this._autoUnbox=!1;try{return this._observableInstanceState===ai.CREATED?this.type.getChildren(this):Mw(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(e.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.type.getChildType(n)}}),Object.defineProperty(e.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(this.assertAlive(n),!this.isRunningAction()&&this.isProtected)throw new he("Cannot modify '".concat(this,"', the object is protected and can only be modified by using an action."))}}),Object.defineProperty(e.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.type.removeChild(this,n)}}),Object.defineProperty(e.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n&&(this.assertAlive({subpath:n.subpath||n.subpathUponDeath}),this._autoUnbox?n.value:n)}}),Object.defineProperty(e.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=(this.isAlive?this.path:this.pathUponDeath)||"<root>",i=this.identifier?"(id: ".concat(this.identifier,")"):"";return"".concat(this.type.name,"@").concat(n).concat(i).concat(this.isAlive?"":" [dead]")}}),Object.defineProperty(e.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;this.baseFinalizeCreation(function(){var i,l;try{for(var r=Uu(n.getChildren()),a=r.next();!a.done;a=r.next()){var s=a.value;s.finalizeCreation()}}catch(o){i={error:o}}finally{try{a&&!a.done&&(l=r.return)&&l.call(r)}finally{if(i)throw i.error}}n.fireInternalHook(Gt.afterCreationFinalization)})}}),Object.defineProperty(e.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw new he("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(e.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;this._applyPatches=Xd(this.storedValue,"@APPLY_PATCHES",function(i){i.forEach(function(l){if(!l.path){n.type.applySnapshot(n,l.value);return}var r=CQ(l.path),a=GQ(n,r.slice(0,-1));a.applyPatchLocally(r[r.length-1],l)})}),this._applySnapshot=Xd(this.storedValue,"@APPLY_SNAPSHOT",function(i){if(i!==n.snapshot)return n.type.applySnapshot(n,i)}),Na(this.storedValue,"$treenode",this),Na(this.storedValue,"toJSON",yQ)}}),Object.defineProperty(e.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){!this.isAlive||this.state===Lt.DETACHING||(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(e.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._observableInstanceState!==ai.UNINITIALIZED&&(this.getChildren().forEach(function(n){n.aboutToDie()}),this.baseAboutToDie(),this._internalEventsEmit(dn.Dispose),this._internalEventsClear(dn.Dispose))}}),Object.defineProperty(e.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach(function(i){i.finalizeDeath()}),this.root.identifierCache.notifyDied(this);var n=this.snapshot;this._snapshotUponDeath=n,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(e.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._addSnapshotReaction(),this._internalEventsRegister(dn.Snapshot,n)}}),Object.defineProperty(e.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this._internalEventsEmit(dn.Snapshot,n)}}),Object.defineProperty(e.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._internalEventsRegister(dn.Patch,n)}}),Object.defineProperty(e.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){if(this._internalEventsHasSubscribers(dn.Patch)){var l=i.path.substr(this.path.length)+(n.path?"/"+n.path:""),r=xQ({},n,{path:l}),a=Fr(NQ(r),2),s=a[0],o=a[1];this._internalEventsEmit(dn.Patch,s,o)}this.parent&&this.parent.emitPatch(n,i)}}),Object.defineProperty(e.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._internalEventsHas(dn.Dispose,n)}}),Object.defineProperty(e.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(!this.hasDisposer(n)){this._internalEventsRegister(dn.Dispose,n,!0);return}throw new he("cannot add a disposer when it is already registered for execution")}}),Object.defineProperty(e.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(!this._internalEventsHas(dn.Dispose,n))throw new he("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister(dn.Dispose,n)}}),Object.defineProperty(e.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(this.middlewares){var i=this.middlewares.indexOf(n);i>=0&&this.middlewares.splice(i,1)}}}),Object.defineProperty(e.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this;i===void 0&&(i=!0);var r={handler:n,includeHooks:i};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){l.removeMiddleware(r)}}}),Object.defineProperty(e.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){this.assertWritable({subpath:n}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,n,i)}}),Object.defineProperty(e.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;if(!this._hasSnapshotReaction){var i=KH(function(){return n.snapshot},function(l){return n.emitSnapshot(l)},tQ);this.addDisposer(i),this._hasSnapshotReaction=!0}}}),Object.defineProperty(e.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return!!this._internalEvents&&this._internalEvents.hasSubscribers(n)}}),Object.defineProperty(e.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l){return l===void 0&&(l=!1),this._internalEvents||(this._internalEvents=new Jw),this._internalEvents.register(n,i,l)}}),Object.defineProperty(e.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return!!this._internalEvents&&this._internalEvents.has(n,i)}}),Object.defineProperty(e.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){this._internalEvents&&this._internalEvents.unregister(n,i)}}),Object.defineProperty(e.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(n){for(var i,l=[],r=1;r<arguments.length;r++)l[r-1]=arguments[r];this._internalEvents&&(i=this._internalEvents).emit.apply(i,Oa([n],Fr(l),!1))}}),Object.defineProperty(e.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this._internalEvents&&this._internalEvents.clear(n)}}),Object.defineProperty(e.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),e}(xw);nn.prototype.createObservableInstance=Xt(nn.prototype.createObservableInstance);nn.prototype.detach=Xt(nn.prototype.detach);nn.prototype.die=Xt(nn.prototype.die);var Rw,Ie;(function(t){t[t.String=1]="String",t[t.Number=2]="Number",t[t.Boolean=4]="Boolean",t[t.Date=8]="Date",t[t.Literal=16]="Literal",t[t.Array=32]="Array",t[t.Map=64]="Map",t[t.Object=128]="Object",t[t.Frozen=256]="Frozen",t[t.Optional=512]="Optional",t[t.Reference=1024]="Reference",t[t.Identifier=2048]="Identifier",t[t.Late=4096]="Late",t[t.Refinement=8192]="Refinement",t[t.Union=16384]="Union",t[t.Null=32768]="Null",t[t.Undefined=65536]="Undefined",t[t.Integer=131072]="Integer",t[t.Custom=262144]="Custom",t[t.SnapshotProcessor=524288]="SnapshotProcessor",t[t.Lazy=1048576]="Lazy",t[t.Finite=2097152]="Finite",t[t.Float=4194304]="Float"})(Ie||(Ie={}));var Sw="cannotDetermine",nQ=Symbol("$type"),vl=function(){function t(e){Object.defineProperty(this,Rw,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){return Rl(this,e),this.instantiate(null,"",n,e).value}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){throw new he("unimplemented method")}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(t.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){var i=Lw(e);if(i){var l=Tw(e);return this.isAssignableFrom(l)?ln():rn(n,e)}return this.isValidSnapshot(e,n)}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.validate(e,[{path:"",type:this}]).length===0}}),Object.defineProperty(t.prototype,"Type",{get:function(){throw new he("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TypeWithoutSTN",{get:function(){throw new he("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SnapshotType",{get:function(){throw new he("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CreationType",{get:function(){throw new he("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),t}();Rw=nQ;vl.prototype.create=Xt(vl.prototype.create);var Eo=function(t){Ae(e,t);function e(n){var i=t.call(this,n)||this;return Object.defineProperty(i,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return n===void 0&&(n=this.getDefaultSnapshot()),t.prototype.create.call(this,n,i)}}),Object.defineProperty(e.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.createObservableInstanceIfNeeded(),n.storedValue}}),Object.defineProperty(e.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return!n.identifierAttribute||n.identifier===tm(i[n.identifierAttribute])}}),Object.defineProperty(e.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return n.isDetaching?!1:n.snapshot===i||dt(i)&&Ue(i)===n?!0:n.type===this&&Iw(i)&&!dt(i)&&this.isMatchingSnapshotId(n,i)?(n.applySnapshot(i),!0):!1}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=this.tryToReconcileNode(n,i);if(a)return n.setParent(l,r),n;if(n.die(),dt(i)&&this.isAssignableFrom(Tw(i))){var s=Ue(i);return s.setParent(l,r),s}return this.instantiate(l,r,void 0,i)}}),Object.defineProperty(e.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),e}(vl);Eo.prototype.create=Xt(Eo.prototype.create);var rs=function(t){Ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n}}),Object.defineProperty(e.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){if(!n.isDetaching&&n.type===this&&n.storedValue===i)return n;var a=this.instantiate(l,r,void 0,i);return n.die(),a}}),Object.defineProperty(e.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),e}(vl);function Il(t){return typeof t=="object"&&t&&t.isType===!0}var iQ=1,Pu;function lQ(){return Pu}function rQ(){return iQ++}function aQ(t,e){var n=Ue(t.context);t.type==="action"&&n.assertAlive({actionContext:t});var i=n._isRunningAction;n._isRunningAction=!0;var l=Pu;Pu=t;try{return cQ(n,t,e)}finally{Pu=l,n._isRunningAction=i}}function sQ(t){if(t)return t.type==="action"?t:t.parentActionEvent}function Xd(t,e,n){var i=function(){var l=rQ(),r=Pu,a=sQ(r);return aQ({type:"action",name:e,id:l,args:YQ(arguments),context:t,tree:_B(t),rootId:r?r.rootId:l,parentId:r?r.id:0,allParentIds:r?Oa(Oa([],Fr(r.allParentIds),!1),[r.id],!1):[],parentEvent:r,parentActionEvent:a},n)};return i._isMSTAction=!0,i._isFlowAction=n._isFlowAction,i}var oQ=function(){function t(e,n){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),n.$mst_middleware&&this.middlewares.push(n.$mst_middleware);for(var i=e;i;)i.middlewares&&this.middlewares.push(i.middlewares),i=i.parent}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e){var n=e[this.inArrayIndex++];return n||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}}),t}();function cQ(t,e,n){var i=new oQ(t,n);if(i.isEmpty)return Xt(n).apply(null,e.args);var l=null;function r(a){var s=i.getNextMiddleware(),o=s&&s.handler;if(!o)return Xt(n).apply(null,a.args);if(!s.includeHooks&&Gt[a.name])return r(a);function c(d,m){l=r(d),m&&(l=m(l))}function u(d){l=d}return o(a,c,u),l}return r(e)}function uQ(t){try{return JSON.stringify(t)}catch(e){return"<Unserializable: ".concat(e,">")}}function Yw(t){return typeof t=="function"?"<function".concat(t.name?" "+t.name:"",">"):dt(t)?"<".concat(t,">"):"`".concat(uQ(t),"`")}function dQ(t){return t.length<280?t:"".concat(t.substring(0,272),"......").concat(t.substring(t.length-8))}function mQ(t){var e=t.value,n=t.context[t.context.length-1].type,i=t.context.map(function(s){var o=s.path;return o}).filter(function(s){return s.length>0}).join("/"),l=i.length>0?'at path "/'.concat(i,'" '):"",r=dt(e)?"value of type ".concat(Ue(e).type.name,":"):gd(e)?"value":"snapshot",a=n&&dt(e)&&n.is(Ue(e).snapshot);return"".concat(l).concat(r," ").concat(Yw(e)," is not assignable ").concat(n?"to type: `".concat(n.name,"`"):"")+(t.message?" (".concat(t.message,")"):"")+(n?$Q(n)||gd(e)?".":", expected an instance of `".concat(n.name,"` or a snapshot like `").concat(n.describe(),"` instead.")+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function IW(t,e,n){return t.concat([{path:e,type:n}])}function ln(){return Ko}function rn(t,e,n){return[{context:t,value:e,message:n}]}function kZ(t){return t.reduce(function(e,n){return e.concat(n)},[])}function Rl(t,e){MQ()&&hQ(t,e)}function hQ(t,e){var n=t.validate(e,[{path:"",type:t}]);if(n.length>0)throw new he(bQ(t,e,n))}function bQ(t,e,n){if(n.length!==0)return"Error while converting ".concat(dQ(Yw(e))," to `").concat(t.name,`\`:

    `)+n.map(mQ).join(`
    `)}var pQ=0,ZQ=function(){function t(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:pQ++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:it.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:it.map()})}return Object.defineProperty(t.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,n===void 0?1:n+1)}}),Object.defineProperty(t.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.lastCacheModificationPerId.get(e)||0;return"".concat(this.cacheId,"-").concat(n)}}),Object.defineProperty(t.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){if(n===void 0&&(n=!0),e.identifierAttribute){var i=e.identifier;this.cache.has(i)||this.cache.set(i,it.array([],EZ));var l=this.cache.get(i);if(l.indexOf(e)!==-1)throw new he("Already registered");l.push(e),n&&this.updateLastCacheModificationPerId(i)}}}),Object.defineProperty(t.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this;Nv(e.identifierCache.cache).forEach(function(i){return i.forEach(function(l){n.addNodeToCache(l)})})}}),Object.defineProperty(t.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var n=e.identifier,i=this.cache.get(n);i&&(i.remove(e),i.length||this.cache.delete(n),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(t.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this,i=new t,l=e.path+"/";return tD(this.cache).forEach(function(r){for(var a=Fr(r,2),s=a[0],o=a[1],c=!1,u=o.length-1;u>=0;u--){var d=o[u];(d===e||d.path.indexOf(l)===0)&&(i.addNodeToCache(d,!1),o.splice(u,1),o.length||n.cache.delete(s),c=!0)}c&&n.updateLastCacheModificationPerId(s)}),i}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){var i=this.cache.get(n);return i?i.some(function(l){return e.isAssignableFrom(l.type)}):!1}}),Object.defineProperty(t.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){var i=this.cache.get(n);if(!i)return null;var l=i.filter(function(r){return e.isAssignableFrom(r.type)});switch(l.length){case 0:return null;case 1:return l[0];default:throw new he("Cannot resolve a reference to type '".concat(e.name,"' with id: '").concat(n,"' unambigously, there are multiple candidates: ").concat(l.map(function(r){return r.path}).join(", ")))}}}),t}();function wW(t,e,n,i,l){var r=Lw(l);if(r){if(r.parent)throw new he("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '".concat(e?e.path:"","/").concat(n,"', but it lives already at '").concat(r.path,"'"));return e&&r.setParent(e,n),r}return new nn(t,e,n,i,l)}function qr(t,e,n,i,l){return new Gd(t,e,n,i,l)}function fQ(t){return t instanceof Gd||t instanceof nn}var Lt;(function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.CREATED=1]="CREATED",t[t.FINALIZED=2]="FINALIZED",t[t.DETACHING=3]="DETACHING",t[t.DEAD=4]="DEAD"})(Lt||(Lt={}));function dt(t){return!!(t&&t.$treenode)}function Ue(t){if(!dt(t))throw new he("Value ".concat(t," is no MST Node"));return t.$treenode}function Lw(t){return t&&t.$treenode||null}function yQ(){return Ue(this).snapshot}function GQ(t,e,n){n===void 0&&(n=!0);var i=t;try{for(var l=0;l<e.length;l++){var r=e[l];if(r===".."){if(i=i.parent,i)continue}else{if(r===".")continue;if(i){if(i instanceof Gd){var a=i.value;dt(a)&&(i=Ue(a))}if(i instanceof nn){var s=i.getChildType(r);if(s&&(i=i.getChildNode(r),i))continue}}}throw new he("Could not resolve '".concat(r,"' in path '").concat(JR(e.slice(0,l))||"/","' while resolving '").concat(JR(e),"'"))}}catch(o){if(!n)return;throw o}return i}function Mw(t){if(!t)return Ko;var e=Object.keys(t);if(!e.length)return Ko;var n=new Array(e.length);return e.forEach(function(i,l){n[l]=t[i]}),n}var XQ=Object.toString(),Ko=Object.freeze([]),Uo=Object.freeze({}),EZ=RH().useProxies?{deep:!1}:{deep:!1,proxy:!1};Object.freeze(EZ);var he=function(t){Ae(e,t);function e(n){return n===void 0&&(n="Illegal state"),t.call(this,"[mobx-state-tree] ".concat(n))||this}return e}(Error);function gQ(t){return t}var WQ=Number.isInteger;function VQ(t){return Number(t)===t&&t%1!==0}function TQ(t){return Number.isFinite(t)}function Nw(t){return Array.isArray(t)||ll(t)}function vw(t){return t?Nw(t)?t:[t]:Ko}function xQ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++){var l=e[i];for(var r in l)t[r]=l[r]}return t}function uo(t){var e;if(t===null||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);return n==null?!0:((e=n.constructor)===null||e===void 0?void 0:e.toString())===XQ}function Iw(t){return t!==null&&typeof t=="object"&&!(t instanceof Date)&&!(t instanceof RegExp)}function gd(t,e){return e===void 0&&(e=!0),t==null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"||e&&t instanceof Date}function ww(t){return typeof t!="function"}function RQ(t,e,n){Dn(t)?Iv(t,e,n):Object.defineProperty(t,e,n)}function Na(t,e,n){RQ(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}var SQ=function(){function t(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(t.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){var i=this;return n===void 0&&(n=!1),n?this.handlers.unshift(e):this.handlers.push(e),function(){i.unregister(e)}}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.handlers.indexOf(e);n>=0&&this.handlers.splice(n,1)}}),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(t.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.handlers.slice();i.forEach(function(l){return l.apply(void 0,Oa([],Fr(e),!1))})}}),t}(),Jw=function(){function t(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(t.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.hasSubscribers}}),Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,i){i===void 0&&(i=!1),this.eventHandlers||(this.eventHandlers={});var l=this.eventHandlers[e];return l||(l=this.eventHandlers[e]=new SQ),l.register(n,i)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){var i=this.eventHandlers&&this.eventHandlers[e];return!!i&&i.has(n)}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){var i=this.eventHandlers&&this.eventHandlers[e];i&&i.unregister(n)}}),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(t.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(t.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var n,i=[],l=1;l<arguments.length;l++)i[l-1]=arguments[l];var r=this.eventHandlers&&this.eventHandlers[e];r&&(n=r).emit.apply(n,Oa([],Fr(i),!1))}}),t}();function YQ(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}function Yf(t,e){return t.indexOf(e)===0}function LQ(t){console.warn(new Error("[mobx-state-tree] ".concat(t)))}function MQ(){return typeof He<"u"&&He.env&&{}.ENABLE_TYPE_CHECK==="true"}function NQ(t){if(!("oldValue"in t))throw new he("Patches without `oldValue` field cannot be inversed");return[vQ(t),IQ(t)]}function vQ(t){switch(t.op){case"add":return{op:"add",path:t.path,value:t.value};case"remove":return{op:"remove",path:t.path};case"replace":return{op:"replace",path:t.path,value:t.value}}}function IQ(t){switch(t.op){case"add":return{op:"remove",path:t.path};case"remove":return{op:"add",path:t.path,value:t.oldValue};case"replace":return{op:"replace",path:t.path,value:t.oldValue}}}function wQ(t){return typeof t=="number"}function va(t){return wQ(t)===!0?""+t:t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function JQ(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function JR(t){if(t.length===0)return"";var e=function(n){return n.map(va).join("/")};return t[0]==="."||t[0]===".."?e(t):"/"+e(t)}function CQ(t){var e=t.split("/").map(JQ),n=t===""||t==="."||t===".."||Yf(t,"/")||Yf(t,"./")||Yf(t,"../");if(!n)throw new he("a json path must be either rooted, empty or relative, but got '".concat(t,"'"));return e[0]===""&&e.shift(),e}var Lf=Symbol("$preProcessorFailed"),kQ=function(t){Ae(e,t);function e(n,i,l){var r=t.call(this,l||n.name)||this;return Object.defineProperty(r,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:i}),r}return Object.defineProperty(e.prototype,"flags",{get:function(){return this._subtype.flags|Ie.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor(".concat(this._subtype.describe(),")")}}),Object.defineProperty(e.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._processors.preProcessor?this._processors.preProcessor.call(null,n):n}}),Object.defineProperty(e.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(n){try{return this.preProcessSnapshot(n)}catch{return Lf}}}),Object.defineProperty(e.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return this._processors.postProcessor?this._processors.postProcessor.call(null,n,i.storedValue):n}}),Object.defineProperty(e.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this;EQ(n.type,this,"create"),n instanceof nn&&(n.hasSnapshotPostProcessor=!!this._processors.postProcessor);var l=n.getSnapshot;n.getSnapshot=function(){return i.postProcessSnapshot(l.call(n),n)},l4(this._subtype)||(n.getReconciliationType=function(){return i})}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=dt(r)?r:this.preProcessSnapshot(r),s=this._subtype.instantiate(n,i,l,a);return this._fixNode(s),s}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=this._subtype.reconcile(n,dt(i)?i:this.preProcessSnapshot(i),l,r);return a!==n&&this._fixNode(a),a}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){i===void 0&&(i=!0);var l=this._subtype.getSnapshot(n);return i?this.postProcessSnapshot(l,n):l}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this.preProcessSnapshotSafe(n);return l===Lf?rn(i,n,"Failed to preprocess value"):this._subtype.validate(l,i)}}),Object.defineProperty(e.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=Il(n)?this._subtype:dt(n)?n:this.preProcessSnapshotSafe(n);return i===Lf?!1:this._subtype.validate(i,[{path:"",type:this._subtype}]).length===0}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._subtype.isAssignableFrom(n)}}),Object.defineProperty(e.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){if(!(this._subtype instanceof Eo))return!1;var l=this.preProcessSnapshot(i);return this._subtype.isMatchingSnapshotId(n,l)}}),e}(vl);function EQ(t,e){for(var n,i,l=[],r=2;r<arguments.length;r++)l[r-2]=arguments[r];try{for(var a=Uu(l),s=a.next();!s.done;s=a.next()){var o=s.value;t[o]=e[o].bind(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}function KQ(t,e,n){return new kQ(t,e,n)}var CR="Map.put can only be used to store complex values that have an identifier type attribute";function Cw(t,e){var n,i,l=t.getSubTypes();if(l===Sw)return!1;if(l){var r=vw(l);try{for(var a=Uu(r),s=a.next();!s.done;s=a.next()){var o=s.value;if(!Cw(o,e))return!1}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}return t instanceof Wd&&e.push(t),!0}var or;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO"})(or||(or={}));var UQ=function(t){Ae(e,t);function e(n,i){return t.call(this,n,it.ref.enhancer,i)||this}return Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return t.prototype.get.call(this,""+n)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return t.prototype.has.call(this,""+n)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return t.prototype.delete.call(this,""+n)}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return t.prototype.set.call(this,""+n,i)}}),Object.defineProperty(e.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(!n)throw new he("Map.put cannot be used to set empty values");if(dt(n)){var i=Ue(n);if(i.identifier===null)throw new he(CR);return this.set(i.identifier,n),n}else if(Iw(n)){var l=Ue(this),r=l.type;if(r.identifierMode!==or.YES)throw new he(CR);var a=r.mapIdentifierAttribute,s=n[a];if(!JW(s)){var o=this.put(r.getChildType().create(n,l.environment));return this.put(AB(o))}var c=tm(s);return this.set(c,n),this.get(c)}else throw new he("Map.put can only be used to store complex values")}}),e}(Eg),sp=function(t){Ae(e,t);function e(n,i,l){l===void 0&&(l=[]);var r=t.call(this,n)||this;return Object.defineProperty(r,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(r,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:or.UNKNOWN}),Object.defineProperty(r,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Map}),Object.defineProperty(r,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),r._determineIdentifierMode(),r.hookInitializers=l,r}return Object.defineProperty(e.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this.hookInitializers.length>0?this.hookInitializers.concat(n):[n];return new e(this.name,this._subType,i)}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return this._determineIdentifierMode(),wW(this,n,i,l,r)}}),Object.defineProperty(e.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===or.UNKNOWN){var n=[];if(Cw(this._subType,n)){var i=n.reduce(function(l,r){if(!r.identifierAttribute)return l;if(l&&l!==r.identifierAttribute)throw new he("The objects in a map should all have the same identifier attribute, expected '".concat(l,"', but child of type '").concat(r.name,"' declared attribute '").concat(r.identifierAttribute,"' as identifier"));return r.identifierAttribute},void 0);i?(this.identifierMode=or.YES,this.mapIdentifierAttribute=i):this.identifierMode=or.NO}}}}),Object.defineProperty(e.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){i===void 0&&(i={});var l=n.type._subType,r={};return Object.keys(i).forEach(function(a){r[a]=l.instantiate(n,a,void 0,i[a])}),r}}),Object.defineProperty(e.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return new UQ(n,this.name)}}),Object.defineProperty(e.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){Lv(i,n.unbox);var l=n.type;l.hookInitializers.forEach(function(r){var a=r(i);Object.keys(a).forEach(function(s){var o=a[s],c=Xd(i,s,o);Na(i,s,c)})}),Jg(i,this.willChange),Cg(i,this.didChange)}}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(e.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return Nv(n.storedValue)}}),Object.defineProperty(e.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=n.storedValue.get(""+i);if(!l)throw new he("Not a child "+i);return l}}),Object.defineProperty(e.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=Ue(n.object),l=n.name;i.assertWritable({subpath:l});var r=i.type,a=r._subType;switch(n.type){case"update":{var s=n.newValue,o=n.object.get(l);if(s===o)return null;Rl(a,s),n.newValue=a.reconcile(i.getChildNode(l),n.newValue,i,l),r.processIdentifier(l,n.newValue)}break;case"add":Rl(a,n.newValue),n.newValue=a.instantiate(i,l,void 0,n.newValue),r.processIdentifier(l,n.newValue);break}return n}}),Object.defineProperty(e.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){if(this.identifierMode===or.YES&&i instanceof nn){var l=i.identifier;if(l!==n)throw new he("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '".concat(l,"', but expected: '").concat(n,"'"))}}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i={};return n.getChildren().forEach(function(l){i[l.subpath]=l.snapshot}),i}}),Object.defineProperty(e.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l].getSnapshot()}),i}}),Object.defineProperty(e.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=Ue(n.object);switch(n.type){case"update":return void i.emitPatch({op:"replace",path:va(n.name),value:n.newValue.snapshot,oldValue:n.oldValue?n.oldValue.snapshot:void 0},i);case"add":return void i.emitPatch({op:"add",path:va(n.name),value:n.newValue.snapshot,oldValue:void 0},i);case"delete":var l=n.oldValue.snapshot;return n.oldValue.die(),void i.emitPatch({op:"remove",path:va(n.name),oldValue:l},i)}}}),Object.defineProperty(e.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l){var r=n.storedValue;switch(l.op){case"add":case"replace":r.set(i,l.value);break;case"remove":r.delete(i);break}}}),Object.defineProperty(e.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){Rl(this,i);var l=n.storedValue,r={};if(Array.from(l.keys()).forEach(function(s){r[s]=!1}),i)for(var a in i)l.set(a,i[a]),r[""+a]=!0;Object.keys(r).forEach(function(s){r[s]===!1&&l.delete(s)})}}),Object.defineProperty(e.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this;return uo(n)?kZ(Object.keys(n).map(function(r){return l._subType.validate(n[r],IW(i,r,l._subType))})):rn(i,n,"Value is not a plain object")}}),Object.defineProperty(e.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Uo}}),Object.defineProperty(e.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){n.storedValue.delete(i)}}),e}(Eo);sp.prototype.applySnapshot=Xt(sp.prototype.applySnapshot);function PQ(t){return new sp("Map<string, ".concat(t.name,">"),t)}var op=function(t){Ae(e,t);function e(n,i,l){l===void 0&&(l=[]);var r=t.call(this,n)||this;return Object.defineProperty(r,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Array}),Object.defineProperty(r,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),r.hookInitializers=l,r}return Object.defineProperty(e.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this.hookInitializers.length>0?this.hookInitializers.concat(n):[n];return new e(this.name,this._subType,i)}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return wW(this,n,i,l,r)}}),Object.defineProperty(e.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){i===void 0&&(i=[]);var l=n.type._subType,r={};return i.forEach(function(a,s){var o=""+s;r[o]=l.instantiate(n,o,void 0,a)}),r}}),Object.defineProperty(e.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=il(il({},EZ),{name:this.name});return it.array(Mw(n),i)}}),Object.defineProperty(e.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){nl(i).dehancer=n.unbox;var l=n.type;l.hookInitializers.forEach(function(r){var a=r(i);Object.keys(a).forEach(function(s){var o=a[s],c=Xd(i,s,o);Na(i,s,c)})}),Jg(i,this.willChange),Cg(i,this.didChange)}}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(e.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue.slice()}}),Object.defineProperty(e.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=Number(i);if(l<n.storedValue.length)return n.storedValue[l];throw new he("Not a child: "+i)}}),Object.defineProperty(e.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=Ue(n.object);i.assertWritable({subpath:""+n.index});var l=i.type._subType,r=i.getChildren();switch(n.type){case"update":{if(n.newValue===n.object[n.index])return null;var a=kR(i,l,[r[n.index]],[n.newValue],[n.index]);if(!a)return null;n.newValue=a[0]}break;case"splice":{var s=n.index,o=n.removedCount,c=n.added,u=kR(i,l,r.slice(s,s+o),c,c.map(function(m,h){return s+h}));if(!u)return null;n.added=u;for(var d=s+o;d<r.length;d++)r[d].setParent(i,""+(d+c.length-o))}break}return n}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.getChildren().map(function(i){return i.snapshot})}}),Object.defineProperty(e.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=[];return Object.keys(n).forEach(function(l){i.push(n[l].getSnapshot())}),i}}),Object.defineProperty(e.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=Ue(n.object);switch(n.type){case"update":return void i.emitPatch({op:"replace",path:""+n.index,value:n.newValue.snapshot,oldValue:n.oldValue?n.oldValue.snapshot:void 0},i);case"splice":if(n.removedCount&&n.addedCount===n.object.length)return void i.emitPatch({op:"replace",path:"",value:i.snapshot,oldValue:n.removed.map(function(r){return r.snapshot})},i);for(var l=n.removedCount-1;l>=0;l--)i.emitPatch({op:"remove",path:""+(n.index+l),oldValue:n.removed[l].snapshot},i);for(var l=0;l<n.addedCount;l++)i.emitPatch({op:"add",path:""+(n.index+l),value:n.added[l].snapshot,oldValue:void 0},i);return}}}),Object.defineProperty(e.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l){var r=n.storedValue,a=i==="-"?r.length:Number(i);switch(l.op){case"replace":r[a]=l.value;break;case"add":r.splice(a,0,l.value);break;case"remove":r.splice(a,1);break}}}),Object.defineProperty(e.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){Rl(this,i);var l=n.storedValue;l.replace(i)}}),Object.defineProperty(e.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this;return Nw(n)?kZ(n.map(function(r,a){return l._subType.validate(r,IW(i,""+a,l._subType))})):rn(i,n,"Value is not an array")}}),Object.defineProperty(e.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Ko}}),Object.defineProperty(e.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){n.storedValue.splice(Number(i),1)}}),e}(Eo);op.prototype.applySnapshot=Xt(op.prototype.applySnapshot);function FQ(t){return new op("".concat(t.name,"[]"),t)}function kR(t,e,n,i,l){for(var r=!0,a=0;;a++){var s=a<=i.length-1,o=n[a],c=s?i[a]:void 0,u=""+l[a];if(fQ(c)&&(c=c.storedValue),!o&&!s)break;if(!s)r=!1,n.splice(a,1),o instanceof nn&&o.createObservableInstanceIfNeeded(),o.die(),a--;else if(o)if(ER(o,c))n[a]=Mf(e,t,u,c,o);else{for(var m=void 0,h=a;h<n.length;h++)if(ER(n[h],c)){m=n.splice(h,1)[0];break}r=!1;var d=Mf(e,t,u,c,m);n.splice(a,0,d)}else{if(dt(c)&&Ue(c).parent===t)throw new he("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '".concat(t.path,"/").concat(u,"', but it lives already at '").concat(Ue(c).path,"'"));r=!1;var d=Mf(e,t,u,c);n.splice(a,0,d)}}return r?null:n}function Mf(t,e,n,i,l){Rl(t,i);function r(){if(dt(i)){var s=Ue(i);if(s.assertAlive(Uo),s.parent!==null&&s.parent===e)return s.setParent(e,n),s}return l?t.reconcile(l,i,e,n):t.instantiate(e,n,void 0,i)}var a=r();return l&&l!==a&&(l instanceof nn&&l.createObservableInstanceIfNeeded(),l.die()),a}function ER(t,e){if(!t.isAlive)return!1;if(dt(e)){var n=Ue(e);return n.isAlive&&n===t}if(t.snapshot===e)return!0;if(!(t instanceof nn))return!1;var i=t.getReconciliationType();return t.identifier!==null&&t.identifierAttribute&&uo(e)&&i.is(e)&&i.isMatchingSnapshotId(t,e)}var KR="preProcessSnapshot",UR="postProcessSnapshot";function zQ(){return Ue(this).toString()}var PR={name:"AnonymousModel",properties:{},initializers:Ko};function jQ(t){var e=Object.keys(t),n=new Set;return e.forEach(function(i){if(n.has(i))throw new he("".concat(i," is declared twice in the model. Model should not contain the same keys"));n.add(i)}),e.reduce(function(i,l){if(l in Gt)throw new he("Hook '".concat(l,"' was defined as property. Hooks should be defined as part of the actions"));var r=Object.getOwnPropertyDescriptor(t,l);if("get"in r)throw new he("Getters are not supported as properties. Please use views instead");var a=r.value;if(a==null)throw new he("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(gd(a))i[l]=Ia(_Q(a),a);else if(a instanceof sp)i[l]=Ia(a,{});else if(a instanceof op)i[l]=Ia(a,[]);else if(!Il(a))throw new he("Invalid type definition for property '".concat(l,"', cannot infer a type from a value like '").concat(a,"' (").concat(typeof a,")"));return i},il({},t))}var Wd=function(t){Ae(e,t);function e(n){var i=t.call(this,n.name||PR.name)||this;return Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Object}),Object.defineProperty(i,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(l){return i.cloneAndEnhance({name:l})}}),Object.defineProperty(i,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(l){return i.cloneAndEnhance({properties:l})}}),Object.defineProperty(i,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(l){var r=i.preProcessor;return r?i.cloneAndEnhance({preProcessor:function(a){return r(l(a))}}):i.cloneAndEnhance({preProcessor:l})}}),Object.defineProperty(i,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(l){var r=i.postProcessor;return r?i.cloneAndEnhance({postProcessor:function(a){return l(r(a))}}):i.cloneAndEnhance({postProcessor:l})}}),Object.assign(i,PR,n),i.properties=jQ(i.properties),i.properties,i.propertyNames=Object.keys(i.properties),i.identifierAttribute=i._getIdentifierAttribute(),i}return Object.defineProperty(e.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=void 0;return this.forAllProps(function(i,l){if(l.flags&Ie.Identifier){if(n)throw new he("Cannot define property '".concat(i,"' as object identifier, property '").concat(n,"' is already defined as identifier property"));n=i}}),n}}),Object.defineProperty(e.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return new e({name:n.name||this.name,properties:Object.assign({},this.properties,n.properties),initializers:this.initializers.concat(n.initializers||[]),preProcessor:n.preProcessor||this.preProcessor,postProcessor:n.postProcessor||this.postProcessor})}}),Object.defineProperty(e.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this,l=function(r){return i.instantiateActions(r,n(r)),r};return this.cloneAndEnhance({initializers:[l]})}}),Object.defineProperty(e.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this;if(!uo(i))throw new he("actions initializer should return a plain object containing actions");Object.getOwnPropertyNames(i).forEach(function(r){if(r in l.properties)throw new he("'".concat(r,"' is a property and cannot be declared as an action"));if(r===KR)throw new he("Cannot define action '".concat(KR,"', it should be defined using 'type.preProcessSnapshot(fn)' instead"));if(r===UR)throw new he("Cannot define action '".concat(UR,"', it should be defined using 'type.postProcessSnapshot(fn)' instead"));var a=i[r],s=n[r];if(r in Gt&&s){var o=a;a=function(){s.apply(null,arguments),o.apply(null,arguments)}}var c=a.$mst_middleware,u=a.bind(i);u._isFlowAction=a._isFlowAction||!1,u.$mst_middleware=c;var d=Xd(n,r,u);i[r]=d,Na(n,r,d)})}}),Object.defineProperty(e.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this;if(typeof n!="function")throw new he("You passed an ".concat(typeof n," to volatile state as an argument, when function is expected"));var l=function(r){return i.instantiateVolatileState(r,n(r)),r};return this.cloneAndEnhance({initializers:[l]})}}),Object.defineProperty(e.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this;if(!uo(i))throw new he("volatile state initializer should return a plain object containing state");Object.getOwnPropertyNames(i).forEach(function(r){if(r in l.properties)throw new he("'".concat(r,"' is a property and cannot be declared as volatile state"));vv(n,r,i[r])})}}),Object.defineProperty(e.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this,l=function(r){var a=n(r),s=a.actions,o=a.views,c=a.state,u=QB(a,["actions","views","state"]);for(var d in u)throw new he("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '".concat(d,"'"));return c&&i.instantiateVolatileState(r,c),o&&i.instantiateViews(r,o),s&&i.instantiateActions(r,s),r};return this.cloneAndEnhance({initializers:[l]})}}),Object.defineProperty(e.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this,l=function(r){return i.instantiateViews(r,n(r)),r};return this.cloneAndEnhance({initializers:[l]})}}),Object.defineProperty(e.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this;if(!uo(i))throw new he("views initializer should return a plain object containing views");Object.getOwnPropertyNames(i).forEach(function(r){var a;if(r in l.properties)throw new he("'".concat(r,"' is a property and cannot be declared as a view"));var s=Object.getOwnPropertyDescriptor(i,r);if("get"in s)Iv(n,r,s),Jv(n,(a={},a[r]=lc,a));else if(typeof s.value=="function")Na(n,r,s.value);else throw new he("A view member should either be a function or getter based property")})}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=dt(r)?r:this.applySnapshotPreProcessor(r);return wW(this,n,i,l,a)}}),Object.defineProperty(e.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){i===void 0&&(i={});var l=n.type,r={};return l.forAllProps(function(a,s){r[a]=s.instantiate(n,a,void 0,i[a])}),r}}),Object.defineProperty(e.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=il(il({},EZ),{name:this.name});return it.object(n,Uo,i)}}),Object.defineProperty(e.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){Na(i,"toString",zQ),this.forAllProps(function(l){Lv(i,l,n.unbox)}),this.initializers.reduce(function(l,r){return r(l)},i),Jg(i,this.willChange),Cg(i,this.didChange)}}),Object.defineProperty(e.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=n,l=Ue(i.object),r=i.name;l.assertWritable({subpath:r});var a=l.type.properties[r];return a&&(Rl(a,i.newValue),i.newValue=a.reconcile(l.getChildNode(r),i.newValue,l,r)),i}}),Object.defineProperty(e.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=n,l=Ue(i.object),r=l.type.properties[i.name];if(r){var a=i.oldValue?i.oldValue.snapshot:void 0;l.emitPatch({op:"replace",path:va(i.name),value:i.newValue.snapshot,oldValue:a},l)}}}),Object.defineProperty(e.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this,l=[];return this.forAllProps(function(r){l.push(i.getChildNode(n,r))}),l}}),Object.defineProperty(e.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l;if(!(i in this.properties))throw new he("Not a value property: "+i);var r=nl(n.storedValue,i),a=(l=r.raw)===null||l===void 0?void 0:l.call(r);if(!a)throw new he("Node not available for property "+i);return a}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this;i===void 0&&(i=!0);var r={};return this.forAllProps(function(a,s){var o=za(n.storedValue,a);o.reportObserved(),r[a]=l.getChildNode(n,a).snapshot}),i?this.applySnapshotPostProcessor(r):r}}),Object.defineProperty(e.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l].getSnapshot()}),this.applySnapshotPostProcessor(i)}}),Object.defineProperty(e.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l){if(!(l.op==="replace"||l.op==="add"))throw new he("object does not support operation ".concat(l.op));n.storedValue[i]=l.value}}),Object.defineProperty(e.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){Rl(this,i);var l=this.applySnapshotPreProcessor(i);this.forAllProps(function(r){n.storedValue[r]=l[r]})}}),Object.defineProperty(e.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this.preProcessor;return i?i.call(null,n):n}}),Object.defineProperty(e.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this.postProcessor;return i?i.call(null,n):n}}),Object.defineProperty(e.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.properties[n]}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this,r=this.applySnapshotPreProcessor(n);return uo(r)?kZ(this.propertyNames.map(function(a){return l.properties[a].validate(r[a],IW(i,a,l.properties[a]))})):rn(i,r,"Value is not a plain object")}}),Object.defineProperty(e.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this;this.propertyNames.forEach(function(l){return n(l,i.properties[l])})}}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;return"{ "+this.propertyNames.map(function(i){return i+": "+n.properties[i].describe()}).join("; ")+" }"}}),Object.defineProperty(e.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Uo}}),Object.defineProperty(e.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){n.storedValue[i]=void 0}}),e}(Eo);Wd.prototype.applySnapshot=Xt(Wd.prototype.applySnapshot);function HQ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=typeof t[0]=="string"?t.shift():"AnonymousModel",i=t.shift()||{};return new Wd({name:n,properties:i})}function DQ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=typeof t[0]=="string",i=n?t[0]:"AnonymousModel";return n&&t.shift(),t.reduce(function(l,r){return l.cloneAndEnhance({name:l.name+"_"+r.name,properties:r.properties,initializers:r.initializers,preProcessor:function(a){return r.applySnapshotPreProcessor(l.applySnapshotPreProcessor(a))},postProcessor:function(a){return r.applySnapshotPostProcessor(l.applySnapshotPostProcessor(a))}})}).named(i)}function OQ(t){return Il(t)&&(t.flags&Ie.Object)>0}var zl=function(t){Ae(e,t);function e(n,i,l,r){r===void 0&&(r=gQ);var a=t.call(this,n)||this;return Object.defineProperty(a,"flags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(a,"checker",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(a,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:r}),a.flags=i,a}return Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return qr(this,n,i,l,r)}}),Object.defineProperty(e.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.initializer(n)}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){if(gd(n)&&this.checker(n))return ln();var l=this.name==="Date"?"Date or a unix milliseconds timestamp":this.name;return rn(i,n,"Value is not a ".concat(l))}}),e}(rs),kw=new zl("string",Ie.String,function(t){return typeof t=="string"}),Ew=new zl("number",Ie.Number,function(t){return typeof t=="number"}),BQ=new zl("integer",Ie.Integer,function(t){return WQ(t)}),QQ=new zl("float",Ie.Float,function(t){return VQ(t)}),AQ=new zl("finite",Ie.Finite,function(t){return TQ(t)}),Kw=new zl("boolean",Ie.Boolean,function(t){return typeof t=="boolean"}),Uw=new zl("null",Ie.Null,function(t){return t===null}),Pw=new zl("undefined",Ie.Undefined,function(t){return t===void 0}),Fw=new zl("Date",Ie.Date,function(t){return typeof t=="number"||t instanceof Date},function(t){return t instanceof Date?t:new Date(t)});Fw.getSnapshot=function(t){return t.storedValue.getTime()};var zw=Fw;function _Q(t){switch(typeof t){case"string":return kw;case"number":return Ew;case"boolean":return Kw;case"object":if(t instanceof Date)return zw}throw new he("Cannot determine primitive type from value "+t)}function $Q(t){return Il(t)&&(t.flags&(Ie.String|Ie.Number|Ie.Integer|Ie.Boolean|Ie.Date))>0}var qQ=function(t){Ae(e,t);function e(n){var i=t.call(this,JSON.stringify(n))||this;return Object.defineProperty(i,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Literal}),i.value=n,i}return Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return qr(this,n,i,l,r)}}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return gd(n)&&n===this.value?ln():rn(i,n,"Value is not a literal ".concat(JSON.stringify(this.value)))}}),e}(rs);function jw(t){return new qQ(t)}var e4=function(t){Ae(e,t);function e(n,i,l,r){var a=t.call(this,n)||this;return Object.defineProperty(a,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(a,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(a,"_message",{enumerable:!0,configurable:!0,writable:!0,value:r}),a}return Object.defineProperty(e.prototype,"flags",{get:function(){return this._subtype.flags|Ie.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return this._subtype.instantiate(n,i,l,r)}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._subtype.isAssignableFrom(n)}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this._subtype.validate(n,i);if(l.length>0)return l;var r=dt(n)?Ue(n).snapshot:n;return this._predicate(r)?ln():rn(i,n,this._message(n))}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return this._subtype.reconcile(n,i,l,r)}}),Object.defineProperty(e.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),e}(vl);function t4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=typeof t[0]=="string"?t.shift():Il(t[0])?t[0].name:null,i=t[0],l=t[1],r=t[2]?t[2]:function(a){return"Value does not respect the refinement predicate"};return new e4(n,i,l,r)}function n4(t,e){var n=typeof t=="string"?e:t,i=KZ.apply(void 0,Oa([],Fr(n.map(function(l){return jw(""+l)})),!1));return typeof t=="string"&&(i.name=t),i}var i4=function(t){Ae(e,t);function e(n,i,l){var r=t.call(this,n)||this;return Object.defineProperty(r,"_types",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(r,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),l=il({eager:!0,dispatcher:void 0},l),r._dispatcher=l.dispatcher,l.eager||(r._eager=!1),r}return Object.defineProperty(e.prototype,"flags",{get:function(){var n=Ie.Union;return this._types.forEach(function(i){n|=i.flags}),n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._types.some(function(i){return i.isAssignableFrom(n)})}}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map(function(n){return n.describe()}).join(" | ")+")"}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=this.determineType(r,void 0);if(!a)throw new he("No matching type for union "+this.describe());return a.instantiate(n,i,l,r)}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=this.determineType(i,n.getReconciliationType());if(!a)throw new he("No matching type for union "+this.describe());return a.reconcile(n,i,l,r)}}),Object.defineProperty(e.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return this._dispatcher?this._dispatcher(n):i?i.is(n)?i:this._types.filter(function(l){return l!==i}).find(function(l){return l.is(n)}):this._types.find(function(l){return l.is(n)})}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){if(this._dispatcher)return this._dispatcher(n).validate(n,i);for(var l=[],r=0,a=0;a<this._types.length;a++){var s=this._types[a],o=s.validate(n,i);if(o.length===0){if(this._eager)return ln();r++}else l.push(o)}return r===1?ln():rn(i,n,"No type is applicable for the union").concat(kZ(l))}}),Object.defineProperty(e.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),e}(vl);function KZ(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Il(t)?void 0:t,l=Il(t)?Oa([t],Fr(e),!1):e,r="("+l.map(function(a){return a.name}).join(" | ")+")";return new i4(r,l,i)}function l4(t){return Il(t)&&(t.flags&Ie.Union)>0}var r4=function(t){Ae(e,t);function e(n,i,l){var r=t.call(this,n.name)||this;return Object.defineProperty(r,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(r,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:l}),r}return Object.defineProperty(e.prototype,"flags",{get:function(){return this._subtype.flags|Ie.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){if(this.optionalValues.indexOf(r)>=0){var a=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(n,i,l,a)}return this._subtype.instantiate(n,i,l,r)}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return this._subtype.reconcile(n,this.optionalValues.indexOf(i)<0&&this._subtype.is(i)?i:this.getDefaultInstanceOrSnapshot(),l,r)}}),Object.defineProperty(e.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=typeof this._defaultValue=="function"?this._defaultValue():this._defaultValue;return typeof this._defaultValue=="function"&&Rl(this,n),n}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return this.optionalValues.indexOf(n)>=0?ln():this._subtype.validate(n,i)}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._subtype.isAssignableFrom(n)}}),Object.defineProperty(e.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),e}(vl);function a4(t,e){if(typeof e!="function"&&dt(e))throw new he("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead")}function Ia(t,e,n){return a4(t,e),new r4(t,e,n||s4)}var s4=[void 0],o4=Ia(Pw,void 0),c4=Ia(Uw,null);function Hw(t){return KZ(t,o4)}function u4(t){return KZ(t,c4)}var d4=function(t){Ae(e,t);function e(n,i){var l=t.call(this,n)||this;return Object.defineProperty(l,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l}return Object.defineProperty(e.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|Ie.Late},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(!this._subType){var i=void 0;try{i=this._definition()}catch(l){if(l instanceof ReferenceError)i=void 0;else throw l}if(n&&i===void 0)throw new he("Late type seems to be used too early, the definition (still) returns undefined");i&&(this._subType=i)}return this._subType}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return this.getSubType(!0).instantiate(n,i,l,r)}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return this.getSubType(!0).reconcile(n,i,l,r)}}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.getSubType(!1);return n?n.name:"<uknown late type>"}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this.getSubType(!1);return l?l.validate(n,i):ln()}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=this.getSubType(!1);return i?i.isAssignableFrom(n):!1}}),Object.defineProperty(e.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.getSubType(!1);return n||Sw}}),e}(vl);function m4(t,e){var n=typeof t=="string"?t:"late(".concat(t.toString(),")"),i=typeof t=="string"?e:t;return new d4(n,i)}function h4(t,e){return new b4(t,e)}var b4=function(t){Ae(e,t);function e(n,i){var l=t.call(this,n)||this;return Object.defineProperty(l,"options",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Lazy}),Object.defineProperty(l,"loadedType",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(l,"pendingNodeList",{enumerable:!0,configurable:!0,writable:!0,value:it.array()}),qT(function(){return l.pendingNodeList.length>0&&l.pendingNodeList.some(function(r){return r.isAlive&&l.options.shouldLoadPredicate(r.parent?r.parent.value:null)})},function(){l.options.loadType().then(Xt(function(r){l.loadedType=r,l.pendingNodeList.forEach(function(a){a.parent&&l.loadedType&&a.parent.applyPatches([{op:"replace",path:"/".concat(a.subpath),value:a.snapshot}])})}))}),l}return Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<lazy ".concat(this.name,">")}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=this;if(this.loadedType)return this.loadedType.instantiate(n,i,l,r);var s=qr(this,n,i,l,r);return this.pendingNodeList.push(s),qT(function(){return!s.isAlive},function(){return a.pendingNodeList.splice(a.pendingNodeList.indexOf(s),1)}),s}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return this.loadedType?this.loadedType.validate(n,i):ww(n)?ln():rn(i,n,"Value is not serializable and cannot be lazy")}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return this.loadedType?(n.die(),this.loadedType.instantiate(l,r,l.environment,i)):t.prototype.reconcile.call(this,n,i,l,r)}}),e}(rs),Dw=function(t){Ae(e,t);function e(n){var i=t.call(this,n?"frozen(".concat(n.name,")"):"frozen")||this;return Object.defineProperty(i,"subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Frozen}),i}return Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){return qr(this,n,i,l,r)}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return ww(n)?this.subType?this.subType.validate(n,i):ln():rn(i,n,"Value is not serializable and cannot be frozen")}}),e}(rs),FR=new Dw;function p4(t){return arguments.length===0?FR:Il(t)?new Dw(t):Ia(FR,t)}function Z4(t){switch(t){case Gt.beforeDestroy:return"destroy";case Gt.beforeDetach:return"detach";default:return}}var f4=function(){function t(e,n){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),JW(e))this.identifier=e;else if(dt(e)){var i=Ue(e);if(!i.identifierAttribute)throw new he("Can only store references with a defined identifier attribute.");var l=i.unnormalizedIdentifier;if(l==null)throw new he("Can only store references to tree nodes with a defined identifier.");this.identifier=l}else throw new he("Can only store references to tree nodes or identifiers, got: '".concat(e,"'"))}return Object.defineProperty(t.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=tm(this.identifier),i=e.root,l=i.identifierCache.getLastCacheModificationPerId(n);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==l){var r=this.targetType,a=i.identifierCache.resolve(r,n);if(!a)throw new y4("[mobx-state-tree] Failed to resolve reference '".concat(this.identifier,"' to type '").concat(this.targetType.name,"' (from node: ").concat(e.path,")"));this.resolvedReference={node:a,lastCacheModification:l}}}}),Object.defineProperty(t.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),t}(),y4=function(t){Ae(e,t);function e(n){var i=t.call(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return e}(Error),Ow=function(t){Ae(e,t);function e(n,i){var l=t.call(this,"reference(".concat(n.name,")"))||this;return Object.defineProperty(l,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(l,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Reference}),l}return Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.targetType.isAssignableFrom(n)}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return JW(n)?ln():rn(i,n,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(e.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=i.parent;if(!(!a||!a.isAlive)){var s=a.storedValue;s&&this.onInvalidated({cause:n,parent:s,invalidTarget:r?r.storedValue:void 0,invalidId:l,replaceRef:function(o){wR(i.root.storedValue,{op:"replace",value:o,path:i.path})},removeRef:function(){OQ(a.type)?this.replaceRef(void 0):wR(i.root.storedValue,{op:"remove",path:i.path})}})}}}),Object.defineProperty(e.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){var l=this,r=this.getValue(n);if(r){var a=Ue(r),s=function(u,d){var m=Z4(d);m&&l.fireInvalidated(m,n,i,a)},o=a.registerHook(Gt.beforeDetach,s),c=a.registerHook(Gt.beforeDestroy,s);return function(){o(),c()}}}}),Object.defineProperty(e.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l){var r=this;if(this.onInvalidated){var a;n.registerHook(Gt.beforeDestroy,function(){a&&a()});var s=function(o){a&&a();var c=n.parent,u=c&&c.storedValue;if(c&&c.isAlive&&u){var d=void 0;l?d=!!l.get(i,u):d=n.root.identifierCache.has(r.targetType,tm(i)),d?a=r.addTargetNodeWatcher(n,i):o||r.fireInvalidated("invalidSnapshotReference",n,i,null)}};n.state===Lt.FINALIZED?s(!0):(n.isRoot||n.root.registerHook(Gt.afterCreationFinalization,function(){n.parent&&n.parent.createObservableInstanceIfNeeded()}),n.registerHook(Gt.afterAttach,function(){s(!1)}))}}}),e}(rs),G4=function(t){Ae(e,t);function e(n,i){return t.call(this,n,i)||this}return Object.defineProperty(e.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(n.isAlive){var i=n.storedValue;return i.resolvedValue}}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var i=n.storedValue;return i.identifier}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=dt(r)?qB(r):r,s=new f4(r,this.targetType),o=qr(this,n,i,l,s);return s.node=o,this.watchTargetNodeForInvalidations(o,a,void 0),o}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){if(!n.isDetaching&&n.type===this){var a=dt(i),s=n.storedValue;if(!a&&s.identifier===i||a&&s.resolvedValue===i)return n.setParent(l,r),n}var o=this.instantiate(l,r,void 0,i);return n.die(),o}}),e}(Ow),X4=function(t){Ae(e,t);function e(n,i,l){var r=t.call(this,n,l)||this;return Object.defineProperty(r,"options",{enumerable:!0,configurable:!0,writable:!0,value:i}),r}return Object.defineProperty(e.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(n.isAlive){var i=this.options.get(n.storedValue,n.parent?n.parent.storedValue:null);return i}}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=dt(r)?this.options.set(r,n?n.storedValue:null):r,s=qr(this,n,i,l,a);return this.watchTargetNodeForInvalidations(s,a,this.options),s}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=dt(i)?this.options.set(i,n?n.storedValue:null):i;if(!n.isDetaching&&n.type===this&&n.storedValue===a)return n.setParent(l,r),n;var s=this.instantiate(l,r,void 0,a);return n.die(),s}}),e}(Ow);function Bw(t,e){var n=e||void 0,i=e?e.onInvalidated:void 0;return n&&(n.get||n.set)?new X4(t,{get:n.get,set:n.set},i):new G4(t,i)}function g4(t,e){var n=Bw(t,il(il({},e),{onInvalidated:function(i){e&&e.onInvalidated&&e.onInvalidated(i),i.removeRef()}}));return e&&e.acceptsUndefined===!1?n:Hw(n)}var Qw=function(t){Ae(e,t);function e(n,i){var l=t.call(this,n)||this;return Object.defineProperty(l,"validType",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Identifier}),l}return Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){if(!n||!(n.type instanceof Wd))throw new he("Identifier types can only be instantiated as direct child of a model type");return qr(this,n,i,l,r)}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){if(n.storedValue!==i)throw new he("Tried to change identifier from '".concat(n.storedValue,"' to '").concat(i,"'. Changing identifiers is not allowed."));return n.setParent(l,r),n}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){return typeof n!==this.validType?rn(i,n,"Value is not a valid ".concat(this.describe(),", expected a ").concat(this.validType)):ln()}}),e}(rs),W4=function(t){Ae(e,t);function e(){var n=t.call(this,"identifier","string")||this;return Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Identifier}),n}return Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),e}(Qw),V4=function(t){Ae(e,t);function e(){return t.call(this,"identifierNumber","number")||this}return Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue}}),Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),e}(Qw),T4=new W4,x4=new V4;function tm(t){return""+t}function JW(t){return typeof t=="string"||typeof t=="number"}function R4(t){return new S4(t)}var S4=function(t){Ae(e,t);function e(n){var i=t.call(this,n.name)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Ie.Custom}),i}return Object.defineProperty(e.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(e.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i){if(this.options.isTargetType(n))return ln();var l=this.options.getValidationMessage(n);return l?rn(i,n,"Invalid value for type '".concat(this.name,"': ").concat(l)):ln()}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.options.toSnapshot(n.storedValue)}}),Object.defineProperty(e.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=this.options.isTargetType(r)?r:this.options.fromSnapshot(r,n&&n.root.environment);return qr(this,n,i,l,a)}}),Object.defineProperty(e.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,i,l,r){var a=!this.options.isTargetType(i);if(!n.isDetaching){var s=n.type===this&&(a?i===n.snapshot:i===n.storedValue);if(s)return n.setParent(l,r),n}var o=a?this.options.fromSnapshot(i,l.root.environment):i,c=this.instantiate(l,r,void 0,o);return n.die(),c}}),e}(rs),WX={enumeration:n4,model:HQ,compose:DQ,custom:R4,reference:Bw,safeReference:g4,union:KZ,optional:Ia,literal:jw,maybe:Hw,maybeNull:u4,refinement:t4,string:kw,boolean:Kw,number:Ew,integer:BQ,float:QQ,finite:AQ,Date:zw,map:PQ,array:FQ,frozen:p4,identifier:T4,identifierNumber:x4,late:m4,lazy:h4,undefined:Pw,null:Uw,snapshotProcessor:KQ};const Y4=WX.model("ViewModel",{newick:WX.string}).actions(t=>({updateNewick(e){t.newick=e}})),L4=WX.model("ConfigModel",{view:Y4});function cp(t,e){if(!t)throw new Error(e||"loader assertion failed.")}const CW=!!(typeof He!="object"||String(He)!=="[object process]"||He.browser),zR=typeof He<"u"&&He.version&&/v([0-9]*)/.exec(He.version);zR&&parseFloat(zR[1]);const M4="3.4.15";function wl(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const lb=typeof He!="object"||String(He)!=="[object process]"||He.browser,N4=typeof window<"u"&&typeof window.orientation<"u",jR=typeof He<"u"&&He.version&&/v([0-9]*)/.exec(He.version);jR&&parseFloat(jR[1]);function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function v4(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(Vd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I4(t){var e=v4(t,"string");return Vd(e)=="symbol"?e:e+""}function Ze(t,e,n){return(e=I4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class w4{constructor(e,n){Ze(this,"name",void 0),Ze(this,"workerThread",void 0),Ze(this,"isRunning",!0),Ze(this,"result",void 0),Ze(this,"_resolve",()=>{}),Ze(this,"_reject",()=>{}),this.name=e,this.workerThread=n,this.result=new Promise((i,l)=>{this._resolve=i,this._reject=l})}postMessage(e,n){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:n})}done(e){wl(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){wl(this.isRunning),this.isRunning=!1,this._reject(e)}}let Nf=class{terminate(){}};const vf=new Map;function J4(t){wl(t.source&&!t.url||!t.source&&t.url);let e=vf.get(t.source||t.url);return e||(t.url&&(e=C4(t.url),vf.set(t.url,e)),t.source&&(e=Aw(t.source),vf.set(t.source,e))),wl(e),e}function C4(t){if(!t.startsWith("http"))return t;const e=k4(t);return Aw(e)}function Aw(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function k4(t){return`try {
  importScripts('`.concat(t,`');
} catch (error) {
  console.error(error);
  throw error;
}`)}function _w(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2?arguments[2]:void 0;const i=n||new Set;if(t){if(HR(t))i.add(t);else if(HR(t.buffer))i.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(const l in t)_w(t[l],e,i)}}return n===void 0?Array.from(i):[]}function HR(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}const If=()=>{};class VX{static isSupported(){return typeof Worker<"u"&&lb||typeof Nf<"u"&&!lb}constructor(e){Ze(this,"name",void 0),Ze(this,"source",void 0),Ze(this,"url",void 0),Ze(this,"terminated",!1),Ze(this,"worker",void 0),Ze(this,"onMessage",void 0),Ze(this,"onError",void 0),Ze(this,"_loadableURL","");const{name:n,source:i,url:l}=e;wl(i||l),this.name=n,this.source=i,this.url=l,this.onMessage=If,this.onError=r=>console.log(r),this.worker=lb?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=If,this.onError=If,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,n){n=n||_w(e),this.worker.postMessage(e,n)}_getErrorFromErrorEvent(e){let n="Failed to load ";return n+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(n+="".concat(e.message," in ")),e.lineno&&(n+=":".concat(e.lineno,":").concat(e.colno)),new Error(n)}_createBrowserWorker(){this._loadableURL=J4({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},e.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},e.onmessageerror=n=>console.error(n),e}_createNodeWorker(){let e;if(this.url){const i=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new Nf(i,{eval:!1})}else if(this.source)e=new Nf(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",n=>{this.onMessage(n)}),e.on("error",n=>{this.onError(n)}),e.on("exit",n=>{}),e}}class E4{static isSupported(){return VX.isSupported()}constructor(e){Ze(this,"name","unnamed"),Ze(this,"source",void 0),Ze(this,"url",void 0),Ze(this,"maxConcurrency",1),Ze(this,"maxMobileConcurrency",1),Ze(this,"onDebug",()=>{}),Ze(this,"reuseWorkers",!0),Ze(this,"props",{}),Ze(this,"jobQueue",[]),Ze(this,"idleQueue",[]),Ze(this,"count",0),Ze(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(r,a,s)=>r.done(s),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(r,a)=>r.error(a);const l=new Promise(r=>(this.jobQueue.push({name:e,onMessage:n,onError:i,onStart:r}),this));return this._startQueuedJob(),await l}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:e,backlog:this.jobQueue.length});const i=new w4(n.name,e);e.onMessage=l=>n.onMessage(i,l.type,l.payload),e.onError=l=>n.onError(i,l),n.onStart(i);try{await i.result}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new VX({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return N4?this.maxMobileConcurrency:this.maxConcurrency}}const K4={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class Gl{static isSupported(){return VX.isSupported()}static getWorkerFarm(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Gl._workerFarm=Gl._workerFarm||new Gl({}),Gl._workerFarm.setProps(e),Gl._workerFarm}constructor(e){Ze(this,"props",void 0),Ze(this,"workerPools",new Map),this.props={...K4},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:n,source:i,url:l}=e;let r=this.workerPools.get(n);return r||(r=new E4({name:n,source:i,url:l}),r.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,r)),r}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}Ze(Gl,"_workerFarm",void 0);const U4="latest";function P4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e[t.id]||{},i="".concat(t.id,"-worker.js");let l=n.workerUrl;if(!l&&t.id==="compression"&&(l=e.workerUrl),e._workerType==="test"&&(l="modules/".concat(t.module,"/dist/").concat(i)),!l){let r=t.version;r==="latest"&&(r=U4);const a=r?"@".concat(r):"";l="https://unpkg.com/@loaders.gl/".concat(t.module).concat(a,"/dist/").concat(i)}return wl(l),l}function F4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M4;wl(t,"no worker provided");const n=t.version;return!(!e||!n)}function z4(t,e){return!Gl.isSupported()||!lb&&!(e!=null&&e._nodeWorkers)?!1:t.worker&&(e==null?void 0:e.worker)}async function j4(t,e,n,i,l){const r=t.id,a=P4(t,n),o=Gl.getWorkerFarm(n).getWorkerPool({name:r,url:a});n=JSON.parse(JSON.stringify(n)),i=JSON.parse(JSON.stringify(i||{}));const c=await o.startJob("process-on-worker",H4.bind(null,l));return c.postMessage("process",{input:e,options:n,context:i}),await(await c.result).result}async function H4(t,e,n,i){switch(n){case"done":e.done(i);break;case"error":e.error(new Error(i.error));break;case"process":const{id:l,input:r,options:a}=i;try{const s=await t(r,a);e.postMessage("done",{id:l,result:s})}catch(s){const o=s instanceof Error?s.message:"unknown error";e.postMessage("error",{id:l,error:o})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}function D4(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;const i=new Uint8Array(t),l=new Uint8Array(e);for(let r=0;r<i.length;++r)if(i[r]!==l[r])return!1;return!0}function O4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=e.map(s=>s instanceof ArrayBuffer?new Uint8Array(s):s),l=i.reduce((s,o)=>s+o.byteLength,0),r=new Uint8Array(l);let a=0;for(const s of i)r.set(s,a),a+=s.byteLength;return r.buffer}async function B4(t){const e=[];for await(const n of t)e.push(n);return O4(...e)}function DR(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof He<"u"&&He.hrtime){const e=He.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}class OR{constructor(e,n){Ze(this,"name",void 0),Ze(this,"type",void 0),Ze(this,"sampleSize",1),Ze(this,"time",void 0),Ze(this,"count",void 0),Ze(this,"samples",void 0),Ze(this,"lastTiming",void 0),Ze(this,"lastSampleTime",void 0),Ze(this,"lastSampleCount",void 0),Ze(this,"_count",0),Ze(this,"_time",0),Ze(this,"_samples",0),Ze(this,"_startTime",0),Ze(this,"_timerPending",!1),this.name=e,this.type=n,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=DR(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(DR()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class kW{constructor(e){Ze(this,"id",void 0),Ze(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"count";return this._getOrCreate({name:e,type:n})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const n in this.stats)e(this.stats[n])}getTable(){const e={};return this.forEach(n=>{e[n.name]={time:n.time||0,count:n.count||0,average:n.getAverageTime()||0,hz:n.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(n=>this._getOrCreate(n))}_getOrCreate(e){if(!e||!e.name)return null;const{name:n,type:i}=e;return this.stats[n]||(e instanceof OR?this.stats[n]=e:this.stats[n]=new OR(n,i)),this.stats[n]}}let Q4="";const BR={};function A4(t){for(const e in BR)if(t.startsWith(e)){const n=BR[e];t=t.replace(e,n)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t="".concat(Q4).concat(t)),t}function _4(t){return t&&typeof t=="object"&&t.isBuffer}function $w(t){if(_4(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){const e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function qw(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function $4(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}const q4=t=>typeof t=="boolean",Fu=t=>typeof t=="function",nm=t=>t!==null&&typeof t=="object",QR=t=>nm(t)&&t.constructor==={}.constructor,eA=t=>t&&typeof t[Symbol.iterator]=="function",tA=t=>t&&typeof t[Symbol.asyncIterator]=="function",as=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,ss=t=>typeof Blob<"u"&&t instanceof Blob,nA=t=>t&&typeof t=="object"&&t.isBuffer,iA=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||nm(t)&&Fu(t.tee)&&Fu(t.cancel)&&Fu(t.getReader),lA=t=>nm(t)&&Fu(t.read)&&Fu(t.pipe)&&q4(t.readable),e3=t=>iA(t)||lA(t),rA=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,aA=/^([-\w.]+\/[-\w.+]+)/;function sA(t){const e=aA.exec(t);return e?e[1]:t}function AR(t){const e=rA.exec(t);return e?e[1]:""}const t3=/\?.*/;function oA(t){const e=t.match(t3);return e&&e[0]}function EW(t){return t.replace(t3,"")}function UZ(t){return as(t)?t.url:ss(t)?t.name||"":typeof t=="string"?t:""}function KW(t){if(as(t)){const e=t,n=e.headers.get("content-type")||"",i=EW(e.url);return sA(n)||AR(i)}return ss(t)?t.type||"":typeof t=="string"?AR(t):""}function cA(t){return as(t)?t.headers["content-length"]||-1:ss(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function n3(t){if(as(t))return t;const e={},n=cA(t);n>=0&&(e["content-length"]=String(n));const i=UZ(t),l=KW(t);l&&(e["content-type"]=l);const r=await mA(t);r&&(e["x-first-bytes"]=r),typeof t=="string"&&(t=new TextEncoder().encode(t));const a=new Response(t,{headers:e});return Object.defineProperty(a,"url",{value:i}),a}async function uA(t){if(!t.ok){const e=await dA(t);throw new Error(e)}}async function dA(t){let e="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): ");try{const n=t.headers.get("Content-Type");let i=t.statusText;n.includes("application/json")&&(i+=" ".concat(await t.text())),e+=i,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}async function mA(t){if(typeof t=="string")return"data:,".concat(t.slice(0,5));if(t instanceof Blob){const n=t.slice(0,5);return await new Promise(i=>{const l=new FileReader;l.onload=r=>{var a;return i(r==null||(a=r.target)===null||a===void 0?void 0:a.result)},l.readAsDataURL(n)})}if(t instanceof ArrayBuffer){const n=t.slice(0,5),i=hA(n);return"data:base64,".concat(i)}return null}function hA(t){let e="";const n=new Uint8Array(t);for(let i=0;i<n.byteLength;i++)e+=String.fromCharCode(n[i]);return btoa(e)}async function _R(t,e){if(typeof t=="string"){t=A4(t);let n=e;return e!=null&&e.fetch&&typeof(e==null?void 0:e.fetch)!="function"&&(n=e.fetch),await fetch(t,n)}return await n3(t)}function UW(t){if(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof He<"u"&&typeof He.versions=="object"&&He.versions.electron)return!0;const e=typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent,n=t||e;return!!(n&&n.indexOf("Electron")>=0)}function xi(){return!(typeof He=="object"&&String(He)==="[object process]"&&!He.browser)||UW()}function bA(){return xi()&&typeof document<"u"}const Yr={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof jn<"u"&&jn,document:typeof document<"u"&&document,process:typeof He=="object"&&He},pA=globalThis,ZA=Yr.self||Yr.window||Yr.global,Zu=Yr.window||Yr.self||Yr.global,fA=Yr.document||{},Is=Yr.process||{},yA=console,PW=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";xi();const rb=globalThis;function GA(){return typeof rb.orientation<"u"}function i3(t){if(!t&&!xi())return"Node";if(UW(t))return"Electron";const n=t||(typeof navigator<"u"?navigator:{}).userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";const i=n.indexOf("MSIE ")!==-1,l=n.indexOf("Trident/")!==-1;return i||l?"IE":rb.chrome?"Chrome":rb.safari?"Safari":rb.mozInnerScreenX?"Firefox":"Unknown"}function XA(t,e){if(!t)throw new Error(e||"Assertion failed")}const gA=Object.freeze(Object.defineProperty({__proto__:null,VERSION:PW,assert:XA,console:yA,document:fA,getBrowser:i3,global:pA,isBrowser:xi,isBrowserMainThread:bA,isElectron:UW,isMobile:GA,process:Is,self:ZA,window:Zu},Symbol.toStringTag,{value:"Module"}));function WA(t){try{const e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch{return null}}class VA{constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"sessionStorage";Ze(this,"storage",void 0),Ze(this,"id",void 0),Ze(this,"config",void 0),this.storage=WA(i),this.id=e,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let e={};if(this.storage){const n=this.storage.getItem(this.id);e=n?JSON.parse(n):{}}return Object.assign(this.config,e),this}}function TA(t){let e;return t<10?e="".concat(t.toFixed(2),"ms"):t<100?e="".concat(t.toFixed(1),"ms"):t<1e3?e="".concat(t.toFixed(0),"ms"):e="".concat((t/1e3).toFixed(2),"s"),e}function xA(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;const n=Math.max(e-t.length,0);return"".concat(" ".repeat(n)).concat(t)}function wf(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:600;const l=t.src.replace(/\(/g,"%28").replace(/\)/g,"%29");t.width>i&&(n=Math.min(n,i/t.width));const r=t.width*n,a=t.height*n,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(r/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(l,");"),"background-size:".concat(r,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),s]}let up;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(up||(up={}));function $R(t){return typeof t=="string"?up[t.toUpperCase()]||up.WHITE:t}function RA(t,e,n){return!xi&&typeof t=="string"&&(e&&(e=$R(e),t="\x1B[".concat(e,"m").concat(t,"\x1B[39m")),n&&(e=$R(n),t="\x1B[".concat(n+10,"m").concat(t,"\x1B[49m"))),t}function SA(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["constructor"];const n=Object.getPrototypeOf(t),i=Object.getOwnPropertyNames(n);for(const l of i)typeof t[l]=="function"&&(e.find(r=>l===r)||(t[l]=t[l].bind(t)))}function dp(t,e){if(!t)throw new Error(e||"Assertion failed")}function Vs(){let t;if(xi&&"performance"in Zu){var e,n;t=Zu==null||(e=Zu.performance)===null||e===void 0||(n=e.now)===null||n===void 0?void 0:n.call(e)}else if("hrtime"in Is){var i;const l=Is==null||(i=Is.hrtime)===null||i===void 0?void 0:i.call(Is);t=l[0]*1e3+l[1]/1e6}else t=Date.now();return t}const Ts={debug:xi&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},YA={enabled:!0,level:0};function kn(){}const qR={},eS={once:!0};class im{constructor(){let{id:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:""};Ze(this,"id",void 0),Ze(this,"VERSION",PW),Ze(this,"_startTs",Vs()),Ze(this,"_deltaTs",Vs()),Ze(this,"_storage",void 0),Ze(this,"userData",{}),Ze(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new VA("__probe-".concat(this.id,"__"),YA),this.timeStamp("".concat(this.id," started")),SA(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Vs()-this._startTs).toPrecision(10))}getDelta(){return Number((Vs()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,n){this._storage.setConfiguration({[e]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,n){dp(e,n)}warn(e){return this._getLogFunction(0,e,Ts.warn,arguments,eS)}error(e){return this._getLogFunction(0,e,Ts.error,arguments)}deprecated(e,n){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(n,"` instead"))}removed(e,n){return this.error("`".concat(e,"` has been removed. Use `").concat(n,"` instead"))}probe(e,n){return this._getLogFunction(e,n,Ts.log,arguments,{time:!0,once:!0})}log(e,n){return this._getLogFunction(e,n,Ts.debug,arguments)}info(e,n){return this._getLogFunction(e,n,console.info,arguments)}once(e,n){for(var i=arguments.length,l=new Array(i>2?i-2:0),r=2;r<i;r++)l[r-2]=arguments[r];return this._getLogFunction(e,n,Ts.debug||Ts.info,arguments,eS)}table(e,n,i){return n?this._getLogFunction(e,n,console.table||kn,i&&[i],{tag:vA(n)}):kn}image(e){let{logLevel:n,priority:i,image:l,message:r="",scale:a=1}=e;return this._shouldLog(n||i)?xi?NA({image:l,message:r,scale:a}):MA():kn}time(e,n){return this._getLogFunction(e,n,console.time?console.time:console.info)}timeEnd(e,n){return this._getLogFunction(e,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,n){return this._getLogFunction(e,n,console.timeStamp||kn)}group(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{collapsed:!1};const l=tS({logLevel:e,message:n,opts:i}),{collapsed:r}=i;return l.method=(r?console.groupCollapsed:console.group)||console.info,this._getLogFunction(l)}groupCollapsed(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.group(e,n,Object.assign({},i,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||kn)}withGroup(e,n,i){this.group(e,n)();try{i()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=l3(e)}_getLogFunction(e,n,i,l,r){if(this._shouldLog(e)){r=tS({logLevel:e,message:n,args:l,opts:r}),i=i||r.method,dp(i),r.total=this.getTotal(),r.delta=this.getDelta(),this._deltaTs=Vs();const a=r.tag||r.message;if(r.once)if(!qR[a])qR[a]=Vs();else return kn;return n=LA(this.id,r.message,r),i.bind(console,n,...r.args)}return kn}}Ze(im,"VERSION",PW);function l3(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return dp(Number.isFinite(e)&&e>=0),e}function tS(t){const{logLevel:e,message:n}=t;t.logLevel=l3(e);const i=t.args?Array.from(t.args):[];for(;i.length&&i.shift()!==n;);switch(typeof e){case"string":case"function":n!==void 0&&i.unshift(n),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const l=typeof t.message;return dp(l==="string"||l==="object"),Object.assign(t,{args:i},t.opts)}function LA(t,e,n){if(typeof e=="string"){const i=n.time?xA(TA(n.total)):"";e=n.time?"".concat(t,": ").concat(i,"  ").concat(e):"".concat(t,": ").concat(e),e=RA(e,n.color,n.background)}return e}function MA(t){return console.warn("removed"),kn}function NA(t){let{image:e,message:n="",scale:i=1}=t;if(typeof e=="string"){const r=new Image;return r.onload=()=>{const a=wf(r,n,i);console.log(...a)},r.src=e,kn}const l=e.nodeName||"";if(l.toLowerCase()==="img")return console.log(...wf(e,n,i)),kn;if(l.toLowerCase()==="canvas"){const r=new Image;return r.onload=()=>console.log(...wf(r,n,i)),r.src=e.toDataURL(),kn}return kn}function vA(t){for(const e in t)for(const n in t[e])return n||"untitled";return"empty"}const nS=new im({id:"loaders.gl"});class IA{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class wA{constructor(){Ze(this,"console",void 0),this.console=console}log(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.console.log.bind(this.console,...n)}info(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.console.info.bind(this.console,...n)}warn(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.console.warn.bind(this.console,...n)}error(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.console.error.bind(this.console,...n)}}const r3={fetch:null,mimeType:void 0,nothrow:!1,log:new wA,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:CW,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},JA={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function a3(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state=t._state||{},t._state}const s3=()=>{const t=a3();return t.globalOptions=t.globalOptions||{...r3},t.globalOptions};function CA(t,e,n,i){return n=n||[],n=Array.isArray(n)?n:[n],kA(t,n),KA(e,t,i)}function kA(t,e){iS(t,null,r3,JA,e);for(const n of e){const i=t&&t[n.id]||{},l=n.options&&n.options[n.id]||{},r=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};iS(i,n.id,l,r,e)}}function iS(t,e,n,i,l){const r=e||"Top level",a=e?"".concat(e,"."):"";for(const s in t){const o=!e&&nm(t[s]),c=s==="baseUri"&&!e,u=s==="workerUrl"&&e;if(!(s in n)&&!c&&!u){if(s in i)nS.warn("".concat(r," loader option '").concat(a).concat(s,"' no longer supported, use '").concat(i[s],"'"))();else if(!o){const d=EA(s,l);nS.warn("".concat(r," loader option '").concat(a).concat(s,"' not recognized. ").concat(d))()}}}}function EA(t,e){const n=t.toLowerCase();let i="";for(const l of e)for(const r in l.options){if(t===r)return"Did you mean '".concat(l.id,".").concat(r,"'?");const a=r.toLowerCase();(n.startsWith(a)||a.startsWith(n))&&(i=i||"Did you mean '".concat(l.id,".").concat(r,"'?"))}return i}function KA(t,e,n){const l={...t.options||{}};return UA(l,n),l.log===null&&(l.log=new IA),lS(l,s3()),lS(l,e),l}function lS(t,e){for(const n in e)if(n in e){const i=e[n];QR(i)&&QR(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}function UA(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function FW(t){var e;return t?(Array.isArray(t)&&(t=t[0]),Array.isArray((e=t)===null||e===void 0?void 0:e.extensions)):!1}function zW(t){var e,n;cp(t,"null loader"),cp(FW(t),"invalid loader");let i;return Array.isArray(t)&&(i=t[1],t=t[0],t={...t,options:{...t.options,...i}}),((e=t)!==null&&e!==void 0&&e.parseTextSync||(n=t)!==null&&n!==void 0&&n.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const o3=()=>{const t=a3();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function PA(t){const e=o3();t=Array.isArray(t)?t:[t];for(const n of t){const i=zW(n);e.find(l=>i===l)||e.unshift(i)}}function FA(){return o3()}const zA=new im({id:"loaders.gl"}),jA=/\.([^.]+)$/;async function HA(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(!c3(t))return null;let l=rS(t,e,{...n,nothrow:!0},i);if(l)return l;if(ss(t)&&(t=await t.slice(0,10).arrayBuffer(),l=rS(t,e,n,i)),!l&&!(n!=null&&n.nothrow))throw new Error(u3(t));return l}function rS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(!c3(t))return null;if(e&&!Array.isArray(e))return zW(e);let l=[];e&&(l=l.concat(e)),n!=null&&n.ignoreRegisteredLoaders||l.push(...FA()),OA(l);const r=DA(t,l,n,i);if(!r&&!(n!=null&&n.nothrow))throw new Error(u3(t));return r}function DA(t,e,n,i){const l=UZ(t),r=KW(t),a=EW(l)||(i==null?void 0:i.url);let s=null,o="";if(n!=null&&n.mimeType&&(s=Jf(e,n==null?void 0:n.mimeType),o="match forced by supplied MIME type ".concat(n==null?void 0:n.mimeType)),s=s||BA(e,a),o=o||(s?"matched url ".concat(a):""),s=s||Jf(e,r),o=o||(s?"matched MIME type ".concat(r):""),s=s||AA(e,t),o=o||(s?"matched initial data ".concat(d3(t)):""),s=s||Jf(e,n==null?void 0:n.fallbackMimeType),o=o||(s?"matched fallback MIME type ".concat(r):""),o){var c;zA.log(1,"selectLoader selected ".concat((c=s)===null||c===void 0?void 0:c.name,": ").concat(o,"."))}return s}function c3(t){return!(t instanceof Response&&t.status===204)}function u3(t){const e=UZ(t),n=KW(t);let i="No valid loader found (";i+=e?"".concat(qw(e),", "):"no url provided, ",i+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const l=t?d3(t):"";return i+=l?' first bytes: "'.concat(l,'"'):"first bytes: not available",i+=")",i}function OA(t){for(const e of t)zW(e)}function BA(t,e){const n=e&&jA.exec(e),i=n&&n[1];return i?QA(t,i):null}function QA(t,e){e=e.toLowerCase();for(const n of t)for(const i of n.extensions)if(i.toLowerCase()===e)return n;return null}function Jf(t,e){for(const n of t)if(n.mimeTypes&&n.mimeTypes.includes(e)||e==="application/x.".concat(n.id))return n;return null}function AA(t,e){if(!e)return null;for(const n of t)if(typeof e=="string"){if(_A(e,n))return n}else if(ArrayBuffer.isView(e)){if(aS(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer&&aS(e,0,n))return n;return null}function _A(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(i=>t.startsWith(i))}function aS(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(l=>$A(t,e,n,l))}function $A(t,e,n,i){if(i instanceof ArrayBuffer)return D4(i,t,i.byteLength);switch(typeof i){case"function":return i(t,n);case"string":const l=TX(t,e,i.length);return i===l;default:return!1}}function d3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?TX(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?TX(t,0,e):""}function TX(t,e,n){if(t.byteLength<e+n)return"";const i=new DataView(t);let l="";for(let r=0;r<n;r++)l+=String.fromCharCode(i.getUint8(e+r));return l}const qA=256*1024;function*e_(t,e){const n=(e==null?void 0:e.chunkSize)||qA;let i=0;const l=new TextEncoder;for(;i<t.length;){const r=Math.min(t.length-i,n),a=t.slice(i,i+r);i+=r,yield l.encode(a)}}const t_=256*1024;function n_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const{chunkSize:n=t_}=e;let i=0;for(;i<t.byteLength;){const l=Math.min(t.byteLength-i,n),r=new ArrayBuffer(l),a=new Uint8Array(t,i,l);new Uint8Array(r).set(a),i+=l,yield r}}()}const i_=1024*1024;async function*l_(t,e){const n=(e==null?void 0:e.chunkSize)||i_;let i=0;for(;i<t.size;){const l=i+n,r=await t.slice(i,l).arrayBuffer();i=l,yield r}}function sS(t,e){return CW?r_(t,e):a_(t)}async function*r_(t,e){const n=t.getReader();let i;try{for(;;){const l=i||n.read();e!=null&&e._streamReadAhead&&(i=n.read());const{done:r,value:a}=await l;if(r)return;yield $w(a)}}catch{n.releaseLock()}}async function*a_(t,e){for await(const n of t)yield $w(n)}function s_(t,e){if(typeof t=="string")return e_(t,e);if(t instanceof ArrayBuffer)return n_(t,e);if(ss(t))return l_(t,e);if(e3(t))return sS(t,e);if(as(t))return sS(t.body,e);throw new Error("makeIterator")}const m3="Cannot convert supplied data type";function o_(t,e,n){if(e.text&&typeof t=="string")return t;if(nA(t)&&(t=t.buffer),t instanceof ArrayBuffer){const i=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(i):i}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let i=t.buffer;const l=t.byteLength||t.length;return(t.byteOffset!==0||l!==i.byteLength)&&(i=i.slice(t.byteOffset,t.byteOffset+l)),i}throw new Error(m3)}async function c_(t,e,n){const i=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||i)return o_(t,e);if(ss(t)&&(t=await n3(t)),as(t)){const l=t;return await uA(l),e.binary?await l.arrayBuffer():await l.text()}if(e3(t)&&(t=s_(t,n)),eA(t)||tA(t))return B4(t);throw new Error(m3)}function h3(t,e){const n=s3(),i=t||n;return typeof i.fetch=="function"?i.fetch:nm(i.fetch)?l=>_R(l,i):e!=null&&e.fetch?e==null?void 0:e.fetch:_R}function u_(t,e,n){if(n)return n;const i={fetch:h3(e,t),...t};if(i.url){const l=EW(i.url);i.baseUrl=l,i.queryString=oA(i.url),i.filename=qw(l),i.baseUrl=$4(l)}return Array.isArray(i.loaders)||(i.loaders=null),i}function d_(t,e){if(!e&&t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){const i=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...i]:i}return n&&n.length?n:null}async function jW(t,e,n,i){wl(!i||typeof i=="object"),e&&!Array.isArray(e)&&!FW(e)&&(i=void 0,n=e,e=void 0),t=await t,n=n||{};const l=UZ(t),a=d_(e,i),s=await HA(t,a,n);return s?(n=CA(n,s,a,l),i=u_({url:l,parse:jW,loaders:a},n,i||null),await m_(s,t,n,i)):null}async function m_(t,e,n,i){if(F4(t),as(e)){const l=e,{ok:r,redirected:a,status:s,statusText:o,type:c,url:u}=l,d=Object.fromEntries(l.headers.entries());i.response={headers:d,ok:r,redirected:a,status:s,statusText:o,type:c,url:u}}if(e=await c_(e,t,n),t.parseTextSync&&typeof e=="string")return n.dataType="text",t.parseTextSync(e,n,i,t);if(z4(t,n))return await j4(t,e,n,i,jW);if(t.parseText&&typeof e=="string")return await t.parseText(e,n,i,t);if(t.parse)return await t.parse(e,n,i,t);throw wl(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"))}async function mp(t,e,n,i){!Array.isArray(e)&&!FW(e)&&(n=e,e=void 0);const l=h3(n);let r=t;return typeof t=="string"&&(r=await l(t)),ss(t)&&(r=await l(t)),await jW(r,e,n)}const h_="3.4.15",{_parseImageNode:b_}=globalThis,xX=typeof Image<"u",RX=typeof ImageBitmap<"u",p_=!!b_,SX=CW?!0:p_;function Z_(t){switch(t){case"auto":return RX||xX||SX;case"imagebitmap":return RX;case"image":return xX;case"data":return SX;default:throw new Error("@loaders.gl/images: image ".concat(t," not supported in this environment"))}}function f_(){if(RX)return"imagebitmap";if(xX)return"image";if(SX)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function y_(t){const e=X_(t);if(!e)throw new Error("Not an image");return e}function G_(t){switch(y_(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("getImageData");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function X_(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}const g_=/^data:image\/svg\+xml/,W_=/\.svg((\?|#).*)?$/;function HW(t){return t&&(g_.test(t)||W_.test(t))}function V_(t,e){if(HW(e)){let i=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(i=unescape(encodeURIComponent(i)))}catch(r){throw new Error(r.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return b3(t,e)}function b3(t,e){if(HW(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function p3(t,e,n){const i=V_(t,n),l=self.URL||self.webkitURL,r=typeof i!="string"&&l.createObjectURL(i);try{return await T_(r||i,e)}finally{r&&l.revokeObjectURL(r)}}async function T_(t,e){const n=new Image;return n.src=t,e.image&&e.image.decode&&n.decode?(await n.decode(),n):await new Promise((i,l)=>{try{n.onload=()=>i(n),n.onerror=r=>l(new Error("Could not load image ".concat(t,": ").concat(r)))}catch(r){l(r)}})}const x_={};let oS=!0;async function R_(t,e,n){let i;HW(n)?i=await p3(t,e,n):i=b3(t,n);const l=e&&e.imagebitmap;return await S_(i,l)}async function S_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if((Y_(e)||!oS)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(n){console.warn(n),oS=!1}return await createImageBitmap(t)}function Y_(t){for(const e in t||x_)return!1;return!0}function L_(t){return!I_(t,"ftyp",4)||!(t[8]&96)?null:M_(t)}function M_(t){switch(N_(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function N_(t,e,n){return String.fromCharCode(...t.slice(e,n))}function v_(t){return[...t].map(e=>e.charCodeAt(0))}function I_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=v_(e);for(let l=0;l<i.length;++l)if(i[l]!==t[l+n])return!1;return!0}const Fi=!1,zu=!0;function Z3(t){const e=lm(t);return J_(e)||E_(e)||C_(e)||k_(e)||w_(e)}function w_(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),n=L_(e);return n?{mimeType:n.mimeType,width:0,height:0}:null}function J_(t){const e=lm(t);return e.byteLength>=24&&e.getUint32(0,Fi)===2303741511?{mimeType:"image/png",width:e.getUint32(16,Fi),height:e.getUint32(20,Fi)}:null}function C_(t){const e=lm(t);return e.byteLength>=10&&e.getUint32(0,Fi)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,zu),height:e.getUint16(8,zu)}:null}function k_(t){const e=lm(t);return e.byteLength>=14&&e.getUint16(0,Fi)===16973&&e.getUint32(2,zu)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,zu),height:e.getUint32(22,zu)}:null}function E_(t){const e=lm(t);if(!(e.byteLength>=3&&e.getUint16(0,Fi)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:i,sofMarkers:l}=K_();let r=2;for(;r+9<e.byteLength;){const a=e.getUint16(r,Fi);if(l.has(a))return{mimeType:"image/jpeg",height:e.getUint16(r+5,Fi),width:e.getUint16(r+7,Fi)};if(!i.has(a))return null;r+=2,r+=e.getUint16(r,Fi)}return null}function K_(){const t=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)t.add(n);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function lm(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function U_(t,e){const{mimeType:n}=Z3(t)||{},i=globalThis._parseImageNode;return cp(i),await i(t,n)}async function P_(t,e,n){e=e||{};const l=(e.image||{}).type||"auto",{url:r}=n||{},a=F_(l);let s;switch(a){case"imagebitmap":s=await R_(t,e,r);break;case"image":s=await p3(t,e,r);break;case"data":s=await U_(t);break;default:cp(!1)}return l==="data"&&(s=G_(s)),s}function F_(t){switch(t){case"auto":case"data":return f_();default:return Z_(t),t}}const z_=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],j_=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],H_={image:{type:"auto",decode:!0}},f3={id:"image",module:"images",name:"Images",version:h_,mimeTypes:j_,extensions:z_,parse:P_,tests:[t=>!!Z3(new DataView(t))],options:H_},D_=bM(gA);var Po=D_;const we=new im({id:"deck"});let YX={};function O_(t){YX=t}function Jt(t){we.level>0&&YX[t]&&YX[t].call(...arguments)}function B_(t){const e=t[0],n=t[t.length-1];return e==="{"&&n==="}"||e==="["&&n==="]"}const Q_={name:"JSON",extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:B_,parseTextSync:JSON.parse},ju="8.6.6",ab=Po.global.deck&&Po.global.deck.VERSION;if(ab&&ab!==ju)throw new Error("deck.gl - multiple versions detected: ".concat(ab," vs ").concat(ju));ab||(we.log(1,"deck.gl ".concat(ju))(),Po.global.deck=Object.assign(Po.global.deck||{},{VERSION:ju,version:ju,log:we,_registerLoggers:O_}),PA([Q_,[f3,{imagebitmap:{premultiplyAlpha:"none"}}]]));const A_=Po.global.deck,be=new im({id:"luma.gl"});function jt(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}const __="Invalid WebGLRenderingContext",$_="Requires WebGL2";function PZ(t){return typeof WebGLRenderingContext<"u"&&t instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&Number.isFinite(t._version))}function Me(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&t._version===2)}function q_(t){return Me(t)?t:null}function FZ(t){return jt(PZ(t),__),t}function kt(t){return jt(Me(t),$_),t}const fu={};function e8(t){globalThis.console&&globalThis.console.error&&globalThis.console.error(t)}function t8(t){globalThis.console&&globalThis.console.log&&globalThis.console.log(t)}function n8(t,e){fu[t]=!0,e!==void 0&&e8(e)}function i8(t){const e=t.getError;t.getError=function(){let i;do i=e.apply(t),i!==0&&(fu[i]=!0);while(i!==0);for(i in fu)if(fu[i])return delete fu[i],parseInt(i,10);return 0}}const rm=function t(e){const n=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(let i=0;i<this.attribs.length;i++){const l=new t.VertexAttrib(n);this.attribs[i]=l}this.maxAttrib=0};rm.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()};rm.VertexAttrib.prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const os=function(e){const n=this;this.gl=e,i8(e);const i=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(r){return r===n.VERTEX_ARRAY_BINDING_OES?n.currentVertexArrayObject===n.defaultVertexArrayObject?null:n.currentVertexArrayObject:i.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(r){const a=n.currentVertexArrayObject;a.maxAttrib=Math.max(a.maxAttrib,r);const s=a.attribs[r];return s.enabled=!0,i.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(r){const a=n.currentVertexArrayObject;a.maxAttrib=Math.max(a.maxAttrib,r);const s=a.attribs[r];return s.enabled=!1,i.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(r,a){switch(r){case 34962:n.currentArrayBuffer=a;break;case 34963:n.currentVertexArrayObject.elementArrayBuffer=a;break}return i.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(r,a){const o=n.currentVertexArrayObject.attribs[r];switch(a){case 34975:return o.buffer;case 34338:return o.enabled;case 34339:return o.size;case 34340:return o.stride;case 34341:return o.type;case 34922:return o.normalized;default:return i.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(r,a,s,o,c,u){const d=n.currentVertexArrayObject;d.maxAttrib=Math.max(d.maxAttrib,r);const m=d.attribs[r];return m.buffer=n.currentArrayBuffer,m.size=a,m.type=s,m.normalized=o,m.stride=c,m.offset=u,m.recache(),i.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",()=>{t8("OESVertexArrayObject emulation library context restored"),n.reset_()},!0),this.reset_()};os.prototype.VERTEX_ARRAY_BINDING_OES=34229;os.prototype.reset_=function(){if(this.vertexArrayObjects!==void 0)for(let i=0;i<this.vertexArrayObjects.length;++i)this.vertexArrayObjects.isAlive=!1;const n=this.gl;this.maxVertexAttribs=n.getParameter(34921),this.defaultVertexArrayObject=new rm(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)};os.prototype.createVertexArrayOES=function(){const e=new rm(this);return this.vertexArrayObjects.push(e),e};os.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)};os.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof rm&&e.hasBeenBound&&e.ext===this)};os.prototype.bindVertexArrayOES=function(e){const n=this.gl;if(e&&!e.isAlive){n8(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");return}const i=this.original,l=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const r=this.currentVertexArrayObject;if(l===r)return;(!l||r.elementArrayBuffer!==l.elementArrayBuffer)&&i.bindBuffer.call(n,34963,r.elementArrayBuffer);let a=this.currentArrayBuffer;const s=Math.max(l?l.maxAttrib:0,r.maxAttrib);for(let o=0;o<=s;o++){const c=r.attribs[o],u=l?l.attribs[o]:null;if((!l||c.enabled!==u.enabled)&&(c.enabled?i.enableVertexAttribArray.call(n,o):i.disableVertexAttribArray.call(n,o)),c.enabled){let d=!1;(!l||c.buffer!==u.buffer)&&(a!==c.buffer&&(i.bindBuffer.call(n,34962,c.buffer),a=c.buffer),d=!0),(d||c.cached!==u.cached)&&i.vertexAttribPointer.call(n,o,c.size,c.type,c.normalized,c.stride,c.offset)}}this.currentArrayBuffer!==a&&i.bindBuffer.call(n,34962,this.currentArrayBuffer)};function l8(t){if(typeof t.createVertexArray=="function")return;const e=t.getSupportedExtensions;t.getSupportedExtensions=function(){const l=e.call(this)||[];return l.indexOf("OES_vertex_array_object")<0&&l.push("OES_vertex_array_object"),l};const n=t.getExtension;t.getExtension=function(l){const r=n.call(this,l);return r||(l!=="OES_vertex_array_object"?null:(t.__OESVertexArrayObject||(this.__OESVertexArrayObject=new os(this)),this.__OESVertexArrayObject))}}const cS="OES_element_index",uS="WEBGL_draw_buffers",r8="EXT_disjoint_timer_query",a8="EXT_disjoint_timer_query_webgl2",s8="EXT_texture_filter_anisotropic",dS="WEBGL_debug_renderer_info",o8=35723,c8=4352,u8=36795,d8=34047,m8=37445,h8=37446,De=t=>Me(t)?void 0:0,b8={3074:t=>Me(t)?void 0:36064,[o8]:t=>Me(t)?void 0:c8,35977:De,32937:De,[u8]:(t,e)=>{const n=Me(t)?t.getExtension(a8):t.getExtension(r8);return n&&n.GPU_DISJOINT_EXT?e(n.GPU_DISJOINT_EXT):0},[m8]:(t,e)=>{const n=t.getExtension(dS);return e(n&&n.UNMASKED_VENDOR_WEBGL||7936)},[h8]:(t,e)=>{const n=t.getExtension(dS);return e(n&&n.UNMASKED_RENDERER_WEBGL||7937)},[d8]:(t,e)=>{const n=t.luma.extensions[s8];return n?e(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:De,35071:De,37447:De,36063:(t,e)=>{if(!Me(t)){const n=t.getExtension(uS);return n?e(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:De,35374:De,35377:De,34852:t=>{if(!Me(t)){const e=t.getExtension(uS);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},36203:t=>t.getExtension(cS)?2147483647:65535,33001:t=>t.getExtension(cS)?16777216:65535,33e3:t=>16777216,37157:De,35373:De,35657:De,36183:De,37137:De,34045:De,35978:De,35979:De,35968:De,35376:De,35375:De,35659:De,37154:De,35371:De,35658:De,35076:De,35077:De,35380:De};function p8(t,e,n){const i=b8[n],l=typeof i=="function"?i(t,e,n):i;return l!==void 0?l:e(n)}const Z8="OES_vertex_array_object",y3="ANGLE_instanced_arrays",f8="WEBGL_draw_buffers",y8="EXT_disjoint_timer_query",G8="EXT_texture_filter_anisotropic",X8="VertexArray requires WebGL2 or OES_vertex_array_object extension";function g8(t,e){return{webgl2:Me(t),ext:t.getExtension(e)}}const G3={[Z8]:{meta:{suffix:"OES"},createVertexArray:()=>{jt(!1,X8)},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[y3]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(t,e){jt(e===0,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},[f8]:{meta:{suffix:"WEBGL"},drawBuffers:()=>{jt(!1)}},[y8]:{meta:{suffix:"EXT"},createQuery:()=>{jt(!1)},deleteQuery:()=>{jt(!1)},beginQuery:()=>{jt(!1)},endQuery:()=>{},getQuery(t,e){return this.getQueryObject(t,e)},getQueryParameter(t,e){return this.getQueryObject(t,e)},getQueryObject:()=>{}}},Cf={readBuffer:(t,e,n)=>{Me(t)&&e(n)},getVertexAttrib:(t,e,n,i)=>{const{webgl2:l,ext:r}=g8(t,y3);let a;switch(i){case 35069:a=l?void 0:!1;break;case 35070:a=!l&&!r?0:void 0;break}return a!==void 0?a:e(n,i)},getProgramParameter:(t,e,n,i)=>{if(!Me(t))switch(i){case 35967:return 35981;case 35971:return 0;case 35382:return 0}return e(n,i)},getInternalformatParameter:(t,e,n,i,l)=>{if(!Me(t))switch(l){case 32937:return new Int32Array([0])}return t.getInternalformatParameter(n,i,l)},getTexParameter(t,e,n,i){switch(i){case 34046:const{extensions:l}=t.luma,r=l[G8];i=r&&r.TEXTURE_MAX_ANISOTROPY_EXT||34046;break}return e(n,i)},getParameter:p8,hint(t,e,n,i){return e(n,i)}};function W8(t){t.luma=t.luma||{};const{luma:e}=t;return e.polyfilled||(l8(t),V8(t),x8(t,G3),T8(t,{target:e,target2:t}),e.polyfilled=!0),t}globalThis.polyfillContext=W8;function V8(t){t.luma.extensions={};const e=t.getSupportedExtensions()||[];for(const n of e)t.luma[n]=t.getExtension(n)}function T8(t,e){let{target:n,target2:i}=e;Object.keys(Cf).forEach(l=>{if(typeof Cf[l]=="function"){const r=t[l]?t[l].bind(t):()=>{},a=Cf[l].bind(null,t,r);n[l]=a,i[l]=a}})}function x8(t,e){for(const n of Object.getOwnPropertyNames(e))n!=="overrides"&&R8(t,{extension:n,target:t.luma,target2:t})}function R8(t,e){let{extension:n,target:i,target2:l}=e;const r=G3[n];jt(r);const{meta:a={}}=r,{suffix:s=""}=a,o=t.getExtension(n);for(const c of Object.keys(r)){const u="".concat(c).concat(s);let d=null;c==="meta"||typeof t[c]=="function"||(o&&typeof o[u]=="function"?d=function(){return o[u](...arguments)}:typeof r[c]=="function"&&(d=r[c].bind(i))),d&&(i[c]=d,l[c]=d)}}const DW={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},$l=(t,e,n)=>e?t.enable(n):t.disable(n),mS=(t,e,n)=>t.hint(n,e),on=(t,e,n)=>t.pixelStorei(n,e),S8=(t,e)=>{const n=Me(t)?36009:36160;return t.bindFramebuffer(n,e)},Y8=(t,e)=>t.bindFramebuffer(36008,e);function Qc(t){return Array.isArray(t)||ArrayBuffer.isView(t)}const L8={3042:$l,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:$l,2885:(t,e)=>t.cullFace(e),2929:$l,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:$l,35723:mS,36006:S8,2886:(t,e)=>t.frontFace(e),33170:mS,2849:(t,e)=>t.lineWidth(e),32823:$l,32824:"polygonOffset",10752:"polygonOffset",35977:$l,32938:"sampleCoverage",32939:"sampleCoverage",3089:$l,3088:(t,e)=>t.scissor(...e),2960:$l,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),3333:on,3317:on,37440:on,37441:on,37443:on,3330:on,3332:on,3331:on,36010:Y8,3314:on,32878:on,3316:on,3315:on,32877:on,framebuffer:(t,e)=>{const n=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,n)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{e=Qc(e)?e:[e,e],t.blendEquationSeparate(...e)},blendFunc:(t,e)=>{e=Qc(e)&&e.length===2?[...e,...e]:e,t.blendFuncSeparate(...e)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(...e),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=Qc(e)?e:[e,e];const[n,i]=e;t.stencilMaskSeparate(1028,n),t.stencilMaskSeparate(1029,i)},stencilFunc:(t,e)=>{e=Qc(e)&&e.length===3?[...e,...e]:e;const[n,i,l,r,a,s]=e;t.stencilFuncSeparate(1028,n,i,l),t.stencilFuncSeparate(1029,r,a,s)},stencilOp:(t,e)=>{e=Qc(e)&&e.length===3?[...e,...e]:e;const[n,i,l,r,a,s]=e;t.stencilOpSeparate(1028,n,i,l),t.stencilOpSeparate(1029,r,a,s)},viewport:(t,e)=>t.viewport(...e)};function mt(t,e,n){return e[t]!==void 0?e[t]:n[t]}const M8={blendEquation:(t,e,n)=>t.blendEquationSeparate(mt(32777,e,n),mt(34877,e,n)),blendFunc:(t,e,n)=>t.blendFuncSeparate(mt(32969,e,n),mt(32968,e,n),mt(32971,e,n),mt(32970,e,n)),polygonOffset:(t,e,n)=>t.polygonOffset(mt(32824,e,n),mt(10752,e,n)),sampleCoverage:(t,e,n)=>t.sampleCoverage(mt(32938,e,n),mt(32939,e,n)),stencilFuncFront:(t,e,n)=>t.stencilFuncSeparate(1028,mt(2962,e,n),mt(2967,e,n),mt(2963,e,n)),stencilFuncBack:(t,e,n)=>t.stencilFuncSeparate(1029,mt(34816,e,n),mt(36003,e,n),mt(36004,e,n)),stencilOpFront:(t,e,n)=>t.stencilOpSeparate(1028,mt(2964,e,n),mt(2965,e,n),mt(2966,e,n)),stencilOpBack:(t,e,n)=>t.stencilOpSeparate(1029,mt(34817,e,n),mt(34818,e,n),mt(34819,e,n))},hS={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,n)=>t({[e]:n}),hint:(t,e,n)=>t({[e]:n}),bindFramebuffer:(t,e,n)=>{switch(e){case 36160:return t({36006:n,36010:n});case 36009:return t({36006:n});case 36008:return t({36010:n});default:return null}},blendColor:(t,e,n,i,l)=>t({32773:new Float32Array([e,n,i,l])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,n)=>t({32777:e,34877:n}),blendFunc:(t,e,n)=>t({32969:e,32968:n,32971:e,32970:n}),blendFuncSeparate:(t,e,n,i,l)=>t({32969:e,32968:n,32971:i,32970:l}),clearColor:(t,e,n,i,l)=>t({3106:new Float32Array([e,n,i,l])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,n,i,l)=>t({3107:[e,n,i,l]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,n)=>t({2928:new Float32Array([e,n])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,n)=>t({32824:e,10752:n}),sampleCoverage:(t,e,n)=>t({32938:e,32939:n}),scissor:(t,e,n,i,l)=>t({3088:new Int32Array([e,n,i,l])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,n)=>t({[e===1028?2968:36005]:n}),stencilFunc:(t,e,n,i)=>t({2962:e,2967:n,2963:i,34816:e,36003:n,36004:i}),stencilFuncSeparate:(t,e,n,i,l)=>t({[e===1028?2962:34816]:n,[e===1028?2967:36003]:i,[e===1028?2963:36004]:l}),stencilOp:(t,e,n,i)=>t({2964:e,2965:n,2966:i,34817:e,34818:n,34819:i}),stencilOpSeparate:(t,e,n,i,l)=>t({[e===1028?2964:34817]:n,[e===1028?2965:34818]:i,[e===1028?2966:34819]:l}),viewport:(t,e,n,i,l)=>t({2978:[e,n,i,l]})},wi=(t,e)=>t.isEnabled(e),bS={3042:wi,2884:wi,2929:wi,3024:wi,32823:wi,32926:wi,32928:wi,3089:wi,2960:wi,35977:wi};function X3(t){for(const e in t)return!1;return!0}function N8(t,e){if(t===e)return!0;const n=Array.isArray(t)||ArrayBuffer.isView(t),i=Array.isArray(e)||ArrayBuffer.isView(e);if(n&&i&&t.length===e.length){for(let l=0;l<t.length;++l)if(t[l]!==e[l])return!1;return!0}return!1}function pS(t,e){const n=t[e].bind(t);t[e]=function(){const l=arguments.length<=0?void 0:arguments[0];return l in t.state.cache?t.state.enable?t.state.cache[l]:n(...arguments):n(...arguments)},Object.defineProperty(t[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function v8(t,e,n){const i=t[e].bind(t);t[e]=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];const{valueChanged:o,oldValue:c}=n(t.state._updateCache,...a);return o&&i(...a),c},Object.defineProperty(t[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}function I8(t){const e=t.useProgram.bind(t);t.useProgram=function(i){t.state.program!==i&&(e(i),t.state.program=i)}}class w8{constructor(e){let{copyState:n=!1,log:i=()=>{}}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=n?C8(e):Object.assign({},DW),this.log=i,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){jt(this.stateStack.length>0);const e=this.stateStack[this.stateStack.length-1];Jl(this.gl,e),this.stateStack.pop()}_updateCache(e){let n=!1,i;const l=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const r in e){jt(r!==void 0);const a=e[r],s=this.cache[r];N8(a,s)||(n=!0,i=s,l&&!(r in l)&&(l[r]=s),this.cache[r]=a)}return{valueChanged:n,oldValue:i}}}function g3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{enable:n=!0,copyState:i}=e;if(jt(i!==void 0),!t.state){const{polyfillContext:l}=globalThis;l&&l(t),t.state=new w8(t,{copyState:i}),I8(t);for(const r in hS){const a=hS[r];v8(t,r,a)}pS(t,"getParameter"),pS(t,"isEnabled")}return t.state.enable=n,t}function J8(t){t.state||g3(t,{copyState:!1}),t.state.push()}function ZS(t){jt(t.state),t.state.pop()}function Jl(t,e){if(jt(PZ(t),"setParameters requires a WebGL context"),X3(e))return;const n={};for(const l in e){const r=Number(l),a=L8[l];a&&(typeof a=="string"?n[a]=!0:a(t,e[l],r))}const i=t.state&&t.state.cache;if(i)for(const l in n){const r=M8[l];r(t,e,i)}}function C8(t,e){if(e=e||DW,typeof e=="number"){const l=e,r=bS[l];return r?r(t,l):t.getParameter(l)}const n=Array.isArray(e)?e:Object.keys(e),i={};for(const l of n){const r=bS[l];i[l]=r?r(t,Number(l)):t.getParameter(Number(l))}return i}function k8(t){Jl(t,DW)}function fi(t,e,n){if(X3(e))return n(t);const{nocatch:i=!0}=e;J8(t),Jl(t,e);let l;if(i)l=n(t),ZS(t);else try{l=n(t)}finally{ZS(t)}return l}function Fo(t){const{luma:e}=t;if(t.canvas&&e){const n=e.canvasSizeInfo,i="clientWidth"in n?n.clientWidth:t.canvas.clientWidth;return i?t.drawingBufferWidth/i:1}return 1}function kf(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Fo(t),l=t.drawingBufferWidth,r=t.drawingBufferHeight;return K8(e,i,l,r,n)}function E8(t){const e=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(t)?t<=0?1:t:t?e:1}function K8(t,e,n,i,l){const r=fS(t[0],e,n);let a=yS(t[1],e,i,l),s=fS(t[0]+1,e,n);const o=s===n-1?s:s-1;s=yS(t[1]+1,e,i,l);let c;return l?(s=s===0?s:s+1,c=a,a=s):c=s===i-1?s:s-1,{x:r,y:a,width:Math.max(o-r+1,1),height:Math.max(c-a+1,1)}}function fS(t,e,n){return Math.min(Math.round(t*e),n-1)}function yS(t,e,n,i){return i?Math.max(0,n-1-Math.round(t*e)):Math.min(Math.round(t*e),n-1)}const OW=xi(),U8=OW&&typeof document<"u",W3={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function V3(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jt(OW,`createGLContext only available in the browser.
Create your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils`),t=Object.assign({},W3,t);const{width:e,height:n}=t;function i(s){if(t.throwOnError)throw new Error(s);return console.error(s),null}t.onError=i;let l;const{canvas:r}=t,a=j8({canvas:r,width:e,height:n,onError:i});return l=z8(a,t),l?(l=BW(l,t),H8(l),l):null}function BW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t||t._instrumented)return t;t._version=t._version||D8(t),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{},e=Object.assign({},W3,e);const{manageState:n,debug:i}=e;return n&&g3(t,{copyState:!1,log:function(){for(var l=arguments.length,r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];return be.log(1,...r)()}}),OW&&i&&(globalThis.makeDebugContext?(t=globalThis.makeDebugContext(t,e),be.level=Math.max(be.level,1)):be.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),t._instrumented=!0,t}function P8(t){const e=t.getParameter(7936),n=t.getParameter(7937),i=t.getExtension("WEBGL_debug_renderer_info"),l=i&&t.getParameter(i.UNMASKED_VENDOR_WEBGL||7936),r=i&&t.getParameter(i.UNMASKED_RENDERER_WEBGL||7937);return{vendor:l||e,renderer:r||n,vendorMasked:e,rendererMasked:n,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}function F8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.canvas){const i=E8(e.useDevicePixels);O8(t,i,e);return}const n=t.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in e&&"height"in e&&n.resize(e.width,e.height)}function z8(t,e){const{onError:n}=e;let i=null;const l=o=>i=o.statusMessage||i;t.addEventListener("webglcontextcreationerror",l,!1);const{webgl1:r=!0,webgl2:a=!0}=e;let s=null;return a&&(s=s||t.getContext("webgl2",e),s=s||t.getContext("experimental-webgl2",e)),r&&(s=s||t.getContext("webgl",e),s=s||t.getContext("experimental-webgl",e)),t.removeEventListener("webglcontextcreationerror",l,!1),s?(e.onContextLost&&t.addEventListener("webglcontextlost",e.onContextLost,!1),e.onContextRestored&&t.addEventListener("webglcontextrestored",e.onContextRestored,!1),s):n("Failed to create ".concat(a&&!r?"WebGL2":"WebGL"," context: ").concat(i||"Unknown error"))}function j8(t){let{canvas:e,width:n=800,height:i=600,onError:l}=t,r;return typeof e=="string"?(U8&&document.readyState==="complete"||l("createGLContext called on canvas '".concat(e,"' before page was loaded")),r=document.getElementById(e)):e?r=e:(r=document.createElement("canvas"),r.id="lumagl-canvas",r.style.width=Number.isFinite(n)?"".concat(n,"px"):"100%",r.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(r,document.body.firstChild)),r}function H8(t){const e=Me(t)?"WebGL2":"WebGL1",n=P8(t),i=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",l=t.debug?" debug":"";be.info(1,"".concat(e).concat(l," context ").concat(i))()}function D8(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?2:1}function O8(t,e,n){let i="width"in n?n.width:t.canvas.clientWidth,l="height"in n?n.height:t.canvas.clientHeight;(!i||!l)&&(be.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,i=t.canvas.width||1,l=t.canvas.height||1),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};const r=t.luma.canvasSizeInfo;if(r.clientWidth!==i||r.clientHeight!==l||r.devicePixelRatio!==e){let a=e;const s=Math.floor(i*a),o=Math.floor(l*a);t.canvas.width=s,t.canvas.height=o,(t.drawingBufferWidth!==s||t.drawingBufferHeight!==o)&&(be.warn("Device pixel ratio clamped")(),a=Math.min(t.drawingBufferWidth/i,t.drawingBufferHeight/l),t.canvas.width=Math.floor(i*a),t.canvas.height=Math.floor(l*a)),Object.assign(t.luma.canvasSizeInfo,{clientWidth:i,clientHeight:l,devicePixelRatio:e})}}const Hu="8.5.21",B8="set luma.log.level=1 (or higher) to trace rendering";class Q8{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new kW({id:e})),this.stats.get(e)}}const Ra=new Q8;if(globalThis.luma&&globalThis.luma.VERSION!==Hu)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(Hu));globalThis.luma||(xi()&&be.log(1,"luma.gl ".concat(Hu," - ").concat(B8))(),globalThis.luma=globalThis.luma||{VERSION:Hu,version:Hu,log:be,stats:Ra,globals:{modules:{},nodeIO:{}}});function A8(t){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function _8(t){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}function ae(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}function Ef(t,e){if(typeof e!="string")return e;const n=Number(e);if(!isNaN(n))return n;e=e.replace(/^.*\./,"");const i=t[e];return ae(i!==void 0,"Accessing undefined constant GL.".concat(e)),i}function Lr(t,e){e=Number(e);for(const n in t)if(t[n]===e)return"GL.".concat(n);return String(e)}const Kf={};function zr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"id";Kf[t]=Kf[t]||1;const e=Kf[t]++;return"".concat(t,"-").concat(e)}function GS(t){return ae(typeof t=="number","Input must be a number"),t&&(t&t-1)===0}function zo(t){let e=!0;for(const n in t){e=!1;break}return e}function T3(t,e,n,i){const l="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),r=Object.getPrototypeOf(t);i.forEach(a=>{r.methodName||(r[a]=()=>{throw be.removed("Calling removed method ".concat(e,".").concat(a,": "),l)(),new Error(a)})})}const xs="Resource subclass must define virtual methods";let jl=class{get[Symbol.toStringTag](){return"Resource"}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};FZ(e);const{id:i,userData:l={}}=n;this.gl=e,this.gl2=e,this.id=i||zr(this[Symbol.toStringTag]),this.userData=l,this._bound=!1,this._handle=n.handle,this._handle===void 0&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&e&&n.filter(Boolean).forEach(i=>i.delete()),this}bind(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.handle;if(typeof e!="function")return this._bindHandle(e),this;let n;return this._bound?n=e():(this._bindHandle(this.handle),this._bound=!0,n=e(),this._bound=!1,this._bindHandle(null)),n}unbind(){this.bind(null)}getParameter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e=Ef(this.gl,e),ae(e);const l=(this.constructor.PARAMETERS||{})[e];if(l){const r=Me(this.gl);if(!((!("webgl2"in l)||r)&&(!("extension"in l)||this.gl.getExtension(l.extension)))){const s=l.webgl1,o="webgl2"in l?l.webgl2:l.webgl1;return r?o:s}}return this._getParameter(e,n)}getParameters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{parameters:n,keys:i}=e,l=this.constructor.PARAMETERS||{},r=Me(this.gl),a={},s=n||Object.keys(l);for(const o of s){const c=l[o];if(c&&(!("webgl2"in c)||r)&&(!("extension"in c)||this.gl.getExtension(c.extension))){const d=i?Lr(this.gl,o):o;a[d]=this.getParameter(o,e),i&&c.type==="GLenum"&&(a[d]=Lr(this.gl,a[d]))}}return a}setParameter(e,n){e=Ef(this.gl,e),ae(e);const l=(this.constructor.PARAMETERS||{})[e];if(l){const r=Me(this.gl);if(!((!("webgl2"in l)||r)&&(!("extension"in l)||this.gl.getExtension(l.extension))))throw new Error("Parameter not available on this platform");l.type==="GLenum"&&(n=Ef(n))}return this._setParameter(e,n),this}setParameters(e){for(const n in e)this.setParameter(n,e[n]);return this}stubRemovedMethods(e,n,i){return T3(this,e,n,i)}initialize(e){}_createHandle(){throw new Error(xs)}_deleteHandle(){throw new Error(xs)}_bindHandle(e){throw new Error(xs)}_getOptsFromHandle(){throw new Error(xs)}_getParameter(e,n){throw new Error(xs)}_setParameter(e,n){throw new Error(xs)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],n=Ra.get("Resource Counts");n.get("Resources Created").incrementCount(),n.get("".concat(e,"s Created")).incrementCount(),n.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];Ra.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,n),this._trackAllocatedMemoryForContext(e,n,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[Symbol.toStringTag],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const l=Ra.get("Memory Usage".concat(i));l.get("GPU Memory").addCount(e),l.get("".concat(n," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this[Symbol.toStringTag],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=Ra.get("Memory Usage".concat(n));i.get("GPU Memory").subtractCount(this.byteLength),i.get("".concat(e," Memory")).subtractCount(this.byteLength)}};const $8="Failed to deduce GL constant from typed array";function LX(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error($8)}}function Td(t){let{clamped:e=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return e?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function q8(t){let{data:e,width:n,height:i,bytesPerPixel:l=4,temp:r}=t;const a=n*l;r=r||new Uint8Array(a);for(let s=0;s<i/2;++s){const o=s*a,c=(i-s-1)*a;r.set(e.subarray(o,o+a)),e.copyWithin(o,c,c+a),e.set(r,c)}}function e7(t){let{data:e,width:n,height:i}=t;const l=Math.round(n/2),r=Math.round(i/2),a=new Uint8Array(l*r*4);for(let s=0;s<r;s++)for(let o=0;o<l;o++)for(let c=0;c<4;c++)a[(s*l+o)*4+c]=e[(s*2*n+o*2)*4+c];return{data:a,width:l,height:r}}function MX(t,e,n){const{removedProps:i={},deprecatedProps:l={},replacedProps:r={}}=n;for(const s in i)if(s in e){const c=i[s]?"".concat(t,".").concat(i[s]):"N/A";be.removed("".concat(t,".").concat(s),c)()}for(const s in l)if(s in e){const o=l[s];be.deprecated("".concat(t,".").concat(s),"".concat(t,".").concat(o))()}let a=null;for(const s in r)if(s in e){const o=r[s];be.deprecated("".concat(t,".").concat(s),"".concat(t,".").concat(o))(),a=a||Object.assign({},e),a[o]=e[s],delete a[s]}return a||e}const t7={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},n7={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class bn{static getBytesPerElement(e){return Td(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return ae(e.size),Td(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return new bn(t7,...n)}constructor(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(l=>this._assign(l)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return bn.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return bn.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e=MX("Accessor",e,n7),e.type!==void 0&&(this.type=e.type,(e.type===5124||e.type===5125)&&(this.integer=!0)),e.size!==void 0&&(this.size=e.size),e.offset!==void 0&&(this.offset=e.offset),e.stride!==void 0&&(this.stride=e.stride),e.normalized!==void 0&&(this.normalized=e.normalized),e.integer!==void 0&&(this.integer=e.integer),e.divisor!==void 0&&(this.divisor=e.divisor),e.buffer!==void 0&&(this.buffer=e.buffer),e.index!==void 0&&(typeof e.index=="boolean"?this.index=e.index?1:0:this.index=e.index),e.instanced!==void 0&&(this.divisor=e.instanced?1:0),e.isInstanced!==void 0&&(this.divisor=e.isInstanced?1:0),this}}const XS=10,x3={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},i7={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:x3},l7={removedProps:x3};let ze=class extends jl{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=n.target||(this.gl.webgl2?36662:34962),this.initialize(n),Object.seal(this)}getElementCount(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.accessor;return Math.round(this.byteLength/bn.getBytesPerElement(e))}getVertexCount(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.accessor;return Math.round(this.byteLength/bn.getBytesPerVertex(e))}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=MX("Buffer",e,i7),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return e=MX("Buffer",e,l7),"accessor"in e&&this.setAccessor(e.accessor),this}setAccessor(e){return e=Object.assign({},e),delete e.buffer,this.accessor=new bn(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:n,offset:i=0,srcOffset:l=0}=e,r=e.byteLength||e.length;ae(n);const a=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(a,this.handle),l!==0||r!==void 0?(kt(this.gl),this.gl.bufferSubData(this.target,i,n,l,r)):this.gl.bufferSubData(a,i,n),this.gl.bindBuffer(a,null),this.debugData=null,this._inferType(n),this}copyData(e){let{sourceBuffer:n,readOffset:i=0,writeOffset:l=0,size:r}=e;const{gl:a}=this;return kt(a),a.bindBuffer(36662,n.handle),a.bindBuffer(36663,this.handle),a.copyBufferSubData(36662,36663,i,l,r),a.bindBuffer(36662,null),a.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:n=0,dstOffset:i=0,length:l=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kt(this.gl);const r=Td(this.accessor.type||5126,{clamped:!1}),a=this._getAvailableElementCount(n),s=i;let o,c;e?(c=e.length,o=c-s):(o=Math.min(a,l||a),c=s+o);const u=Math.min(a,o);return l=l||u,ae(l<=u),e=e||new r(c),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,n,e,i,l),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:n=this.accessor&&this.accessor.index,offset:i=0,size:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e===35345||e===35982?l!==void 0?this.gl.bindBufferRange(e,n,this.handle,i,l):(ae(i===0),this.gl.bindBufferBase(e,n,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:n=this.accessor&&this.accessor.index}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e===35345||e===35982?this.gl.bindBufferBase(e,n,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(XS,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.byteLength+n;ae(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const l=this._getTarget();this.gl.bindBuffer(l,this.handle),this.gl.bufferData(l,i,this.usage),this.gl.bufferSubData(l,n,e),this.gl.bindBuffer(l,null),this.debugData=e.slice(0,XS),this.bytesUsed=i,this._trackAllocatedMemory(i);const r=LX(e);return ae(r),this.setAccessor(new bn(this.accessor,{type:r})),this}_setByteLength(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.usage;ae(e>=0),this._trackDeallocatedMemory();let i=e;e===0&&(i=new Float32Array(0));const l=this._getTarget();return this.gl.bindBuffer(l,this.handle),this.gl.bufferData(l,i,n),this.gl.bindBuffer(l,null),this.usage=n,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const n=Td(this.accessor.type||5126,{clamped:!1}),i=e/n.BYTES_PER_ELEMENT;return this.getElementCount()-i}_inferType(e){this.accessor.type||this.setAccessor(new bn(this.accessor,{type:LX(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const n=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),n}get type(){return be.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return be.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return be.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return be.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new bn(this.accessor,e),this}};const QW={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},R3={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},S3={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function r7(t,e){const n=QW[e];if(!n)return!1;if(n.gl1===void 0&&n.gl2===void 0)return!0;const i=Me(t)&&n.gl2||n.gl1;return typeof i=="string"?t.getExtension(i):i}function a7(t,e){const n=QW[e];switch(n&&n.types[0]){case 5126:return t.getExtension("OES_texture_float_linear");case 5131:return t.getExtension("OES_texture_half_float_linear");default:return!0}}const s7=[9729,9728],gS=globalThis.WebGLBuffer||function(){};class Ba extends jl{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{format:i,linearFiltering:l}=n;let r=!0;return i&&(r=r&&r7(e,i),r=r&&(!l||a7(e,i))),r}constructor(e,n){const{id:i=zr("texture"),handle:l,target:r}=n;super(e,{id:i,handle:l}),this.target=r,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data;if(n instanceof Promise)return n.then(G=>this.initialize(Object.assign({},e,{pixels:G,data:G}))),this;const i=typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement;if(i&&n.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,n.addEventListener("loadeddata",()=>this.initialize(e)),this;const{pixels:l=null,format:r=6408,border:a=0,recreate:s=!1,parameters:o={},pixelStore:c={},textureUnit:u=void 0}=e;n||(n=l);let{width:d,height:m,dataFormat:h,type:b,compressed:Z=!1,mipmaps:p=!0}=e;const{depth:f=0}=e;return{width:d,height:m,compressed:Z,dataFormat:h,type:b}=this._deduceParameters({format:r,type:b,dataFormat:h,compressed:Z,data:n,width:d,height:m}),this.width=d,this.height=m,this.depth=f,this.format=r,this.type=b,this.dataFormat=h,this.border=a,this.textureUnit=u,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),p&&this._isNPOT()&&(be.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),p=!1,this._updateForNPOT(o)),this.mipmaps=p,this.setImageData({data:n,width:d,height:m,depth:f,format:r,type:b,dataFormat:h,border:a,mipmaps:p,parameters:c,compressed:Z}),p&&this.generateMipmap(),this.setParameters(o),s&&(this.data=n),i&&(this._video={video:n,parameters:o,lastTime:n.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?n.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:n,lastTime:i}=this._video;if(i===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:n}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:n,width:i,mipmaps:l=!1}=e;return i!==this.width||n!==this.height?this.initialize({width:i,height:n,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:l}):this}generateMipmap(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._isNPOT()?(be.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),fi(this.gl,e,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:n=this.target,pixels:i=null,level:l=0,format:r=this.format,border:a=this.border,offset:s=0,parameters:o={}}=e;let{data:c=null,type:u=this.type,width:d=this.width,height:m=this.height,dataFormat:h=this.dataFormat,compressed:b=!1}=e;c||(c=i),{type:u,dataFormat:h,compressed:b,width:d,height:m}=this._deduceParameters({format:r,type:u,dataFormat:h,compressed:b,data:c,width:d,height:m});const{gl:Z}=this;Z.bindTexture(this.target,this.handle);let p=null;({data:c,dataType:p}=this._getDataType({data:c,compressed:b}));let f,G=0;if(fi(this.gl,o,()=>{switch(p){case"null":Z.texImage2D(n,l,r,d,m,a,h,u,c);break;case"typed-array":Z.texImage2D(n,l,r,d,m,a,h,u,c,s);break;case"buffer":f=kt(Z),f.bindBuffer(35052,c.handle||c),f.texImage2D(n,l,r,d,m,a,h,u,s),f.bindBuffer(35052,null);break;case"browser-object":Me(Z)?Z.texImage2D(n,l,r,d,m,a,h,u,c):Z.texImage2D(n,l,r,h,u,c);break;case"compressed":for(const[V,X]of c.entries())Z.compressedTexImage2D(n,V,X.format,X.width,X.height,a,X.data),G+=X.levelSize;break;default:ae(!1,"Unknown image data type")}}),p==="compressed")this._trackAllocatedMemory(G,"Texture");else if(c&&c.byteLength)this._trackAllocatedMemory(c.byteLength,"Texture");else{const V=R3[this.dataFormat]||4,X=S3[this.type]||1;this._trackAllocatedMemory(this.width*this.height*V*X,"Texture")}return this.loaded=!0,this}setSubImageData(e){let{target:n=this.target,pixels:i=null,data:l=null,x:r=0,y:a=0,width:s=this.width,height:o=this.height,level:c=0,format:u=this.format,type:d=this.type,dataFormat:m=this.dataFormat,compressed:h=!1,offset:b=0,border:Z=this.border,parameters:p={}}=e;if({type:d,dataFormat:m,compressed:h,width:s,height:o}=this._deduceParameters({format:u,type:d,dataFormat:m,compressed:h,data:l,width:s,height:o}),ae(this.depth===0,"texSubImage not supported for 3D textures"),l||(l=i),l&&l.data){const f=l;l=f.data,s=f.shape[0],o=f.shape[1]}l instanceof ze&&(l=l.handle),this.gl.bindTexture(this.target,this.handle),fi(this.gl,p,()=>{if(h)this.gl.compressedTexSubImage2D(n,c,r,a,s,o,u,l);else if(l===null)this.gl.texSubImage2D(n,c,r,a,s,o,m,d,null);else if(ArrayBuffer.isView(l))this.gl.texSubImage2D(n,c,r,a,s,o,m,d,l,b);else if(l instanceof gS){const f=kt(this.gl);f.bindBuffer(35052,l),f.texSubImage2D(n,c,r,a,s,o,m,d,b),f.bindBuffer(35052,null)}else Me(this.gl)?kt(this.gl).texSubImage2D(n,c,r,a,s,o,m,d,l):this.gl.texSubImage2D(n,c,r,a,m,d,l)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return be.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.textureUnit;const{gl:n}=this;return e!==void 0&&(this.textureUnit=e,n.activeTexture(33984+e)),n.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.textureUnit;const{gl:n}=this;return e!==void 0&&(this.textureUnit=e,n.activeTexture(33984+e)),n.bindTexture(this.target,null),e}_getDataType(e){let{data:n,compressed:i=!1}=e;return i?{data:n,dataType:"compressed"}:n===null?{data:n,dataType:"null"}:ArrayBuffer.isView(n)?{data:n,dataType:"typed-array"}:n instanceof ze?{data:n.handle,dataType:"buffer"}:n instanceof gS?{data:n,dataType:"buffer"}:{data:n,dataType:"browser-object"}}_deduceParameters(e){const{format:n,data:i}=e;let{width:l,height:r,dataFormat:a,type:s,compressed:o}=e;const c=QW[n];return a=a||c&&c.dataFormat,s=s||c&&c.types[0],o=o||c&&c.compressed,{width:l,height:r}=this._deduceImageSize(i,l,r),{dataFormat:a,type:s,compressed:o,width:l,height:r,format:n,data:i}}_deduceImageSize(e,n,i){let l;return typeof ImageData<"u"&&e instanceof ImageData?l={width:e.width,height:e.height}:typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement?l={width:e.naturalWidth,height:e.naturalHeight}:typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement?l={width:e.width,height:e.height}:typeof ImageBitmap<"u"&&e instanceof ImageBitmap?l={width:e.width,height:e.height}:typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?l={width:e.videoWidth,height:e.videoHeight}:e?l={width:n,height:i}:l={width:n>=0?n:1,height:i>=0?i:1},ae(l,"Could not deduced texture size"),ae(n===void 0||l.width===n,"Deduced texture width does not match supplied width"),ae(i===void 0||l.height===i,"Deduced texture height does not match supplied height"),l}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const n=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),n}}_setParameter(e,n){switch(this.gl.bindTexture(this.target,this.handle),n=this._getNPOTParam(e,n),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,n);break;case 4096:case 4097:ae(!1);break;default:this.gl.texParameteri(this.target,e,n);break}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return Me(this.gl)||!this.width||!this.height?!1:!GS(this.width)||!GS(this.height)}_updateForNPOT(e){e[this.gl.TEXTURE_MIN_FILTER]===void 0&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),e[this.gl.TEXTURE_WRAP_S]===void 0&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),e[this.gl.TEXTURE_WRAP_T]===void 0&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,n){if(this._isNPOT())switch(e){case 10241:s7.indexOf(n)===-1&&(n=9729);break;case 10242:case 10243:n!==33071&&(n=33071);break}return n}}let o7="";function c7(t,e){return ae(typeof t=="string"),t=o7+t,new Promise((n,i)=>{try{const l=new Image;l.onload=()=>n(l),l.onerror=()=>i(new Error("Could not load image ".concat(t,"."))),l.crossOrigin=e&&e.crossOrigin||"anonymous",l.src=t}catch(l){i(l)}})}class Qn extends Ba{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,n){return Ba.isSupported(e,n)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};FZ(e),(n instanceof Promise||typeof n=="string")&&(n={data:n}),typeof n.data=="string"&&(n=Object.assign({},n,{data:c7(n.data)})),super(e,Object.assign({},n,{target:3553})),this.initialize(n),Object.seal(this)}}const NX=[34069,34070,34071,34072,34073,34074];class Y3 extends Ba{get[Symbol.toStringTag](){return"TextureCube"}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};FZ(e),super(e,Object.assign({},n,{target:34067})),this.initialize(n),Object.seal(this)}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{mipmaps:n=!0,parameters:i={}}=e;return this.opts=e,this.setCubeMapImageData(e).then(()=>{this.loaded=!0,n&&this.generateMipmap(e),this.setParameters(i)}),this}subImage(e){let{face:n,data:i,x:l=0,y:r=0,mipmapLevel:a=0}=e;return this._subImage({target:n,data:i,x:l,y:r,mipmapLevel:a})}async setCubeMapImageData(e){let{width:n,height:i,pixels:l,data:r,border:a=0,format:s=6408,type:o=5121}=e;const{gl:c}=this,u=l||r,d=await Promise.all(NX.map(m=>{const h=u[m];return Promise.all(Array.isArray(h)?h:[h])}));this.bind(),NX.forEach((m,h)=>{d[h].length>1&&this.opts.mipmaps!==!1&&be.warn("".concat(this.id," has mipmap and multiple LODs."))(),d[h].forEach((b,Z)=>{n&&i?c.texImage2D(m,Z,s,n,i,a,s,o,b):c.texImage2D(m,Z,s,s,o,b)})}),this.unbind()}setImageDataForFace(e){const{face:n,width:i,height:l,pixels:r,data:a,border:s=0,format:o=6408,type:c=5121}=e,{gl:u}=this,d=r||a;return this.bind(),d instanceof Promise?d.then(m=>this.setImageDataForFace(Object.assign({},e,{face:n,data:m,pixels:m}))):this.width||this.height?u.texImage2D(n,0,o,i,l,s,o,c,d):u.texImage2D(n,0,o,o,c,d),this}}Y3.FACES=NX;class u7 extends Ba{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return Me(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};kt(e),n=Object.assign({depth:1},n,{target:32879,unpackFlipY:!1}),super(e,n),this.initialize(n),Object.seal(this)}setImageData(e){let{level:n=0,dataFormat:i=6408,width:l,height:r,depth:a=1,border:s=0,format:o,type:c=5121,offset:u=0,data:d,parameters:m={}}=e;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),fi(this.gl,m,()=>{ArrayBuffer.isView(d)&&this.gl.texImage3D(this.target,n,i,l,r,a,s,o,c,d),d instanceof ze&&(this.gl.bindBuffer(35052,d.handle),this.gl.texImage3D(this.target,n,i,l,r,a,s,o,c,u))}),d&&d.byteLength)this._trackAllocatedMemory(d.byteLength,"Texture");else{const h=R3[this.dataFormat]||4,b=S3[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*h*b,"Texture")}return this.loaded=!0,this}}const aa="EXT_color_buffer_float",WS={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:aa,bpp:2},33327:{gl2:aa,bpp:4},34842:{gl2:aa,bpp:8},33326:{gl2:aa,bpp:4},33328:{gl2:aa,bpp:8},34836:{gl2:aa,bpp:16},35898:{gl2:aa,bpp:4}};function d7(t,e,n){const i=n[e];if(!i)return!1;const l=Me(t)&&i.gl2||i.gl1;return typeof l=="string"?t.getExtension(l):l}class mo extends jl{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{format:null};return!n||d7(e,n,WS)}static getSamplesForFormat(e,n){let{format:i}=n;return e.getInternalformatParameter(36161,i,32937)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.initialize(n),Object.seal(this)}initialize(e){let{format:n,width:i=1,height:l=1,samples:r=0}=e;return ae(n,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),r!==0&&Me(this.gl)?this.gl.renderbufferStorageMultisample(36161,r,n,i,l):this.gl.renderbufferStorage(36161,n,i,l),this.format=n,this.width=i,this.height=l,this.samples=r,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*WS[this.format].bpp),this}resize(e){let{width:n,height:i}=e;return n!==this.width||i!==this.height?this.initialize({width:n,height:i,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}const m7=256,h7=1024,b7=16384,VS=6144,TS=6145,xS=6146,RS=34041,L3="clear: bad arguments";function AW(t){let{framebuffer:e=null,color:n=null,depth:i=null,stencil:l=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={};e&&(r.framebuffer=e);let a=0;n&&(a|=b7,n!==!0&&(r.clearColor=n)),i&&(a|=m7,i!==!0&&(r.clearDepth=i)),l&&(a|=h7,i!==!0&&(r.clearStencil=i)),ae(a!==0,L3),fi(t,r,()=>{t.clear(a)})}function p7(t){let{framebuffer:e=null,buffer:n=VS,drawBuffer:i=0,value:l=[0,0,0,0]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};kt(t),fi(t,{framebuffer:e},()=>{switch(n){case VS:switch(l.constructor){case Int32Array:t.clearBufferiv(n,i,l);break;case Uint32Array:t.clearBufferuiv(n,i,l);break;case Float32Array:default:t.clearBufferfv(n,i,l)}break;case TS:t.clearBufferfv(TS,0,[l]);break;case xS:t.clearBufferiv(xS,0,[l]);break;case RS:const[r,a]=l;t.clearBufferfi(RS,0,r,a);break;default:ae(!1,L3)}})}function Z7(t){switch(t){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return ae(!1),0}}function zZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{sourceX:n=0,sourceY:i=0,sourceFormat:l=6408}=e;let{sourceAttachment:r=36064,target:a=null,sourceWidth:s,sourceHeight:o,sourceType:c}=e;const{framebuffer:u,deleteFramebuffer:d}=M3(t);ae(u);const{gl:m,handle:h,attachments:b}=u;s=s||u.width,o=o||u.height,r===36064&&h===null&&(r=1028),ae(b[r]),c=c||b[r].type,a=y7(a,c,l,s,o),c=c||LX(a);const Z=m.bindFramebuffer(36160,h);return m.readPixels(n,i,s,o,l,c,a),m.bindFramebuffer(36160,Z||null),d&&u.delete(),a}function SS(t){let{sourceAttachment:e=36064,targetMaxHeight:n=Number.MAX_SAFE_INTEGER}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=zZ(t,{sourceAttachment:e}),{width:l,height:r}=t;for(;r>n;)({data:i,width:l,height:r}=e7({data:i,width:l,height:r}));q8({data:i,width:l,height:r});const a=document.createElement("canvas");a.width=l,a.height=r;const s=a.getContext("2d"),o=s.createImageData(l,r);return o.data.set(i),s.putImageData(o,0,0),a.toDataURL()}function f7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{sourceX:i=0,sourceY:l=0,targetMipmaplevel:r=0,targetInternalFormat:a=6408}=n;let{targetX:s,targetY:o,targetZ:c,width:u,height:d}=n;const{framebuffer:m,deleteFramebuffer:h}=M3(t);ae(m);const{gl:b,handle:Z}=m,p=typeof s<"u"||typeof o<"u"||typeof c<"u";s=s||0,o=o||0,c=c||0;const f=b.bindFramebuffer(36160,Z);ae(e);let G=null;if(e instanceof Ba&&(G=e,u=Number.isFinite(u)?u:G.width,d=Number.isFinite(d)?d:G.height,G.bind(0),e=G.target),!p)b.copyTexImage2D(e,r,a,i,l,u,d,0);else switch(e){case 3553:case 34067:b.copyTexSubImage2D(e,r,s,o,i,l,u,d);break;case 35866:case 32879:kt(b).copyTexSubImage3D(e,r,s,o,c,i,l,u,d);break}return G&&G.unbind(),b.bindFramebuffer(36160,f||null),h&&m.delete(),G}function M3(t){return t instanceof Wt?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:S7(t),deleteFramebuffer:!0}}function y7(t,e,n,i,l){if(t)return t;e=e||5121;const r=Td(e,{clamped:!1}),a=Z7(n);return new r(i*l*a)}const et={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};function G7(t){const e=new Qn(t,{format:6408,type:5126,dataFormat:6408}),n=new Wt(t,{id:"test-framebuffer",check:!1,attachments:{36064:e}}),i=n.getStatus();return e.delete(),n.delete(),i===36053}const N3={[et.WEBGL2]:[!1,!0],[et.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[et.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[et.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[et.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[et.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[et.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[et.FLOAT_BLEND]:["EXT_float_blend"],[et.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[et.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[et.TEXTURE_FLOAT]:["OES_texture_float",!0],[et.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[et.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[et.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[et.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[et.COLOR_ATTACHMENT_RGBA32F]:[G7,"EXT_color_buffer_float"],[et.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[et.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[et.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[et.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[et.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[et.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]},X7=2;function g7(t,e){return _W(t,e)}function _W(t,e){return e=Array.isArray(e)?e:[e],e.every(n=>v3(t,n))}function W7(t){t.luma=t.luma||{},t.luma.caps=t.luma.caps||{};for(const e in N3)t.luma.caps[e]===void 0&&(t.luma.caps[e]=v3(t,e));return t.luma.caps}function v3(t,e){return t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},t.luma.caps[e]===void 0&&(t.luma.caps[e]=V7(t,e)),t.luma.caps[e]||be.log(X7,"Feature: ".concat(e," not supported"))(),t.luma.caps[e]}function V7(t,e){const n=N3[e];ae(n,e);let i;const l=Me(t)&&n[1]||n[0];if(typeof l=="function")i=l(t);else if(Array.isArray(l)){i=!0;for(const r of l)i=i&&!!t.getExtension(r)}else typeof l=="string"?i=!!t.getExtension(l):typeof l=="boolean"?i=l:ae(!1);return i}const YS="Multiple render targets not supported";class Wt extends jl{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{colorBufferFloat:i,colorBufferHalfFloat:l}=n;let r=!0;return i&&(r=!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),l&&(r=r&&!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),r}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new Wt(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=kt(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=kt(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(n),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:n=1,height:i=1,attachments:l=null,color:r=!0,depth:a=!0,stencil:s=!1,check:o=!0,readBuffer:c=void 0,drawBuffers:u=void 0}=e;if(ae(n>=0&&i>=0,"Width and height need to be integers"),this.width=n,this.height=i,l)for(const d in l){const m=l[d];(Array.isArray(m)?m[0]:m).resize({width:n,height:i})}else l=this._createDefaultAttachments(r,a,s,n,i);this.update({clearAttachments:!0,attachments:l,readBuffer:c,drawBuffers:u}),l&&o&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:n={},readBuffer:i,drawBuffers:l,clearAttachments:r=!1,resizeAttachments:a=!0}=e;this.attach(n,{clearAttachments:r,resizeAttachments:a});const{gl:s}=this,o=s.bindFramebuffer(36160,this.handle);return i&&this._setReadBuffer(i),l&&this._setDrawBuffers(l),s.bindFramebuffer(36160,o||null),this}resize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{width:n,height:i}=e;if(this.handle===null)return ae(n===void 0&&i===void 0),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;n===void 0&&(n=this.gl.drawingBufferWidth),i===void 0&&(i=this.gl.drawingBufferHeight),n!==this.width&&i!==this.height&&be.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(n,"x").concat(i))();for(const l in this.attachments)this.attachments[l].resize({width:n,height:i});return this.width=n,this.height=i,this}attach(e){let{clearAttachments:n=!1,resizeAttachments:i=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l={};n&&Object.keys(this.attachments).forEach(a=>{l[a]=null}),Object.assign(l,e);const r=this.gl.bindFramebuffer(36160,this.handle);for(const a in l){ae(a!==void 0,"Misspelled framebuffer binding point?");const s=Number(a),o=l[s];let c=o;if(!c)this._unattach(s);else if(c instanceof mo)this._attachRenderbuffer({attachment:s,renderbuffer:c});else if(Array.isArray(o)){const[u,d=0,m=0]=o;c=u,this._attachTexture({attachment:s,texture:u,layer:d,level:m})}else this._attachTexture({attachment:s,texture:c,layer:0,level:0});i&&c&&c.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,r||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(a=>!this.attachments[a]).forEach(a=>{delete this.attachments[a]})}checkStatus(){const e=this.getStatus();if(e!==36053)throw new Error(x7(e));return this}getStatus(){const{gl:e}=this,n=e.bindFramebuffer(36160,this.handle),i=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,n||null),i}clear(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{color:n,depth:i,stencil:l,drawBuffers:r=[]}=e,a=this.gl.bindFramebuffer(36160,this.handle);return(n||i||l)&&AW(this.gl,{color:n,depth:i,stencil:l}),r.forEach((s,o)=>{p7(this.gl,{drawBuffer:o,value:s})}),this.gl.bindFramebuffer(36160,a||null),this}readPixels(){return be.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return be.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return be.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return be.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return be.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return be.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:n=[],x:i=0,y:l=0,width:r,height:a}=e;const s=kt(this.gl),o=s.bindFramebuffer(36008,this.handle);return i===0&&l===0&&r===void 0&&a===void 0?s.invalidateFramebuffer(36008,n):s.invalidateFramebuffer(36008,n,i,l,r,a),s.bindFramebuffer(36008,o),this}getAttachmentParameter(e,n,i){let l=this._getAttachmentParameterFallback(n);return l===null&&(this.gl.bindFramebuffer(36160,this.handle),l=this.gl.getFramebufferAttachmentParameter(36160,e,n),this.gl.bindFramebuffer(36160,null)),i&&l>1e3&&(l=Lr(this.gl,l)),l}getAttachmentParameters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:36064,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const l={};for(const r of i){const a=n?Lr(this.gl,r):r;l[a]=this.getAttachmentParameter(e,r,n)}return l}getParameters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const n=Object.keys(this.attachments),i={};for(const l of n){const r=Number(l),a=e?Lr(this.gl,r):r;i[a]=this.getAttachmentParameters(r,e)}return i}show(){return typeof window<"u"&&window.open(SS(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e>be.level||typeof window>"u")return this;n=n||"Framebuffer ".concat(this.id);const i=SS(this,{targetMaxHeight:100});return be.image({logLevel:e,message:n,image:i},n)(),this}bind(){let{target:e=36160}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,n,i,l,r){let a=null;return e&&(a=a||{},a[36064]=new Qn(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:l,height:r,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(a[36064])),n&&i?(a=a||{},a[33306]=new mo(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:l,height:111}),this.ownResources.push(a[33306])):n?(a=a||{},a[36096]=new mo(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:l,height:r}),this.ownResources.push(a[36096])):i&&ae(!1),a}_unattach(e){const n=this.attachments[e];n&&(n instanceof mo?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:n=36064,renderbuffer:i}=e;const{gl:l}=this;l.framebufferRenderbuffer(36160,n,36161,i.handle),this.attachments[n]=i}_attachTexture(e){let{attachment:n=36064,texture:i,layer:l,level:r}=e;const{gl:a}=this;switch(a.bindTexture(i.target,i.handle),i.target){case 35866:case 32879:kt(a).framebufferTextureLayer(36160,n,i.target,r,l);break;case 34067:const o=T7(l);a.framebufferTexture2D(36160,n,o,i.handle,r);break;case 3553:a.framebufferTexture2D(36160,n,3553,i.handle,r);break;default:ae(!1,"Illegal texture type")}a.bindTexture(i.target,null),this.attachments[n]=i}_setReadBuffer(e){const n=q_(this.gl);n?n.readBuffer(e):ae(e===36064||e===1029,YS),this.readBuffer=e}_setDrawBuffers(e){const{gl:n}=this,i=kt(n);if(i)i.drawBuffers(e);else{const l=n.getExtension("WEBGL_draw_buffers");l?l.drawBuffersWEBGL(e):ae(e.length===1&&(e[0]===36064||e[0]===1029),YS)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const n=W7(this.gl);switch(e){case 36052:return n.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return n.WEBGL2?null:8;case 33297:return n.WEBGL2?null:5125;case 33296:return!n.WEBGL2&&!n.EXT_sRGB?9729:null;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}function T7(t){return t<34069?t+34069:t}function x7(t){return(Wt.STATUS||{})[t]||"Framebuffer error ".concat(t)}const R7=[36049,36048,33296,33298,33299,33300,33301,33302,33303];Wt.ATTACHMENT_PARAMETERS=R7;function I3(t,e){ae(t instanceof Qn||t instanceof Y3||t instanceof u7);const n=t.constructor,{gl:i,width:l,height:r,format:a,type:s,dataFormat:o,border:c,mipmaps:u}=t,d=Object.assign({width:l,height:r,format:a,type:s,dataFormat:o,border:c,mipmaps:u},e);return new n(i,d)}function S7(t,e){const{gl:n,width:i,height:l,id:r}=t;return new Wt(n,Object.assign({},e,{id:"framebuffer-for-".concat(r),width:i,height:l,attachments:{36064:t}}))}function sb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unnamed";const n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,i=t.match(n);return i?i[1]:e}const Y7=35632,L7=35633;function M7(t){switch(t){case Y7:return"fragment";case L7:return"vertex";default:return"unknown type"}}function N7(t,e,n,i){const l=t.split(/\r?\n/),r={},a={},s=i||sb(e)||"(unnamed)",o="".concat(M7(n)," shader ").concat(s);for(let u=0;u<l.length;u++){const d=l[u];if(d.length<=1)continue;const m=d.split(":"),h=m[0],b=parseInt(m[2],10);if(isNaN(b))throw new Error("GLSL compilation error in ".concat(o,": ").concat(t));h!=="WARNING"?r[b]=d:a[b]=d}const c=v7(e);return{shaderName:o,errors:LS(r,c),warnings:LS(a,c)}}function LS(t,e){let n="";for(let i=0;i<e.length;i++){const l=e[i];if(!(!t[i+3]&&!t[i+2]&&!t[i+1])&&(n+="".concat(l,`
`),t[i+1])){const r=t[i+1],a=r.split(":",3),s=a[0],o=parseInt(a[1],10)||0,c=r.substring(a.join(":").length+1).trim();n+=w3("^^^ ".concat(s,": ").concat(c,`

`),o)}}return n}function v7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:": ";const i=t.split(/\r?\n/),l=String(i.length+e-1).length;return i.map((r,a)=>{const s=String(a+e),o=s.length;return w3(s,l-o)+n+r})}function w3(t,e){let n="";for(let i=0;i<e;++i)n+=" ";return"".concat(n).concat(t)}function J3(t){let e=100;const n=t.match(/[^\s]+/g);if(n.length>=2&&n[0]==="#version"){const i=parseInt(n[1],10);Number.isFinite(i)&&(e=i)}return e}const I7="Shader: GLSL source code must be a JavaScript string";class xd extends jl{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return ae(!1),"unknown"}}constructor(e,n){FZ(e),ae(typeof n.source=="string",I7);const i=sb(n.source,null)||n.id||zr("unnamed ".concat(xd.getTypeName(n.shaderType)));super(e,{id:i}),this.shaderType=n.shaderType,this.source=n.source,this.initialize(n)}initialize(e){let{source:n}=e;const i=sb(n,null);i&&(this.id=zr(i)),this._compile(n)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(xd.getTypeName(this.shaderType),":").concat(this.id)}getName(){return sb(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.source;if(e.startsWith("#version ")||(e=`#version 100
`.concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const i=this.gl.getShaderInfoLog(this.handle),{shaderName:l,errors:r,warnings:a}=N7(i,this.source,this.shaderType,this.id);throw be.error("GLSL compilation errors in ".concat(l,`
`).concat(r))(),be.warn("GLSL compilation warnings in ".concat(l,`
`).concat(a))(),new Error("GLSL compilation errors in ".concat(l))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class Uf extends xd{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,n){typeof n=="string"&&(n={source:n}),super(e,Object.assign({},n,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class Pf extends xd{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,n){typeof n=="string"&&(n={source:n}),super(e,Object.assign({},n,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const w7={5126:$e.bind(null,"uniform1fv",cn,1,vt),35664:$e.bind(null,"uniform2fv",cn,2,vt),35665:$e.bind(null,"uniform3fv",cn,3,vt),35666:$e.bind(null,"uniform4fv",cn,4,vt),5124:$e.bind(null,"uniform1iv",ql,1,vt),35667:$e.bind(null,"uniform2iv",ql,2,vt),35668:$e.bind(null,"uniform3iv",ql,3,vt),35669:$e.bind(null,"uniform4iv",ql,4,vt),35670:$e.bind(null,"uniform1iv",ql,1,vt),35671:$e.bind(null,"uniform2iv",ql,2,vt),35672:$e.bind(null,"uniform3iv",ql,3,vt),35673:$e.bind(null,"uniform4iv",ql,4,vt),35674:$e.bind(null,"uniformMatrix2fv",cn,4,ml),35675:$e.bind(null,"uniformMatrix3fv",cn,9,ml),35676:$e.bind(null,"uniformMatrix4fv",cn,16,ml),35678:St,35680:St,5125:$e.bind(null,"uniform1uiv",ih,1,vt),36294:$e.bind(null,"uniform2uiv",ih,2,vt),36295:$e.bind(null,"uniform3uiv",ih,3,vt),36296:$e.bind(null,"uniform4uiv",ih,4,vt),35685:$e.bind(null,"uniformMatrix2x3fv",cn,6,ml),35686:$e.bind(null,"uniformMatrix2x4fv",cn,8,ml),35687:$e.bind(null,"uniformMatrix3x2fv",cn,6,ml),35688:$e.bind(null,"uniformMatrix3x4fv",cn,12,ml),35689:$e.bind(null,"uniformMatrix4x2fv",cn,8,ml),35690:$e.bind(null,"uniformMatrix4x3fv",cn,12,ml),35678:St,35680:St,35679:St,35682:St,36289:St,36292:St,36293:St,36298:St,36299:St,36300:St,36303:St,36306:St,36307:St,36308:St,36311:St},J7={},C7={},k7={},MS=[0];function $W(t,e,n,i){e===1&&typeof t=="boolean"&&(t=t?1:0),Number.isFinite(t)&&(MS[0]=t,t=MS);const l=t.length;if(l%e&&be.warn("Uniform size should be multiples of ".concat(e),t)(),t instanceof n)return t;let r=i[l];r||(r=new n(l),i[l]=r);for(let a=0;a<l;a++)r[a]=t[a];return r}function cn(t,e){return $W(t,e,Float32Array,J7)}function ql(t,e){return $W(t,e,Int32Array,C7)}function ih(t,e){return $W(t,e,Uint32Array,k7)}function NS(t,e,n){const i=w7[n.type];if(!i)throw new Error("Unknown GLSL uniform type ".concat(n.type));return i().bind(null,t,e)}function E7(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};const e=/([^[]*)(\[[0-9]+\])?/,n=t.match(e);if(!n||n.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(t));return{name:n[1],length:n[2]||1,isArray:!!n[2]}}function K7(t,e,n){for(const i in t){const l=t[i];if((!n||!!n[i])&&!U7(l))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(i),l),new Error("".concat(e," Bad uniform ").concat(i))}return!0}function U7(t){return Array.isArray(t)||ArrayBuffer.isView(t)?F7(t):isFinite(t)||t===!0||t===!1||t instanceof Ba||t instanceof mo?!0:t instanceof Wt?!!t.texture:!1}function P7(t,e,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(t[e]){const i=t[e];for(let l=0,r=n.length;l<r;++l)i[l]=n[l]}else t[e]=n.slice();else t[e]=n}function F7(t){if(t.length===0)return!1;const e=Math.min(t.length,16);for(let n=0;n<e;++n)if(!Number.isFinite(t[n]))return!1;return!0}function St(){let t=null;return(e,n,i)=>{const l=t!==i;return l&&(e.uniform1i(n,i),t=i),l}}function $e(t,e,n,i){let l=null,r=null;return(a,s,o)=>{const c=e(o,n),u=c.length;let d=!1;if(l===null)l=new Float32Array(u),r=u,d=!0;else{ae(r===u,"Uniform length cannot change.");for(let m=0;m<u;++m)if(c[m]!==l[m]){d=!0;break}}return d&&(i(a,t,s,c),l.set(c)),d}}function vt(t,e,n,i){t[e](n,i)}function ml(t,e,n,i){t[e](n,!1,i)}const z7=5120,j7=5121,H7=5122,D7=5123,vS=0,lh=1,O7=2,B7=3,rh=4,Q7=5,A7=6,yt=5126,_7=35664,$7=35665,q7=35666,Ac=5124,e6=35667,t6=35668,n6=35669,_c=5125,i6=36294,l6=36295,r6=36296,a6=35670,s6=35671,o6=35672,c6=35673,u6=35674,d6=35675,m6=35676,h6=35685,b6=35686,p6=35687,Z6=35688,f6=35689,y6=35690,vX={[yt]:[yt,1,"float"],[_7]:[yt,2,"vec2"],[$7]:[yt,3,"vec3"],[q7]:[yt,4,"vec4"],[Ac]:[Ac,1,"int"],[e6]:[Ac,2,"ivec2"],[t6]:[Ac,3,"ivec3"],[n6]:[Ac,4,"ivec4"],[_c]:[_c,1,"uint"],[i6]:[_c,2,"uvec2"],[l6]:[_c,3,"uvec3"],[r6]:[_c,4,"uvec4"],[a6]:[yt,1,"bool"],[s6]:[yt,2,"bvec2"],[o6]:[yt,3,"bvec3"],[c6]:[yt,4,"bvec4"],[u6]:[yt,8,"mat2"],[h6]:[yt,8,"mat2x3"],[b6]:[yt,8,"mat2x4"],[d6]:[yt,12,"mat3"],[p6]:[yt,12,"mat3x2"],[Z6]:[yt,12,"mat3x4"],[m6]:[yt,16,"mat4"],[f6]:[yt,16,"mat4x2"],[y6]:[yt,16,"mat4x3"]};function G6(t){switch(t){case vS:return vS;case lh:return lh;case B7:return lh;case O7:return lh;case rh:return rh;case Q7:return rh;case A7:return rh;default:return ae(!1),0}}function IS(t){const e=vX[t];if(!e)return null;const[n,i]=e;return{type:n,components:i}}function C3(t,e){switch(t){case z7:case j7:case H7:case D7:t=yt;break}for(const n in vX){const[i,l,r]=vX[n];if(i===t&&l===e)return{glType:n,name:r}}return null}class X6{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const n=Number(e);return Number.isFinite(n)?this.attributeInfosByLocation[n]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const n=this.getAttributeInfo(e);return n?n.location:-1}getAttributeAccessor(e){const n=this.getAttributeInfo(e);return n?n.accessor:null}getVaryingInfo(e){const n=Number(e);return Number.isFinite(n)?this.varyingInfos[n]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const n=this.getVaryingInfo();return n?n.location:-1}getVaryingAccessor(e){const n=this.getVaryingInfo();return n?n.accessor:null}_readAttributesFromProgram(e){const{gl:n}=e,i=n.getProgramParameter(e.handle,35721);for(let l=0;l<i;l++){const{name:r,type:a,size:s}=n.getActiveAttrib(e.handle,l),o=n.getAttribLocation(e.handle,r);o>=0&&this._addAttribute(o,r,a,s)}this.attributeInfos.sort((l,r)=>l.location-r.location)}_readVaryingsFromProgram(e){const{gl:n}=e;if(!Me(n))return;const i=n.getProgramParameter(e.handle,35971);for(let l=0;l<i;l++){const{name:r,type:a,size:s}=n.getTransformFeedbackVarying(e.handle,l);this._addVarying(l,r,a,s)}this.varyingInfos.sort((l,r)=>l.location-r.location)}_addAttribute(e,n,i,l){const{type:r,components:a}=IS(i),s={type:r,size:l*a};this._inferProperties(e,n,s);const o={location:e,name:n,accessor:new bn(s)};this.attributeInfos.push(o),this.attributeInfosByLocation[e]=o,this.attributeInfosByName[o.name]=o}_inferProperties(e,n,i){/instance/i.test(n)&&(i.divisor=1)}_addVarying(e,n,i,l){const{type:r,components:a}=IS(i),s=new bn({type:r,size:l*a}),o={location:e,name:n,accessor:s};this.varyingInfos.push(o),this.varyingInfosByName[o.name]=o}}const wS=4,g6=35981,W6=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class k3 extends jl{get[Symbol.toStringTag](){return"Program"}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.stubRemovedMethods("Program","v6.0",W6),this._isCached=!1,this.initialize(n),Object.seal(this),this._setId(n.id)}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{hash:n,vs:i,fs:l,varyings:r,bufferMode:a=g6}=e;return this.hash=n||"",this.vs=typeof i=="string"?new Uf(this.gl,{id:"".concat(e.id,"-vs"),source:i}):i,this.fs=typeof l=="string"?new Pf(this.gl,{id:"".concat(e.id,"-fs"),source:l}):l,ae(this.vs instanceof Uf),ae(this.fs instanceof Pf),this.uniforms={},this._textureUniforms={},r&&r.length>0&&(kt(this.gl),this.varyings=r,this.gl2.transformFeedbackVaryings(this.handle,r,a)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new X6(this),this.setProps(e)}delete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._isCached?this:super.delete(e)}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:n,drawMode:i=4,vertexCount:l,offset:r=0,start:a,end:s,isIndexed:o=!1,indexType:c=5123,instanceCount:u=0,isInstanced:d=u>0,vertexArray:m=null,transformFeedback:h,framebuffer:b,parameters:Z={},uniforms:p,samplers:f}=e;if((p||f)&&(be.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(p||{})),be.priority>=n){const G=b?b.id:"default",V="mode=".concat(Lr(this.gl,i)," verts=").concat(l," ")+"instances=".concat(u," indexType=").concat(Lr(this.gl,c)," ")+"isInstanced=".concat(d," isIndexed=").concat(o," ")+"Framebuffer=".concat(G);be.log(n,V)()}return ae(m),this.gl.useProgram(this.handle),!this._areTexturesRenderable()||l===0||d&&u===0?!1:(m.bindForDraw(l,u,()=>{if(b!==void 0&&(Z=Object.assign({},Z,{framebuffer:b})),h){const G=G6(i);h.begin(G)}this._bindTextures(),fi(this.gl,Z,()=>{o&&d?this.gl2.drawElementsInstanced(i,l,c,r,u):o&&Me(this.gl)&&!isNaN(a)&&!isNaN(s)?this.gl2.drawRangeElements(i,a,s,l,c,r):o?this.gl.drawElements(i,l,c,r):d?this.gl2.drawArraysInstanced(i,r,l,u):this.gl.drawArrays(i,r,l)}),h&&h.end()}),!0)}setUniforms(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};be.priority>=2&&K7(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const n in e){const i=e[n],l=this._uniformSetters[n];if(l){let r=i,a=!1;if(r instanceof Wt&&(r=r.texture),r instanceof Ba)if(a=this.uniforms[n]!==i,a){l.textureIndex===void 0&&(l.textureIndex=this._textureIndexCounter++);const s=r,{textureIndex:o}=l;s.bind(o),r=o,this._textureUniforms[n]=s}else r=l.textureIndex;else this._textureUniforms[n]&&delete this._textureUniforms[n];(l(r)||a)&&P7(this.uniforms,n,i)}}return this}_areTexturesRenderable(){let e=!0;for(const n in this._textureUniforms){const i=this._textureUniforms[n];i.update(),e=e&&i.loaded}return e}_bindTextures(){for(const e in this._textureUniforms){const n=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(n)}}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const n=this.gl.getAttachedShaders(e),i={};for(const l of n)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:i.vs=new Uf({handle:l});break;case 35632:i.fs=new Pf({handle:l});break}return i}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const n=this._getName();this.id=zr(n)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),be.time(wS,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),be.timeEnd(wS,"linkProgram for ".concat(this._getName()))(),e.debug||be.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let n=0;n<this._uniformCount;n++){const i=this.gl.getActiveUniform(this.handle,n),{name:l}=E7(i.name);let r=e.getUniformLocation(this.handle,l);if(this._uniformSetters[l]=NS(e,r,i),i.size>1)for(let a=0;a<i.size;a++)r=e.getUniformLocation(this.handle,"".concat(l,"[").concat(a,"]")),this._uniformSetters["".concat(l,"[").concat(a,"]")]=NS(e,r,i)}this._textureIndexCounter=0}getActiveUniforms(e,n){return this.gl2.getActiveUniforms(this.handle,e,n)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,n){return this.gl2.getActiveUniformBlockParameter(this.handle,e,n)}uniformBlockBinding(e,n){this.gl2.uniformBlockBinding(this.handle,e,n)}}const V6=34918,T6=34919,x6=35007,R6=36795,S6=35976,Y6=35887,L6=36202;class hp extends jl{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=Me(e),l=_W(e,et.TIMER_QUERY);let r=i||l;for(const a of n)switch(a){case"queries":r=r&&i;break;case"timers":r=r&&l;break;default:ae(!1)}return r}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(x6)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.begin(e?L6:Y6)}beginTransformFeedbackQuery(){return this.begin(S6)}begin(e){return this._queryPending?this:(this.target=e,this.gl2.beginQuery(this.target,this.handle),this)}end(){return this._queryPending?this:(this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this)}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,T6);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(R6)}getResult(){return this.gl2.getQueryParameter(this.handle,V6)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let n=0;return this._pollingPromise=new Promise((i,l)=>{const r=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):n++>e?(l("Timed out"),this._pollingPromise=null):requestAnimationFrame(r)};requestAnimationFrame(r)}),this._pollingPromise}_createHandle(){return hp.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}class E3 extends jl{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return Me(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};kt(e),super(e,n),this.initialize(n),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,zo(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.bind(()=>{for(const n in e)this.setBuffer(n,e[n])}),this}setBuffer(e,n){const i=this._getVaryingIndex(e),{buffer:l,byteSize:r,byteOffset:a}=this._getBufferParams(n);return i<0?(this.unused[e]=l,be.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[i]=n,this.bindOnUse||this._bindBuffer(i,l,a,r),this)}begin(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let n,i,l;return e instanceof ze?l=e:(l=e.buffer,i=e.byteSize,n=e.byteOffset),(n!==void 0||i!==void 0)&&(n=n||0,i=i||l.byteLength-n),{buffer:l,byteOffset:n,byteSize:i}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const n=Number(e);return Number.isFinite(n)?n:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:n,byteSize:i,byteOffset:l}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,n,l,i)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3?arguments[3]:void 0;const r=n&&n.handle;return!r||l===void 0?this.gl.bindBufferBase(35982,e,r):this.gl.bindBufferRange(35982,e,r,i,l),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}let ah=null;function M6(t){return(!ah||ah.byteLength<t)&&(ah=new ArrayBuffer(t)),ah}function N6(t,e){const n=M6(t.BYTES_PER_ELEMENT*e);return new t(n,0,e)}function v6(t){let{target:e,source:n,start:i=0,count:l=1}=t;const r=n.length,a=l*r;let s=0;for(let o=i;s<r;s++)e[o++]=n[s];for(;s<a;)s<a-s?(e.copyWithin(i+s,i,i+s),s*=2):(e.copyWithin(i+s,i,i+a-s),s=a);return e}const I6="elements must be GL.ELEMENT_ARRAY_BUFFER";class mn extends jl{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).constantAttributeZero?Me(e)||i3()==="Chrome":!0}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new mn(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return mn.MAX_ATTRIBUTES=mn.MAX_ATTRIBUTES||e.getParameter(34921),mn.MAX_ATTRIBUTES}static setConstant(e,n,i){switch(i.constructor){case Float32Array:mn._setConstantFloatArray(e,n,i);break;case Int32Array:mn._setConstantIntArray(e,n,i);break;case Uint32Array:mn._setConstantUintArray(e,n,i);break;default:ae(!1)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=n.id||n.program&&n.program.id;super(e,Object.assign({},n,{id:i})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=n.isDefaultArray||!1,this.gl2=e,this.initialize(n),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return mn.getMaxAttributes(this.gl)}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.setProps(e)}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return ae(!e||e.target===34963,I6),this.bind(()=>{this.gl.bindBuffer(34963,e?e.handle:null)}),this}setBuffer(e,n,i){if(n.target===34963)return this.setElementBuffer(n,i);const{size:l,type:r,stride:a,offset:s,normalized:o,integer:c,divisor:u}=i,{gl:d,gl2:m}=this;return e=Number(e),this.bind(()=>{d.bindBuffer(34962,n.handle),c?(ae(Me(d)),m.vertexAttribIPointer(e,l,r,a,s)):d.vertexAttribPointer(e,l,r,o,a,s),d.enableVertexAttribArray(e),m.vertexAttribDivisor(e,u||0)}),this}enable(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return!n&&e===0&&!mn.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind(()=>n?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e))),this}getConstantBuffer(e,n){const i=this._normalizeConstantArrayValue(n),l=i.byteLength*e,r=i.length*e;let a=!this.buffer;if(this.buffer=this.buffer||new ze(this.gl,l),a=a||this.buffer.reallocate(l),a=a||!this._compareConstantArrayValues(i,this.bufferValue),a){const s=N6(n.constructor,r);v6({target:s,source:i,start:0,count:r}),this.buffer.subData(s),this.bufferValue=n}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,n){if(!e||!n||e.length!==n.length||e.constructor!==n.constructor)return!1;for(let i=0;i<e.length;++i)if(e[i]!==n[i])return!1;return!0}static _setConstantFloatArray(e,n,i){switch(i.length){case 1:e.vertexAttrib1fv(n,i);break;case 2:e.vertexAttrib2fv(n,i);break;case 3:e.vertexAttrib3fv(n,i);break;case 4:e.vertexAttrib4fv(n,i);break;default:ae(!1)}}static _setConstantIntArray(e,n,i){switch(ae(Me(e)),i.length){case 1:e.vertexAttribI1iv(n,i);break;case 2:e.vertexAttribI2iv(n,i);break;case 3:e.vertexAttribI3iv(n,i);break;case 4:e.vertexAttribI4iv(n,i);break;default:ae(!1)}}static _setConstantUintArray(e,n,i){switch(ae(Me(e)),i.length){case 1:e.vertexAttribI1uiv(n,i);break;case 2:e.vertexAttribI2uiv(n,i);break;case 3:e.vertexAttribI3uiv(n,i);break;case 4:e.vertexAttribI4uiv(n,i);break;default:ae(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,n){let{location:i}=n;return ae(Number.isFinite(i)),this.bind(()=>{switch(e){case 34373:return this.gl.getVertexAttribOffset(i,e);default:return this.gl.getVertexAttrib(i,e)}})}}const w6="VertexArray: attributes must be Buffers or constants (i.e. typed array)",J6=/^(.+)__LOCATION_([0-9]+)$/,C6=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class k6{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=n.id||n.program&&n.program.id;this.id=i,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new mn(e),T3(this,"VertexArray","v6.0",C6),this.initialize(n),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind(()=>{for(const n in e){const i=e[n];this._setAttribute(n,i)}this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.elements=e,this.elementsAccessor=n,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,n),this}setBuffer(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.target===34963)return this.setElementBuffer(n,i);const{location:l,accessor:r}=this._resolveLocationAndAccessor(e,n,n.accessor,i);return l>=0&&(this.values[l]=n,this.accessors[l]=r,this.clearDrawParams(),this.vertexArrayObject.setBuffer(l,n,r)),this}setConstant(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{location:l,accessor:r}=this._resolveLocationAndAccessor(e,n,Object.assign({size:n.length},i));return l>=0&&(n=this.vertexArrayObject._normalizeConstantArrayValue(n),this.values[l]=n,this.accessors[l]=r,this.clearDrawParams(),this.vertexArrayObject.enable(l,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new ze(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof ze&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const n=this.values[e];n instanceof ze&&this.setBuffer(e,n)}}),this}bindForDraw(e,n,i){let l;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(e,n),l=i()}),l}_resolveLocationAndAccessor(e,n,i,l){const r={location:-1,accessor:null},{location:a,name:s}=this._getAttributeIndex(e);if(!Number.isFinite(a)||a<0)return this.unused[e]=n,be.once(3,()=>"unused value ".concat(e," in ").concat(this.id))(),r;const o=this._getAttributeInfo(s||a);if(!o)return r;const c=this.accessors[a]||{},u=bn.resolve(o.accessor,c,i,l),{size:d,type:m}=u;return ae(Number.isFinite(d)&&Number.isFinite(m)),{location:a,accessor:u}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const n=Number(e);if(Number.isFinite(n))return{location:n};const i=J6.exec(e),l=i?i[1]:e,r=i?Number(i[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(l)+r,name:l}:{location:-1}}_setAttribute(e,n){if(n instanceof ze)this.setBuffer(e,n);else if(Array.isArray(n)&&n.length&&n[0]instanceof ze){const i=n[0],l=n[1];this.setBuffer(e,i,l)}else if(ArrayBuffer.isView(n)||Array.isArray(n)){const i=n;this.setConstant(e,i)}else if(n.buffer instanceof ze){const i=n;this.setBuffer(e,i.buffer,i)}else throw new Error(w6)}_setConstantAttributes(e,n){const i=Math.max(e|0,n|0);let l=this.values[0];ArrayBuffer.isView(l)&&this._setConstantAttributeZero(l,i);for(let r=1;r<this.vertexArrayObject.MAX_ATTRIBUTES;r++)l=this.values[r],ArrayBuffer.isView(l)&&this._setConstantAttribute(r,l)}_setConstantAttributeZero(e,n){if(mn.isSupported(this.gl,{constantAttributeZero:!0})){this._setConstantAttribute(0,e);return}const i=this.vertexArrayObject.getConstantBuffer(n,e);this.vertexArrayObject.setBuffer(0,i,this.accessors[0])}_setConstantAttribute(e,n){mn.setConstant(this.gl,e,n)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let n=0;n<this.vertexArrayObject.MAX_ATTRIBUTES;n++)this._updateDrawParamsForLocation(e,n);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,n){const i=this.values[n],l=this.accessors[n];if(!i)return;const{divisor:r}=l,a=r>0;if(e.isInstanced=e.isInstanced||a,i instanceof ze){const s=i;if(a){const o=s.getVertexCount(l);e.instanceCount=Math.min(e.instanceCount,o)}else{const o=s.getVertexCount(l);e.vertexCount=Math.min(e.vertexCount,o)}}}setElements(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return be.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,n)}}function E6(t,e){const{maxElts:n=16,size:i=1}=e;let l="[";for(let a=0;a<t.length&&a<n;++a)a>0&&(l+=",".concat(a%i===0?" ":"")),l+=Rd(t[a],e);const r=t.length>n?"...":"]";return"".concat(l).concat(r)}function Rd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=1e-16,{isInteger:i=!1}=e;if(Array.isArray(t)||ArrayBuffer.isView(t))return E6(t,e);if(!Number.isFinite(t))return String(t);if(Math.abs(t)<n)return i?"0":"0.";if(i||Math.abs(t)>100&&Math.abs(t)<1e4)return t.toFixed(0);const l=t.toPrecision(2);return l.indexOf(".0")===l.length-2?l.slice(0,-1):l}function JS(t){let{header:e="Uniforms",program:n,uniforms:i,undefinedOnly:l=!1}=t;ae(n);const r=".*_.*",a=".*Matrix",s=n._uniformSetters,o={},c=Object.keys(s).sort();let u=0;for(const h of c)!h.match(r)&&!h.match(a)&&Ff({table:o,header:e,uniforms:i,uniformName:h,undefinedOnly:l})&&u++;for(const h of c)h.match(a)&&Ff({table:o,header:e,uniforms:i,uniformName:h,undefinedOnly:l})&&u++;for(const h of c)o[h]||Ff({table:o,header:e,uniforms:i,uniformName:h,undefinedOnly:l})&&u++;let d=0;const m={};if(!l)for(const h in i){const b=i[h];o[h]||(d++,m[h]={Type:"NOT USED: ".concat(b),[e]:Rd(b)})}return{table:o,count:u,unusedTable:m,unusedCount:d}}function Ff(t){let{table:e,header:n,uniforms:i,uniformName:l,undefinedOnly:r}=t;const a=i[l],s=K6(a);return!r||!s?(e[l]={[n]:s?Rd(a):"N/A","Uniform Type":s?a:"NOT PROVIDED"},!0):!1}function K6(t){return t!=null}function U6(t){let{vertexArray:e,header:n="Attributes"}=t;if(!e.configuration)return{};const i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=CS(e,e.elements,null,n));const l=e.values;for(const r in l){const a=e._getAttributeInfo(r);if(a){let s="".concat(r,": ").concat(a.name);const o=e.accessors[a.location];o&&(s="".concat(r,": ").concat(P6(a.name,o))),i[s]=CS(e,l[r],o,n)}}return i}function CS(t,e,n,i){const{gl:l}=t;if(!e)return{[i]:"null","Format ":"N/A"};let r="NOT PROVIDED",a=1,s=0,o=0,c,u,d;if(n&&(r=n.type,a=n.size,r=String(r).replace("Array",""),c=r.indexOf("nt")!==-1),e instanceof ze){const m=e,{data:h,changed:b}=m.getDebugData();u=b?"*":"",d=h,o=m.byteLength,s=o/h.BYTES_PER_ELEMENT/a;let Z;if(n){const p=n.divisor>0;Z="".concat(p?"I ":"P "," ").concat(s," (x").concat(a,"=").concat(o," bytes ").concat(Lr(l,r),")")}else c=!0,Z="".concat(o," bytes");return{[i]:"".concat(u).concat(Rd(d,{size:a,isInteger:c})),"Format ":Z}}return d=e,a=e.length,r=String(e.constructor.name).replace("Array",""),c=r.indexOf("nt")!==-1,{[i]:"".concat(Rd(d,{size:a,isInteger:c})," (constant)"),"Format ":"".concat(a,"x").concat(r," (constant)")}}function P6(t,e){const{type:n,size:i}=e,l=C3(n,i);return l?"".concat(t," (").concat(l.name,")"):t}function F6(t){const e={},n="Accessors for ".concat(t.id);for(const i of t.attributeInfos)if(i){const l=kS(i);e["in ".concat(l)]={[n]:JSON.stringify(i.accessor)}}for(const i of t.varyingInfos)if(i){const l=kS(i);e["out ".concat(l)]={[n]:JSON.stringify(i.accessor)}}return e}function kS(t){const{type:e,size:n}=t.accessor,i=C3(e,n);return i?"".concat(i.name," ").concat(t.name):t.name}const ES=xi()&&typeof document<"u";let z6=0;class j6{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{onCreateContext:n=p=>V3(p),onAddHTML:i=null,onInitialize:l=()=>{},onRender:r=()=>{},onFinalize:a=()=>{},onError:s,gl:o=null,glOptions:c={},debug:u=!1,createFramebuffer:d=!1,autoResizeViewport:m=!0,autoResizeDrawingBuffer:h=!0,stats:b=Ra.get("animation-loop-".concat(z6++))}=e;let{useDevicePixels:Z=!0}=e;"useDevicePixelRatio"in e&&(be.deprecated("useDevicePixelRatio","useDevicePixels")(),Z=e.useDevicePixelRatio),this.props={onCreateContext:n,onAddHTML:i,onInitialize:l,onRender:r,onFinalize:a,onError:s,gl:o,glOptions:c,debug:u,createFramebuffer:d},this.gl=o,this.needsRedraw=null,this.timeline=null,this.stats=b,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:m,autoResizeDrawingBuffer:h,useDevicePixels:Z}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return ae(typeof e=="string"),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._running)return this;this._running=!0;const n=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=hp.isSupported(this.gl,["timers"])?new hp(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(i=>{this._running&&(this._addCallbackData(i||{}),i!==!1&&this._startLoop())});return this.props.onError&&n.catch(this.props.onError),this}redraw(){return this.isContextLost()?this:(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this)}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const i=document.getElementById(e);return i?Number(i.value):n}setViewParameters(){return be.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=ES?new Promise((e,n)=>{if(ES&&document.readyState==="complete"){e(document);return}window.addEventListener("load",()=>{e(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):_8(e)}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):A8(e)}_renderFrame(){if(this.display){this.display._renderFrame(...arguments);return}this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:n,aspect:i}=this._getSizeAndAspect();(e!==this.animationProps.width||n!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),i!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=n,this.animationProps.aspect=i,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){typeof e=="object"&&e!==null&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&typeof OffscreenCanvas<"u"&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?BW(this.props.gl,e):this.onCreateContext(e),!PZ(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");k8(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const n=document.createElement("div");n.style.position="absolute",n.style.left="10px",n.style.bottom="10px",n.style.width="300px",n.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(n);const i=this.props.onAddHTML(n);i&&(n.innerHTML=i)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,n=this.gl.drawingBufferHeight;let i=1;const{canvas:l}=this.gl;return l&&l.clientHeight?i=l.clientWidth/l.clientHeight:e>0&&n>0&&(i=e/n),{width:e,height:n,aspect:i}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&F8(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new Wt(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}const am="vs",qW="fs";function xn(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}const zf={number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},array:{validate(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function H6(t){const e={};for(const n in t){const i=t[n],l=D6(i);e[n]=l}return e}function D6(t){let e=KS(t);return e==="object"?t?"type"in t?Object.assign({},t,zf[t.type]):"value"in t?(e=KS(t.value),Object.assign({type:e},t,zf[e])):{type:"object",value:t}:{type:"object",value:null}:Object.assign({type:e,value:t},zf[e])}function KS(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}const O6="vs",B6="fs";class US{constructor(e){let{name:n,vs:i,fs:l,dependencies:r=[],uniforms:a,getUniforms:s,deprecations:o=[],defines:c={},inject:u={},vertexShader:d,fragmentShader:m}=e;xn(typeof n=="string"),this.name=n,this.vs=i||d,this.fs=l||m,this.getModuleUniforms=s,this.dependencies=r,this.deprecations=this._parseDeprecationDefinitions(o),this.defines=c,this.injections=Q6(u),a&&(this.uniforms=H6(a))}getModuleSource(e){let n;switch(e){case O6:n=this.vs||"";break;case B6:n=this.fs||"";break;default:xn(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),`
`).concat(n,"// END MODULE_").concat(this.name,`

`)}getUniforms(e,n){return this.getModuleUniforms?this.getModuleUniforms(e,n):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,n){this.deprecations.forEach(i=>{i.regex.test(e)&&(i.deprecated?n.deprecated(i.old,i.new)():n.removed(i.old,i.new)())})}_parseDeprecationDefinitions(e){return e.forEach(n=>{switch(n.type){case"function":n.regex=new RegExp("\\b".concat(n.old,"\\("));break;default:n.regex=new RegExp("".concat(n.type," ").concat(n.old,";"))}}),e}_defaultGetUniforms(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={},i=this.uniforms;for(const l in i){const r=i[l];l in e&&!r.private?(r.validate&&xn(r.validate(e[l],r),"".concat(this.name,": invalid ").concat(l)),n[l]=e[l]):n[l]=r.value}return n}}function Q6(t){const e={vs:{},fs:{}};for(const n in t){let i=t[n];const l=n.slice(0,2);typeof i=="string"&&(i={order:0,injection:i}),e[l][n]=i}return e}function A6(t){return _6(U3(t))}function _6(t){const e={},n={};return K3({modules:t,level:0,moduleMap:e,moduleDepth:n}),Object.keys(n).sort((i,l)=>n[l]-n[i]).map(i=>e[i])}function K3(t){let{modules:e,level:n,moduleMap:i,moduleDepth:l}=t;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const r of e)i[r.name]=r,(l[r.name]===void 0||l[r.name]<n)&&(l[r.name]=n);for(const r of e)r.dependencies&&K3({modules:r.dependencies,level:n+1,moduleMap:i,moduleDepth:l})}function U3(t,e){return t.map(n=>(n instanceof US||(xn(typeof n!="string","Shader module use by name is deprecated. Import shader module '".concat(n,"' and use it directly.")),xn(n.name,"shader module has no name"),n=new US(n),n.dependencies=U3(n.dependencies)),n))}function $6(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=typeof window<"u"?window.navigator||{}:{},n=t.userAgent||e.userAgent||"",i=n.indexOf("MSIE ")!==-1,l=n.indexOf("Trident/")!==-1;return i||l}const q6=7936,e$=7937,t$=7938,n$=35724,eV={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},da={};Object.keys(eV).forEach(t=>{da[t]=t});function i$(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&t._version===2)}function l$(t){const e=t.getExtension("WEBGL_debug_renderer_info"),n=t.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||q6),i=t.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||e$);return{gpuVendor:r$(n,i),vendor:n,renderer:i,version:t.getParameter(t$),shadingLanguageVersion:t.getParameter(n$)}}function r$(t,e){return t.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":t.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":t.match(/AMD/i)||e.match(/AMD/i)||t.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}const jf={};function PS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=eV[e];if(xn(i,e),!$6(n))return!0;if(e in jf)return jf[e];const l=i[0],r=n.behavior||"enable",a="#extension GL_".concat(l," : ").concat(r,`
void main(void) {}`),s=t.createShader(35633);t.shaderSource(s,a),t.compileShader(s);const o=t.getShaderParameter(s,35713);return t.deleteShader(s),jf[e]=o,o}function a$(t,e){const n=eV[e];xn(n,e);const i=i$(t)&&n[1]||n[0],l=typeof i=="string"?!!t.getExtension(i):i;return xn(l===!1||l===!0),l}function sh(t,e){return e=Array.isArray(e)?e:[e],e.every(n=>a$(t,n))}function s$(t){switch(l$(t).gpuVendor.toLowerCase()){case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function o$(t,e,n){let i=`#if (__VERSION__ > 120)

# define FEATURE_GLSL_DERIVATIVES
# define FEATURE_GLSL_DRAW_BUFFERS
# define FEATURE_GLSL_FRAG_DEPTH
# define FEATURE_GLSL_TEXTURE_LOD

// DEPRECATED FLAGS, remove in v9
# define FRAG_DEPTH
# define DERIVATIVES
# define DRAW_BUFFERS
# define TEXTURE_LOD

#endif // __VERSION
`;return sh(t,da.GLSL_FRAG_DEPTH)&&(i+=`
// FRAG_DEPTH => gl_FragDepth is available
#ifdef GL_EXT_frag_depth
#extension GL_EXT_frag_depth : enable
# define FEATURE_GLSL_FRAG_DEPTH
# define FRAG_DEPTH
# define gl_FragDepth gl_FragDepthEXT
#endif
`),sh(t,da.GLSL_DERIVATIVES)&&PS(t,da.GLSL_DERIVATIVES)&&(i+=`
// DERIVATIVES => dxdF, dxdY and fwidth are available
#ifdef GL_OES_standard_derivatives
#extension GL_OES_standard_derivatives : enable
# define FEATURE_GLSL_DERIVATIVES
# define DERIVATIVES
#endif
`),sh(t,da.GLSL_FRAG_DATA)&&PS(t,da.GLSL_FRAG_DATA,{behavior:"require"})&&(i+=`
// DRAW_BUFFERS => gl_FragData[] is available
#ifdef GL_EXT_draw_buffers
#extension GL_EXT_draw_buffers : require
#define FEATURE_GLSL_DRAW_BUFFERS
#define DRAW_BUFFERS
#endif
`),sh(t,da.GLSL_TEXTURE_LOD)&&(i+=`// TEXTURE_LOD => texture2DLod etc are available
#ifdef GL_EXT_shader_texture_lod
#extension GL_EXT_shader_texture_lod : enable

# define FEATURE_GLSL_TEXTURE_LOD
# define TEXTURE_LOD

#endif
`),i}const c$=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,u$=`#ifdef MODULE_MATERIAL
  gl_FragColor = material_filterColor(gl_FragColor);
#endif

#ifdef MODULE_LIGHTING
  gl_FragColor = lighting_filterColor(gl_FragColor);
#endif

#ifdef MODULE_FOG
  gl_FragColor = fog_filterColor(gl_FragColor);
#endif

#ifdef MODULE_PICKING
  gl_FragColor = picking_filterHighlightColor(gl_FragColor);
  gl_FragColor = picking_filterPickingColor(gl_FragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,d$={[am]:c$,[qW]:u$},ob="__LUMA_INJECT_DECLARATIONS__",FS=/void\s+main\s*\([^)]*\)\s*\{\n?/,zS=/}\n?[^{}]*$/,Hf=[];function jS(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const l=e===am;for(const r in n){const a=n[r];a.sort((o,c)=>o.order-c.order),Hf.length=a.length;for(let o=0,c=a.length;o<c;++o)Hf[o]=a[o].injection;const s="".concat(Hf.join(`
`),`
`);switch(r){case"vs:#decl":l&&(t=t.replace(ob,s));break;case"vs:#main-start":l&&(t=t.replace(FS,o=>o+s));break;case"vs:#main-end":l&&(t=t.replace(zS,o=>s+o));break;case"fs:#decl":l||(t=t.replace(ob,s));break;case"fs:#main-start":l||(t=t.replace(FS,o=>o+s));break;case"fs:#main-end":l||(t=t.replace(zS,o=>s+o));break;default:t=t.replace(r,o=>o+s)}}return t=t.replace(ob,""),i&&(t=t.replace(/\}\s*$/,r=>r+d$[e])),t}function IX(t){const e={};return xn(Array.isArray(t)&&t.length>1),t.forEach(n=>{for(const i in n)e[i]=e[i]?"".concat(e[i],`
`).concat(n[i]):n[i]}),e}function jo(t){return new RegExp("\\b".concat(t,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const P3=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],m$=[...P3,[jo("attribute"),"in $1"],[jo("varying"),"out $1"]],h$=[...P3,[jo("varying"),"in $1"]],F3=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],b$=[...F3,[jo("in"),"attribute $1"],[jo("out"),"varying $1"]],p$=[...F3,[jo("in"),"varying $1"]],wX="gl_FragColor",JX=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,Z$=/void\s+main\s*\([^)]*\)\s*\{\n?/;function f$(t,e,n){switch(e){case 300:return n?bp(t,m$):y$(t);case 100:return n?bp(t,b$):G$(t);default:throw new Error("unknown GLSL version ".concat(e))}}function bp(t,e){for(const[n,i]of e)t=t.replace(n,i);return t}function y$(t){t=bp(t,h$);const e=t.match(JX);if(e){const n=e[1];t=t.replace(new RegExp("\\b".concat(wX,"\\b"),"g"),n)}else{const n="fragmentColor";t=t.replace(Z$,i=>"out vec4 ".concat(n,`;
`).concat(i)).replace(new RegExp("\\b".concat(wX,"\\b"),"g"),n)}return t}function G$(t){t=bp(t,p$);const e=t.match(JX);if(e){const n=e[1];t=t.replace(JX,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),wX)}return t}const X$=`

`.concat(ob,`

`),z3={[am]:"vertex",[qW]:"fragment"},g$=`precision highp float;

`;function W$(t,e){const{vs:n,fs:i}=e,l=A6(e.modules||[]);return{gl:t,vs:HS(t,Object.assign({},e,{source:n,type:am,modules:l})),fs:HS(t,Object.assign({},e,{source:i,type:qW,modules:l})),getUniforms:V$(l)}}function HS(t,e){let{id:n,source:i,type:l,modules:r,defines:a={},hookFunctions:s=[],inject:o={},transpileToGLSL100:c=!1,prologue:u=!0,log:d}=e;xn(typeof i=="string","shader source must be a string");const m=l===am,h=i.split(`
`);let b=100,Z="",p=i;h[0].indexOf("#version ")===0?(b=300,Z=h[0],p=h.slice(1).join(`
`)):Z="#version ".concat(b);const f={};r.forEach(v=>{Object.assign(f,v.getDefines())}),Object.assign(f,a);let G=u?"".concat(Z,`
`).concat(x$({id:n,source:i,type:l}),`
`).concat(T$({type:l}),`
`).concat(s$(t),`
`).concat(o$(t),`
`).concat(R$(f),`
`).concat(m?"":g$,`
`):"".concat(Z,`
`);const V=Y$(s),X={},L={},x={};for(const v in o){const C=typeof o[v]=="string"?{injection:o[v],order:0}:o[v],w=v.match(/^(v|f)s:(#)?([\w-]+)$/);if(w){const z=w[2],$=w[3];z?$==="decl"?L[v]=[C]:x[v]=[C]:X[v]=[C]}else x[v]=[C]}for(const v of r){d&&v.checkDeprecations(p,d);const C=v.getModuleSource(l,b);G+=C;const w=v.injections[l];for(const z in w){const $=z.match(/^(v|f)s:#([\w-]+)$/);if($){const D=$[2]==="decl"?L:x;D[z]=D[z]||[],D[z].push(w[z])}else X[z]=X[z]||[],X[z].push(w[z])}}return G+=X$,G=jS(G,l,L),G+=S$(V[l],X),G+=p,G=jS(G,l,x),G=f$(G,c?100:b,m),G}function V$(t){return function(n){const i={};for(const l of t){const r=l.getUniforms(n,i);Object.assign(i,r)}return i}}function T$(t){let{type:e}=t;return`
#define SHADER_TYPE_`.concat(z3[e].toUpperCase(),`
`)}function x$(t){let{id:e,source:n,type:i}=t;return e&&typeof e=="string"&&n.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME `.concat(e,"_").concat(z3[i],`

`):""}function R$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=0,n="";for(const i in t){e===0&&(n+=`
// APPLICATION DEFINES
`),e++;const l=t[i];(l||Number.isFinite(l))&&(n+="#define ".concat(i.toUpperCase()," ").concat(t[i],`
`))}return e===0&&(n+=`
`),n}function S$(t,e){let n="";for(const i in t){const l=t[i];if(n+="void ".concat(l.signature,` {
`),l.header&&(n+="  ".concat(l.header)),e[i]){const r=e[i];r.sort((a,s)=>a.order-s.order);for(const a of r)n+="  ".concat(a.injection,`
`)}l.footer&&(n+="  ".concat(l.footer)),n+=`}
`}return n}function Y$(t){const e={vs:{},fs:{}};return t.forEach(n=>{let i;typeof n!="string"?(i=n,n=i.hook):i={},n=n.trim();const[l,r]=n.split(":"),a=n.replace(/\(.+/,"");e[l][a]=Object.assign(i,{signature:r})}),e}const L$="void main() {gl_FragColor = vec4(0);}",j3=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,M$=`#version 300 es
`.concat(j3);function H3(t,e){e=Array.isArray(e)?e:[e];const n=t.replace(/^\s+/,"").split(/\s+/),[i,l,r]=n;if(!e.includes(i)||!l||!r)return null;const a=r.split(";")[0];return{qualifier:i,type:l,name:a}}function D3(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{version:e=100,input:n,inputType:i,output:l}=t;if(!n)return e===300?M$:e>300?"#version ".concat(e,`
`).concat(j3):L$;const r=I$(n,i);return e>=300?"#version ".concat(e," ").concat(e===300?"es":"",`
in `).concat(i," ").concat(n,`;
out vec4 `).concat(l,`;
void main() {
  `).concat(l," = ").concat(r,`;
}`):"varying ".concat(i," ").concat(n,`;
void main() {
  gl_FragColor = `).concat(r,`;
}`)}function N$(t){switch(t){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return xn(!1),null}}function v$(t){switch(t){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return xn(!1),null}}function I$(t,e){switch(e){case"float":return"vec4(".concat(t,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(t,", 0.0, 1.0)");case"vec3":return"vec4(".concat(t,", 1.0)");case"vec4":return t;default:return xn(!1),null}}const w$=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,J$={name:"fp32",vs:w$,fs:null};function DS(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}const Xn={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function C$(t,{precision:e=Xn.precision}={}){return t=k$(t),"".concat(parseFloat(t.toPrecision(e)))}function Ho(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pn(t,e,n){return K$(t,i=>Math.max(e,Math.min(n,i)))}function pp(t,e,n){return Ho(t)?t.map((i,l)=>pp(i,e[l],n)):n*e+(1-n)*t}function Sd(t,e,n){const i=Xn.EPSILON;n&&(Xn.EPSILON=n);try{if(t===e)return!0;if(Ho(t)&&Ho(e)){if(t.length!==e.length)return!1;for(let l=0;l<t.length;++l)if(!Sd(t[l],e[l]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=Xn.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{Xn.EPSILON=i}}function k$(t){return Math.round(t/Xn.EPSILON)*Xn.EPSILON}function E$(t){return t.clone?t.clone():new Array(t.length)}function K$(t,e,n){if(Ho(t)){const i=t;n=n||E$(i);for(let l=0;l<n.length&&l<i.length;++l)n[l]=e(t[l],l,n);return n}return e(t)}function U$(t){function e(){var n=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(n,Object.getPrototypeOf(this)),n}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}class O3 extends U$(Array){clone(){return new this.constructor().copy(this)}fromArray(e,n=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+n];return this.check()}toArray(e=[],n=0){for(let i=0;i<this.ELEMENTS;++i)e[n+i]=this[i];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:Ho(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Xn)}formatString(e){let n="";for(let i=0;i<this.ELEMENTS;++i)n+=(i>0?", ":"")+C$(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(n,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!Sd(this[n],e[n]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==e[n])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,n,i){if(i===void 0)return this.lerp(this,e,n);for(let l=0;l<this.ELEMENTS;++l){const r=e[l];this[l]=r+i*(n[l]-r)}return this.check()}min(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(e[n],this[n]);return this.check()}max(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(e[n],this[n]);return this.check()}clamp(e,n){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),n[i]);return this.check()}add(...e){for(const n of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=n[i];return this.check()}subtract(...e){for(const n of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=n[i];return this.check()}scale(e){if(typeof e=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;else for(let n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}multiplyByScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}check(){if(Xn.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(this[n]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=e;return this.check()}addScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,n){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),n);return this.check()}get elements(){return this}}function P$(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function hn(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function Df(t,e,n=""){if(Xn.debug&&!P$(t,e))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return t}class F$ extends O3{get x(){return this[0]}set x(e){this[0]=hn(e)}get y(){return this[1]}set y(e){this[1]=hn(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*this[n];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let n=0;for(let i=0;i<this.ELEMENTS;++i){const l=this[i]-e[i];n+=l*l}return hn(n)}dot(e){let n=0;for(let i=0;i<this.ELEMENTS;++i)n+=this[i]*e[i];return hn(n)}normalize(){const e=this.magnitude();if(e!==0)for(let n=0;n<this.ELEMENTS;++n)this[n]/=e;return this.check()}multiply(...e){for(const n of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=n[i];return this.check()}divide(...e){for(const n of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=n[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return DS(e>=0&&e<this.ELEMENTS,"index is out of range"),hn(this[e])}setComponent(e,n){return DS(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=n,this.check()}addVectors(e,n){return this.copy(e).add(n)}subVectors(e,n){return this.copy(e).subtract(n)}multiplyVectors(e,n){return this.copy(e).multiply(n)}addScaledVector(e,n){return this.add(new this.constructor(e).multiplyScalar(n))}}var cb=1e-6,Do=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function z$(){var t=new Do(2);return Do!=Float32Array&&(t[0]=0,t[1]=0),t}function Zp(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function B3(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Q3(t,e,n,i){var l=e[0],r=e[1];return t[0]=l+i*(n[0]-l),t[1]=r+i*(n[1]-r),t}function j$(t,e,n){var i=e[0],l=e[1];return t[0]=n[0]*i+n[4]*l+n[12],t[1]=n[1]*i+n[5]*l+n[13],t}(function(){var t=z$();return function(e,n,i,l,r,a){var s,o;for(n||(n=2),i||(i=0),l?o=Math.min(l*n+i,e.length):o=e.length,s=i;s<o;s+=n)t[0]=e[s],t[1]=e[s+1],r(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}})();function H$(t,e,n){const i=e[0],l=e[1],r=n[3]*i+n[7]*l||1;return t[0]=(n[0]*i+n[4]*l)/r,t[1]=(n[1]*i+n[5]*l)/r,t}function A3(t,e,n){const i=e[0],l=e[1],r=e[2],a=n[3]*i+n[7]*l+n[11]*r||1;return t[0]=(n[0]*i+n[4]*l+n[8]*r)/a,t[1]=(n[1]*i+n[5]*l+n[9]*r)/a,t[2]=(n[2]*i+n[6]*l+n[10]*r)/a,t}function D$(t,e,n){const i=e[0],l=e[1];return t[0]=n[0]*i+n[2]*l,t[1]=n[1]*i+n[3]*l,t[2]=e[2],t}function O$(){var t=new Do(3);return Do!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function B$(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Q$(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function A$(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _$(t,e,n){var i=e[0],l=e[1],r=e[2],a=n[0],s=n[1],o=n[2];return t[0]=l*o-r*s,t[1]=r*a-i*o,t[2]=i*s-l*a,t}function _3(t,e,n){var i=e[0],l=e[1],r=e[2],a=n[3]*i+n[7]*l+n[11]*r+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*l+n[8]*r+n[12])/a,t[1]=(n[1]*i+n[5]*l+n[9]*r+n[13])/a,t[2]=(n[2]*i+n[6]*l+n[10]*r+n[14])/a,t}function $$(t,e,n){var i=e[0],l=e[1],r=e[2];return t[0]=i*n[0]+l*n[3]+r*n[6],t[1]=i*n[1]+l*n[4]+r*n[7],t[2]=i*n[2]+l*n[5]+r*n[8],t}function q$(t,e,n){var i=n[0],l=n[1],r=n[2],a=n[3],s=e[0],o=e[1],c=e[2],u=l*c-r*o,d=r*s-i*c,m=i*o-l*s,h=l*m-r*d,b=r*u-i*m,Z=i*d-l*u,p=a*2;return u*=p,d*=p,m*=p,h*=2,b*=2,Z*=2,t[0]=s+u+h,t[1]=o+d+b,t[2]=c+m+Z,t}function eq(t,e,n,i){var l=[],r=[];return l[0]=e[0]-n[0],l[1]=e[1]-n[1],l[2]=e[2]-n[2],r[0]=l[0],r[1]=l[1]*Math.cos(i)-l[2]*Math.sin(i),r[2]=l[1]*Math.sin(i)+l[2]*Math.cos(i),t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function tq(t,e,n,i){var l=[],r=[];return l[0]=e[0]-n[0],l[1]=e[1]-n[1],l[2]=e[2]-n[2],r[0]=l[2]*Math.sin(i)+l[0]*Math.cos(i),r[1]=l[1],r[2]=l[2]*Math.cos(i)-l[0]*Math.sin(i),t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function nq(t,e,n,i){var l=[],r=[];return l[0]=e[0]-n[0],l[1]=e[1]-n[1],l[2]=e[2]-n[2],r[0]=l[0]*Math.cos(i)-l[1]*Math.sin(i),r[1]=l[0]*Math.sin(i)+l[1]*Math.cos(i),r[2]=l[2],t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function iq(t,e){var n=t[0],i=t[1],l=t[2],r=e[0],a=e[1],s=e[2],o=Math.sqrt(n*n+i*i+l*l),c=Math.sqrt(r*r+a*a+s*s),u=o*c,d=u&&A$(t,e)/u;return Math.acos(Math.min(Math.max(d,-1),1))}var lq=B$;(function(){var t=O$();return function(e,n,i,l,r,a){var s,o;for(n||(n=3),i||(i=0),l?o=Math.min(l*n+i,e.length):o=e.length,s=i;s<o;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],r(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}})();const Of=[0,0,0];let oh;class Gn extends F${static get ZERO(){return oh||(oh=new Gn(0,0,0),Object.freeze(oh)),oh}constructor(e=0,n=0,i=0){super(-0,-0,-0),arguments.length===1&&Ho(e)?this.copy(e):(Xn.debug&&(hn(e),hn(n),hn(i)),this[0]=e,this[1]=n,this[2]=i)}set(e,n,i){return this[0]=e,this[1]=n,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Xn.debug&&(hn(e.x),hn(e.y),hn(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=hn(e)}angle(e){return iq(this,e)}cross(e){return _$(this,this,e),this.check()}rotateX({radians:e,origin:n=Of}){return eq(this,this,n,e),this.check()}rotateY({radians:e,origin:n=Of}){return tq(this,this,n,e),this.check()}rotateZ({radians:e,origin:n=Of}){return nq(this,this,n,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return _3(this,this,e),this.check()}transformAsVector(e){return A3(this,this,e),this.check()}transformByMatrix3(e){return $$(this,this,e),this.check()}transformByMatrix2(e){return D$(this,this,e),this.check()}transformByQuaternion(e){return q$(this,this,e),this.check()}}class rq extends O3{toString(){let e="[";if(Xn.printRowMajor){e+="row-major:";for(let n=0;n<this.RANK;++n)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+n])}else{e+="column-major:";for(let n=0;n<this.ELEMENTS;++n)e+=" ".concat(this[n])}return e+="]",e}getElementIndex(e,n){return n*this.RANK+e}getElement(e,n){return this[n*this.RANK+e]}setElement(e,n,i){return this[n*this.RANK+e]=hn(i),this}getColumn(e,n=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let l=0;l<this.RANK;++l)n[l]=this[i+l];return n}setColumn(e,n){const i=e*this.RANK;for(let l=0;l<this.RANK;++l)this[i+l]=n[l];return this}}function aq(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function sq(t,e){if(t===e){var n=e[1],i=e[2],l=e[3],r=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=r,t[11]=e[14],t[12]=l,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function CX(t,e){var n=e[0],i=e[1],l=e[2],r=e[3],a=e[4],s=e[5],o=e[6],c=e[7],u=e[8],d=e[9],m=e[10],h=e[11],b=e[12],Z=e[13],p=e[14],f=e[15],G=n*s-i*a,V=n*o-l*a,X=n*c-r*a,L=i*o-l*s,x=i*c-r*s,v=l*c-r*o,C=u*Z-d*b,w=u*p-m*b,z=u*f-h*b,$=d*p-m*Z,ee=d*f-h*Z,D=m*f-h*p,j=G*D-V*ee+X*$+L*z-x*w+v*C;return j?(j=1/j,t[0]=(s*D-o*ee+c*$)*j,t[1]=(l*ee-i*D-r*$)*j,t[2]=(Z*v-p*x+f*L)*j,t[3]=(m*x-d*v-h*L)*j,t[4]=(o*z-a*D-c*w)*j,t[5]=(n*D-l*z+r*w)*j,t[6]=(p*X-b*v-f*V)*j,t[7]=(u*v-m*X+h*V)*j,t[8]=(a*ee-s*z+c*C)*j,t[9]=(i*z-n*ee-r*C)*j,t[10]=(b*x-Z*X+f*G)*j,t[11]=(d*X-u*x-h*G)*j,t[12]=(s*w-a*$-o*C)*j,t[13]=(n*$-i*w+l*C)*j,t[14]=(Z*V-b*L-p*G)*j,t[15]=(u*L-d*V+m*G)*j,t):null}function oq(t){var e=t[0],n=t[1],i=t[2],l=t[3],r=t[4],a=t[5],s=t[6],o=t[7],c=t[8],u=t[9],d=t[10],m=t[11],h=t[12],b=t[13],Z=t[14],p=t[15],f=e*a-n*r,G=e*s-i*r,V=e*o-l*r,X=n*s-i*a,L=n*o-l*a,x=i*o-l*s,v=c*b-u*h,C=c*Z-d*h,w=c*p-m*h,z=u*Z-d*b,$=u*p-m*b,ee=d*p-m*Z;return f*ee-G*$+V*z+X*w-L*C+x*v}function wa(t,e,n){var i=e[0],l=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],u=e[7],d=e[8],m=e[9],h=e[10],b=e[11],Z=e[12],p=e[13],f=e[14],G=e[15],V=n[0],X=n[1],L=n[2],x=n[3];return t[0]=V*i+X*s+L*d+x*Z,t[1]=V*l+X*o+L*m+x*p,t[2]=V*r+X*c+L*h+x*f,t[3]=V*a+X*u+L*b+x*G,V=n[4],X=n[5],L=n[6],x=n[7],t[4]=V*i+X*s+L*d+x*Z,t[5]=V*l+X*o+L*m+x*p,t[6]=V*r+X*c+L*h+x*f,t[7]=V*a+X*u+L*b+x*G,V=n[8],X=n[9],L=n[10],x=n[11],t[8]=V*i+X*s+L*d+x*Z,t[9]=V*l+X*o+L*m+x*p,t[10]=V*r+X*c+L*h+x*f,t[11]=V*a+X*u+L*b+x*G,V=n[12],X=n[13],L=n[14],x=n[15],t[12]=V*i+X*s+L*d+x*Z,t[13]=V*l+X*o+L*m+x*p,t[14]=V*r+X*c+L*h+x*f,t[15]=V*a+X*u+L*b+x*G,t}function fp(t,e,n){var i=n[0],l=n[1],r=n[2],a,s,o,c,u,d,m,h,b,Z,p,f;return e===t?(t[12]=e[0]*i+e[4]*l+e[8]*r+e[12],t[13]=e[1]*i+e[5]*l+e[9]*r+e[13],t[14]=e[2]*i+e[6]*l+e[10]*r+e[14],t[15]=e[3]*i+e[7]*l+e[11]*r+e[15]):(a=e[0],s=e[1],o=e[2],c=e[3],u=e[4],d=e[5],m=e[6],h=e[7],b=e[8],Z=e[9],p=e[10],f=e[11],t[0]=a,t[1]=s,t[2]=o,t[3]=c,t[4]=u,t[5]=d,t[6]=m,t[7]=h,t[8]=b,t[9]=Z,t[10]=p,t[11]=f,t[12]=a*i+u*l+b*r+e[12],t[13]=s*i+d*l+Z*r+e[13],t[14]=o*i+m*l+p*r+e[14],t[15]=c*i+h*l+f*r+e[15]),t}function tV(t,e,n){var i=n[0],l=n[1],r=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*l,t[5]=e[5]*l,t[6]=e[6]*l,t[7]=e[7]*l,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function cq(t,e,n,i){var l=i[0],r=i[1],a=i[2],s=Math.hypot(l,r,a),o,c,u,d,m,h,b,Z,p,f,G,V,X,L,x,v,C,w,z,$,ee,D,j,_;return s<cb?null:(s=1/s,l*=s,r*=s,a*=s,o=Math.sin(n),c=Math.cos(n),u=1-c,d=e[0],m=e[1],h=e[2],b=e[3],Z=e[4],p=e[5],f=e[6],G=e[7],V=e[8],X=e[9],L=e[10],x=e[11],v=l*l*u+c,C=r*l*u+a*o,w=a*l*u-r*o,z=l*r*u-a*o,$=r*r*u+c,ee=a*r*u+l*o,D=l*a*u+r*o,j=r*a*u-l*o,_=a*a*u+c,t[0]=d*v+Z*C+V*w,t[1]=m*v+p*C+X*w,t[2]=h*v+f*C+L*w,t[3]=b*v+G*C+x*w,t[4]=d*z+Z*$+V*ee,t[5]=m*z+p*$+X*ee,t[6]=h*z+f*$+L*ee,t[7]=b*z+G*$+x*ee,t[8]=d*D+Z*j+V*_,t[9]=m*D+p*j+X*_,t[10]=h*D+f*j+L*_,t[11]=b*D+G*j+x*_,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function $3(t,e,n){var i=Math.sin(n),l=Math.cos(n),r=e[4],a=e[5],s=e[6],o=e[7],c=e[8],u=e[9],d=e[10],m=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*l+c*i,t[5]=a*l+u*i,t[6]=s*l+d*i,t[7]=o*l+m*i,t[8]=c*l-r*i,t[9]=u*l-a*i,t[10]=d*l-s*i,t[11]=m*l-o*i,t}function uq(t,e,n){var i=Math.sin(n),l=Math.cos(n),r=e[0],a=e[1],s=e[2],o=e[3],c=e[8],u=e[9],d=e[10],m=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*l-c*i,t[1]=a*l-u*i,t[2]=s*l-d*i,t[3]=o*l-m*i,t[8]=r*i+c*l,t[9]=a*i+u*l,t[10]=s*i+d*l,t[11]=o*i+m*l,t}function q3(t,e,n){var i=Math.sin(n),l=Math.cos(n),r=e[0],a=e[1],s=e[2],o=e[3],c=e[4],u=e[5],d=e[6],m=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*l+c*i,t[1]=a*l+u*i,t[2]=s*l+d*i,t[3]=o*l+m*i,t[4]=c*l-r*i,t[5]=u*l-a*i,t[6]=d*l-s*i,t[7]=m*l-o*i,t}function dq(t,e){var n=e[0],i=e[1],l=e[2],r=e[3],a=n+n,s=i+i,o=l+l,c=n*a,u=i*a,d=i*s,m=l*a,h=l*s,b=l*o,Z=r*a,p=r*s,f=r*o;return t[0]=1-d-b,t[1]=u+f,t[2]=m-p,t[3]=0,t[4]=u-f,t[5]=1-c-b,t[6]=h+Z,t[7]=0,t[8]=m+p,t[9]=h-Z,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function mq(t,e,n,i,l,r,a){var s=1/(n-e),o=1/(l-i),c=1/(r-a);return t[0]=r*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r*2*o,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(l+i)*o,t[10]=(a+r)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r*2*c,t[15]=0,t}function hq(t,e,n,i,l){var r=1/Math.tan(e/2),a;return t[0]=r/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,l!=null&&l!==1/0?(a=1/(i-l),t[10]=(l+i)*a,t[14]=2*l*i*a):(t[10]=-1,t[14]=-2*i),t}var bq=hq;function pq(t,e,n,i,l,r,a){var s=1/(e-n),o=1/(i-l),c=1/(r-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(l+i)*o,t[14]=(a+r)*c,t[15]=1,t}var Zq=pq;function fq(t,e,n,i){var l,r,a,s,o,c,u,d,m,h,b=e[0],Z=e[1],p=e[2],f=i[0],G=i[1],V=i[2],X=n[0],L=n[1],x=n[2];return Math.abs(b-X)<cb&&Math.abs(Z-L)<cb&&Math.abs(p-x)<cb?aq(t):(u=b-X,d=Z-L,m=p-x,h=1/Math.hypot(u,d,m),u*=h,d*=h,m*=h,l=G*m-V*d,r=V*u-f*m,a=f*d-G*u,h=Math.hypot(l,r,a),h?(h=1/h,l*=h,r*=h,a*=h):(l=0,r=0,a=0),s=d*a-m*r,o=m*l-u*a,c=u*r-d*l,h=Math.hypot(s,o,c),h?(h=1/h,s*=h,o*=h,c*=h):(s=0,o=0,c=0),t[0]=l,t[1]=s,t[2]=u,t[3]=0,t[4]=r,t[5]=o,t[6]=d,t[7]=0,t[8]=a,t[9]=c,t[10]=m,t[11]=0,t[12]=-(l*b+r*Z+a*p),t[13]=-(s*b+o*Z+c*p),t[14]=-(u*b+d*Z+m*p),t[15]=1,t)}function yq(){var t=new Do(4);return Do!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Gq(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function sm(t,e,n){var i=e[0],l=e[1],r=e[2],a=e[3];return t[0]=n[0]*i+n[4]*l+n[8]*r+n[12]*a,t[1]=n[1]*i+n[5]*l+n[9]*r+n[13]*a,t[2]=n[2]*i+n[6]*l+n[10]*r+n[14]*a,t[3]=n[3]*i+n[7]*l+n[11]*r+n[15]*a,t}(function(){var t=yq();return function(e,n,i,l,r,a){var s,o;for(n||(n=4),i||(i=0),l?o=Math.min(l*n+i,e.length):o=e.length,s=i;s<o;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],r(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}})();var kX;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(kX||(kX={}));const Xq=45*Math.PI/180,gq=1,Bf=.1,Qf=500,Wq=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class yi extends rq{static get IDENTITY(){return Tq()}static get ZERO(){return Vq()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return kX}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,n,i,l,r,a,s,o,c,u,d,m,h,b,Z,p){return this[0]=e,this[1]=n,this[2]=i,this[3]=l,this[4]=r,this[5]=a,this[6]=s,this[7]=o,this[8]=c,this[9]=u,this[10]=d,this[11]=m,this[12]=h,this[13]=b,this[14]=Z,this[15]=p,this.check()}setRowMajor(e,n,i,l,r,a,s,o,c,u,d,m,h,b,Z,p){return this[0]=e,this[1]=r,this[2]=c,this[3]=h,this[4]=n,this[5]=a,this[6]=u,this[7]=b,this[8]=i,this[9]=s,this[10]=d,this[11]=Z,this[12]=l,this[13]=o,this[14]=m,this[15]=p,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(Wq)}fromObject(e){return this.check()}fromQuaternion(e){return dq(this,e),this.check()}frustum(e){const{left:n,right:i,bottom:l,top:r,near:a=Bf,far:s=Qf}=e;return s===1/0?xq(this,n,i,l,r,a):mq(this,n,i,l,r,a,s),this.check()}lookAt(e){const{eye:n,center:i=[0,0,0],up:l=[0,1,0]}=e;return fq(this,n,i,l),this.check()}ortho(e){const{left:n,right:i,bottom:l,top:r,near:a=Bf,far:s=Qf}=e;return Zq(this,n,i,l,r,a,s),this.check()}orthographic(e){const{fovy:n=Xq,aspect:i=gq,focalDistance:l=1,near:r=Bf,far:a=Qf}=e;OS(n);const s=n/2,o=l*Math.tan(s),c=o*i;return this.ortho({left:-c,right:c,bottom:-o,top:o,near:r,far:a})}perspective(e){const{fovy:n=45*Math.PI/180,aspect:i=1,near:l=.1,far:r=500}=e;return OS(n),bq(this,n,i,l,r),this.check()}determinant(){return oq(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const i=this.getScale(n),l=1/i[0],r=1/i[1],a=1/i[2];return e[0]=this[0]*l,e[1]=this[1]*r,e[2]=this[2]*a,e[3]=0,e[4]=this[4]*l,e[5]=this[5]*r,e[6]=this[6]*a,e[7]=0,e[8]=this[8]*l,e[9]=this[9]*r,e[10]=this[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const i=this.getScale(n),l=1/i[0],r=1/i[1],a=1/i[2];return e[0]=this[0]*l,e[1]=this[1]*r,e[2]=this[2]*a,e[3]=this[4]*l,e[4]=this[5]*r,e[5]=this[6]*a,e[6]=this[8]*l,e[7]=this[9]*r,e[8]=this[10]*a,e}transpose(){return sq(this,this),this.check()}invert(){return CX(this,this),this.check()}multiplyLeft(e){return wa(this,e,this),this.check()}multiplyRight(e){return wa(this,this,e),this.check()}rotateX(e){return $3(this,this,e),this.check()}rotateY(e){return uq(this,this,e),this.check()}rotateZ(e){return q3(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,n){return cq(this,this,e,n),this.check()}scale(e){return tV(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return fp(this,this,e),this.check()}transform(e,n){return e.length===4?(n=sm(n||[-0,-0,-0,-0],e,this),Df(n,4),n):this.transformAsPoint(e,n)}transformAsPoint(e,n){const{length:i}=e;let l;switch(i){case 2:l=j$(n||[-0,-0],e,this);break;case 3:l=_3(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Df(l,e.length),l}transformAsVector(e,n){let i;switch(e.length){case 2:i=H$(n||[-0,-0],e,this);break;case 3:i=A3(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Df(i,e.length),i}transformPoint(e,n){return this.transformAsPoint(e,n)}transformVector(e,n){return this.transformAsPoint(e,n)}transformDirection(e,n){return this.transformAsVector(e,n)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,n,i){return this.identity().translate([e,n,i])}}let ch,uh;function Vq(){return ch||(ch=new yi([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(ch)),ch}function Tq(){return uh||(uh=new yi,Object.freeze(uh)),uh}function OS(t){if(t>Math.PI*2)throw Error("expected radians")}function xq(t,e,n,i,l,r){const a=2*r/(n-e),s=2*r/(l-i),o=(n+e)/(n-e),c=(l+i)/(l-i),u=-1,d=-1,m=-2*r;return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=o,t[9]=c,t[10]=u,t[11]=d,t[12]=0,t[13]=0,t[14]=m,t[15]=0,t}const BS=`#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))

struct AmbientLight {
 vec3 color;
};

struct PointLight {
 vec3 color;
 vec3 position;
 vec3 attenuation;
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform AmbientLight lighting_uAmbientLight;
uniform PointLight lighting_uPointLight[MAX_LIGHTS];
uniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];
uniform int lighting_uPointLightCount;
uniform int lighting_uDirectionalLightCount;

uniform bool lighting_uEnabled;

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

#endif
`,Rq={lightSources:{}};function Af(){let{color:t=[0,0,0],intensity:e=1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.map(n=>n*e/255)}function Sq(t){let{ambientLight:e,pointLights:n=[],directionalLights:i=[]}=t;const l={};return e?l["lighting_uAmbientLight.color"]=Af(e):l["lighting_uAmbientLight.color"]=[0,0,0],n.forEach((r,a)=>{l["lighting_uPointLight[".concat(a,"].color")]=Af(r),l["lighting_uPointLight[".concat(a,"].position")]=r.position,l["lighting_uPointLight[".concat(a,"].attenuation")]=r.attenuation||[1,0,0]}),l.lighting_uPointLightCount=n.length,i.forEach((r,a)=>{l["lighting_uDirectionalLight[".concat(a,"].color")]=Af(r),l["lighting_uDirectionalLight[".concat(a,"].direction")]=r.direction}),l.lighting_uDirectionalLightCount=i.length,l}function eJ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rq;if("lightSources"in t){const{ambientLight:e,pointLights:n,directionalLights:i}=t.lightSources||{};return e||n&&n.length>0||i&&i.length>0?Object.assign({},Sq({ambientLight:e,pointLights:n,directionalLights:i}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){const e={pointLights:[],directionalLights:[]};for(const n of t.lights||[])switch(n.type){case"ambient":e.ambientLight=n;break;case"directional":e.directionalLights.push(n);break;case"point":e.pointLights.push(n);break}return eJ({lightSources:e})}return{}}const Yq={name:"lights",vs:BS,fs:BS,getUniforms:eJ,defines:{MAX_LIGHTS:3}},Lq=new Uint8Array([0,255,255,255]),Mq={pickingSelectedColor:null,pickingHighlightColor:Lq,pickingActive:!1,pickingAttribute:!1};function Nq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mq;const e={};if(t.pickingSelectedColor!==void 0)if(!t.pickingSelectedColor)e.picking_uSelectedColorValid=0;else{const n=t.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=n}if(t.pickingHighlightColor){const n=Array.from(t.pickingHighlightColor,i=>i/255);Number.isFinite(n[3])||(n[3]=1),e.picking_uHighlightColor=n}return t.pickingActive!==void 0&&(e.picking_uActive=!!t.pickingActive,e.picking_uAttribute=!!t.pickingAttribute),e}const vq=`uniform bool picking_uActive;
uniform bool picking_uAttribute;
uniform vec3 picking_uSelectedColor;
uniform bool picking_uSelectedColorValid;

out vec4 picking_vRGBcolor_Avalid;

const float COLOR_SCALE = 1. / 255.;

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.001;
}

bool isVertexPicked(vec3 vertexColor) {
  return
    picking_uSelectedColorValid &&
    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));
}

void picking_setPickingColor(vec3 pickingColor) {
  if (picking_uActive) {
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!picking_uAttribute) {
      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;
    }
  } else {
    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.r = value;
  }
}
void picking_setPickingAttribute(vec2 value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}
void picking_setPickingAttribute(vec3 value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,Iq=`uniform bool picking_uActive;
uniform vec3 picking_uSelectedColor;
uniform vec4 picking_uHighlightColor;

in vec4 picking_vRGBcolor_Avalid;
vec4 picking_filterHighlightColor(vec4 color) {
  if (picking_uActive) {
    return color;
  }
  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    float highLightAlpha = picking_uHighlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}
vec4 picking_filterPickingColor(vec4 color) {
  if (picking_uActive) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}
vec4 picking_filterColor(vec4 color) {
  vec4 highightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highightColor);
}

`,wq={name:"picking",vs:vq,fs:Iq,getUniforms:Nq},Jq=`
uniform float lighting_uAmbient;
uniform float lighting_uDiffuse;
uniform float lighting_uShininess;
uniform vec3  lighting_uSpecularColor;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
    vec3 halfway_direction = normalize(light_direction + view_direction);
    float lambertian = dot(light_direction, normal_worldspace);
    float specular = 0.0;
    if (lambertian > 0.0) {
      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
      specular = pow(specular_angle, lighting_uShininess);
    }
    lambertian = max(lambertian, 0.0);
    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting_uEnabled) {
    vec3 view_direction = normalize(cameraPosition - position_worldspace);
    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uPointLightCount) {
        break;
      }
      PointLight pointLight = lighting_uPointLight[i];
      vec3 light_position_worldspace = pointLight.position;
      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
    }

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uDirectionalLightCount) {
        break;
      }
      DirectionalLight directionalLight = lighting_uDirectionalLight[i];
      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
    }
  }
  return lightColor;
}

vec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = vec3(0, 0, 0);
  vec3 surfaceColor = vec3(0, 0, 0);

  if (lighting_uEnabled) {
    vec3 view_direction = normalize(cameraPosition - position_worldspace);

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uPointLightCount) {
        break;
      }
      PointLight pointLight = lighting_uPointLight[i];
      vec3 light_position_worldspace = pointLight.position;
      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
    }

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uDirectionalLightCount) {
        break;
      }
      DirectionalLight directionalLight = lighting_uDirectionalLight[i];
      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
    }
  }
  return lightColor;
}
`,Cq={};function kq(t){const{ambient:e=.35,diffuse:n=.6,shininess:i=32,specularColor:l=[30,30,30]}=t;return{lighting_uAmbient:e,lighting_uDiffuse:n,lighting_uShininess:i,lighting_uSpecularColor:l.map(r=>r/255)}}function Eq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cq;if(!("material"in t))return{};const{material:e}=t;return e?kq(e):{lighting_uEnabled:!1}}const Kq={name:"gouraud-lighting",dependencies:[Yq],vs:Jq,defines:{LIGHTING_VERTEX:1},getUniforms:Eq},Uq=`attribute float transform_elementID;
vec2 transform_getPixelSizeHalf(vec2 size) {
  return vec2(1.) / (2. * size);
}

vec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {
  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);
  float xIndex = transform_elementID - (yIndex * texSize[0]);
  return vec2(xIndex, yIndex);
}
vec2 transform_getTexCoord(vec2 size) {
  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);
  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);
  vec2 coord = indices / size + pixelSizeHalf;
  return coord;
}
vec2 transform_getPos(vec2 size) {
  vec2 texCoord = transform_getTexCoord(size);
  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);
  return pos;
}
vec4 transform_getInput(sampler2D texSampler, vec2 size) {
  vec2 texCoord = transform_getTexCoord(size);
  vec4 textureColor = texture2D(texSampler, texCoord);
  return textureColor;
}
`,Pq={name:"transform",vs:Uq,fs:null};class om{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new om(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find(n=>n.name===e.name)||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const n=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(i=>i.name!==n),this.stateHash++}addShaderHook(e,n){n&&(e=Object.assign(n,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{vs:n="",fs:i="",defines:l={},inject:r={},varyings:a=[],bufferMode:s=35981,transpileToGLSL100:o=!1}=e,c=this._getModuleList(e.modules),u=this._getHash(n),d=this._getHash(i),m=c.map(V=>this._getHash(V.name)).sort(),h=a.map(V=>this._getHash(V)),b=Object.keys(l).sort(),Z=Object.keys(r).sort(),p=[],f=[];for(const V of b)p.push(this._getHash(V)),p.push(this._getHash(l[V]));for(const V of Z)f.push(this._getHash(V)),f.push(this._getHash(r[V]));const G="".concat(u,"/").concat(d,"D").concat(p.join("/"),"M").concat(m.join("/"),"I").concat(f.join("/"),"V").concat(h.join("/"),"H").concat(this.stateHash,"B").concat(s).concat(o?"T":"");if(!this._programCache[G]){const V=W$(this.gl,{vs:n,fs:i,modules:c,inject:r,defines:l,hookFunctions:this._hookFunctions,transpileToGLSL100:o});this._programCache[G]=new k3(this.gl,{hash:G,vs:V.vs,fs:V.fs,varyings:a,bufferMode:s}),this._getUniforms[G]=V.getUniforms||(X=>{}),this._useCounts[G]=0}return this._useCounts[G]++,this._programCache[G]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const n=e.hash;this._useCounts[n]--,this._useCounts[n]===0&&(this._programCache[n].delete(),delete this._programCache[n],delete this._getUniforms[n],delete this._useCounts[n])}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=new Array(this._defaultModules.length+e.length),i={};let l=0;for(let r=0,a=this._defaultModules.length;r<a;++r){const s=this._defaultModules[r],o=s.name;n[l++]=s,i[o]=!0}for(let r=0,a=e.length;r<a;++r){const s=e[r],o=s.name;i[o]||(n[l++]=s,i[o]=!0)}return n.length=l,n}}const Fq={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function zq(t,e,n){const i={};let l=e.indices;for(const r in e.attributes){const a=e.attributes[r],s=jq(r,n);if(r==="indices")l=a;else if(a.constant)i[s]=a.value;else{const o=a.value,c={...a};delete c.value,i[s]=[new ze(t,o),c],Hq(r,c)}}if(l){const r=l.value||l;ae(r instanceof Uint16Array||r instanceof Uint32Array,'attribute array for "indices" must be of integer type');const a={size:1,isIndexed:l.isIndexed===void 0?!0:l.isIndexed};i.indices=[new ze(t,{data:r,target:34963}),a]}return i}function jq(t,e){const{attributeMap:n=Fq}=e||{};return n&&n[t]||t}function Hq(t,e){let n;switch(t){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors";break}switch(n){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2;break}ae(Number.isFinite(e.size),"attribute ".concat(t," needs size"))}const Rs=2,Dq=1e4,Oq="Model needs drawMode and vertexCount",QS=()=>{},Bq={};class jr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{id:i=zr("model")}=n;ae(PZ(e)),this.id=i,this.gl=e,this.id=n.id||zr("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(n)}initialize(e){this.props={},this.programManager=e.programManager||om.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:n=null,vs:i,fs:l,modules:r,defines:a,inject:s,varyings:o,bufferMode:c,transpileToGLSL100:u}=e;this.programProps={program:n,vs:i,fs:l,modules:r,defines:a,inject:s,varyings:o,bufferMode:c,transpileToGLSL100:u},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=e.drawMode!==void 0?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},ae(this.drawMode!==void 0&&Number.isFinite(this.vertexCount),Oq)}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:n,vs:i,fs:l,modules:r,defines:a,inject:s,varyings:o,bufferMode:c,transpileToGLSL100:u}=e;this.programProps={program:n,vs:i,fs:l,modules:r,defines:a,inject:s,varyings:o,bufferMode:c,transpileToGLSL100:u},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return ae(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return ae(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=zq(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(zo(e))return this;const n={};for(const i in e){const l=e[i];n[i]=l.getValue?l.getValue():l}return this.vertexArray.setAttributes(n),this}setUniforms(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(this.uniforms,e),this}getModuleUniforms(e){this._checkProgram();const n=this.programManager.getUniforms(this.program);return n?n(e):{}}updateModuleSettings(e){const n=this.getModuleUniforms(e||{});return this.setUniforms(n)}clear(e){return AW(this.program.gl,e),this}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._checkProgram();const{moduleSettings:n=null,framebuffer:i,uniforms:l={},attributes:r={},transformFeedback:a=this.transformFeedback,parameters:s={},vertexArray:o=this.vertexArray}=e;this.setAttributes(r),this.updateModuleSettings(n),this.setUniforms(l);let c;be.priority>=Rs&&(c=this._logDrawCallStart(Rs));const u=this.vertexArray.getDrawParams(),{isIndexed:d=u.isIndexed,indexType:m=u.indexType,indexOffset:h=u.indexOffset,vertexArrayInstanced:b=u.isInstanced}=this.props;b&&!this.isInstanced&&be.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:Z,instanceCount:p}=this,{onBeforeRender:f=QS,onAfterRender:G=QS}=this.props;f(),this.program.setUniforms(this.uniforms);const V=this.program.draw(Object.assign(Bq,e,{logPriority:c,uniforms:null,framebuffer:i,parameters:s,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:o,transformFeedback:a,isIndexed:d,indexType:m,isInstanced:Z,instanceCount:p,offset:d?h:0}));return G(),be.priority>=Rs&&this._logDrawCallEnd(c,o,i),V}transform(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{discard:n=!0,feedbackBuffers:i,unbindModels:l=[]}=e;let{parameters:r}=e;i&&this._setFeedbackBuffers(i),n&&(r=Object.assign({},r,{35977:n})),l.forEach(a=>a.vertexArray.unbindBuffers());try{this.draw(Object.assign({},e,{parameters:r}))}finally{l.forEach(a=>a.vertexArray.bindBuffers())}return this}render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return be.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!(this._programDirty||this.programManager.stateHash!==this._programManagerState))return;let{program:n}=this.programProps;if(n)this._managedProgram=!1;else{const{vs:i,fs:l,modules:r,inject:a,defines:s,varyings:o,bufferMode:c,transpileToGLSL100:u}=this.programProps;n=this.programManager.get({vs:i,fs:l,modules:r,inject:a,defines:s,varyings:o,bufferMode:c,transpileToGLSL100:u}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}ae(n instanceof k3,"Model needs a program"),this._programDirty=!1,n!==this.program&&(this.program=n,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new k6(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const n=this.geometryBuffers[e][0]||this.geometryBuffers[e];n instanceof ze&&n.delete()}}_setAnimationProps(e){this.animated&&ae(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(zo(e))return this;const{gl:n}=this.program;return this.transformFeedback=this.transformFeedback||new E3(n,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const n=e>3?0:Dq;if(!(Date.now()-this.lastLogTime<n))return this.lastLogTime=Date.now(),be.group(Rs,">>> DRAWING MODEL ".concat(this.id),{collapsed:be.level<=2})(),e}_logDrawCallEnd(e,n,i,l){if(e===void 0)return;const r=U6({vertexArray:n,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:a,unusedTable:s,unusedCount:o}=JS({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i)}),{table:c,count:u}=JS({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i),undefinedOnly:!0});u>0&&be.log("MISSING UNIFORMS",Object.keys(c))(),o>0&&be.log("UNUSED UNIFORMS",Object.keys(s))();const d=F6(this.vertexArray.configuration);be.table(e,r)(),be.table(e,a)(),be.table(e+1,d)(),l&&l.log({logLevel:Rs,message:"Rendered to ".concat(l.id)}),be.groupEnd(Rs)()}}class Qq{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}setupResources(e){for(const n of this.bindings)this._setupTransformFeedback(n,e)}updateModelProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{varyings:n}=this;return n.length>0&&(e=Object.assign({},e,{varyings:n})),e}getDrawOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.bindings[this.currentIndex],{sourceBuffers:i,transformFeedback:l}=n;return{attributes:Object.assign({},i,e.attributes),transformFeedback:l}}swap(){return this.feedbackMap?(this.currentIndex=this._getNextIndex(),!0):!1}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupBuffers(e)}getBuffer(e){const{feedbackBuffers:n}=this.bindings[this.currentIndex],i=e?n[e]:null;return i?i instanceof ze?i:i.buffer:null}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{varyingName:n}=e,i=this.getBuffer(n);return i?i.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&ae(Me(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:n={}}=e,i={};if(this.bindings[this.currentIndex]&&Object.assign(i,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const l in this.feedbackMap){const r=this.feedbackMap[l];l in n&&(i[r]=l)}Object.assign(i,e.feedbackBuffers);for(const l in i){const r=i[l];if(typeof r=="string"){const a=n[r],{byteLength:s,usage:o,accessor:c}=a;i[l]=this._createNewBuffer(l,{byteLength:s,usage:o,accessor:c})}}return i}_setupBuffers(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:n=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const i=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:n,feedbackBuffers:i})}_setupTransformFeedback(e,n){let{model:i}=n;const{program:l}=i;e.transformFeedback=new E3(this.gl,{program:l,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:n,feedbackBuffers:i}=this._swapBuffers(this.bindings[this.currentIndex]),l=this._getNextIndex();this.bindings[l]=this._updateBinding(this.bindings[l],{sourceBuffers:n,feedbackBuffers:i})}}_updateBinding(e,n){return e?(Object.assign(e.sourceBuffers,n.sourceBuffers),Object.assign(e.feedbackBuffers,n.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},n.sourceBuffers),feedbackBuffers:Object.assign({},n.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const n=Object.assign({},e.sourceBuffers),i=Object.assign({},e.feedbackBuffers);for(const l in this.feedbackMap){const r=this.feedbackMap[l];n[l]=e.feedbackBuffers[r],i[r]=e.sourceBuffers[l],ae(i[r]instanceof ze)}return{sourceBuffers:n,feedbackBuffers:i}}_createNewBuffer(e,n){const i=new ze(this.gl,n);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=i,i}_getNextIndex(){return(this.currentIndex+1)%2}}const Aq="transform_uSampler_",yp="transform_uSize_",AS="transform_position";function _q(t){let{vs:e,sourceTextureMap:n,targetTextureVarying:i,targetTexture:l}=t,a=Object.keys(n).length,s=null;const o={};let c=e,u={};if(a>0||i){const d=c.split(`
`),m=d.slice();if(d.forEach((h,b,Z)=>{if(a>0){const p=nee(h,n);if(p){const{updatedLine:f,inject:G}=p;m[b]=f,u=IX([u,G]),Object.assign(o,p.samplerTextureMap),a--}}i&&!s&&(s=tee(h,i))}),i){ae(l);const h="".concat(yp).concat(i),b="uniform vec2 ".concat(h,`;
`),Z="     vec2 ".concat(AS," = transform_getPos(").concat(h,`);
     gl_Position = vec4(`).concat(AS,`, 0, 1.);
`);u=IX([u,{"vs:#decl":b,"vs:#main-start":Z}])}c=m.join(`
`)}return{vs:c,targetTextureType:s,inject:u,samplerTextureMap:o}}function $q(t){let{sourceTextureMap:e,targetTextureVarying:n,targetTexture:i}=t;const l={};let r,a;n&&({width:r,height:a}=i,l["".concat(yp).concat(n)]=[r,a]);for(const s in e)({width:r,height:a}=e[s]),l["".concat(yp).concat(s)]=[r,a];return l}function qq(t){return H3(t,["attribute","in"])}function eee(t){const e="".concat(Aq).concat(t),n="".concat(yp).concat(t),i="  uniform sampler2D ".concat(e,`;
  uniform vec2 `).concat(n,";");return{samplerName:e,sizeName:n,uniformDeclerations:i}}function tee(t,e){const n=H3(t,["varying","out"]);return n&&n.name===e?n.type:null}function nee(t,e){const n={},i=qq(t);if(!i)return null;const{type:l,name:r}=i;if(r&&e[r]){const a="// ".concat(t," => Replaced by Transform with a sampler"),{samplerName:s,sizeName:o,uniformDeclerations:c}=eee(r),u=N$(l),d="  ".concat(l," ").concat(r," = transform_getInput(").concat(s,", ").concat(o,").").concat(u,`;
`);return n[s]=r,{updatedLine:a,inject:{"vs:#decl":c,"vs:#main-start":d},samplerTextureMap:n}}return null}const iee={10241:9728,10240:9728,10242:33071,10243:33071},lee="transform_output";class ree{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this._processVertexShader(e);return Object.assign({},e,n)}getDrawOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:n,sourceTextures:i,framebuffer:l,targetTexture:r}=this.bindings[this.currentIndex],a=Object.assign({},n,e.attributes),s=Object.assign({},e.uniforms),o=Object.assign({},e.parameters);let c=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){a.transform_elementID=this.elementIDBuffer;for(const d in this.samplerTextureMap){const m=this.samplerTextureMap[d];s[d]=i[m]}this._setSourceTextureParameters();const u=$q({sourceTextureMap:i,targetTextureVarying:this.targetTextureVarying,targetTexture:r});Object.assign(s,u)}return this.hasTargetTexture&&(c=!1,o.viewport=[0,0,l.width,l.height]),{attributes:a,framebuffer:l,uniforms:s,discard:c,parameters:o}}swap(){return this._swapTexture?(this.currentIndex=this._getNextIndex(),!0):!1}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupTextures(e)}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{framebuffer:n}=this.bindings[this.currentIndex],i=zZ(n);if(!e)return i;const l=i.constructor,r=v$(this.targetTextureType),a=new l(i.length*r/4);let s=0;for(let o=0;o<i.length;o+=4)for(let c=0;c<r;c++)a[s++]=i[o+c];return a}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{_targetTextureVarying:n,_swapTexture:i}=e;this._swapTexture=i,this.targetTextureVarying=n,this.hasTargetTexture=n,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:n,textureOrReference:i}=e;if(i instanceof Qn)return i;const l=n[i];return l?(this._targetRefTexName=i,this._createNewTexture(l)):null}_setupTextures(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:n,_sourceTextures:i={},_targetTexture:l}=e,r=this._createTargetTexture({sourceTextures:i,textureOrReference:l});this.hasSourceTextures=this.hasSourceTextures||i&&Object.keys(i).length>0,this._updateBindings({sourceBuffers:n,sourceTextures:i,targetTexture:r}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if(typeof e!="number"||this.elementCount>=e)return;const n=new Float32Array(e);n.forEach((i,l,r)=>{r[l]=l}),this.elementIDBuffer?this.elementIDBuffer.setData({data:n}):this.elementIDBuffer=new ze(this.gl,{data:n,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:n,targetTexture:i}=this._swapTextures(this.bindings[this.currentIndex]),l=this._getNextIndex();this.bindings[l]=this._updateBinding(this.bindings[l],{sourceTextures:n,targetTexture:i})}}_updateBinding(e,n){const{sourceBuffers:i,sourceTextures:l,targetTexture:r}=n;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,l),Object.assign(e.sourceBuffers,i),r){e.targetTexture=r;const{width:a,height:s}=r,{framebuffer:o}=e;o?(o.update({attachments:{36064:r},resizeAttachments:!1}),o.resize({width:a,height:s})):e.framebuffer=new Wt(this.gl,{id:"transform-framebuffer",width:a,height:s,attachments:{36064:r}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:n}=this.bindings[e];for(const i in n)n[i].setParameters(iee)}_swapTextures(e){if(!this._swapTexture)return null;const n=Object.assign({},e.sourceTextures);n[this._swapTexture]=e.targetTexture;const i=e.sourceTextures[this._swapTexture];return{sourceTextures:n,targetTexture:i}}_createNewTexture(e){const n=I3(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=n,n}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceTextures:n,targetTexture:i}=this.bindings[this.currentIndex],{vs:l,uniforms:r,targetTextureType:a,inject:s,samplerTextureMap:o}=_q({vs:e.vs,sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:i}),c=IX([e.inject||{},s]);this.targetTextureType=a,this.samplerTextureMap=o;const u=e._fs||D3({version:J3(l),input:this.targetTextureVarying,inputType:a,output:lee}),d=this.hasSourceTextures||this.targetTextureVarying?[Pq].concat(e.modules||[]):e.modules;return{vs:l,fs:u,modules:d,uniforms:r,inject:c}}}class nV{static isSupported(e){return Me(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(n),Object.seal(this)}delete(){const{model:e,bufferTransform:n,textureTransform:i}=this;e&&e.delete(),n&&n.delete(),i&&i.delete()}run(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{clearRenderTarget:n=!0}=e,i=this._updateDrawOptions(e);n&&i.framebuffer&&i.framebuffer.clear({color:!0}),this.model.transform(i)}swap(){let e=!1;const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of n)e=e||i.swap();ae(e,"Nothing to swap")}getBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of n){const l=i.getData(e);if(l)return l}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of n)i.update(e)}_initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{gl:n}=this;this._buildResourceTransforms(n,e),e=this._updateModelProps(e),this.model=new jr(n,Object.assign({},e,{fs:e.fs||D3({version:J3(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let n=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const l of i)n=l.updateModelProps(n);return n}_buildResourceTransforms(e,n){aee(n)&&(this.bufferTransform=new Qq(e,n)),see(n)&&(this.textureTransform=new ree(e,n)),ae(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let n=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const l of i)n=Object.assign(n,l.getDrawOptions(n));return n}}function aee(t){return!!(!zo(t.feedbackBuffers)||!zo(t.feedbackMap)||t.varyings&&t.varyings.length>0)}function see(t){return!!(!zo(t._sourceTextures)||t._targetTexture||t._targetTextureVarying)}const _S={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class dc{static get DRAW_MODE(){return _S}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:n=zr("geometry"),drawMode:i=_S.TRIANGLES,attributes:l={},indices:r=null,vertexCount:a=null}=e;this.id=n,this.drawMode=i|0,this.attributes={},this.userData={},this._setAttributes(l,r),this.vertexCount=a||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,n){n&&(this.indices=ArrayBuffer.isView(n)?{value:n,size:1}:n);for(const i in e){let l=e[i];l=ArrayBuffer.isView(l)?{value:l}:l,ae(ArrayBuffer.isView(l.value),"".concat(this._print(i),": must be typed array or object with value as typed array")),(i==="POSITION"||i==="positions")&&!l.size&&(l.size=3),i==="indices"?(ae(!this.indices),this.indices=l):this.attributes[i]=l}return this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,n){if(n)return n.value.length;let i=1/0;for(const l in e){const r=e[l],{value:a,size:s,constant:o}=r;!o&&a&&s>=1&&(i=Math.min(i,a.length/s))}return ae(Number.isFinite(i)),i}}let oee=1,cee=1;class tJ{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:n=0,duration:i=Number.POSITIVE_INFINITY,rate:l=1,repeat:r=1}=e,a=oee++,s={time:0,delay:n,duration:i,rate:l,repeat:r};return this._setChannelTime(s,this.time),this.channels.set(a,s),a}removeChannel(e){this.channels.delete(e);for(const[n,i]of this.animations)i.channel===e&&this.detachAnimation(n)}isFinished(e){const n=this.channels.get(e);return n===void 0?!1:this.time>=n.delay+n.duration*n.repeat}getTime(e){if(e===void 0)return this.time;const n=this.channels.get(e);return n===void 0?-1:n.time}setTime(e){this.time=Math.max(0,e);const n=this.channels.values();for(const l of n)this._setChannelTime(l,this.time);const i=this.animations.values();for(const l of i){const{animation:r,channel:a}=l;r.setTime(this.getTime(a))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,n){const i=cee++;return this.animations.set(i,{animation:e,channel:n}),e.setTime(this.getTime(n)),i}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,n){const i=n-e.delay,l=e.duration*e.repeat;i>=l?e.time=e.duration*e.rate:(e.time=Math.max(0,i)%e.duration,e.time*=e.rate)}}const uee=`
struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,dee=`
#define SMOOTH_EDGE_RADIUS 0.5

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,mee={name:"geometry",vs:uee,fs:dee},ke={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(ke,"IDENTITY",{get:()=>we.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")()||0});const Qi={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},Hr={common:0,meters:1,pixels:2},$S={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},hee=Object.keys(ke).map(t=>"const int COORDINATE_SYSTEM_".concat(t," = ").concat(ke[t],";")).join(""),bee=Object.keys(Qi).map(t=>"const int PROJECTION_MODE_".concat(t," = ").concat(Qi[t],";")).join(""),pee=Object.keys(Hr).map(t=>"const int UNIT_".concat(t.toUpperCase()," = ").concat(Hr[t],";")).join(""),Zee="".concat(hee,`
`).concat(bee,`
`).concat(pee,`

uniform int project_uCoordinateSystem;
uniform int project_uProjectionMode;
uniform float project_uScale;
uniform bool project_uWrapLongitude;
uniform vec3 project_uCommonUnitsPerMeter;
uniform vec3 project_uCommonUnitsPerWorldUnit;
uniform vec3 project_uCommonUnitsPerWorldUnit2;
uniform vec4 project_uCenter;
uniform mat4 project_uModelMatrix;
uniform mat4 project_uViewProjectionMatrix;
uniform vec2 project_uViewportSize;
uniform float project_uDevicePixelRatio;
uniform float project_uFocalDistance;
uniform vec3 project_uCameraPosition;
uniform vec3 project_uCoordinateOrigin;
uniform vec3 project_uCommonOrigin;
uniform bool project_uPseudoMeters;

const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size() {
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&
    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
    project_uPseudoMeters == false) {
    
    if (geometry.position.w == 0.0) {
      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);
      return 1.0 / cos(radians(y));
    }
  
    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    float y2 = y * y;
    float y4 = y2 * y2;
    float y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}
float project_size(float meters) {
  return meters * project_uCommonUnitsPerMeter.z * project_size();
}

vec2 project_size(vec2 meters) {
  return meters * project_uCommonUnitsPerMeter.xy * project_size();
}

vec3 project_size(vec3 meters) {
  return meters * project_uCommonUnitsPerMeter * project_size();
}

vec4 project_size(vec4 meters) {
  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);
}
vec3 project_normal(vec3 vector) {
  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);
  return normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);
}

vec4 project_offset_(vec4 offset) {
  float dy = offset.y;
  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;
  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
  float x = lnglat.x;
  if (project_uWrapLongitude) {
    x = mod(x + 180., 360.0) - 180.;
  }
  float y = clamp(lnglat.y, -89.9, 89.9);
  return vec2(
    radians(x) + PI,
    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

vec3 project_globe_(vec3 lnglatz) {
  float lambda = radians(lnglatz.x);
  float phi = radians(lnglatz.y);
  float cosPhi = cos(phi);
  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;

  return vec3(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
  vec4 position_world = project_uModelMatrix * position;
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4(
        project_mercator_(position_world.xy),
        project_size(position_world.z),
        position_world.w
      );
    }
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world.xyz += project_uCoordinateOrigin;
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {
        return vec4(
          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,
          project_size(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||
    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world.xyz -= project_uCoordinateOrigin;
  }
  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));
}

vec4 project_position(vec4 position) {
  return project_position(position, ZERO_64_LOW);
}

vec3 project_position(vec3 position, vec3 position64Low) {
  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
  return projected_position.xyz;
}

vec3 project_position(vec3 position) {
  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

vec2 project_position(vec2 position) {
  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;
  return offset * project_uFocalDistance;
}

float project_size_to_pixel(float meters) {
  return project_size(meters) * project_uScale;
}
float project_size_to_pixel(float size, int unit) {
  if (unit == UNIT_METERS) return project_size_to_pixel(size);
  if (unit == UNIT_COMMON) return size * project_uScale;
  return size;
}
float project_pixel_size(float pixels) {
  return pixels / project_uScale;
}
vec2 project_pixel_size(vec2 pixels) {
  return pixels / project_uScale;
}
mat3 project_get_orientation_matrix(vec3 up) {
  vec3 uz = normalize(up);
  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
  vec3 uy = cross(uz, ux);
  return mat3(ux, uy, uz);
}

bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
    transform = project_get_orientation_matrix(commonPosition);
    return true;
  }
  return false;
}
`);function fee(t,e){if(t===e)return!0;if(Array.isArray(t)){const n=t.length;if(!e||e.length!==n)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}return!1}function jZ(t){let e={},n;return i=>{for(const l in i)if(!fee(i[l],e[l])){n=t(i),e=i;break}return n}}const qS=[0,0,0,0],yee=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Gee=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Xee=[0,0,0],gee=[0,0,0],Wee=jZ(xee);function nJ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gee;n.length<3&&(n=[n[0],n[1],0]);let i=n,l,r=!0;switch(e===ke.LNGLAT_OFFSETS||e===ke.METER_OFFSETS?l=n:l=t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case Qi.WEB_MERCATOR:(e===ke.LNGLAT||e===ke.CARTESIAN)&&(l=[0,0,0],r=!1);break;case Qi.WEB_MERCATOR_AUTO_OFFSET:e===ke.LNGLAT?i=l:e===ke.CARTESIAN&&(i=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],l=t.unprojectPosition(i),i[0]-=n[0],i[1]-=n[1],i[2]-=n[2]);break;case Qi.IDENTITY:i=t.position.map(Math.fround),i[2]=i[2]||0;break;case Qi.GLOBE:r=!1,l=null;break;default:r=!1}return{geospatialOrigin:l,shaderCoordinateOrigin:i,offsetMode:r}}function Vee(t,e,n){const{viewMatrixUncentered:i,projectionMatrix:l}=t;let{viewMatrix:r,viewProjectionMatrix:a}=t,s=qS,o=qS,c=t.cameraPosition;const{geospatialOrigin:u,shaderCoordinateOrigin:d,offsetMode:m}=nJ(t,e,n);return m&&(o=t.projectPosition(u||d),c=[c[0]-o[0],c[1]-o[1],c[2]-o[2]],o[3]=1,s=sm([],o,a),r=i||r,a=wa([],l,r),a=wa([],a,yee)),{viewMatrix:r,viewProjectionMatrix:a,projectionCenter:s,originCommon:o,cameraPosCommon:c,shaderCoordinateOrigin:d,geospatialOrigin:u}}function Tee(){let{viewport:t,devicePixelRatio:e=1,modelMatrix:n=null,coordinateSystem:i=ke.DEFAULT,coordinateOrigin:l,autoWrapLongitude:r=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i===ke.DEFAULT&&(i=t.isGeospatial?ke.LNGLAT:ke.CARTESIAN);const a=Wee({viewport:t,devicePixelRatio:e,coordinateSystem:i,coordinateOrigin:l});return a.project_uWrapLongitude=r,a.project_uModelMatrix=n||Gee,a}function xee(t){let{viewport:e,devicePixelRatio:n,coordinateSystem:i,coordinateOrigin:l}=t;const{projectionCenter:r,viewProjectionMatrix:a,originCommon:s,cameraPosCommon:o,shaderCoordinateOrigin:c,geospatialOrigin:u}=Vee(e,i,l),d=e.getDistanceScales(),m=[e.width*n,e.height*n],h=sm([],[0,0,-e.focalDistance,1],e.projectionMatrix)[3]||1,b={project_uCoordinateSystem:i,project_uProjectionMode:e.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:s.slice(0,3),project_uCenter:r,project_uPseudoMeters:!!e._pseudoMeters,project_uViewportSize:m,project_uDevicePixelRatio:n,project_uFocalDistance:h,project_uCommonUnitsPerMeter:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:Xee,project_uScale:e.scale,project_uViewProjectionMatrix:a,project_uCameraPosition:o};if(u){const Z=e.getDistanceScales(u);switch(i){case ke.METER_OFFSETS:b.project_uCommonUnitsPerWorldUnit=Z.unitsPerMeter,b.project_uCommonUnitsPerWorldUnit2=Z.unitsPerMeter2;break;case ke.LNGLAT:case ke.LNGLAT_OFFSETS:e._pseudoMeters||(b.project_uCommonUnitsPerMeter=Z.unitsPerMeter),b.project_uCommonUnitsPerWorldUnit=Z.unitsPerDegree,b.project_uCommonUnitsPerWorldUnit2=Z.unitsPerDegree2;break;case ke.CARTESIAN:b.project_uCommonUnitsPerWorldUnit=[1,1,Z.unitsPerMeter[2]],b.project_uCommonUnitsPerWorldUnit2=[0,0,Z.unitsPerMeter2[2]];break}}return b}const Ree={};function See(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ree;return t.viewport?Tee(t):{}}const iV={name:"project",dependencies:[J$,mee],vs:Zee,getUniforms:See},Yee=`
vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    mat3 rotation = project_get_orientation_matrix(projectedPosition);
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,mc={name:"project32",dependencies:[iV],vs:Yee};function Lee(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Yo(t,e){const n=sm([],e,t);return Gq(n,n,1/n[3]),n}function eY(t,e){const n=t%e;return n<0?e+n:n}function EX(t,e,n){return t<e?e:t>n?n:t}function Mee(t){return Math.log(t)*Math.LOG2E}const lV=Math.log2||Mee;function Cl(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const di=Math.PI,iJ=di/4,Gi=di/180,KX=180/di,Yd=512,UX=4003e4,dh=85.051129,Nee=1.5;function vee(t){return lV(t)}function Gp(t){const[e,n]=t;Cl(Number.isFinite(e)),Cl(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const i=e*Gi,l=n*Gi,r=Yd*(i+di)/(2*di),a=Yd*(di+Math.log(Math.tan(iJ+l*.5)))/(2*di);return[r,a]}function Oo(t){const[e,n]=t,i=e/Yd*(2*di)-di,l=2*(Math.atan(Math.exp(n/Yd*(2*di)-di))-iJ);return[i*KX,l*KX]}function Iee(t){const{latitude:e}=t;Cl(Number.isFinite(e));const n=Math.cos(e*Gi);return vee(UX*n)-9}function PX(t){const{latitude:e,longitude:n,highPrecision:i=!1}=t;Cl(Number.isFinite(e)&&Number.isFinite(n));const l=Yd,r=Math.cos(e*Gi),a=l/360,s=a/r,o=l/UX/r,c={unitsPerMeter:[o,o,o],metersPerUnit:[1/o,1/o,1/o],unitsPerDegree:[a,s,o],degreesPerUnit:[1/a,1/s,1/o]};if(i){const u=Gi*Math.tan(e*Gi)/r,d=a*u/2,m=l/UX*u,h=m/s*o;c.unitsPerDegree2=[0,d,m],c.unitsPerMeter2=[h,0,h]}return c}function lJ(t,e){const[n,i,l]=t,[r,a,s]=e,{unitsPerMeter:o,unitsPerMeter2:c}=PX({longitude:n,latitude:i,highPrecision:!0}),u=Gp(t);u[0]+=r*(o[0]+c[0]*a),u[1]+=a*(o[1]+c[1]*a);const d=Oo(u),m=(l||0)+(s||0);return Number.isFinite(l)||Number.isFinite(s)?[d[0],d[1],m]:d}function wee(t){const{height:e,pitch:n,bearing:i,altitude:l,scale:r,center:a}=t,s=Lee();fp(s,s,[0,0,-l]),$3(s,s,-n*Gi),q3(s,s,i*Gi);const o=r/e;return tV(s,s,[o,o,o]),a&&fp(s,s,Q$([],a)),s}function Jee(t){const{width:e,height:n,altitude:i,pitch:l=0,offset:r,center:a,scale:s,nearZMultiplier:o=1,farZMultiplier:c=1}=t;let{fovy:u=Xp(Nee)}=t;i!==void 0&&(u=Xp(i));const d=u*Gi,m=l*Gi,h=rJ(u);let b=h;a&&(b+=a[2]*s/Math.cos(m)/n);const Z=d*(.5+(r?r[1]:0)/n),p=Math.sin(Z)*b/Math.sin(EX(Math.PI/2-m-Z,.01,Math.PI-.01)),f=Math.sin(m)*p+b,G=b*10,V=Math.min(f*c,G);return{fov:d,aspect:e/n,focalDistance:h,near:o,far:V}}function Xp(t){return 2*Math.atan(.5/t)*KX}function rJ(t){return .5/Math.tan(.5*t*Gi)}function aJ(t,e){const[n,i,l=0]=t;return Cl(Number.isFinite(n)&&Number.isFinite(i)&&Number.isFinite(l)),Yo(e,[n,i,l,1])}function HZ(t,e,n=0){const[i,l,r]=t;if(Cl(Number.isFinite(i)&&Number.isFinite(l),"invalid pixel coordinate"),Number.isFinite(r))return Yo(e,[i,l,r,1]);const a=Yo(e,[i,l,0,1]),s=Yo(e,[i,l,1,1]),o=a[2],c=s[2],u=o===c?0:((n||0)-o)/(c-o);return Q3([],a,s,u)}function Cee(t){const{width:e,height:n,bounds:i,minExtent:l=0,maxZoom:r=24,offset:a=[0,0]}=t,[[s,o],[c,u]]=i,d=kee(t.padding),m=Gp([s,EX(u,-dh,dh)]),h=Gp([c,EX(o,-dh,dh)]),b=[Math.max(Math.abs(h[0]-m[0]),l),Math.max(Math.abs(h[1]-m[1]),l)],Z=[e-d.left-d.right-Math.abs(a[0])*2,n-d.top-d.bottom-Math.abs(a[1])*2];Cl(Z[0]>0&&Z[1]>0);const p=Z[0]/b[0],f=Z[1]/b[1],G=(d.right-d.left)/2/p,V=(d.top-d.bottom)/2/f,X=[(h[0]+m[0])/2+G,(h[1]+m[1])/2+V],L=Oo(X),x=Math.min(r,lV(Math.abs(Math.min(p,f))));return Cl(Number.isFinite(x)),{longitude:L[0],latitude:L[1],zoom:x}}function kee(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(Cl(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const tY=Math.PI/180;function Eee(t,e=0){const{width:n,height:i,unproject:l}=t,r={targetZ:e},a=l([0,i],r),s=l([n,i],r);let o,c;const u=t.fovy?.5*t.fovy*tY:Math.atan(.5/t.altitude),d=(90-t.pitch)*tY;return u>d-.01?(o=nY(t,0,e),c=nY(t,n,e)):(o=l([0,0],r),c=l([n,0],r)),[a,s,c,o]}function nY(t,e,n){const{pixelUnprojectionMatrix:i}=t,l=Yo(i,[e,0,1,1]),r=Yo(i,[e,t.height,1,1]),s=(n*t.distanceScales.unitsPerMeter[2]-l[2])/(r[2]-l[2]),o=Q3([],l,r,s),c=Oo(o);return c.push(n),c}const iY=512;function Kee(t){const{width:e,height:n,pitch:i=0}=t;let{longitude:l,latitude:r,zoom:a,bearing:s=0}=t;(l<-180||l>180)&&(l=eY(l+180,360)-180),(s<-180||s>180)&&(s=eY(s+180,360)-180);const o=lV(n/iY);if(a<=o)a=o,r=0;else{const c=n/2/Math.pow(2,a),u=Oo([0,c])[1];if(r<u)r=u;else{const d=Oo([0,iY-c])[1];r>d&&(r=d)}}return{width:e,height:n,longitude:l,latitude:r,zoom:a,pitch:i,bearing:s}}const Uee=`
const int max_lights = 2;
uniform mat4 shadow_uViewProjectionMatrices[max_lights];
uniform vec4 shadow_uProjectCenters[max_lights];
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform int shadow_uLightId;
uniform float shadow_uLightCount;

varying vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  if (shadow_uDrawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);
  }
  if (shadow_uUseShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow_uLightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,Pee=`
const int max_lights = 2;
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;
uniform vec4 shadow_uColor;
uniform float shadow_uLightCount;

varying vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture2D(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow_uDrawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow_uUseShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow_uLightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,Fee=jZ(Oee),zee=jZ(Bee),jee=[0,0,0,1],Hee=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function Dee(t,e){const[n,i,l]=t,r=HZ([n,i,l],e);return Number.isFinite(l)?r:[r[0],r[1],0]}function Oee(t){let{viewport:e,center:n}=t;return new yi(e.viewProjectionMatrix).invert().transform(n)}function Bee(t){let{viewport:e,shadowMatrices:n}=t;const i=[],l=e.pixelUnprojectionMatrix,r=e.isGeospatial?void 0:1,a=[[0,0,r],[e.width,0,r],[0,e.height,r],[e.width,e.height,r],[0,0,-1],[e.width,0,-1],[0,e.height,-1],[e.width,e.height,-1]].map(s=>Dee(s,l));for(const s of n){const o=s.clone().translate(new Gn(e.center).negate()),c=a.map(d=>o.transform(d)),u=new yi().ortho({left:Math.min(...c.map(d=>d[0])),right:Math.max(...c.map(d=>d[0])),bottom:Math.min(...c.map(d=>d[1])),top:Math.max(...c.map(d=>d[1])),near:Math.min(...c.map(d=>-d[2])),far:Math.max(...c.map(d=>-d[2]))});i.push(u.multiplyRight(s))}return i}function Qee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={shadow_uDrawShadowMap:!!t.drawToShadowMap,shadow_uUseShadowMap:t.shadowMaps?t.shadowMaps.length>0:!1,shadow_uColor:t.shadowColor||jee,shadow_uLightId:t.shadowLightId||0,shadow_uLightCount:t.shadowMatrices.length},i=Fee({viewport:t.viewport,center:e.project_uCenter}),l=[],r=zee({shadowMatrices:t.shadowMatrices,viewport:t.viewport}).slice();for(let a=0;a<t.shadowMatrices.length;a++){const s=r[a],o=s.clone().translate(new Gn(t.viewport.center).negate());e.project_uCoordinateSystem===ke.LNGLAT&&e.project_uProjectionMode===Qi.WEB_MERCATOR?(r[a]=o,l[a]=i):(r[a]=s.clone().multiplyRight(Hee),l[a]=o.transform(i))}for(let a=0;a<r.length;a++)n["shadow_uViewProjectionMatrices[".concat(a,"]")]=r[a],n["shadow_uProjectCenters[".concat(a,"]")]=l[a],t.shadowMaps&&t.shadowMaps.length>0?n["shadow_uShadowMap".concat(a)]=t.shadowMaps[a]:n["shadow_uShadowMap".concat(a)]=t.dummyShadowMap;return n}const _f={name:"shadow",dependencies:[iV],vs:Uee,fs:Pee,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.drawToShadowMap||t.shadowMaps&&t.shadowMaps.length>0){const{shadowEnabled:n=!0}=t;return n&&t.shadowMatrices&&t.shadowMatrices.length>0?Qee(t,e):{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1}}return{}}},hc={inject:{"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  // for picking depth values
  picking_setPickingAttribute(geometry.position.z);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}},...wq},Aee=[iV],_ee=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function $ee(t){const e=om.getDefaultProgramManager(t);for(const n of Aee)e.addDefaultModule(n);for(const n of _ee)e.addShaderHook(n);return e}const qee=[255,255,255],ete=1;let tte=0;class nte{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{color:n=qee}=e,{intensity:i=ete}=e;this.id=e.id||"ambient-".concat(tte++),this.color=n,this.intensity=i,this.type="ambient"}}const ite=[255,255,255],lte=1,rte=[0,0,-1];let ate=0;class lY{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{color:n=ite}=e,{intensity:i=lte}=e,{direction:l=rte}=e,{_shadow:r=!1}=e;this.id=e.id||"directional-".concat(ate++),this.color=n,this.intensity=i,this.type="directional",this.direction=new Gn(l).normalize().toArray(),this.shadow=r}getProjectedLight(){return this}}class sJ{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:n="effect"}=e;this.id=n,this.props={...e}}preRender(){}getModuleParameters(){}cleanup(){}}class ste{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{id:i="pass"}=n;this.id=i,this.gl=e,this.props={...n}}setProps(e){Object.assign(this.props,e)}render(){}cleanup(){}}class rV extends ste{render(e){const n=this.gl;return Jl(n,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{viewports:n,views:i,onViewportActive:l,clearCanvas:r=!0}=e;e.pass=e.pass||"unknown";const a=this.gl;r&&cte(a);const s=[];for(const o of n){const c=o.viewport||o,u=i&&i[c.id];l(c);const d=this._getDrawLayerParams(c,e);e.view=u;const m=c.subViewports||[c];for(const h of m){e.viewport=h;const b=this._drawLayersInViewport(a,e,d);s.push(b)}}return s}_getDrawLayerParams(e,n){let{layers:i,pass:l,layerFilter:r,effects:a,moduleParameters:s}=n;const o=[],c=oJ(),u={viewport:e,isPicking:l.startsWith("picking"),renderPass:l},d={};for(let m=0;m<i.length;m++){const h=i[m],b=this._shouldDrawLayer(h,u,r,d),Z=c(h,b),p={shouldDrawLayer:b,layerRenderIndex:Z};b&&(p.moduleParameters=this._getModuleParameters(h,a,l,s),p.layerParameters=this.getLayerParameters(h,m,e)),o[m]=p}return o}_drawLayersInViewport(e,n,i){let{layers:l,pass:r,viewport:a,view:s}=n;const o=ote(e,{viewport:a});if(s&&s.props.clear){const u=s.props.clear===!0?{color:!0,depth:!0}:s.props.clear;fi(e,{scissorTest:!0,scissor:o},()=>AW(e,u))}const c={totalCount:l.length,visibleCount:0,compositeCount:0,pickableCount:0};Jl(e,{viewport:o});for(let u=0;u<l.length;u++){const d=l[u],{shouldDrawLayer:m,layerRenderIndex:h,moduleParameters:b,layerParameters:Z}=i[u];if(m&&d.props.pickable&&c.pickableCount++,d.isComposite)c.compositeCount++;else if(m){c.visibleCount++,b.viewport=a;try{d.drawLayer({moduleParameters:b,uniforms:{layerIndex:h},parameters:Z})}catch(p){d.raiseError(p,"drawing ".concat(d," to ").concat(r))}}}return c}shouldDrawLayer(e){return!0}getModuleParameters(e,n){return null}getLayerParameters(e,n){return e.props.parameters}_shouldDrawLayer(e,n,i,l){if(!(this.shouldDrawLayer(e)&&e.props.visible))return!1;n.layer=e;let a=e.parent;for(;a;){if(!a.props.visible||!a.filterSubLayer(n))return!1;n.layer=a,a=a.parent}if(i){const s=n.layer.id;if(s in l||(l[s]=i(n)),!l[s])return!1}return e.activateViewport(n.viewport),!0}_getModuleParameters(e,n,i,l){const r=Object.assign(Object.create(e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:Fo(this.gl)});if(n)for(const a of n)Object.assign(r,a.getModuleParameters(e));return Object.assign(r,this.getModuleParameters(e,n),l)}}function oJ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},i=(l,r)=>{const a=l.props._offset,s=l.id,o=l.parent&&l.parent.id;let c;if(o&&!(o in e)&&i(l.parent,!1),o in n){const u=n[o]=n[o]||oJ(e[o],e);c=u(l,r),n[s]=u}else Number.isFinite(a)?(c=a+(e[o]||0),n[s]=null):c=t;return r&&c>=t&&(t=c+1),e[s]=c,c};return i}function ote(t,e){let{viewport:n}=e;const i=t.canvas?t.canvas.clientHeight||t.canvas.height:100,l=n,r=Fo(t);return[l.x*r,(i-l.y-l.height)*r,l.width*r,l.height*r]}function cte(t){const e=t.drawingBufferWidth,n=t.drawingBufferHeight;Jl(t,{viewport:[0,0,e,n]}),t.clear(16640)}class ute extends rV{constructor(e,n){super(e,n),this.shadowMap=new Qn(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new mo(e,{format:33189,width:1,height:1}),this.fbo=new Wt(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const n=this.fbo;fi(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const i=e.viewports[0],l=Fo(this.gl),r=i.width*l,a=i.height*l;(r!==n.width||a!==n.height)&&n.resize({width:r,height:a}),super.render({...e,target:n,pass:"shadow"})})}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const dte={color:[255,255,255],intensity:1},rY=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],mte=[0,0,0,200/255];class cJ extends sJ{constructor(e){super(e),this.ambientLight=null,this.directionalLights=[],this.pointLights=[],this.shadowColor=mte,this.shadowPasses=[],this.shadowMaps=[],this.dummyShadowMap=null,this.shadow=!1,this.programManager=null;for(const n in e){const i=e[n];switch(i.type){case"ambient":this.ambientLight=i;break;case"directional":this.directionalLights.push(i);break;case"point":this.pointLights.push(i);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(n=>n.shadow)}preRender(e,n){let{layers:i,layerFilter:l,viewports:r,onViewportActive:a,views:s}=n;if(this.shadow){this.shadowMatrices=this._createLightMatrix(),this.shadowPasses.length===0&&this._createShadowPasses(e),this.programManager||(this.programManager=om.getDefaultProgramManager(e),_f&&this.programManager.addDefaultModule(_f)),this.dummyShadowMap||(this.dummyShadowMap=new Qn(e,{width:1,height:1}));for(let o=0;o<this.shadowPasses.length;o++)this.shadowPasses[o].render({layers:i,layerFilter:l,viewports:r,onViewportActive:a,views:s,moduleParameters:{shadowLightId:o,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const n=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return n.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(i=>i.getProjectedLight({layer:e})),pointLights:this.pointLights.map(i=>i.getProjectedLight({layer:e}))},n}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(_f),this.programManager=null)}_createLightMatrix(){const e=[];for(const n of this.directionalLights){const i=new yi().lookAt({eye:new Gn(n.direction).negate()});e.push(i)}return e}_createShadowPasses(e){for(let n=0;n<this.directionalLights.length;n++){const i=new ute(e);this.shadowPasses[n]=i,this.shadowMaps[n]=i.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:n,directionalLights:i}=this;!e&&n.length===0&&i.length===0&&(this.ambientLight=new nte(dte),this.directionalLights.push(new lY(rY[0]),new lY(rY[1])))}}class hte{constructor(e){this._pool=[],this.props={overAlloc:2,poolSize:100},this.setProps(e)}setProps(e){Object.assign(this.props,e)}allocate(e,n,i){let{size:l=1,type:r,padding:a=0,copy:s=!1,initialize:o=!1,maxCount:c}=i;const u=r||e&&e.constructor||Float32Array,d=n*l+a;if(ArrayBuffer.isView(e)){if(d<=e.length)return e;if(d*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new u(e.buffer,0,d)}let m;c&&(m=c*l+a);const h=this._allocate(u,d,o,m);return e&&s?h.set(e):o||h.fill(0,0,4),this._release(e),h}release(e){this._release(e)}_allocate(e,n,i,l){let r=Math.max(Math.ceil(n*this.props.overAlloc),1);r>l&&(r=l);const a=this._pool,s=e.BYTES_PER_ELEMENT*r,o=a.findIndex(c=>c.byteLength>=s);if(o>=0){const c=new e(a.splice(o,1)[0],0,r);return i&&c.fill(0),c}return new e(r)}_release(e){if(!ArrayBuffer.isView(e))return;const n=this._pool,{buffer:i}=e,{byteLength:l}=i,r=n.findIndex(a=>a.byteLength>=l);r<0?n.push(i):(r>0||n.length<this.props.poolSize)&&n.splice(r,0,i),n.length>this.props.poolSize&&n.shift()}}const Bo=new hte;function yu(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function bte(t,e){const n=t%e;return n<0?e+n:n}function pte(t){return[t[12],t[13],t[14]]}function Zte(t){const e={};return e.left=Ss(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),e.right=Ss(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),e.bottom=Ss(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),e.top=Ss(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),e.near=Ss(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),e.far=Ss(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14]),e}const aY=new Gn;function Ss(t,e,n,i){aY.set(t,e,n);const l=aY.len();return{distance:i/l,normal:new Gn(-t/l,-e/l,-n/l)}}function fte(t){return t-Math.fround(t)}let $c;function $f(t,e){let{size:n=1,startIndex:i=0,endIndex:l}=e;Number.isFinite(l)||(l=t.length);const r=(l-i)/n;$c=Bo.allocate($c,r,{type:Float32Array,size:n*2});let a=i,s=0;for(;a<l;){for(let o=0;o<n;o++){const c=t[a++];$c[s+o]=c,$c[s+o+n]=fte(c)}s+=n*2}return $c.subarray(0,r*n*2)}const yte=Math.PI/180,Gte=yu(),qf=[0,0,0],Xte=0,gte={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class Dr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:n=null,x:i=0,y:l=0,width:r=1,height:a=1}=e;this.id=n||this.constructor.displayName||"viewport",this.x=i,this.y=l,this.width=r||1,this.height=a||1,this._frustumPlanes={},this._initViewMatrix(e),this._initProjectionMatrix(e),this._initPixelMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Qi.WEB_MERCATOR:Qi.WEB_MERCATOR_AUTO_OFFSET:Qi.IDENTITY}equals(e){return e instanceof Dr?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&Sd(e.projectionMatrix,this.projectionMatrix)&&Sd(e.viewMatrix,this.viewMatrix):!1}project(e){let{topLeft:n=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.projectPosition(e),l=aJ(i,this.pixelProjectionMatrix),[r,a]=l,s=n?a:this.height-a;return e.length===2?[r,s]:[r,s,l[2]]}unproject(e){let{topLeft:n=!0,targetZ:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const[l,r,a]=e,s=n?r:this.height-r,o=i&&i*this.distanceScales.unitsPerMeter[2],c=HZ([l,s,a],this.pixelUnprojectionMatrix,o),[u,d,m]=this.unprojectPosition(c);return Number.isFinite(a)?[u,d,m]:Number.isFinite(i)?[u,d,i]:[u,d]}projectPosition(e){const[n,i]=this.projectFlat(e),l=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[n,i,l]}unprojectPosition(e){const[n,i]=this.unprojectFlat(e),l=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[n,i,l]}projectFlat(e){return this.isGeospatial?Gp(e):e}unprojectFlat(e){return this.isGeospatial?Oo(e):e}getBounds(){const n={targetZ:(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).z||0},i=this.unproject([0,0],n),l=this.unproject([this.width,0],n),r=this.unproject([0,this.height],n),a=this.unproject([this.width,this.height],n);return[Math.min(i[0],l[0],r[0],a[0]),Math.min(i[1],l[1],r[1],a[1]),Math.max(i[0],l[0],r[0],a[0]),Math.max(i[1],l[1],r[1],a[1])]}getDistanceScales(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?PX({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel(e){let{x:n,y:i,width:l=1,height:r=1}=e;return n<this.x+this.width&&this.x<n+l&&i<this.y+this.height&&this.y<i+r}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,Zte(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,n){return null}getCameraPosition(){return this.cameraPosition}getCameraDirection(){return this.cameraDirection}getCameraUp(){return this.cameraUp}_createProjectionMatrix(e){let{orthographic:n,fovyRadians:i,aspect:l,focalDistance:r,near:a,far:s}=e;return n?new yi().orthographic({fovy:i,aspect:l,focalDistance:r,near:a,far:s}):new yi().perspective({fovy:i,aspect:l,near:a,far:s})}_initViewMatrix(e){const{viewMatrix:n=Gte,longitude:i=null,latitude:l=null,zoom:r=null,position:a=null,modelMatrix:s=null,focalDistance:o=1,distanceScales:c=null}=e;this.isGeospatial=Number.isFinite(l)&&Number.isFinite(i),this.zoom=r,Number.isFinite(this.zoom)||(this.zoom=this.isGeospatial?Iee({latitude:l})+Math.log2(o):Xte);const u=Math.pow(2,this.zoom);this.scale=u,this.distanceScales=this.isGeospatial?PX({latitude:l,longitude:i}):c||gte,this.focalDistance=o,this.distanceScales.metersPerUnit=new Gn(this.distanceScales.metersPerUnit),this.distanceScales.unitsPerMeter=new Gn(this.distanceScales.unitsPerMeter),this.position=qf,this.meterOffset=qf,a&&(this.position=a,this.modelMatrix=s,this.meterOffset=s?s.transformVector(a):a),this.isGeospatial?(this.longitude=i,this.latitude=l,this.center=this._getCenterInWorld({longitude:i,latitude:l})):this.center=a?this.projectPosition(a):[0,0,0],this.viewMatrixUncentered=n,this.viewMatrix=new yi().multiplyRight(this.viewMatrixUncentered).translate(new Gn(this.center||qf).negate())}_getCenterInWorld(e){let{longitude:n,latitude:i}=e;const{meterOffset:l,distanceScales:r}=this,a=new Gn(this.projectPosition([n,i,0]));if(l){const s=new Gn(l).scale(r.unitsPerMeter);a.add(s)}return a}_initProjectionMatrix(e){const{projectionMatrix:n=null,orthographic:i=!1,fovyRadians:l,fovy:r=75,near:a=.1,far:s=1e3,focalDistance:o=1}=e;this.projectionMatrix=n||this._createProjectionMatrix({orthographic:i,fovyRadians:l||r*yte,aspect:this.width/this.height,focalDistance:o,near:a,far:s})}_initPixelMatrices(){const e=yu();wa(e,e,this.projectionMatrix),wa(e,e,this.viewMatrix),this.viewProjectionMatrix=e,this.viewMatrixInverse=CX([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=pte(this.viewMatrixInverse);const n=yu(),i=yu();tV(n,n,[this.width/2,-this.height/2,1]),fp(n,n,[1,-1,0]),wa(i,n,this.viewProjectionMatrix),this.pixelProjectionMatrix=i,this.viewportMatrix=n,this.pixelUnprojectionMatrix=CX(yu(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||we.warn("Pixel project matrix not invertible")()}}Dr.displayName="Viewport";const Wte=512,Vte=4003e4,Tte=Math.PI/180;function sY(t){const e=Math.cos(t*Tte);return Wte/Vte/e}class Qo extends Dr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{latitude:n=0,longitude:i=0,zoom:l=11,pitch:r=0,bearing:a=0,nearZMultiplier:s=.1,farZMultiplier:o=1.01,orthographic:c=!1,projectionMatrix:u,repeat:d=!1,worldOffset:m=0,legacyMeterSizes:h=!1}=e;let{width:b,height:Z,altitude:p=1.5}=e;const f=Math.pow(2,l);b=b||1,Z=Z||1;let G,V=null;u?(p=u[5]/2,G=Xp(p)):(e.fovy?(G=e.fovy,p=rJ(G)):G=Xp(p),V=Jee({width:b,height:Z,pitch:r,fovy:G,nearZMultiplier:s,farZMultiplier:o}));let X=wee({height:Z,pitch:r,bearing:a,scale:f,altitude:p});m&&(X=new yi().translate([512*m,0,0]).multiplyLeft(X)),super({...e,width:b,height:Z,viewMatrix:X,longitude:i,latitude:n,zoom:l,...V,fovy:G,focalDistance:p}),this.latitude=n,this.longitude=i,this.zoom=l,this.pitch=r,this.bearing=a,this.altitude=p,this.fovy=G,this.orthographic=c,this._subViewports=d?[]:null,this._pseudoMeters=h,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),n=Math.floor((e[0]+180)/360),i=Math.ceil((e[2]-180)/360);for(let l=n;l<=i;l++){const r=l?new Qo({...this,worldOffset:l}):this;this._subViewports.push(r)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[n,i]=this.projectFlat(e),l=(e[2]||0)*sY(e[1]);return[n,i,l]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[n,i]=this.unprojectFlat(e),l=(e[2]||0)/sY(i);return[n,i,l]}addMetersToLngLat(e,n){return lJ(e,n)}panByPosition(e,n){const i=HZ(n,this.pixelUnprojectionMatrix),l=this.projectFlat(e),r=Zp([],l,B3([],i)),a=Zp([],this.center,r),[s,o]=this.unprojectFlat(a);return{longitude:s,latitude:o}}getBounds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=Eee(this,e.z||0);return[Math.min(n[0][0],n[1][0],n[2][0],n[3][0]),Math.min(n[0][1],n[1][1],n[2][1],n[3][1]),Math.max(n[0][0],n[1][0],n[2][0],n[3][0]),Math.max(n[0][1],n[1][1],n[2][1],n[3][1])]}fitBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{width:i,height:l}=this,{longitude:r,latitude:a,zoom:s}=Cee({width:i,height:l,bounds:e,...n});return new Qo({width:i,height:l,longitude:r,latitude:a,zoom:s})}}Qo.displayName="WebMercatorViewport";function ey(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=e.projectPosition(t);if(n&&e instanceof Qo){const[l,r,a=0]=t,s=e.getDistanceScales([l,r]);i[2]=a*s.unitsPerMeter[2]}return i}function xte(t){const e={...t};let{coordinateSystem:n}=t;const{viewport:i,coordinateOrigin:l,fromCoordinateSystem:r,fromCoordinateOrigin:a}=t;return n===ke.DEFAULT&&(n=i.isGeospatial?ke.LNGLAT:ke.CARTESIAN),r===void 0&&(e.fromCoordinateSystem=n),a===void 0&&(e.fromCoordinateOrigin=l),e.coordinateSystem=n,e}function uJ(t,e){let{viewport:n,modelMatrix:i,coordinateSystem:l,coordinateOrigin:r,offsetMode:a}=e,[s,o,c=0]=t;switch(i&&([s,o,c]=sm([],[s,o,c,1],i)),l){case ke.LNGLAT:return ey([s,o,c],n,a);case ke.LNGLAT_OFFSETS:return ey([s+r[0],o+r[1],c+(r[2]||0)],n,a);case ke.METER_OFFSETS:return ey(lJ(r,[s,o,c]),n,a);case ke.CARTESIAN:default:return n.isGeospatial?[s+r[0],o+r[1],c+r[2]]:n.projectPosition([s,o,c])}}function Rte(t,e){const{viewport:n,coordinateSystem:i,coordinateOrigin:l,modelMatrix:r,fromCoordinateSystem:a,fromCoordinateOrigin:s}=xte(e),{geospatialOrigin:o,shaderCoordinateOrigin:c,offsetMode:u}=nJ(n,i,l),d=uJ(t,{viewport:n,modelMatrix:r,coordinateSystem:a,coordinateOrigin:s,offsetMode:u});if(u){const m=n.projectPosition(o||c);lq(d,d,m)}return d}const ws={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},DZ={COMPONENT:Symbol.for("component"),ASYNC_DEFAULTS:Symbol.for("asyncPropDefaults"),ASYNC_ORIGINAL:Symbol.for("asyncPropOriginal"),ASYNC_RESOLVED:Symbol.for("asyncPropResolved")};function aV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>!0;return Array.isArray(t)?dJ(t,e,[]):e(t)?[t]:[]}function dJ(t,e,n){let i=-1;for(;++i<t.length;){const l=t[i];Array.isArray(l)?dJ(l,e,n):e(l)&&n.push(l)}return n}function Ste(t){let{target:e,source:n,start:i=0,count:l=1}=t;const r=n.length,a=l*r;let s=0;for(let o=i;s<r;s++)e[o++]=n[s];for(;s<a;)s<a-s?(e.copyWithin(i+s,i,i+s),s*=2):(e.copyWithin(i+s,i,i+a-s),s=a);return e}class Yte{constructor(e,n,i){this.id=e,this.context=i,this._loadCount=0,this._subscribers=new Set,this.setData(n)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,n){if(e===this._data&&!n)return;this._data=e;const i=++this._loadCount;let l=e;typeof e=="string"&&(l=mp(e)),l instanceof Promise?(this.isLoaded=!1,this._loader=l.then(r=>{this._loadCount===i&&(this.isLoaded=!0,this._error=null,this._content=r)}).catch(r=>{this._loadCount===i&&(this.isLoaded=!0,this._error=r||!0)})):(this.isLoaded=!0,this._error=null,this._content=e);for(const r of this._subscribers)r.onChange(this.getData())}}class Lte{constructor(e){let{gl:n,protocol:i}=e;this.protocol=i||"resource://",this._context={gl:n,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add(e){let{resourceId:n,data:i,forceUpdate:l=!1,persistent:r=!0}=e,a=this._resources[n];a?a.setData(i,l):(a=new Yte(n,i,this._context),this._resources[n]=a),a.persistent=r}remove(e){const n=this._resources[e];n&&(n.delete(),delete this._resources[e])}unsubscribe(e){let{consumerId:n}=e;const i=this._consumers[n];if(i){for(const l in i){const r=i[l];r.resource&&r.resource.unsubscribe(r)}delete this._consumers[n],this.prune()}}subscribe(e){let{resourceId:n,onChange:i,consumerId:l,requestId:r="default"}=e;const{_resources:a,protocol:s}=this;n.startsWith(s)&&(n=n.replace(s,""),a[n]||this.add({resourceId:n,data:null,persistent:!1}));const o=a[n];if(this._track(l,r,o,i),o)return o.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,n,i,l){const r=this._consumers,a=r[e]=r[e]||{},s=a[n]||{};s.resource&&(s.resource.unsubscribe(s),s.resource=null,this.prune()),i&&(a[n]=s,s.onChange=l,s.resource=i,i.subscribe(s))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const n=this._resources[e];!n.persistent&&!n.inUse()&&(n.delete(),delete this._resources[e])}}}const Mte="layerManager.setLayers",Nte="layerManager.activateViewport",vte=Object.seal({layerManager:null,resourceManager:null,deck:null,gl:null,stats:null,shaderCache:null,pickingFBO:null,mousePosition:null,userData:{}});class Ite{constructor(e){let{deck:n,stats:i,viewport:l,timeline:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.lastRenderedLayers=[],this.layers=[],this.resourceManager=new Lte({gl:e,protocol:"deck://"}),this.context={...vte,layerManager:this,gl:e,deck:n,programManager:e&&$ee(e),stats:i||new kW({id:"deck.gl"}),viewport:l||new Dr({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:r||new tJ,resourceManager:this.resourceManager},this._nextLayers=null,this._needsRedraw="Initial render",this._needsUpdate=!1,this._debug=!1,this.activateViewport=this.activateViewport.bind(this),Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{clearRedrawFlags:!1},n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const i of this.layers){const l=i.getNeedsRedraw(e);n=n||l}return n}needsUpdate(){return this._nextLayers&&this._nextLayers!==this.lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers(){let{layerIds:e=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e?this.layers.filter(n=>e.find(i=>n.id.indexOf(i)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,n){Jt(Mte,this,n,e),this.lastRenderedLayers=e,e=aV(e,Boolean);for(const i of e)i.context=this.context;return this._updateLayers(this.layers,e),this}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this.lastRenderedLayers,e)),this._nextLayers=null}activateViewport(e){return Jt(Nte,this,e),e&&(this.context.viewport=e),this}_handleError(e,n,i){i.raiseError(n,"".concat(e," of ").concat(i))}_updateLayers(e,n){const i={};for(const a of e)i[a.id]?we.warn("Multiple old layers with same id ".concat(a.id))():i[a.id]=a;const l=[];this._updateSublayersRecursively(n,i,l),this._finalizeOldLayers(i);let r=!1;for(const a of l)if(a.hasUniformTransition()){r=!0;break}this._needsUpdate=r,this.layers=l}_updateSublayersRecursively(e,n,i){for(const l of e){l.context=this.context;const r=n[l.id];r===null&&we.warn("Multiple new layers with same id ".concat(l.id))(),n[l.id]=null;let a=null;try{this._debug&&r!==l&&l.validateProps(),r?(this._transferLayerState(r,l),this._updateLayer(l)):this._initializeLayer(l),i.push(l),a=l.isComposite&&l.getSubLayers()}catch(s){this._handleError("matching",s,l)}a&&this._updateSublayersRecursively(a,n,i)}}_finalizeOldLayers(e){for(const n in e){const i=e[n];i&&this._finalizeLayer(i)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=ws.INITIALIZED}catch(n){this._handleError("initialization",n,e)}}_transferLayerState(e,n){n._transferState(e),n.lifecycle=ws.MATCHED,n!==e&&(e.lifecycle=ws.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(n){this._handleError("update",n,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=ws.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=ws.FINALIZED}catch(n){this._handleError("finalization",n,e)}}}function cm(t,e){if(t===e)return!0;if(!t||!e)return!1;for(const n in t){const i=t[n],l=e[n];if(!(i===l||Array.isArray(i)&&Array.isArray(l)&&cm(i,l)))return!1}return!0}class wte{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="Initial render",this._needsUpdate=!0,this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers)this.controllers[e]&&this.controllers[e].finalize();this.controllers={}}needsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{clearRedrawFlags:!1};const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const n=this.controllers[e];n&&n.updateTransition()}}getViewports(e){return e?this._viewports.filter(n=>n.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(n=>{e[n.id]=n}),e}getView(e){return typeof e=="string"?this.views.find(n=>n.id===e):e}getViewState(e){const n=this.getView(e),i=n&&this.viewState[n.getViewStateId()]||this.viewState;return n?n.filterViewState(i):i}getViewport(e){return this._viewportMap[e]}unproject(e,n){const i=this.getViewports(),l={x:e[0],y:e[1]};for(let r=i.length-1;r>=0;--r){const a=i[r];if(a.containsPixel(l)){const s=e.slice();return s[0]-=a.x,s[1]-=a.y,a.unproject(s,n)}}return null}setProps(e){"views"in e&&this._setViews(e.views),"viewState"in e&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,n){(e!==this.width||n!==this.height)&&(this.width=e,this.height=n,this.setNeedsUpdate("Size changed"))}_setViews(e){e=aV(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!cm(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):we.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,n){n.viewId=e,this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange(n)}_createController(e,n){const i=n.type;return new i({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,n.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:r=>e._getViewport(r,{width:r.width,height:r.height}),...n})}_updateController(e,n,i,l){let r=e.controller;return r?(r={...n,...e.props,...r,id:e.id,x:i.x,y:i.y,width:i.width,height:i.height},l?l.setProps(r):l=this._createController(e,r),l):null}_rebuildViewports(){const{width:e,height:n,views:i}=this,l=this.controllers;this._viewports=[],this.controllers={};let r=!1;for(let a=i.length;a--;){const s=i[a],o=this.getViewState(s),c=s.makeViewport({width:e,height:n,viewState:o});let u=l[s.id];s.controller&&!u&&(r=!0),(r||!s.controller)&&u&&(u.finalize(),u=null),this.controllers[s.id]=this._updateController(s,o,c,u),this._viewports.unshift(c)}for(const a in l)l[a]&&!this.controllers[a]&&l[a].finalize();this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,n){return e.length!==n.length?!0:e.some((i,l)=>!e[l].equals(n[l]))}}const Jte=/([0-9]+\.?[0-9]*)(%|px)/;function mh(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=t.match(Jte);if(e&&e.length>=3){const n=e[2]==="%",i=parseFloat(e[1]);return{position:n?i/100:i,relative:n}}default:throw new Error("Could not parse position string ".concat(t))}}function hh(t,e){return t.relative?Math.round(t.position*e):t.position}function Rn(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}class kl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:n=null,x:i=0,y:l=0,width:r="100%",height:a="100%",viewportInstance:s,type:o=Dr}=e;Rn(!s||s instanceof Dr),this.viewportInstance=s,this.id=n||this.constructor.displayName||"view",this.type=o,this.props={...e,id:this.id},this._parseDimensions({x:i,y:l,width:r,height:a}),this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.viewportInstance?e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):cm(this.props,e.props)}makeViewport(e){let{width:n,height:i,viewState:l}=e;if(this.viewportInstance)return this.viewportInstance;l=this.filterViewState(l);const r=this.getDimensions({width:n,height:i});return this._getViewport(l,r)}getViewStateId(){switch(typeof this.props.viewState){case"string":return this.props.viewState;case"object":return this.props.viewState&&this.props.viewState.id;default:return this.id}}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const n={...e};for(const i in this.props.viewState)i!=="id"&&(n[i]=this.props.viewState[i]);return n}return e}getDimensions(e){let{width:n,height:i}=e;return{x:hh(this._x,n),y:hh(this._y,i),width:hh(this._width,n),height:hh(this._height,i)}}_getControllerProps(e){let n=this.props.controller;return n?n===!0?e:(typeof n=="function"&&(n={type:n}),{...e,...n}):null}_getViewport(e,n){const{type:i}=this;return new i({...e,...this.props,...n})}_parseDimensions(e){let{x:n,y:i,width:l,height:r}=e;this._x=mh(n),this._y=mh(i),this._width=mh(l),this._height=mh(r)}}function bh(){}const Cte={onStart:bh,onUpdate:bh,onInterrupt:bh,onEnd:bh};class um{constructor(e){this._inProgress=!1,this._handle=null,this.timeline=e,this.settings={}}get inProgress(){return this._inProgress}start(e){this.cancel(),this.settings={...Cte,...e},this._inProgress=!0,this.settings.onStart(this)}end(){this._inProgress&&(this.timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd(this))}cancel(){this._inProgress&&(this.settings.onInterrupt(this),this.timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){if(!this._inProgress)return!1;if(this._handle===null){const{timeline:e,settings:n}=this;this._handle=e.addChannel({delay:e.getTime(),duration:n.duration})}return this.time=this.timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate(this),this.timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const Du=()=>{},gp={BREAK:1,SNAP_TO_END:2,IGNORE:3},oY={transitionEasing:t=>t,transitionInterruption:gp.BREAK,onTransitionStart:Du,onTransitionInterrupt:Du,onTransitionEnd:Du};class kte{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ControllerState=e,this.props={...oY,...n},this.propsInTransition=null,this.transition=new um(n.timeline),this.onViewStateChange=n.onViewStateChange||Du,this.onStateChange=n.onStateChange||Du,this._onTransitionUpdate=this._onTransitionUpdate.bind(this)}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let n=!1;const i=this.props;if(e={...oY,...e},this.props=e,this._shouldIgnoreViewportChange(i,e))return n;if(this._isTransitionEnabled(e)){const{interruption:l,endProps:r}=this.transition.settings,a={...i,...l===gp.SNAP_TO_END?r:this.propsInTransition||i};this._triggerTransition(a,e),n=!0}else this.transition.cancel();return n}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:n,transitionInterpolator:i}=e;return(n>0||n==="auto")&&!!i}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,n){return this.transition.inProgress?this.transition.settings.interruption===gp.IGNORE||this._isUpdateDueToCurrentTransition(n):this._isTransitionEnabled(n)?n.transitionInterpolator.arePropsEqual(e,n):!0}_triggerTransition(e,n){const i=new this.ControllerState(e),l=new this.ControllerState(n).shortestPathFrom(i),{transitionInterpolator:r}=n,a=r.getDuration?r.getDuration(e,n):n.transitionDuration;if(a===0)return;const s=n.transitionInterpolator.initializeProps(e,l);this.propsInTransition={},this.duration=a,this.transition.start({duration:a,easing:n.transitionEasing,interpolator:n.transitionInterpolator,interruption:n.transitionInterruption,startProps:s.start,endProps:s.end,onStart:n.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(n.onTransitionInterrupt),onEnd:this._onTransitionEnd(n.onTransitionEnd)}),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return n=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e(n)}}_onTransitionUpdate(e){const{time:n,settings:{interpolator:i,startProps:l,endProps:r,duration:a,easing:s}}=e,o=s(n/a),c=i.interpolateProps(l,r,o);this.propsInTransition=new this.ControllerState({...this.props,...c}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}}class Ete{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Array.isArray(e)&&(e={compare:e,extract:e,required:e});const{compare:n,extract:i,required:l}=e;this._propsToCompare=n,this._propsToExtract=i,this._requiredProps=l}arePropsEqual(e,n){for(const i of this._propsToCompare||Object.keys(n))if(!(i in e)||!(i in n)||!Sd(e[i],n[i]))return!1;return!0}initializeProps(e,n){let i;if(this._propsToExtract){const l={},r={};for(const a of this._propsToExtract)l[a]=e[a],r[a]=n[a];i={start:l,end:r}}else i={start:e,end:n};return this._checkRequiredProps(i.start),this._checkRequiredProps(i.end),i}interpolateProps(e,n,i){return n}getDuration(e,n){return n.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(n=>{const i=e[n];Rn(Number.isFinite(i)||Array.isArray(i),"".concat(n," is required for transition"))})}}const cY=["longitude","latitude","zoom","bearing","pitch"],Kte=["longitude","latitude","zoom"];class uY extends Ete{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=Array.isArray(e)?e:e.transitionProps;super(n||{compare:cY,extract:cY,required:Kte}),this.opts=e}initializeProps(e,n){const i=super.initializeProps(e,n),{makeViewport:l,around:r}=this.opts;if(l&&r){const a=l(e),s=l(n),o=a.unproject(r);i.start.around=r,Object.assign(i.end,{around:s.project(o),aroundPosition:o,width:n.width,height:n.height})}return i}interpolateProps(e,n,i){const l={};for(const r of this._propsToExtract)l[r]=pp(e[r]||0,n[r]||0,i);if(n.aroundPosition){const r=this.opts.makeViewport({...n,...l});Object.assign(l,r.panByPosition(n.aroundPosition,pp(e.around,n.around,i)))}return l}}const er={transitionDuration:0},Ute={transitionDuration:300,transitionEasing:t=>t,transitionInterruption:gp.BREAK},Pte=300,ph=t=>1-(1-t)*(1-t),Ys={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]};class mJ{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ControllerState=e,this.controllerState=null,this.controllerStateProps=null,this.eventManager=null,this.transitionManager=new kte(e,{...n,onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)});const i=this.linearTransitionProps;this._transition=i&&{...Ute,transitionInterpolator:new uY({transitionProps:i})},this._events=null,this._interactionState={isDragging:!1},this._customEvents=[],this.onViewStateChange=null,this.onStateChange=null,this.handleEvent=this.handleEvent.bind(this),this.setProps(n)}get linearTransitionProps(){return null}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.setProps(this.controllerStateProps)}finalize(){for(const e in this._events)this._events[e]&&this.eventManager.off(e,this.handleEvent);this.transitionManager.finalize()}handleEvent(e){const{ControllerState:n}=this;this.controllerState=new n({makeViewport:this.makeViewport,...this.controllerStateProps,...this._state});const i=this._eventStartBlocked;switch(e.type){case"panstart":return i?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return i?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return i?!1:this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}getCenter(e){const{x:n,y:i}=this.controllerStateProps,{offsetCenter:l}=e;return[l.x-n,l.y-i]}isPointInBounds(e,n){const{width:i,height:l}=this.controllerStateProps;if(n&&n.handled)return!1;const r=e[0]>=0&&e[0]<=i&&e[1]>=0&&e[1]<=l;return r&&n&&n.stopPropagation(),r}isFunctionKeyPressed(e){const{srcEvent:n}=e;return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}isDragging(){return this._interactionState.isDragging}blockEvents(e){const n=setTimeout(()=>{this._eventStartBlocked===n&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=n}setProps(e){"onViewStateChange"in e&&(this.onViewStateChange=e.onViewStateChange),"onStateChange"in e&&(this.onStateChange=e.onStateChange),"makeViewport"in e&&(this.makeViewport=e.makeViewport),"dragMode"in e&&(this.dragMode=e.dragMode),this.controllerStateProps=e,"eventManager"in e&&this.eventManager!==e.eventManager&&(this.eventManager=e.eventManager,this._events={},this.toggleEvents(this._customEvents,!0)),"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);let{inertia:n}=e;n===!0&&(n=Pte),this.inertia=n;const{scrollZoom:i=!0,dragPan:l=!0,dragRotate:r=!0,doubleClickZoom:a=!0,touchZoom:s=!0,touchRotate:o=!1,keyboard:c=!0}=e,u=!!this.onViewStateChange;this.toggleEvents(Ys.WHEEL,u&&i),this.toggleEvents(Ys.PAN,u&&(l||r)),this.toggleEvents(Ys.PINCH,u&&(s||o)),this.toggleEvents(Ys.TRIPLE_PAN,u&&o),this.toggleEvents(Ys.DOUBLE_TAP,u&&a),this.toggleEvents(Ys.KEYBOARD,u&&c),this.scrollZoom=i,this.dragPan=l,this.dragRotate=r,this.doubleClickZoom=a,this.touchZoom=s,this.touchRotate=o,this.keyboard=c}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,n){this.eventManager&&e.forEach(i=>{this._events[i]!==n&&(this._events[i]=n,n?this.eventManager.on(i,this.handleEvent):this.eventManager.off(i,this.handleEvent))})}updateViewport(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l={...e.getViewportProps(),...n},r=this.controllerState!==e;if(this._state=e.getState(),this._setInteractionState(i),r){const a=this.controllerState?this.controllerState.getViewportProps():null;this.onViewStateChange&&this.onViewStateChange({viewState:l,interactionState:this._interactionState,oldViewState:a})}}_onTransition(e){this.onViewStateChange&&(e.interactionState=this._interactionState,this.onViewStateChange(e))}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange&&this.onStateChange(this._interactionState)}_onPanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;let i=this.isFunctionKeyPressed(e)||e.rightButton;(this.invertPan||this.dragMode==="pan")&&(i=!i);const l=this.controllerState[i?"panStart":"rotateStart"]({pos:n});return this._panMove=i,this.updateViewport(l,er,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const n=this.getCenter(e),i=this.controllerState.pan({pos:n});return this.updateViewport(i,er,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:n}=this;if(this.dragPan&&n&&e.velocity){const i=this.getCenter(e),l=[i[0]+e.velocityX*n/2,i[1]+e.velocityY*n/2],r=this.controllerState.pan({pos:l}).panEnd();this.updateViewport(r,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ph},{isDragging:!1,isPanning:!0})}else{const i=this.controllerState.panEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const n=this.getCenter(e),i=this.controllerState.rotate({pos:n});return this.updateViewport(i,er,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:n}=this;if(this.dragRotate&&n&&e.velocity){const i=this.getCenter(e),l=[i[0]+e.velocityX*n/2,i[1]+e.velocityY*n/2],r=this.controllerState.rotate({pos:l}).rotateEnd();this.updateViewport(r,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ph},{isDragging:!1,isRotating:!0})}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.preventDefault();const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const{speed:i=.01,smooth:l=!1}=this.scrollZoom,{delta:r}=e;let a=2/(1+Math.exp(-Math.abs(r*i)));r<0&&a!==0&&(a=1/a);const s=this.controllerState.zoom({pos:n,scale:a});return this.updateViewport(s,{...this._getTransitionProps({around:n}),transitionDuration:l?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const i=this.controllerState.rotateStart({pos:n});return this.updateViewport(i,er,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const n=this.getCenter(e);n[0]-=e.deltaX;const i=this.controllerState.rotate({pos:n});return this.updateViewport(i,er,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this;if(this.touchRotate&&n&&e.velocityY){const i=this.getCenter(e),l=[i[0],i[1]+=e.velocityY*n/2],r=this.controllerState.rotate({pos:l});this.updateViewport(r,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:ph},{isDragging:!1,isRotating:!0}),this.blockEvents(n)}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const i=this.controllerState.zoomStart({pos:n}).rotateStart({pos:n});return this._startPinchRotation=e.rotation,this._lastPinchEvent=e,this.updateViewport(i,er,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let n=this.controllerState;if(this.touchZoom){const{scale:i}=e,l=this.getCenter(e);n=n.zoom({pos:l,scale:i})}if(this.touchRotate){const{rotation:i}=e;n=n.rotate({deltaAngleX:this._startPinchRotation-i})}return this.updateViewport(n,er,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),this._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:n,_lastPinchEvent:i}=this;if(this.touchZoom&&n&&i&&e.scale!==i.scale){const l=this.getCenter(e);let r=this.controllerState.rotateEnd();const a=Math.log2(e.scale),s=(a-Math.log2(i.scale))/(e.deltaTime-i.deltaTime),o=Math.pow(2,a+s*n/2);r=r.zoom({pos:l,scale:o}).zoomEnd(),this.updateViewport(r,{...this._getTransitionProps({around:l}),transitionDuration:n,transitionEasing:ph},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(n)}else{const l=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(l,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return this._startPinchRotation=null,this._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const i=this.isFunctionKeyPressed(e),l=this.controllerState.zoom({pos:n,scale:i?.5:2});return this.updateViewport(l,this._getTransitionProps({around:n}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const n=this.isFunctionKeyPressed(e),{zoomSpeed:i,moveSpeed:l,rotateSpeedX:r,rotateSpeedY:a}=this.keyboard,{controllerState:s}=this;let o;const c={};switch(e.srcEvent.code){case"Minus":o=n?s.zoomOut(i).zoomOut(i):s.zoomOut(i),c.isZooming=!0;break;case"Equal":o=n?s.zoomIn(i).zoomIn(i):s.zoomIn(i),c.isZooming=!0;break;case"ArrowLeft":n?(o=s.rotateLeft(r),c.isRotating=!0):(o=s.moveLeft(l),c.isPanning=!0);break;case"ArrowRight":n?(o=s.rotateRight(r),c.isRotating=!0):(o=s.moveRight(l),c.isPanning=!0);break;case"ArrowUp":n?(o=s.rotateUp(a),c.isRotating=!0):(o=s.moveUp(l),c.isPanning=!0);break;case"ArrowDown":n?(o=s.rotateDown(a),c.isRotating=!0):(o=s.moveDown(l),c.isPanning=!0);break;default:return!1}return this.updateViewport(o,this._getTransitionProps(),c),!0}_getTransitionProps(e){const{_transition:n}=this;return n?e?{...n,transitionInterpolator:new uY({...e,transitionProps:this.linearTransitionProps,makeViewport:this.controllerState.makeViewport})}:n:er}}class hJ{constructor(e){this._viewportProps=this._applyConstraints(e)}getViewportProps(){return this._viewportProps}getState(){return this._state}shortestPathFrom(e){return this._viewportProps}_applyConstraints(e){return e}}const dY=5,Fte=1.2,sa={pitch:0,bearing:0,altitude:1.5,minZoom:0,maxZoom:20,minPitch:0,maxPitch:60};class zte extends hJ{constructor(){let{makeViewport:e,width:n,height:i,latitude:l,longitude:r,zoom:a,bearing:s=sa.bearing,pitch:o=sa.pitch,altitude:c=sa.altitude,maxZoom:u=sa.maxZoom,minZoom:d=sa.minZoom,maxPitch:m=sa.maxPitch,minPitch:h=sa.minPitch,startPanLngLat:b,startZoomLngLat:Z,startRotatePos:p,startBearing:f,startPitch:G,startZoom:V,normalize:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Rn(Number.isFinite(r)),Rn(Number.isFinite(l)),Rn(Number.isFinite(a)),super({width:n,height:i,latitude:l,longitude:r,zoom:a,bearing:s,pitch:o,altitude:c,maxZoom:u,minZoom:d,maxPitch:m,minPitch:h,normalize:X}),this._state={startPanLngLat:b,startZoomLngLat:Z,startRotatePos:p,startBearing:f,startPitch:G,startZoom:V},this.makeViewport=e}panStart(e){let{pos:n}=e;return this._getUpdatedState({startPanLngLat:this._unproject(n)})}pan(e){let{pos:n,startPos:i}=e;const l=this._state.startPanLngLat||this._unproject(i);if(!l)return this;const a=this.makeViewport(this._viewportProps).panByPosition(l,n);return this._getUpdatedState(a)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart(e){let{pos:n}=e;return this._getUpdatedState({startRotatePos:n,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}rotate(e){let{pos:n,deltaAngleX:i=0,deltaAngleY:l=0}=e;const{startRotatePos:r,startBearing:a,startPitch:s}=this._state;if(!r||!Number.isFinite(a)||!Number.isFinite(s))return this;let o;return n?o=this._calculateNewPitchAndBearing({...this._getRotationParams(n,r),startBearing:a,startPitch:s}):o={bearing:a+i,pitch:s+l},this._getUpdatedState(o)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart(e){let{pos:n}=e;return this._getUpdatedState({startZoomLngLat:this._unproject(n),startZoom:this._viewportProps.zoom})}zoom(e){let{pos:n,startPos:i,scale:l}=e,{startZoom:r,startZoomLngLat:a}=this._state;Number.isFinite(r)||(r=this._viewportProps.zoom,a=this._unproject(i)||this._unproject(n));const s=this._calculateNewZoom({scale:l,startZoom:r}),o=this.makeViewport({...this._viewportProps,zoom:s});return this._getUpdatedState({zoom:s,...o.panByPosition(a,n)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2;return this._zoomFromCenter(e)}zoomOut(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2;return this._zoomFromCenter(1/e)}moveLeft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return this._panFromCenter([e,0])}moveRight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return this._panFromCenter([-e,0])}moveUp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return this._panFromCenter([0,e])}moveDown(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return this._panFromCenter([0,-e])}rotateLeft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:15;return this._getUpdatedState({bearing:this._viewportProps.bearing-e})}rotateRight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:15;return this._getUpdatedState({bearing:this._viewportProps.bearing+e})}rotateUp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;return this._getUpdatedState({pitch:this._viewportProps.pitch+e})}rotateDown(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;return this._getUpdatedState({pitch:this._viewportProps.pitch-e})}shortestPathFrom(e){const n=e.getViewportProps(),i={...this._viewportProps},{bearing:l,longitude:r}=i;return Math.abs(l-n.bearing)>180&&(i.bearing=l<0?l+360:l-360),Math.abs(r-n.longitude)>180&&(i.longitude=r<0?r+360:r-360),i}_zoomFromCenter(e){const{width:n,height:i}=this._viewportProps;return this.zoom({pos:[n/2,i/2],scale:e})}_panFromCenter(e){const{width:n,height:i}=this._viewportProps;return this.pan({startPos:[n/2,i/2],pos:[n/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this._viewportProps,...this._state,...e})}_applyConstraints(e){const{maxZoom:n,minZoom:i,zoom:l}=e;e.zoom=pn(l,i,n);const{maxPitch:r,minPitch:a,pitch:s}=e;e.pitch=pn(s,a,r);const{normalize:o=!0}=e;return o&&Object.assign(e,Kee(e)),e}_unproject(e){const n=this.makeViewport(this._viewportProps);return e&&n.unproject(e)}_calculateNewZoom(e){let{scale:n,startZoom:i}=e;const{maxZoom:l,minZoom:r}=this._viewportProps,a=i+Math.log2(n);return pn(a,r,l)}_calculateNewPitchAndBearing(e){let{deltaScaleX:n,deltaScaleY:i,startBearing:l,startPitch:r}=e;i=pn(i,-1,1);const{minPitch:a,maxPitch:s}=this._viewportProps,o=l+180*n;let c=r;return i>0?c=r+i*(s-r):i<0&&(c=r-i*(a-r)),{pitch:c,bearing:o}}_getRotationParams(e,n){const i=e[0]-n[0],l=e[1]-n[1],r=e[1],a=n[1],{width:s,height:o}=this._viewportProps,c=i/s;let u=0;return l>0?Math.abs(o-a)>dY&&(u=l/(a-o)*Fte):l<0&&a>dY&&(u=1-r/a),u=Math.min(1,Math.max(-1,u)),{deltaScaleX:c,deltaScaleY:u}}}class jte extends mJ{constructor(e){e.dragMode=e.dragMode||"pan",super(zte,e)}setProps(e){const n=this.controllerStateProps;super.setProps(e),(!n||n.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...this.controllerStateProps,...this._state}))}get linearTransitionProps(){return["longitude","latitude","zoom","bearing","pitch"]}}class bJ extends kl{constructor(e){super({...e,type:Qo})}get controller(){return this._getControllerProps({type:jte})}}bJ.displayName="MapView";const Hte=new cJ;class Dte{constructor(){this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(e){"effects"in e&&(e.effects.length!==this.effects.length||!cm(e.effects,this.effects))&&(this.setEffects(e.effects),this._needsRedraw="effects changed")}needsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{clearRedrawFlags:!1};const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.cleanup(),this.effects=e,this._createInternalEffects()}cleanup(){for(const e of this.effects)e.cleanup();for(const e of this._internalEffects)e.cleanup();this.effects.length=0,this._internalEffects.length=0}_createInternalEffects(){this._internalEffects=this.effects.slice(),this.effects.some(e=>e instanceof cJ)||this._internalEffects.push(Hte)}}class Ote extends rV{}const mY={blendFunc:[1,0,32771,0],blendEquation:32774};class pJ extends rV{render(e){return e.pickingFBO?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer(e){let{layers:n,layerFilter:i,views:l,viewports:r,onViewportActive:a,pickingFBO:s,deviceRect:{x:o,y:c,width:u,height:d},pass:m="picking",redrawReason:h,pickZ:b}=e;const Z=this.gl;this.pickZ=b;const p=!b&&{byLayer:new Map,byAlpha:[]};this._colors=p;const f=fi(Z,{scissorTest:!0,scissor:[o,c,u,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...mY,blend:!b},()=>super.render({target:s,layers:n,layerFilter:i,views:l,viewports:r,onViewportActive:a,pass:m,redrawReason:h}));return this._colors=null,{decodePickingColor:p&&Qte.bind(null,p),stats:f}}shouldDrawLayer(e){return e.props.pickable}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,n,i){const l={...e.props.parameters};return this.pickZ?l.blend=!1:(Object.assign(l,mY),l.blend=!0,l.blendColor=Bte(this._colors,e,i)),l}}function Bte(t,e,n){const{byLayer:i,byAlpha:l}=t;let r;if(i.has(e)){const a=i.get(e);a.viewports.push(n),r=a.a}else if(r=i.size+1,r<=255){const a={a:r,layer:e,viewports:[n]};i.set(e,a),l[r]=a}else we.warn("Too many pickable layers, only picking the first 255")(),r=0;return[0,0,0,r/255]}function Qte(t,e){const n=t.byAlpha[e[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(e)}}const Ate="deckRenderer.renderLayers";class _te{constructor(e){this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new Ote(e),this.pickLayersPass=new pJ(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){const n=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||Wt.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);const i=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,l=n.render({...e,target:i});this._postRender(e.effects,e),this.renderCount++,Jt(Ate,this,l,e)}needsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{clearRedrawFlags:!1};const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}finalize(){const{renderBuffers:e}=this;for(const n of e)n.delete();e.length=0}_preRender(e,n){let i=null;for(const l of e)l.preRender(this.gl,n),l.postRender&&(i=l);i&&this._resizeRenderBuffers(),this.lastPostProcessEffect=i}_resizeRenderBuffers(){const{renderBuffers:e}=this;e.length===0&&e.push(new Wt(this.gl),new Wt(this.gl));for(const n of e)n.resize()}_postRender(e,n){const{renderBuffers:i}=this,l={inputBuffer:i[0],swapBuffer:i[1],target:null};for(const r of e)if(r.postRender){if(r===this.lastPostProcessEffect){l.target=n.target,r.postRender(this.gl,l);break}const a=r.postRender(this.gl,l);l.inputBuffer=a,l.swapBuffer=a===i[0]?i[1]:i[0]}}}const $te={pickedColor:null,pickedLayer:null,pickedObjectIndex:-1};function qte(t){let{pickedColors:e,decodePickingColor:n,deviceX:i,deviceY:l,deviceRadius:r,deviceRect:a}=t;if(e){const{x:s,y:o,width:c,height:u}=a;let d=r*r,m=-1,h=0;for(let b=0;b<u;b++){const Z=b+o-l,p=Z*Z;if(p>d)h+=4*c;else for(let f=0;f<c;f++){if(e[h+3]-1>=0){const V=f+s-i,X=V*V+p;X<=d&&(d=X,m=h)}h+=4}}if(m>=0){const b=e.slice(m,m+4),Z=n(b);if(Z){const p=Math.floor(m/4/c),f=m/4-p*c;return{...Z,pickedColor:b,pickedX:s+f,pickedY:o+p}}we.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return $te}function ene(t){let{pickedColors:e,decodePickingColor:n}=t;const i=new Map;if(e){for(let l=0;l<e.length;l+=4)if(e[l+3]-1>=0){const a=e.slice(l,l+4),s=a.join(",");if(!i.has(s)){const o=n(a);o?i.set(s,{...o,pickedColor:a}):we.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(i.values())}function ZJ(t){let{pickInfo:e,viewports:n,pixelRatio:i,x:l,y:r,z:a}=t,s=n[0];n.length>1&&(s=nne((e==null?void 0:e.pickedViewports)||n,{x:l,y:r}));const o=s&&s.unproject([l-s.x,r-s.y],{targetZ:a});return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:l,y:r,pixel:[l,r],coordinate:o,devicePixel:e&&"pickedX"in e?[e.pickedX,e.pickedY]:null,pixelRatio:i}}function tne(t){const{pickInfo:e,lastPickedInfo:n,mode:i,layers:l}=t,{pickedColor:r,pickedLayer:a,pickedObjectIndex:s}=e,o=a?[a]:[];if(i==="hover"){const d=n.index,m=n.layerId,h=a&&a.props.id;if(h!==m||s!==d){if(h!==m){const b=l.find(Z=>Z.props.id===m);b&&o.unshift(b)}n.layerId=h,n.index=s,n.info=null}}const c=ZJ(t),u=new Map;return u.set(null,c),o.forEach(d=>{let m={...c};d===a&&(m.color=r,m.index=s,m.picked=!0),m=fJ({layer:d,info:m,mode:i}),d===a&&i==="hover"&&(n.info=m),u.set(m.layer.id,m),i==="hover"&&m.layer.updateAutoHighlight(m)}),u}function fJ(t){let{layer:e,info:n,mode:i}=t;for(;e&&n;){const l=n.layer||null;n.sourceLayer=l,n.layer=e,n=e.getPickingInfo({info:n,mode:i,sourceLayer:l}),e=e.parent}return n}function nne(t,e){for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.containsPixel(e))return i}return t[0]}class ine{constructor(e){this.gl=e,this.pickingFBO=null,this.pickLayersPass=new pJ(e),this.layerFilter=null,this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject(e){let{x:n,y:i,layers:l,viewports:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.lastPickedInfo.info;const s=a&&a.layer&&a.layer.id,o=a&&a.viewport&&a.viewport.id,c=s?l.find(h=>h.id===s):null,u=o&&r.find(h=>h.id===o)||r[0],d=u&&u.unproject([n-u.x,i-u.y]);return{...a,...{x:n,y:i,viewport:u,coordinate:d,layer:c}}}_resizeBuffer(){const{gl:e}=this;return this.pickingFBO||(this.pickingFBO=new Wt(e),Wt.isSupported(e,{colorBufferFloat:!0})&&(this.depthFBO=new Wt(e),this.depthFBO.attach({36064:new Qn(e,{format:Me(e)?34836:6408,type:5126})}))),this.pickingFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.depthFBO&&this.depthFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.pickingFBO}_getPickable(e){if(this._pickable===!1)return null;const n=e.filter(i=>i.isPickable()&&!i.isComposite);return n.length?n:null}_pickClosestObject(e){let{layers:n,views:i,viewports:l,x:r,y:a,radius:s=0,depth:o=1,mode:c="query",unproject3D:u,onViewportActive:d}=e;if(n=this._getPickable(n),!n)return{result:[],emptyInfo:ZJ({viewports:l,x:r,y:a})};this._resizeBuffer();const m=Fo(this.gl),h=kf(this.gl,[r,a],!0),b=[h.x+Math.floor(h.width/2),h.y+Math.floor(h.height/2)],Z=Math.round(s*m),{width:p,height:f}=this.pickingFBO,G=this._getPickingRect({deviceX:b[0],deviceY:b[1],deviceRadius:Z,deviceWidth:p,deviceHeight:f});let V;const X=[],L=new Set;for(let x=0;x<o;x++){const v=G&&this._drawAndSample({layers:n,views:i,viewports:l,onViewportActive:d,deviceRect:G,pass:"picking:".concat(c),redrawReason:c}),C=qte({...v,deviceX:b[0],deviceY:b[1],deviceRadius:Z,deviceRect:G});let w;C.pickedLayer&&u&&this.depthFBO&&(w=this._drawAndSample({layers:[C.pickedLayer],views:i,viewports:l,onViewportActive:d,deviceRect:{x:C.pickedX,y:C.pickedY,width:1,height:1},pass:"picking:".concat(c),redrawReason:"pick-z",pickZ:!0}).pickedColors[0]*l[0].distanceScales.metersPerUnit[2]+l[0].position[2]),C.pickedLayer&&x+1<o&&(L.add(C.pickedLayer),C.pickedLayer.disablePickingIndex(C.pickedObjectIndex)),V=tne({pickInfo:C,lastPickedInfo:this.lastPickedInfo,mode:c,layers:n,viewports:l,x:r,y:a,z:w,pixelRatio:m});for(const z of V.values())z.layer&&X.push(z);if(!C.pickedColor)break}for(const x of L)x.restorePickingColors();return{result:X,emptyInfo:V&&V.get(null)}}_pickVisibleObjects(e){let{layers:n,views:i,viewports:l,x:r,y:a,width:s=1,height:o=1,mode:c="query",maxObjects:u=null,onViewportActive:d}=e;if(n=this._getPickable(n),!n)return[];this._resizeBuffer();const m=Fo(this.gl),h=kf(this.gl,[r,a],!0),b=h.x,Z=h.y+h.height,p=kf(this.gl,[r+s,a+o],!0),f=p.x+p.width,G=p.y,V={x:b,y:G,width:f-b,height:Z-G},X=this._drawAndSample({layers:n,views:i,viewports:l,onViewportActive:d,deviceRect:V,pass:"picking:".concat(c),redrawReason:c}),L=ene(X),x=new Map,v=Number.isFinite(u);for(let C=0;C<L.length&&!(v&&x.size>=u);C++){const w=L[C];let z={color:w.pickedColor,layer:null,index:w.pickedObjectIndex,picked:!0,x:r,y:a,width:s,height:o,pixelRatio:m};z=fJ({layer:w.pickedLayer,info:z,mode:c}),x.has(z.object)||x.set(z.object,z)}return Array.from(x.values())}_drawAndSample(e){let{layers:n,views:i,viewports:l,onViewportActive:r,deviceRect:a,pass:s,redrawReason:o,pickZ:c}=e;const u=c?this.depthFBO:this.pickingFBO,{decodePickingColor:d}=this.pickLayersPass.render({layers:n,layerFilter:this.layerFilter,views:i,viewports:l,onViewportActive:r,pickingFBO:u,deviceRect:a,pass:s,redrawReason:o,pickZ:c}),{x:m,y:h,width:b,height:Z}=a,p=new(c?Float32Array:Uint8Array)(b*Z*4);return zZ(u,{sourceX:m,sourceY:h,sourceWidth:b,sourceHeight:Z,target:p}),{pickedColors:p,decodePickingColor:d}}_getPickingRect(e){let{deviceX:n,deviceY:i,deviceRadius:l,deviceWidth:r,deviceHeight:a}=e;const s=Math.max(0,n-l),o=Math.max(0,i-l),c=Math.min(r,n+l+1)-s,u=Math.min(a,i+l+1)-o;return c<=0||u<=0?null:{x:s,y:o,width:c,height:u}}}const lne={zIndex:1,position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:0,left:0,display:"none"};class rne{constructor(e){const n=e.parentElement;n&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,lne),n.appendChild(this.el)),this.isVisible=!1}setTooltip(e,n,i){const l=this.el;if(typeof e=="string")l.innerText=e;else if(e)"text"in e&&(l.innerText=e.text),"html"in e&&(l.innerHTML=e.html),"className"in e&&(l.className=e.className),Object.assign(l.style,e.style);else{this.isVisible=!1,l.style.display="none";return}this.isVisible=!0,l.style.display="block",l.style.transform="translate(".concat(n,"px, ").concat(i,"px)")}remove(){this.el&&this.el.remove()}}var yJ={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(t){(function(e,n,i,l){var r=["","webkit","Moz","MS","ms","o"],a=n.createElement("div"),s="function",o=Math.round,c=Math.abs,u=Date.now;function d(R,Y,I){return setTimeout(V(R,I),Y)}function m(R,Y,I){return Array.isArray(R)?(h(R,I[Y],I),!0):!1}function h(R,Y,I){var P;if(R)if(R.forEach)R.forEach(Y,I);else if(R.length!==l)for(P=0;P<R.length;)Y.call(I,R[P],P,R),P++;else for(P in R)R.hasOwnProperty(P)&&Y.call(I,R[P],P,R)}function b(R,Y,I){var P="DEPRECATED METHOD: "+Y+`
`+I+` AT 
`;return function(){var q=new Error("get-stack-trace"),se=q&&q.stack?q.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ye=e.console&&(e.console.warn||e.console.log);return Ye&&Ye.call(e.console,P,se),R.apply(this,arguments)}}var Z;typeof Object.assign!="function"?Z=function(Y){if(Y===l||Y===null)throw new TypeError("Cannot convert undefined or null to object");for(var I=Object(Y),P=1;P<arguments.length;P++){var q=arguments[P];if(q!==l&&q!==null)for(var se in q)q.hasOwnProperty(se)&&(I[se]=q[se])}return I}:Z=Object.assign;var p=b(function(Y,I,P){for(var q=Object.keys(I),se=0;se<q.length;)(!P||P&&Y[q[se]]===l)&&(Y[q[se]]=I[q[se]]),se++;return Y},"extend","Use `assign`."),f=b(function(Y,I){return p(Y,I,!0)},"merge","Use `assign`.");function G(R,Y,I){var P=Y.prototype,q;q=R.prototype=Object.create(P),q.constructor=R,q._super=P,I&&Z(q,I)}function V(R,Y){return function(){return R.apply(Y,arguments)}}function X(R,Y){return typeof R==s?R.apply(Y&&Y[0]||l,Y):R}function L(R,Y){return R===l?Y:R}function x(R,Y,I){h(z(Y),function(P){R.addEventListener(P,I,!1)})}function v(R,Y,I){h(z(Y),function(P){R.removeEventListener(P,I,!1)})}function C(R,Y){for(;R;){if(R==Y)return!0;R=R.parentNode}return!1}function w(R,Y){return R.indexOf(Y)>-1}function z(R){return R.trim().split(/\s+/g)}function $(R,Y,I){if(R.indexOf&&!I)return R.indexOf(Y);for(var P=0;P<R.length;){if(I&&R[P][I]==Y||!I&&R[P]===Y)return P;P++}return-1}function ee(R){return Array.prototype.slice.call(R,0)}function D(R,Y,I){for(var P=[],q=[],se=0;se<R.length;){var Ye=Y?R[se][Y]:R[se];$(q,Ye)<0&&P.push(R[se]),q[se]=Ye,se++}return I&&(Y?P=P.sort(function(Rt,zt){return Rt[Y]>zt[Y]}):P=P.sort()),P}function j(R,Y){for(var I,P,q=Y[0].toUpperCase()+Y.slice(1),se=0;se<r.length;){if(I=r[se],P=I?I+q:Y,P in R)return P;se++}return l}var _=1;function ce(){return _++}function E(R){var Y=R.ownerDocument||R;return Y.defaultView||Y.parentWindow||e}var H=/mobile|tablet|ip(ad|hone|od)|android/i,de="ontouchstart"in e,ue=j(e,"PointerEvent")!==l,U=de&&H.test(navigator.userAgent),Q="touch",k="pen",A="mouse",O="kinect",le=25,Ge=1,ve=2,fe=4,Pe=8,xe=1,je=2,Le=4,ct=8,ni=16,W=je|Le,y=ct|ni,g=W|y,M=["x","y"],J=["clientX","clientY"];function B(R,Y){var I=this;this.manager=R,this.callback=Y,this.element=R.element,this.target=R.options.inputTarget,this.domHandler=function(P){X(R.options.enable,[R])&&I.handler(P)},this.init()}B.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(E(this.element),this.evWin,this.domHandler)}};function ne(R){var Y,I=R.options.inputClass;return I?Y=I:ue?Y=L0:U?Y=wm:de?Y=M0:Y=Im,new Y(R,Se)}function Se(R,Y,I){var P=I.pointers.length,q=I.changedPointers.length,se=Y&Ge&&P-q===0,Ye=Y&(fe|Pe)&&P-q===0;I.isFirst=!!se,I.isFinal=!!Ye,se&&(R.session={}),I.eventType=Y,Ee(R,I),R.emit("hammer.input",I),R.recognize(I),R.session.prevInput=I}function Ee(R,Y){var I=R.session,P=Y.pointers,q=P.length;I.firstInput||(I.firstInput=_e(Y)),q>1&&!I.firstMultiple?I.firstMultiple=_e(Y):q===1&&(I.firstMultiple=!1);var se=I.firstInput,Ye=I.firstMultiple,Vt=Ye?Ye.center:se.center,Rt=Y.center=la(P);Y.timeStamp=u(),Y.deltaTime=Y.timeStamp-se.timeStamp,Y.angle=Y0(Vt,Rt),Y.distance=vm(Vt,Rt),Fe(I,Y),Y.offsetDirection=vc(Y.deltaX,Y.deltaY);var zt=Nc(Y.deltaTime,Y.deltaX,Y.deltaY);Y.overallVelocityX=zt.x,Y.overallVelocityY=zt.y,Y.overallVelocity=c(zt.x)>c(zt.y)?zt.x:zt.y,Y.scale=Ye?pK(Ye.pointers,P):1,Y.rotation=Ye?bK(Ye.pointers,P):0,Y.maxPointers=I.prevInput?Y.pointers.length>I.prevInput.maxPointers?Y.pointers.length:I.prevInput.maxPointers:Y.pointers.length,Ke(I,Y);var vi=R.element;C(Y.srcEvent.target,vi)&&(vi=Y.srcEvent.target),Y.target=vi}function Fe(R,Y){var I=Y.center,P=R.offsetDelta||{},q=R.prevDelta||{},se=R.prevInput||{};(Y.eventType===Ge||se.eventType===fe)&&(q=R.prevDelta={x:se.deltaX||0,y:se.deltaY||0},P=R.offsetDelta={x:I.x,y:I.y}),Y.deltaX=q.x+(I.x-P.x),Y.deltaY=q.y+(I.y-P.y)}function Ke(R,Y){var I=R.lastInterval||Y,P=Y.timeStamp-I.timeStamp,q,se,Ye,Vt;if(Y.eventType!=Pe&&(P>le||I.velocity===l)){var Rt=Y.deltaX-I.deltaX,zt=Y.deltaY-I.deltaY,vi=Nc(P,Rt,zt);se=vi.x,Ye=vi.y,q=c(vi.x)>c(vi.y)?vi.x:vi.y,Vt=vc(Rt,zt),R.lastInterval=Y}else q=I.velocity,se=I.velocityX,Ye=I.velocityY,Vt=I.direction;Y.velocity=q,Y.velocityX=se,Y.velocityY=Ye,Y.direction=Vt}function _e(R){for(var Y=[],I=0;I<R.pointers.length;)Y[I]={clientX:o(R.pointers[I].clientX),clientY:o(R.pointers[I].clientY)},I++;return{timeStamp:u(),pointers:Y,center:la(Y),deltaX:R.deltaX,deltaY:R.deltaY}}function la(R){var Y=R.length;if(Y===1)return{x:o(R[0].clientX),y:o(R[0].clientY)};for(var I=0,P=0,q=0;q<Y;)I+=R[q].clientX,P+=R[q].clientY,q++;return{x:o(I/Y),y:o(P/Y)}}function Nc(R,Y,I){return{x:Y/R||0,y:I/R||0}}function vc(R,Y){return R===Y?xe:c(R)>=c(Y)?R<0?je:Le:Y<0?ct:ni}function vm(R,Y,I){I||(I=M);var P=Y[I[0]]-R[I[0]],q=Y[I[1]]-R[I[1]];return Math.sqrt(P*P+q*q)}function Y0(R,Y,I){I||(I=M);var P=Y[I[0]]-R[I[0]],q=Y[I[1]]-R[I[1]];return Math.atan2(q,P)*180/Math.PI}function bK(R,Y){return Y0(Y[1],Y[0],J)+Y0(R[1],R[0],J)}function pK(R,Y){return vm(Y[0],Y[1],J)/vm(R[0],R[1],J)}var ZK={mousedown:Ge,mousemove:ve,mouseup:fe},fK="mousedown",yK="mousemove mouseup";function Im(){this.evEl=fK,this.evWin=yK,this.pressed=!1,B.apply(this,arguments)}G(Im,B,{handler:function(Y){var I=ZK[Y.type];I&Ge&&Y.button===0&&(this.pressed=!0),I&ve&&Y.which!==1&&(I=fe),this.pressed&&(I&fe&&(this.pressed=!1),this.callback(this.manager,I,{pointers:[Y],changedPointers:[Y],pointerType:A,srcEvent:Y}))}});var GK={pointerdown:Ge,pointermove:ve,pointerup:fe,pointercancel:Pe,pointerout:Pe},XK={2:Q,3:k,4:A,5:O},K2="pointerdown",U2="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(K2="MSPointerDown",U2="MSPointerMove MSPointerUp MSPointerCancel");function L0(){this.evEl=K2,this.evWin=U2,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}G(L0,B,{handler:function(Y){var I=this.store,P=!1,q=Y.type.toLowerCase().replace("ms",""),se=GK[q],Ye=XK[Y.pointerType]||Y.pointerType,Vt=Ye==Q,Rt=$(I,Y.pointerId,"pointerId");se&Ge&&(Y.button===0||Vt)?Rt<0&&(I.push(Y),Rt=I.length-1):se&(fe|Pe)&&(P=!0),!(Rt<0)&&(I[Rt]=Y,this.callback(this.manager,se,{pointers:I,changedPointers:[Y],pointerType:Ye,srcEvent:Y}),P&&I.splice(Rt,1))}});var gK={touchstart:Ge,touchmove:ve,touchend:fe,touchcancel:Pe},WK="touchstart",VK="touchstart touchmove touchend touchcancel";function P2(){this.evTarget=WK,this.evWin=VK,this.started=!1,B.apply(this,arguments)}G(P2,B,{handler:function(Y){var I=gK[Y.type];if(I===Ge&&(this.started=!0),!!this.started){var P=TK.call(this,Y,I);I&(fe|Pe)&&P[0].length-P[1].length===0&&(this.started=!1),this.callback(this.manager,I,{pointers:P[0],changedPointers:P[1],pointerType:Q,srcEvent:Y})}}});function TK(R,Y){var I=ee(R.touches),P=ee(R.changedTouches);return Y&(fe|Pe)&&(I=D(I.concat(P),"identifier",!0)),[I,P]}var xK={touchstart:Ge,touchmove:ve,touchend:fe,touchcancel:Pe},RK="touchstart touchmove touchend touchcancel";function wm(){this.evTarget=RK,this.targetIds={},B.apply(this,arguments)}G(wm,B,{handler:function(Y){var I=xK[Y.type],P=SK.call(this,Y,I);P&&this.callback(this.manager,I,{pointers:P[0],changedPointers:P[1],pointerType:Q,srcEvent:Y})}});function SK(R,Y){var I=ee(R.touches),P=this.targetIds;if(Y&(Ge|ve)&&I.length===1)return P[I[0].identifier]=!0,[I,I];var q,se,Ye=ee(R.changedTouches),Vt=[],Rt=this.target;if(se=I.filter(function(zt){return C(zt.target,Rt)}),Y===Ge)for(q=0;q<se.length;)P[se[q].identifier]=!0,q++;for(q=0;q<Ye.length;)P[Ye[q].identifier]&&Vt.push(Ye[q]),Y&(fe|Pe)&&delete P[Ye[q].identifier],q++;if(Vt.length)return[D(se.concat(Vt),"identifier",!0),Vt]}var YK=2500,F2=25;function M0(){B.apply(this,arguments);var R=V(this.handler,this);this.touch=new wm(this.manager,R),this.mouse=new Im(this.manager,R),this.primaryTouch=null,this.lastTouches=[]}G(M0,B,{handler:function(Y,I,P){var q=P.pointerType==Q,se=P.pointerType==A;if(!(se&&P.sourceCapabilities&&P.sourceCapabilities.firesTouchEvents)){if(q)LK.call(this,I,P);else if(se&&MK.call(this,P))return;this.callback(Y,I,P)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function LK(R,Y){R&Ge?(this.primaryTouch=Y.changedPointers[0].identifier,z2.call(this,Y)):R&(fe|Pe)&&z2.call(this,Y)}function z2(R){var Y=R.changedPointers[0];if(Y.identifier===this.primaryTouch){var I={x:Y.clientX,y:Y.clientY};this.lastTouches.push(I);var P=this.lastTouches,q=function(){var se=P.indexOf(I);se>-1&&P.splice(se,1)};setTimeout(q,YK)}}function MK(R){for(var Y=R.srcEvent.clientX,I=R.srcEvent.clientY,P=0;P<this.lastTouches.length;P++){var q=this.lastTouches[P],se=Math.abs(Y-q.x),Ye=Math.abs(I-q.y);if(se<=F2&&Ye<=F2)return!0}return!1}var j2=j(a.style,"touchAction"),H2=j2!==l,D2="compute",O2="auto",N0="manipulation",ra="none",Ic="pan-x",wc="pan-y",Jm=vK();function v0(R,Y){this.manager=R,this.set(Y)}v0.prototype={set:function(R){R==D2&&(R=this.compute()),H2&&this.manager.element.style&&Jm[R]&&(this.manager.element.style[j2]=R),this.actions=R.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var R=[];return h(this.manager.recognizers,function(Y){X(Y.options.enable,[Y])&&(R=R.concat(Y.getTouchAction()))}),NK(R.join(" "))},preventDefaults:function(R){var Y=R.srcEvent,I=R.offsetDirection;if(this.manager.session.prevented){Y.preventDefault();return}var P=this.actions,q=w(P,ra)&&!Jm[ra],se=w(P,wc)&&!Jm[wc],Ye=w(P,Ic)&&!Jm[Ic];if(q){var Vt=R.pointers.length===1,Rt=R.distance<2,zt=R.deltaTime<250;if(Vt&&Rt&&zt)return}if(!(Ye&&se)&&(q||se&&I&W||Ye&&I&y))return this.preventSrc(Y)},preventSrc:function(R){this.manager.session.prevented=!0,R.preventDefault()}};function NK(R){if(w(R,ra))return ra;var Y=w(R,Ic),I=w(R,wc);return Y&&I?ra:Y||I?Y?Ic:wc:w(R,N0)?N0:O2}function vK(){if(!H2)return!1;var R={},Y=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(I){R[I]=Y?e.CSS.supports("touch-action",I):!0}),R}var Cm=1,In=2,Gs=4,Al=8,cl=Al,Jc=16,Ni=32;function ul(R){this.options=Z({},this.defaults,R||{}),this.id=ce(),this.manager=null,this.options.enable=L(this.options.enable,!0),this.state=Cm,this.simultaneous={},this.requireFail=[]}ul.prototype={defaults:{},set:function(R){return Z(this.options,R),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(R){if(m(R,"recognizeWith",this))return this;var Y=this.simultaneous;return R=km(R,this),Y[R.id]||(Y[R.id]=R,R.recognizeWith(this)),this},dropRecognizeWith:function(R){return m(R,"dropRecognizeWith",this)?this:(R=km(R,this),delete this.simultaneous[R.id],this)},requireFailure:function(R){if(m(R,"requireFailure",this))return this;var Y=this.requireFail;return R=km(R,this),$(Y,R)===-1&&(Y.push(R),R.requireFailure(this)),this},dropRequireFailure:function(R){if(m(R,"dropRequireFailure",this))return this;R=km(R,this);var Y=$(this.requireFail,R);return Y>-1&&this.requireFail.splice(Y,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(R){return!!this.simultaneous[R.id]},emit:function(R){var Y=this,I=this.state;function P(q){Y.manager.emit(q,R)}I<Al&&P(Y.options.event+B2(I)),P(Y.options.event),R.additionalEvent&&P(R.additionalEvent),I>=Al&&P(Y.options.event+B2(I))},tryEmit:function(R){if(this.canEmit())return this.emit(R);this.state=Ni},canEmit:function(){for(var R=0;R<this.requireFail.length;){if(!(this.requireFail[R].state&(Ni|Cm)))return!1;R++}return!0},recognize:function(R){var Y=Z({},R);if(!X(this.options.enable,[this,Y])){this.reset(),this.state=Ni;return}this.state&(cl|Jc|Ni)&&(this.state=Cm),this.state=this.process(Y),this.state&(In|Gs|Al|Jc)&&this.tryEmit(Y)},process:function(R){},getTouchAction:function(){},reset:function(){}};function B2(R){return R&Jc?"cancel":R&Al?"end":R&Gs?"move":R&In?"start":""}function Q2(R){return R==ni?"down":R==ct?"up":R==je?"left":R==Le?"right":""}function km(R,Y){var I=Y.manager;return I?I.get(R):R}function ii(){ul.apply(this,arguments)}G(ii,ul,{defaults:{pointers:1},attrTest:function(R){var Y=this.options.pointers;return Y===0||R.pointers.length===Y},process:function(R){var Y=this.state,I=R.eventType,P=Y&(In|Gs),q=this.attrTest(R);return P&&(I&Pe||!q)?Y|Jc:P||q?I&fe?Y|Al:Y&In?Y|Gs:In:Ni}});function Em(){ii.apply(this,arguments),this.pX=null,this.pY=null}G(Em,ii,{defaults:{event:"pan",threshold:10,pointers:1,direction:g},getTouchAction:function(){var R=this.options.direction,Y=[];return R&W&&Y.push(wc),R&y&&Y.push(Ic),Y},directionTest:function(R){var Y=this.options,I=!0,P=R.distance,q=R.direction,se=R.deltaX,Ye=R.deltaY;return q&Y.direction||(Y.direction&W?(q=se===0?xe:se<0?je:Le,I=se!=this.pX,P=Math.abs(R.deltaX)):(q=Ye===0?xe:Ye<0?ct:ni,I=Ye!=this.pY,P=Math.abs(R.deltaY))),R.direction=q,I&&P>Y.threshold&&q&Y.direction},attrTest:function(R){return ii.prototype.attrTest.call(this,R)&&(this.state&In||!(this.state&In)&&this.directionTest(R))},emit:function(R){this.pX=R.deltaX,this.pY=R.deltaY;var Y=Q2(R.direction);Y&&(R.additionalEvent=this.options.event+Y),this._super.emit.call(this,R)}});function I0(){ii.apply(this,arguments)}G(I0,ii,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ra]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.scale-1)>this.options.threshold||this.state&In)},emit:function(R){if(R.scale!==1){var Y=R.scale<1?"in":"out";R.additionalEvent=this.options.event+Y}this._super.emit.call(this,R)}});function w0(){ul.apply(this,arguments),this._timer=null,this._input=null}G(w0,ul,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[O2]},process:function(R){var Y=this.options,I=R.pointers.length===Y.pointers,P=R.distance<Y.threshold,q=R.deltaTime>Y.time;if(this._input=R,!P||!I||R.eventType&(fe|Pe)&&!q)this.reset();else if(R.eventType&Ge)this.reset(),this._timer=d(function(){this.state=cl,this.tryEmit()},Y.time,this);else if(R.eventType&fe)return cl;return Ni},reset:function(){clearTimeout(this._timer)},emit:function(R){this.state===cl&&(R&&R.eventType&fe?this.manager.emit(this.options.event+"up",R):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function J0(){ii.apply(this,arguments)}G(J0,ii,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ra]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.rotation)>this.options.threshold||this.state&In)}});function C0(){ii.apply(this,arguments)}G(C0,ii,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:W|y,pointers:1},getTouchAction:function(){return Em.prototype.getTouchAction.call(this)},attrTest:function(R){var Y=this.options.direction,I;return Y&(W|y)?I=R.overallVelocity:Y&W?I=R.overallVelocityX:Y&y&&(I=R.overallVelocityY),this._super.attrTest.call(this,R)&&Y&R.offsetDirection&&R.distance>this.options.threshold&&R.maxPointers==this.options.pointers&&c(I)>this.options.velocity&&R.eventType&fe},emit:function(R){var Y=Q2(R.offsetDirection);Y&&this.manager.emit(this.options.event+Y,R),this.manager.emit(this.options.event,R)}});function Km(){ul.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}G(Km,ul,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[N0]},process:function(R){var Y=this.options,I=R.pointers.length===Y.pointers,P=R.distance<Y.threshold,q=R.deltaTime<Y.time;if(this.reset(),R.eventType&Ge&&this.count===0)return this.failTimeout();if(P&&q&&I){if(R.eventType!=fe)return this.failTimeout();var se=this.pTime?R.timeStamp-this.pTime<Y.interval:!0,Ye=!this.pCenter||vm(this.pCenter,R.center)<Y.posThreshold;this.pTime=R.timeStamp,this.pCenter=R.center,!Ye||!se?this.count=1:this.count+=1,this._input=R;var Vt=this.count%Y.taps;if(Vt===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=cl,this.tryEmit()},Y.interval,this),In):cl}return Ni},failTimeout:function(){return this._timer=d(function(){this.state=Ni},this.options.interval,this),Ni},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==cl&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function dl(R,Y){return Y=Y||{},Y.recognizers=L(Y.recognizers,dl.defaults.preset),new k0(R,Y)}dl.VERSION="2.0.7",dl.defaults={domEvents:!1,touchAction:D2,enable:!0,inputTarget:null,inputClass:null,preset:[[J0,{enable:!1}],[I0,{enable:!1},["rotate"]],[C0,{direction:W}],[Em,{direction:W},["swipe"]],[Km],[Km,{event:"doubletap",taps:2},["tap"]],[w0]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var IK=1,A2=2;function k0(R,Y){this.options=Z({},dl.defaults,Y||{}),this.options.inputTarget=this.options.inputTarget||R,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=R,this.input=ne(this),this.touchAction=new v0(this,this.options.touchAction),_2(this,!0),h(this.options.recognizers,function(I){var P=this.add(new I[0](I[1]));I[2]&&P.recognizeWith(I[2]),I[3]&&P.requireFailure(I[3])},this)}k0.prototype={set:function(R){return Z(this.options,R),R.touchAction&&this.touchAction.update(),R.inputTarget&&(this.input.destroy(),this.input.target=R.inputTarget,this.input.init()),this},stop:function(R){this.session.stopped=R?A2:IK},recognize:function(R){var Y=this.session;if(!Y.stopped){this.touchAction.preventDefaults(R);var I,P=this.recognizers,q=Y.curRecognizer;(!q||q&&q.state&cl)&&(q=Y.curRecognizer=null);for(var se=0;se<P.length;)I=P[se],Y.stopped!==A2&&(!q||I==q||I.canRecognizeWith(q))?I.recognize(R):I.reset(),!q&&I.state&(In|Gs|Al)&&(q=Y.curRecognizer=I),se++}},get:function(R){if(R instanceof ul)return R;for(var Y=this.recognizers,I=0;I<Y.length;I++)if(Y[I].options.event==R)return Y[I];return null},add:function(R){if(m(R,"add",this))return this;var Y=this.get(R.options.event);return Y&&this.remove(Y),this.recognizers.push(R),R.manager=this,this.touchAction.update(),R},remove:function(R){if(m(R,"remove",this))return this;if(R=this.get(R),R){var Y=this.recognizers,I=$(Y,R);I!==-1&&(Y.splice(I,1),this.touchAction.update())}return this},on:function(R,Y){if(R!==l&&Y!==l){var I=this.handlers;return h(z(R),function(P){I[P]=I[P]||[],I[P].push(Y)}),this}},off:function(R,Y){if(R!==l){var I=this.handlers;return h(z(R),function(P){Y?I[P]&&I[P].splice($(I[P],Y),1):delete I[P]}),this}},emit:function(R,Y){this.options.domEvents&&wK(R,Y);var I=this.handlers[R]&&this.handlers[R].slice();if(!(!I||!I.length)){Y.type=R,Y.preventDefault=function(){Y.srcEvent.preventDefault()};for(var P=0;P<I.length;)I[P](Y),P++}},destroy:function(){this.element&&_2(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function _2(R,Y){var I=R.element;if(I.style){var P;h(R.options.cssProps,function(q,se){P=j(I.style,se),Y?(R.oldCssProps[P]=I.style[P],I.style[P]=q):I.style[P]=R.oldCssProps[P]||""}),Y||(R.oldCssProps={})}}function wK(R,Y){var I=n.createEvent("Event");I.initEvent(R,!0,!0),I.gesture=Y,Y.target.dispatchEvent(I)}Z(dl,{INPUT_START:Ge,INPUT_MOVE:ve,INPUT_END:fe,INPUT_CANCEL:Pe,STATE_POSSIBLE:Cm,STATE_BEGAN:In,STATE_CHANGED:Gs,STATE_ENDED:Al,STATE_RECOGNIZED:cl,STATE_CANCELLED:Jc,STATE_FAILED:Ni,DIRECTION_NONE:xe,DIRECTION_LEFT:je,DIRECTION_RIGHT:Le,DIRECTION_UP:ct,DIRECTION_DOWN:ni,DIRECTION_HORIZONTAL:W,DIRECTION_VERTICAL:y,DIRECTION_ALL:g,Manager:k0,Input:B,TouchAction:v0,TouchInput:wm,MouseInput:Im,PointerEventInput:L0,TouchMouseInput:M0,SingleTouchInput:P2,Recognizer:ul,AttrRecognizer:ii,Tap:Km,Pan:Em,Swipe:C0,Pinch:I0,Rotate:J0,Press:w0,on:x,off:v,each:h,merge:f,extend:p,assign:Z,inherit:G,bindFn:V,prefixed:j});var JK=typeof e<"u"?e:typeof self<"u"?self:{};JK.Hammer=dl,typeof l=="function"&&l.amd?l(function(){return dl}):t.exports?t.exports=dl:e[i]=dl})(window,document,"Hammer")})(yJ);var dm=yJ.exports;const ane=Kl(dm),Ji=hM({__proto__:null,default:ane},[dm]),GJ=1,XJ=2,FX=4,sne={mousedown:GJ,mousemove:XJ,mouseup:FX};function one(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function cne(t){const e=t.prototype.handler;t.prototype.handler=function(i){const l=this.store;i.button>0&&i.type==="pointerdown"&&(one(l,r=>r.pointerId===i.pointerId)||l.push(i)),e.call(this,i)}}function une(t){t.prototype.handler=function(n){let i=sne[n.type];i&GJ&&n.button>=0&&(this.pressed=!0),i&XJ&&n.buttons===0&&(i=FX),this.pressed&&(i&FX&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[n],changedPointers:[n],pointerType:"mouse",srcEvent:n}))}}cne(dm.PointerEventInput);une(dm.MouseInput);const dne=dm.Manager;class OZ{constructor(e,n,i){this.element=e,this.callback=n,this.options={enable:!0,...i}}}const mne=Ji?[[Ji.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Ji.Rotate,{enable:!1}],[Ji.Pinch,{enable:!1}],[Ji.Swipe,{enable:!1}],[Ji.Pan,{threshold:0,enable:!1}],[Ji.Press,{enable:!1}],[Ji.Tap,{event:"doubletap",taps:2,enable:!1}],[Ji.Tap,{event:"anytap",enable:!1}],[Ji.Tap,{enable:!1}]]:null,hY={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},hne={doubletap:["tap"]},bne={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},sV={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},pne={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},bY={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Zne=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",ho=typeof window<"u"?window:jn;let zX=!1;try{const t={get passive(){return zX=!0,!0}};ho.addEventListener("test",null,t),ho.removeEventListener("test",null)}catch{zX=!1}const fne=Zne.indexOf("firefox")!==-1,{WHEEL_EVENTS:yne}=sV,pY="wheel",ZY=4.000244140625,Gne=40,Xne=.25;class gne extends OZ{constructor(e,n,i){super(e,n,i),this.handleEvent=l=>{if(!this.options.enable)return;let r=l.deltaY;ho.WheelEvent&&(fne&&l.deltaMode===ho.WheelEvent.DOM_DELTA_PIXEL&&(r/=ho.devicePixelRatio),l.deltaMode===ho.WheelEvent.DOM_DELTA_LINE&&(r*=Gne)),r!==0&&r%ZY===0&&(r=Math.floor(r/ZY)),l.shiftKey&&r&&(r=r*Xne),this.callback({type:pY,center:{x:l.clientX,y:l.clientY},delta:-r,srcEvent:l,pointerType:"mouse",target:l.target})},this.events=(this.options.events||[]).concat(yne),this.events.forEach(l=>e.addEventListener(l,this.handleEvent,zX?{passive:!1}:!1))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e===pY&&(this.options.enable=n)}}const{MOUSE_EVENTS:Wne}=sV,fY="pointermove",yY="pointerover",GY="pointerout",XY="pointerenter",gY="pointerleave";class Vne extends OZ{constructor(e,n,i){super(e,n,i),this.handleEvent=r=>{this.handleOverEvent(r),this.handleOutEvent(r),this.handleEnterEvent(r),this.handleLeaveEvent(r),this.handleMoveEvent(r)},this.pressed=!1;const{enable:l}=this.options;this.enableMoveEvent=l,this.enableLeaveEvent=l,this.enableEnterEvent=l,this.enableOutEvent=l,this.enableOverEvent=l,this.events=(this.options.events||[]).concat(Wne),this.events.forEach(r=>e.addEventListener(r,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e===fY&&(this.enableMoveEvent=n),e===yY&&(this.enableOverEvent=n),e===GY&&(this.enableOutEvent=n),e===XY&&(this.enableEnterEvent=n),e===gY&&(this.enableLeaveEvent=n)}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit(yY,e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit(GY,e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit(XY,e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit(gY,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit(fY,e);break;case"mouseup":this.pressed=!1;break}}_emit(e,n){this.callback({type:e,center:{x:n.clientX,y:n.clientY},srcEvent:n,pointerType:"mouse",target:n.target})}}const{KEY_EVENTS:Tne}=sV,WY="keydown",VY="keyup";class xne extends OZ{constructor(e,n,i){super(e,n,i),this.handleEvent=l=>{const r=l.target||l.srcElement;r.tagName==="INPUT"&&r.type==="text"||r.tagName==="TEXTAREA"||(this.enableDownEvent&&l.type==="keydown"&&this.callback({type:WY,srcEvent:l,key:l.key,target:l.target}),this.enableUpEvent&&l.type==="keyup"&&this.callback({type:VY,srcEvent:l,key:l.key,target:l.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Tne),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(l=>e.addEventListener(l,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e===WY&&(this.enableDownEvent=n),e===VY&&(this.enableUpEvent=n)}}const TY="contextmenu";class Rne extends OZ{constructor(e,n,i){super(e,n,i),this.handleEvent=l=>{this.options.enable&&this.callback({type:TY,center:{x:l.clientX,y:l.clientY},srcEvent:l,pointerType:"mouse",target:l.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,n){e===TY&&(this.options.enable=n)}}const xY=1,jX=2,RY=4,Sne={pointerdown:xY,pointermove:jX,pointerup:RY,mousedown:xY,mousemove:jX,mouseup:RY},Yne=0,Lne=1,Mne=2,Nne=1,vne=2,Ine=4;function wne(t){const e=Sne[t.srcEvent.type];if(!e)return null;const{buttons:n,button:i}=t.srcEvent;let l=!1,r=!1,a=!1;return e===jX?(l=!!(n&Nne),r=!!(n&Ine),a=!!(n&vne)):(l=i===Yne,r=i===Lne,a=i===Mne),{leftButton:l,middleButton:r,rightButton:a}}function Jne(t,e){const n=t.center;if(!n)return null;const i=e.getBoundingClientRect(),l=i.width/e.offsetWidth||1,r=i.height/e.offsetHeight||1,a={x:(n.x-i.left-e.clientLeft)/l,y:(n.y-i.top-e.clientTop)/r};return{center:n,offsetCenter:a}}const ty={srcElement:"root",priority:0};class Cne{constructor(e){this.handleEvent=n=>{if(this.isEmpty())return;const i=this._normalizeEvent(n);let l=n.srcEvent.target;for(;l&&l!==i.rootElement;){if(this._emit(i,l),i.handled)return;l=l.parentNode}this._emit(i,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,n,i,l=!1,r=!1){const{handlers:a,handlersByElement:s}=this;let o=ty;typeof i=="string"||i&&i.addEventListener?o={...ty,srcElement:i}:i&&(o={...ty,...i});let c=s.get(o.srcElement);c||(c=[],s.set(o.srcElement,c));const u={type:e,handler:n,srcElement:o.srcElement,priority:o.priority};l&&(u.once=!0),r&&(u.passive=!0),a.push(u),this._active=this._active||!u.passive;let d=c.length-1;for(;d>=0&&!(c[d].priority>=u.priority);)d--;c.splice(d+1,0,u)}remove(e,n){const{handlers:i,handlersByElement:l}=this;for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.type===e&&a.handler===n){i.splice(r,1);const s=l.get(a.srcElement);s.splice(s.indexOf(a),1),s.length===0&&l.delete(a.srcElement)}}this._active=i.some(r=>!r.passive)}_emit(e,n){const i=this.handlersByElement.get(n);if(i){let l=!1;const r=()=>{e.handled=!0},a=()=>{e.handled=!0,l=!0},s=[];for(let o=0;o<i.length;o++){const{type:c,handler:u,once:d}=i[o];if(u({...e,type:c,stopPropagation:r,stopImmediatePropagation:a}),d&&s.push(i[o]),l)break}for(let o=0;o<s.length;o++){const{type:c,handler:u}=s[o];this.remove(c,u)}}}_normalizeEvent(e){const n=this.eventManager.getElement();return{...e,...wne(e),...Jne(e,n),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:n}}}const kne={events:null,recognizers:null,recognizerOptions:{},Manager:dne,touchAction:"none",tabIndex:0};class Ene{constructor(e=null,n){this._onBasicInput=l=>{const{srcEvent:r}=l,a=bne[r.type];a&&this.manager.emit(a,l)},this._onOtherEvent=l=>{this.manager.emit(l.type,l)},this.options={...kne,...n},this.events=new Map,this.setElement(e);const{events:i}=this.options;i&&this.on(i)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:n}=this,i=n.Manager;this.manager=new i(e,{touchAction:n.touchAction,recognizers:n.recognizers||mne}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(hY).forEach(l=>{const r=this.manager.get(l);r&&hY[l].forEach(a=>{r.recognizeWith(a)})});for(const l in n.recognizerOptions){const r=this.manager.get(l);if(r){const a=n.recognizerOptions[l];delete a.enable,r.set(a)}}this.wheelInput=new gne(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Vne(e,this._onOtherEvent,{enable:!1}),this.keyInput=new xne(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new Rne(e,this._onOtherEvent,{enable:!1});for(const[l,r]of this.events)r.isEmpty()||(this._toggleRecognizer(r.recognizerName,!0),this.manager.on(l,r.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,n,i){this._addEventHandler(e,n,i,!1)}once(e,n,i){this._addEventHandler(e,n,i,!0)}watch(e,n,i){this._addEventHandler(e,n,i,!1,!0)}off(e,n){this._removeEventHandler(e,n)}_toggleRecognizer(e,n){const{manager:i}=this;if(!i)return;const l=i.get(e);if(l&&l.options.enable!==n){l.set({enable:n});const r=hne[e];r&&!this.options.recognizers&&r.forEach(a=>{const s=i.get(a);n?(s.requireFailure(e),l.dropRequireFailure(a)):s.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,n),this.moveInput.enableEventType(e,n),this.keyInput.enableEventType(e,n),this.contextmenuInput.enableEventType(e,n)}_addEventHandler(e,n,i,l,r){if(typeof e!="string"){i=n;for(const u in e)this._addEventHandler(u,e[u],i,l,r);return}const{manager:a,events:s}=this,o=bY[e]||e;let c=s.get(o);c||(c=new Cne(this),s.set(o,c),c.recognizerName=pne[o]||o,a&&a.on(o,c.handleEvent)),c.add(e,n,i,l,r),c.isEmpty()||this._toggleRecognizer(c.recognizerName,!0)}_removeEventHandler(e,n){if(typeof e!="string"){for(const a in e)this._removeEventHandler(a,e[a]);return}const{events:i}=this,l=bY[e]||e,r=i.get(l);if(r&&(r.remove(e,n),r.isEmpty())){const{recognizerName:a}=r;let s=!1;for(const o of i.values())if(o.recognizerName===a&&!o.isEmpty()){s=!0;break}s||this._toggleRecognizer(a,!1)}}}function oa(){}const Kne=t=>{let{isDragging:e}=t;return e?"grabbing":"grab"};function Une(t){return{id:t.string,width:t.oneOfType([t.number,t.string]),height:t.oneOfType([t.number,t.string]),layers:t.oneOfType([t.object,t.array]),layerFilter:t.func,views:t.oneOfType([t.object,t.array]),viewState:t.object,effects:t.arrayOf(t.instanceOf(sJ)),controller:t.oneOfType([t.func,t.bool,t.object]),gl:t.object,glOptions:t.object,parameters:t.object,pickingRadius:t.number,useDevicePixels:t.oneOfType([t.bool,t.number]),touchAction:t.string,eventRecognizerOptions:t.object,onWebGLInitialized:t.func,onResize:t.func,onViewStateChange:t.func,onInteractionStateChange:t.func,onBeforeRender:t.func,onAfterRender:t.func,onLoad:t.func,onError:t.func,debug:t.bool,drawPickingColors:t.bool,_framebuffer:t.object,_animate:t.bool,_pickable:t.bool,_typedArrayManagerProps:t.object}}const gJ={id:"",width:"100%",height:"100%",pickingRadius:0,layerFilter:null,glOptions:{},gl:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},onWebGLInitialized:oa,onResize:oa,onViewStateChange:oa,onInteractionStateChange:oa,onBeforeRender:oa,onAfterRender:oa,onLoad:oa,onError:(t,e)=>we.error(t)(),_onMetrics:null,getCursor:Kne,debug:!1,drawPickingColors:!1};let bc=class{constructor(e){e={...gJ,...e},this.props={},this.width=0,this.height=0,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this._needsRedraw=!0,this._pickRequest={},this._lastPointerDownInfo=null,this.viewState=null,this.interactiveState={isHovering:!1,isDragging:!1},this._onEvent=this._onEvent.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),e.viewState&&e.initialViewState&&we.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),Po.getBrowser()==="IE"&&we.warn("IE 11 support will be deprecated in v8.0")(),e.gl||typeof document<"u"&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new kW({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&Bo.setProps(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager&&(this.layerManager.finalize(),this.layerManager=null,this.viewManager.finalize(),this.viewManager=null,this.effectManager.finalize(),this.effectManager=null,this.deckRenderer.finalize(),this.deckRenderer=null,this.deckPicker.finalize(),this.deckPicker=null,this.eventManager.destroy(),this.eventManager=null,this.tooltip.remove(),this.tooltip=null),!this.props.canvas&&!this.props.gl&&this.canvas&&(this.canvas.parentElement.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&we.removed("onLayerHover","onHover")(),"onLayerClick"in e&&we.removed("onLayerClick","onClick")(),e.initialViewState&&!cm(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const n=Object.create(this.props);Object.assign(n,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(n),this.layerManager&&(this.viewManager.setProps(n),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(n),this.effectManager.setProps(n),this.deckRenderer.setProps(n),this.deckPicker.setProps(n)),this.stats.get("setProps Time").timeEnd()}needsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{clearRedrawFlags:!1};if(this.props._animate)return"Deck._animate";let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const i=this.viewManager.needsRedraw(e),l=this.layerManager.needsRedraw(e),r=this.effectManager.needsRedraw(e),a=this.deckRenderer.needsRedraw(e);return n=n||i||l||r||a,n}redraw(e){if(!this.layerManager)return;const n=e||this.needsRedraw({clearRedrawFlags:!0});n&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(n):this._drawLayers(n))}getViews(){return this.viewManager.views}getViewports(e){return this.viewManager.getViewports(e)}pickObject(e){const n=this._pick("pickObject","pickObject Time",e).result;return n.length?n[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(const i in e)this.layerManager.resourceManager.add({resourceId:i,data:e[i],forceUpdate:n})}_removeResources(e){for(const n of e)this.layerManager.resourceManager.remove(n)}_pick(e,n,i){const{stats:l}=this;l.get("Pick Count").incrementCount(),l.get(n).timeStart();const r=this.deckPicker[e]({layers:this.layerManager.getLayers(i),views:this.viewManager.getViews(),viewports:this.getViewports(i),onViewportActive:this.layerManager.activateViewport,...i});return l.get(n).timeEnd(),r}_createCanvas(e){let n=e.canvas;return typeof n=="string"&&(n=document.getElementById(n),Rn(n)),n||(n=document.createElement("canvas"),n.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(n)),Object.assign(n.style,e.style),n}_setCanvasSize(e){if(!this.canvas)return;let{width:n,height:i}=e;(n||n===0)&&(n=Number.isFinite(n)?"".concat(n,"px"):n,this.canvas.style.width=n),(i||i===0)&&(i=Number.isFinite(i)?"".concat(i,"px"):i,this.canvas.style.position="absolute",this.canvas.style.height=i)}_updateCanvasSize(){if(this._checkForCanvasSizeChange()){const{width:e,height:n}=this;this.viewManager.setProps({width:e,height:n}),this.props.onResize({width:this.width,height:this.height})}}_checkForCanvasSizeChange(){const{canvas:e}=this;if(!e)return!1;const n=e.clientWidth||e.width,i=e.clientHeight||e.height;return n!==this.width||i!==this.height?(this.width=n,this.height=i,!0):!1}_createAnimationLoop(e){const{width:n,height:i,gl:l,glOptions:r,debug:a,onError:s,onBeforeRender:o,onAfterRender:c,useDevicePixels:u,autoResizeDrawingBuffer:d}=e;return new j6({width:n,height:i,useDevicePixels:u,autoResizeDrawingBuffer:d,autoResizeViewport:!1,gl:l,onCreateContext:m=>V3({...r,...m,canvas:this.canvas,debug:a,onContextLost:()=>this._onContextLost()}),onInitialize:m=>this._setGLContext(m.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:o,onAfterRender:c,onError:s})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new bJ({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_onPointerMove(e){const{_pickRequest:n}=this;if(e.type==="pointerleave")n.x=-1,n.y=-1,n.radius=0;else{if(e.leftButton||e.rightButton)return;{const i=e.offsetCenter;if(!i)return;n.x=i.x,n.y=i.y,n.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:n.x,y:n.y}),n.event=e,n.mode="hover"}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:n,emptyInfo:i}=this._pick("pickObject","pickObject Time",e);this.interactiveState.isHovering=n.length>0;let l=i,r=!1;for(const a of n)l=a,r=a.layer.onHover(a,e.event);if(!r&&this.props.onHover&&this.props.onHover(l,e.event),this.props.getTooltip){const a=this.props.getTooltip(l);this.tooltip.setTooltip(a,l.x,l.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.interactiveState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,BW(e,{enable:!0,copyState:!0})),this.tooltip=new rne(this.canvas),Jl(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const n=new tJ;n.play(),this.animationLoop.attachTimeline(n),this.eventManager=new Ene(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const l in $S)this.eventManager.on(l,this._onEvent);this.viewManager=new wte({timeline:n,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const i=this.viewManager.getViewports()[0];this.layerManager=new Ite(e,{deck:this,stats:this.stats,viewport:i,timeline:n}),this.effectManager=new Dte,this.deckRenderer=new _te(e),this.deckPicker=new ine(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,n){const{gl:i}=this.layerManager.context;Jl(i,this.props.parameters),this.props.onBeforeRender({gl:i}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects(),...n}),this.props.onAfterRender({gl:i})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),we.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(!1),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const n=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:n},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.interactiveState.isDragging=e.isDragging,this.props.onInteractionStateChange(e)}_onEvent(e){const n=$S[e.type],i=e.offsetCenter;if(!n||!i)return;const l=this.layerManager.getLayers(),r=this.deckPicker.getLastPickedObject({x:i.x,y:i.y,layers:l,viewports:this.getViewports(i)},this._lastPointerDownInfo),{layer:a}=r,s=a&&(a[n.handler]||a.props[n.handler]),o=this.props[n.handler];let c=!1;s&&(c=s.call(a,r,e)),!c&&o&&o(r,e)}_onPointerDown(e){const n=e.offsetCenter,i=this._pick("pickObject","pickObject Time",{x:n.x,y:n.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=i.result[0]||i.emptyInfo}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const n=this.animationLoop.stats;e.get("GPU Time").addTime(n.get("GPU Time").lastTiming),e.get("CPU Time").addTime(n.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:n}=this;e.fps=n.get("frameRate").getHz(),e.setPropsTime=n.get("setProps Time").time,e.updateAttributesTime=n.get("Update Attributes").time,e.framesRedrawn=n.get("Redraw Count").count,e.pickTime=n.get("pickObject Time").time+n.get("pickMultipleObjects Time").time+n.get("pickObjects Time").time,e.pickCount=n.get("Pick Count").count,e.gpuTime=n.get("GPU Time").time,e.cpuTime=n.get("CPU Time").time,e.gpuTimePerFrame=n.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=n.get("CPU Time").getAverageTime();const i=Ra.get("Memory Usage");e.bufferMemory=i.get("Buffer Memory").count,e.textureMemory=i.get("Texture Memory").count,e.renderbufferMemory=i.get("Renderbuffer Memory").count,e.gpuMemory=i.get("GPU Memory").count}};bc.getPropTypes=Une;bc.defaultProps=gJ;bc.VERSION=A_.VERSION;class ny{constructor(e,n){this.opts=n,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),n=this.getAccessor();if(e)return[e,n];const{value:i}=this.source,{size:l}=n;let r=i;if(i&&i.length!==l){r=new Float32Array(l);const a=n.elementOffset||0;for(let s=0;s<l;++s)r[s]=i[a+s]}return r}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}function Pne(t){switch(t){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}function ub(t){return t.stride||t.size*t.bytesPerElement}function WJ(t,e){e.offset&&we.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=ub(t),i="vertexOffset"in e?e.vertexOffset:t.vertexOffset||0,l=e.elementOffset||0,r=i*n+l*t.bytesPerElement+(t.offset||0);return{...e,offset:r,stride:n}}function Fne(t,e){const n=WJ(t,e);return{high:n,low:{...n,offset:n.offset+t.size*4}}}class zne{constructor(e,n){this.gl=e,this.id=n.id,this.size=n.size;const i=n.logicalType||n.type,l=i===5130;let{defaultValue:r}=n;r=Number.isFinite(r)?[r]:r||new Array(this.size).fill(0),n.defaultValue=r;let a=i;l?a=5126:!a&&n.isIndexed?a=e&&g7(e,et.ELEMENT_INDEX_UINT32)?5125:5123:a||(a=5126),n.logicalType=i,n.type=a;let s=Pne(i||a||5126);this.shaderAttributes={},this.doublePrecision=l,l&&n.fp64===!1&&(s=Float32Array),n.bytesPerElement=s.BYTES_PER_ELEMENT,this.defaultType=s,this.value=null,this.settings=n,this.state={externalBuffer:null,bufferAccessor:n,allocatedValue:null,constant:!1},this._buffer=null,this.setData(n)}get buffer(){if(!this._buffer){const{isIndexed:e,type:n}=this.settings;this._buffer=new ze(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:n}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*ub(e):0}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),Bo.release(this.state.allocatedValue)}getShaderAttributes(e,n){if(this.doublePrecision){const i={},l=this.value instanceof Float64Array,r=Fne(this.getAccessor(),n||{});return i[e]=new ny(this,r.high),i["".concat(e,"64Low")]=l?new ny(this,r.low):new Float32Array(this.size),i}if(n){const i=WJ(this.getAccessor(),n);return{[e]:new ny(this,i)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}setData(e){const{state:n}=this;ArrayBuffer.isView(e)?e={value:e}:e instanceof ze&&(e={buffer:e});const i={...this.settings,...e};if(n.bufferAccessor=i,e.constant){let l=e.value;if(l=this._normalizeValue(l,[],0),this.settings.normalized&&(l=this._normalizeConstant(l)),!(!n.constant||!this._areValuesEqual(l,this.value)))return!1;n.externalBuffer=null,n.constant=!0,this.value=l}else if(e.buffer){const l=e.buffer;n.externalBuffer=l,n.constant=!1,this.value=e.value;const r=e.value instanceof Float64Array;i.type=e.type||l.accessor.type,i.bytesPerElement=l.accessor.BYTES_PER_ELEMENT*(r?2:1),i.stride=ub(i)}else if(e.value){this._checkExternalBuffer(e);let l=e.value;n.externalBuffer=null,n.constant=!1,this.value=l,i.bytesPerElement=l.BYTES_PER_ELEMENT,i.stride=ub(i);const{buffer:r,byteOffset:a}=this;this.doublePrecision&&l instanceof Float64Array&&(l=$f(l,i));const s=l.byteLength+a+i.stride*2;r.byteLength<s&&r.reallocate(s),r.setAccessor(null),r.subData({data:l,offset:a}),i.type=e.type||r.accessor.type}return!0}updateSubBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{value:n}=this,{startOffset:i=0,endOffset:l}=e;this.buffer.subData({data:this.doublePrecision&&n instanceof Float64Array?$f(n,{size:this.size,startIndex:i,endIndex:l}):n.subarray(i,l),offset:i*n.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e){let{numInstances:n,copy:i=!1}=e;const{state:l}=this,r=l.allocatedValue,a=Bo.allocate(r,n+1,{size:this.size,type:this.defaultType,copy:i});this.value=a;const{buffer:s,byteOffset:o}=this;return s.byteLength<a.byteLength+o&&(s.reallocate(a.byteLength+o),i&&r&&s.subData({data:r instanceof Float64Array?$f(r,this):r,offset:o})),l.allocatedValue=a,l.constant=!1,l.externalBuffer=null,l.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:n}=e;if(!e.constant&&n){const i=this.defaultType;let l=!1;if(this.doublePrecision&&(l=n.BYTES_PER_ELEMENT<4),l)throw new Error("Attribute ".concat(this.id," does not support ").concat(n.constructor.name));!(n instanceof i)&&this.settings.normalized&&!("normalized"in e)&&we.warn("Attribute ".concat(this.id," is normalized"))()}}_normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map(n=>(n+128)/255*2-1);case 5122:return new Float32Array(e).map(n=>(n+32768)/65535*2-1);case 5121:return new Float32Array(e).map(n=>n/255);case 5123:return new Float32Array(e).map(n=>n/65535);default:return e}}_normalizeValue(e,n,i){const{defaultValue:l,size:r}=this.settings;if(Number.isFinite(e))return n[i]=e,n;if(!e)return n[i]=l[0],n;switch(r){case 4:n[i+3]=Number.isFinite(e[3])?e[3]:l[3];case 3:n[i+2]=Number.isFinite(e[2])?e[2]:l[2];case 2:n[i+1]=Number.isFinite(e[1])?e[1]:l[1];case 1:n[i+0]=Number.isFinite(e[0])?e[0]:l[0];break;default:let a=r;for(;--a>=0;)n[i+a]=Number.isFinite(e[a])?e[a]:l[a]}return n}_areValuesEqual(e,n){if(!e||!n)return!1;const{size:i}=this;for(let l=0;l<i;l++)if(e[l]!==n[l])return!1;return!0}}const SY=[],YY=[];function mm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,i=SY;const l={index:-1,data:t,target:[]};return t?typeof t[Symbol.iterator]=="function"?i=t:t.length>0&&(YY.length=t.length,i=YY):i=SY,(e>0||Number.isFinite(n))&&(i=(Array.isArray(i)?i:Array.from(i)).slice(e,n),l.index=e-1),{iterable:i,objectInfo:l}}function VJ(t){return t&&t[Symbol.asyncIterator]}function TJ(t,e){let{size:n,stride:i,offset:l,startIndices:r,nested:a}=e;const s=t.BYTES_PER_ELEMENT,o=i?i/s:n,c=l?l/s:0,u=Math.floor((t.length-c)/o);return(d,m)=>{let{index:h,target:b}=m;if(!r){const G=h*o+c;for(let V=0;V<n;V++)b[V]=t[G+V];return b}const Z=r[h],p=r[h+1]||u;let f;if(a){f=new Array(p-Z);for(let G=Z;G<p;G++){const V=G*o+c;b=new Array(n);for(let X=0;X<n;X++)b[X]=t[V+X];f[G-Z]=b}}else if(o===n)f=t.subarray(Z*n+c,p*n+c);else{f=new t.constructor((p-Z)*n);let G=0;for(let V=Z;V<p;V++){const X=V*o+c;for(let L=0;L<n;L++)f[G++]=t[X+L]}}return f}}const jne=[],db=[[0,1/0]];function Hne(t,e){if(t===db||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return t;const n=[],i=t.length;let l=0;for(let r=0;r<i;r++){const a=t[r];a[1]<e[0]?(n.push(a),l=r+1):a[0]>e[1]?n.push(a):e=[Math.min(a[0],e[0]),Math.max(a[1],e[1])]}return n.splice(l,0,e),n}function iy(t){let{source:e,target:n,start:i=0,end:l,size:r,getData:a}=t;l=l||n.length;const s=e.length,o=l-i;if(s>o){n.set(e.subarray(0,o),i);return}if(n.set(e,i),!a)return;let c=s;for(;c<o;){const u=a(c,e);for(let d=0;d<r;d++)n[i+c]=u[d]||0,c++}}function Dne(t){let{source:e,target:n,size:i,getData:l,sourceStartIndices:r,targetStartIndices:a}=t;if(!Array.isArray(a))return iy({source:e,target:n,size:i,getData:l}),n;let s=0,o=0;const c=l&&((d,m)=>l(d+o,m)),u=Math.min(r.length,a.length);for(let d=1;d<u;d++){const m=r[d]*i,h=a[d]*i;iy({source:e.subarray(s,m),target:n,start:o,end:h,size:i,getData:c}),s=m,o=h}return o<n.length&&iy({source:[],target:n,start:o,size:i,getData:c}),n}const One={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function xJ(t,e){return t?(Number.isFinite(t)&&(t={duration:t}),t.type=t.type||"interpolation",{...One[t.type],...e,...t}):null}function RJ(t,e){return e.getBuffer()?[e.getBuffer(),{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function SJ(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(t,'"'))}}function YJ(t){t.push(t.shift())}function oV(t,e){const{doublePrecision:n,settings:i,value:l,size:r}=t,a=n&&l instanceof Float64Array?2:1;return(i.noAlloc?l.length:e*r)*a}function LJ(t){let{buffer:e,numInstances:n,attribute:i,fromLength:l,fromStartIndices:r,getData:a=G=>G}=t;const s=i.doublePrecision&&i.value instanceof Float64Array?2:1,o=i.size*s,c=i.byteOffset,u=i.startIndices,d=r&&u,m=oV(i,n),h=i.state.constant;if(!d&&l>=m)return;const b=h?i.value:i.getBuffer().getData({srcByteOffset:c});if(i.settings.normalized&&!h){const G=a;a=(V,X)=>i._normalizeConstant(G(V,X))}const Z=h?(G,V)=>a(b,V):(G,V)=>a(b.subarray(G,G+o),V),p=e.getData({length:l}),f=new Float32Array(m);Dne({source:p,target:f,sourceStartIndices:r,targetStartIndices:u,size:o,getData:Z}),e.byteLength<f.byteLength+c&&e.reallocate(f.byteLength+c),e.subData({data:f,offset:c})}class cV extends zne{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n);const{transition:i=!1,noAlloc:l=!1,update:r=null,accessor:a=null,transform:s=null,startIndices:o=null}=n;Object.assign(this.settings,{transition:i,noAlloc:l,update:r||a&&this._autoUpdater,accessor:a,transform:s}),Object.assign(this.state,{lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:db,startIndices:o}),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw(){let{clearChangedFlags:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.state.needsRedraw;return this.state.needsRedraw=n&&!e,n}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:n}=this.settings,i=this.settings.transition,l=Array.isArray(n)?e[n.find(r=>e[r])]:e[n];return xJ(l,i)}setNeedsUpdate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.id,n=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),n){const{startRow:i=0,endRow:l=1/0}=n;this.state.updateRanges=Hne(this.state.updateRanges,[i,l])}else this.state.updateRanges=db}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=jne}setNeedsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}update(e){this.setData(e)}allocate(e){const{state:n,settings:i}=this;return i.noAlloc?!1:i.update?(super.allocate({numInstances:e,copy:n.updateRanges!==db}),!0):!1}updateBuffer(e){let{numInstances:n,data:i,props:l,context:r}=e;if(!this.needsUpdate())return!1;const{state:{updateRanges:a},settings:{update:s,noAlloc:o}}=this;let c=!0;if(s){for(const[u,d]of a)s.call(r,this,{data:i,startRow:u,endRow:d,props:l,numInstances:n});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[u,d]of a){const m=Number.isFinite(u)?this.getVertexOffset(u):0,h=Number.isFinite(d)?this.getVertexOffset(d):o||!Number.isFinite(n)?this.value.length:n*this.size;super.updateSubBuffer({startOffset:m,endOffset:h})}this._checkAttributeArray()}else c=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),c}setConstantValue(e){return e===void 0||typeof e=="function"?!1:(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:n}=this;return e?(this.clearNeedsUpdate(),n.lastExternalBuffer===e||(n.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(n.lastExternalBuffer=null,!1)}setBinaryValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const{state:i,settings:l}=this;if(!e)return i.binaryValue=null,i.binaryAccessor=null,!1;if(l.noAlloc)return!1;if(i.binaryValue===e)return this.clearNeedsUpdate(),!0;if(i.binaryValue=e,this.setNeedsRedraw(),ArrayBuffer.isView(e)&&(e={value:e}),l.transform||n!==this.startIndices){Rn(ArrayBuffer.isView(e.value),"invalid ".concat(l.accessor));const a=e.size&&e.size!==this.size;return i.binaryAccessor=TJ(e.value,{size:e.size||this.size,stride:e.stride,offset:e.offset,startIndices:n,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:n}=this;return(n?n[e]:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},n={};for(const i in e)Object.assign(n,super.getShaderAttributes(i,e[i]));return n}_autoUpdater(e,n){let{data:i,startRow:l,endRow:r,props:a,numInstances:s}=n;if(e.constant)return;const{settings:o,state:c,value:u,size:d,startIndices:m}=e,{accessor:h,transform:b}=o,Z=c.binaryAccessor||(typeof h=="function"?h:a[h]);Rn(typeof Z=="function",'accessor "'.concat(h,'" is not a function'));let p=e.getVertexOffset(l);const{iterable:f,objectInfo:G}=mm(i,l,r);for(const V of f){G.index++;let X=Z(V,G);if(b&&(X=b.call(this,X)),m){const L=(G.index<m.length-1?m[G.index+1]:s)-m[G.index];if(X&&Array.isArray(X[0])){let x=p;for(const v of X)e._normalizeValue(v,u,x),x+=d}else X&&X.length>d?u.set(X,p):(e._normalizeValue(X,G.target,0),Ste({target:u,source:G.target,start:p,count:L}));p+=L*d}else e._normalizeValue(X,u,p),p+=d}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,n=Math.min(4,this.size);if(e&&e.length>=n){let i=!0;switch(n){case 4:i=i&&Number.isFinite(e[3]);case 3:i=i&&Number.isFinite(e[2]);case 2:i=i&&Number.isFinite(e[1]);case 1:i=i&&Number.isFinite(e[0]);break;default:i=!1}if(!i)throw new Error("Illegal attribute generated for ".concat(this.id))}}}class Bne{constructor(e){let{gl:n,attribute:i,timeline:l}=e;this.gl=n,this.type="interpolation",this.transition=new um(l),this.attribute=i,this.attributeInTransition=new cV(n,i.settings),this.currentStartIndices=i.startIndices,this.currentLength=0,this.transform=Ane(n,i);const r={byteLength:0,usage:35050};this.buffers=[new ze(n,r),new ze(n,r)]}get inProgress(){return this.transition.inProgress}start(e,n){if(e.duration<=0){this.transition.cancel();return}const{gl:i,buffers:l,attribute:r}=this;YJ(l);const a={numInstances:n,attribute:r,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const s of l)LJ({buffer:s,...a});this.currentStartIndices=r.startIndices,this.currentLength=oV(r,n),this.attributeInTransition.update({buffer:l[1],value:r.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/r.size),sourceBuffers:{aFrom:l[0],aTo:RJ(i,r)},feedbackBuffers:{vCurrent:l[1]}})}update(){const e=this.transition.update();if(e){const{time:n,settings:{duration:i,easing:l}}=this.transition,r=l(n/i);this.transform.run({uniforms:{time:r}})}return e}cancel(){for(this.transition.cancel(),this.transform.delete();this.buffers.length;)this.buffers.pop().delete()}}const Qne=`
#define SHADER_NAME interpolation-transition-vertex-shader

uniform float time;
attribute ATTRIBUTE_TYPE aFrom;
attribute ATTRIBUTE_TYPE aTo;
varying ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, time);
  gl_Position = vec4(0.0);
}
`;function Ane(t,e){const n=SJ(e.size);return new nV(t,{vs:Qne,defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}class _ne{constructor(e){let{gl:n,attribute:i,timeline:l}=e;this.gl=n,this.type="spring",this.transition=new um(l),this.attribute=i,this.attributeInTransition=new cV(n,{...i.settings,normalized:!1}),this.currentStartIndices=i.startIndices,this.currentLength=0,this.texture=qne(n),this.framebuffer=eie(n,this.texture),this.transform=$ne(n,i,this.framebuffer);const r={byteLength:0,usage:35050};this.buffers=[new ze(n,r),new ze(n,r),new ze(n,r)]}get inProgress(){return this.transition.inProgress}start(e,n){const{gl:i,buffers:l,attribute:r}=this,a={numInstances:n,attribute:r,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const s of l)LJ({buffer:s,...a});this.currentStartIndices=r.startIndices,this.currentLength=oV(r,n),this.attributeInTransition.update({buffer:l[1],value:r.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/r.size),sourceBuffers:{aTo:RJ(i,r)}})}update(){const{buffers:e,transform:n,framebuffer:i,transition:l}=this;return l.update()?(n.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),n.run({framebuffer:i,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:l.settings.stiffness,damping:l.settings.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),YJ(e),this.attributeInTransition.update({buffer:e[1],value:this.attribute.value}),zZ(i)[0]>0||l.end(),!0):!1}cancel(){for(this.transition.cancel(),this.transform.delete();this.buffers.length;)this.buffers.pop().delete();this.texture.delete(),this.texture=null,this.framebuffer.delete(),this.framebuffer=null}}function $ne(t,e,n){const i=SJ(e.size);return new nV(t,{framebuffer:n,vs:`
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

uniform float stiffness;
uniform float damping;
attribute ATTRIBUTE_TYPE aPrev;
attribute ATTRIBUTE_TYPE aCur;
attribute ATTRIBUTE_TYPE aTo;
varying ATTRIBUTE_TYPE vNext;
varying float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE spring = delta * stiffness;
  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;
  return spring + damper + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,fs:`
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

varying float vIsTransitioningFlag;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  gl_FragColor = vec4(1.0);
}`,defines:{ATTRIBUTE_TYPE:i},varyings:["vNext"]})}function qne(t){return new Qn(t,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}function eie(t,e){return new Wt(t,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:e}})}const tie={interpolation:Bne,spring:_ne};class nie{constructor(e,n){let{id:i,timeline:l}=n;this.id=i,this.gl=e,this.timeline=l,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=nV.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update(e){let{attributes:n,transitions:i,numInstances:l}=e;this.numInstances=l||1;for(const r in n){const a=n[r],s=a.getTransitionSetting(i);s&&this._updateAttribute(r,a,s)}for(const r in this.transitions){const a=n[r];(!a||!a.getTransitionSetting(i))&&this._removeTransition(r)}}hasAttribute(e){const n=this.transitions[e];return n&&n.inProgress}getAttributes(){const e={};for(const n in this.transitions){const i=this.transitions[n];i.inProgress&&(e[n]=i.attributeInTransition)}return e}run(){if(!this.isSupported||this.numInstances===0)return!1;for(const n in this.transitions)this.transitions[n].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,n,i){const l=this.transitions[e];let r=!l||l.type!==i.type;if(r){if(!this.isSupported){we.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();return}l&&this._removeTransition(e);const a=tie[i.type];a?this.transitions[e]=new a({attribute:n,timeline:this.timeline,gl:this.gl}):(we.error("unsupported transition type '".concat(i.type,"'"))(),r=!1)}(r||n.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(i,this.numInstances))}}const LY="attributeManager.invalidate",iie="attributeManager.updateStart",lie="attributeManager.updateEnd",rie="attribute.updateStart",aie="attribute.allocate",sie="attribute.updateEnd";class oie{constructor(e){let{id:n="attribute-manager",stats:i,timeline:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.id=n,this.gl=e,this.attributes={},this.updateTriggers={},this.accessors={},this.needsRedraw=!0,this.userData={},this.stats=i,this.attributeTransitionManager=new nie(e,{id:"".concat(n,"-transitions"),timeline:l}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{clearRedrawFlags:!1};const n=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,n&&this.id}setNeedsRedraw(){return this.needsRedraw=!0,this}add(e,n){this._add(e,n)}addInstanced(e,n){this._add(e,n,{instanced:1})}remove(e){for(let n=0;n<e.length;n++){const i=e[n];this.attributes[i]!==void 0&&(this.attributes[i].delete(),delete this.attributes[i])}}invalidate(e,n){const i=this._invalidateTrigger(e,n);Jt(LY,this,e,i)}invalidateAll(e){for(const n in this.attributes)this.attributes[n].setNeedsUpdate(n,e);Jt(LY,this,"all")}update(){let{data:e,numInstances:n,startIndices:i=null,transitions:l,props:r={},buffers:a={},context:s={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=!1;Jt(iie,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const c in this.attributes){const u=this.attributes[c],d=u.settings.accessor;u.startIndices=i,r[c]&&we.removed("props.".concat(c),"data.attributes.".concat(c))(),u.setExternalBuffer(a[c])||u.setBinaryValue(a[d],e.startIndices)||!a[d]&&u.setConstantValue(r[d])||u.needsUpdate()&&(o=!0,this._updateAttribute({attribute:u,numInstances:n,data:e,props:r,context:s})),this.needsRedraw|=u.needsRedraw()}o&&Jt(lie,this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:l})}updateTransition(){const{attributeTransitionManager:e}=this,n=e.run();return this.needsRedraw=this.needsRedraw||n,n}getAttributes(){return this.attributes}getChangedAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{clearChangedFlags:!1};const{attributes:n,attributeTransitionManager:i}=this,l={...i.getAttributes()};for(const r in n){const a=n[r];a.needsRedraw(e)&&!i.hasAttribute(r)&&(l[r]=a)}return l}getShaderAttributes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e||(e=this.getAttributes());const i={};for(const l in e)n[l]||Object.assign(i,e[l].getShaderAttributes());return i}getAccessors(){return this.updateTriggers}_add(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n&&we.warn("AttributeManager.add({updaters}) - updater map no longer supported")();for(const l in e){const r=e[l];this.attributes[l]=this._createAttribute(l,r,i)}this._mapUpdateTriggersToAttributes()}_createAttribute(e,n,i){const l={...n,id:e,isIndexed:n.isIndexed||n.elements||!1,constant:n.constant||!1,size:n.elements&&1||n.size||1,value:n.value||null,divisor:n.instanced||i.instanced?1:n.divisor||0};return new cV(this.gl,l)}_mapUpdateTriggersToAttributes(){const e={};for(const n in this.attributes)this.attributes[n].getUpdateTriggers().forEach(l=>{e[l]||(e[l]=[]),e[l].push(n)});this.updateTriggers=e}_invalidateTrigger(e,n){const{attributes:i,updateTriggers:l}=this,r=l[e];return r&&r.forEach(a=>{const s=i[a];s&&s.setNeedsUpdate(s.id,n)}),r}_updateAttribute(e){const{attribute:n,numInstances:i}=e;if(Jt(rie,n),n.constant){n.setConstantValue(n.value);return}n.allocate(i)&&Jt(aie,n,i),n.updateBuffer(e)&&(this.needsRedraw=!0,Jt(sie,n,i))}}class cie extends um{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:n,toValue:i,duration:l,easing:r}}=this,a=r(e/l);this._value=pp(n,i,a)}}const MY=1e-5;function NY(t,e,n,i,l){const r=e-t,s=(n-e)*l,o=-r*i;return s+o+r+e}function uie(t,e,n,i,l){if(Array.isArray(n)){const r=[];for(let a=0;a<n.length;a++)r[a]=NY(t[a],e[a],n[a],i,l);return r}return NY(t,e,n,i,l)}function vY(t,e){if(Array.isArray(t)){let n=0;for(let i=0;i<t.length;i++){const l=t[i]-e[i];n+=l*l}return Math.sqrt(n)}return Math.abs(t-e)}class die extends um{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:n,damping:i,stiffness:l}=this.settings,{_prevValue:r=e,_currValue:a=e}=this;let s=uie(r,a,n,i,l);const o=vY(s,n),c=vY(s,a);o<MY&&c<MY&&(s=n,this.end()),this._prevValue=a,this._currValue=s}}const mie={interpolation:cie,spring:die};class hie{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,n,i,l){const{transitions:r}=this;if(r.has(e)){const o=r.get(e),{value:c=o.settings.fromValue}=o;n=c,this.remove(e)}if(l=xJ(l),!l)return;const a=mie[l.type];if(!a){we.error("unsupported transition type '".concat(l.type,"'"))();return}const s=new a(this.timeline);s.start({...l,fromValue:n,toValue:i}),r.set(e,s)}remove(e){const{transitions:n}=this;n.has(e)&&(n.get(e).cancel(),n.delete(e))}update(){const e={};for(const[n,i]of this.transitions)i.update(),e[n]=i.value,i.inProgress||this.remove(n);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}const{COMPONENT:bie}=DZ;function pie(t){const e=uV(t);for(const n in e){const i=e[n],{validate:l}=i;if(l&&!l(t[n],i))throw new Error("Invalid prop ".concat(n,": ").concat(t[n]))}}function Zie(t,e){const n=MJ({newProps:t,oldProps:e,propTypes:uV(t),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),i=yie(t,e);let l=!1;return i||(l=Gie(t,e)),{dataChanged:i,propsChanged:n,updateTriggersChanged:l,extensionsChanged:Xie(t,e),transitionsChanged:fie(t,e)}}function fie(t,e){if(!t.transitions)return null;const n={},i=uV(t);for(const l in t.transitions){const r=i[l],a=r&&r.type;(a==="number"||a==="color"||a==="array")&&HX(t[l],e[l],r)&&(n[l]=!0)}return n}function MJ(){let{newProps:t,oldProps:e,ignoreProps:n={},propTypes:i={},triggerName:l="props"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(e===t)return null;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return"".concat(l," changed shallowly");for(const r of Object.keys(t))if(!(r in n)){if(!(r in e))return"".concat(l,".").concat(r," added");const a=HX(t[r],e[r],i[r]);if(a)return"".concat(l,".").concat(r," ").concat(a)}for(const r of Object.keys(e))if(!(r in n)){if(!(r in t))return"".concat(l,".").concat(r," dropped");if(!Object.hasOwnProperty.call(t,r)){const a=HX(t[r],e[r],i[r]);if(a)return"".concat(l,".").concat(r," ").concat(a)}}return null}function HX(t,e,n){let i=n&&n.equal;return i&&!i(t,e,n)||!i&&(i=t&&e&&t.equals,i&&!i.call(t,e))?"changed deeply":!i&&e!==t?"changed shallowly":null}function yie(t,e){if(e===null)return"oldProps is null, initial diff";let n=null;const{dataComparator:i,_dataDiff:l}=t;return i?i(t.data,e.data)||(n="Data comparator detected a change"):t.data!==e.data&&(n="A new data container was supplied"),n&&l&&(n=l(t.data,e.data)||n),n}function Gie(t,e){if(e===null)return"oldProps is null, initial diff";if("all"in t.updateTriggers&&IY(t,e,"all"))return{all:!0};const n={};let i=!1;for(const l in t.updateTriggers)l!=="all"&&IY(t,e,l)&&(n[l]=!0,i=n);return i}function Xie(t,e){if(e===null)return"oldProps is null, initial diff";const n=e.extensions,{extensions:i}=t;if(i===n)return!1;if(!n||!i||i.length!==n.length)return!0;for(let l=0;l<i.length;l++)if(!i[l].equals(n[l]))return!0;return!1}function IY(t,e,n){let i=t.updateTriggers[n];i=i??{};let l=e.updateTriggers[n];return l=l??{},MJ({oldProps:l,newProps:i,triggerName:n})}function uV(t){const e=t[bie],n=e&&e.constructor;return n?n._propTypes:{}}const gie="count(): argument not an object",Wie="count(): argument not a container";function Vie(t){if(!xie(t))throw new Error(gie);if(typeof t.count=="function")return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(Tie(t))return Object.keys(t).length;throw new Error(Wie)}function Tie(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function xie(t){return t!==null&&typeof t=="object"}function Rie(t,e){if(!e)return t;const n={...t,...e};if("defines"in e&&(n.defines={...t.defines,...e.defines}),"modules"in e&&(n.modules=(t.modules||[]).concat(e.modules),e.modules.some(i=>i.name==="project64"))){const i=n.modules.findIndex(l=>l.name==="project32");i>=0&&n.modules.splice(i,1)}if("inject"in e)if(!t.inject)n.inject=e.inject;else{const i={...t.inject};for(const l in e.inject)i[l]=(i[l]||"")+e.inject[l];n.inject=i}return n}const Sie={10241:9987,10240:9729,10242:33071,10243:33071},DX={};function Yie(t,e){const n=t.context&&t.context.gl;if(!n||!e)return null;if(e instanceof Qn)return e;e.constructor&&e.constructor.name!=="Object"&&(e={data:e});let i=null;e.compressed&&(i={10241:e.data.length>1?9985:9729});const l=new Qn(n,{...e,parameters:{...Sie,...i,...t.props.textureParameters}});return DX[l.id]=!0,l}function Lie(t){!t||!(t instanceof Qn)||DX[t.id]&&(t.delete(),delete DX[t.id])}const Mie={boolean:{validate(t,e){return!0},equal(t,e,n){return!!t==!!e}},number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate(t,e){return e.optional&&!t||Ld(t)&&(t.length===3||t.length===4)},equal(t,e,n){return ly(t,e)}},accessor:{validate(t,e){const n=Wp(t);return n==="function"||n===Wp(e.value)},equal(t,e,n){return typeof e=="function"?!0:ly(t,e)}},array:{validate(t,e){return e.optional&&!t||Ld(t)},equal(t,e,n){return n.compare?ly(t,e):t===e}},function:{validate(t,e){return e.optional&&!t||typeof t=="function"},equal(t,e,n){return!n.compare||t===e}},data:{transform:(t,e,n)=>{const{dataTransform:i}=n?n.props:{};return i&&t?i(t):t}},image:{transform:(t,e,n)=>Yie(n,t),release:t=>{Lie(t)}}};function ly(t,e){if(t===e)return!0;if(!Ld(t)||!Ld(e))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Nie(t){const e={},n={},i={};for(const[l,r]of Object.entries(t))if(r&&r.deprecatedFor)i[l]=Array.isArray(r.deprecatedFor)?r.deprecatedFor:[r.deprecatedFor];else{const a=vie(l,r);e[l]=a,n[l]=a.value}return{propTypes:e,defaultProps:n,deprecatedProps:i}}function vie(t,e){switch(Wp(e)){case"object":return qc(t,e);case"array":return qc(t,{type:"array",value:e,compare:!1});case"boolean":return qc(t,{type:"boolean",value:e});case"number":return qc(t,{type:"number",value:e});case"function":return qc(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function qc(t,e){return"type"in e?{name:t,...Mie[e.type],...e}:"value"in e?{name:t,type:Wp(e.value),...e}:{name:t,type:"object",value:e}}function Ld(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Wp(t){return Ld(t)?"array":t===null?"null":typeof t}const{COMPONENT:OX,ASYNC_ORIGINAL:Vp,ASYNC_RESOLVED:Gu,ASYNC_DEFAULTS:mb}=DZ;function Iie(){const t=this,e=NJ(t.constructor),n=Object.create(e);n[OX]=t,n[Vp]={},n[Gu]={};for(let i=0;i<arguments.length;++i){const l=arguments[i];for(const r in l)n[r]=l[r]}return Object.freeze(n),n}function NJ(t){const e=Tp(t,"_mergedDefaultProps");return e||(wie(t),t._mergedDefaultProps)}function wie(t){if(!t.prototype)return;const n=Object.getPrototypeOf(t),i=NJ(n),l=Tp(t,"defaultProps")||{},r=Nie(l),a=Jie(r.defaultProps,i,t),s={...n._propTypes,...r.propTypes};kie(a,s);const o={...n._deprecatedProps,...r.deprecatedProps};Cie(a,o),t._mergedDefaultProps=a,t._propTypes=s,t._deprecatedProps=o}function Jie(t,e,n){const i=Object.create(null);Object.assign(i,e,t);const l=Kie(n);return delete t.id,Object.defineProperties(i,{id:{writable:!0,value:l}}),i}function Cie(t,e){for(const n in e)Object.defineProperty(t,n,{enumerable:!1,set(i){const l="".concat(this.id,": ").concat(n);for(const r of e[n])vJ(this,r)||(this[r]=i);we.deprecated(l,e[n].join("/"))()}})}function kie(t,e){const n={},i={};for(const l in e){const r=e[l],{name:a,value:s}=r;r.async&&(n[a]=s,i[a]=Eie(a))}t[mb]=n,t[Vp]={},Object.defineProperties(t,i)}function Eie(t){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||VJ(e)?this[Vp][t]=e:this[Gu][t]=e},get(){if(this[Gu]){if(t in this[Gu])return this[Gu][t]||this[mb][t];if(t in this[Vp]){const e=this[OX]&&this[OX].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[mb][t]}}return this[mb][t]}}}function vJ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tp(t,e){return vJ(t,e)&&t[e]}function Kie(t){const e=Tp(t,"layerName")||Tp(t,"componentName");return e||we.once(0,"".concat(t.name,".componentName not specified"))(),e||t.name}const{ASYNC_ORIGINAL:Uie,ASYNC_RESOLVED:Pie,ASYNC_DEFAULTS:Fie}=DZ,zie=Object.freeze({});class IJ{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=zie,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const n=this.asyncProps[e];n.type&&n.type.release&&n.type.release(n.resolvedValue,n.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}freezeAsyncOldProps(){if(!this.oldAsyncProps){this.oldProps=this.oldProps||this.component.props,this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const n=this.asyncProps[e];return n&&n.resolvedValue}isAsyncPropLoading(e){if(e){const n=this.asyncProps[e];return!!(n&&n.pendingLoadCount>0&&n.pendingLoadCount!==n.resolvedLoadCount)}for(const n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}reloadAsyncProp(e,n){this._watchPromise(e,Promise.resolve(n))}setAsyncProps(e){const n=e[Pie]||{},i=e[Uie]||e,l=e[Fie]||{};for(const r in n){const a=n[r];this._createAsyncPropData(r,l[r]),this._updateAsyncProp(r,a),n[r]=this.getAsyncProp(r)}for(const r in i){const a=i[r];this._createAsyncPropData(r,l[r]),this._updateAsyncProp(r,a)}}_updateAsyncProp(e,n){if(this._didAsyncInputValueChange(e,n)){if(typeof n=="string"){var i;const l=(i=this.layer)===null||i===void 0?void 0:i.props.fetch;l&&(n=l(n,{propName:e,layer:this.layer}))}if(n instanceof Promise){this._watchPromise(e,n);return}if(VJ(n)){this._resolveAsyncIterable(e,n);return}this._setPropValue(e,n)}}_didAsyncInputValueChange(e,n){const i=this.asyncProps[e];return n===i.resolvedValue||n===i.lastValue?!1:(i.lastValue=n,!0)}_setPropValue(e,n){this.freezeAsyncOldProps();const i=this.asyncProps[e];n=this._postProcessValue(i,n),i.resolvedValue=n,i.pendingLoadCount++,i.resolvedLoadCount=i.pendingLoadCount}_setAsyncPropValue(e,n,i){const l=this.asyncProps[e];l&&i>=l.resolvedLoadCount&&n!==void 0&&(this.freezeAsyncOldProps(),l.resolvedValue=n,l.resolvedLoadCount=i,this.onAsyncPropUpdated(e,n))}_watchPromise(e,n){const i=this.asyncProps[e];i.pendingLoadCount++;const l=i.pendingLoadCount;n.then(r=>{var a;r=this._postProcessValue(i,r),this._setAsyncPropValue(e,r,l);const s=(a=this.layer)===null||a===void 0?void 0:a.props.onDataLoad;e==="data"&&s&&s(r,{propName:e,layer:this.layer})}).catch(r=>{var a;(a=this.layer)===null||a===void 0||a.raiseError(r,"loading ".concat(e," of ").concat(this.layer))})}async _resolveAsyncIterable(e,n){var i;e!=="data"&&this._setPropValue(e,n);const l=this.asyncProps[e];l.pendingLoadCount++;const r=l.pendingLoadCount;let a=[],s=0;for await(const c of n){const{dataTransform:u}=this.component?this.component.props:{};u?a=u(c,a):a=a.concat(c),Object.defineProperty(a,"__diff",{enumerable:!1,value:[{startRow:s,endRow:a.length}]}),s=a.length,this._setAsyncPropValue(e,a,r)}const o=(i=this.layer)===null||i===void 0?void 0:i.props.onDataLoad;o&&o(a,{propName:e,layer:this.layer})}_postProcessValue(e,n){const i=e.type;return i&&(i.release&&i.release(e.resolvedValue,i,this.component),i.transform)?i.transform(n,i,this.component):n}_createAsyncPropData(e,n){if(!this.asyncProps[e]){const l=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:l&&l[e],lastValue:null,resolvedValue:n,pendingLoadCount:0,resolvedLoadCount:0}}}}const{ASYNC_ORIGINAL:wY,ASYNC_RESOLVED:JY,ASYNC_DEFAULTS:jie}=DZ,Hie={};let Die=0,dV=class{constructor(){this.props=Iie.apply(this,arguments),this.id=this.props.id,this.count=Die++,this.lifecycle=ws.NO_STATE,this.parent=null,this.context=null,this.state=null,this.internalState=null,Object.seal(this)}get root(){let e=this;for(;e.parent;)e=e.parent;return e}clone(e){const{props:n}=this,i={};for(const l in n[jie])l in n[JY]?i[l]=n[JY][l]:l in n[wY]&&(i[l]=n[wY][l]);return new this.constructor({...n,...i,...e})}get stats(){return this.internalState.stats}_initState(){this.internalState=new IJ({})}};dV.componentName="Component";dV.defaultProps=Hie;class Oie extends IJ{constructor(e){let{attributeManager:n,layer:i}=e;super(i),this.attributeManager=n,this.model=null,this.needsRedraw=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(e){this.component=e}}const Bie="layer.changeFlag",Qie="layer.initialize",Aie="layer.update",_ie="layer.finalize",$ie="layer.matched",CY=2**24-1,qie=Object.freeze([]),ele=jZ(t=>{let{oldViewport:e,viewport:n}=t;return e.equals(n)});let Ci=new Uint8ClampedArray(0);const tle={data:{type:"data",value:qie,async:!0},dataComparator:null,_dataDiff:{type:"function",value:t=>t&&t.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(t,e)=>{let{propName:n,layer:i,loaders:l,loadOptions:r,signal:a}=e;const{resourceManager:s}=i.context;if(r=r||i.getLoadOptions(),l=l||i.props.loaders,a){var o;r={...r,fetch:{...(o=r)===null||o===void 0?void 0:o.fetch,signal:a}}}let c=s.contains(t);return!c&&!r&&(s.add({resourceId:t,data:mp(t,l),persistent:!1}),c=!0),c?s.subscribe({resourceId:t,onChange:u=>i.internalState.reloadAsyncProp(n,u),consumerId:i.id,requestId:n}):mp(t,l,r)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:ke.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:t=>{let{layerIndex:e}=t;return[0,-e*100]},compare:!1},highlightedObjectIndex:-1,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class al extends dV{toString(){const e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}raiseError(e,n){var i,l;if(n&&(e.message="".concat(n,": ").concat(e.message)),!((i=(l=this.props).onError)!==null&&i!==void 0&&i.call(l,e))){var r,a;(r=this.context)===null||r===void 0||(a=r.onError)===null||a===void 0||a.call(r,e,this)}}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.internalState&&(this.internalState.needsRedraw=e)}setNeedsUpdate(){this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0}getNeedsRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams())}hasUniformTransition(){return this.internalState.uniformTransitions.active}get isLoaded(){return this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||(this.state.model?[this.state.model]:[]))}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}project(e){const{viewport:n}=this.context,i=uJ(e,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[l,r,a]=aJ(i,n.pixelProjectionMatrix);return e.length===2?[l,r]:[l,r,a]}unproject(e){const{viewport:n}=this.context;return n.unproject(e)}projectPosition(e){return Rte(e,{viewport:this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem})}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===ke.DEFAULT||e===ke.LNGLAT||e===ke.CARTESIAN}onHover(e,n){return this.props.onHover?this.props.onHover(e,n):!1}onClick(e,n){return this.props.onClick?this.props.onClick(e,n):!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n[0]=e+1&255,n[1]=e+1>>8&255,n[2]=e+1>>8>>8&255,n}decodePickingColor(e){Rn(e instanceof Uint8Array);const[n,i,l]=e;return n+i*256+l*65536-1}initializeState(){throw new Error("Layer ".concat(this," has not defined initializeState"))}getShaders(e){for(const n of this.props.extensions)e=Rie(e,n.getShaders.call(this,n));return e}shouldUpdateState(e){let{oldProps:n,props:i,context:l,changeFlags:r}=e;return r.propsOrDataChanged}updateState(e){let{oldProps:n,props:i,context:l,changeFlags:r}=e;const a=this.getAttributeManager();if(r.dataChanged&&a){const{dataChanged:c}=r;if(Array.isArray(c))for(const u of c)a.invalidateAll(u);else a.invalidateAll()}const s=n.highlightedObjectIndex>=0||n.pickable,o=i.highlightedObjectIndex>=0||i.pickable;if(s!==o&&a){const{pickingColors:c,instancePickingColors:u}=a.attributes,d=c||u;d&&(o&&d.constant&&(d.constant=!1,a.invalidate(d.id)),!d.value&&!o&&(d.constant=!0,d.value=[0,0,0]))}}finalizeState(){for(const n of this.getModels())n.delete();const e=this.getAttributeManager();e&&e.finalize(),this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState.uniformTransitions.clear(),this.internalState.finalize()}draw(e){for(const n of this.getModels())n.draw(e)}getPickingInfo(e){let{info:n,mode:i}=e;const{index:l}=n;return l>=0&&Array.isArray(this.props.data)&&(n.object=this.props.data[l]),n}activateViewport(e){const n=this.internalState.viewport;this.internalState.viewport=e,(!n||!ele({oldViewport:n,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"all";const n=this.getAttributeManager();n&&(e==="all"?n.invalidateAll():n.invalidate(e))}updateAttributes(e){for(const n of this.getModels())this._setModelAttributes(n,e)}_updateAttributes(e){const n=this.getAttributeManager();if(!n)return;const i=this.getNumInstances(e),l=this.getStartIndices(e);n.update({data:e.data,numInstances:i,startIndices:l,props:e,transitions:e.transitions,buffers:e.data.attributes,context:this,ignoreUnknownAttributes:!0});const r=n.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(r)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const n=e.update(),i=Object.create(this.props);for(const l in n)Object.defineProperty(i,l,{value:n[l]});return i}return this.props}calculateInstancePickingColors(e,n){let{numInstances:i}=n;if(e.constant)return;const l=Math.floor(Ci.length/3);if(this.internalState.usesPickingColorCache=!0,l<i){i>CY&&we.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Ci=Bo.allocate(Ci,i,{size:3,copy:!0,maxCount:Math.max(i,CY)});const r=Math.floor(Ci.length/3),a=[];for(let s=l;s<r;s++)this.encodePickingColor(s,a),Ci[s*3+0]=a[0],Ci[s*3+1]=a[1],Ci[s*3+2]=a[2]}e.value=Ci.subarray(0,i*3)}_setModelAttributes(e,n){const i=this.getAttributeManager(),l=e.userData.excludeAttributes||{},r=i.getShaderAttributes(n,l);e.setAttributes(r)}disablePickingIndex(e){this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:n,instancePickingColors:i}=this.getAttributeManager().attributes,l=n||i,r=l.getVertexOffset(e),a=l.getVertexOffset(e+1);l.buffer.subData({data:new Uint8Array(a-r),offset:r})}restorePickingColors(){const{pickingColors:e,instancePickingColors:n}=this.getAttributeManager().attributes,i=e||n;this.internalState.usesPickingColorCache&&i.value.buffer!==Ci.buffer&&(i.value=Ci.subarray(0,i.value.length)),i.updateSubBuffer({startOffset:0})}getNumInstances(e){return e=e||this.props,e.numInstances!==void 0?e.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:Vie(e.data)}getStartIndices(e){return e=e||this.props,e.startIndices!==void 0?e.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}_initialize(){Jt(Qie,this),this._initState(),this.initializeState(this.context);for(const e of this.props.extensions)e.initializeState.call(this,this.context,e);this.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,extensionsChanged:!0}),this._updateState()}_update(){const e=this.needsUpdate();Jt(Aie,this,e),e&&this._updateState()}_updateState(){const e=this.props,n=this.context.viewport,i=this._updateUniformTransition();this.internalState.propsInTransition=i,this.context.viewport=this.internalState.viewport||n,this.props=i;try{const l=this._getUpdateParams(),r=this.getModels();if(this.context.gl)this.updateState(l);else try{this.updateState(l)}catch{}for(const s of this.props.extensions)s.updateState.call(this,l,s);const a=this.getModels()[0]!==r[0];this._updateModules(l,a),this.isComposite?this._renderLayers(l):(this.setNeedsRedraw(),this._updateAttributes(this.props),this.state.model&&this.state.model.setInstanceCount(this.getNumInstances()))}finally{this.context.viewport=n,this.props=e,this.clearChangeFlags(),this.internalState.needsUpdate=!1,this.internalState.resetOldProps()}}_finalize(){Jt(_ie,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,e)}drawLayer(e){let{moduleParameters:n=null,uniforms:i={},parameters:l={}}=e;this._updateAttributeTransition();const r=this.props;this.props=this.internalState.propsInTransition||r;const{opacity:a}=this.props;i.opacity=Math.pow(a,1/2.2);try{n&&this.setModuleParameters(n);const{getPolygonOffset:s}=this.props,o=s&&s(i)||[0,0];Jl(this.context.gl,{polygonOffset:o}),fi(this.context.gl,l,()=>{const c={moduleParameters:n,uniforms:i,parameters:l,context:this.context};for(const u of this.props.extensions)u.draw.call(this,c,u);this.draw(c)})}finally{this.props=r}}getChangeFlags(){return this.internalState.changeFlags}setChangeFlags(e){const{changeFlags:n}=this.internalState;for(const l in e)if(e[l]){let r=!1;switch(l){case"dataChanged":Array.isArray(n[l])&&(n[l]=Array.isArray(e[l])?n[l].concat(e[l]):e[l],r=!0);default:n[l]||(n[l]=e[l],r=!0)}r&&Jt(Bie,this,l,e)}const i=n.dataChanged||n.updateTriggersChanged||n.propsChanged||n.extensionsChanged;n.propsOrDataChanged=i,n.somethingChanged=i||e.viewportChanged||e.stateChanged}clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}diffProps(e,n){const i=Zie(e,n);if(i.updateTriggersChanged)for(const l in i.updateTriggersChanged)i.updateTriggersChanged[l]&&this.invalidateAttribute(l);if(i.transitionsChanged)for(const l in i.transitionsChanged)this.internalState.uniformTransitions.add(l,n[l],e[l],e.transitions[l]);return this.setChangeFlags(i)}validateProps(){pie(this.props)}setModuleParameters(e){for(const n of this.getModels())n.updateModuleSettings(e)}updateAutoHighlight(e){this.props.autoHighlight&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const n={pickingSelectedColor:e.picked?e.color:null},{highlightColor:i}=this.props;e.picked&&typeof i=="function"&&(n.pickingHighlightColor=i(e)),this.setModuleParameters(n),this.setNeedsRedraw()}_updateModules(e,n){let{props:i,oldProps:l}=e;const{autoHighlight:r,highlightedObjectIndex:a,highlightColor:s}=i;if(n||l.autoHighlight!==r||l.highlightedObjectIndex!==a||l.highlightColor!==s){const o={};r||(o.pickingSelectedColor=null),Array.isArray(s)&&(o.pickingHighlightColor=s),Number.isInteger(a)&&(o.pickingSelectedColor=a>=0?this.encodePickingColor(a):null),this.setModuleParameters(o)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let n=!1;n=n||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;const i=this.getAttributeManager(),l=i&&i.getNeedsRedraw(e);return n=n||l,n}_getAttributeManager(){return new oie(this.context.gl,{id:this.props.id,stats:this.context.stats,timeline:this.context.timeline})}_initState(){Rn(!this.internalState&&!this.state),Rn(isFinite(this.props.coordinateSystem));const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new Oie({attributeManager:e,layer:this}),this.clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(we.deprecated("layer.state.attributeManager","layer.getAttributeManager()"),e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new hie(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props)}_transferState(e){Jt($ie,this,this===e);const{state:n,internalState:i}=e;this!==e&&(this.internalState=i,this.internalState.layer=this,this.state=n,this.internalState.setAsyncProps(this.props),this.diffProps(this.props,this.internalState.getOldProps()))}_onAsyncPropUpdated(){this.diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}al.layerName="Layer";al.defaultProps=tle;const nle="compositeLayer.renderLayers";class mV extends al{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo(e){let{info:n}=e;const{object:i}=n;return i&&i.__source&&i.__source.parent&&i.__source.parent.id===this.id&&(n.object=i.__source.object,n.index=i.__source.index),n}renderLayers(){return null}filterSubLayer(e){return!0}shouldRenderSubLayer(e,n){return n&&n.length}getSubLayerClass(e,n){const{_subLayerProps:i}=this.props;return i&&i[e]&&i[e].type||n}getSubLayerRow(e,n,i){return e.__source={parent:this,object:n,index:i},e}getSubLayerAccessor(e){if(typeof e=="function"){const n={data:this.props.data,target:[]};return(i,l)=>i&&i.__source?(n.index=i.__source.index,e(i.__source.object,n)):e(i,l)}return e}getSubLayerProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{opacity:n,pickable:i,visible:l,parameters:r,getPolygonOffset:a,highlightedObjectIndex:s,autoHighlight:o,highlightColor:c,coordinateSystem:u,coordinateOrigin:d,wrapLongitude:m,positionFormat:h,modelMatrix:b,extensions:Z,fetch:p,_subLayerProps:f}=this.props,G={opacity:n,pickable:i,visible:l,parameters:r,getPolygonOffset:a,highlightedObjectIndex:s,autoHighlight:o,highlightColor:c,coordinateSystem:u,coordinateOrigin:d,wrapLongitude:m,positionFormat:h,modelMatrix:b,extensions:Z,fetch:p},V=f&&f[e.id],X=V&&V.updateTriggers,L=e.id||"sublayer";if(V){const x=this.constructor._propTypes,v=e.type?e.type._propTypes:{};for(const C in V){const w=v[C]||x[C];w&&w.type==="accessor"&&(V[C]=this.getSubLayerAccessor(V[C]))}}Object.assign(G,e,V),G.id="".concat(this.props.id,"-").concat(L),G.updateTriggers={all:this.props.updateTriggers.all,...e.updateTriggers,...X};for(const x of Z){const v=x.getSubLayerProps.call(this,x);v&&Object.assign(G,v,{updateTriggers:Object.assign(G.updateTriggers,v.updateTriggers)})}return G}_updateAutoHighlight(e){for(const n of this.getSubLayers())n.updateAutoHighlight(e)}_getAttributeManager(){return null}_renderLayers(){let{subLayers:e}=this.internalState;const n=!e||this.needsUpdate();n&&(e=this.renderLayers(),e=aV(e,Boolean),this.internalState.subLayers=e),Jt(nle,this,n,e);for(const i of e)i.parent=this}}mV.layerName="CompositeLayer";const tr={rotationX:0,rotationOrbit:0,zoom:0,target:[0,0,0],minRotationX:-90,maxRotationX:90,minZoom:-1/0,maxZoom:1/0};class ile extends hJ{constructor(e){let{makeViewport:n,width:i,height:l,rotationX:r=tr.rotationX,rotationOrbit:a=tr.rotationOrbit,target:s=tr.target,zoom:o=tr.zoom,minRotationX:c=tr.minRotationX,maxRotationX:u=tr.maxRotationX,minZoom:d=tr.minZoom,maxZoom:m=tr.maxZoom,startPanPosition:h,startRotatePos:b,startRotationX:Z,startRotationOrbit:p,startZoomPosition:f,startZoom:G}=e;super({width:i,height:l,rotationX:r,rotationOrbit:a,target:s,zoom:o,minRotationX:c,maxRotationX:u,minZoom:d,maxZoom:m}),this._state={startPanPosition:h,startRotatePos:b,startRotationX:Z,startRotationOrbit:p,startZoomPosition:f,startZoom:G},this.makeViewport=n}panStart(e){let{pos:n}=e;return this._getUpdatedState({startPanPosition:this._unproject(n)})}pan(e){let{pos:n,startPosition:i}=e;const l=this._state.startPanPosition||i;if(!l)return this;const a=this.makeViewport(this._viewportProps).panByPosition(l,n);return this._getUpdatedState(a)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart(e){let{pos:n}=e;return this._getUpdatedState({startRotatePos:n,startRotationX:this._viewportProps.rotationX,startRotationOrbit:this._viewportProps.rotationOrbit})}rotate(e){let{pos:n,deltaAngleX:i=0,deltaAngleY:l=0}=e;const{startRotatePos:r,startRotationX:a,startRotationOrbit:s}=this._state,{width:o,height:c}=this._viewportProps;if(!r||!Number.isFinite(a)||!Number.isFinite(s))return this;let u;if(n){let d=(n[0]-r[0])/o;const m=(n[1]-r[1])/c;(a<-90||a>90)&&(d*=-1),u={rotationX:a+m*180,rotationOrbit:s+d*180}}else u={rotationX:a+l,rotationOrbit:s+i};return this._getUpdatedState(u)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const n=e.getViewportProps(),i={...this._viewportProps},{rotationOrbit:l}=i;return Math.abs(l-n.rotationOrbit)>180&&(i.rotationOrbit=l<0?l+360:l-360),i}zoomStart(e){let{pos:n}=e;return this._getUpdatedState({startZoomPosition:this._unproject(n),startZoom:this._viewportProps.zoom})}zoom(e){let{pos:n,startPos:i,scale:l}=e;const{zoom:r}=this._viewportProps;let{startZoom:a,startZoomPosition:s}=this._state;Number.isFinite(a)||(a=r,s=this._unproject(i)||this._unproject(n));const o=this._calculateNewZoom({scale:l,startZoom:a}),c=this.makeViewport({...this._viewportProps,zoom:o});return this._getUpdatedState({zoom:o,...c.panByPosition(s,n)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50;return this._panFromCenter([-e,0])}moveRight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50;return this._panFromCenter([e,0])}moveUp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50;return this._panFromCenter([0,-e])}moveDown(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50;return this._panFromCenter([0,e])}rotateLeft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this._viewportProps.rotationOrbit-e})}rotateRight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this._viewportProps.rotationOrbit+e})}rotateUp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;return this._getUpdatedState({rotationX:this._viewportProps.rotationX-e})}rotateDown(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;return this._getUpdatedState({rotationX:this._viewportProps.rotationX+e})}_unproject(e){const n=this.makeViewport(this._viewportProps);return e&&n.unproject(e)}_calculateNewZoom(e){let{scale:n,startZoom:i}=e;const{maxZoom:l,minZoom:r}=this._viewportProps;Number.isFinite(i)||(i=this._viewportProps.zoom);const a=i+Math.log2(n);return pn(a,r,l)}_panFromCenter(e){const{width:n,height:i,target:l}=this._viewportProps;return this.pan({startPosition:l,pos:[n/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({...this._viewportProps,...this._state,...e})}_applyConstraints(e){const{maxZoom:n,minZoom:i,zoom:l,maxRotationX:r,minRotationX:a,rotationOrbit:s}=e;return e.zoom=pn(l,i,n),e.rotationX=pn(e.rotationX,a,r),(s<-180||s>180)&&(e.rotationOrbit=bte(s+180,360)-180),e}}class lle extends ile{constructor(e){super(e),this.zoomAxis=e.zoomAxis||"all"}_applyConstraints(e){const{maxZoom:n,minZoom:i,zoom:l}=e;return e.zoom=Array.isArray(l)?[pn(l[0],i,n),pn(l[1],i,n)]:pn(l,i,n),e}_calculateNewZoom(e){let{scale:n,startZoom:i}=e;const{maxZoom:l,minZoom:r}=this._viewportProps;!i&&i!==0&&(i=this._viewportProps.zoom);let a=Math.log2(n);if(Array.isArray(i)){let[s,o]=i;switch(this.zoomAxis){case"X":s=pn(s+a,r,l);break;case"Y":o=pn(o+a,r,l);break;default:let c=Math.min(s+a,o+a);c<r&&(a+=r-c),c=Math.max(s+a,o+a),c>l&&(a+=l-c),s+=a,o+=a}return[s,o]}return pn(i+a,r,l)}}class wJ extends mJ{constructor(e){e.dragMode=e.dragMode||"pan",super(lle,e)}_onPanRotate(e){return!1}get linearTransitionProps(){return["target","zoom"]}}const rle=new yi().lookAt({eye:[0,0,1]});function ale(t){let{width:e,height:n,near:i,far:l}=t;return e=e||1,n=n||1,new yi().ortho({left:-e/2,right:e/2,bottom:-n/2,top:n/2,near:i,far:l})}class sle extends Dr{constructor(e){const{width:n,height:i,near:l=.1,far:r=1e3,zoom:a=0,target:s=[0,0,0],flipY:o=!0}=e,c=Array.isArray(a)?a[0]:a,u=Array.isArray(a)?a[1]:a,d=Math.min(c,u),m=Math.pow(2,d);if(super({...e,longitude:null,position:s,viewMatrix:rle.clone().scale([m,m*(o?-1:1),m]),projectionMatrix:ale({width:n,height:i,near:l,far:r}),zoom:d}),c!==u){const h=Math.pow(2,c),b=Math.pow(2,u);this.distanceScales={unitsPerMeter:[h/m,b/m,1],metersPerUnit:[m/h,m/b,1]}}}projectFlat(e){let[n,i]=e;const{unitsPerMeter:l}=this.distanceScales;return[n*l[0],i*l[1]]}unprojectFlat(e){let[n,i]=e;const{metersPerUnit:l}=this.distanceScales;return[n*l[0],i*l[1]]}panByPosition(e,n){const i=HZ(n,this.pixelUnprojectionMatrix),l=this.projectFlat(e),r=Zp([],l,B3([],i));return{target:Zp([],this.center,r)}}}class Js extends kl{constructor(e){super({...e,type:sle})}get controller(){return this._getControllerProps({type:wJ})}}Js.displayName="OrthographicView";class JJ{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{attributes:n={}}=e;this.typedArrayManager=Bo,this.indexStarts=null,this.vertexStarts=null,this.vertexCount=0,this.instanceCount=0,this.attributes={},this._attributeDefs=n,this.opts=e,this.updateGeometry(e),Object.seal(this)}updateGeometry(e){Object.assign(this.opts,e);const{data:n,buffers:i={},getGeometry:l,geometryBuffer:r,positionFormat:a,dataChanged:s,normalize:o=!0}=this.opts;if(this.data=n,this.getGeometry=l,this.positionSize=r&&r.size||(a==="XY"?2:3),this.buffers=i,this.normalize=o,r&&(Rn(n.startIndices),this.getGeometry=this.getGeometryFromBuffer(r),o||(i.positions=r)),this.geometryBuffer=i.positions,Array.isArray(s))for(const c of s)this._rebuildGeometry(c);else this._rebuildGeometry()}updatePartialGeometry(e){let{startRow:n,endRow:i}=e;this._rebuildGeometry({startRow:n,endRow:i})}normalizeGeometry(e){return e}updateGeometryAttributes(e,n,i){throw new Error("Not implemented")}getGeometrySize(e){throw new Error("Not implemented")}getGeometryFromBuffer(e){const n=e.value||e;return Rn(ArrayBuffer.isView(n)),TJ(n,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices})}_allocate(e,n){const{attributes:i,buffers:l,_attributeDefs:r,typedArrayManager:a}=this;for(const s in r)if(s in l)a.release(i[s]),i[s]=null;else{const o=r[s];o.copy=n,i[s]=a.allocate(i[s],e,o)}}_forEachGeometry(e,n,i){const{data:l,getGeometry:r}=this,{iterable:a,objectInfo:s}=mm(l,n,i);for(const o of a){s.index++;const c=r(o,s);e(c,s.index)}}_rebuildGeometry(e){if(!this.data||!this.getGeometry)return;let{indexStarts:n,vertexStarts:i,instanceCount:l}=this;const{data:r,geometryBuffer:a}=this,{startRow:s=0,endRow:o=1/0}=e||{},c={};if(e||(n=[0],i=[0]),this.normalize||!a)this._forEachGeometry((d,m)=>{d=this.normalizeGeometry(d),c[m]=d,i[m+1]=i[m]+this.getGeometrySize(d)},s,o),l=i[i.length-1];else if(a.buffer instanceof ze){const d=a.stride||this.positionSize*4;i=r.startIndices,l=i[r.length]||a.buffer.byteLength/d}else{const d=a.value||a,m=a.stride/d.BYTES_PER_ELEMENT||this.positionSize;i=r.startIndices,l=i[r.length]||d.length/m}this._allocate(l,!!e),this.indexStarts=n,this.vertexStarts=i,this.instanceCount=l;const u={};this._forEachGeometry((d,m)=>{d=c[m]||d,u.vertexStart=i[m],u.indexStart=n[m];const h=m<i.length-1?i[m+1]:l;u.geometrySize=h-i[m],u.geometryIndex=m,this.updateGeometryAttributes(d,u)},s,o),this.vertexCount=n[n.length-1]}}const ole=typeof window<"u"?T.useLayoutEffect:T.useEffect,cle=ole;function xp(t,e){for(;t;){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1}function BX(t){return t&&(typeof t=="function"?T.createElement(kl,{},t):Array.isArray(t)?t.map(BX):t.type===S.Fragment?BX(t.props.children):(xp(t.type,kl),t))}function ule(t){let{children:e,layers:n,views:i}=t;const l=[],r=[],a={};return S.Children.forEach(BX(e),s=>{if(s){const o=s.type;if(xp(o,al)){const c=dle(o,s.props);r.push(c)}else l.push(s);if(o!==kl&&xp(o,kl)&&s.props.id){const c=new o(s.props);a[c.id]=c}}}),Object.keys(a).length>0&&(Array.isArray(i)?i.forEach(s=>{a[s.id]=s}):i&&(a[i.id]=i),i=Object.values(a)),n=r.length>0?[...r,...n]:n,{layers:n,children:l,views:i}}function dle(t,e){const n={},i=t.defaultProps||{};for(const l in e)i[l]!==e[l]&&(n[l]=e[l]);return new t(n)}const mle={position:"absolute",zIndex:-1};function CJ(t,e){return t&&(typeof t=="function"?t(e):Array.isArray(t)?t.map(n=>CJ(n,e)):hle(t)?(e.style=mle,T.cloneElement(t,e)):ble(t)?T.cloneElement(t,e):t)}function hle(t){const e=t&&t.type,n=e&&e.defaultProps;return n&&n.mapStyle}function ble(t){const e=t&&t.type;return e&&e.deckGLViewProps}function ple(t){let{children:e,deck:n,ContextProvider:i}=t;const{viewManager:l}=n||{};if(!l||!l.views.length)return[];const r={},a=l.views[0].id;for(const s of e){let o=a,c=s;xp(s.type,kl)&&(o=s.props.id||a,c=s.props.children);const u=l.getViewport(o),d=l.getViewState(o);if(u){const{x:m,y:h,width:b,height:Z}=u;c=CJ(c,{x:m,y:h,width:b,height:Z,viewport:u,viewState:d}),r[o]||(r[o]={viewport:u,children:[]}),r[o].children.push(c)}}return Object.keys(r).map(s=>{const{viewport:o,children:c}=r[s],{x:u,y:d,width:m,height:h}=o,b={position:"absolute",left:u,top:d,width:m,height:h},Z="view-".concat(s),p=T.createElement("div",{key:Z,id:Z,style:b},...c);if(i){const f={viewport:o,container:n.canvas.offsetParent,eventManager:n.eventManager,onViewStateChange:G=>{G.viewId=s,n._onViewStateChange(G)}};return T.createElement(i,{key:Z,value:f},p)}return p})}const Zle={mixBlendMode:null};function fle(t){let{width:e,height:n,style:i}=t;const l={position:"absolute",zIndex:0,left:0,top:0,width:e,height:n},r={left:0,top:0};if(i)for(const a in i)a in Zle?r[a]=i[a]:l[a]=i[a];return{containerStyle:l,canvasStyle:r}}function yle(t){const e={pickObject:n=>t.deck.pickObject(n),pickMultipleObjects:n=>t.deck.pickMultipleObjects(n),pickObjects:n=>t.deck.pickObjects(n)};return Object.defineProperty(e,"deck",{get:()=>t.deck}),e}function kJ(t){t.redrawReason&&(t.deck._drawLayers(t.redrawReason),t.redrawReason=null)}function Gle(t,e){const n=e.Deck||bc,i=new n({...e,style:null,width:"100%",height:"100%",_customRender:l=>{t.redrawReason=l;const r=i.viewManager.getViewports();t.lastRenderedViewports!==r?t.forceUpdate(a=>a+1):kJ(t)}});return i}const hV=T.forwardRef((t,e)=>{const i=T.useRef({}).current,[l,r]=T.useState(0);i.forceUpdate=r;const a=T.useRef(null),s=T.useRef(null),o=T.useMemo(()=>ule(t),[t.layers,t.views,t.children]);let c=!0;const u=x=>c&&t.viewState?(i.viewStateUpdateRequested=x,null):(i.viewStateUpdateRequested=null,t.onViewStateChange(x)),d=x=>{c?i.interactionStateUpdateRequested=x:(i.interactionStateUpdateRequested=null,t.onInteractionStateChange(x))},m=T.useMemo(()=>{const x={...t,style:null,width:"100%",height:"100%",layers:o.layers,views:o.views,onViewStateChange:u,onInteractionStateChange:d};return i.deck&&i.deck.setProps(x),x},[t]);T.useEffect(()=>(i.deck=Gle(i,{...m,parent:a.current,canvas:s.current}),()=>i.deck.finalize()),[]),cle(()=>{kJ(i);const{viewStateUpdateRequested:x,interactionStateUpdateRequested:v}=i;x&&u(x),v&&d(v)}),T.useImperativeHandle(e,()=>yle(i),[]);const{viewManager:h}=i.deck||{},b=h&&h.getViewports(),{ContextProvider:Z,width:p,height:f,id:G,style:V}=t,{containerStyle:X,canvasStyle:L}=T.useMemo(()=>fle({width:p,height:f,style:V}),[p,f,V]);if(!i.viewStateUpdateRequested&&i.lastRenderedViewports===b||i.version!==l){i.lastRenderedViewports=b,i.version=l;const x=ple({children:o.children,deck:i.deck,ContextProvider:Z}),v=T.createElement("canvas",{key:"canvas",id:G||"deckgl-overlay",ref:s,style:L});i.control=T.createElement("div",{id:"".concat(G||"deckgl","-wrapper"),ref:a,style:X},[v,x])}return c=!1,i.control});hV.propTypes=bc.getPropTypes(K);hV.defaultProps=bc.defaultProps;const Xle=hV,gle=`#define SHADER_NAME icon-layer-vertex-shader

attribute vec2 positions;

attribute vec3 instancePositions;
attribute vec3 instancePositions64Low;
attribute float instanceSizes;
attribute float instanceAngles;
attribute vec4 instanceColors;
attribute vec3 instancePickingColors;
attribute vec4 instanceIconFrames;
attribute float instanceColorModes;
attribute vec2 instanceOffsets;
attribute vec2 instancePixelOffset;

uniform float sizeScale;
uniform vec2 iconsTextureDim;
uniform float sizeMinPixels;
uniform float sizeMaxPixels;
uniform bool billboard;
uniform int sizeUnits;

varying float vColorMode;
varying vec4 vColor;
varying vec2 vTextureCoords;
varying vec2 uv;

vec2 rotate_by_angle(vec2 vertex, float angle) {
  float angle_radian = angle * PI / 180.0;
  float cos_angle = cos(angle_radian);
  float sin_angle = sin(angle_radian);
  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
  return rotationMatrix * vertex;
}

void main(void) {
  geometry.worldPosition = instancePositions;
  geometry.uv = positions;
  geometry.pickingColor = instancePickingColors;
  uv = positions;

  vec2 iconSize = instanceIconFrames.zw;
  float sizePixels = clamp(
    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), 
    sizeMinPixels, sizeMaxPixels
  );
  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;
  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;
  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;
  pixelOffset += instancePixelOffset;
  pixelOffset.y *= -1.0;

  if (billboard)  {
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
    vec3 offset = vec3(pixelOffset, 0.0);
    DECKGL_FILTER_SIZE(offset, geometry);
    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);

  } else {
    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
    DECKGL_FILTER_SIZE(offset_common, geometry);
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); 
  }
  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);

  vTextureCoords = mix(
    instanceIconFrames.xy,
    instanceIconFrames.xy + iconSize,
    (positions.xy + 1.0) / 2.0
  ) / iconsTextureDim;

  vColor = instanceColors;
  DECKGL_FILTER_COLOR(vColor, geometry);

  vColorMode = instanceColorModes;
}
`,Wle=`#define SHADER_NAME icon-layer-fragment-shader

precision highp float;

uniform float opacity;
uniform sampler2D iconsTexture;
uniform float alphaCutoff;

varying float vColorMode;
varying vec4 vColor;
varying vec2 vTextureCoords;
varying vec2 uv;

void main(void) {
  geometry.uv = uv;

  vec4 texColor = texture2D(iconsTexture, vTextureCoords);
  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);
  float a = texColor.a * opacity * vColor.a;

  if (a < alphaCutoff) {
    discard;
  }

  gl_FragColor = vec4(color, a);
  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,Vle=1024,Tle=4,kY=()=>{},xle={10241:9987,10240:9729,10242:33071,10243:33071};function Rle(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function Sle(t,e,n,i){return n===e.width&&i===e.height?e:(t.canvas.height=i,t.canvas.width=n,t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(e,0,0,e.width,e.height,0,0,n,i),t.canvas)}function Md(t){return t&&(t.id||t.url)}function Yle(t,e,n,i){const l=e.width,r=e.height,a=I3(e,{width:n,height:i});return f7(e,a,{targetY:0,width:l,height:r}),e.delete(),a}function EY(t,e,n){for(let i=0;i<e.length;i++){const{icon:l,xOffset:r}=e[i],a=Md(l);t[a]={...l,x:r,y:n}}}function Lle(t){let{icons:e,buffer:n,mapping:i={},xOffset:l=0,yOffset:r=0,rowHeight:a=0,canvasWidth:s}=t,o=[];for(let c=0;c<e.length;c++){const u=e[c],d=Md(u);if(!i[d]){const{height:m,width:h}=u;l+h+n>s&&(EY(i,o,r),l=0,r=a+r+n,a=0,o=[]),o.push({icon:u,xOffset:l}),l=l+h+n,a=Math.max(a,m)}}return o.length>0&&EY(i,o,r),{mapping:i,rowHeight:a,xOffset:l,yOffset:r,canvasWidth:s,canvasHeight:Rle(a+r+n)}}function Mle(t,e,n){if(!t||!e)return null;n=n||{};const i={},{iterable:l,objectInfo:r}=mm(t);for(const a of l){r.index++;const s=e(a,r),o=Md(s);if(!s)throw new Error("Icon is missing.");if(!s.url)throw new Error("Icon url is missing.");!i[o]&&(!n[o]||s.url!==n[o].url)&&(i[o]={...s,source:a,sourceIndex:r.index})}return i}class Nle{constructor(e,n){let{onUpdate:i=kY,onError:l=kY}=n;this.gl=e,this.onUpdate=i,this.onError=l,this._loadOptions=null,this._getIcon=null,this._texture=null,this._externalTexture=null,this._mapping={},this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=Tle,this._canvasWidth=Vle,this._canvasHeight=0,this._canvas=null}finalize(){var e;(e=this._texture)===null||e===void 0||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const n=this._autoPacking?Md(e):e;return this._mapping[n]||{}}setProps(e){let{loadOptions:n,autoPacking:i,iconAtlas:l,iconMapping:r,data:a,getIcon:s}=e;n&&(this._loadOptions=n),i!==void 0&&(this._autoPacking=i),s&&(this._getIcon=s),r&&(this._mapping=r),l&&this._updateIconAtlas(l),this._autoPacking&&(a||s)&&typeof document<"u"&&(this._canvas=this._canvas||document.createElement("canvas"),this._updateAutoPacking(a))}get isLoaded(){return this._pendingCount===0}_updateIconAtlas(e){var n;(n=this._texture)===null||n===void 0||n.delete(),this._texture=null,this._externalTexture=e,this.onUpdate()}_updateAutoPacking(e){const n=Object.values(Mle(e,this._getIcon,this._mapping)||{});if(n.length>0){const{mapping:i,xOffset:l,yOffset:r,rowHeight:a,canvasHeight:s}=Lle({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=a,this._mapping=i,this._xOffset=l,this._yOffset=r,this._canvasHeight=s,this._texture||(this._texture=new Qn(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:xle})),this._texture.height!==this._canvasHeight&&(this._texture=Yle(this.gl,this._texture,this._canvasWidth,this._canvasHeight)),this.onUpdate(),this._loadIcons(n)}}_loadIcons(e){const n=this._canvas.getContext("2d");for(const i of e)this._pendingCount++,mp(i.url,f3,this._loadOptions).then(l=>{const r=Md(i),{x:a,y:s,width:o,height:c}=this._mapping[r],u=Sle(n,l,o,c);this._texture.setSubImageData({data:u,x:a,y:s,width:o,height:c}),this._texture.generateMipmap(),this.onUpdate()}).catch(l=>{this.onError({url:i.url,source:i.source,sourceIndex:i.sourceIndex,loadOptions:this._loadOptions,error:l})}).finally(()=>{this._pendingCount--})}}const EJ=[0,0,0,255],vle={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:t=>t.position},getIcon:{type:"accessor",value:t=>t.icon},getColor:{type:"accessor",value:EJ},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class bV extends al{getShaders(){return super.getShaders({vs:gle,fs:Wle,modules:[mc,hc]})}initializeState(){this.state={iconManager:new Nle(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:EJ},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){let{oldProps:n,props:i,changeFlags:l}=e;super.updateState({props:i,oldProps:n,changeFlags:l});const r=this.getAttributeManager(),{iconAtlas:a,iconMapping:s,data:o,getIcon:c}=i,{iconManager:u}=this.state;u.setProps({loadOptions:i.loadOptions});let d=!1;if(a||this.internalState.isAsyncPropLoading("iconAtlas")?(n.iconAtlas!==i.iconAtlas&&u.setProps({iconAtlas:a,autoPacking:!1}),n.iconMapping!==i.iconMapping&&(u.setProps({iconMapping:s}),d=!0)):u.setProps({autoPacking:!0}),(l.dataChanged||l.updateTriggersChanged&&(l.updateTriggersChanged.all||l.updateTriggersChanged.getIcon))&&u.setProps({data:o,getIcon:c}),d&&(r.invalidate("instanceOffsets"),r.invalidate("instanceIconFrames"),r.invalidate("instanceColorModes")),l.extensionsChanged){var h;const{gl:b}=this.context;(h=this.state.model)===null||h===void 0||h.delete(),this.state.model=this._getModel(b),r.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(){super.finalizeState(),this.state.iconManager.finalize()}draw(e){let{uniforms:n}=e;const{sizeScale:i,sizeMinPixels:l,sizeMaxPixels:r,sizeUnits:a,billboard:s,alphaCutoff:o}=this.props,{iconManager:c}=this.state,u=c.getTexture();u&&this.state.model.setUniforms(n).setUniforms({iconsTexture:u,iconsTextureDim:[u.width,u.height],sizeUnits:Hr[a],sizeScale:i,sizeMinPixels:l,sizeMaxPixels:r,billboard:s,alphaCutoff:o}).draw()}_getModel(e){const n=[-1,-1,-1,1,1,1,1,-1];return new jr(e,{...this.getShaders(),id:this.props.id,geometry:new dc({drawMode:6,attributes:{positions:{size:2,value:new Float32Array(n)}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){const{onIconError:n}=this.getCurrentLayer().props;n?n(e):we.error(e.error)()}getInstanceOffset(e){const n=this.state.iconManager.getIconMapping(e);return[n.width/2-n.anchorX||0,n.height/2-n.anchorY||0]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const n=this.state.iconManager.getIconMapping(e);return[n.x||0,n.y||0,n.width||0,n.height||0]}}bV.layerName="IconLayer";bV.defaultProps=vle;const Ile=`#define SHADER_NAME line-layer-vertex-shader

attribute vec3 positions;
attribute vec3 instanceSourcePositions;
attribute vec3 instanceTargetPositions;
attribute vec3 instanceSourcePositions64Low;
attribute vec3 instanceTargetPositions64Low;
attribute vec4 instanceColors;
attribute vec3 instancePickingColors;
attribute float instanceWidths;

uniform float opacity;
uniform float widthScale;
uniform float widthMinPixels;
uniform float widthMaxPixels;
uniform float useShortestPath;
uniform int widthUnits;

varying vec4 vColor;
varying vec2 uv;
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {
  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  return dir_screenspace * offset_direction * width / 2.0;
}

vec3 splitLine(vec3 a, vec3 b, float x) {
  float t = (x - a.x) / (b.x - a.x);
  return vec3(x, mix(a.yz, b.yz, t));
}

void main(void) {
  geometry.worldPosition = instanceSourcePositions;
  geometry.worldPositionAlt = instanceTargetPositions;

  vec3 source_world = instanceSourcePositions;
  vec3 target_world = instanceTargetPositions;
  vec3 source_world_64low = instanceSourcePositions64Low;
  vec3 target_world_64low = instanceTargetPositions64Low;

  if (useShortestPath > 0.5 || useShortestPath < -0.5) {
    source_world.x = mod(source_world.x + 180., 360.0) - 180.;
    target_world.x = mod(target_world.x + 180., 360.0) - 180.;
    float deltaLng = target_world.x - source_world.x;

    if (deltaLng * useShortestPath > 180.) {
      source_world.x += 360. * useShortestPath;
      source_world = splitLine(source_world, target_world, 180. * useShortestPath);
      source_world_64low = vec3(0.0);
    } else if (deltaLng * useShortestPath < -180.) {
      target_world.x += 360. * useShortestPath;
      target_world = splitLine(source_world, target_world, 180. * useShortestPath);
      target_world_64low = vec3(0.0);
    } else if (useShortestPath < 0.) {
      gl_Position = vec4(0.);
      return;
    }
  }
  vec4 source_commonspace;
  vec4 target_commonspace;
  vec4 source = project_position_to_clipspace(source_world, source_world_64low, vec3(0.), source_commonspace);
  vec4 target = project_position_to_clipspace(target_world, target_world_64low, vec3(0.), target_commonspace);
  float segmentIndex = positions.x;
  vec4 p = mix(source, target, segmentIndex);
  geometry.position = mix(source_commonspace, target_commonspace, segmentIndex);
  uv = positions.xy;
  geometry.uv = uv;
  geometry.pickingColor = instancePickingColors;
  float widthPixels = clamp(
    project_size_to_pixel(instanceWidths * widthScale, widthUnits),
    widthMinPixels, widthMaxPixels
  );
  vec3 offset = vec3(
    getExtrusionOffset(target.xy - source.xy, positions.y, widthPixels),
    0.0);
  DECKGL_FILTER_SIZE(offset, geometry);
  gl_Position = p + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);
  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);
  DECKGL_FILTER_COLOR(vColor, geometry);
}
`,wle=`#define SHADER_NAME line-layer-fragment-shader

precision highp float;

varying vec4 vColor;
varying vec2 uv;

void main(void) {
  geometry.uv = uv;

  gl_FragColor = vColor;

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,Jle=[0,0,0,255],Cle={getSourcePosition:{type:"accessor",value:t=>t.sourcePosition},getTargetPosition:{type:"accessor",value:t=>t.targetPosition},getColor:{type:"accessor",value:Jle},getWidth:{type:"accessor",value:1},widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class pV extends al{getShaders(){return super.getShaders({vs:Ile,fs:wle,modules:[mc,hc]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1}})}updateState(e){let{props:n,oldProps:i,changeFlags:l}=e;if(super.updateState({props:n,oldProps:i,changeFlags:l}),l.extensionsChanged){var r;const{gl:a}=this.context;(r=this.state.model)===null||r===void 0||r.delete(),this.state.model=this._getModel(a),this.getAttributeManager().invalidateAll()}}draw(e){let{uniforms:n}=e;const{widthUnits:i,widthScale:l,widthMinPixels:r,widthMaxPixels:a,wrapLongitude:s}=this.props;this.state.model.setUniforms(n).setUniforms({widthUnits:Hr[i],widthScale:l,widthMinPixels:r,widthMaxPixels:a,useShortestPath:s?1:0}).draw(),s&&this.state.model.setUniforms({useShortestPath:-1}).draw()}_getModel(e){const n=[0,-1,0,0,1,0,1,-1,0,1,1,0];return new jr(e,{...this.getShaders(),id:this.props.id,geometry:new dc({drawMode:5,attributes:{positions:new Float32Array(n)}}),isInstanced:!0})}}pV.layerName="LineLayer";pV.defaultProps=Cle;const kle=`#define SHADER_NAME scatterplot-layer-vertex-shader

attribute vec3 positions;

attribute vec3 instancePositions;
attribute vec3 instancePositions64Low;
attribute float instanceRadius;
attribute float instanceLineWidths;
attribute vec4 instanceFillColors;
attribute vec4 instanceLineColors;
attribute vec3 instancePickingColors;

uniform float opacity;
uniform float radiusScale;
uniform float radiusMinPixels;
uniform float radiusMaxPixels;
uniform float lineWidthScale;
uniform float lineWidthMinPixels;
uniform float lineWidthMaxPixels;
uniform float stroked;
uniform bool filled;
uniform bool billboard;
uniform int radiusUnits;
uniform int lineWidthUnits;

varying vec4 vFillColor;
varying vec4 vLineColor;
varying vec2 unitPosition;
varying float innerUnitRadius;
varying float outerRadiusPixels;

void main(void) {
  geometry.worldPosition = instancePositions;
  outerRadiusPixels = clamp(
    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),
    radiusMinPixels, radiusMaxPixels
  );
  float lineWidthPixels = clamp(
    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),
    lineWidthMinPixels, lineWidthMaxPixels
  );
  outerRadiusPixels += stroked * lineWidthPixels / 2.0;
  unitPosition = positions.xy;
  geometry.uv = unitPosition;
  geometry.pickingColor = instancePickingColors;

  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;
  
  if (billboard) {
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
    vec3 offset = positions * outerRadiusPixels;
    DECKGL_FILTER_SIZE(offset, geometry);
    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
  } else {
    vec3 offset = positions * project_pixel_size(outerRadiusPixels);
    DECKGL_FILTER_SIZE(offset, geometry);
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
  }

  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);
  DECKGL_FILTER_COLOR(vFillColor, geometry);
  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);
  DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,Ele=`#define SHADER_NAME scatterplot-layer-fragment-shader

precision highp float;

uniform bool filled;
uniform float stroked;
uniform bool antialiasing;

varying vec4 vFillColor;
varying vec4 vLineColor;
varying vec2 unitPosition;
varying float innerUnitRadius;
varying float outerRadiusPixels;

void main(void) {
  geometry.uv = unitPosition;

  float distToCenter = length(unitPosition) * outerRadiusPixels;
  float inCircle = antialiasing ? 
    smoothedge(distToCenter, outerRadiusPixels) : 
    step(distToCenter, outerRadiusPixels);

  if (inCircle == 0.0) {
    discard;
  }

  if (stroked > 0.5) {
    float isLine = antialiasing ? 
      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
      step(innerUnitRadius * outerRadiusPixels, distToCenter);

    if (filled) {
      gl_FragColor = mix(vFillColor, vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        discard;
      }
      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
    }
  } else if (filled) {
    gl_FragColor = vFillColor;
  } else {
    discard;
  }

  gl_FragColor.a *= inCircle;
  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,KY=[0,0,0,255],Kle={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:KY},getLineColor:{type:"accessor",value:KY},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class ZV extends al{getShaders(){return super.getShaders({vs:kle,fs:Ele,modules:[mc,hc]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){let{props:n,oldProps:i,changeFlags:l}=e;if(super.updateState({props:n,oldProps:i,changeFlags:l}),l.extensionsChanged){var r;const{gl:a}=this.context;(r=this.state.model)===null||r===void 0||r.delete(),this.state.model=this._getModel(a),this.getAttributeManager().invalidateAll()}}draw(e){let{uniforms:n}=e;const{radiusUnits:i,radiusScale:l,radiusMinPixels:r,radiusMaxPixels:a,stroked:s,filled:o,billboard:c,antialiasing:u,lineWidthUnits:d,lineWidthScale:m,lineWidthMinPixels:h,lineWidthMaxPixels:b}=this.props;this.state.model.setUniforms(n).setUniforms({stroked:s?1:0,filled:o,billboard:c,antialiasing:u,radiusUnits:Hr[i],radiusScale:l,radiusMinPixels:r,radiusMaxPixels:a,lineWidthUnits:Hr[d],lineWidthScale:m,lineWidthMinPixels:h,lineWidthMaxPixels:b}).draw()}_getModel(e){const n=[-1,-1,0,1,-1,0,1,1,0,-1,1,0];return new jr(e,{...this.getShaders(),id:this.props.id,geometry:new dc({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array(n)}}}),isInstanced:!0})}}ZV.layerName="ScatterplotLayer";ZV.defaultProps=Kle;const KJ={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function UJ(t,e,n={}){return Ule(t,n)!==e?(Fle(t,n),!0):!1}function Ule(t,e={}){return Math.sign(Ple(t,e))}function Ple(t,e={}){const{start:n=0,end:i=t.length}=e,l=e.size||2;let r=0;for(let a=n,s=i-l;a<i;a+=l)r+=(t[a]-t[s])*(t[a+1]+t[s+1]),s=a;return r/2}function Fle(t,e){const{start:n=0,end:i=t.length,size:l=2}=e,r=(i-n)/l,a=Math.floor(r/2);for(let s=0;s<a;++s){const o=n+s*l,c=n+(r-1-s)*l;for(let u=0;u<l;++u){const d=t[o+u];t[o+u]=t[c+u],t[c+u]=d}}}function mi(t,e){const n=e.length,i=t.length;if(i>0){let l=!0;for(let r=0;r<n;r++)if(t[i-n+r]!==e[r]){l=!1;break}if(l)return!1}for(let l=0;l<n;l++)t[i+l]=e[l];return!0}function QX(t,e){const n=e.length;for(let i=0;i<n;i++)t[i]=e[i]}function Nd(t,e,n,i,l=[]){const r=i+e*n;for(let a=0;a<n;a++)l[a]=t[r+a];return l}function AX(t,e,n,i,l=[]){let r,a;if(n&8)r=(i[3]-t[1])/(e[1]-t[1]),a=3;else if(n&4)r=(i[1]-t[1])/(e[1]-t[1]),a=1;else if(n&2)r=(i[2]-t[0])/(e[0]-t[0]),a=2;else if(n&1)r=(i[0]-t[0])/(e[0]-t[0]),a=0;else return null;for(let s=0;s<t.length;s++)l[s]=(a&1)===s?i[a]:r*(e[s]-t[s])+t[s];return l}function hb(t,e){let n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function PJ(t,e){const{size:n=2,broken:i=!1,gridResolution:l=10,gridOffset:r=[0,0],startIndex:a=0,endIndex:s=t.length}=e||{},o=(s-a)/n;let c=[];const u=[c],d=Nd(t,0,n,a);let m,h;const b=zJ(d,l,r,[]),Z=[];mi(c,d);for(let p=1;p<o;p++){for(m=Nd(t,p,n,a,m),h=hb(m,b);h;){AX(d,m,h,b,Z);const f=hb(Z,b);f&&(AX(d,Z,f,b,Z),h=f),mi(c,Z),QX(d,Z),jle(b,l,h),i&&c.length>n&&(c=[],u.push(c),mi(c,d)),h=hb(m,b)}mi(c,m),QX(d,m)}return i?u:u[0]}const UY=0,zle=1;function Zh(t,e){for(let n=0;n<e.length;n++)t.push(e[n]);return t}function FJ(t,e=null,n){if(!t.length)return[];const{size:i=2,gridResolution:l=10,gridOffset:r=[0,0],edgeTypes:a=!1}=n||{},s=[],o=[{pos:t,types:a?new Array(t.length/i).fill(zle):null,holes:e||[]}],c=[[],[]];let u=[];for(;o.length;){const{pos:d,types:m,holes:h}=o.shift();Hle(d,i,h[0]||d.length,c),u=zJ(c[0],l,r,u);const b=hb(c[1],u);if(b){let Z=PY(d,m,i,0,h[0]||d.length,u,b);const p={pos:Z[0].pos,types:Z[0].types,holes:[]},f={pos:Z[1].pos,types:Z[1].types,holes:[]};o.push(p,f);for(let G=0;G<h.length;G++)Z=PY(d,m,i,h[G],h[G+1]||d.length,u,b),Z[0]&&(p.holes.push(p.pos.length),p.pos=Zh(p.pos,Z[0].pos),a&&(p.types=Zh(p.types,Z[0].types))),Z[1]&&(f.holes.push(f.pos.length),f.pos=Zh(f.pos,Z[1].pos),a&&(f.types=Zh(f.types,Z[1].types)))}else{const Z={positions:d};a&&(Z.edgeTypes=m),h.length&&(Z.holeIndices=h),s.push(Z)}}return s}function PY(t,e,n,i,l,r,a){const s=(l-i)/n,o=[],c=[],u=[],d=[],m=[];let h,b,Z;const p=Nd(t,s-1,n,i);let f=Math.sign(a&8?p[1]-r[3]:p[0]-r[2]),G=e&&e[s-1],V=0,X=0;for(let L=0;L<s;L++)h=Nd(t,L,n,i,h),b=Math.sign(a&8?h[1]-r[3]:h[0]-r[2]),Z=e&&e[i/n+L],b&&f&&f!==b&&(AX(p,h,a,r,m),mi(o,m)&&u.push(G),mi(c,m)&&d.push(G)),b<=0?(mi(o,h)&&u.push(Z),V-=b):u.length&&(u[u.length-1]=UY),b>=0?(mi(c,h)&&d.push(Z),X+=b):d.length&&(d[d.length-1]=UY),QX(p,h),f=b,G=Z;return[V?{pos:o,types:e&&u}:null,X?{pos:c,types:e&&d}:null]}function zJ(t,e,n,i){const l=Math.floor((t[0]-n[0])/e)*e+n[0],r=Math.floor((t[1]-n[1])/e)*e+n[1];return i[0]=l,i[1]=r,i[2]=l+e,i[3]=r+e,i}function jle(t,e,n){n&8?(t[1]+=e,t[3]+=e):n&4?(t[1]-=e,t[3]-=e):n&2?(t[0]+=e,t[2]+=e):n&1&&(t[0]-=e,t[2]-=e)}function Hle(t,e,n,i){let l=1/0,r=-1/0,a=1/0,s=-1/0;for(let o=0;o<n;o+=e){const c=t[o],u=t[o+1];l=c<l?c:l,r=c>r?c:r,a=u<a?u:a,s=u>s?u:s}return i[0][0]=l,i[0][1]=a,i[1][0]=r,i[1][1]=s,i}const Dle=85.051129;function Ole(t,e){const{size:n=2,startIndex:i=0,endIndex:l=t.length,normalize:r=!0}=e||{},a=t.slice(i,l);jJ(a,n,0,l-i);const s=PJ(a,{size:n,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(r)for(const o of s)HJ(o,n);return s}function Ble(t,e=null,n){const{size:i=2,normalize:l=!0,edgeTypes:r=!1}=n||{};e=e||[];const a=[],s=[];let o=0,c=0;for(let d=0;d<=e.length;d++){const m=e[d]||t.length,h=c,b=Qle(t,i,o,m);for(let Z=b;Z<m;Z++)a[c++]=t[Z];for(let Z=o;Z<b;Z++)a[c++]=t[Z];jJ(a,i,h,c),Ale(a,i,h,c,n==null?void 0:n.maxLatitude),o=m,s[d]=c}s.pop();const u=FJ(a,s,{size:i,gridResolution:360,gridOffset:[-180,-180],edgeTypes:r});if(l)for(const d of u)HJ(d.positions,i);return u}function Qle(t,e,n,i){let l=-1,r=-1;for(let a=n+1;a<i;a+=e){const s=Math.abs(t[a]);s>l&&(l=s,r=a-1)}return r}function Ale(t,e,n,i,l=Dle){const r=t[n],a=t[i-e];if(Math.abs(r-a)>180){const s=Nd(t,0,e,n);s[0]+=Math.round((a-r)/360)*360,mi(t,s),s[1]=Math.sign(s[1])*l,mi(t,s),s[0]=r,mi(t,s)}}function jJ(t,e,n,i){let l=t[0],r;for(let a=n;a<i;a+=e){r=t[a];const s=r-l;(s>180||s<-180)&&(r-=Math.round(s/360)*360),t[a]=l=r}}function HJ(t,e){let n;const i=t.length/e;for(let r=0;r<i&&(n=t[r*e],(n+180)%360===0);r++);const l=-Math.round(n/360)*360;if(l!==0)for(let r=0;r<i;r++)t[r*e]+=l}function _le(t,e,n,i){let l=t;if(Array.isArray(t[0])){const r=t.length*e;l=new Array(r);for(let a=0;a<t.length;a++)for(let s=0;s<e;s++)l[a*e+s]=t[a][s]||0}return n?PJ(l,{size:e,gridResolution:n}):i?Ole(l,{size:e}):l}const $le=1,qle=2,ry=4;class ere extends JJ{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):()=>null}normalizeGeometry(e){return this.normalize?_le(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}get(e){return this.attributes[e]}getGeometrySize(e){if(Array.isArray(e[0])){let i=0;for(const l of e)i+=this.getGeometrySize(l);return i}const n=this.getPathLength(e);return n<2?0:this.isClosed(e)?n<3?0:n+2:n}updateGeometryAttributes(e,n){if(n.geometrySize!==0)if(e&&Array.isArray(e[0]))for(const i of e){const l=this.getGeometrySize(i);n.geometrySize=l,this.updateGeometryAttributes(i,n),n.vertexStart+=l}else this._updateSegmentTypes(e,n),this._updatePositions(e,n)}_updateSegmentTypes(e,n){const{segmentTypes:i}=this.attributes,l=this.isClosed(e),{vertexStart:r,geometrySize:a}=n;i.fill(0,r,r+a),l?(i[r]=ry,i[r+a-2]=ry):(i[r]+=$le,i[r+a-2]+=qle),i[r+a-1]=ry}_updatePositions(e,n){const{positions:i}=this.attributes;if(!i)return;const{vertexStart:l,geometrySize:r}=n,a=new Array(3);for(let s=l,o=0;o<r;s++,o++)this.getPointOnPath(e,o,a),i[s*3]=a[0],i[s*3+1]=a[1],i[s*3+2]=a[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const{positionSize:l}=this;n*l>=e.length&&(n+=1-e.length/l);const r=n*l;return i[0]=e[r],i[1]=e[r+1],i[2]=l===3&&e[r+2]||0,i}isClosed(e){if(!this.normalize)return this.opts.loop;const{positionSize:n}=this,i=e.length-n;return e[0]===e[i]&&e[1]===e[i+1]&&(n===2||e[2]===e[i+2])}}const tre=`#define SHADER_NAME path-layer-vertex-shader

attribute vec2 positions;

attribute float instanceTypes;
attribute vec3 instanceStartPositions;
attribute vec3 instanceEndPositions;
attribute vec3 instanceLeftPositions;
attribute vec3 instanceRightPositions;
attribute vec3 instanceLeftPositions64Low;
attribute vec3 instanceStartPositions64Low;
attribute vec3 instanceEndPositions64Low;
attribute vec3 instanceRightPositions64Low;
attribute float instanceStrokeWidths;
attribute vec4 instanceColors;
attribute vec3 instancePickingColors;

uniform float widthScale;
uniform float widthMinPixels;
uniform float widthMaxPixels;
uniform float jointType;
uniform float capType;
uniform float miterLimit;
uniform bool billboard;
uniform int widthUnits;

uniform float opacity;

varying vec4 vColor;
varying vec2 vCornerOffset;
varying float vMiterLength;
varying vec2 vPathPosition;
varying float vPathLength;
varying float vJointType;

const float EPSILON = 0.001;
const vec3 ZERO_OFFSET = vec3(0.0);

float flipIfTrue(bool flag) {
  return -(float(flag) * 2. - 1.);
}
vec3 lineJoin(
  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,
  vec2 width
) {
  bool isEnd = positions.x > 0.0;
  float sideOfPath = positions.y;
  float isJoint = float(sideOfPath == 0.0);

  vec3 deltaA3 = (currPoint - prevPoint);
  vec3 deltaB3 = (nextPoint - currPoint);

  mat3 rotationMatrix;
  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);
  if (needsRotation) {
    deltaA3 = deltaA3 * rotationMatrix;
    deltaB3 = deltaB3 * rotationMatrix;
  }
  vec2 deltaA = deltaA3.xy / width;
  vec2 deltaB = deltaB3.xy / width;

  float lenA = length(deltaA);
  float lenB = length(deltaB);

  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);
  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);

  vec2 perpA = vec2(-dirA.y, dirA.x);
  vec2 perpB = vec2(-dirB.y, dirB.x);
  vec2 tangent = dirA + dirB;
  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;
  vec2 miterVec = vec2(-tangent.y, tangent.x);
  vec2 dir = isEnd ? dirA : dirB;
  vec2 perp = isEnd ? perpA : perpB;
  float L = isEnd ? lenA : lenB;
  float sinHalfA = abs(dot(miterVec, perp));
  float cosHalfA = abs(dot(dirA, miterVec));
  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);
  float cornerPosition = sideOfPath * turnDirection;

  float miterSize = 1.0 / max(sinHalfA, EPSILON);
  miterSize = mix(
    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),
    miterSize,
    step(0.0, cornerPosition)
  );

  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))
    * (sideOfPath + isJoint * turnDirection);
  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));
  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));
  bool isCap = isStartCap || isEndCap;
  if (isCap) {
    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);
    vJointType = capType;
  } else {
    vJointType = jointType;
  }
  vPathLength = L;
  vCornerOffset = offsetVec;
  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);
  vMiterLength = isCap ? isJoint : vMiterLength;

  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);
  vPathPosition = vec2(
    dot(offsetFromStartOfPath, perp),
    dot(offsetFromStartOfPath, dir)
  );
  geometry.uv = vPathPosition;

  float isValid = step(instanceTypes, 3.5);
  vec3 offset = vec3(offsetVec * width * isValid, 0.0);

  if (needsRotation) {
    offset = rotationMatrix * offset;
  }
  return currPoint + offset;
}
void clipLine(inout vec4 position, vec4 refPosition) {
  if (position.w < EPSILON) {
    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);
    position = refPosition + (position - refPosition) * r;
  }
}

void main() {
  geometry.pickingColor = instancePickingColors;

  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);

  float isEnd = positions.x;

  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);
  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);

  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);
  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);

  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);
  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);

  geometry.worldPosition = currPosition;
  vec2 widthPixels = vec2(clamp(
    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),
    widthMinPixels, widthMaxPixels) / 2.0);
  vec3 width;

  if (billboard) {
    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);
    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);
    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);

    clipLine(prevPositionScreen, currPositionScreen);
    clipLine(nextPositionScreen, currPositionScreen);
    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));

    width = vec3(widthPixels, 0.0);
    DECKGL_FILTER_SIZE(width, geometry);

    vec3 pos = lineJoin(
      prevPositionScreen.xyz / prevPositionScreen.w,
      currPositionScreen.xyz / currPositionScreen.w,
      nextPositionScreen.xyz / nextPositionScreen.w,
      project_pixel_size_to_clipspace(width.xy)
    );

    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);
  } else {
    prevPosition = project_position(prevPosition, prevPosition64Low);
    currPosition = project_position(currPosition, currPosition64Low);
    nextPosition = project_position(nextPosition, nextPosition64Low);

    width = vec3(project_pixel_size(widthPixels), 0.0);
    DECKGL_FILTER_SIZE(width, geometry);

    vec4 pos = vec4(
      lineJoin(prevPosition, currPosition, nextPosition, width.xy),
      1.0);
    geometry.position = pos;
    gl_Position = project_common_position_to_clipspace(pos);
  }
  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  DECKGL_FILTER_COLOR(vColor, geometry);
}
`,nre=`#define SHADER_NAME path-layer-fragment-shader

precision highp float;

uniform float miterLimit;

varying vec4 vColor;
varying vec2 vCornerOffset;
varying float vMiterLength;
varying vec2 vPathPosition;
varying float vPathLength;
varying float vJointType;

void main(void) {
  geometry.uv = vPathPosition;

  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {
    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {
      discard;
    }
    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {
      discard;
    }
  }
  gl_FragColor = vColor;

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,DJ=[0,0,0,255],ire={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:t=>t.path},getColor:{type:"accessor",value:DJ},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},ay={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class fV extends al{getShaders(){return super.getShaders({vs:tre,fs:nre,modules:[mc,hc]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:ay,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:ay,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:ay,defaultValue:DJ},instancePickingColors:{size:3,type:5121,accessor:(i,l)=>{let{index:r,target:a}=l;return this.encodePickingColor(i&&i.__source?i.__source.index:r,a)}}}),this.setState({pathTesselator:new ere({fp64:this.use64bitPositions()})}),this.props.getDashArray&&!this.props.extensions.length&&we.removed("getDashArray","PathStyleExtension")()}updateState(e){let{oldProps:n,props:i,changeFlags:l}=e;super.updateState({props:i,oldProps:n,changeFlags:l});const r=this.getAttributeManager();if(l.dataChanged||l.updateTriggersChanged&&(l.updateTriggersChanged.all||l.updateTriggersChanged.getPath)){const{pathTesselator:o}=this.state,c=i.data.attributes||{};o.updateGeometry({data:i.data,geometryBuffer:c.getPath,buffers:c,normalize:!i._pathType,loop:i._pathType==="loop",getGeometry:i.getPath,positionFormat:i.positionFormat,wrapLongitude:i.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:l.dataChanged}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),l.dataChanged||r.invalidateAll()}if(l.extensionsChanged){var s;const{gl:o}=this.context;(s=this.state.model)===null||s===void 0||s.delete(),this.state.model=this._getModel(o),r.invalidateAll()}}getPickingInfo(e){const n=super.getPickingInfo(e),{index:i}=n,{data:l}=this.props;return l[0]&&l[0].__source&&(n.object=l.find(r=>r.__source.index===i)),n}disablePickingIndex(e){const{data:n}=this.props;if(n[0]&&n[0].__source)for(let i=0;i<n.length;i++)n[i].__source.index===e&&this._disablePickingIndex(i);else this._disablePickingIndex(e)}draw(e){let{uniforms:n}=e;const{jointRounded:i,capRounded:l,billboard:r,miterLimit:a,widthUnits:s,widthScale:o,widthMinPixels:c,widthMaxPixels:u}=this.props;this.state.model.setUniforms(n).setUniforms({jointType:Number(i),capType:Number(l),billboard:r,widthUnits:Hr[s],widthScale:o,miterLimit:a,widthMinPixels:c,widthMaxPixels:u}).draw()}_getModel(e){const n=[0,1,2,1,4,2,1,3,4,3,5,4],i=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new jr(e,{...this.getShaders(),id:this.props.id,geometry:new dc({drawMode:4,attributes:{indices:new Uint16Array(n),positions:{value:new Float32Array(i),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:n}=this.state;e.startIndices=n.vertexStarts,e.value=n.get("positions")}calculateSegmentTypes(e){const{pathTesselator:n}=this.state;e.startIndices=n.vertexStarts,e.value=n.get("segmentTypes")}}fV.layerName="PathLayer";fV.defaultProps=ire;var yV={exports:{}};yV.exports=BZ;yV.exports.default=BZ;function BZ(t,e,n){n=n||2;var i=e&&e.length,l=i?e[0]*n:t.length,r=OJ(t,0,l,n,!0),a=[];if(!r||r.next===r.prev)return a;var s,o,c,u,d,m,h;if(i&&(r=ore(t,e,r,n)),t.length>80*n){s=c=t[0],o=u=t[1];for(var b=n;b<l;b+=n)d=t[b],m=t[b+1],d<s&&(s=d),m<o&&(o=m),d>c&&(c=d),m>u&&(u=m);h=Math.max(c-s,u-o),h=h!==0?32767/h:0}return vd(r,a,n,s,o,h,0),a}function OJ(t,e,n,i,l){var r,a;if(l===qX(t,e,n,i)>0)for(r=e;r<n;r+=i)a=FY(r,t[r],t[r+1],a);else for(r=n-i;r>=e;r-=i)a=FY(r,t[r],t[r+1],a);return a&&QZ(a,a.next)&&(wd(a),a=a.next),a}function Qa(t,e){if(!t)return t;e||(e=t);var n=t,i;do if(i=!1,!n.steiner&&(QZ(n,n.next)||ut(n.prev,n,n.next)===0)){if(wd(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function vd(t,e,n,i,l,r,a){if(t){!a&&r&&hre(t,i,l,r);for(var s=t,o,c;t.prev!==t.next;){if(o=t.prev,c=t.next,r?rre(t,i,l,r):lre(t)){e.push(o.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),wd(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=are(Qa(t),e,n),vd(t,e,n,i,l,r,2)):a===2&&sre(t,e,n,i,l,r):vd(Qa(t),e,n,i,l,r,1);break}}}}function lre(t){var e=t.prev,n=t,i=t.next;if(ut(e,n,i)>=0)return!1;for(var l=e.x,r=n.x,a=i.x,s=e.y,o=n.y,c=i.y,u=l<r?l<a?l:a:r<a?r:a,d=s<o?s<c?s:c:o<c?o:c,m=l>r?l>a?l:a:r>a?r:a,h=s>o?s>c?s:c:o>c?o:c,b=i.next;b!==e;){if(b.x>=u&&b.x<=m&&b.y>=d&&b.y<=h&&bo(l,s,r,o,a,c,b.x,b.y)&&ut(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function rre(t,e,n,i){var l=t.prev,r=t,a=t.next;if(ut(l,r,a)>=0)return!1;for(var s=l.x,o=r.x,c=a.x,u=l.y,d=r.y,m=a.y,h=s<o?s<c?s:c:o<c?o:c,b=u<d?u<m?u:m:d<m?d:m,Z=s>o?s>c?s:c:o>c?o:c,p=u>d?u>m?u:m:d>m?d:m,f=_X(h,b,e,n,i),G=_X(Z,p,e,n,i),V=t.prevZ,X=t.nextZ;V&&V.z>=f&&X&&X.z<=G;){if(V.x>=h&&V.x<=Z&&V.y>=b&&V.y<=p&&V!==l&&V!==a&&bo(s,u,o,d,c,m,V.x,V.y)&&ut(V.prev,V,V.next)>=0||(V=V.prevZ,X.x>=h&&X.x<=Z&&X.y>=b&&X.y<=p&&X!==l&&X!==a&&bo(s,u,o,d,c,m,X.x,X.y)&&ut(X.prev,X,X.next)>=0))return!1;X=X.nextZ}for(;V&&V.z>=f;){if(V.x>=h&&V.x<=Z&&V.y>=b&&V.y<=p&&V!==l&&V!==a&&bo(s,u,o,d,c,m,V.x,V.y)&&ut(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;X&&X.z<=G;){if(X.x>=h&&X.x<=Z&&X.y>=b&&X.y<=p&&X!==l&&X!==a&&bo(s,u,o,d,c,m,X.x,X.y)&&ut(X.prev,X,X.next)>=0)return!1;X=X.nextZ}return!0}function are(t,e,n){var i=t;do{var l=i.prev,r=i.next.next;!QZ(l,r)&&BJ(l,i,i.next,r)&&Id(l,r)&&Id(r,l)&&(e.push(l.i/n|0),e.push(i.i/n|0),e.push(r.i/n|0),wd(i),wd(i.next),i=t=r),i=i.next}while(i!==t);return Qa(i)}function sre(t,e,n,i,l,r){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Zre(a,s)){var o=QJ(a,s);a=Qa(a,a.next),o=Qa(o,o.next),vd(a,e,n,i,l,r,0),vd(o,e,n,i,l,r,0);return}s=s.next}a=a.next}while(a!==t)}function ore(t,e,n,i){var l=[],r,a,s,o,c;for(r=0,a=e.length;r<a;r++)s=e[r]*i,o=r<a-1?e[r+1]*i:t.length,c=OJ(t,s,o,i,!1),c===c.next&&(c.steiner=!0),l.push(pre(c));for(l.sort(cre),r=0;r<l.length;r++)n=ure(l[r],n);return n}function cre(t,e){return t.x-e.x}function ure(t,e){var n=dre(t,e);if(!n)return e;var i=QJ(n,t);return Qa(i,i.next),Qa(n,n.next)}function dre(t,e){var n=e,i=t.x,l=t.y,r=-1/0,a;do{if(l<=n.y&&l>=n.next.y&&n.next.y!==n.y){var s=n.x+(l-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>r&&(r=s,a=n.x<n.next.x?n:n.next,s===i))return a}n=n.next}while(n!==e);if(!a)return null;var o=a,c=a.x,u=a.y,d=1/0,m;n=a;do i>=n.x&&n.x>=c&&i!==n.x&&bo(l<u?i:r,l,c,u,l<u?r:i,l,n.x,n.y)&&(m=Math.abs(l-n.y)/(i-n.x),Id(n,t)&&(m<d||m===d&&(n.x>a.x||n.x===a.x&&mre(a,n)))&&(a=n,d=m)),n=n.next;while(n!==o);return a}function mre(t,e){return ut(t.prev,t,e.prev)<0&&ut(e.next,t,t.next)<0}function hre(t,e,n,i){var l=t;do l.z===0&&(l.z=_X(l.x,l.y,e,n,i)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==t);l.prevZ.nextZ=null,l.prevZ=null,bre(l)}function bre(t){var e,n,i,l,r,a,s,o,c=1;do{for(n=t,t=null,r=null,a=0;n;){for(a++,i=n,s=0,e=0;e<c&&(s++,i=i.nextZ,!!i);e++);for(o=c;s>0||o>0&&i;)s!==0&&(o===0||!i||n.z<=i.z)?(l=n,n=n.nextZ,s--):(l=i,i=i.nextZ,o--),r?r.nextZ=l:t=l,l.prevZ=r,r=l;n=i}r.nextZ=null,c*=2}while(a>1);return t}function _X(t,e,n,i,l){return t=(t-n)*l|0,e=(e-i)*l|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function pre(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function bo(t,e,n,i,l,r,a,s){return(l-a)*(e-s)>=(t-a)*(r-s)&&(t-a)*(i-s)>=(n-a)*(e-s)&&(n-a)*(r-s)>=(l-a)*(i-s)}function Zre(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!fre(t,e)&&(Id(t,e)&&Id(e,t)&&yre(t,e)&&(ut(t.prev,t,e.prev)||ut(t,e.prev,e))||QZ(t,e)&&ut(t.prev,t,t.next)>0&&ut(e.prev,e,e.next)>0)}function ut(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function QZ(t,e){return t.x===e.x&&t.y===e.y}function BJ(t,e,n,i){var l=yh(ut(t,e,n)),r=yh(ut(t,e,i)),a=yh(ut(n,i,t)),s=yh(ut(n,i,e));return!!(l!==r&&a!==s||l===0&&fh(t,n,e)||r===0&&fh(t,i,e)||a===0&&fh(n,t,i)||s===0&&fh(n,e,i))}function fh(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function yh(t){return t>0?1:t<0?-1:0}function fre(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&BJ(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Id(t,e){return ut(t.prev,t,t.next)<0?ut(t,e,t.next)>=0&&ut(t,t.prev,e)>=0:ut(t,e,t.prev)<0||ut(t,t.next,e)<0}function yre(t,e){var n=t,i=!1,l=(t.x+e.x)/2,r=(t.y+e.y)/2;do n.y>r!=n.next.y>r&&n.next.y!==n.y&&l<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function QJ(t,e){var n=new $X(t.i,t.x,t.y),i=new $X(e.i,e.x,e.y),l=t.next,r=e.prev;return t.next=e,e.prev=t,n.next=l,l.prev=n,i.next=n,n.prev=i,r.next=i,i.prev=r,i}function FY(t,e,n,i){var l=new $X(t,e,n);return i?(l.next=i.next,l.prev=i,i.next.prev=l,i.next=l):(l.prev=l,l.next=l),l}function wd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function $X(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}BZ.deviation=function(t,e,n,i){var l=e&&e.length,r=l?e[0]*n:t.length,a=Math.abs(qX(t,0,r,n));if(l)for(var s=0,o=e.length;s<o;s++){var c=e[s]*n,u=s<o-1?e[s+1]*n:t.length;a-=Math.abs(qX(t,c,u,n))}var d=0;for(s=0;s<i.length;s+=3){var m=i[s]*n,h=i[s+1]*n,b=i[s+2]*n;d+=Math.abs((t[m]-t[b])*(t[h+1]-t[m+1])-(t[m]-t[h])*(t[b+1]-t[m+1]))}return a===0&&d===0?0:Math.abs((d-a)/a)};function qX(t,e,n,i){for(var l=0,r=e,a=n-i;r<n;r+=i)l+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;return l}BZ.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,l=0;l<t.length;l++){for(var r=0;r<t[l].length;r++)for(var a=0;a<e;a++)n.vertices.push(t[l][r][a]);l>0&&(i+=t[l-1].length,n.holes.push(i))}return n};var Gre=yV.exports;const Xre=Kl(Gre),Gh=KJ.CLOCKWISE,zY=KJ.COUNTER_CLOCKWISE,Zr={isClosed:!0};function gre(t){if(t=t&&t.positions||t,!Array.isArray(t)&&!ArrayBuffer.isView(t))throw new Error("invalid polygon")}function Wre(t){return t.length>=1&&t[0].length>=2&&Number.isFinite(t[0][0])}function Vre(t){const e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]}function Tre(t,e,n,i){for(let l=0;l<e;l++)if(t[n+l]!==t[i-e+l])return!1;return!0}function jY(t,e,n,i,l){let r=e;const a=n.length;for(let s=0;s<a;s++)for(let o=0;o<i;o++)t[r++]=n[s][o]||0;if(!Vre(n))for(let s=0;s<i;s++)t[r++]=n[0][s]||0;return Zr.start=e,Zr.end=r,Zr.size=i,UJ(t,l,Zr),r}function HY(t,e,n,i){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,r=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;r=r||n.length;const s=r-l;if(s<=0)return e;let o=e;for(let c=0;c<s;c++)t[o++]=n[l+c];if(!Tre(n,i,l,r))for(let c=0;c<i;c++)t[o++]=n[l+c];return Zr.start=e,Zr.end=o,Zr.size=i,UJ(t,a,Zr),o}function AJ(t,e){gre(t);const n=[],i=[];if(t.positions){const{positions:l,holeIndices:r}=t;if(r){let a=0;for(let s=0;s<=r.length;s++)a=HY(n,a,l,e,r[s-1],r[s],s===0?Gh:zY),i.push(a);return i.pop(),{positions:n,holeIndices:i}}t=l}if(Number.isFinite(t[0]))return HY(n,0,t,e,0,n.length,Gh),n;if(!Wre(t)){let l=0;for(const[r,a]of t.entries())l=jY(n,l,a,e,r===0?Gh:zY),i.push(l);return i.pop(),{positions:n,holeIndices:i}}return jY(n,0,t,e,Gh),n}function xre(t,e,n){let i=null;t.holeIndices&&(i=t.holeIndices.map(r=>r/e));let l=t.positions||t;if(n){const r=l.length;l=l.slice();const a=[];for(let s=0;s<r;s+=e){a[0]=l[s],a[1]=l[s+1];const o=n(a);l[s]=o[0],l[s+1]=o[1]}}return Xre(l,i,e)}class Rre extends JJ{constructor(e){const{fp64:n,IndexType:i=Uint32Array}=e;super({...e,attributes:{positions:{size:3,type:n?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:i,size:1}}})}get(e){const{attributes:n}=this;return e==="indices"?n.indices&&n.indices.subarray(0,this.vertexCount):n[e]}updateGeometry(e){super.updateGeometry(e);const n=this.buffers.indices;n&&(this.vertexCount=(n.value||n).length)}normalizeGeometry(e){if(this.normalize){if(e=AJ(e,this.positionSize),this.opts.resolution)return FJ(e.positions||e,e.holeIndices,{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0});if(this.opts.wrapLongitude)return Ble(e.positions||e,e.holeIndices,{size:this.positionSize,maxLatitude:86,edgeTypes:!0})}return e}getGeometrySize(e){if(Array.isArray(e)&&!Number.isFinite(e[0])){let n=0;for(const i of e)n+=this.getGeometrySize(i);return n}return(e.positions||e).length/this.positionSize}getGeometryFromBuffer(e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(e):()=>null}updateGeometryAttributes(e,n){if(Array.isArray(e)&&!Number.isFinite(e[0]))for(const i of e){const l=this.getGeometrySize(i);n.geometrySize=l,this.updateGeometryAttributes(i,n),n.vertexStart+=l,n.indexStart=this.indexStarts[n.geometryIndex+1]}else this._updateIndices(e,n),this._updatePositions(e,n),this._updateVertexValid(e,n)}_updateIndices(e,n){let{geometryIndex:i,vertexStart:l,indexStart:r}=n;const{attributes:a,indexStarts:s,typedArrayManager:o}=this;let c=a.indices;if(!c)return;let u=r;const d=xre(e,this.positionSize,this.opts.preproject);c=o.allocate(c,r+d.length,{copy:!0});for(let m=0;m<d.length;m++)c[u++]=d[m]+l;s[i+1]=r+d.length,a.indices=c}_updatePositions(e,n){let{vertexStart:i,geometrySize:l}=n;const{attributes:{positions:r},positionSize:a}=this;if(!r)return;const s=e.positions||e;for(let o=i,c=0;c<l;o++,c++){const u=s[c*a],d=s[c*a+1],m=a>2?s[c*a+2]:0;r[o*3]=u,r[o*3+1]=d,r[o*3+2]=m}}_updateVertexValid(e,n){let{vertexStart:i,geometrySize:l}=n;const{attributes:{vertexValid:r},positionSize:a}=this,s=e&&e.holeIndices;if(e&&e.edgeTypes?r.set(e.edgeTypes,i):r.fill(1,i,i+l),s)for(let o=0;o<s.length;o++)r[i+s[o]/a-1]=0;r[i+l-1]=0}}const _J=`
attribute vec2 vertexPositions;
attribute float vertexValid;

uniform bool extruded;
uniform bool isWireframe;
uniform float elevationScale;
uniform float opacity;

varying vec4 vColor;

struct PolygonProps {
  vec4 fillColors;
  vec4 lineColors;
  vec3 positions;
  vec3 nextPositions;
  vec3 pickingColors;
  vec3 positions64Low;
  vec3 nextPositions64Low;
  float elevations;
};

vec3 project_offset_normal(vec3 vector) {
  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {
    return normalize(vector * project_uCommonUnitsPerWorldUnit);
  }
  return project_normal(vector);
}

void calculatePosition(PolygonProps props) {
#ifdef IS_SIDE_VERTEX
  if(vertexValid < 0.5){
    gl_Position = vec4(0.);
    return;
  }
#endif

  vec3 pos;
  vec3 pos64Low;
  vec3 normal;
  vec4 colors = isWireframe ? props.lineColors : props.fillColors;

  geometry.worldPosition = props.positions;
  geometry.worldPositionAlt = props.nextPositions;
  geometry.pickingColor = props.pickingColors;

#ifdef IS_SIDE_VERTEX
  pos = mix(props.positions, props.nextPositions, vertexPositions.x);
  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);
#else
  pos = props.positions;
  pos64Low = props.positions64Low;
#endif

  if (extruded) {
    pos.z += props.elevations * vertexPositions.y * elevationScale;

#ifdef IS_SIDE_VERTEX
    normal = vec3(
      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),
      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),
      0.0);
    normal = project_offset_normal(normal);
#else
    normal = vec3(0.0, 0.0, 1.0);
#endif
    geometry.normal = normal;
  }

  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);
  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);

  if (extruded) {
    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);
    vColor = vec4(lightColor, colors.a * opacity);
  } else {
    vColor = vec4(colors.rgb, colors.a * opacity);
  }
  DECKGL_FILTER_COLOR(vColor, geometry);
}
`,Sre=`#define SHADER_NAME solid-polygon-layer-vertex-shader

attribute vec3 positions;
attribute vec3 positions64Low;
attribute float elevations;
attribute vec4 fillColors;
attribute vec4 lineColors;
attribute vec3 pickingColors;

`.concat(_J,`

void main(void) {
  PolygonProps props;

  props.positions = positions;
  props.positions64Low = positions64Low;
  props.elevations = elevations;
  props.fillColors = fillColors;
  props.lineColors = lineColors;
  props.pickingColors = pickingColors;

  calculatePosition(props);
}
`),Yre=`#define SHADER_NAME solid-polygon-layer-vertex-shader-side
#define IS_SIDE_VERTEX


attribute vec3 instancePositions;
attribute vec3 nextPositions;
attribute vec3 instancePositions64Low;
attribute vec3 nextPositions64Low;
attribute float instanceElevations;
attribute vec4 instanceFillColors;
attribute vec4 instanceLineColors;
attribute vec3 instancePickingColors;

`.concat(_J,`

void main(void) {
  PolygonProps props;

  #if RING_WINDING_ORDER_CW == 1
    props.positions = instancePositions;
    props.positions64Low = instancePositions64Low;
    props.nextPositions = nextPositions;
    props.nextPositions64Low = nextPositions64Low;
  #else
    props.positions = nextPositions;
    props.positions64Low = nextPositions64Low;
    props.nextPositions = instancePositions;
    props.nextPositions64Low = instancePositions64Low;
  #endif
  props.elevations = instanceElevations;
  props.fillColors = instanceFillColors;
  props.lineColors = instanceLineColors;
  props.pickingColors = instancePickingColors;

  calculatePosition(props);
}
`),Lre=`#define SHADER_NAME solid-polygon-layer-fragment-shader

precision highp float;

varying vec4 vColor;

void main(void) {
  gl_FragColor = vColor;

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,Rp=[0,0,0,255],Mre={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:t=>t.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:Rp},getLineColor:{type:"accessor",value:Rp},material:!0},Xh={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class AZ extends al{getShaders(e){return super.getShaders({vs:e==="top"?Sre:Yre,fs:Lre,defines:{RING_WINDING_ORDER_CW:!this.props._normalize&&this.props._windingOrder==="CCW"?0:1},modules:[mc,Kq,hc]})}get wrapLongitude(){return!1}initializeState(){const{gl:e,viewport:n}=this.context;let{coordinateSystem:i}=this.props;n.isGeospatial&&i===ke.DEFAULT&&(i=ke.LNGLAT),this.setState({numInstances:0,polygonTesselator:new Rre({preproject:i===ke.LNGLAT&&n.projectFlat,fp64:this.use64bitPositions(),IndexType:!e||_W(e,et.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});const l=this.getAttributeManager(),r=!0;l.remove(["instancePickingColors"]),l.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:r},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:Xh,accessor:"getPolygon",update:this.calculatePositions,noAlloc:r,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:r},elevations:{size:1,transition:Xh,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{alias:"colors",size:this.props.colorFormat.length,type:5121,normalized:!0,transition:Xh,accessor:"getFillColor",defaultValue:Rp,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{alias:"colors",size:this.props.colorFormat.length,type:5121,normalized:!0,transition:Xh,accessor:"getLineColor",defaultValue:Rp,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:(a,s)=>{let{index:o,target:c}=s;return this.encodePickingColor(a&&a.__source?a.__source.index:o,c)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}getPickingInfo(e){const n=super.getPickingInfo(e),{index:i}=n,{data:l}=this.props;return l[0]&&l[0].__source&&(n.object=l.find(r=>r.__source.index===i)),n}disablePickingIndex(e){const{data:n}=this.props;if(n[0]&&n[0].__source)for(let i=0;i<n.length;i++)n[i].__source.index===e&&this._disablePickingIndex(i);else this._disablePickingIndex(e)}draw(e){let{uniforms:n}=e;const{extruded:i,filled:l,wireframe:r,elevationScale:a}=this.props,{topModel:s,sideModel:o,polygonTesselator:c}=this.state,u={...n,extruded:!!i,elevationScale:a};o&&(o.setInstanceCount(c.instanceCount-1),o.setUniforms(u),r&&(o.setDrawMode(3),o.setUniforms({isWireframe:!0}).draw()),l&&(o.setDrawMode(6),o.setUniforms({isWireframe:!1}).draw())),s&&(s.setVertexCount(c.vertexCount),s.setUniforms(u).draw())}updateState(e){super.updateState(e),this.updateGeometry(e);const{props:n,oldProps:i,changeFlags:l}=e,r=this.getAttributeManager();if(l.extensionsChanged||n.filled!==i.filled||n.extruded!==i.extruded){var s;(s=this.state.models)===null||s===void 0||s.forEach(o=>o.delete()),this.setState(this._getModels(this.context.gl)),r.invalidateAll()}}updateGeometry(e){let{props:n,oldProps:i,changeFlags:l}=e;if(l.dataChanged||l.updateTriggersChanged&&(l.updateTriggersChanged.all||l.updateTriggersChanged.getPolygon)){const{polygonTesselator:a}=this.state,s=n.data.attributes||{};a.updateGeometry({data:n.data,normalize:n._normalize,geometryBuffer:s.getPolygon,buffers:s,getGeometry:n.getPolygon,positionFormat:n.positionFormat,wrapLongitude:n.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:l.dataChanged}),this.setState({numInstances:a.instanceCount,startIndices:a.vertexStarts}),l.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(e){const{id:n,filled:i,extruded:l}=this.props;let r,a;if(i){const s=this.getShaders("top");s.defines.NON_INSTANCED_MODEL=1,r=new jr(e,{...s,id:"".concat(n,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0})}return l&&(a=new jr(e,{...this.getShaders("side"),id:"".concat(n,"-side"),geometry:new dc({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}),a.userData.excludeAttributes={indices:!0}),{models:[a,r].filter(Boolean),topModel:r,sideModel:a}}calculateIndices(e){const{polygonTesselator:n}=this.state;e.startIndices=n.indexStarts,e.value=n.get("indices")}calculatePositions(e){const{polygonTesselator:n}=this.state;e.startIndices=n.vertexStarts,e.value=n.get("positions")}calculateVertexValid(e){e.value=this.state.polygonTesselator.get("vertexValid")}}AZ.layerName="SolidPolygonLayer";AZ.defaultProps=Mre;function Nre(t){let{data:e,getIndex:n,dataRange:i,replace:l}=t;const{startRow:r=0,endRow:a=1/0}=i,s=e.length;let o=s,c=s;for(let h=0;h<s;h++){const b=n(e[h]);if(o>h&&b>=r&&(o=h),b>=a){c=h;break}}let u=o;const d=c-o!==l.length,m=d&&e.slice(c);for(let h=0;h<l.length;h++)e[u++]=l[h];if(d){for(let h=0;h<m.length;h++)e[u++]=m[h];e.length=u}return{startRow:o,endRow:o+l.length}}const $J=[0,0,0,255],vre=[0,0,0,255],Ire={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:t=>t.polygon},getFillColor:{type:"accessor",value:vre},getLineColor:{type:"accessor",value:$J},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class GV extends mV{initializeState(){this.state={paths:[]},this.props.getLineDashArray&&we.removed("getLineDashArray","PathStyleExtension")()}updateState(e){let{oldProps:n,props:i,changeFlags:l}=e;const r=l.dataChanged||l.updateTriggersChanged&&(l.updateTriggersChanged.all||l.updateTriggersChanged.getPolygon);if(r&&Array.isArray(l.dataChanged)){const a=this.state.paths.slice(),s=l.dataChanged.map(o=>Nre({data:a,getIndex:c=>c.__source.index,dataRange:o,replace:this._getPaths(o)}));this.setState({paths:a,pathsDiff:s})}else r&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{data:n,getPolygon:i,positionFormat:l,_normalize:r}=this.props,a=[],s=l==="XY"?2:3,{startRow:o,endRow:c}=e,{iterable:u,objectInfo:d}=mm(n,o,c);for(const m of u){d.index++;let h=i(m,d);r&&(h=AJ(h,s));const{holeIndices:b}=h,Z=h.positions||h;if(b)for(let p=0;p<=b.length;p++){const f=Z.slice(b[p-1]||0,b[p]||Z.length);a.push(this.getSubLayerRow({path:f},m,d.index))}else a.push(this.getSubLayerRow({path:Z},m,d.index))}return a}renderLayers(){const{data:e,_dataDiff:n,stroked:i,filled:l,extruded:r,wireframe:a,_normalize:s,_windingOrder:o,elevationScale:c,transitions:u,positionFormat:d}=this.props,{lineWidthUnits:m,lineWidthScale:h,lineWidthMinPixels:b,lineWidthMaxPixels:Z,lineJointRounded:p,lineMiterLimit:f,lineDashJustified:G}=this.props,{getFillColor:V,getLineColor:X,getLineWidth:L,getLineDashArray:x,getElevation:v,getPolygon:C,updateTriggers:w,material:z}=this.props,{paths:$,pathsDiff:ee}=this.state,D=this.getSubLayerClass("fill",AZ),j=this.getSubLayerClass("stroke",fV),_=this.shouldRenderSubLayer("fill",$)&&new D({_dataDiff:n,extruded:r,elevationScale:c,filled:l,wireframe:a,_normalize:s,_windingOrder:o,getElevation:v,getFillColor:V,getLineColor:r&&a?X:$J,material:z,transitions:u},this.getSubLayerProps({id:"fill",updateTriggers:{getPolygon:w.getPolygon,getElevation:w.getElevation,getFillColor:w.getFillColor,lineColors:r&&a,getLineColor:w.getLineColor}}),{data:e,positionFormat:d,getPolygon:C}),ce=!r&&i&&this.shouldRenderSubLayer("stroke",$)&&new j({_dataDiff:ee&&(()=>ee),widthUnits:m,widthScale:h,widthMinPixels:b,widthMaxPixels:Z,jointRounded:p,miterLimit:f,dashJustified:G,_pathType:"loop",transitions:u&&{getWidth:u.getLineWidth,getColor:u.getLineColor,getPath:u.getPolygon},getColor:this.getSubLayerAccessor(X),getWidth:this.getSubLayerAccessor(L),getDashArray:this.getSubLayerAccessor(x)},this.getSubLayerProps({id:"stroke",updateTriggers:{getWidth:w.getLineWidth,getColor:w.getLineColor,getDashArray:w.getLineDashArray}}),{data:$,positionFormat:d,getPath:E=>E.path});return[!r&&_,ce,r&&_]}}GV.layerName="PolygonLayer";GV.defaultProps=Ire;const wre=`#define SHADER_NAME multi-icon-layer-fragment-shader

precision highp float;

uniform float opacity;
uniform sampler2D iconsTexture;
uniform float gamma;
uniform bool sdf;
uniform float alphaCutoff;
uniform float buffer;
uniform float outlineBuffer;
uniform vec4 outlineColor;

varying vec4 vColor;
varying vec2 vTextureCoords;
varying vec2 uv;

void main(void) {
  geometry.uv = uv;

  if (!picking_uActive) {
    float alpha = texture2D(iconsTexture, vTextureCoords).a;
    vec4 color = vColor;
    if (sdf) {
      float distance = alpha;
      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);

      if (outlineBuffer > 0.0) {
        float inFill = alpha;
        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);
        color = mix(outlineColor, vColor, inFill);
        alpha = inBorder;
      }
    }
    float a = alpha * color.a;
    
    if (a < alphaCutoff) {
      discard;
    }

    gl_FragColor = vec4(color.rgb, a * opacity);
  }

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,DY=192/256,OY=[],Jre={getIconOffsets:{type:"accessor",value:t=>t.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}};class XV extends bV{getShaders(){return{...super.getShaders(),fs:wre}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(n,i)=>{let{index:l,target:r}=i;return this.encodePickingColor(l,r)}}})}updateState(e){super.updateState(e);const{props:n,oldProps:i}=e;let{outlineColor:l}=n;l!==i.outlineColor&&(l=l.map(r=>r/255),l[3]=Number.isFinite(l[3])?l[3]:1,this.setState({outlineColor:l})),!n.sdf&&n.outlineWidth&&we.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:n,smoothing:i,outlineWidth:l}=this.props,{outlineColor:r}=this.state;e.uniforms={...e.uniforms,buffer:DY,outlineBuffer:l?Math.max(i,DY*(1-l)):-1,gamma:i,sdf:!!n,outlineColor:r},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).map(n=>super.getInstanceOffset(n)):OY}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).map(n=>super.getInstanceIconFrame(n)):OY}}XV.layerName="MultiIconLayer";XV.defaultProps=Jre;var gV={exports:{}};gV.exports=hm;gV.exports.default=hm;var Lo=1e20;function hm(t,e,n,i,l,r){this.fontSize=t||24,this.buffer=e===void 0?3:e,this.cutoff=i||.25,this.fontFamily=l||"sans-serif",this.fontWeight=r||"normal",this.radius=n||8;var a=this.size=this.fontSize+this.buffer*2,s=a+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Cre(t,e,n,i,l,r,a){r.fill(Lo,0,e*n),a.fill(0,0,e*n);for(var s=(e-i)/2,o=0;o<l;o++)for(var c=0;c<i;c++){var u=(o+s)*e+c+s,d=t.data[4*(o*i+c)+3]/255;if(d===1)r[u]=0,a[u]=Lo;else if(d===0)r[u]=Lo,a[u]=0;else{var m=Math.max(0,.5-d),h=Math.max(0,d-.5);r[u]=m*m,a[u]=h*h}}}function kre(t,e,n,i,l,r,a){for(var s=0;s<e*n;s++){var o=Math.sqrt(i[s])-Math.sqrt(l[s]);t[s]=Math.round(255-255*(o/r+a))}}hm.prototype._draw=function(t,e){var n=this.ctx.measureText(t),i=n.width,l=2*this.buffer,r,a,s,o,c,u,d,m;e&&this.useMetrics?(c=Math.floor(n.actualBoundingBoxAscent),m=this.buffer+Math.ceil(n.actualBoundingBoxAscent),u=this.buffer,d=this.buffer,a=Math.min(this.size,Math.ceil(n.actualBoundingBoxRight-n.actualBoundingBoxLeft)),o=Math.min(this.size-u,Math.ceil(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)),r=a+l,s=o+l,this.ctx.textBaseline="alphabetic"):(r=a=this.size,s=o=this.size,c=19*this.fontSize/24,u=d=0,m=this.middle,this.ctx.textBaseline="middle");var h;a&&o&&(this.ctx.clearRect(d,u,a,o),this.ctx.fillText(t,this.buffer,m),h=this.ctx.getImageData(d,u,a,o));var b=new Uint8ClampedArray(r*s);return Cre(h,r,s,a,o,this.gridOuter,this.gridInner),BY(this.gridOuter,r,s,this.f,this.v,this.z),BY(this.gridInner,r,s,this.f,this.v,this.z),kre(b,r,s,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:b,metrics:{width:a,height:o,sdfWidth:r,sdfHeight:s,top:c,left:0,advance:i}}};hm.prototype.draw=function(t){return this._draw(t,!1).data};hm.prototype.drawWithMetrics=function(t){return this._draw(t,!0)};function BY(t,e,n,i,l,r){for(var a=0;a<e;a++)QY(t,a,e,n,i,l,r);for(var s=0;s<n;s++)QY(t,s*e,1,e,i,l,r)}function QY(t,e,n,i,l,r,a){var s,o,c,u;for(r[0]=0,a[0]=-Lo,a[1]=Lo,s=0;s<i;s++)l[s]=t[e+s*n];for(s=1,o=0,c=0;s<i;s++){do u=r[o],c=(l[s]-l[u]+s*s-u*u)/(s-u)/2;while(c<=a[o]&&--o>-1);o++,r[o]=s,a[o]=c,a[o+1]=Lo}for(s=0,o=0;s<i;s++){for(;a[o+1]<s;)o++;u=r[o],t[e+s*n]=l[u]+(s-u)*(s-u)}}var Ere=gV.exports;const Kre=Kl(Ere),Ure=32,Pre=[];function Fre(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function zre(t){let{characterSet:e,getFontWidth:n,fontHeight:i,buffer:l,maxCanvasWidth:r,mapping:a={},xOffset:s=0,yOffset:o=0}=t,c=0,u=s,d=0;for(const h of e)if(!a[h]){const b=n(h,d++);u+b+l*2>r&&(u=0,c++),a[h]={x:u+l,y:o+c*(i+l*2)+l,width:b,height:i},u+=b+l*2}const m=i+l*2;return{mapping:a,xOffset:u,yOffset:o+c*m,canvasHeight:Fre(o+(c+1)*m)}}function qJ(t,e,n,i){let l=0;for(let r=e;r<n;r++){const a=t[r];let s=null;const o=i&&i[a];o&&(s=o.width),l+=s}return l}function eC(t,e,n,i,l,r){let a=e,s=0;for(let o=e;o<n;o++){const c=qJ(t,o,o+1,l);s+c>i&&(a<o&&r.push(o),a=o,s=0),s+=c}return s}function jre(t,e,n,i,l,r){let a=e,s=e,o=e,c=0;for(let u=e;u<n;u++)if((t[u]===" "||t[u+1]===" "||u+1===n)&&(o=u+1),o>s){let d=qJ(t,s,o,l);c+d>i&&(a<s&&(r.push(s),a=s,c=0),d>i&&(d=eC(t,s,o,i,l,r),a=r[r.length-1])),s=o,c+=d}return c}function Hre(t,e,n,i){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,r=arguments.length>5?arguments[5]:void 0;r===void 0&&(r=t.length);const a=[];return e==="break-all"?eC(t,l,r,n,i,a):jre(t,l,r,n,i,a),a}function Dre(t,e,n,i,l,r){let a=0,s=0;for(let o=e;o<n;o++){const c=t[o],u=i[c];u?(s||(s=u.height),l[o]=a+u.width/2,a+=u.width):(we.warn("Missing character: ".concat(c," (").concat(c.codePointAt(0),")"))(),l[o]=a,a+=Ure)}r[0]=a,r[1]=s}function AY(t,e,n,i,l){t=Array.from(t);const r=t.length,a=new Array(r),s=new Array(r),o=new Array(r),c=(n==="break-word"||n==="break-all")&&isFinite(i)&&i>0,u=[0,0],d=[];let m=0,h=0,b=0;for(let Z=0;Z<=r;Z++){const p=t[Z];if((p===`
`||Z===r)&&(b=Z),b>h){const f=c?Hre(t,n,i,l,h,b):Pre;for(let G=0;G<=f.length;G++){const V=G===0?h:f[G-1],X=G<f.length?f[G]:b;Dre(t,V,X,l,a,d);for(let L=V;L<X;L++)s[L]=m+d[1]/2,o[L]=d[0];m=m+d[1]*e,u[0]=Math.max(u[0],d[0])}h=b}p===`
`&&(a[h]=0,s[h]=0,o[h]=0,h++)}return u[1]=m,{x:a,y:s,rowWidth:o,size:u}}function Ore(t){let{value:e,length:n,stride:i,offset:l,startIndices:r,characterSet:a}=t;const s=e.BYTES_PER_ELEMENT,o=i?i/s:1,c=l?l/s:0,u=r[n]||Math.ceil((e.length-c)/o),d=a&&new Set,m=new Array(n);let h=e;if(o>1||c>0){h=new e.constructor(u);for(let b=0;b<u;b++)h[b]=e[b*o+c]}for(let b=0;b<n;b++){const Z=r[b],p=r[b+1]||u,f=h.subarray(Z,p);m[b]=String.fromCodePoint.apply(null,f),d&&f.forEach(d.add,d)}if(d)for(const b of d)a.add(String.fromCodePoint(b));return{texts:m,characterCount:u}}class Bre{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;this.limit=e,this.clear()}clear(){this._cache={},this._order=[]}get(e){const n=this._cache[e];return n&&(this._deleteOrder(e),this._appendOrder(e)),n}set(e,n){this._cache[e]?(this.delete(e),this._cache[e]=n,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=n,this._appendOrder(e))}delete(e){this._cache[e]&&(this._deleteCache(e),this._deleteOrder(e))}_deleteCache(e){delete this._cache[e]}_deleteOrder(e){const n=this._order.findIndex(i=>i===e);n>=0&&this._order.splice(n,1)}_appendOrder(e){this._order.push(e)}}function Qre(){const t=[];for(let e=32;e<128;e++)t.push(String.fromCharCode(e));return t}const tC=Qre(),nC="Monaco, monospace",iC="normal",lC=64,rC=4,aC=.25,sC=12,_Y=1024,Are=.9,$Y=1.2,_re=3,e1=new Bre(_re),$re=["fontFamily","fontWeight","characterSet","fontSize","sdf","buffer","cutoff","radius"];function qre(t,e){const n=e1.get(t);if(!n)return e;const i=[],l=n.mapping;let r=Object.keys(l);r=new Set(r);let a=e;return a instanceof Array&&(a=new Set(a)),a.forEach(s=>{r.has(s)||i.push(s)}),i}function eae(t,e){for(let n=0;n<t.length;n++)e.data[4*n+3]=t[n]}function qY(t,e,n,i){t.font="".concat(i," ").concat(n,"px ").concat(e),t.fillStyle="#000",t.textBaseline="baseline",t.textAlign="left"}class tae{constructor(){this.props={fontFamily:nC,fontWeight:iC,characterSet:tC,fontSize:lC,buffer:rC,sdf:!1,cutoff:aC,radius:sC},this._key=null,this._atlas=null}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return $Y}setProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$re.forEach(a=>{a in e&&(this.props[a]=e[a])});const n=this._key;this._key=this._getKey();const i=qre(this._key,this.props.characterSet),l=e1.get(this._key);if(l&&i.length===0){this._key!==n&&(this._atlas=l);return}const r=this._generateFontAtlas(this._key,i,l);this._atlas=r,e1.set(this._key,r)}_generateFontAtlas(e,n,i){const{fontFamily:l,fontWeight:r,fontSize:a,buffer:s,sdf:o,radius:c,cutoff:u}=this.props;let d=i&&i.data;d||(d=document.createElement("canvas"),d.width=_Y);const m=d.getContext("2d");qY(m,l,a,r);const{mapping:h,canvasHeight:b,xOffset:Z,yOffset:p}=zre({getFontWidth:f=>m.measureText(f).width,fontHeight:a*$Y,buffer:s,characterSet:n,maxCanvasWidth:_Y,...i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset}});if(d.height!==b){const f=m.getImageData(0,0,d.width,d.height);d.height=b,m.putImageData(f,0,0)}if(qY(m,l,a,r),o){const f=new Kre(a,s,c,u,l,r),G=m.getImageData(0,0,f.size,f.size);for(const V of n)eae(f.draw(V),G),m.putImageData(G,h[V].x-s,h[V].y+s)}else for(const f of n)m.fillText(f,h[f].x,h[f].y+a*Are);return{xOffset:Z,yOffset:p,mapping:h,data:d,width:d.width,height:d.height}}_getKey(){const{fontFamily:e,fontWeight:n,fontSize:i,buffer:l,sdf:r,radius:a,cutoff:s}=this.props;return r?"".concat(e," ").concat(n," ").concat(i," ").concat(l," ").concat(a," ").concat(s):"".concat(e," ").concat(n," ").concat(i," ").concat(l)}}const nae=`#define SHADER_NAME text-background-layer-vertex-shader

attribute vec2 positions;

attribute vec3 instancePositions;
attribute vec3 instancePositions64Low;
attribute vec4 instanceRects;
attribute float instanceSizes;
attribute float instanceAngles;
attribute vec2 instancePixelOffsets;
attribute float instanceLineWidths;
attribute vec4 instanceFillColors;
attribute vec4 instanceLineColors;
attribute vec3 instancePickingColors;

uniform bool billboard;
uniform float opacity;
uniform float sizeScale;
uniform float sizeMinPixels;
uniform float sizeMaxPixels;
uniform vec4 padding;
uniform int sizeUnits;

varying vec4 vFillColor;
varying vec4 vLineColor;
varying float vLineWidth;
varying vec2 uv;
varying vec2 dimensions;

vec2 rotate_by_angle(vec2 vertex, float angle) {
  float angle_radian = radians(angle);
  float cos_angle = cos(angle_radian);
  float sin_angle = sin(angle_radian);
  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
  return rotationMatrix * vertex;
}

void main(void) {
  geometry.worldPosition = instancePositions;
  geometry.uv = positions;
  geometry.pickingColor = instancePickingColors;
  uv = positions;
  vLineWidth = instanceLineWidths;
  float sizePixels = clamp(
    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),
    sizeMinPixels, sizeMaxPixels
  );

  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;

  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);
  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);
  pixelOffset += instancePixelOffsets;
  pixelOffset.y *= -1.0;

  if (billboard)  {
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
    vec3 offset = vec3(pixelOffset, 0.0);
    DECKGL_FILTER_SIZE(offset, geometry);
    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
  } else {
    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
    DECKGL_FILTER_SIZE(offset_common, geometry);
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
  }
  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);
  DECKGL_FILTER_COLOR(vFillColor, geometry);
  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);
  DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,iae=`#define SHADER_NAME text-background-layer-fragment-shader

precision highp float;

uniform bool stroked;

varying vec4 vFillColor;
varying vec4 vLineColor;
varying float vLineWidth;
varying vec2 uv;
varying vec2 dimensions;

void main(void) {
  geometry.uv = uv;

  vec2 pixelPosition = uv * dimensions;
  if (stroked) {
    float distToEdge = min(
      min(pixelPosition.x, dimensions.x - pixelPosition.x),
      min(pixelPosition.y, dimensions.y - pixelPosition.y)
    );
    float isBorder = smoothedge(distToEdge, vLineWidth);
    gl_FragColor = mix(vFillColor, vLineColor, isBorder);
  } else {
    gl_FragColor = vFillColor;
  }

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,lae={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:t=>t.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class WV extends al{getShaders(){return super.getShaders({vs:nae,fs:iae,modules:[mc,hc]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){let{props:n,oldProps:i,changeFlags:l}=e;if(super.updateState({props:n,oldProps:i,changeFlags:l}),l.extensionsChanged){var r;const{gl:a}=this.context;(r=this.state.model)===null||r===void 0||r.delete(),this.state.model=this._getModel(a),this.getAttributeManager().invalidateAll()}}draw(e){let{uniforms:n}=e;const{billboard:i,sizeScale:l,sizeUnits:r,sizeMinPixels:a,sizeMaxPixels:s,getLineWidth:o}=this.props;let{padding:c}=this.props;c.length<4&&(c=[c[0],c[1],c[0],c[1]]),this.state.model.setUniforms(n).setUniforms({billboard:i,stroked:!!o,padding:c,sizeUnits:Hr[r],sizeScale:l,sizeMinPixels:a,sizeMaxPixels:s}).draw()}_getModel(e){const n=[0,0,1,0,1,1,0,1];return new jr(e,{...this.getShaders(),id:this.props.id,geometry:new dc({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array(n)}}}),isInstanced:!0})}}WV.layerName="TextBackgroundLayer";WV.defaultProps=lae;const e9={fontSize:lC,buffer:rC,sdf:!1,radius:sC,cutoff:aC,smoothing:.1},t9={start:1,middle:0,end:-1},n9={top:1,center:0,bottom:-1},sy=[0,0,0,255],rae=1,aae=["fontSize","buffer","sdf","radius","cutoff"],sae={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:sy},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:tC},fontFamily:nC,fontWeight:iC,lineHeight:rae,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:sy},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:t=>t.text},getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:sy},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class VV extends mV{initializeState(){this.state={styleVersion:0,fontAtlasManager:new tae}}updateState(e){let{props:n,oldProps:i,changeFlags:l}=e;const r=l.dataChanged||l.updateTriggersChanged&&(l.updateTriggersChanged.all||l.updateTriggersChanged.getText),a=this.state.characterSet;r&&this._updateText();const s=a!==this.state.characterSet||this._fontChanged(i,n);s&&this._updateFontAtlas(i,n),(s||n.lineHeight!==i.lineHeight||n.wordBreak!==i.wordBreak||n.maxWidth!==i.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo(e){let{info:n}=e;return n.object=n.index>=0?this.props.data[n.index]:null,n}_updateFontAtlas(e,n){const{fontSettings:i,fontFamily:l,fontWeight:r}=n,{fontAtlasManager:a,characterSet:s}=this.state;a.setProps({...e9,...i,characterSet:s,fontFamily:l,fontWeight:r})}_fontChanged(e,n){if(e.fontFamily!==n.fontFamily||e.fontWeight!==n.fontWeight)return!0;if(e.fontSettings===n.fontSettings)return!1;const i=e.fontSettings||{},l=n.fontSettings||{};return aae.some(r=>i[r]!==l[r])}_updateText(){const{data:e,characterSet:n}=this.props,i=e.attributes&&e.attributes.getText;let{getText:l}=this.props,{startIndices:r}=e,a;const s=n==="auto"&&new Set;if(i&&r){const{texts:o,characterCount:c}=Ore({...ArrayBuffer.isView(i)?{value:i}:i,length:e.length,startIndices:r,characterSet:s});a=c,l=(u,d)=>{let{index:m}=d;return o[m]}}else{const{iterable:o,objectInfo:c}=mm(e);r=[0],a=0;for(const u of o){c.index++;const d=Array.from(l(u,c)||"");s&&d.forEach(s.add,s),a+=d.length,r.push(a)}}this.setState({getText:l,startIndices:r,numInstances:a,characterSet:s||n})}getBoundingRect(e,n){const i=this.state.fontAtlasManager.mapping,{getText:l}=this.state,{wordBreak:r,maxWidth:a,lineHeight:s,getTextAnchor:o,getAlignmentBaseline:c}=this.props,u=l(e,n)||"",{size:[d,m]}=AY(u,s,r,a,i),h=t9[typeof o=="function"?o(e,n):o],b=n9[typeof c=="function"?c(e,n):c];return[(h-1)*d/2,(b-1)*m/2,d,m]}getIconOffsets(e,n){const i=this.state.fontAtlasManager.mapping,{getText:l}=this.state,{wordBreak:r,maxWidth:a,lineHeight:s,getTextAnchor:o,getAlignmentBaseline:c}=this.props,u=l(e,n)||"",{x:d,y:m,rowWidth:h,size:[b,Z]}=AY(u,s,r,a,i),p=t9[typeof o=="function"?o(e,n):o],f=n9[typeof c=="function"?c(e,n):c],G=d.length,V=new Array(G*2);let X=0;for(let L=0;L<G;L++){const x=(1-p)*(b-h[L])/2;V[X++]=(p-1)*b/2+x+d[L],V[X++]=(f-1)*Z/2+m[L]}return V}renderLayers(){const{startIndices:e,numInstances:n,getText:i,fontAtlasManager:{scale:l,texture:r,mapping:a},styleVersion:s}=this.state,{data:o,_dataDiff:c,getPosition:u,getColor:d,getSize:m,getAngle:h,getPixelOffset:b,getBackgroundColor:Z,getBorderColor:p,getBorderWidth:f,backgroundPadding:G,background:V,billboard:X,fontSettings:L,outlineWidth:x,outlineColor:v,sizeScale:C,sizeUnits:w,sizeMinPixels:z,sizeMaxPixels:$,transitions:ee,updateTriggers:D}=this.props,j=this.getSubLayerClass("characters",XV),_=this.getSubLayerClass("background",WV);return[V&&new _({getFillColor:Z,getLineColor:p,getLineWidth:f,padding:G,getPosition:u,getSize:m,getAngle:h,getPixelOffset:b,billboard:X,sizeScale:C/this.state.fontAtlasManager.props.fontSize,sizeUnits:w,sizeMinPixels:z,sizeMaxPixels:$,transitions:ee&&{getPosition:ee.getPosition,getAngle:ee.getAngle,getSize:ee.getSize,getFillColor:ee.getBackgroundColor,getLineColor:ee.getBorderColor,getLineWidth:ee.getBorderWidth,getPixelOffset:ee.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:D.getPosition,getAngle:D.getAngle,getSize:D.getSize,getFillColor:D.getBackgroundColor,getLineColor:D.getBorderColor,getLineWidth:D.getBorderWidth,getPixelOffset:D.getPixelOffset,getBoundingRect:{getText:D.getText,getTextAnchor:D.getTextAnchor,getAlignmentBaseline:D.getAlignmentBaseline,styleVersion:s}}}),{data:o.attributes?{length:o.length,attributes:o.attributes.background||{}}:o,_dataDiff:c,autoHighlight:!1,getBoundingRect:this.getBoundingRect.bind(this)}),new j({sdf:L.sdf,smoothing:Number.isFinite(L.smoothing)?L.smoothing:e9.smoothing,outlineWidth:x,outlineColor:v,iconAtlas:r,iconMapping:a,getPosition:u,getColor:d,getSize:m,getAngle:h,getPixelOffset:b,billboard:X,sizeScale:C*l,sizeUnits:w,sizeMinPixels:z*l,sizeMaxPixels:$*l,transitions:ee&&{getPosition:ee.getPosition,getAngle:ee.getAngle,getColor:ee.getColor,getSize:ee.getSize,getPixelOffset:ee.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:D.getText,getPosition:D.getPosition,getAngle:D.getAngle,getColor:D.getColor,getSize:D.getSize,getPixelOffset:D.getPixelOffset,getIconOffsets:{getText:D.getText,getTextAnchor:D.getTextAnchor,getAlignmentBaseline:D.getAlignmentBaseline,styleVersion:s}}}),{data:o,_dataDiff:c,startIndices:e,numInstances:n,getIconOffsets:this.getIconOffsets.bind(this),getIcon:i})]}}VV.layerName="TextLayer";VV.defaultProps=sae;const oC="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGs9ZT0+e2xldCBhPXt9LG89bnVsbDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7aWYoZVt0XS5wYXJlbnRfaWQ9PT1lW3RdLm5vZGVfaWQpe289ZVt0XS5ub2RlX2lkO2NvbnRpbnVlfWFbZVt0XS5wYXJlbnRfaWRdIT09dm9pZCAwP2FbZVt0XS5wYXJlbnRfaWRdLnB1c2goZVt0XS5ub2RlX2lkKTphW2VbdF0ucGFyZW50X2lkXT1bZVt0XS5ub2RlX2lkXX1sZXQgbj1bXSxzPVtdO2ZvcihuLnB1c2gobyk7bi5sZW5ndGg+MDspe2NvbnN0IHQ9bi5wb3AoKTtpZihhW3RdKWZvcihsZXQgZCBvZiBhW3RdKW4ucHVzaChkKTtzLnB1c2godCl9cmV0dXJuIHN9LEk9KGUsYSxvKT0+IW8uZGF0YXx8IW8uZGF0YS5ub2Rlc3x8IWU/W106by5kYXRhLm5vZGVzLmxlbmd0aDwxZTR8fGFbMV0tYVswXTwxZTM/ZTooY29uc29sZS5sb2coIkZJTFRFUklORyIpLGUuZmlsdGVyKG49Pm4ueVsxXS1uLnlbMF0+LjAwMikpLEQ9KGUsYSxvKT0+e2xldCBuPXt9O2ZvcihsZXQgcz1lLmxlbmd0aC0xO3M+PTA7cy0tKXtsZXQgdD1hW2Vbc11dO2lmKHQubm9kZV9pZD09PW8pY29udGludWU7bGV0IGQ9dC5wYXJlbnRfaWQ7blt0Lm5vZGVfaWRdfHwoblt0Lm5vZGVfaWRdPVt0LnksdC55XSk7bGV0IHI9blt0Lm5vZGVfaWRdLGw9bltkXTtsPyhyWzBdPGxbMF0mJihuW2RdWzBdPXJbMF0pLHJbMV0+bFsxXSYmKG5bZF1bMV09clsxXSkpOm5bZF09Wy4uLnJdfXJldHVybiBufSxnPWFzeW5jKGUsYSxvLG4pPT57bGV0IHM9W1tdLHt9LCExXSx0PXthYTp7fSxudDp7fX0sZD0hMSxyPW51bGwsbD1udWxsO2lmKGUmJmUuZGF0YSYmZS5kYXRhLm5vZGVzJiZlLmRhdGEubm9kZXMubGVuZ3RoPDllNClyPWUuZGF0YS5ub2RlcyxsPWUuZGF0YS5ub2RlTG9va3VwO2Vsc2V7aWYoIWUuYmFzZV9kYXRhfHwhZS5iYXNlX2RhdGEubm9kZXMpcmV0dXJuIHM7cj1lLmJhc2VfZGF0YS5ub2RlcyxsPWUuYmFzZV9kYXRhLm5vZGVMb29rdXAsZD0hMH1pZighcnx8IWUuZGF0YS5ub2RlTG9va3VwKXJldHVybiBudWxsO2NvbnN0IF89ayhyKSxmPV8uZmluZChpPT5pPT09bFtpXS5wYXJlbnRfaWQpO2ZvcihsZXQgaSBvZiBsW2ZdLm11dGF0aW9ucylpLmdlbmU9PT0ibnQiP3QubnRbaS5yZXNpZHVlX3Bvc109aS5uZXdfcmVzaWR1ZTp0LmFhW2kuZ2VuZSsiOiIraS5yZXNpZHVlX3Bvc109aS5uZXdfcmVzaWR1ZTtjb25zdCBwPTFlNCxWPUQoXyxsLGYpO2xldCBtPVtdO2ZvcihsZXQgaT0wO2k8Xy5sZW5ndGgrcDtpKz1wKXtsZXQgeT1bXSx1O2Zvcih1PWk7dTxNYXRoLm1pbihpK3AsXy5sZW5ndGgpO3UrKyl7Y29uc3QgYz1sW19bdV1dO2lmKGMubm9kZV9pZCE9PWYpZm9yKGxldCBoIG9mIGMubXV0YXRpb25zKShoLmdlbmU9PT0ibnQiJiZhPT09Im50Inx8aC5nZW5lIT09Im50IiYmYT09PSJhYSIpJiZ5LnB1c2goe3k6VltjLm5vZGVfaWRdLG06aH0pfW0ucHVzaCguLi55KTtsZXQgYj1JKG0sbyxlKTt1PT09Xy5sZW5ndGgmJmQ/cG9zdE1lc3NhZ2Uoe3R5cGU6YT09PSJhYSI/InZhcmlhdGlvbl9kYXRhX3JldHVybl9jYWNoZV9hYSI6InZhcmlhdGlvbl9kYXRhX3JldHVybl9jYWNoZV9udCIsZmlsdGVyZWRWYXJEYXRhOmIsdHJlZW5vbWVSZWZlcmVuY2VJbmZvOnQsam9iSWQ6bn0pOnBvc3RNZXNzYWdlKHt0eXBlOmE9PT0iYWEiPyJ2YXJpYXRpb25fZGF0YV9yZXR1cm5fYWEiOiJ2YXJpYXRpb25fZGF0YV9yZXR1cm5fbnQiLGZpbHRlcmVkVmFyRGF0YTpiLHRyZWVub21lUmVmZXJlbmNlSW5mbzp0LGpvYklkOm59KX19O29ubWVzc2FnZT1hc3luYyBlPT57aWYoIWUuZGF0YSlyZXR1cm47bGV0IGEsbyxuOyh7bnRCb3VuZHM6YSxqb2JJZDpvLGRhdGE6bn09ZS5kYXRhKSxlLmRhdGEudHlwZT09PSJ2YXJpYXRpb25fZGF0YV9hYSI/ZyhuLCJhYSIsYSxvKTplLmRhdGEudHlwZT09PSJ2YXJpYXRpb25fZGF0YV9udCImJmcobiwibnQiLGEsbyl9fSkoKTsK",i9=typeof window<"u"&&window.Blob&&new Blob([atob(oC)],{type:"text/javascript;charset=utf-8"});function oae(){let t;try{if(t=i9&&(window.URL||window.webkitURL).createObjectURL(i9),!t)throw"";return new Worker(t)}catch{return new Worker("data:application/javascript;base64,"+oC)}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}const cae=(t,e,n,i)=>{const[l,r]=T.useState([]),[a,s]=T.useState([]),[o,c]=T.useState(0),[u,d]=T.useState([]),[m,h]=T.useState([]),[b,Z]=T.useState(null),[p,f]=T.useState(!1),[G,V]=T.useState(!1),[X,L]=T.useState(null),x=T.useMemo(()=>new oae,[]);return x.onmessage=T.useCallback(v=>{!b&&v.data.treenomeReferenceInfo&&Z(v.data.treenomeReferenceInfo),v.data.type==="variation_data_return_cache_aa"?(d(v.data.filteredVarData),r(v.data.filteredVarData)):v.data.type==="variation_data_return_aa"?r(v.data.filteredVarData):v.data.type==="variation_data_return_cache_nt"?(h(v.data.filteredVarData),s(v.data.filteredVarData)):v.data.type==="variation_data_return_nt"&&s(v.data.filteredVarData)},[b,Z,r,s,d,h]),T.useEffect(()=>{if(!(t.data&&t.data.nodes))return;if(!p&&t.data&&t.data.nodes&&e.genomeSize>0&&e.ntBounds[0]===0&&e.ntBounds[1]===e.genomeSize){if(n.mutationTypesEnabled.aa){const z=t.data.nodes.length;x.postMessage({type:"variation_data_aa",data:t,jobId:z,ntBounds:e.ntBounds})}f(!0)}if(!G&&t.data&&t.data.nodes&&e.genomeSize>0&&e.ntBounds[0]===0&&e.ntBounds[1]===e.genomeSize){if(n.mutationTypesEnabled.nt){const z=t.data.nodes.length;x.postMessage({type:"variation_data_nt",data:t,jobId:z,ntBounds:e.ntBounds})}V(!0)}if(!n.treenomeEnabled)return;if(t.data.nodes.length>=9e4){if(u.length>0&&u!==l&&r(u),m.length>0&&s(m),n.mutationTypesEnabled.aa&&u.length>0&&(m.length>0||!n.mutationTypesEnabled.nt)){c(t.data.nodes.length);return}if(n.mutationTypesEnabled.nt&&m.length>0&&(u.length>0||!n.mutationTypesEnabled.aa)){c(t.data.nodes.length);return}}let v=!1,C=!1;if(o===t.data.nodes.length){if(!t.data||!t.data.nodes)return;n.mutationTypesEnabled.aa&&l.length>0&&(r(l),v=!0),n.mutationTypesEnabled.nt&&a.length>0&&(s(a),C=!0)}c(t.data.nodes.length);let w=t.data.nodes.length;v||n.mutationTypesEnabled.aa&&x.postMessage({type:"variation_data_aa",data:t,jobId:w,ntBounds:e.ntBounds}),C||n.mutationTypesEnabled.nt&&x.postMessage({type:"variation_data_nt",data:t,jobId:w,ntBounds:e.ntBounds})},[t.data,o,n.treenomeEnabled,l,a,x,n.mutationTypesEnabled,e.ntBounds,X,L,u,m,t,p,e.genomeSize,G]),[l,a,b,u,m]},uae=(t,e,n,i,l,r,a,s,o)=>{const c=({layerIndex:k})=>[0,-(k+999)*100],u=T.useMemo(()=>[1/2**n.zoom,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],[n.zoom]),d=T.useMemo(()=>e.data.nodes&&e.data.nodes.length<1e4?1e-4:0,[e.data]),m=T.useMemo(()=>{const k=t.xBounds[1]-t.xBounds[0],A=t.ntBounds[1]-t.ntBounds[0];return A>600?2:k/A*3},[t.ntBounds,t.xBounds]),h=T.useMemo(()=>m/3,[m]),b=T.useMemo(()=>r.isCov2Tree?{ORF1a:[266,13469,[142,188,102]],ORF1b:[13468,21556,[229,150,5]],ORF1ab:[266,21556,[142,188,102]],S:[21563,25385,[80,151,186]],ORF3a:[25393,26221,[170,189,82]],E:[26245,26473,[217,173,61]],M:[26523,27192,[80,151,186]],ORF6:[27202,27388,[223,67,39]],ORF7a:[27394,27760,[196,185,69]],ORF7b:[27756,27888,[117,182,129]],ORF8:[27894,28260,[96,170,1158]],N:[28274,29534,[230,112,48]],ORF10:[29558,29675,[90,200,216]]}:null,[r.isCov2Tree]),Z=T.useCallback(k=>{if(b!==null)for(const A of Object.keys(b)){const[O,le,Ge]=b[A];if(k>=O&&k<=le)return A}return null},[b]);let p=[];const[f,G,V,X,L]=cae(e,t,r);T.useEffect(()=>{a||s(V)},[V,a,s]);const x=T.useCallback(k=>t.xBounds[0]+(k-t.ntBounds[0])/(t.ntBounds[1]-t.ntBounds[0])*(t.xBounds[1]-t.xBounds[0])-3,[t.xBounds,t.ntBounds]),v=T.useCallback(k=>{if(k.gene==="nt")return k.residue_pos-1;if(k.nuc_for_codon!==void 0)return k.nuc_for_codon-1;if(b!==null)return b[k.gene][0]+(k.residue_pos-1)*3-1},[b]),C={onHover:k=>l(k),pickable:!0,getColor:k=>b!==null?k.m.new_residue!==a.aa[k.m.gene+":"+k.m.residue_pos]?i.toRGB(k.m.new_residue):b[k.m.gene][2].map(A=>245-.2*(245-A)):k.m.new_residue!==a.aa[k.m.gene+":"+k.m.residue_pos]?i.toRGB(k.m.new_residue):[245,245,245],modelMatrix:u,getSourcePosition:k=>{if(!t.ntBounds)return[[0,0]];let A=k.m,O=v(A);return O<t.ntBounds[0]||O>t.ntBounds[1]?[[0,0]]:[x(O)+m/2,k.y[0]-d]},getTargetPosition:k=>{if(!t.ntBounds)return[[0,0]];let A=k.m,O=v(A);return O<t.ntBounds[0]||O>t.ntBounds[1]?[[0,0]]:[x(O)+m/2,k.y[1]+d]},getWidth:k=>m,updateTriggers:{getTargetPosition:[t.ntBounds,v,x,d,m],getSourcePosition:[t.ntBounds,v,x,d,m],getWidth:[m],getColor:[a,i,b]},getPolygonOffset:c},w={layerType:"LineLayer",...C,data:f,id:"browser-loaded-main-aa"},z={layerType:"LineLayer",...C,data:X,id:"browser-fillin-aa"},$={onHover:k=>l(k),pickable:!0,getColor:k=>{let A=[0,0,0];switch(k.m.new_residue){case"A":A=[0,0,0];break;case"C":A=[60,60,60];break;case"G":A=[120,120,120];break;case"T":A=[180,180,180];break;default:A=[0,0,0];break}if(b!==null&&k.m.new_residue===a.nt[k.m.residue_pos]){const O=Z(k.m.residue_pos);if(O!==null)return b[O][2].map(le=>245-.2*(245-le))}return A},modelMatrix:u,getSourcePosition:k=>{if(!t.ntBounds)return[[0,0]];let A=k.m,O=v(A);return O<t.ntBounds[0]||O>t.ntBounds[1]?[[0,0]]:[x(O)+h/2,k.y[0]-d]},getTargetPosition:k=>{if(!t.ntBounds)return[[0,0]];let A=k.m,O=v(A);return O<t.ntBounds[0]||O>t.ntBounds[1]?[[0,0]]:[x(O)+h/2,k.y[1]+d]},getWidth:k=>h,updateTriggers:{getTargetPosition:[t.ntBounds,v,x,d,h],getSourcePosition:[t.ntBounds,v,x,d,h],getWidth:[h],getColor:[a,i,b]},getPolygonOffset:c},ee={layerType:"LineLayer",...$,data:G,id:"browser-loaded-main-nt"},D={layerType:"LineLayer",...$,data:L,id:"browser-fillin-nt"},j=T.useMemo(()=>{if(!r.treenomeEnabled||b===null)return[];let k=[];for(let A of Object.keys(b)){if(A==="ORF1ab")continue;const O=b[A],le=t.yBounds[1];k.push({x:[[x(O[0]-1),-3e3],[x(O[0]-1),le*4],[x(O[1]-1),le*4],[x(O[1]-1),-3e3]],c:O[2]})}return k},[b,x,t.yBounds,r.treenomeEnabled]),_=T.useMemo(()=>{if(!o.nodeDetails||d===0)return[];if(e.data&&e.data.nodes&&e.data.nodes.length>500)return[];const k=o.nodeDetails.y;return[{p:[[x(0),k-d],[x(0),k+d],[x(t.genomeSize),k+d],[x(t.genomeSize),k-d]]}]},[o,x,d,e.data,t.genomeSize]),ce=T.useMemo(()=>{const k=t.yBounds[1];return[[[t.xBounds[0],-3e3],[t.xBounds[0],k*4],[t.xBounds[1],k*4],[t.xBounds[1],-3e3]]]},[t.xBounds,t.yBounds]),E=T.useMemo(()=>{const k=t.yBounds[1];return[{x:[[x(0),-3e3],[x(0),k*4],[x(t.genomeSize),k*4],[x(t.genomeSize),-3e3]],c:[245,245,245]}]},[t.yBounds,t.genomeSize,x]);if(!r.treenomeEnabled)return[];const H={layerType:"PolygonLayer",id:"browser-loaded-background",data:ce,getPolygon:k=>k,modelMatrix:u,lineWidthUnits:"pixels",getLineWidth:0,filled:!0,pickable:!1,getFillColor:[224,224,224],getPolygonOffset:c},de={layerType:"SolidPolygonLayer",id:"browser-loaded-dynamic-background-sublayer",data:E,getPolygon:k=>k.x,getFillColor:k=>k.c,getPolygonOffset:c,modelMatrix:u},ue={layerType:"SolidPolygonLayer",id:"browser-loaded-dynamic-background",data:j,modelMatrix:u,getPolygon:k=>k.x,getFillColor:k=>[...k.c,.2*255],getPolygonOffset:c},U={layerType:"PolygonLayer",id:"browser-loaded-outline",data:[{x:[[x(0),t.baseYBounds[0]],[x(0),t.baseYBounds[1]],[x(t.genomeSize),t.baseYBounds[1]],[x(t.genomeSize),t.baseYBounds[0]]]}],getPolygon:k=>k.x,modelMatrix:u,lineWidthUnits:"pixels",getLineWidth:1,getLineColor:[100,100,100],opacity:.1,filled:!1,pickable:!1,getPolygonOffset:c},Q={layerType:"PolygonLayer",id:"browser-loaded-selected-node",data:_,getPolygon:k=>k.p,modelMatrix:u,lineWidthUnits:"pixels",getLineWidth:.4,opacity:.1,filled:!0,getFillColor:[240,240,240],pickable:!1,getPolygonOffset:c};return p.push(H),p.push(de),p.push(ue),p.push(U),r.mutationTypesEnabled.aa&&(p.push(z),p.push(w)),r.mutationTypesEnabled.nt&&(p.push(D),p.push(ee)),p.push(Q),p},dae=(t,e)=>{const n=(a,s)=>typeof a=="function"?a(s):a,i=(a,s,o)=>(a-s)/(o-s),l=(a,s,o,c)=>{const u=m=>{const h=s.min_y,b=s.max_y,Z=s.min_x,p=s.max_x,f=m,G=i(f[0],Z,p),V=i(f[1],h,b);return[G*o,V*c]};if(!s.min_x)return window.alert("Please zoom in and out a little before SVG export"),!1;let d=`<svg xmlns='http://www.w3.org/2000/svg' width="${o}" height="${c}">`;for(const m of a)if(m.id.startsWith("main"))switch(m.layerType){case"ScatterplotLayer":for(const h of m.data){const[b,Z]=u(m.getPosition(h));if(b===null||Z===null)continue;const p=m.getFillColor?m.getFillColor:m.getColor;let f;if(!p)f="none";else{const L=n(p,h);L.length===4?(f=`rgba(${L.join(",")})`,L[3]===0&&(f="none")):L.length===3?f=`rgb(${L.join(",")})`:console.warn("Unsupported color format")}let G,V;m.stroked&&(G=n(m.getLineColor,h).join(","),V=n(m.getLineWidth,h));const X=n(m.getRadius,h);d+=`<circle cx="${b}" cy="${Z}" r="${X}" fill="${f}"
            ${m.stroked?`stroke="rgb(${G})" stroke-width="${V}"`:""} />`}break;case"LineLayer":for(const h of m.data){const[b,Z]=u(m.getSourcePosition(h)),[p,f]=u(m.getTargetPosition(h));if(b===null||Z===null||p===null||f===null)continue;const G=m.getLineColor?m.getLineColor:m.getColor,V=n(G,h).join(","),X=n(m.getWidth,h);d+=`<line x1="${b}" y1="${Z}" x2="${p}" y2="${f}" stroke="rgb(${V})" stroke-width="${X}" />`}break;case"TextLayer":for(const h of m.data){const b=m.getPosition(h),Z=u(b),[p,f]=Z,G=n(m.getSize,h),V=n(m.getAlignmentBaseline,h),X=n(m.getTextAnchor,h),L=n(m.getPixelOffset,h),x=n(m.getColor,h).join(","),v=`<text x="${p}" y="${f}" font-family="${m.fontFamily}" font-weight="${m.fontWeight}" fill="rgb(${x})"
            font-size="${G}" text-anchor="${X}" alignment-baseline="${V}" dx="${L[0]}" dy="${L[1]}"
            >${m.getText(h)}</text>`;d+=v}break;default:console.warn(`Unsupported layer type: ${m.layerType}`);break}return d+="</svg>",d};function r(a){a||(a={width:600,height:600});const s=a.width,o=a.height,c=l(t,e,s,o);if(!c)return;const u=new Blob([c],{type:"image/svg+xml"}),d=document.createElement("a");d.style.display="none",document.body.appendChild(d);const m=window.URL.createObjectURL(u);d.href=m;const h=new Date().toISOString().replace(/:/g,"-");d.download=`taxonium-${h}.svg`,d.click(),window.URL.revokeObjectURL(m)}return{triggerSVGdownload:r}},mae=(t,e,n,i)=>{const l={};for(const s of n.nodes){const o=t(s,n);o in l?l[o]++:l[o]=1}const r=Object.keys(l),a=[];for(const s of r)a.push({value:s,count:l[s],color:i(s)});return a},hae=({data:t,search:e,viewState:n,colorHook:i,setHoverInfo:l,hoverInfo:r,colorBy:a,xType:s,modelMatrix:o,selectedDetails:c,xzoom:u,settings:d,isCurrentlyOutsideBounds:m,config:h,treenomeState:b,treenomeReferenceInfo:Z,setTreenomeReferenceInfo:p,hoveredKey:f})=>{const G=d.lineColor,V=a.getNodeColorField,X=a.colorByField,{toRGB:L}=i,x=[],v=uae(b,t,n,i,l,d,Z,p,c);x.push(...v);const C=T.useCallback(W=>W[s],[s]),w=T.useMemo(()=>t.data&&t.data.nodes?(t.data.nodes.forEach(W=>{W.parent_x=C(t.data.nodeLookup[W.parent_id]),W.parent_y=t.data.nodeLookup[W.parent_id].y}),t.data):{nodes:[],nodeLookup:{}},[t.data,C]),z=T.useMemo(()=>mae(V,X,w,L),[w,V,X,L]),$="pango",ee=T.useMemo(()=>w.nodes.filter(M=>M.clades&&M.clades[$]).sort((M,J)=>J.num_tips-M.num_tips).slice(0,d.maxCladeTexts),[w.nodes,d.maxCladeTexts,$]),D=T.useMemo(()=>t.base_data&&t.base_data.nodes?(t.base_data.nodes.forEach(W=>{W.parent_x=C(t.base_data.nodeLookup[W.parent_id]),W.parent_y=t.base_data.nodeLookup[W.parent_id].y}),{nodes:t.base_data.nodes,nodeLookup:t.base_data.nodeLookup}):{nodes:[],nodeLookup:{}},[t.base_data,C]),j=T.useMemo(()=>w.nodes.filter(W=>W.is_tip||W.is_tip===void 0&&W.num_tips===1||d.displayPointsForInternalNodes),[w,d.displayPointsForInternalNodes]),_=T.useMemo(()=>D?D.nodes.filter(W=>W.is_tip||W.is_tip===void 0&&W.num_tips===1||d.displayPointsForInternalNodes):[],[D,d.displayPointsForInternalNodes]),ce=[[-1e5,-1e5],[1e5,-1e5],[1e6,1e6],[-1e5,1e6],[-1e5,-1e5]],E=[[n.min_x,n.min_y<-1e3?-1e3:n.min_y],[n.max_x,n.min_y<-1e3?-1e3:n.min_y],[n.max_x,n.max_y>1e4?1e4:n.max_y],[n.min_x,n.max_y>1e4?1e4:n.max_y]],H=[[ce,E]],de={getPosition:W=>[C(W),W.y],getFillColor:W=>L(V(W,w)),getRadius:d.nodeSize,getLineColor:[100,100,100],opacity:d.opacity,stroked:t.data.nodes&&t.data.nodes.length<3e3,lineWidthUnits:"pixels",lineWidthScale:1,pickable:!0,radiusUnits:"pixels",onHover:W=>l(W),modelMatrix:o,updateTriggers:{getFillColor:[w,V,i],getRadius:[d.nodeSize],getPosition:[s]}},ue={getSourcePosition:W=>[C(W),W.y],getTargetPosition:W=>[W.parent_x,W.y],getColor:G,pickable:!0,widthUnits:"pixels",getWidth:W=>W===(r&&r.object)?3:c.nodeDetails&&c.nodeDetails.node_id===W.node_id?3.5:1,onHover:W=>l(W),modelMatrix:o,updateTriggers:{getSourcePosition:[w,s],getTargetPosition:[w,s],getWidth:[r,c.nodeDetails]}},U={getSourcePosition:W=>[W.parent_x,W.y],getTargetPosition:W=>[W.parent_x,W.parent_y],onHover:W=>l(W),getColor:G,pickable:!0,getWidth:W=>W===(r&&r.object)?2:c.nodeDetails&&c.nodeDetails.node_id===W.node_id?2.5:1,modelMatrix:o,updateTriggers:{getSourcePosition:[w,s],getTargetPosition:[w,s],getWidth:[r,c.nodeDetails]}};if(w.nodes){const W={layerType:"ScatterplotLayer",...de,id:"main-scatter",data:j},y=d.prettyStroke.enabled?{...W,getFillColor:d.prettyStroke.color,getLineWidth:0,getRadius:W.getRadius+d.prettyStroke.width}:null,g={layerType:"ScatterplotLayer",...de,id:"fillin-scatter",data:_,getFillColor:Ke=>L(V(Ke,D))},M={layerType:"LineLayer",...ue,id:"main-line-horiz",data:w.nodes},J={layerType:"LineLayer",...U,id:"main-line-vert",data:w.nodes},B={layerType:"LineLayer",...ue,id:"fillin-line-horiz",data:D.nodes},ne={layerType:"LineLayer",...U,id:"fillin-line-vert",data:D.nodes},Se={layerType:"ScatterplotLayer",data:c.nodeDetails?[c.nodeDetails]:[],visible:!0,opacity:1,getRadius:6,radiusUnits:"pixels",id:"main-selected",filled:!1,stroked:!0,modelMatrix:o,getLineColor:[0,0,0],getPosition:Ke=>[Ke[s],Ke.y],lineWidthUnits:"pixels",lineWidthScale:2},Ee={layerType:"ScatterplotLayer",data:r&&r.object?[r.object]:[],visible:!0,opacity:.3,getRadius:4,radiusUnits:"pixels",id:"main-hovered",filled:!1,stroked:!0,modelMatrix:o,getLineColor:[0,0,0],getPosition:Ke=>[Ke[s],Ke.y],lineWidthUnits:"pixels",lineWidthScale:2},Fe={layerType:"TextLayer",id:"main-clade-node",getPixelOffset:[-5,-6],data:ee,getPosition:Ke=>[C(Ke),Ke.y],getText:Ke=>Ke.clades[$],getColor:d.cladeLabelColor,getAngle:0,fontFamily:"Roboto, sans-serif",fontWeight:700,billboard:!0,getTextAnchor:"end",getAlignmentBaseline:"center",getSize:11,modelMatrix:o,updateTriggers:{getPosition:[C]}};x.push(M,J,B,ne,y,W,g,Fe,Se,Ee)}const Q=h.num_tips/2**n.zoom;if(t.data.nodes&&Q<.8*10**d.thresholdForDisplayingText){const W={layerType:"TextLayer",id:"main-text-node",fontFamily:"Roboto, sans-serif",fontWeight:100,data:t.data.nodes.filter(y=>d.displayTextForInternalNodes?!0:y.is_tip||y.is_tip===void 0&&y.num_tips===1),getPosition:y=>[C(y),y.y],getText:y=>y[h.name_accessor],getColor:d.terminalNodeLabelColor,getAngle:0,billboard:!0,getTextAnchor:"start",getAlignmentBaseline:"center",getSize:t.data.nodes.length<200?12:9.5,modelMatrix:o,getPixelOffset:[10,0]};x.push(W)}const k={layerType:"ScatterplotLayer",id:"minimap-scatter",data:_,getPolygonOffset:({layerIndex:W})=>[0,-4e3],getPosition:W=>[C(W),W.y],getFillColor:W=>L(V(W,D)),getRadius:2,getLineColor:[100,100,100],opacity:.6,radiusUnits:"pixels",onHover:W=>l(W),updateTriggers:{getFillColor:[D,V],getPosition:[_,s]}},A={layerType:"LineLayer",id:"minimap-line-horiz",getPolygonOffset:({layerIndex:W})=>[0,-4e3],data:D.nodes,getSourcePosition:W=>[C(W),W.y],getTargetPosition:W=>[W.parent_x,W.y],getColor:G,updateTriggers:{getSourcePosition:[D,s],getTargetPosition:[D,s]}},O={layerType:"LineLayer",id:"minimap-line-vert",getPolygonOffset:({layerIndex:W})=>[0,-4e3],data:D.nodes,getSourcePosition:W=>[W.parent_x,W.y],getTargetPosition:W=>[W.parent_x,W.parent_y],getColor:G,updateTriggers:{getSourcePosition:[D,s],getTargetPosition:[D,s]}},le={layerType:"PolygonLayer",id:"minimap-bound-background",data:[ce],getPolygon:W=>W,pickable:!0,stroked:!0,opacity:.3,filled:!0,getPolygonOffset:({layerIndex:W})=>[0,-2e3],getFillColor:W=>[255,255,255]},Ge={layerType:"PolygonLayer",id:"minimap-bound-line",data:H,getPolygon:W=>W,pickable:!0,stroked:!0,opacity:.3,filled:!0,wireframe:!0,getFillColor:W=>[240,240,240],getLineColor:[80,80,80],getLineWidth:1,lineWidthUnits:"pixels",getPolygonOffset:({layerIndex:W})=>[0,-6e3]},{searchSpec:ve,searchResults:fe,searchesEnabled:Pe}=e,xe=ve.map((W,y)=>{const g=fe[W.key]?fe[W.key].result.data:[],M=e.getLineColor(y);return{layerType:"ScatterplotLayer",data:g,id:"main-search-scatter-"+W.key,getPosition:J=>[J[s],J.y],getLineColor:d.displaySearchesAsPoints?[0,0,0]:M,getRadius:d.displaySearchesAsPoints?d.searchPointSize:5+2*y,radiusUnits:"pixels",lineWidthUnits:"pixels",stroked:!0,visible:Pe[W.key],wireframe:!0,getLineWidth:1,filled:!0,getFillColor:d.displaySearchesAsPoints?M:[255,0,0,0],modelMatrix:o,updateTriggers:{getPosition:[s]}}}),je=ve.map((W,y)=>{const g=fe[W.key]?fe[W.key].overview:[],M=e.getLineColor(y);return{layerType:"ScatterplotLayer",data:g,getPolygonOffset:({layerIndex:J})=>[0,-9e3],id:"mini-search-scatter-"+W.key,visible:Pe[W.key],getPosition:J=>[J[s],J.y],getLineColor:M,getRadius:5+2*y,radiusUnits:"pixels",lineWidthUnits:"pixels",stroked:!0,wireframe:!0,getLineWidth:1,filled:!1,getFillColor:[255,0,0,0],updateTriggers:{getPosition:[s]}}});x.push(...xe,...je),x.push(le),x.push(A,O,k),x.push(Ge);const Le=T.useCallback(({layer:W,viewport:y,renderPass:g})=>W.id.startsWith("main")&&y.id==="main"||W.id.startsWith("mini")&&y.id==="minimap"||W.id.startsWith("fillin")&&y.id==="main"&&m||W.id.startsWith("browser-loaded")&&y.id==="browser-main"||W.id.startsWith("browser-fillin")&&y.id==="browser-main"&&m,[m]),ct=x.filter(W=>W!==null).map(W=>{if(W.layerType==="ScatterplotLayer")return new ZV(W);if(W.layerType==="LineLayer")return new pV(W);if(W.layerType==="PolygonLayer")return new GV(W);if(W.layerType==="TextLayer")return new VV(W);if(W.layerType==="SolidPolygonLayer")return new AZ(W);console.log("could not map layer spec for ",W)}),{triggerSVGdownload:ni}=dae(x.filter(W=>W!==null),n);return{layers:ct,layerFilter:Le,keyStuff:z,triggerSVGdownload:ni}};var bae={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function pae(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var i=(t.match(/[^0-9]*$/)||"").toString();return bae[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function l9(t){var e=pae(t);return"".concat(e.value).concat(e.unit)}var Zae=function(t,e,n){var i="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return i;var l=document.createElement("style");document.head.appendChild(l);var r=l.sheet,a=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return r&&r.insertRule(a,0),i},Sp=globalThis&&globalThis.__assign||function(){return Sp=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},Sp.apply(this,arguments)},fae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(n[i[l]]=t[i[l]]);return n},yae=Zae("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function TV(t){var e=t.loading,n=e===void 0?!0:e,i=t.color,l=i===void 0?"#000000":i,r=t.speedMultiplier,a=r===void 0?1:r,s=t.cssOverride,o=s===void 0?{}:s,c=t.size,u=c===void 0?35:c,d=fae(t,["loading","color","speedMultiplier","cssOverride","size"]),m=Sp({background:"transparent !important",width:l9(u),height:l9(u),borderRadius:"100%",border:"2px solid",borderTopColor:l,borderBottomColor:"transparent",borderLeftColor:l,borderRightColor:l,display:"inline-block",animation:"".concat(yae," ").concat(.75/a,"s 0s infinite linear"),animationFillMode:"both"},o);return n?T.createElement("span",Sp({style:m},d)):null}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var t1=function(t,e){return t1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)i.hasOwnProperty(l)&&(n[l]=i[l])},t1(t,e)};function Gae(t,e){t1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var n1=function(){return n1=Object.assign||function(e){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n1.apply(this,arguments)};function Xae(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&(n[i[l]]=t[i[l]]);return n}var gae=100,Wae=100,r9=50,i1=50,l1=50;function a9(t){var e=t.className,n=t.counterClockwise,i=t.dashRatio,l=t.pathRadius,r=t.strokeWidth,a=t.style;return T.createElement("path",{className:e,style:Object.assign({},a,Tae({pathRadius:l,dashRatio:i,counterClockwise:n})),d:Vae({pathRadius:l,counterClockwise:n}),strokeWidth:r,fillOpacity:0})}function Vae(t){var e=t.pathRadius,n=t.counterClockwise,i=e,l=n?1:0;return`
      M `+i1+","+l1+`
      m 0,-`+i+`
      a `+i+","+i+" "+l+" 1 1 0,"+2*i+`
      a `+i+","+i+" "+l+" 1 1 0,-"+2*i+`
    `}function Tae(t){var e=t.counterClockwise,n=t.dashRatio,i=t.pathRadius,l=Math.PI*2*i,r=(1-n)*l;return{strokeDasharray:l+"px "+l+"px",strokeDashoffset:(e?-r:r)+"px"}}var xae=function(t){Gae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return r9-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var n=this.props,i=n.value,l=n.minValue,r=n.maxValue,a=Math.min(Math.max(i,l),r);return(a-l)/(r-l)},e.prototype.render=function(){var n=this.props,i=n.circleRatio,l=n.className,r=n.classes,a=n.counterClockwise,s=n.styles,o=n.strokeWidth,c=n.text,u=this.getPathRadius(),d=this.getPathRatio();return T.createElement("svg",{className:r.root+" "+l,style:s.root,viewBox:"0 0 "+gae+" "+Wae,"data-test-id":"CircularProgressbar"},this.props.background?T.createElement("circle",{className:r.background,style:s.background,cx:i1,cy:l1,r:r9}):null,T.createElement(a9,{className:r.trail,counterClockwise:a,dashRatio:i,pathRadius:u,strokeWidth:o,style:s.trail}),T.createElement(a9,{className:r.path,counterClockwise:a,dashRatio:d*i,pathRadius:u,strokeWidth:o,style:s.path}),c?T.createElement("text",{className:r.text,style:s.text,x:i1,y:l1},c):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(T.Component);function Rae(t){t.children;var e=Xae(t,["children"]);return T.createElement("div",{"data-test-id":"CircularProgressbarWithChildren"},T.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},T.createElement(xae,n1({},e)),t.children?T.createElement("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},t.children):null))}function Sae(t){var e=t.rotation,n=t.strokeLinecap,i=t.textColor,l=t.textSize,r=t.pathColor,a=t.pathTransition,s=t.pathTransitionDuration,o=t.trailColor,c=t.backgroundColor,u=e==null?void 0:"rotate("+e+"turn)",d=e==null?void 0:"center center";return{root:{},path:gh({stroke:r,strokeLinecap:n,transform:u,transformOrigin:d,transition:a,transitionDuration:s==null?void 0:s+"s"}),trail:gh({stroke:o,strokeLinecap:n,transform:u,transformOrigin:d}),text:gh({fill:i,fontSize:l}),background:gh({fill:c})}}function gh(t){return Object.keys(t).forEach(function(e){t[e]==null&&delete t[e]}),t}const Yae=t=>T.useCallback(()=>{let n=t.current.deck.canvas;t.current.deck.redraw(!0);let i=document.createElement("a");i.href=n.toDataURL("image/png").replace("image/png","image/octet-stream"),i.download="taxonium.png",i.click()},[t]),Lae=t=>t,Mae=t=>t.replace(/,([^\s])/g,", $1"),Nae=({hoverInfo:t,hoverDetails:e,colorHook:n,colorBy:i,config:l,filterMutations:r,deckSize:a})=>{const s=T.useMemo(()=>t&&t.object&&t.object.mutations?t.object.mutations.sort((b,Z)=>b.gene!==Z.gene?b.gene>Z.gene?1:-1:parseInt(b.residue_pos)>parseInt(Z.residue_pos)?1:-1):[],[t]),o=T.useMemo(()=>r(s),[s,r]);if(!t)return null;const c=t.object;if(!c||c.node_id===void 0||c.node_id===null)return null;const u=t.y>a.height*.66,d=t.x>a.width*.66,m={position:"absolute",zIndex:1,pointerEvents:"none"};return u?m.bottom=a.height-t.y+5:m.top=t.y+5,d?m.right=a.width-t.x+5:m.left=t.x+5,N.jsxs("div",{className:"bg-gray-100 p-3 opacity-90 text-sm",style:{...m},children:[N.jsx("h2",{className:"font-bold whitespace-pre-wrap",children:c[l.name_accessor]!==""?Lae(c[l.name_accessor]):N.jsx("i",{children:"Internal node"})}),c.meta_ThumbnailURL&&N.jsx("img",{src:c.meta_ThumbnailURL,alt:"thumbnail"}),i.colorByField==="genotype"&&N.jsxs("span",{style:{color:n.toRGBCSS(i.getNodeColorField(c))},children:[i.colorByGene,":",i.colorByPosition,i.getNodeColorField(c)]}),l.keys_to_display.map(h=>c[h]&&!(l.metadataTypes&&l.metadataTypes[h]==="sequence")&&!(typeof c[h]=="string"&&c[h].match(/\[.*\]\(.*\)/))&&N.jsx("div",{children:i.colorByField===h?N.jsx("span",{style:{color:n.toRGBCSS(c[h])},children:c[h]}):c[h]},h)),l.mutations.length>0&&N.jsx("div",{children:N.jsxs("div",{className:"mutations text-xs",children:[o.map((h,b)=>N.jsxs("span",{children:[b>0&&N.jsx(N.Fragment,{children:", "}),N.jsxs("div",{className:"inline-block",children:[h.gene,":",h.previous_residue,h.residue_pos,h.new_residue]})]},h.mutation_id)),o.length===0&&N.jsxs("div",{className:"text-xs italic",children:["No"," ",r([{type:"nt"}]).length===0?N.jsx(N.Fragment,{children:"coding"}):N.jsx(N.Fragment,{})," ","mutations"]})]})}),e&&e.nodeDetails&&e.nodeDetails.acknowledgements&&N.jsxs("div",{className:"text-xs mt-3  mr-3",children:[N.jsxs("div",{className:"mt-1",children:[N.jsx("b",{className:"font-semibold",children:"Originating laboratory:"})," ",e.nodeDetails.acknowledgements.covv_orig_lab]}),N.jsxs("div",{className:"mt-1",children:[N.jsx("b",{className:"font-semibold",children:"Submitting laboratory:"})," ",e.nodeDetails.acknowledgements.covv_subm_lab]}),N.jsxs("div",{className:"mt-1 justify",children:[N.jsx("b",{className:"font-semibold",children:"Authors:"})," ",Mae(e.nodeDetails.acknowledgements.covv_authors)]})]}),window.show_ids?N.jsx("div",{className:"mt-3 text-xs text-gray-400",children:c.node_id}):null]})},vae=({hoverInfo:t,hoverDetails:e,colorHook:n,colorBy:i,config:l,treenomeReferenceInfo:r})=>{if(!t||!r)return null;const a=t.object;if(!a||!a.m)return null;const s=a.m.type==="aa",o=s?a.m.gene+":"+a.m.residue_pos:a.m.residue_pos;return s&&a.m.new_residue===r.aa[o]||!s&&a.m.new_residue===r.nt[o]?null:N.jsxs("div",{className:"bg-gray-100 p-3 opacity-90 text-sm",style:{position:"absolute",zIndex:1,pointerEvents:"none",left:t.x,top:t.y},children:[N.jsx("h2",{className:"font-bold whitespace-pre-wrap"}),N.jsx("div",{children:N.jsx("div",{className:"mutations text-xs",children:N.jsxs("div",{className:"inline-block",children:[N.jsxs("span",{children:[a.m.gene,":"]}),N.jsx("span",{style:{},children:r[s?"aa":"nt"][o]}),N.jsx("span",{children:a.m.residue_pos}),N.jsx("span",{style:{},children:a.m.new_residue})]})})})]})};var cC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s9=S.createContext&&S.createContext(cC),Mr=globalThis&&globalThis.__assign||function(){return Mr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},Mr.apply(this,arguments)},Iae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(n[i[l]]=t[i[l]]);return n};function uC(t){return t&&t.map(function(e,n){return S.createElement(e.tag,Mr({key:n},e.attr),uC(e.child))})}function ea(t){return function(e){return S.createElement(wae,Mr({attr:Mr({},t.attr)},e),uC(t.child))}}function wae(t){var e=function(n){var i=t.attr,l=t.size,r=t.title,a=Iae(t,["attr","size","title"]),s=l||n.size||"1em",o;return n.className&&(o=n.className),t.className&&(o=(o?o+" ":"")+t.className),S.createElement("svg",Mr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:o,style:Mr(Mr({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),r&&S.createElement("title",null,r),t.children)};return s9!==void 0?S.createElement(s9.Consumer,null,function(n){return e(n)}):e(cC)}function Jae(t){return ea({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 8c-2.168 0-4 1.832-4 4s1.832 4 4 4 4-1.832 4-4-1.832-4-4-4zm0 6c-1.065 0-2-.935-2-2s.935-2 2-2 2 .935 2 2-.935 2-2 2z"}},{tag:"path",attr:{d:"M20 5h-2.586l-2.707-2.707A.996.996 0 0 0 14 2h-4a.996.996 0 0 0-.707.293L6.586 5H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zM4 18V7h3c.266 0 .52-.105.707-.293L10.414 4h3.172l2.707 2.707A.996.996 0 0 0 17 7h3l.002 11H4z"}}]})(t)}function o9(t){return ea({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17 11H7V7l-5 5 5 5v-4h10v4l5-5-5-5z"}}]})(t)}function c9(t){return ea({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17 5 5 5-5h-4V7h4l-5-5-5 5h4v10z"}}]})(t)}function u9(t){return ea({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 6H9v3H6v2h3v3h2v-3h3V9h-3z"}},{tag:"path",attr:{d:"M10 2c-4.411 0-8 3.589-8 8s3.589 8 8 8a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8zm0 14c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z"}}]})(t)}function d9(t){return ea({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 9h8v2H6z"}},{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}}]})(t)}function Cae(t){return ea({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M9 1H1V9H9V6H11V20H15V23H23V15H15V18H13V6H15V9H23V1H15V4H9V1ZM21 3H17V7H21V3ZM17 17H21V21H17V17Z",fill:"currentColor"}}]})(t)}function dC(t){return ea({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.387 17.548l.371 1.482c.133.533.692.97 1.242.97h1c.55 0 1.109-.437 1.242-.97l.371-1.482c.133-.533.675-.846 1.203-.694l1.467.42c.529.151 1.188-.114 1.462-.591l.5-.867c.274-.477.177-1.179-.219-1.562l-1.098-1.061c-.396-.383-.396-1.008.001-1.39l1.096-1.061c.396-.382.494-1.084.22-1.561l-.501-.867c-.275-.477-.933-.742-1.461-.591l-1.467.42c-.529.151-1.07-.161-1.204-.694l-.37-1.48c-.133-.532-.692-.969-1.242-.969h-1c-.55 0-1.109.437-1.242.97l-.37 1.48c-.134.533-.675.846-1.204.695l-1.467-.42c-.529-.152-1.188.114-1.462.59l-.5.867c-.274.477-.177 1.179.22 1.562l1.096 1.059c.395.383.395 1.008 0 1.391l-1.098 1.061c-.395.383-.494 1.085-.219 1.562l.501.867c.274.477.933.742 1.462.591l1.467-.42c.528-.153 1.07.16 1.203.693zm2.113-7.048c1.104 0 2 .895 2 2 0 1.104-.896 2-2 2s-2-.896-2-2c0-1.105.896-2 2-2z"}}]})(t)}function kae(t){return ea({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}}]})(t)}const ma=({children:t,onClick:e,title:n})=>N.jsx("button",{className:` w-12 h-10 bg-gray-100 p-1 rounded border-gray-300 text-gray-700  opacity-70  hover:opacity-100 mr-1 z-50 mt-auto mb-1
        shadow-md `,onClick:e,title:n,style:{pointerEvents:"auto"},children:t});var Eae=Object.defineProperty,Kae=(t,e,n)=>e in t?Eae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oy=(t,e,n)=>(Kae(t,typeof e!="symbol"?e+"":e,n),n);let Uae=class{constructor(){oy(this,"current",this.detect()),oy(this,"handoffState","pending"),oy(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Sl=new Uae,An=(t,e)=>{Sl.isServer?T.useEffect(t,e):T.useLayoutEffect(t,e)};function Yl(t){let e=T.useRef(t);return An(()=>{e.current=t},[t]),e}let st=function(t){let e=Yl(t);return S.useCallback((...n)=>e.current(...n),[e])};function _Z(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function cs(){let t=[],e={addEventListener(n,i,l,r){return n.addEventListener(i,l,r),e.add(()=>n.removeEventListener(i,l,r))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return _Z(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,l){let r=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:l}),this.add(()=>{Object.assign(n.style,{[i]:r})})},group(n){let i=cs();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let l of t.splice(i,1))l()}},dispose(){for(let n of t.splice(0))n()}};return e}function xV(){let[t]=T.useState(cs);return T.useEffect(()=>()=>t.dispose(),[t]),t}function Pae(){let t=typeof document>"u";return"useSyncExternalStore"in _u?(e=>e.useSyncExternalStore)(_u)(()=>()=>{},()=>!1,()=>!t):!1}function pc(){let t=Pae(),[e,n]=T.useState(Sl.isHandoffComplete);return e&&Sl.isHandoffComplete===!1&&n(!1),T.useEffect(()=>{e!==!0&&n(!0)},[e]),T.useEffect(()=>Sl.handoff(),[]),t?!1:e}var m9;let Zc=(m9=S.useId)!=null?m9:function(){let t=pc(),[e,n]=S.useState(t?()=>Sl.nextId():null);return An(()=>{e===null&&n(Sl.nextId())},[e]),e!=null?""+e:void 0};function Kt(t,e,...n){if(t in e){let l=e[t];return typeof l=="function"?l(...n):l}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Kt),i}function mC(t){return Sl.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let r1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var fa=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(fa||{}),hC=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(hC||{}),Fae=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Fae||{});function zae(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(r1)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var bC=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(bC||{});function jae(t,e=0){var n;return t===((n=mC(t))==null?void 0:n.body)?!1:Kt(e,{0(){return t.matches(r1)},1(){let i=t;for(;i!==null;){if(i.matches(r1))return!0;i=i.parentElement}return!1}})}var Hae=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Hae||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ja(t){t==null||t.focus({preventScroll:!0})}let Dae=["textarea","input"].join(",");function Oae(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Dae))!=null?n:!1}function Bae(t,e=n=>n){return t.slice().sort((n,i)=>{let l=e(n),r=e(i);if(l===null||r===null)return 0;let a=l.compareDocumentPosition(r);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function bb(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:l=[]}={}){let r=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,a=Array.isArray(t)?n?Bae(t):t:zae(t);l.length>0&&a.length>1&&(a=a.filter(h=>!l.includes(h))),i=i??r.activeElement;let s=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(i))-1;if(e&4)return Math.max(0,a.indexOf(i))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,d=a.length,m;do{if(u>=d||u+d<=0)return 0;let h=o+u;if(e&16)h=(h+d)%d;else{if(h<0)return 3;if(h>=d)return 1}m=a[h],m==null||m.focus(c),u+=s}while(m!==r.activeElement);return e&6&&Oae(m)&&m.select(),2}function pC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Qae(){return/Android/gi.test(window.navigator.userAgent)}function Aae(){return pC()||Qae()}function Wh(t,e,n){let i=Yl(e);T.useEffect(()=>{function l(r){i.current(r)}return document.addEventListener(t,l,n),()=>document.removeEventListener(t,l,n)},[t,n])}function ZC(t,e,n){let i=Yl(e);T.useEffect(()=>{function l(r){i.current(r)}return window.addEventListener(t,l,n),()=>window.removeEventListener(t,l,n)},[t,n])}function _ae(t,e,n=!0){let i=T.useRef(!1);T.useEffect(()=>{requestAnimationFrame(()=>{i.current=n})},[n]);function l(a,s){if(!i.current||a.defaultPrevented)return;let o=s(a);if(o===null||!o.getRootNode().contains(o)||!o.isConnected)return;let c=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let u of c){if(u===null)continue;let d=u instanceof HTMLElement?u:u.current;if(d!=null&&d.contains(o)||a.composed&&a.composedPath().includes(d))return}return!jae(o,bC.Loose)&&o.tabIndex!==-1&&a.preventDefault(),e(a,o)}let r=T.useRef(null);Wh("pointerdown",a=>{var s,o;i.current&&(r.current=((o=(s=a.composedPath)==null?void 0:s.call(a))==null?void 0:o[0])||a.target)},!0),Wh("mousedown",a=>{var s,o;i.current&&(r.current=((o=(s=a.composedPath)==null?void 0:s.call(a))==null?void 0:o[0])||a.target)},!0),Wh("click",a=>{Aae()||r.current&&(l(a,()=>r.current),r.current=null)},!0),Wh("touchend",a=>l(a,()=>a.target instanceof HTMLElement?a.target:null),!0),ZC("blur",a=>l(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function bm(...t){return T.useMemo(()=>mC(...t),[...t])}let fC=Symbol();function $ae(t,e=!0){return Object.assign(t,{[fC]:e})}function Ri(...t){let e=T.useRef(t);T.useEffect(()=>{e.current=t},[t]);let n=st(i=>{for(let l of e.current)l!=null&&(typeof l=="function"?l(i):l.current=i)});return t.every(i=>i==null||(i==null?void 0:i[fC]))?void 0:n}function RV(t,e){let n=T.useRef([]),i=st(t);T.useEffect(()=>{let l=[...n.current];for(let[r,a]of e.entries())if(n.current[r]!==a){let s=i(e,l);return n.current=e,s}},[i,...e])}function Yp(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Lp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Lp||{}),fr=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(fr||{});function ei({ourProps:t,theirProps:e,slot:n,defaultTag:i,features:l,visible:r=!0,name:a,mergeRefs:s}){s=s??qae;let o=yC(e,t);if(r)return Vh(o,n,i,a,s);let c=l??0;if(c&2){let{static:u=!1,...d}=o;if(u)return Vh(d,n,i,a,s)}if(c&1){let{unmount:u=!0,...d}=o;return Kt(u?0:1,{0(){return null},1(){return Vh({...d,hidden:!0,style:{display:"none"}},n,i,a,s)}})}return Vh(o,n,i,a,s)}function Vh(t,e={},n,i,l){let{as:r=n,children:a,refName:s="ref",...o}=cy(t,["unmount","static"]),c=t.ref!==void 0?{[s]:t.ref}:{},u=typeof a=="function"?a(e):a;"className"in o&&o.className&&typeof o.className=="function"&&(o.className=o.className(e));let d={};if(e){let m=!1,h=[];for(let[b,Z]of Object.entries(e))typeof Z=="boolean"&&(m=!0),Z===!0&&h.push(b);m&&(d["data-headlessui-state"]=h.join(" "))}if(r===T.Fragment&&Object.keys(h9(o)).length>0){if(!T.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(o).map(Z=>`  - ${Z}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Z=>`  - ${Z}`).join(`
`)].join(`
`));let m=u.props,h=typeof(m==null?void 0:m.className)=="function"?(...Z)=>Yp(m==null?void 0:m.className(...Z),o.className):Yp(m==null?void 0:m.className,o.className),b=h?{className:h}:{};return T.cloneElement(u,Object.assign({},yC(u.props,h9(cy(o,["ref"]))),d,c,{ref:l(u.ref,c.ref)},b))}return T.createElement(r,Object.assign({},cy(o,["ref"]),r!==T.Fragment&&c,r!==T.Fragment&&d),u)}function qae(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function yC(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let l in i)l.startsWith("on")&&typeof i[l]=="function"?(n[l]!=null||(n[l]=[]),n[l].push(i[l])):e[l]=i[l];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](l,...r){let a=n[i];for(let s of a){if((l instanceof Event||(l==null?void 0:l.nativeEvent)instanceof Event)&&l.defaultPrevented)return;s(l,...r)}}});return e}function vn(t){var e;return Object.assign(T.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function h9(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function cy(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}let ese="div";var Mp=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Mp||{});function tse(t,e){var n;let{features:i=1,...l}=t,r={ref:e,"aria-hidden":(i&2)===2?!0:(n=l["aria-hidden"])!=null?n:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return ei({ourProps:r,theirProps:l,slot:{},defaultTag:ese,name:"Hidden"})}let a1=vn(tse),SV=T.createContext(null);SV.displayName="OpenClosedContext";var Zn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Zn||{});function YV(){return T.useContext(SV)}function nse({value:t,children:e}){return S.createElement(SV.Provider,{value:t},e)}function ise(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let cr=[];ise(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&cr[0]!==e.target&&(cr.unshift(e.target),cr=cr.filter(n=>n!=null&&n.isConnected),cr.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function lse(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&rse(n)?!1:i}function rse(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var GC=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(GC||{});function XC(t,e,n,i){let l=Yl(n);T.useEffect(()=>{t=t??window;function r(a){l.current(a)}return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)},[t,e,i])}function pm(){let t=T.useRef(!1);return An(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function gC(t){let e=st(t),n=T.useRef(!1);T.useEffect(()=>(n.current=!1,()=>{n.current=!0,_Z(()=>{n.current&&e()})}),[e])}var Xu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Xu||{});function ase(){let t=T.useRef(0);return ZC("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function WC(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let sse="div";var VC=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(VC||{});function ose(t,e){let n=T.useRef(null),i=Ri(n,e),{initialFocus:l,containers:r,features:a=30,...s}=t;pc()||(a=1);let o=bm(n);dse({ownerDocument:o},!!(a&16));let c=mse({ownerDocument:o,container:n,initialFocus:l},!!(a&2));hse({ownerDocument:o,container:n,containers:r,previousActiveElement:c},!!(a&8));let u=ase(),d=st(Z=>{let p=n.current;p&&(f=>f())(()=>{Kt(u.current,{[Xu.Forwards]:()=>{bb(p,fa.First,{skipElements:[Z.relatedTarget]})},[Xu.Backwards]:()=>{bb(p,fa.Last,{skipElements:[Z.relatedTarget]})}})})}),m=xV(),h=T.useRef(!1),b={ref:i,onKeyDown(Z){Z.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(Z){let p=WC(r);n.current instanceof HTMLElement&&p.add(n.current);let f=Z.relatedTarget;f instanceof HTMLElement&&f.dataset.headlessuiFocusGuard!=="true"&&(TC(p,f)||(h.current?bb(n.current,Kt(u.current,{[Xu.Forwards]:()=>fa.Next,[Xu.Backwards]:()=>fa.Previous})|fa.WrapAround,{relativeTo:Z.target}):Z.target instanceof HTMLElement&&Ja(Z.target)))}};return S.createElement(S.Fragment,null,!!(a&4)&&S.createElement(a1,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Mp.Focusable}),ei({ourProps:b,theirProps:s,defaultTag:sse,name:"FocusTrap"}),!!(a&4)&&S.createElement(a1,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Mp.Focusable}))}let cse=vn(ose),eu=Object.assign(cse,{features:VC});function use(t=!0){let e=T.useRef(cr.slice());return RV(([n],[i])=>{i===!0&&n===!1&&_Z(()=>{e.current.splice(0)}),i===!1&&n===!0&&(e.current=cr.slice())},[t,cr,e]),st(()=>{var n;return(n=e.current.find(i=>i!=null&&i.isConnected))!=null?n:null})}function dse({ownerDocument:t},e){let n=use(e);RV(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Ja(n())},[e]),gC(()=>{e&&Ja(n())})}function mse({ownerDocument:t,container:e,initialFocus:n},i){let l=T.useRef(null),r=pm();return RV(()=>{if(!i)return;let a=e.current;a&&_Z(()=>{if(!r.current)return;let s=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===s){l.current=s;return}}else if(a.contains(s)){l.current=s;return}n!=null&&n.current?Ja(n.current):bb(a,fa.First)===hC.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.current=t==null?void 0:t.activeElement})},[i]),l}function hse({ownerDocument:t,container:e,containers:n,previousActiveElement:i},l){let r=pm();XC(t==null?void 0:t.defaultView,"focus",a=>{if(!l||!r.current)return;let s=WC(n);e.current instanceof HTMLElement&&s.add(e.current);let o=i.current;if(!o)return;let c=a.target;c&&c instanceof HTMLElement?TC(s,c)?(i.current=c,Ja(c)):(a.preventDefault(),a.stopPropagation(),Ja(o)):Ja(i.current)},!0)}function TC(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let xC=T.createContext(!1);function bse(){return T.useContext(xC)}function s1(t){return S.createElement(xC.Provider,{value:t.force},t.children)}function pse(t){let e=bse(),n=T.useContext(RC),i=bm(t),[l,r]=T.useState(()=>{if(!e&&n!==null||Sl.isServer)return null;let a=i==null?void 0:i.getElementById("headlessui-portal-root");if(a)return a;if(i===null)return null;let s=i.createElement("div");return s.setAttribute("id","headlessui-portal-root"),i.body.appendChild(s)});return T.useEffect(()=>{l!==null&&(i!=null&&i.body.contains(l)||i==null||i.body.appendChild(l))},[l,i]),T.useEffect(()=>{e||n!==null&&r(n.current)},[n,r,e]),l}let Zse=T.Fragment;function fse(t,e){let n=t,i=T.useRef(null),l=Ri($ae(u=>{i.current=u}),e),r=bm(i),a=pse(i),[s]=T.useState(()=>{var u;return Sl.isServer?null:(u=r==null?void 0:r.createElement("div"))!=null?u:null}),o=T.useContext(o1),c=pc();return An(()=>{!a||!s||a.contains(s)||(s.setAttribute("data-headlessui-portal",""),a.appendChild(s))},[a,s]),An(()=>{if(s&&o)return o.register(s)},[o,s]),gC(()=>{var u;!a||!s||(s instanceof Node&&a.contains(s)&&a.removeChild(s),a.childNodes.length<=0&&((u=a.parentElement)==null||u.removeChild(a)))}),c?!a||!s?null:CZ.createPortal(ei({ourProps:{ref:l},theirProps:n,defaultTag:Zse,name:"Portal"}),s):null}let yse=T.Fragment,RC=T.createContext(null);function Gse(t,e){let{target:n,...i}=t,l={ref:Ri(e)};return S.createElement(RC.Provider,{value:n},ei({ourProps:l,theirProps:i,defaultTag:yse,name:"Popover.Group"}))}let o1=T.createContext(null);function Xse(){let t=T.useContext(o1),e=T.useRef([]),n=st(r=>(e.current.push(r),t&&t.register(r),()=>i(r))),i=st(r=>{let a=e.current.indexOf(r);a!==-1&&e.current.splice(a,1),t&&t.unregister(r)}),l=T.useMemo(()=>({register:n,unregister:i,portals:e}),[n,i,e]);return[e,T.useMemo(()=>function({children:r}){return S.createElement(o1.Provider,{value:l},r)},[l])]}let gse=vn(fse),Wse=vn(Gse),c1=Object.assign(gse,{Group:Wse});function Vse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Tse=typeof Object.is=="function"?Object.is:Vse,{useState:xse,useEffect:Rse,useLayoutEffect:Sse,useDebugValue:Yse}=_u;function Lse(t,e,n){const i=e(),[{inst:l},r]=xse({inst:{value:i,getSnapshot:e}});return Sse(()=>{l.value=i,l.getSnapshot=e,uy(l)&&r({inst:l})},[t,i,e]),Rse(()=>(uy(l)&&r({inst:l}),t(()=>{uy(l)&&r({inst:l})})),[t]),Yse(i),i}function uy(t){const e=t.getSnapshot,n=t.value;try{const i=e();return!Tse(n,i)}catch{return!0}}function Mse(t,e,n){return e()}const Nse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vse=!Nse,Ise=vse?Mse:Lse,wse="useSyncExternalStore"in _u?(t=>t.useSyncExternalStore)(_u):Ise;function Jse(t){return wse(t.subscribe,t.getSnapshot,t.getSnapshot)}function Cse(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(l){return i.add(l),()=>i.delete(l)},dispatch(l,...r){let a=e[l].call(n,...r);a&&(n=a,i.forEach(s=>s()))}}}function kse(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,l=i.clientWidth-i.offsetWidth,r=t-l;n.style(i,"paddingRight",`${r}px`)}}}function Ese(){return pC()?{before({doc:t,d:e,meta:n}){function i(l){return n.containers.flatMap(r=>r()).some(r=>r.contains(l))}e.microTask(()=>{var l;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let s=cs();s.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>s.dispose()))}let r=(l=window.scrollY)!=null?l:window.pageYOffset,a=null;e.addEventListener(t,"click",s=>{if(s.target instanceof HTMLElement)try{let o=s.target.closest("a");if(!o)return;let{hash:c}=new URL(o.href),u=t.querySelector(c);u&&!i(u)&&(a=u)}catch{}},!0),e.addEventListener(t,"touchstart",s=>{if(s.target instanceof HTMLElement)if(i(s.target)){let o=s.target;for(;o.parentElement&&i(o.parentElement);)o=o.parentElement;e.style(o,"overscrollBehavior","contain")}else e.style(s.target,"touchAction","none")}),e.addEventListener(t,"touchmove",s=>{if(s.target instanceof HTMLElement)if(i(s.target)){let o=s.target;for(;o.parentElement&&o.dataset.headlessuiPortal!==""&&!(o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth);)o=o.parentElement;o.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()},{passive:!1}),e.add(()=>{var s;let o=(s=window.scrollY)!=null?s:window.pageYOffset;r!==o&&window.scrollTo(0,r),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Kse(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Use(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Sa=Cse(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:cs(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:Use(n)},l=[Ese(),kse(),Kse()];l.forEach(({before:r})=>r==null?void 0:r(i)),l.forEach(({after:r})=>r==null?void 0:r(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Sa.subscribe(()=>{let t=Sa.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",l=n.count!==0;(l&&!i||!l&&i)&&Sa.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Sa.dispatch("TEARDOWN",n)}});function Pse(t,e,n){let i=Jse(Sa),l=t?i.get(t):void 0,r=l?l.count>0:!1;return An(()=>{if(!(!t||!e))return Sa.dispatch("PUSH",t,n),()=>Sa.dispatch("POP",t,n)},[e,t]),r}let dy=new Map,tu=new Map;function b9(t,e=!0){An(()=>{var n;if(!e)return;let i=typeof t=="function"?t():t.current;if(!i)return;function l(){var a;if(!i)return;let s=(a=tu.get(i))!=null?a:1;if(s===1?tu.delete(i):tu.set(i,s-1),s!==1)return;let o=dy.get(i);o&&(o["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",o["aria-hidden"]),i.inert=o.inert,dy.delete(i))}let r=(n=tu.get(i))!=null?n:0;return tu.set(i,r+1),r!==0||(dy.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0),l},[t,e])}function Fse({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var i;let l=T.useRef((i=n==null?void 0:n.current)!=null?i:null),r=bm(l),a=st(()=>{var s,o,c;let u=[];for(let d of t)d!==null&&(d instanceof HTMLElement?u.push(d):"current"in d&&d.current instanceof HTMLElement&&u.push(d.current));if(e!=null&&e.current)for(let d of e.current)u.push(d);for(let d of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(l.current)||d.contains((c=(o=l.current)==null?void 0:o.getRootNode())==null?void 0:c.host)||u.some(m=>d.contains(m))||u.push(d));return u});return{resolveContainers:a,contains:st(s=>a().some(o=>o.contains(s))),mainTreeNodeRef:l,MainTreeNode:T.useMemo(()=>function(){return n!=null?null:S.createElement(a1,{features:Mp.Hidden,ref:l})},[l,n])}}let LV=T.createContext(()=>{});LV.displayName="StackContext";var u1=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(u1||{});function zse(){return T.useContext(LV)}function jse({children:t,onUpdate:e,type:n,element:i,enabled:l}){let r=zse(),a=st((...s)=>{e==null||e(...s),r(...s)});return An(()=>{let s=l===void 0||l===!0;return s&&a(0,n,i),()=>{s&&a(1,n,i)}},[a,n,i,l]),S.createElement(LV.Provider,{value:a},t)}let SC=T.createContext(null);function YC(){let t=T.useContext(SC);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,YC),e}return t}function Hse(){let[t,e]=T.useState([]);return[t.length>0?t.join(" "):void 0,T.useMemo(()=>function(n){let i=st(r=>(e(a=>[...a,r]),()=>e(a=>{let s=a.slice(),o=s.indexOf(r);return o!==-1&&s.splice(o,1),s}))),l=T.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props}),[i,n.slot,n.name,n.props]);return S.createElement(SC.Provider,{value:l},n.children)},[e])]}let Dse="p";function Ose(t,e){let n=Zc(),{id:i=`headlessui-description-${n}`,...l}=t,r=YC(),a=Ri(e);An(()=>r.register(i),[i,r.register]);let s={ref:a,...r.props,id:i};return ei({ourProps:s,theirProps:l,slot:r.slot||{},defaultTag:Dse,name:r.name||"Description"})}let Bse=vn(Ose),Qse=Object.assign(Bse,{});var Ase=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ase||{}),_se=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(_se||{});let $se={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Np=T.createContext(null);Np.displayName="DialogContext";function Zm(t){let e=T.useContext(Np);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zm),n}return e}function qse(t,e,n=()=>[document.body]){Pse(t,e,i=>{var l;return{containers:[...(l=i.containers)!=null?l:[],n]}})}function eoe(t,e){return Kt(e.type,$se,t,e)}let toe="div",noe=Lp.RenderStrategy|Lp.Static;function ioe(t,e){let n=Zc(),{id:i=`headlessui-dialog-${n}`,open:l,onClose:r,initialFocus:a,role:s="dialog",__demoMode:o=!1,...c}=t,[u,d]=T.useState(0),m=T.useRef(!1);s=function(){return s==="dialog"||s==="alertdialog"?s:(m.current||(m.current=!0,console.warn(`Invalid role [${s}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=YV();l===void 0&&h!==null&&(l=(h&Zn.Open)===Zn.Open);let b=T.useRef(null),Z=Ri(b,e),p=bm(b),f=t.hasOwnProperty("open")||h!==null,G=t.hasOwnProperty("onClose");if(!f&&!G)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!f)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!G)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof l!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${l}`);if(typeof r!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${r}`);let V=l?0:1,[X,L]=T.useReducer(eoe,{titleId:null,descriptionId:null,panelRef:T.createRef()}),x=st(()=>r(!1)),v=st(xe=>L({type:0,id:xe})),C=pc()?o?!1:V===0:!1,w=u>1,z=T.useContext(Np)!==null,[$,ee]=Xse(),D={get current(){var xe;return(xe=X.panelRef.current)!=null?xe:b.current}},{resolveContainers:j,mainTreeNodeRef:_,MainTreeNode:ce}=Fse({portals:$,defaultContainers:[D]}),E=w?"parent":"leaf",H=h!==null?(h&Zn.Closing)===Zn.Closing:!1,de=(()=>z||H?!1:C)(),ue=T.useCallback(()=>{var xe,je;return(je=Array.from((xe=p==null?void 0:p.querySelectorAll("body > *"))!=null?xe:[]).find(Le=>Le.id==="headlessui-portal-root"?!1:Le.contains(_.current)&&Le instanceof HTMLElement))!=null?je:null},[_]);b9(ue,de);let U=(()=>w?!0:C)(),Q=T.useCallback(()=>{var xe,je;return(je=Array.from((xe=p==null?void 0:p.querySelectorAll("[data-headlessui-portal]"))!=null?xe:[]).find(Le=>Le.contains(_.current)&&Le instanceof HTMLElement))!=null?je:null},[_]);b9(Q,U);let k=(()=>!(!C||w))();_ae(j,xe=>{xe.preventDefault(),x()},k);let A=(()=>!(w||V!==0))();XC(p==null?void 0:p.defaultView,"keydown",xe=>{A&&(xe.defaultPrevented||xe.key===GC.Escape&&(xe.preventDefault(),xe.stopPropagation(),x()))});let O=(()=>!(H||V!==0||z))();qse(p,O,j),T.useEffect(()=>{if(V!==0||!b.current)return;let xe=new ResizeObserver(je=>{for(let Le of je){let ct=Le.target.getBoundingClientRect();ct.x===0&&ct.y===0&&ct.width===0&&ct.height===0&&x()}});return xe.observe(b.current),()=>xe.disconnect()},[V,b,x]);let[le,Ge]=Hse(),ve=T.useMemo(()=>[{dialogState:V,close:x,setTitleId:v},X],[V,X,x,v]),fe=T.useMemo(()=>({open:V===0}),[V]),Pe={ref:Z,id:i,role:s,"aria-modal":V===0?!0:void 0,"aria-labelledby":X.titleId,"aria-describedby":le};return S.createElement(jse,{type:"Dialog",enabled:V===0,element:b,onUpdate:st((xe,je)=>{je==="Dialog"&&Kt(xe,{[u1.Add]:()=>d(Le=>Le+1),[u1.Remove]:()=>d(Le=>Le-1)})})},S.createElement(s1,{force:!0},S.createElement(c1,null,S.createElement(Np.Provider,{value:ve},S.createElement(c1.Group,{target:b},S.createElement(s1,{force:!1},S.createElement(Ge,{slot:fe,name:"Dialog.Description"},S.createElement(eu,{initialFocus:a,containers:j,features:C?Kt(E,{parent:eu.features.RestoreFocus,leaf:eu.features.All&~eu.features.FocusLock}):eu.features.None},S.createElement(ee,null,ei({ourProps:Pe,theirProps:c,slot:fe,defaultTag:toe,features:noe,visible:V===0,name:"Dialog"}))))))))),S.createElement(ce,null))}let loe="div";function roe(t,e){let n=Zc(),{id:i=`headlessui-dialog-overlay-${n}`,...l}=t,[{dialogState:r,close:a}]=Zm("Dialog.Overlay"),s=Ri(e),o=st(u=>{if(u.target===u.currentTarget){if(lse(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),a()}}),c=T.useMemo(()=>({open:r===0}),[r]);return ei({ourProps:{ref:s,id:i,"aria-hidden":!0,onClick:o},theirProps:l,slot:c,defaultTag:loe,name:"Dialog.Overlay"})}let aoe="div";function soe(t,e){let n=Zc(),{id:i=`headlessui-dialog-backdrop-${n}`,...l}=t,[{dialogState:r},a]=Zm("Dialog.Backdrop"),s=Ri(e);T.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let o=T.useMemo(()=>({open:r===0}),[r]);return S.createElement(s1,{force:!0},S.createElement(c1,null,ei({ourProps:{ref:s,id:i,"aria-hidden":!0},theirProps:l,slot:o,defaultTag:aoe,name:"Dialog.Backdrop"})))}let ooe="div";function coe(t,e){let n=Zc(),{id:i=`headlessui-dialog-panel-${n}`,...l}=t,[{dialogState:r},a]=Zm("Dialog.Panel"),s=Ri(e,a.panelRef),o=T.useMemo(()=>({open:r===0}),[r]),c=st(u=>{u.stopPropagation()});return ei({ourProps:{ref:s,id:i,onClick:c},theirProps:l,slot:o,defaultTag:ooe,name:"Dialog.Panel"})}let uoe="h2";function doe(t,e){let n=Zc(),{id:i=`headlessui-dialog-title-${n}`,...l}=t,[{dialogState:r,setTitleId:a}]=Zm("Dialog.Title"),s=Ri(e);T.useEffect(()=>(a(i),()=>a(null)),[i,a]);let o=T.useMemo(()=>({open:r===0}),[r]);return ei({ourProps:{ref:s,id:i},theirProps:l,slot:o,defaultTag:uoe,name:"Dialog.Title"})}let moe=vn(ioe),hoe=vn(soe),boe=vn(coe),poe=vn(roe),Zoe=vn(doe),my=Object.assign(moe,{Backdrop:hoe,Panel:boe,Overlay:poe,Title:Zoe,Description:Qse});function foe(t=0){let[e,n]=T.useState(t),i=pm(),l=T.useCallback(o=>{i.current&&n(c=>c|o)},[e,i]),r=T.useCallback(o=>!!(e&o),[e]),a=T.useCallback(o=>{i.current&&n(c=>c&~o)},[n,i]),s=T.useCallback(o=>{i.current&&n(c=>c^o)},[n]);return{flags:e,addFlag:l,hasFlag:r,removeFlag:a,toggleFlag:s}}function yoe(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function hy(t,...e){t&&e.length>0&&t.classList.add(...e)}function by(t,...e){t&&e.length>0&&t.classList.remove(...e)}function Goe(t,e){let n=cs();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:l}=getComputedStyle(t),[r,a]=[i,l].map(o=>{let[c=0]=o.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return c}),s=r+a;if(s!==0){n.group(c=>{c.setTimeout(()=>{e(),c.dispose()},s),c.addEventListener(t,"transitionrun",u=>{u.target===u.currentTarget&&c.dispose()})});let o=n.addEventListener(t,"transitionend",c=>{c.target===c.currentTarget&&(e(),o())})}else e();return n.add(()=>e()),n.dispose}function Xoe(t,e,n,i){let l=n?"enter":"leave",r=cs(),a=i!==void 0?yoe(i):()=>{};l==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let s=Kt(l,{enter:()=>e.enter,leave:()=>e.leave}),o=Kt(l,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),c=Kt(l,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return by(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),hy(t,...e.base,...s,...c),r.nextFrame(()=>{by(t,...e.base,...s,...c),hy(t,...e.base,...s,...o),Goe(t,()=>(by(t,...e.base,...s),hy(t,...e.base,...e.entered),a()))}),r.dispose}function goe({immediate:t,container:e,direction:n,classes:i,onStart:l,onStop:r}){let a=pm(),s=xV(),o=Yl(n);An(()=>{t&&(o.current="enter")},[t]),An(()=>{let c=cs();s.add(c.dispose);let u=e.current;if(u&&o.current!=="idle"&&a.current)return c.dispose(),l.current(o.current),c.add(Xoe(u,i.current,o.current==="enter",()=>{c.dispose(),r.current(o.current)})),c.dispose},[n])}function nr(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let $Z=T.createContext(null);$Z.displayName="TransitionContext";var Woe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Woe||{});function Voe(){let t=T.useContext($Z);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Toe(){let t=T.useContext(qZ);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let qZ=T.createContext(null);qZ.displayName="NestingContext";function e0(t){return"children"in t?e0(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function LC(t,e){let n=Yl(t),i=T.useRef([]),l=pm(),r=xV(),a=st((h,b=fr.Hidden)=>{let Z=i.current.findIndex(({el:p})=>p===h);Z!==-1&&(Kt(b,{[fr.Unmount](){i.current.splice(Z,1)},[fr.Hidden](){i.current[Z].state="hidden"}}),r.microTask(()=>{var p;!e0(i)&&l.current&&((p=n.current)==null||p.call(n))}))}),s=st(h=>{let b=i.current.find(({el:Z})=>Z===h);return b?b.state!=="visible"&&(b.state="visible"):i.current.push({el:h,state:"visible"}),()=>a(h,fr.Unmount)}),o=T.useRef([]),c=T.useRef(Promise.resolve()),u=T.useRef({enter:[],leave:[],idle:[]}),d=st((h,b,Z)=>{o.current.splice(0),e&&(e.chains.current[b]=e.chains.current[b].filter(([p])=>p!==h)),e==null||e.chains.current[b].push([h,new Promise(p=>{o.current.push(p)})]),e==null||e.chains.current[b].push([h,new Promise(p=>{Promise.all(u.current[b].map(([f,G])=>G)).then(()=>p())})]),b==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>Z(b)):Z(b)}),m=st((h,b,Z)=>{Promise.all(u.current[b].splice(0).map(([p,f])=>f)).then(()=>{var p;(p=o.current.shift())==null||p()}).then(()=>Z(b))});return T.useMemo(()=>({children:i,register:s,unregister:a,onStart:d,onStop:m,wait:c,chains:u}),[s,a,i,d,m,u,c])}function xoe(){}let Roe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function p9(t){var e;let n={};for(let i of Roe)n[i]=(e=t[i])!=null?e:xoe;return n}function Soe(t){let e=T.useRef(p9(t));return T.useEffect(()=>{e.current=p9(t)},[t]),e}let Yoe="div",MC=Lp.RenderStrategy;function Loe(t,e){var n,i;let{beforeEnter:l,afterEnter:r,beforeLeave:a,afterLeave:s,enter:o,enterFrom:c,enterTo:u,entered:d,leave:m,leaveFrom:h,leaveTo:b,...Z}=t,p=T.useRef(null),f=Ri(p,e),G=(n=Z.unmount)==null||n?fr.Unmount:fr.Hidden,{show:V,appear:X,initial:L}=Voe(),[x,v]=T.useState(V?"visible":"hidden"),C=Toe(),{register:w,unregister:z}=C;T.useEffect(()=>w(p),[w,p]),T.useEffect(()=>{if(G===fr.Hidden&&p.current){if(V&&x!=="visible"){v("visible");return}return Kt(x,{hidden:()=>z(p),visible:()=>w(p)})}},[x,p,w,z,V,G]);let $=Yl({base:nr(Z.className),enter:nr(o),enterFrom:nr(c),enterTo:nr(u),entered:nr(d),leave:nr(m),leaveFrom:nr(h),leaveTo:nr(b)}),ee=Soe({beforeEnter:l,afterEnter:r,beforeLeave:a,afterLeave:s}),D=pc();T.useEffect(()=>{if(D&&x==="visible"&&p.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[p,x,D]);let j=L&&!X,_=X&&V&&L,ce=(()=>!D||j?"idle":V?"enter":"leave")(),E=foe(0),H=st(A=>Kt(A,{enter:()=>{E.addFlag(Zn.Opening),ee.current.beforeEnter()},leave:()=>{E.addFlag(Zn.Closing),ee.current.beforeLeave()},idle:()=>{}})),de=st(A=>Kt(A,{enter:()=>{E.removeFlag(Zn.Opening),ee.current.afterEnter()},leave:()=>{E.removeFlag(Zn.Closing),ee.current.afterLeave()},idle:()=>{}})),ue=LC(()=>{v("hidden"),z(p)},C),U=T.useRef(!1);goe({immediate:_,container:p,classes:$,direction:ce,onStart:Yl(A=>{U.current=!0,ue.onStart(p,A,H)}),onStop:Yl(A=>{U.current=!1,ue.onStop(p,A,de),A==="leave"&&!e0(ue)&&(v("hidden"),z(p))})});let Q=Z,k={ref:f};return _?Q={...Q,className:Yp(Z.className,...$.current.enter,...$.current.enterFrom)}:U.current&&(Q.className=Yp(Z.className,(i=p.current)==null?void 0:i.className),Q.className===""&&delete Q.className),S.createElement(qZ.Provider,{value:ue},S.createElement(nse,{value:Kt(x,{visible:Zn.Open,hidden:Zn.Closed})|E.flags},ei({ourProps:k,theirProps:Q,defaultTag:Yoe,features:MC,visible:x==="visible",name:"Transition.Child"})))}function Moe(t,e){let{show:n,appear:i=!1,unmount:l=!0,...r}=t,a=T.useRef(null),s=Ri(a,e);pc();let o=YV();if(n===void 0&&o!==null&&(n=(o&Zn.Open)===Zn.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,u]=T.useState(n?"visible":"hidden"),d=LC(()=>{u("hidden")}),[m,h]=T.useState(!0),b=T.useRef([n]);An(()=>{m!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),h(!1))},[b,n]);let Z=T.useMemo(()=>({show:n,appear:i,initial:m}),[n,i,m]);T.useEffect(()=>{if(n)u("visible");else if(!e0(d))u("hidden");else{let V=a.current;if(!V)return;let X=V.getBoundingClientRect();X.x===0&&X.y===0&&X.width===0&&X.height===0&&u("hidden")}},[n,d]);let p={unmount:l},f=st(()=>{var V;m&&h(!1),(V=t.beforeEnter)==null||V.call(t)}),G=st(()=>{var V;m&&h(!1),(V=t.beforeLeave)==null||V.call(t)});return S.createElement(qZ.Provider,{value:d},S.createElement($Z.Provider,{value:Z},ei({ourProps:{...p,as:T.Fragment,children:S.createElement(NC,{ref:s,...p,...r,beforeEnter:f,beforeLeave:G})},theirProps:{},defaultTag:T.Fragment,features:MC,visible:c==="visible",name:"Transition"})))}function Noe(t,e){let n=T.useContext($Z)!==null,i=YV()!==null;return S.createElement(S.Fragment,null,!n&&i?S.createElement(d1,{ref:e,...t}):S.createElement(NC,{ref:e,...t}))}let d1=vn(Moe),NC=vn(Loe),voe=vn(Noe),Ioe=Object.assign(d1,{Child:voe,Root:d1});const woe=({svgFunction:t,pixelFunction:e,deckSize:n})=>{const[i,l]=T.useState(!1);function r(a){a==="pixels"?e():a==="SVG"&&t(n),l(!1)}return N.jsxs(N.Fragment,{children:[N.jsx(ma,{onClick:()=>l(!0),title:"Take screenshot",children:N.jsx(Jae,{className:"mx-auto w-5 h-5 inline-block"})}),N.jsx(Ioe.Root,{show:i,as:T.Fragment,children:N.jsx(my,{as:"div",static:!0,className:"fixed inset-0 z-10 overflow-y-auto",open:i,onClose:l,children:N.jsxs("div",{className:"min-h-screen px-4 text-center",children:[N.jsx(my.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),N.jsx("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"​"}),N.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[N.jsx(my.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Choose format"}),N.jsxs("div",{className:"mt-4",children:[N.jsx("button",{onClick:()=>r("SVG"),className:"text-blue-600 hover:text-blue-800",children:"SVG (vector)"}),N.jsx("button",{onClick:()=>r("pixels"),className:"ml-4 text-blue-600 hover:text-blue-800",children:"PNG"})]})]})]})})})]})},Joe=({loading:t,setZoomAxis:e,zoomAxis:n,snapshot:i,zoomIncrement:l,requestOpenSettings:r,zoomReset:a,settings:s,deckSize:o,triggerSVGdownload:c})=>N.jsx("div",{style:{position:"absolute",right:"0em",bottom:"0em",zIndex:2,pointerEvents:"none"},className:"flex flex-col items-end",children:N.jsxs("div",{className:"flex justify-end ",style:{marginBottom:"0em",marginRight:"0em"},children:[t&&N.jsx("div",{className:"mr-4 mt-auto inline-block",children:N.jsx(TV,{size:24,color:"#444444"})}),N.jsx("div",{className:`text-gray-800  mr-4 mt-auto mb-1 bg-white
      opacity-50 px-1 hover:opacity-100 rounded hidden sm:inline-block
      `,style:{fontSize:".7em",pointerEvents:"auto",boxShadow:"0px -3px 4px  4px rgba(255, 255, 255, 1)"},children:N.jsxs("a",{href:"https://taxonium.org",target:"_blank",className:"no-underline hover:underline",children:[N.jsx(Cae,{className:"inline-block mr-1 w-3 h-3 inline-block"}),"Taxonium"]})}),N.jsx(ma,{onClick:()=>{r()},title:"Settings",children:N.jsx(dC,{className:"mx-auto w-5 h-5 inline-block"})}),N.jsx(ma,{onClick:()=>{a()},title:"Reset zoom",children:N.jsx(kae,{className:"mx-auto  w-5 h-5 inline-block "})}),N.jsx(woe,{svgFunction:c,pixelFunction:i,deckSize:o}),N.jsxs("div",{className:"",children:[N.jsxs("div",{children:[N.jsxs(ma,{onClick:()=>{l(.6,"Y")},title:"Zoom in vertically",children:[N.jsx(u9,{className:"mx-auto  w-5 h-5 inline-block"}),N.jsx(c9,{className:"mx-auto  w-3 h-3 inline-block"})]}),N.jsxs(ma,{onClick:()=>{l(-.6,"Y")},title:"Zoom out vertically",children:[N.jsx(d9,{className:"mx-auto w-5 h-5 inline-block"}),N.jsx(c9,{className:"mx-auto  w-3 h-3 inline-block"})]})]}),N.jsxs("div",{children:[N.jsxs(ma,{onClick:()=>{l(.6,"X")},title:"Zoom in horizontally",children:[N.jsx(u9,{className:"mx-auto  w-5 h-5 inline-block"}),N.jsx(o9,{className:"mx-auto  w-3 h-3 inline-block"})]}),N.jsxs(ma,{onClick:()=>{l(-.6,"X")},title:"Zoom out horizontally",children:[N.jsx(d9,{className:"mx-auto w-5 h-5 inline-block"}),N.jsx(o9,{className:"mx-auto  w-3 h-3 inline-block"})]})]})]})]})});var m1={exports:{}},Aa={},h1={exports:{}},Si={},b1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",i="contents",l=/^(input|select|textarea|button|object|iframe)$/;function r(d,m){return m.getPropertyValue("overflow")!=="visible"||d.scrollWidth<=0&&d.scrollHeight<=0}function a(d){var m=d.offsetWidth<=0&&d.offsetHeight<=0;if(m&&!d.innerHTML)return!0;try{var h=window.getComputedStyle(d),b=h.getPropertyValue("display");return m?b!==i&&r(d,h):b===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(d){for(var m=d,h=d.getRootNode&&d.getRootNode();m&&m!==document.body;){if(h&&m===h&&(m=h.host.parentNode),a(m))return!1;m=m.parentNode}return!0}function o(d,m){var h=d.nodeName.toLowerCase(),b=l.test(h)&&!d.disabled||h==="a"&&d.href||m;return b&&s(d)}function c(d){var m=d.getAttribute("tabindex");m===null&&(m=void 0);var h=isNaN(m);return(h||m>=0)&&o(d,!h)}function u(d){var m=[].slice.call(d.querySelectorAll("*"),0).reduce(function(h,b){return h.concat(b.shadowRoot?u(b.shadowRoot):[b])},[]);return m.filter(c)}t.exports=e.default})(b1,b1.exports);var vC=b1.exports;Object.defineProperty(Si,"__esModule",{value:!0});Si.resetState=Koe;Si.log=Uoe;Si.handleBlur=Jd;Si.handleFocus=Cd;Si.markForFocusLater=Poe;Si.returnFocus=Foe;Si.popWithoutFocus=zoe;Si.setupScopedFocus=joe;Si.teardownScopedFocus=Hoe;var Coe=vC,koe=Eoe(Coe);function Eoe(t){return t&&t.__esModule?t:{default:t}}var Ao=[],po=null,p1=!1;function Koe(){Ao=[]}function Uoe(){}function Jd(){p1=!0}function Cd(){if(p1){if(p1=!1,!po)return;setTimeout(function(){if(!po.contains(document.activeElement)){var t=(0,koe.default)(po)[0]||po;t.focus()}},0)}}function Poe(){Ao.push(document.activeElement)}function Foe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Ao.length!==0&&(e=Ao.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function zoe(){Ao.length>0&&Ao.pop()}function joe(t){po=t,window.addEventListener?(window.addEventListener("blur",Jd,!1),document.addEventListener("focus",Cd,!0)):(window.attachEvent("onBlur",Jd),document.attachEvent("onFocus",Cd))}function Hoe(){po=null,window.addEventListener?(window.removeEventListener("blur",Jd),document.removeEventListener("focus",Cd)):(window.detachEvent("onBlur",Jd),document.detachEvent("onFocus",Cd))}var Z1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=vC,i=l(n);function l(s){return s&&s.__esModule?s:{default:s}}function r(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?r(s.activeElement.shadowRoot):s.activeElement}function a(s,o){var c=(0,i.default)(s);if(!c.length){o.preventDefault();return}var u=void 0,d=o.shiftKey,m=c[0],h=c[c.length-1],b=r();if(s===b){if(!d)return;u=h}if(h===b&&!d&&(u=m),m===b&&d&&(u=h),u){o.preventDefault(),u.focus();return}var Z=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),p=Z!=null&&Z[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(p){var f=c.indexOf(b);if(f>-1&&(f+=d?-1:1),u=c[f],typeof u>"u"){o.preventDefault(),u=d?h:m,u.focus();return}o.preventDefault(),u.focus()}}t.exports=e.default})(Z1,Z1.exports);var Doe=Z1.exports,Yi={},Ooe=function(){},Boe=Ooe,Xi={},IC={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(IC);var Qoe=IC.exports;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.canUseDOM=Xi.SafeNodeList=Xi.SafeHTMLCollection=void 0;var Aoe=Qoe,_oe=$oe(Aoe);function $oe(t){return t&&t.__esModule?t:{default:t}}var t0=_oe.default,qoe=t0.canUseDOM?window.HTMLElement:{};Xi.SafeHTMLCollection=t0.canUseDOM?window.HTMLCollection:{};Xi.SafeNodeList=t0.canUseDOM?window.NodeList:{};Xi.canUseDOM=t0.canUseDOM;Xi.default=qoe;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.resetState=lce;Yi.log=rce;Yi.assertNodeList=wC;Yi.setElement=ace;Yi.validateElement=MV;Yi.hide=sce;Yi.show=oce;Yi.documentNotReadyOrSSRTesting=cce;var ece=Boe,tce=ice(ece),nce=Xi;function ice(t){return t&&t.__esModule?t:{default:t}}var En=null;function lce(){En&&(En.removeAttribute?En.removeAttribute("aria-hidden"):En.length!=null?En.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(En).forEach(function(t){return t.removeAttribute("aria-hidden")})),En=null}function rce(){}function wC(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function ace(t){var e=t;if(typeof e=="string"&&nce.canUseDOM){var n=document.querySelectorAll(e);wC(n,e),e=n}return En=e||En,En}function MV(t){var e=t||En;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,tce.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function sce(t){var e=!0,n=!1,i=void 0;try{for(var l=MV(t)[Symbol.iterator](),r;!(e=(r=l.next()).done);e=!0){var a=r.value;a.setAttribute("aria-hidden","true")}}catch(s){n=!0,i=s}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}function oce(t){var e=!0,n=!1,i=void 0;try{for(var l=MV(t)[Symbol.iterator](),r;!(e=(r=l.next()).done);e=!0){var a=r.value;a.removeAttribute("aria-hidden")}}catch(s){n=!0,i=s}finally{try{!e&&l.return&&l.return()}finally{if(n)throw i}}}function cce(){En=null}var fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.resetState=uce;fc.log=dce;var Ou={},Bu={};function Z9(t,e){t.classList.remove(e)}function uce(){var t=document.getElementsByTagName("html")[0];for(var e in Ou)Z9(t,Ou[e]);var n=document.body;for(var i in Bu)Z9(n,Bu[i]);Ou={},Bu={}}function dce(){}var mce=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},hce=function(e,n){return e[n]&&(e[n]-=1),n},bce=function(e,n,i){i.forEach(function(l){mce(n,l),e.add(l)})},pce=function(e,n,i){i.forEach(function(l){hce(n,l),n[l]===0&&e.remove(l)})};fc.add=function(e,n){return bce(e.classList,e.nodeName.toLowerCase()=="html"?Ou:Bu,n.split(" "))};fc.remove=function(e,n){return pce(e.classList,e.nodeName.toLowerCase()=="html"?Ou:Bu,n.split(" "))};var yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.log=fce;yc.resetState=yce;function Zce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var JC=function t(){var e=this;Zce(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var i=e.openInstances.indexOf(n);i!==-1&&(e.openInstances.splice(i,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(i){return i(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},vp=new JC;function fce(){console.log("portalOpenInstances ----------"),console.log(vp.openInstances.length),vp.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function yce(){vp=new JC}yc.default=vp;var NV={};Object.defineProperty(NV,"__esModule",{value:!0});NV.resetState=Wce;NV.log=Vce;var Gce=yc,Xce=gce(Gce);function gce(t){return t&&t.__esModule?t:{default:t}}var It=void 0,oi=void 0,Ca=[];function Wce(){for(var t=[It,oi],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}It=oi=null,Ca=[]}function Vce(){console.log("bodyTrap ----------"),console.log(Ca.length);for(var t=[It,oi],e=0;e<t.length;e++){var n=t[e],i=n||{};console.log(i.nodeName,i.className,i.id)}console.log("edn bodyTrap ----------")}function f9(){Ca.length!==0&&Ca[Ca.length-1].focusContent()}function Tce(t,e){!It&&!oi&&(It=document.createElement("div"),It.setAttribute("data-react-modal-body-trap",""),It.style.position="absolute",It.style.opacity="0",It.setAttribute("tabindex","0"),It.addEventListener("focus",f9),oi=It.cloneNode(),oi.addEventListener("focus",f9)),Ca=e,Ca.length>0?(document.body.firstChild!==It&&document.body.insertBefore(It,document.body.firstChild),document.body.lastChild!==oi&&document.body.appendChild(oi)):(It.parentElement&&It.parentElement.removeChild(It),oi.parentElement&&oi.parentElement.removeChild(oi))}Xce.default.subscribe(Tce);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(j){for(var _=1;_<arguments.length;_++){var ce=arguments[_];for(var E in ce)Object.prototype.hasOwnProperty.call(ce,E)&&(j[E]=ce[E])}return j},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},l=function(){function j(_,ce){for(var E=0;E<ce.length;E++){var H=ce[E];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(_,H.key,H)}}return function(_,ce,E){return ce&&j(_.prototype,ce),E&&j(_,E),_}}(),r=T,a=Yg,s=L(a),o=Si,c=X(o),u=Doe,d=L(u),m=Yi,h=X(m),b=fc,Z=X(b),p=Xi,f=L(p),G=yc,V=L(G);function X(j){if(j&&j.__esModule)return j;var _={};if(j!=null)for(var ce in j)Object.prototype.hasOwnProperty.call(j,ce)&&(_[ce]=j[ce]);return _.default=j,_}function L(j){return j&&j.__esModule?j:{default:j}}function x(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function v(j,_){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:j}function C(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);j.prototype=Object.create(_&&_.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(j,_):j.__proto__=_)}var w={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},z=function(_){return _.code==="Tab"||_.keyCode===9},$=function(_){return _.code==="Escape"||_.keyCode===27},ee=0,D=function(j){C(_,j);function _(ce){x(this,_);var E=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,ce));return E.setOverlayRef=function(H){E.overlay=H,E.props.overlayRef&&E.props.overlayRef(H)},E.setContentRef=function(H){E.content=H,E.props.contentRef&&E.props.contentRef(H)},E.afterClose=function(){var H=E.props,de=H.appElement,ue=H.ariaHideApp,U=H.htmlOpenClassName,Q=H.bodyOpenClassName,k=H.parentSelector,A=k&&k().ownerDocument||document;Q&&Z.remove(A.body,Q),U&&Z.remove(A.getElementsByTagName("html")[0],U),ue&&ee>0&&(ee-=1,ee===0&&h.show(de)),E.props.shouldFocusAfterRender&&(E.props.shouldReturnFocusAfterClose?(c.returnFocus(E.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),E.props.onAfterClose&&E.props.onAfterClose(),V.default.deregister(E)},E.open=function(){E.beforeOpen(),E.state.afterOpen&&E.state.beforeClose?(clearTimeout(E.closeTimer),E.setState({beforeClose:!1})):(E.props.shouldFocusAfterRender&&(c.setupScopedFocus(E.node),c.markForFocusLater()),E.setState({isOpen:!0},function(){E.openAnimationFrame=requestAnimationFrame(function(){E.setState({afterOpen:!0}),E.props.isOpen&&E.props.onAfterOpen&&E.props.onAfterOpen({overlayEl:E.overlay,contentEl:E.content})})}))},E.close=function(){E.props.closeTimeoutMS>0?E.closeWithTimeout():E.closeWithoutTimeout()},E.focusContent=function(){return E.content&&!E.contentHasFocus()&&E.content.focus({preventScroll:!0})},E.closeWithTimeout=function(){var H=Date.now()+E.props.closeTimeoutMS;E.setState({beforeClose:!0,closesAt:H},function(){E.closeTimer=setTimeout(E.closeWithoutTimeout,E.state.closesAt-Date.now())})},E.closeWithoutTimeout=function(){E.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},E.afterClose)},E.handleKeyDown=function(H){z(H)&&(0,d.default)(E.content,H),E.props.shouldCloseOnEsc&&$(H)&&(H.stopPropagation(),E.requestClose(H))},E.handleOverlayOnClick=function(H){E.shouldClose===null&&(E.shouldClose=!0),E.shouldClose&&E.props.shouldCloseOnOverlayClick&&(E.ownerHandlesClose()?E.requestClose(H):E.focusContent()),E.shouldClose=null},E.handleContentOnMouseUp=function(){E.shouldClose=!1},E.handleOverlayOnMouseDown=function(H){!E.props.shouldCloseOnOverlayClick&&H.target==E.overlay&&H.preventDefault()},E.handleContentOnClick=function(){E.shouldClose=!1},E.handleContentOnMouseDown=function(){E.shouldClose=!1},E.requestClose=function(H){return E.ownerHandlesClose()&&E.props.onRequestClose(H)},E.ownerHandlesClose=function(){return E.props.onRequestClose},E.shouldBeClosed=function(){return!E.state.isOpen&&!E.state.beforeClose},E.contentHasFocus=function(){return document.activeElement===E.content||E.content.contains(document.activeElement)},E.buildClassName=function(H,de){var ue=(typeof de>"u"?"undefined":i(de))==="object"?de:{base:w[H],afterOpen:w[H]+"--after-open",beforeClose:w[H]+"--before-close"},U=ue.base;return E.state.afterOpen&&(U=U+" "+ue.afterOpen),E.state.beforeClose&&(U=U+" "+ue.beforeClose),typeof de=="string"&&de?U+" "+de:U},E.attributesFromObject=function(H,de){return Object.keys(de).reduce(function(ue,U){return ue[H+"-"+U]=de[U],ue},{})},E.state={afterOpen:!1,beforeClose:!1},E.shouldClose=null,E.moveFromContentToOverlay=null,E}return l(_,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(E,H){this.props.isOpen&&!E.isOpen?this.open():!this.props.isOpen&&E.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!H.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var E=this.props,H=E.appElement,de=E.ariaHideApp,ue=E.htmlOpenClassName,U=E.bodyOpenClassName,Q=E.parentSelector,k=Q&&Q().ownerDocument||document;U&&Z.add(k.body,U),ue&&Z.add(k.getElementsByTagName("html")[0],ue),de&&(ee+=1,h.hide(H)),V.default.register(this)}},{key:"render",value:function(){var E=this.props,H=E.id,de=E.className,ue=E.overlayClassName,U=E.defaultStyles,Q=E.children,k=de?{}:U.content,A=ue?{}:U.overlay;if(this.shouldBeClosed())return null;var O={ref:this.setOverlayRef,className:this.buildClassName("overlay",ue),style:n({},A,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},le=n({id:H,ref:this.setContentRef,style:n({},k,this.props.style.content),className:this.buildClassName("content",de),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ge=this.props.contentElement(le,Q);return this.props.overlayElement(O,Ge)}}]),_}(r.Component);D.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},D.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(f.default),s.default.instanceOf(p.SafeHTMLCollection),s.default.instanceOf(p.SafeNodeList),s.default.arrayOf(s.default.instanceOf(f.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=D,t.exports=e.default})(h1,h1.exports);var xce=h1.exports;function CC(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function kC(t){function e(n){var i=this.constructor.getDerivedStateFromProps(t,n);return i??null}this.setState(e.bind(this))}function EC(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}CC.__suppressDeprecationWarning=!0;kC.__suppressDeprecationWarning=!0;EC.__suppressDeprecationWarning=!0;function Rce(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,i=null,l=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?l="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(l="UNSAFE_componentWillUpdate"),n!==null||i!==null||l!==null){var r=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+r+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(l!==null?`
  `+l:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=CC,e.componentWillReceiveProps=kC),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=EC;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,u,d){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;s.call(this,c,u,m)}}return t}const Sce=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Rce},Symbol.toStringTag,{value:"Module"})),Yce=bM(Sce);Object.defineProperty(Aa,"__esModule",{value:!0});Aa.bodyOpenClassName=Aa.portalClassName=void 0;var y9=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lce=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),KC=T,Ip=fm(KC),Mce=CZ,wp=fm(Mce),Nce=Yg,We=fm(Nce),vce=xce,G9=fm(vce),Ice=Yi,wce=Cce(Ice),yr=Xi,X9=fm(yr),Jce=Yce;function Cce(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function fm(t){return t&&t.__esModule?t:{default:t}}function kce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g9(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ece(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kce=Aa.portalClassName="ReactModalPortal",Uce=Aa.bodyOpenClassName="ReactModal__Body--open",ha=yr.canUseDOM&&wp.default.createPortal!==void 0,W9=function(e){return document.createElement(e)},V9=function(){return ha?wp.default.createPortal:wp.default.unstable_renderSubtreeIntoContainer};function Th(t){return t()}var ym=function(t){Ece(e,t);function e(){var n,i,l,r;kce(this,e);for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=(i=(l=g9(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(s))),l),l.removePortal=function(){!ha&&wp.default.unmountComponentAtNode(l.node);var c=Th(l.props.parentSelector);c&&c.contains(l.node)?c.removeChild(l.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},l.portalRef=function(c){l.portal=c},l.renderPortal=function(c){var u=V9(),d=u(l,Ip.default.createElement(G9.default,y9({defaultStyles:e.defaultStyles},c)),l.node);l.portalRef(d)},i),g9(l,r)}return Lce(e,[{key:"componentDidMount",value:function(){if(yr.canUseDOM){ha||(this.node=W9("div")),this.node.className=this.props.portalClassName;var i=Th(this.props.parentSelector);i.appendChild(this.node),!ha&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(i){var l=Th(i.parentSelector),r=Th(this.props.parentSelector);return{prevParent:l,nextParent:r}}},{key:"componentDidUpdate",value:function(i,l,r){if(yr.canUseDOM){var a=this.props,s=a.isOpen,o=a.portalClassName;i.portalClassName!==o&&(this.node.className=o);var c=r.prevParent,u=r.nextParent;u!==c&&(c.removeChild(this.node),u.appendChild(this.node)),!(!i.isOpen&&!s)&&!ha&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!yr.canUseDOM||!this.node||!this.portal)){var i=this.portal.state,l=Date.now(),r=i.isOpen&&this.props.closeTimeoutMS&&(i.closesAt||l+this.props.closeTimeoutMS);r?(i.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,r-l)):this.removePortal()}}},{key:"render",value:function(){if(!yr.canUseDOM||!ha)return null;!this.node&&ha&&(this.node=W9("div"));var i=V9();return i(Ip.default.createElement(G9.default,y9({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(i){wce.setElement(i)}}]),e}(KC.Component);ym.propTypes={isOpen:We.default.bool.isRequired,style:We.default.shape({content:We.default.object,overlay:We.default.object}),portalClassName:We.default.string,bodyOpenClassName:We.default.string,htmlOpenClassName:We.default.string,className:We.default.oneOfType([We.default.string,We.default.shape({base:We.default.string.isRequired,afterOpen:We.default.string.isRequired,beforeClose:We.default.string.isRequired})]),overlayClassName:We.default.oneOfType([We.default.string,We.default.shape({base:We.default.string.isRequired,afterOpen:We.default.string.isRequired,beforeClose:We.default.string.isRequired})]),appElement:We.default.oneOfType([We.default.instanceOf(X9.default),We.default.instanceOf(yr.SafeHTMLCollection),We.default.instanceOf(yr.SafeNodeList),We.default.arrayOf(We.default.instanceOf(X9.default))]),onAfterOpen:We.default.func,onRequestClose:We.default.func,closeTimeoutMS:We.default.number,ariaHideApp:We.default.bool,shouldFocusAfterRender:We.default.bool,shouldCloseOnOverlayClick:We.default.bool,shouldReturnFocusAfterClose:We.default.bool,preventScroll:We.default.bool,parentSelector:We.default.func,aria:We.default.object,data:We.default.object,role:We.default.string,contentLabel:We.default.string,shouldCloseOnEsc:We.default.bool,overlayRef:We.default.func,contentRef:We.default.func,id:We.default.string,overlayElement:We.default.func,contentElement:We.default.func};ym.defaultProps={isOpen:!1,portalClassName:Kce,bodyOpenClassName:Uce,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Ip.default.createElement("div",e,n)},contentElement:function(e,n){return Ip.default.createElement("div",e,n)}};ym.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Jce.polyfill)(ym);Aa.default=ym;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Aa,i=l(n);function l(r){return r&&r.__esModule?r:{default:r}}e.default=i.default,t.exports=e.default})(m1,m1.exports);var Pce=m1.exports;const vV=Kl(Pce);var zn={},Gm={},Fce=typeof dr=="object"&&dr&&dr.Object===Object&&dr,UC=Fce,zce=UC,jce=typeof self=="object"&&self&&self.Object===Object&&self,Hce=zce||jce||Function("return this")(),sl=Hce,Dce=sl,Oce=Dce.Symbol,Xm=Oce,T9=Xm,PC=Object.prototype,Bce=PC.hasOwnProperty,Qce=PC.toString,nu=T9?T9.toStringTag:void 0;function Ace(t){var e=Bce.call(t,nu),n=t[nu];try{t[nu]=void 0;var i=!0}catch{}var l=Qce.call(t);return i&&(e?t[nu]=n:delete t[nu]),l}var _ce=Ace,$ce=Object.prototype,qce=$ce.toString;function eue(t){return qce.call(t)}var tue=eue,x9=Xm,nue=_ce,iue=tue,lue="[object Null]",rue="[object Undefined]",R9=x9?x9.toStringTag:void 0;function aue(t){return t==null?t===void 0?rue:lue:R9&&R9 in Object(t)?nue(t):iue(t)}var us=aue,sue=Array.isArray,Li=sue;function oue(t){return t!=null&&typeof t=="object"}var Hl=oue,cue=us,uue=Li,due=Hl,mue="[object String]";function hue(t){return typeof t=="string"||!uue(t)&&due(t)&&cue(t)==mue}var bue=hue;function pue(t){return function(e,n,i){for(var l=-1,r=Object(e),a=i(e),s=a.length;s--;){var o=a[t?s:++l];if(n(r[o],o,r)===!1)break}return e}}var Zue=pue,fue=Zue,yue=fue(),Gue=yue;function Xue(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var gue=Xue,Wue=us,Vue=Hl,Tue="[object Arguments]";function xue(t){return Vue(t)&&Wue(t)==Tue}var Rue=xue,S9=Rue,Sue=Hl,FC=Object.prototype,Yue=FC.hasOwnProperty,Lue=FC.propertyIsEnumerable,Mue=S9(function(){return arguments}())?S9:function(t){return Sue(t)&&Yue.call(t,"callee")&&!Lue.call(t,"callee")},zC=Mue,Jp={exports:{}};function Nue(){return!1}var vue=Nue;Jp.exports;(function(t,e){var n=sl,i=vue,l=e&&!e.nodeType&&e,r=l&&!0&&t&&!t.nodeType&&t,a=r&&r.exports===l,s=a?n.Buffer:void 0,o=s?s.isBuffer:void 0,c=o||i;t.exports=c})(Jp,Jp.exports);var IV=Jp.exports,Iue=9007199254740991,wue=/^(?:0|[1-9]\d*)$/;function Jue(t,e){var n=typeof t;return e=e??Iue,!!e&&(n=="number"||n!="symbol"&&wue.test(t))&&t>-1&&t%1==0&&t<e}var jC=Jue,Cue=9007199254740991;function kue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Cue}var wV=kue,Eue=us,Kue=wV,Uue=Hl,Pue="[object Arguments]",Fue="[object Array]",zue="[object Boolean]",jue="[object Date]",Hue="[object Error]",Due="[object Function]",Oue="[object Map]",Bue="[object Number]",Que="[object Object]",Aue="[object RegExp]",_ue="[object Set]",$ue="[object String]",que="[object WeakMap]",ede="[object ArrayBuffer]",tde="[object DataView]",nde="[object Float32Array]",ide="[object Float64Array]",lde="[object Int8Array]",rde="[object Int16Array]",ade="[object Int32Array]",sde="[object Uint8Array]",ode="[object Uint8ClampedArray]",cde="[object Uint16Array]",ude="[object Uint32Array]",tt={};tt[nde]=tt[ide]=tt[lde]=tt[rde]=tt[ade]=tt[sde]=tt[ode]=tt[cde]=tt[ude]=!0;tt[Pue]=tt[Fue]=tt[ede]=tt[zue]=tt[tde]=tt[jue]=tt[Hue]=tt[Due]=tt[Oue]=tt[Bue]=tt[Que]=tt[Aue]=tt[_ue]=tt[$ue]=tt[que]=!1;function dde(t){return Uue(t)&&Kue(t.length)&&!!tt[Eue(t)]}var mde=dde;function hde(t){return function(e){return t(e)}}var JV=hde,Cp={exports:{}};Cp.exports;(function(t,e){var n=UC,i=e&&!e.nodeType&&e,l=i&&!0&&t&&!t.nodeType&&t,r=l&&l.exports===i,a=r&&n.process,s=function(){try{var o=l&&l.require&&l.require("util").types;return o||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Cp,Cp.exports);var CV=Cp.exports,bde=mde,pde=JV,Y9=CV,L9=Y9&&Y9.isTypedArray,Zde=L9?pde(L9):bde,HC=Zde,fde=gue,yde=zC,Gde=Li,Xde=IV,gde=jC,Wde=HC,Vde=Object.prototype,Tde=Vde.hasOwnProperty;function xde(t,e){var n=Gde(t),i=!n&&yde(t),l=!n&&!i&&Xde(t),r=!n&&!i&&!l&&Wde(t),a=n||i||l||r,s=a?fde(t.length,String):[],o=s.length;for(var c in t)(e||Tde.call(t,c))&&!(a&&(c=="length"||l&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gde(c,o)))&&s.push(c);return s}var DC=xde,Rde=Object.prototype;function Sde(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Rde;return t===n}var kV=Sde;function Yde(t,e){return function(n){return t(e(n))}}var OC=Yde,Lde=OC,Mde=Lde(Object.keys,Object),Nde=Mde,vde=kV,Ide=Nde,wde=Object.prototype,Jde=wde.hasOwnProperty;function Cde(t){if(!vde(t))return Ide(t);var e=[];for(var n in Object(t))Jde.call(t,n)&&n!="constructor"&&e.push(n);return e}var kde=Cde;function Ede(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Gc=Ede,Kde=us,Ude=Gc,Pde="[object AsyncFunction]",Fde="[object Function]",zde="[object GeneratorFunction]",jde="[object Proxy]";function Hde(t){if(!Ude(t))return!1;var e=Kde(t);return e==Fde||e==zde||e==Pde||e==jde}var BC=Hde,Dde=BC,Ode=wV;function Bde(t){return t!=null&&Ode(t.length)&&!Dde(t)}var n0=Bde,Qde=DC,Ade=kde,_de=n0;function $de(t){return _de(t)?Qde(t):Ade(t)}var gm=$de,qde=Gue,eme=gm;function tme(t,e){return t&&qde(t,e,eme)}var QC=tme;function nme(t){return t}var AC=nme,ime=AC;function lme(t){return typeof t=="function"?t:ime}var rme=lme,ame=QC,sme=rme;function ome(t,e){return t&&ame(t,sme(e))}var EV=ome,cme=OC,ume=cme(Object.getPrototypeOf,Object),KV=ume,dme=us,mme=KV,hme=Hl,bme="[object Object]",pme=Function.prototype,Zme=Object.prototype,_C=pme.toString,fme=Zme.hasOwnProperty,yme=_C.call(Object);function Gme(t){if(!hme(t)||dme(t)!=bme)return!1;var e=mme(t);if(e===null)return!0;var n=fme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_C.call(n)==yme}var Xme=Gme;function gme(t,e){for(var n=-1,i=t==null?0:t.length,l=Array(i);++n<i;)l[n]=e(t[n],n,t);return l}var $C=gme;function Wme(){this.__data__=[],this.size=0}var Vme=Wme;function Tme(t,e){return t===e||t!==t&&e!==e}var UV=Tme,xme=UV;function Rme(t,e){for(var n=t.length;n--;)if(xme(t[n][0],e))return n;return-1}var i0=Rme,Sme=i0,Yme=Array.prototype,Lme=Yme.splice;function Mme(t){var e=this.__data__,n=Sme(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Lme.call(e,n,1),--this.size,!0}var Nme=Mme,vme=i0;function Ime(t){var e=this.__data__,n=vme(e,t);return n<0?void 0:e[n][1]}var wme=Ime,Jme=i0;function Cme(t){return Jme(this.__data__,t)>-1}var kme=Cme,Eme=i0;function Kme(t,e){var n=this.__data__,i=Eme(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var Ume=Kme,Pme=Vme,Fme=Nme,zme=wme,jme=kme,Hme=Ume;function Xc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Xc.prototype.clear=Pme;Xc.prototype.delete=Fme;Xc.prototype.get=zme;Xc.prototype.has=jme;Xc.prototype.set=Hme;var l0=Xc,Dme=l0;function Ome(){this.__data__=new Dme,this.size=0}var Bme=Ome;function Qme(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ame=Qme;function _me(t){return this.__data__.get(t)}var $me=_me;function qme(t){return this.__data__.has(t)}var ehe=qme,the=sl,nhe=the["__core-js_shared__"],ihe=nhe,py=ihe,M9=function(){var t=/[^.]+$/.exec(py&&py.keys&&py.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function lhe(t){return!!M9&&M9 in t}var rhe=lhe,ahe=Function.prototype,she=ahe.toString;function ohe(t){if(t!=null){try{return she.call(t)}catch{}try{return t+""}catch{}}return""}var qC=ohe,che=BC,uhe=rhe,dhe=Gc,mhe=qC,hhe=/[\\^$.*+?()[\]{}|]/g,bhe=/^\[object .+?Constructor\]$/,phe=Function.prototype,Zhe=Object.prototype,fhe=phe.toString,yhe=Zhe.hasOwnProperty,Ghe=RegExp("^"+fhe.call(yhe).replace(hhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xhe(t){if(!dhe(t)||uhe(t))return!1;var e=che(t)?Ghe:bhe;return e.test(mhe(t))}var ghe=Xhe;function Whe(t,e){return t==null?void 0:t[e]}var Vhe=Whe,The=ghe,xhe=Vhe;function Rhe(t,e){var n=xhe(t,e);return The(n)?n:void 0}var ds=Rhe,She=ds,Yhe=sl,Lhe=She(Yhe,"Map"),PV=Lhe,Mhe=ds,Nhe=Mhe(Object,"create"),r0=Nhe,N9=r0;function vhe(){this.__data__=N9?N9(null):{},this.size=0}var Ihe=vhe;function whe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Jhe=whe,Che=r0,khe="__lodash_hash_undefined__",Ehe=Object.prototype,Khe=Ehe.hasOwnProperty;function Uhe(t){var e=this.__data__;if(Che){var n=e[t];return n===khe?void 0:n}return Khe.call(e,t)?e[t]:void 0}var Phe=Uhe,Fhe=r0,zhe=Object.prototype,jhe=zhe.hasOwnProperty;function Hhe(t){var e=this.__data__;return Fhe?e[t]!==void 0:jhe.call(e,t)}var Dhe=Hhe,Ohe=r0,Bhe="__lodash_hash_undefined__";function Qhe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ohe&&e===void 0?Bhe:e,this}var Ahe=Qhe,_he=Ihe,$he=Jhe,qhe=Phe,ebe=Dhe,tbe=Ahe;function gc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}gc.prototype.clear=_he;gc.prototype.delete=$he;gc.prototype.get=qhe;gc.prototype.has=ebe;gc.prototype.set=tbe;var nbe=gc,v9=nbe,ibe=l0,lbe=PV;function rbe(){this.size=0,this.__data__={hash:new v9,map:new(lbe||ibe),string:new v9}}var abe=rbe;function sbe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var obe=sbe,cbe=obe;function ube(t,e){var n=t.__data__;return cbe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var a0=ube,dbe=a0;function mbe(t){var e=dbe(this,t).delete(t);return this.size-=e?1:0,e}var hbe=mbe,bbe=a0;function pbe(t){return bbe(this,t).get(t)}var Zbe=pbe,fbe=a0;function ybe(t){return fbe(this,t).has(t)}var Gbe=ybe,Xbe=a0;function gbe(t,e){var n=Xbe(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var Wbe=gbe,Vbe=abe,Tbe=hbe,xbe=Zbe,Rbe=Gbe,Sbe=Wbe;function Wc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Wc.prototype.clear=Vbe;Wc.prototype.delete=Tbe;Wc.prototype.get=xbe;Wc.prototype.has=Rbe;Wc.prototype.set=Sbe;var FV=Wc,Ybe=l0,Lbe=PV,Mbe=FV,Nbe=200;function vbe(t,e){var n=this.__data__;if(n instanceof Ybe){var i=n.__data__;if(!Lbe||i.length<Nbe-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Mbe(i)}return n.set(t,e),this.size=n.size,this}var Ibe=vbe,wbe=l0,Jbe=Bme,Cbe=Ame,kbe=$me,Ebe=ehe,Kbe=Ibe;function Vc(t){var e=this.__data__=new wbe(t);this.size=e.size}Vc.prototype.clear=Jbe;Vc.prototype.delete=Cbe;Vc.prototype.get=kbe;Vc.prototype.has=Ebe;Vc.prototype.set=Kbe;var zV=Vc,Ube="__lodash_hash_undefined__";function Pbe(t){return this.__data__.set(t,Ube),this}var Fbe=Pbe;function zbe(t){return this.__data__.has(t)}var jbe=zbe,Hbe=FV,Dbe=Fbe,Obe=jbe;function kp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Hbe;++e<n;)this.add(t[e])}kp.prototype.add=kp.prototype.push=Dbe;kp.prototype.has=Obe;var Bbe=kp;function Qbe(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Abe=Qbe;function _be(t,e){return t.has(e)}var $be=_be,qbe=Bbe,epe=Abe,tpe=$be,npe=1,ipe=2;function lpe(t,e,n,i,l,r){var a=n&npe,s=t.length,o=e.length;if(s!=o&&!(a&&o>s))return!1;var c=r.get(t),u=r.get(e);if(c&&u)return c==e&&u==t;var d=-1,m=!0,h=n&ipe?new qbe:void 0;for(r.set(t,e),r.set(e,t);++d<s;){var b=t[d],Z=e[d];if(i)var p=a?i(Z,b,d,e,t,r):i(b,Z,d,t,e,r);if(p!==void 0){if(p)continue;m=!1;break}if(h){if(!epe(e,function(f,G){if(!tpe(h,G)&&(b===f||l(b,f,n,i,r)))return h.push(G)})){m=!1;break}}else if(!(b===Z||l(b,Z,n,i,r))){m=!1;break}}return r.delete(t),r.delete(e),m}var ek=lpe,rpe=sl,ape=rpe.Uint8Array,tk=ape;function spe(t){var e=-1,n=Array(t.size);return t.forEach(function(i,l){n[++e]=[l,i]}),n}var ope=spe;function cpe(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var upe=cpe,I9=Xm,w9=tk,dpe=UV,mpe=ek,hpe=ope,bpe=upe,ppe=1,Zpe=2,fpe="[object Boolean]",ype="[object Date]",Gpe="[object Error]",Xpe="[object Map]",gpe="[object Number]",Wpe="[object RegExp]",Vpe="[object Set]",Tpe="[object String]",xpe="[object Symbol]",Rpe="[object ArrayBuffer]",Spe="[object DataView]",J9=I9?I9.prototype:void 0,Zy=J9?J9.valueOf:void 0;function Ype(t,e,n,i,l,r,a){switch(n){case Spe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Rpe:return!(t.byteLength!=e.byteLength||!r(new w9(t),new w9(e)));case fpe:case ype:case gpe:return dpe(+t,+e);case Gpe:return t.name==e.name&&t.message==e.message;case Wpe:case Tpe:return t==e+"";case Xpe:var s=hpe;case Vpe:var o=i&ppe;if(s||(s=bpe),t.size!=e.size&&!o)return!1;var c=a.get(t);if(c)return c==e;i|=Zpe,a.set(t,e);var u=mpe(s(t),s(e),i,l,r,a);return a.delete(t),u;case xpe:if(Zy)return Zy.call(t)==Zy.call(e)}return!1}var Lpe=Ype;function Mpe(t,e){for(var n=-1,i=e.length,l=t.length;++n<i;)t[l+n]=e[n];return t}var nk=Mpe,Npe=nk,vpe=Li;function Ipe(t,e,n){var i=e(t);return vpe(t)?i:Npe(i,n(t))}var ik=Ipe;function wpe(t,e){for(var n=-1,i=t==null?0:t.length,l=0,r=[];++n<i;){var a=t[n];e(a,n,t)&&(r[l++]=a)}return r}var Jpe=wpe;function Cpe(){return[]}var lk=Cpe,kpe=Jpe,Epe=lk,Kpe=Object.prototype,Upe=Kpe.propertyIsEnumerable,C9=Object.getOwnPropertySymbols,Ppe=C9?function(t){return t==null?[]:(t=Object(t),kpe(C9(t),function(e){return Upe.call(t,e)}))}:Epe,jV=Ppe,Fpe=ik,zpe=jV,jpe=gm;function Hpe(t){return Fpe(t,jpe,zpe)}var rk=Hpe,k9=rk,Dpe=1,Ope=Object.prototype,Bpe=Ope.hasOwnProperty;function Qpe(t,e,n,i,l,r){var a=n&Dpe,s=k9(t),o=s.length,c=k9(e),u=c.length;if(o!=u&&!a)return!1;for(var d=o;d--;){var m=s[d];if(!(a?m in e:Bpe.call(e,m)))return!1}var h=r.get(t),b=r.get(e);if(h&&b)return h==e&&b==t;var Z=!0;r.set(t,e),r.set(e,t);for(var p=a;++d<o;){m=s[d];var f=t[m],G=e[m];if(i)var V=a?i(G,f,m,e,t,r):i(f,G,m,t,e,r);if(!(V===void 0?f===G||l(f,G,n,i,r):V)){Z=!1;break}p||(p=m=="constructor")}if(Z&&!p){var X=t.constructor,L=e.constructor;X!=L&&"constructor"in t&&"constructor"in e&&!(typeof X=="function"&&X instanceof X&&typeof L=="function"&&L instanceof L)&&(Z=!1)}return r.delete(t),r.delete(e),Z}var Ape=Qpe,_pe=ds,$pe=sl,qpe=_pe($pe,"DataView"),eZe=qpe,tZe=ds,nZe=sl,iZe=tZe(nZe,"Promise"),lZe=iZe,rZe=ds,aZe=sl,sZe=rZe(aZe,"Set"),oZe=sZe,cZe=ds,uZe=sl,dZe=cZe(uZe,"WeakMap"),mZe=dZe,f1=eZe,y1=PV,G1=lZe,X1=oZe,g1=mZe,ak=us,Tc=qC,E9="[object Map]",hZe="[object Object]",K9="[object Promise]",U9="[object Set]",P9="[object WeakMap]",F9="[object DataView]",bZe=Tc(f1),pZe=Tc(y1),ZZe=Tc(G1),fZe=Tc(X1),yZe=Tc(g1),ba=ak;(f1&&ba(new f1(new ArrayBuffer(1)))!=F9||y1&&ba(new y1)!=E9||G1&&ba(G1.resolve())!=K9||X1&&ba(new X1)!=U9||g1&&ba(new g1)!=P9)&&(ba=function(t){var e=ak(t),n=e==hZe?t.constructor:void 0,i=n?Tc(n):"";if(i)switch(i){case bZe:return F9;case pZe:return E9;case ZZe:return K9;case fZe:return U9;case yZe:return P9}return e});var s0=ba,fy=zV,GZe=ek,XZe=Lpe,gZe=Ape,z9=s0,j9=Li,H9=IV,WZe=HC,VZe=1,D9="[object Arguments]",O9="[object Array]",xh="[object Object]",TZe=Object.prototype,B9=TZe.hasOwnProperty;function xZe(t,e,n,i,l,r){var a=j9(t),s=j9(e),o=a?O9:z9(t),c=s?O9:z9(e);o=o==D9?xh:o,c=c==D9?xh:c;var u=o==xh,d=c==xh,m=o==c;if(m&&H9(t)){if(!H9(e))return!1;a=!0,u=!1}if(m&&!u)return r||(r=new fy),a||WZe(t)?GZe(t,e,n,i,l,r):XZe(t,e,o,n,i,l,r);if(!(n&VZe)){var h=u&&B9.call(t,"__wrapped__"),b=d&&B9.call(e,"__wrapped__");if(h||b){var Z=h?t.value():t,p=b?e.value():e;return r||(r=new fy),l(Z,p,n,i,r)}}return m?(r||(r=new fy),gZe(t,e,n,i,l,r)):!1}var RZe=xZe,SZe=RZe,Q9=Hl;function sk(t,e,n,i,l){return t===e?!0:t==null||e==null||!Q9(t)&&!Q9(e)?t!==t&&e!==e:SZe(t,e,n,i,sk,l)}var ok=sk,YZe=zV,LZe=ok,MZe=1,NZe=2;function vZe(t,e,n,i){var l=n.length,r=l,a=!i;if(t==null)return!r;for(t=Object(t);l--;){var s=n[l];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++l<r;){s=n[l];var o=s[0],c=t[o],u=s[1];if(a&&s[2]){if(c===void 0&&!(o in t))return!1}else{var d=new YZe;if(i)var m=i(c,u,o,t,e,d);if(!(m===void 0?LZe(u,c,MZe|NZe,i,d):m))return!1}}return!0}var IZe=vZe,wZe=Gc;function JZe(t){return t===t&&!wZe(t)}var ck=JZe,CZe=ck,kZe=gm;function EZe(t){for(var e=kZe(t),n=e.length;n--;){var i=e[n],l=t[i];e[n]=[i,l,CZe(l)]}return e}var KZe=EZe;function UZe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var uk=UZe,PZe=IZe,FZe=KZe,zZe=uk;function jZe(t){var e=FZe(t);return e.length==1&&e[0][2]?zZe(e[0][0],e[0][1]):function(n){return n===t||PZe(n,t,e)}}var HZe=jZe,DZe=us,OZe=Hl,BZe="[object Symbol]";function QZe(t){return typeof t=="symbol"||OZe(t)&&DZe(t)==BZe}var HV=QZe,AZe=Li,_Ze=HV,$Ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qZe=/^\w*$/;function e0e(t,e){if(AZe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_Ze(t)?!0:qZe.test(t)||!$Ze.test(t)||e!=null&&t in Object(e)}var DV=e0e,dk=FV,t0e="Expected a function";function OV(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(t0e);var n=function(){var i=arguments,l=e?e.apply(this,i):i[0],r=n.cache;if(r.has(l))return r.get(l);var a=t.apply(this,i);return n.cache=r.set(l,a)||r,a};return n.cache=new(OV.Cache||dk),n}OV.Cache=dk;var n0e=OV,i0e=n0e,l0e=500;function r0e(t){var e=i0e(t,function(i){return n.size===l0e&&n.clear(),i}),n=e.cache;return e}var a0e=r0e,s0e=a0e,o0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c0e=/\\(\\)?/g,u0e=s0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(o0e,function(n,i,l,r){e.push(l?r.replace(c0e,"$1"):i||n)}),e}),d0e=u0e,A9=Xm,m0e=$C,h0e=Li,b0e=HV,p0e=1/0,_9=A9?A9.prototype:void 0,$9=_9?_9.toString:void 0;function mk(t){if(typeof t=="string")return t;if(h0e(t))return m0e(t,mk)+"";if(b0e(t))return $9?$9.call(t):"";var e=t+"";return e=="0"&&1/t==-p0e?"-0":e}var Z0e=mk,f0e=Z0e;function y0e(t){return t==null?"":f0e(t)}var G0e=y0e,X0e=Li,g0e=DV,W0e=d0e,V0e=G0e;function T0e(t,e){return X0e(t)?t:g0e(t,e)?[t]:W0e(V0e(t))}var hk=T0e,x0e=HV,R0e=1/0;function S0e(t){if(typeof t=="string"||x0e(t))return t;var e=t+"";return e=="0"&&1/t==-R0e?"-0":e}var o0=S0e,Y0e=hk,L0e=o0;function M0e(t,e){e=Y0e(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[L0e(e[n++])];return n&&n==i?t:void 0}var bk=M0e,N0e=bk;function v0e(t,e,n){var i=t==null?void 0:N0e(t,e);return i===void 0?n:i}var I0e=v0e;function w0e(t,e){return t!=null&&e in Object(t)}var J0e=w0e,C0e=hk,k0e=zC,E0e=Li,K0e=jC,U0e=wV,P0e=o0;function F0e(t,e,n){e=C0e(e,t);for(var i=-1,l=e.length,r=!1;++i<l;){var a=P0e(e[i]);if(!(r=t!=null&&n(t,a)))break;t=t[a]}return r||++i!=l?r:(l=t==null?0:t.length,!!l&&U0e(l)&&K0e(a,l)&&(E0e(t)||k0e(t)))}var z0e=F0e,j0e=J0e,H0e=z0e;function D0e(t,e){return t!=null&&H0e(t,e,j0e)}var O0e=D0e,B0e=ok,Q0e=I0e,A0e=O0e,_0e=DV,$0e=ck,q0e=uk,efe=o0,tfe=1,nfe=2;function ife(t,e){return _0e(t)&&$0e(e)?q0e(efe(t),e):function(n){var i=Q0e(n,t);return i===void 0&&i===e?A0e(n,t):B0e(e,i,tfe|nfe)}}var lfe=ife;function rfe(t){return function(e){return e==null?void 0:e[t]}}var afe=rfe,sfe=bk;function ofe(t){return function(e){return sfe(e,t)}}var cfe=ofe,ufe=afe,dfe=cfe,mfe=DV,hfe=o0;function bfe(t){return mfe(t)?ufe(hfe(t)):dfe(t)}var pfe=bfe,Zfe=HZe,ffe=lfe,yfe=AC,Gfe=Li,Xfe=pfe;function gfe(t){return typeof t=="function"?t:t==null?yfe:typeof t=="object"?Gfe(t)?ffe(t[0],t[1]):Zfe(t):Xfe(t)}var Wfe=gfe,Vfe=n0;function Tfe(t,e){return function(n,i){if(n==null)return n;if(!Vfe(n))return t(n,i);for(var l=n.length,r=e?l:-1,a=Object(n);(e?r--:++r<l)&&i(a[r],r,a)!==!1;);return n}}var xfe=Tfe,Rfe=QC,Sfe=xfe,Yfe=Sfe(Rfe),Lfe=Yfe,Mfe=Lfe,Nfe=n0;function vfe(t,e){var n=-1,i=Nfe(t)?Array(t.length):[];return Mfe(t,function(l,r,a){i[++n]=e(l,r,a)}),i}var Ife=vfe,wfe=$C,Jfe=Wfe,Cfe=Ife,kfe=Li;function Efe(t,e){var n=kfe(t)?wfe:Cfe;return n(t,Jfe(e))}var Kfe=Efe;Object.defineProperty(Gm,"__esModule",{value:!0});Gm.flattenNames=void 0;var Ufe=bue,Pfe=c0(Ufe),Ffe=EV,zfe=c0(Ffe),jfe=Xme,Hfe=c0(jfe),Dfe=Kfe,Ofe=c0(Dfe);function c0(t){return t&&t.__esModule?t:{default:t}}var Bfe=Gm.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Ofe.default)(e,function(i){Array.isArray(i)?t(i).map(function(l){return n.push(l)}):(0,Hfe.default)(i)?(0,zfe.default)(i,function(l,r){l===!0&&n.push(r),n.push(r+"-"+l)}):(0,Pfe.default)(i)&&n.push(i)}),n};Gm.default=Bfe;var Wm={};function Qfe(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var Afe=Qfe,_fe=ds,$fe=function(){try{var t=_fe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),qfe=$fe,q9=qfe;function eye(t,e,n){e=="__proto__"&&q9?q9(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var pk=eye,tye=pk,nye=UV,iye=Object.prototype,lye=iye.hasOwnProperty;function rye(t,e,n){var i=t[e];(!(lye.call(t,e)&&nye(i,n))||n===void 0&&!(e in t))&&tye(t,e,n)}var Zk=rye,aye=Zk,sye=pk;function oye(t,e,n,i){var l=!n;n||(n={});for(var r=-1,a=e.length;++r<a;){var s=e[r],o=i?i(n[s],t[s],s,n,t):void 0;o===void 0&&(o=t[s]),l?sye(n,s,o):aye(n,s,o)}return n}var u0=oye,cye=u0,uye=gm;function dye(t,e){return t&&cye(e,uye(e),t)}var mye=dye;function hye(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var bye=hye,pye=Gc,Zye=kV,fye=bye,yye=Object.prototype,Gye=yye.hasOwnProperty;function Xye(t){if(!pye(t))return fye(t);var e=Zye(t),n=[];for(var i in t)i=="constructor"&&(e||!Gye.call(t,i))||n.push(i);return n}var gye=Xye,Wye=DC,Vye=gye,Tye=n0;function xye(t){return Tye(t)?Wye(t,!0):Vye(t)}var BV=xye,Rye=u0,Sye=BV;function Yye(t,e){return t&&Rye(e,Sye(e),t)}var Lye=Yye,Ep={exports:{}};Ep.exports;(function(t,e){var n=sl,i=e&&!e.nodeType&&e,l=i&&!0&&t&&!t.nodeType&&t,r=l&&l.exports===i,a=r?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function o(c,u){if(u)return c.slice();var d=c.length,m=s?s(d):new c.constructor(d);return c.copy(m),m}t.exports=o})(Ep,Ep.exports);var Mye=Ep.exports;function Nye(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var vye=Nye,Iye=u0,wye=jV;function Jye(t,e){return Iye(t,wye(t),e)}var Cye=Jye,kye=nk,Eye=KV,Kye=jV,Uye=lk,Pye=Object.getOwnPropertySymbols,Fye=Pye?function(t){for(var e=[];t;)kye(e,Kye(t)),t=Eye(t);return e}:Uye,fk=Fye,zye=u0,jye=fk;function Hye(t,e){return zye(t,jye(t),e)}var Dye=Hye,Oye=ik,Bye=fk,Qye=BV;function Aye(t){return Oye(t,Qye,Bye)}var _ye=Aye,$ye=Object.prototype,qye=$ye.hasOwnProperty;function eGe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&qye.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var tGe=eGe,eL=tk;function nGe(t){var e=new t.constructor(t.byteLength);return new eL(e).set(new eL(t)),e}var QV=nGe,iGe=QV;function lGe(t,e){var n=e?iGe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var rGe=lGe,aGe=/\w*$/;function sGe(t){var e=new t.constructor(t.source,aGe.exec(t));return e.lastIndex=t.lastIndex,e}var oGe=sGe,tL=Xm,nL=tL?tL.prototype:void 0,iL=nL?nL.valueOf:void 0;function cGe(t){return iL?Object(iL.call(t)):{}}var uGe=cGe,dGe=QV;function mGe(t,e){var n=e?dGe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var hGe=mGe,bGe=QV,pGe=rGe,ZGe=oGe,fGe=uGe,yGe=hGe,GGe="[object Boolean]",XGe="[object Date]",gGe="[object Map]",WGe="[object Number]",VGe="[object RegExp]",TGe="[object Set]",xGe="[object String]",RGe="[object Symbol]",SGe="[object ArrayBuffer]",YGe="[object DataView]",LGe="[object Float32Array]",MGe="[object Float64Array]",NGe="[object Int8Array]",vGe="[object Int16Array]",IGe="[object Int32Array]",wGe="[object Uint8Array]",JGe="[object Uint8ClampedArray]",CGe="[object Uint16Array]",kGe="[object Uint32Array]";function EGe(t,e,n){var i=t.constructor;switch(e){case SGe:return bGe(t);case GGe:case XGe:return new i(+t);case YGe:return pGe(t,n);case LGe:case MGe:case NGe:case vGe:case IGe:case wGe:case JGe:case CGe:case kGe:return yGe(t,n);case gGe:return new i;case WGe:case xGe:return new i(t);case VGe:return ZGe(t);case TGe:return new i;case RGe:return fGe(t)}}var KGe=EGe,UGe=Gc,lL=Object.create,PGe=function(){function t(){}return function(e){if(!UGe(e))return{};if(lL)return lL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),FGe=PGe,zGe=FGe,jGe=KV,HGe=kV;function DGe(t){return typeof t.constructor=="function"&&!HGe(t)?zGe(jGe(t)):{}}var OGe=DGe,BGe=s0,QGe=Hl,AGe="[object Map]";function _Ge(t){return QGe(t)&&BGe(t)==AGe}var $Ge=_Ge,qGe=$Ge,eXe=JV,rL=CV,aL=rL&&rL.isMap,tXe=aL?eXe(aL):qGe,nXe=tXe,iXe=s0,lXe=Hl,rXe="[object Set]";function aXe(t){return lXe(t)&&iXe(t)==rXe}var sXe=aXe,oXe=sXe,cXe=JV,sL=CV,oL=sL&&sL.isSet,uXe=oL?cXe(oL):oXe,dXe=uXe,mXe=zV,hXe=Afe,bXe=Zk,pXe=mye,ZXe=Lye,fXe=Mye,yXe=vye,GXe=Cye,XXe=Dye,gXe=rk,WXe=_ye,VXe=s0,TXe=tGe,xXe=KGe,RXe=OGe,SXe=Li,YXe=IV,LXe=nXe,MXe=Gc,NXe=dXe,vXe=gm,IXe=BV,wXe=1,JXe=2,CXe=4,yk="[object Arguments]",kXe="[object Array]",EXe="[object Boolean]",KXe="[object Date]",UXe="[object Error]",Gk="[object Function]",PXe="[object GeneratorFunction]",FXe="[object Map]",zXe="[object Number]",Xk="[object Object]",jXe="[object RegExp]",HXe="[object Set]",DXe="[object String]",OXe="[object Symbol]",BXe="[object WeakMap]",QXe="[object ArrayBuffer]",AXe="[object DataView]",_Xe="[object Float32Array]",$Xe="[object Float64Array]",qXe="[object Int8Array]",e1e="[object Int16Array]",t1e="[object Int32Array]",n1e="[object Uint8Array]",i1e="[object Uint8ClampedArray]",l1e="[object Uint16Array]",r1e="[object Uint32Array]",Oe={};Oe[yk]=Oe[kXe]=Oe[QXe]=Oe[AXe]=Oe[EXe]=Oe[KXe]=Oe[_Xe]=Oe[$Xe]=Oe[qXe]=Oe[e1e]=Oe[t1e]=Oe[FXe]=Oe[zXe]=Oe[Xk]=Oe[jXe]=Oe[HXe]=Oe[DXe]=Oe[OXe]=Oe[n1e]=Oe[i1e]=Oe[l1e]=Oe[r1e]=!0;Oe[UXe]=Oe[Gk]=Oe[BXe]=!1;function pb(t,e,n,i,l,r){var a,s=e&wXe,o=e&JXe,c=e&CXe;if(n&&(a=l?n(t,i,l,r):n(t)),a!==void 0)return a;if(!MXe(t))return t;var u=SXe(t);if(u){if(a=TXe(t),!s)return yXe(t,a)}else{var d=VXe(t),m=d==Gk||d==PXe;if(YXe(t))return fXe(t,s);if(d==Xk||d==yk||m&&!l){if(a=o||m?{}:RXe(t),!s)return o?XXe(t,ZXe(a,t)):GXe(t,pXe(a,t))}else{if(!Oe[d])return l?t:{};a=xXe(t,d,s)}}r||(r=new mXe);var h=r.get(t);if(h)return h;r.set(t,a),NXe(t)?t.forEach(function(p){a.add(pb(p,e,n,p,t,r))}):LXe(t)&&t.forEach(function(p,f){a.set(f,pb(p,e,n,f,t,r))});var b=c?o?WXe:gXe:o?IXe:vXe,Z=u?void 0:b(t);return hXe(Z||t,function(p,f){Z&&(f=p,p=t[f]),bXe(a,f,pb(p,e,n,f,t,r))}),a}var a1e=pb,s1e=a1e,o1e=1,c1e=4;function u1e(t){return s1e(t,o1e|c1e)}var d1e=u1e;Object.defineProperty(Wm,"__esModule",{value:!0});Wm.mergeClasses=void 0;var m1e=EV,h1e=gk(m1e),b1e=d1e,p1e=gk(b1e),Z1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function gk(t){return t&&t.__esModule?t:{default:t}}var f1e=Wm.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=e.default&&(0,p1e.default)(e.default)||{};return n.map(function(l){var r=e[l];return r&&(0,h1e.default)(r,function(a,s){i[s]||(i[s]={}),i[s]=Z1e({},i[s],r[s])}),l}),i};Wm.default=f1e;var Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.autoprefix=void 0;var y1e=EV,cL=X1e(y1e),G1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function X1e(t){return t&&t.__esModule?t:{default:t}}var g1e={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var i=n[e];return i||{extend:e}}},W1e=Vm.autoprefix=function(e){var n={};return(0,cL.default)(e,function(i,l){var r={};(0,cL.default)(i,function(a,s){var o=g1e[s];o?r=G1e({},r,o(a)):r[s]=a}),n[l]=r}),n};Vm.default=W1e;var Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});Tm.hover=void 0;var V1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},T1e=T,yy=x1e(T1e);function x1e(t){return t&&t.__esModule?t:{default:t}}function R1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function S1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Y1e=Tm.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(i){S1e(l,i);function l(){var r,a,s,o;R1e(this,l);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=(a=(s=uL(this,(r=l.__proto__||Object.getPrototypeOf(l)).call.apply(r,[this].concat(u))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return yy.default.createElement(n,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},yy.default.createElement(e,V1e({},s.props,s.state)))},a),uL(s,o)}return l}(yy.default.Component)};Tm.default=Y1e;var xm={};Object.defineProperty(xm,"__esModule",{value:!0});xm.active=void 0;var L1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},M1e=T,Gy=N1e(M1e);function N1e(t){return t&&t.__esModule?t:{default:t}}function v1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function I1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w1e=xm.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(i){I1e(l,i);function l(){var r,a,s,o;v1e(this,l);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=(a=(s=dL(this,(r=l.__proto__||Object.getPrototypeOf(l)).call.apply(r,[this].concat(u))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return Gy.default.createElement(n,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},Gy.default.createElement(e,L1e({},s.props,s.state)))},a),dL(s,o)}return l}(Gy.default.Component)};xm.default=w1e;var AV={};Object.defineProperty(AV,"__esModule",{value:!0});var J1e=function(e,n){var i={},l=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[a]=s};return e===0&&l("first-child"),e===n-1&&l("last-child"),(e===0||e%2===0)&&l("even"),Math.abs(e%2)===1&&l("odd"),l("nth-child",e),i};AV.default=J1e;Object.defineProperty(zn,"__esModule",{value:!0});zn.ReactCSS=zn.loop=zn.handleActive=_V=zn.handleHover=zn.hover=void 0;var C1e=Gm,k1e=xc(C1e),E1e=Wm,K1e=xc(E1e),U1e=Vm,P1e=xc(U1e),F1e=Tm,Wk=xc(F1e),z1e=xm,j1e=xc(z1e),H1e=AV,D1e=xc(H1e);function xc(t){return t&&t.__esModule?t:{default:t}}zn.hover=Wk.default;var _V=zn.handleHover=Wk.default;zn.handleActive=j1e.default;zn.loop=D1e.default;var O1e=zn.ReactCSS=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];var r=(0,k1e.default)(i),a=(0,K1e.default)(e,r);return(0,P1e.default)(a)},ge=zn.default=O1e,B1e=function(e,n,i,l,r){var a=r.clientWidth,s=r.clientHeight,o=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=o-(r.getBoundingClientRect().left+window.pageXOffset),d=c-(r.getBoundingClientRect().top+window.pageYOffset);if(i==="vertical"){var m=void 0;if(d<0?m=0:d>s?m=1:m=Math.round(d*100/s)/100,n.a!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}else{var h=void 0;if(u<0?h=0:u>a?h=1:h=Math.round(u*100/a)/100,l!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}return null},Xy={},Q1e=function(e,n,i,l){if(typeof document>"u"&&!l)return null;var r=l?new l:document.createElement("canvas");r.width=i*2,r.height=i*2;var a=r.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,r.width,r.height),a.fillStyle=n,a.fillRect(0,0,i,i),a.translate(i,i),a.fillRect(0,0,i,i),r.toDataURL()):null},A1e=function(e,n,i,l){var r=e+"-"+n+"-"+i+(l?"-server":"");if(Xy[r])return Xy[r];var a=Q1e(e,n,i,l);return Xy[r]=a,a},mL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rc=function(e){var n=e.white,i=e.grey,l=e.size,r=e.renderers,a=e.borderRadius,s=e.boxShadow,o=e.children,c=ge({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+A1e(n,i,l,r.canvas)+") center left"}}});return T.isValidElement(o)?S.cloneElement(o,mL({},o.props,{style:mL({},o.props.style,c.grid)})):S.createElement("div",{style:c.grid})};Rc.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$1e=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $V=function(t){ege(e,t);function e(){var n,i,l,r;q1e(this,e);for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=(i=(l=hL(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(s))),l),l.handleChange=function(c){var u=B1e(c,l.props.hsl,l.props.direction,l.props.a,l.container);u&&typeof l.props.onChange=="function"&&l.props.onChange(u,c)},l.handleMouseDown=function(c){l.handleChange(c),window.addEventListener("mousemove",l.handleChange),window.addEventListener("mouseup",l.handleMouseUp)},l.handleMouseUp=function(){l.unbindEventListeners()},l.unbindEventListeners=function(){window.removeEventListener("mousemove",l.handleChange),window.removeEventListener("mouseup",l.handleMouseUp)},i),hL(l,r)}return $1e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var i=this,l=this.props.rgb,r=ge({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+l.r+","+l.g+","+l.b+`, 0) 0%,
           rgba(`+l.r+","+l.g+","+l.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:l.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+l.r+","+l.g+","+l.b+`, 0) 0%,
           rgba(`+l.r+","+l.g+","+l.b+", 1) 100%)"},pointer:{left:0,top:l.a*100+"%"}},overwrite:_1e({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return S.createElement("div",{style:r.alpha},S.createElement("div",{style:r.checkboard},S.createElement(Rc,{renderers:this.props.renderers})),S.createElement("div",{style:r.gradient}),S.createElement("div",{style:r.container,ref:function(s){return i.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},S.createElement("div",{style:r.pointer},this.props.pointer?S.createElement(this.props.pointer,this.props):S.createElement("div",{style:r.slider}))))}}]),e}(T.PureComponent||T.Component),tge=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function nge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ige(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lge(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var age=1,Vk=38,sge=40,oge=[Vk,sge],cge=function(e){return oge.indexOf(e)>-1},uge=function(e){return Number(String(e).replace(/%/g,""))},dge=1,Ne=function(t){rge(e,t);function e(n){ige(this,e);var i=lge(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.handleBlur=function(){i.state.blurValue&&i.setState({value:i.state.blurValue,blurValue:null})},i.handleChange=function(l){i.setUpdatedValue(l.target.value,l)},i.handleKeyDown=function(l){var r=uge(l.target.value);if(!isNaN(r)&&cge(l.keyCode)){var a=i.getArrowOffset(),s=l.keyCode===Vk?r+a:r-a;i.setUpdatedValue(s,l)}},i.handleDrag=function(l){if(i.props.dragLabel){var r=Math.round(i.props.value+l.movementX);r>=0&&r<=i.props.dragMax&&i.props.onChange&&i.props.onChange(i.getValueObjectWithLabel(r),l)}},i.handleMouseDown=function(l){i.props.dragLabel&&(l.preventDefault(),i.handleDrag(l),window.addEventListener("mousemove",i.handleDrag),window.addEventListener("mouseup",i.handleMouseUp))},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleDrag),window.removeEventListener("mouseup",i.handleMouseUp)},i.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},i.inputId="rc-editable-input-"+dge++,i}return tge(e,[{key:"componentDidUpdate",value:function(i,l){this.props.value!==this.state.value&&(i.value!==this.props.value||l.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(i){return nge({},this.props.label,i)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||age}},{key:"setUpdatedValue",value:function(i,l){var r=this.props.label?this.getValueObjectWithLabel(i):i;this.props.onChange&&this.props.onChange(r,l),this.setState({value:i})}},{key:"render",value:function(){var i=this,l=ge({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return S.createElement("div",{style:l.wrap},S.createElement("input",{id:this.inputId,style:l.input,ref:function(a){return i.input=a},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?S.createElement("label",{htmlFor:this.inputId,style:l.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(T.PureComponent||T.Component),mge=function(e,n,i,l){var r=l.clientWidth,a=l.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,o=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=s-(l.getBoundingClientRect().left+window.pageXOffset),u=o-(l.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(u<0)d=359;else if(u>a)d=0;else{var m=-(u*100/a)+100;d=360*m/100}if(i.h!==d)return{h:d,s:i.s,l:i.l,a:i.a,source:"hsl"}}else{var h=void 0;if(c<0)h=0;else if(c>r)h=359;else{var b=c*100/r;h=360*b/100}if(i.h!==h)return{h,s:i.s,l:i.l,a:i.a,source:"hsl"}}return null},hge=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function bge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sc=function(t){pge(e,t);function e(){var n,i,l,r;bge(this,e);for(var a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=(i=(l=bL(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(s))),l),l.handleChange=function(c){var u=mge(c,l.props.direction,l.props.hsl,l.container);u&&typeof l.props.onChange=="function"&&l.props.onChange(u,c)},l.handleMouseDown=function(c){l.handleChange(c),window.addEventListener("mousemove",l.handleChange),window.addEventListener("mouseup",l.handleMouseUp)},l.handleMouseUp=function(){l.unbindEventListeners()},i),bL(l,r)}return hge(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,l=this.props.direction,r=l===void 0?"horizontal":l,a=ge({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:r==="vertical"});return S.createElement("div",{style:a.hue},S.createElement("div",{className:"hue-"+r,style:a.container,ref:function(o){return i.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},S.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),S.createElement("div",{style:a.pointer},this.props.pointer?S.createElement(this.props.pointer,this.props):S.createElement("div",{style:a.slider}))))}}]),e}(T.PureComponent||T.Component);function Zge(){this.__data__=[],this.size=0}function Rm(t,e){return t===e||t!==t&&e!==e}function d0(t,e){for(var n=t.length;n--;)if(Rm(t[n][0],e))return n;return-1}var fge=Array.prototype,yge=fge.splice;function Gge(t){var e=this.__data__,n=d0(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():yge.call(e,n,1),--this.size,!0}function Xge(t){var e=this.__data__,n=d0(e,t);return n<0?void 0:e[n][1]}function gge(t){return d0(this.__data__,t)>-1}function Wge(t,e){var n=this.__data__,i=d0(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Dl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Dl.prototype.clear=Zge;Dl.prototype.delete=Gge;Dl.prototype.get=Xge;Dl.prototype.has=gge;Dl.prototype.set=Wge;function Vge(){this.__data__=new Dl,this.size=0}function Tge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function xge(t){return this.__data__.get(t)}function Rge(t){return this.__data__.has(t)}var Sge=typeof jn=="object"&&jn&&jn.Object===Object&&jn;const Tk=Sge;var Yge=typeof self=="object"&&self&&self.Object===Object&&self,Lge=Tk||Yge||Function("return this")();const Mi=Lge;var Mge=Mi.Symbol;const Or=Mge;var xk=Object.prototype,Nge=xk.hasOwnProperty,vge=xk.toString,iu=Or?Or.toStringTag:void 0;function Ige(t){var e=Nge.call(t,iu),n=t[iu];try{t[iu]=void 0;var i=!0}catch{}var l=vge.call(t);return i&&(e?t[iu]=n:delete t[iu]),l}var wge=Object.prototype,Jge=wge.toString;function Cge(t){return Jge.call(t)}var kge="[object Null]",Ege="[object Undefined]",pL=Or?Or.toStringTag:void 0;function ms(t){return t==null?t===void 0?Ege:kge:pL&&pL in Object(t)?Ige(t):Cge(t)}function _n(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Kge="[object AsyncFunction]",Uge="[object Function]",Pge="[object GeneratorFunction]",Fge="[object Proxy]";function qV(t){if(!_n(t))return!1;var e=ms(t);return e==Uge||e==Pge||e==Kge||e==Fge}var zge=Mi["__core-js_shared__"];const gy=zge;var ZL=function(){var t=/[^.]+$/.exec(gy&&gy.keys&&gy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jge(t){return!!ZL&&ZL in t}var Hge=Function.prototype,Dge=Hge.toString;function hs(t){if(t!=null){try{return Dge.call(t)}catch{}try{return t+""}catch{}}return""}var Oge=/[\\^$.*+?()[\]{}|]/g,Bge=/^\[object .+?Constructor\]$/,Qge=Function.prototype,Age=Object.prototype,_ge=Qge.toString,$ge=Age.hasOwnProperty,qge=RegExp("^"+_ge.call($ge).replace(Oge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eWe(t){if(!_n(t)||jge(t))return!1;var e=qV(t)?qge:Bge;return e.test(hs(t))}function tWe(t,e){return t==null?void 0:t[e]}function bs(t,e){var n=tWe(t,e);return eWe(n)?n:void 0}var nWe=bs(Mi,"Map");const kd=nWe;var iWe=bs(Object,"create");const Ed=iWe;function lWe(){this.__data__=Ed?Ed(null):{},this.size=0}function rWe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aWe="__lodash_hash_undefined__",sWe=Object.prototype,oWe=sWe.hasOwnProperty;function cWe(t){var e=this.__data__;if(Ed){var n=e[t];return n===aWe?void 0:n}return oWe.call(e,t)?e[t]:void 0}var uWe=Object.prototype,dWe=uWe.hasOwnProperty;function mWe(t){var e=this.__data__;return Ed?e[t]!==void 0:dWe.call(e,t)}var hWe="__lodash_hash_undefined__";function bWe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ed&&e===void 0?hWe:e,this}function _a(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}_a.prototype.clear=lWe;_a.prototype.delete=rWe;_a.prototype.get=cWe;_a.prototype.has=mWe;_a.prototype.set=bWe;function pWe(){this.size=0,this.__data__={hash:new _a,map:new(kd||Dl),string:new _a}}function ZWe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function m0(t,e){var n=t.__data__;return ZWe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function fWe(t){var e=m0(this,t).delete(t);return this.size-=e?1:0,e}function yWe(t){return m0(this,t).get(t)}function GWe(t){return m0(this,t).has(t)}function XWe(t,e){var n=m0(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Ol(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ol.prototype.clear=pWe;Ol.prototype.delete=fWe;Ol.prototype.get=yWe;Ol.prototype.has=GWe;Ol.prototype.set=XWe;var gWe=200;function WWe(t,e){var n=this.__data__;if(n instanceof Dl){var i=n.__data__;if(!kd||i.length<gWe-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ol(i)}return n.set(t,e),this.size=n.size,this}function tl(t){var e=this.__data__=new Dl(t);this.size=e.size}tl.prototype.clear=Vge;tl.prototype.delete=Tge;tl.prototype.get=xge;tl.prototype.has=Rge;tl.prototype.set=WWe;var VWe=function(){try{var t=bs(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Kp=VWe;function e2(t,e,n){e=="__proto__"&&Kp?Kp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function W1(t,e,n){(n!==void 0&&!Rm(t[e],n)||n===void 0&&!(e in t))&&e2(t,e,n)}function TWe(t){return function(e,n,i){for(var l=-1,r=Object(e),a=i(e),s=a.length;s--;){var o=a[t?s:++l];if(n(r[o],o,r)===!1)break}return e}}var xWe=TWe();const Rk=xWe;var Sk=typeof gn=="object"&&gn&&!gn.nodeType&&gn,fL=Sk&&typeof Wn=="object"&&Wn&&!Wn.nodeType&&Wn,RWe=fL&&fL.exports===Sk,yL=RWe?Mi.Buffer:void 0,GL=yL?yL.allocUnsafe:void 0;function SWe(t,e){if(e)return t.slice();var n=t.length,i=GL?GL(n):new t.constructor(n);return t.copy(i),i}var YWe=Mi.Uint8Array;const Up=YWe;function LWe(t){var e=new t.constructor(t.byteLength);return new Up(e).set(new Up(t)),e}function MWe(t,e){var n=e?LWe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function NWe(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var XL=Object.create,vWe=function(){function t(){}return function(e){if(!_n(e))return{};if(XL)return XL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const IWe=vWe;function Yk(t,e){return function(n){return t(e(n))}}var wWe=Yk(Object.getPrototypeOf,Object);const Lk=wWe;var JWe=Object.prototype;function t2(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||JWe;return t===n}function CWe(t){return typeof t.constructor=="function"&&!t2(t)?IWe(Lk(t)):{}}function Br(t){return t!=null&&typeof t=="object"}var kWe="[object Arguments]";function gL(t){return Br(t)&&ms(t)==kWe}var Mk=Object.prototype,EWe=Mk.hasOwnProperty,KWe=Mk.propertyIsEnumerable,UWe=gL(function(){return arguments}())?gL:function(t){return Br(t)&&EWe.call(t,"callee")&&!KWe.call(t,"callee")};const Pp=UWe;var PWe=Array.isArray;const Yn=PWe;var FWe=9007199254740991;function n2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FWe}function Yc(t){return t!=null&&n2(t.length)&&!qV(t)}function zWe(t){return Br(t)&&Yc(t)}function jWe(){return!1}var Nk=typeof gn=="object"&&gn&&!gn.nodeType&&gn,WL=Nk&&typeof Wn=="object"&&Wn&&!Wn.nodeType&&Wn,HWe=WL&&WL.exports===Nk,VL=HWe?Mi.Buffer:void 0,DWe=VL?VL.isBuffer:void 0,OWe=DWe||jWe;const Fp=OWe;var BWe="[object Object]",QWe=Function.prototype,AWe=Object.prototype,vk=QWe.toString,_We=AWe.hasOwnProperty,$We=vk.call(Object);function qWe(t){if(!Br(t)||ms(t)!=BWe)return!1;var e=Lk(t);if(e===null)return!0;var n=_We.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vk.call(n)==$We}var eVe="[object Arguments]",tVe="[object Array]",nVe="[object Boolean]",iVe="[object Date]",lVe="[object Error]",rVe="[object Function]",aVe="[object Map]",sVe="[object Number]",oVe="[object Object]",cVe="[object RegExp]",uVe="[object Set]",dVe="[object String]",mVe="[object WeakMap]",hVe="[object ArrayBuffer]",bVe="[object DataView]",pVe="[object Float32Array]",ZVe="[object Float64Array]",fVe="[object Int8Array]",yVe="[object Int16Array]",GVe="[object Int32Array]",XVe="[object Uint8Array]",gVe="[object Uint8ClampedArray]",WVe="[object Uint16Array]",VVe="[object Uint32Array]",nt={};nt[pVe]=nt[ZVe]=nt[fVe]=nt[yVe]=nt[GVe]=nt[XVe]=nt[gVe]=nt[WVe]=nt[VVe]=!0;nt[eVe]=nt[tVe]=nt[hVe]=nt[nVe]=nt[bVe]=nt[iVe]=nt[lVe]=nt[rVe]=nt[aVe]=nt[sVe]=nt[oVe]=nt[cVe]=nt[uVe]=nt[dVe]=nt[mVe]=!1;function TVe(t){return Br(t)&&n2(t.length)&&!!nt[ms(t)]}function xVe(t){return function(e){return t(e)}}var Ik=typeof gn=="object"&&gn&&!gn.nodeType&&gn,Qu=Ik&&typeof Wn=="object"&&Wn&&!Wn.nodeType&&Wn,RVe=Qu&&Qu.exports===Ik,Wy=RVe&&Tk.process,SVe=function(){try{var t=Qu&&Qu.require&&Qu.require("util").types;return t||Wy&&Wy.binding&&Wy.binding("util")}catch{}}();const TL=SVe;var xL=TL&&TL.isTypedArray,YVe=xL?xVe(xL):TVe;const i2=YVe;function V1(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var LVe=Object.prototype,MVe=LVe.hasOwnProperty;function NVe(t,e,n){var i=t[e];(!(MVe.call(t,e)&&Rm(i,n))||n===void 0&&!(e in t))&&e2(t,e,n)}function vVe(t,e,n,i){var l=!n;n||(n={});for(var r=-1,a=e.length;++r<a;){var s=e[r],o=i?i(n[s],t[s],s,n,t):void 0;o===void 0&&(o=t[s]),l?e2(n,s,o):NVe(n,s,o)}return n}function IVe(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var wVe=9007199254740991,JVe=/^(?:0|[1-9]\d*)$/;function l2(t,e){var n=typeof t;return e=e??wVe,!!e&&(n=="number"||n!="symbol"&&JVe.test(t))&&t>-1&&t%1==0&&t<e}var CVe=Object.prototype,kVe=CVe.hasOwnProperty;function wk(t,e){var n=Yn(t),i=!n&&Pp(t),l=!n&&!i&&Fp(t),r=!n&&!i&&!l&&i2(t),a=n||i||l||r,s=a?IVe(t.length,String):[],o=s.length;for(var c in t)(e||kVe.call(t,c))&&!(a&&(c=="length"||l&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||l2(c,o)))&&s.push(c);return s}function EVe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var KVe=Object.prototype,UVe=KVe.hasOwnProperty;function PVe(t){if(!_n(t))return EVe(t);var e=t2(t),n=[];for(var i in t)i=="constructor"&&(e||!UVe.call(t,i))||n.push(i);return n}function Jk(t){return Yc(t)?wk(t,!0):PVe(t)}function FVe(t){return vVe(t,Jk(t))}function zVe(t,e,n,i,l,r,a){var s=V1(t,n),o=V1(e,n),c=a.get(o);if(c){W1(t,n,c);return}var u=r?r(s,o,n+"",t,e,a):void 0,d=u===void 0;if(d){var m=Yn(o),h=!m&&Fp(o),b=!m&&!h&&i2(o);u=o,m||h||b?Yn(s)?u=s:zWe(s)?u=NWe(s):h?(d=!1,u=SWe(o,!0)):b?(d=!1,u=MWe(o,!0)):u=[]:qWe(o)||Pp(o)?(u=s,Pp(s)?u=FVe(s):(!_n(s)||qV(s))&&(u=CWe(o))):d=!1}d&&(a.set(o,u),l(u,o,i,r,a),a.delete(o)),W1(t,n,u)}function Ck(t,e,n,i,l){t!==e&&Rk(e,function(r,a){if(l||(l=new tl),_n(r))zVe(t,e,a,n,Ck,i,l);else{var s=i?i(V1(t,a),r,a+"",t,e,l):void 0;s===void 0&&(s=r),W1(t,a,s)}},Jk)}function h0(t){return t}function jVe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var RL=Math.max;function HVe(t,e,n){return e=RL(e===void 0?t.length-1:e,0),function(){for(var i=arguments,l=-1,r=RL(i.length-e,0),a=Array(r);++l<r;)a[l]=i[e+l];l=-1;for(var s=Array(e+1);++l<e;)s[l]=i[l];return s[e]=n(a),jVe(t,this,s)}}function DVe(t){return function(){return t}}var OVe=Kp?function(t,e){return Kp(t,"toString",{configurable:!0,enumerable:!1,value:DVe(e),writable:!0})}:h0;const BVe=OVe;var QVe=800,AVe=16,_Ve=Date.now;function $Ve(t){var e=0,n=0;return function(){var i=_Ve(),l=AVe-(i-n);if(n=i,l>0){if(++e>=QVe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qVe=$Ve(BVe);const e2e=qVe;function t2e(t,e){return e2e(HVe(t,e,h0),t+"")}function n2e(t,e,n){if(!_n(n))return!1;var i=typeof e;return(i=="number"?Yc(n)&&l2(e,n.length):i=="string"&&e in n)?Rm(n[e],t):!1}function i2e(t){return t2e(function(e,n){var i=-1,l=n.length,r=l>1?n[l-1]:void 0,a=l>2?n[2]:void 0;for(r=t.length>3&&typeof r=="function"?(l--,r):void 0,a&&n2e(n[0],n[1],a)&&(r=l<3?void 0:r,l=1),e=Object(e);++i<l;){var s=n[i];s&&t(e,s,i,r)}return e})}var l2e=i2e(function(t,e,n){Ck(t,e,n)});const an=l2e;var Sm=function(e){var n=e.zDepth,i=e.radius,l=e.background,r=e.children,a=e.styles,s=a===void 0?{}:a,o=ge(an({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:i,background:l}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":n===1});return S.createElement("div",{style:o.wrap},S.createElement("div",{style:o.bg}),S.createElement("div",{style:o.content},r))};Sm.propTypes={background:K.string,zDepth:K.oneOf([0,1,2,3,4,5]),radius:K.number,styles:K.object};Sm.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var r2e=function(){return Mi.Date.now()};const Vy=r2e;var a2e=/\s/;function s2e(t){for(var e=t.length;e--&&a2e.test(t.charAt(e)););return e}var o2e=/^\s+/;function c2e(t){return t&&t.slice(0,s2e(t)+1).replace(o2e,"")}var u2e="[object Symbol]";function b0(t){return typeof t=="symbol"||Br(t)&&ms(t)==u2e}var SL=0/0,d2e=/^[-+]0x[0-9a-f]+$/i,m2e=/^0b[01]+$/i,h2e=/^0o[0-7]+$/i,b2e=parseInt;function YL(t){if(typeof t=="number")return t;if(b0(t))return SL;if(_n(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_n(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=c2e(t);var n=m2e.test(t);return n||h2e.test(t)?b2e(t.slice(2),n?2:8):d2e.test(t)?SL:+t}var p2e="Expected a function",Z2e=Math.max,f2e=Math.min;function kk(t,e,n){var i,l,r,a,s,o,c=0,u=!1,d=!1,m=!0;if(typeof t!="function")throw new TypeError(p2e);e=YL(e)||0,_n(n)&&(u=!!n.leading,d="maxWait"in n,r=d?Z2e(YL(n.maxWait)||0,e):r,m="trailing"in n?!!n.trailing:m);function h(x){var v=i,C=l;return i=l=void 0,c=x,a=t.apply(C,v),a}function b(x){return c=x,s=setTimeout(f,e),u?h(x):a}function Z(x){var v=x-o,C=x-c,w=e-v;return d?f2e(w,r-C):w}function p(x){var v=x-o,C=x-c;return o===void 0||v>=e||v<0||d&&C>=r}function f(){var x=Vy();if(p(x))return G(x);s=setTimeout(f,Z(x))}function G(x){return s=void 0,m&&i?h(x):(i=l=void 0,a)}function V(){s!==void 0&&clearTimeout(s),c=0,i=o=l=s=void 0}function X(){return s===void 0?a:G(Vy())}function L(){var x=Vy(),v=p(x);if(i=arguments,l=this,o=x,v){if(s===void 0)return b(o);if(d)return clearTimeout(s),s=setTimeout(f,e),h(o)}return s===void 0&&(s=setTimeout(f,e)),a}return L.cancel=V,L.flush=X,L}var y2e="Expected a function";function G2e(t,e,n){var i=!0,l=!0;if(typeof t!="function")throw new TypeError(y2e);return _n(n)&&(i="leading"in n?!!n.leading:i,l="trailing"in n?!!n.trailing:l),kk(t,e,{leading:i,maxWait:e,trailing:l})}var X2e=function(e,n,i){var l=i.getBoundingClientRect(),r=l.width,a=l.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,o=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),u=o-(i.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>r&&(c=r),u<0?u=0:u>a&&(u=a);var d=c/r,m=1-u/a;return{h:n.h,s:d,v:m,a:n.a,source:"hsv"}},g2e=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function W2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V2e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function T2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p0=function(t){T2e(e,t);function e(n){W2e(this,e);var i=V2e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.handleChange=function(l){typeof i.props.onChange=="function"&&i.throttle(i.props.onChange,X2e(l,i.props.hsl,i.container),l)},i.handleMouseDown=function(l){i.handleChange(l);var r=i.getContainerRenderWindow();r.addEventListener("mousemove",i.handleChange),r.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.throttle=G2e(function(l,r,a){l(r,a)},50),i}return g2e(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var i=this.container,l=window;!l.document.contains(i)&&l.parent!==l;)l=l.parent;return l}},{key:"unbindEventListeners",value:function(){var i=this.getContainerRenderWindow();i.removeEventListener("mousemove",this.handleChange),i.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,l=this.props.style||{},r=l.color,a=l.white,s=l.black,o=l.pointer,c=l.circle,u=ge({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:a,black:s,pointer:o,circle:c}},{custom:!!this.props.style});return S.createElement("div",{style:u.color,ref:function(m){return i.container=m},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},S.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),S.createElement("div",{style:u.white,className:"saturation-white"},S.createElement("div",{style:u.black,className:"saturation-black"}),S.createElement("div",{style:u.pointer},this.props.pointer?S.createElement(this.props.pointer,this.props):S.createElement("div",{style:u.circle}))))}}]),e}(T.PureComponent||T.Component);function x2e(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var R2e=Yk(Object.keys,Object);const S2e=R2e;var Y2e=Object.prototype,L2e=Y2e.hasOwnProperty;function M2e(t){if(!t2(t))return S2e(t);var e=[];for(var n in Object(t))L2e.call(t,n)&&n!="constructor"&&e.push(n);return e}function r2(t){return Yc(t)?wk(t):M2e(t)}function N2e(t,e){return t&&Rk(t,e,r2)}function v2e(t,e){return function(n,i){if(n==null)return n;if(!Yc(n))return t(n,i);for(var l=n.length,r=e?l:-1,a=Object(n);(e?r--:++r<l)&&i(a[r],r,a)!==!1;);return n}}var I2e=v2e(N2e);const Ek=I2e;function w2e(t){return typeof t=="function"?t:h0}function J2e(t,e){var n=Yn(t)?x2e:Ek;return n(t,w2e(e))}function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}var C2e=/^\s+/,k2e=/\s+$/;function me(t,e){if(t=t||"",e=e||{},t instanceof me)return t;if(!(this instanceof me))return new me(t,e);var n=E2e(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}me.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,i,l,r,a,s;return n=e.r/255,i=e.g/255,l=e.b/255,n<=.03928?r=n/12.92:r=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),l<=.03928?s=l/12.92:s=Math.pow((l+.055)/1.055,2.4),.2126*r+.7152*a+.0722*s},setAlpha:function(e){return this._a=Kk(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=ML(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=ML(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),l=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+l+"%)":"hsva("+n+", "+i+"%, "+l+"%, "+this._roundA+")"},toHsl:function(){var e=LL(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=LL(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),l=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+l+"%)":"hsla("+n+", "+i+"%, "+l+"%, "+this._roundA+")"},toHex:function(e){return NL(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return F2e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(at(this._r,255)*100)+"%",g:Math.round(at(this._g,255)*100)+"%",b:Math.round(at(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(at(this._r,255)*100)+"%, "+Math.round(at(this._g,255)*100)+"%, "+Math.round(at(this._b,255)*100)+"%)":"rgba("+Math.round(at(this._r,255)*100)+"%, "+Math.round(at(this._g,255)*100)+"%, "+Math.round(at(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:eTe[NL(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+vL(this._r,this._g,this._b,this._a),i=n,l=this._gradientType?"GradientType = 1, ":"";if(e){var r=me(e);i="#"+vL(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+l+"startColorstr="+n+",endColorstr="+i+")"},toString:function(e){var n=!!e;e=e||this._format;var i=!1,l=this._a<1&&this._a>=0,r=!n&&l&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return r?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return me(this.toString())},_applyModification:function(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(D2e,arguments)},brighten:function(){return this._applyModification(O2e,arguments)},darken:function(){return this._applyModification(B2e,arguments)},desaturate:function(){return this._applyModification(z2e,arguments)},saturate:function(){return this._applyModification(j2e,arguments)},greyscale:function(){return this._applyModification(H2e,arguments)},spin:function(){return this._applyModification(Q2e,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination($2e,arguments)},complement:function(){return this._applyCombination(A2e,arguments)},monochromatic:function(){return this._applyCombination(q2e,arguments)},splitcomplement:function(){return this._applyCombination(_2e,arguments)},triad:function(){return this._applyCombination(IL,[3])},tetrad:function(){return this._applyCombination(IL,[4])}};me.fromRatio=function(t,e){if(zp(t)=="object"){var n={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?n[i]=t[i]:n[i]=gu(t[i]));t=n}return me(t,e)};function E2e(t){var e={r:0,g:0,b:0},n=1,i=null,l=null,r=null,a=!1,s=!1;return typeof t=="string"&&(t=lTe(t)),zp(t)=="object"&&(hl(t.r)&&hl(t.g)&&hl(t.b)?(e=K2e(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):hl(t.h)&&hl(t.s)&&hl(t.v)?(i=gu(t.s),l=gu(t.v),e=P2e(t.h,i,l),a=!0,s="hsv"):hl(t.h)&&hl(t.s)&&hl(t.l)&&(i=gu(t.s),r=gu(t.l),e=U2e(t.h,i,r),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Kk(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function K2e(t,e,n){return{r:at(t,255)*255,g:at(e,255)*255,b:at(n,255)*255}}function LL(t,e,n){t=at(t,255),e=at(e,255),n=at(n,255);var i=Math.max(t,e,n),l=Math.min(t,e,n),r,a,s=(i+l)/2;if(i==l)r=a=0;else{var o=i-l;switch(a=s>.5?o/(2-i-l):o/(i+l),i){case t:r=(e-n)/o+(e<n?6:0);break;case e:r=(n-t)/o+2;break;case n:r=(t-e)/o+4;break}r/=6}return{h:r,s:a,l:s}}function U2e(t,e,n){var i,l,r;t=at(t,360),e=at(e,100),n=at(n,100);function a(c,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?c+(u-c)*6*d:d<1/2?u:d<2/3?c+(u-c)*(2/3-d)*6:c}if(e===0)i=l=r=n;else{var s=n<.5?n*(1+e):n+e-n*e,o=2*n-s;i=a(o,s,t+1/3),l=a(o,s,t),r=a(o,s,t-1/3)}return{r:i*255,g:l*255,b:r*255}}function ML(t,e,n){t=at(t,255),e=at(e,255),n=at(n,255);var i=Math.max(t,e,n),l=Math.min(t,e,n),r,a,s=i,o=i-l;if(a=i===0?0:o/i,i==l)r=0;else{switch(i){case t:r=(e-n)/o+(e<n?6:0);break;case e:r=(n-t)/o+2;break;case n:r=(t-e)/o+4;break}r/=6}return{h:r,s:a,v:s}}function P2e(t,e,n){t=at(t,360)*6,e=at(e,100),n=at(n,100);var i=Math.floor(t),l=t-i,r=n*(1-e),a=n*(1-l*e),s=n*(1-(1-l)*e),o=i%6,c=[n,a,r,r,s,n][o],u=[s,n,n,a,r,r][o],d=[r,r,s,n,n,a][o];return{r:c*255,g:u*255,b:d*255}}function NL(t,e,n,i){var l=[hi(Math.round(t).toString(16)),hi(Math.round(e).toString(16)),hi(Math.round(n).toString(16))];return i&&l[0].charAt(0)==l[0].charAt(1)&&l[1].charAt(0)==l[1].charAt(1)&&l[2].charAt(0)==l[2].charAt(1)?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function F2e(t,e,n,i,l){var r=[hi(Math.round(t).toString(16)),hi(Math.round(e).toString(16)),hi(Math.round(n).toString(16)),hi(Uk(i))];return l&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function vL(t,e,n,i){var l=[hi(Uk(i)),hi(Math.round(t).toString(16)),hi(Math.round(e).toString(16)),hi(Math.round(n).toString(16))];return l.join("")}me.equals=function(t,e){return!t||!e?!1:me(t).toRgbString()==me(e).toRgbString()};me.random=function(){return me.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function z2e(t,e){e=e===0?0:e||10;var n=me(t).toHsl();return n.s-=e/100,n.s=Z0(n.s),me(n)}function j2e(t,e){e=e===0?0:e||10;var n=me(t).toHsl();return n.s+=e/100,n.s=Z0(n.s),me(n)}function H2e(t){return me(t).desaturate(100)}function D2e(t,e){e=e===0?0:e||10;var n=me(t).toHsl();return n.l+=e/100,n.l=Z0(n.l),me(n)}function O2e(t,e){e=e===0?0:e||10;var n=me(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),me(n)}function B2e(t,e){e=e===0?0:e||10;var n=me(t).toHsl();return n.l-=e/100,n.l=Z0(n.l),me(n)}function Q2e(t,e){var n=me(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,me(n)}function A2e(t){var e=me(t).toHsl();return e.h=(e.h+180)%360,me(e)}function IL(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=me(t).toHsl(),i=[me(t)],l=360/e,r=1;r<e;r++)i.push(me({h:(n.h+r*l)%360,s:n.s,l:n.l}));return i}function _2e(t){var e=me(t).toHsl(),n=e.h;return[me(t),me({h:(n+72)%360,s:e.s,l:e.l}),me({h:(n+216)%360,s:e.s,l:e.l})]}function $2e(t,e,n){e=e||6,n=n||30;var i=me(t).toHsl(),l=360/n,r=[me(t)];for(i.h=(i.h-(l*e>>1)+720)%360;--e;)i.h=(i.h+l)%360,r.push(me(i));return r}function q2e(t,e){e=e||6;for(var n=me(t).toHsv(),i=n.h,l=n.s,r=n.v,a=[],s=1/e;e--;)a.push(me({h:i,s:l,v:r})),r=(r+s)%1;return a}me.mix=function(t,e,n){n=n===0?0:n||50;var i=me(t).toRgb(),l=me(e).toRgb(),r=n/100,a={r:(l.r-i.r)*r+i.r,g:(l.g-i.g)*r+i.g,b:(l.b-i.b)*r+i.b,a:(l.a-i.a)*r+i.a};return me(a)};me.readability=function(t,e){var n=me(t),i=me(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};me.isReadable=function(t,e,n){var i=me.readability(t,e),l,r;switch(r=!1,l=rTe(n),l.level+l.size){case"AAsmall":case"AAAlarge":r=i>=4.5;break;case"AAlarge":r=i>=3;break;case"AAAsmall":r=i>=7;break}return r};me.mostReadable=function(t,e,n){var i=null,l=0,r,a,s,o;n=n||{},a=n.includeFallbackColors,s=n.level,o=n.size;for(var c=0;c<e.length;c++)r=me.readability(t,e[c]),r>l&&(l=r,i=me(e[c]));return me.isReadable(t,i,{level:s,size:o})||!a?i:(n.includeFallbackColors=!1,me.mostReadable(t,["#fff","#000"],n))};var T1=me.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},eTe=me.hexNames=tTe(T1);function tTe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Kk(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function at(t,e){nTe(t)&&(t="100%");var n=iTe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Z0(t){return Math.min(1,Math.max(0,t))}function un(t){return parseInt(t,16)}function nTe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function iTe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function hi(t){return t.length==1?"0"+t:""+t}function gu(t){return t<=1&&(t=t*100+"%"),t}function Uk(t){return Math.round(parseFloat(t)*255).toString(16)}function wL(t){return un(t)/255}var ri=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",l="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+l),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+l),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+l),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function hl(t){return!!ri.CSS_UNIT.exec(t)}function lTe(t){t=t.replace(C2e,"").replace(k2e,"").toLowerCase();var e=!1;if(T1[t])t=T1[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ri.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ri.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ri.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ri.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ri.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ri.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ri.hex8.exec(t))?{r:un(n[1]),g:un(n[2]),b:un(n[3]),a:wL(n[4]),format:e?"name":"hex8"}:(n=ri.hex6.exec(t))?{r:un(n[1]),g:un(n[2]),b:un(n[3]),format:e?"name":"hex"}:(n=ri.hex4.exec(t))?{r:un(n[1]+""+n[1]),g:un(n[2]+""+n[2]),b:un(n[3]+""+n[3]),a:wL(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ri.hex3.exec(t))?{r:un(n[1]+""+n[1]),g:un(n[2]+""+n[2]),b:un(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function rTe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var JL=function(e){var n=["r","g","b","a","h","s","l","v"],i=0,l=0;return J2e(n,function(r){if(e[r]&&(i+=1,isNaN(e[r])||(l+=1),r==="s"||r==="l")){var a=/^\d+%$/;a.test(e[r])&&(l+=1)}}),i===l?e:!1},Wu=function(e,n){var i=e.hex?me(e.hex):me(e),l=i.toHsl(),r=i.toHsv(),a=i.toRgb(),s=i.toHex();l.s===0&&(l.h=n||0,r.h=n||0);var o=s==="000000"&&a.a===0;return{hsl:l,hex:o?"transparent":"#"+s,rgb:a,hsv:r,oldHue:e.h||n||l.h,source:e.source}},ta=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&me(e).isValid()},a2=function(e){if(!e)return"#fff";var n=Wu(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var i=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return i>=128?"#000":"#fff"},Ty=function(e,n){var i=e.replace("°","");return me(n+" ("+i+")")._ok},lu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aTe=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function sTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oTe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sn=function(e){var n=function(i){cTe(l,i);function l(r){sTe(this,l);var a=oTe(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return a.handleChange=function(s,o){var c=JL(s);if(c){var u=Wu(s,s.h||a.state.oldHue);a.setState(u),a.props.onChangeComplete&&a.debounce(a.props.onChangeComplete,u,o),a.props.onChange&&a.props.onChange(u,o)}},a.handleSwatchHover=function(s,o){var c=JL(s);if(c){var u=Wu(s,s.h||a.state.oldHue);a.props.onSwatchHover&&a.props.onSwatchHover(u,o)}},a.state=lu({},Wu(r.color,0)),a.debounce=kk(function(s,o,c){s(o,c)},100),a}return aTe(l,[{key:"render",value:function(){var a={};return this.props.onSwatchHover&&(a.onSwatchHover=this.handleSwatchHover),S.createElement(e,lu({},this.props,this.state,{onChange:this.handleChange},a))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return lu({},Wu(a.color,s.oldHue))}}]),l}(T.PureComponent||T.Component);return n.propTypes=lu({},e.propTypes),n.defaultProps=lu({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},uTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dTe=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function mTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CL(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(i){hTe(l,i);function l(){var r,a,s,o;mTe(this,l);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=(a=(s=CL(this,(r=l.__proto__||Object.getPrototypeOf(l)).call.apply(r,[this].concat(u))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},a),CL(s,o)}return dTe(l,[{key:"render",value:function(){return S.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},S.createElement(e,uTe({},this.props,this.state)))}}]),l}(S.Component)},kL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pTe=13,ZTe=function(e){var n=e.color,i=e.style,l=e.onClick,r=l===void 0?function(){}:l,a=e.onHover,s=e.title,o=s===void 0?n:s,c=e.children,u=e.focus,d=e.focusStyle,m=d===void 0?{}:d,h=n==="transparent",b=ge({default:{swatch:kL({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},i,u?m:{})}}),Z=function(X){return r(n,X)},p=function(X){return X.keyCode===pTe&&r(n,X)},f=function(X){return a(n,X)},G={};return a&&(G.onMouseOver=f),S.createElement("div",kL({style:b.swatch,onClick:Z,title:o,tabIndex:0,onKeyDown:p},G),c,h&&S.createElement(Rc,{borderRadius:b.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ps=bTe(ZTe);var fTe=function(e){var n=e.direction,i=ge({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return S.createElement("div",{style:i.picker})},yTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pk=function(e){var n=e.rgb,i=e.hsl,l=e.width,r=e.height,a=e.onChange,s=e.direction,o=e.style,c=e.renderers,u=e.pointer,d=e.className,m=d===void 0?"":d,h=ge({default:{picker:{position:"relative",width:l,height:r},alpha:{radius:"2px",style:o}}});return S.createElement("div",{style:h.picker,className:"alpha-picker "+m},S.createElement($V,yTe({},h.alpha,{rgb:n,hsl:i,pointer:u,renderers:c,onChange:a,direction:s})))};Pk.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:fTe};sn(Pk);function Fk(t,e){for(var n=-1,i=t==null?0:t.length,l=Array(i);++n<i;)l[n]=e(t[n],n,t);return l}var GTe="__lodash_hash_undefined__";function XTe(t){return this.__data__.set(t,GTe),this}function gTe(t){return this.__data__.has(t)}function jp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ol;++e<n;)this.add(t[e])}jp.prototype.add=jp.prototype.push=XTe;jp.prototype.has=gTe;function WTe(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function VTe(t,e){return t.has(e)}var TTe=1,xTe=2;function zk(t,e,n,i,l,r){var a=n&TTe,s=t.length,o=e.length;if(s!=o&&!(a&&o>s))return!1;var c=r.get(t),u=r.get(e);if(c&&u)return c==e&&u==t;var d=-1,m=!0,h=n&xTe?new jp:void 0;for(r.set(t,e),r.set(e,t);++d<s;){var b=t[d],Z=e[d];if(i)var p=a?i(Z,b,d,e,t,r):i(b,Z,d,t,e,r);if(p!==void 0){if(p)continue;m=!1;break}if(h){if(!WTe(e,function(f,G){if(!VTe(h,G)&&(b===f||l(b,f,n,i,r)))return h.push(G)})){m=!1;break}}else if(!(b===Z||l(b,Z,n,i,r))){m=!1;break}}return r.delete(t),r.delete(e),m}function RTe(t){var e=-1,n=Array(t.size);return t.forEach(function(i,l){n[++e]=[l,i]}),n}function STe(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var YTe=1,LTe=2,MTe="[object Boolean]",NTe="[object Date]",vTe="[object Error]",ITe="[object Map]",wTe="[object Number]",JTe="[object RegExp]",CTe="[object Set]",kTe="[object String]",ETe="[object Symbol]",KTe="[object ArrayBuffer]",UTe="[object DataView]",EL=Or?Or.prototype:void 0,xy=EL?EL.valueOf:void 0;function PTe(t,e,n,i,l,r,a){switch(n){case UTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case KTe:return!(t.byteLength!=e.byteLength||!r(new Up(t),new Up(e)));case MTe:case NTe:case wTe:return Rm(+t,+e);case vTe:return t.name==e.name&&t.message==e.message;case JTe:case kTe:return t==e+"";case ITe:var s=RTe;case CTe:var o=i&YTe;if(s||(s=STe),t.size!=e.size&&!o)return!1;var c=a.get(t);if(c)return c==e;i|=LTe,a.set(t,e);var u=zk(s(t),s(e),i,l,r,a);return a.delete(t),u;case ETe:if(xy)return xy.call(t)==xy.call(e)}return!1}function FTe(t,e){for(var n=-1,i=e.length,l=t.length;++n<i;)t[l+n]=e[n];return t}function zTe(t,e,n){var i=e(t);return Yn(t)?i:FTe(i,n(t))}function jTe(t,e){for(var n=-1,i=t==null?0:t.length,l=0,r=[];++n<i;){var a=t[n];e(a,n,t)&&(r[l++]=a)}return r}function HTe(){return[]}var DTe=Object.prototype,OTe=DTe.propertyIsEnumerable,KL=Object.getOwnPropertySymbols,BTe=KL?function(t){return t==null?[]:(t=Object(t),jTe(KL(t),function(e){return OTe.call(t,e)}))}:HTe;const QTe=BTe;function UL(t){return zTe(t,r2,QTe)}var ATe=1,_Te=Object.prototype,$Te=_Te.hasOwnProperty;function qTe(t,e,n,i,l,r){var a=n&ATe,s=UL(t),o=s.length,c=UL(e),u=c.length;if(o!=u&&!a)return!1;for(var d=o;d--;){var m=s[d];if(!(a?m in e:$Te.call(e,m)))return!1}var h=r.get(t),b=r.get(e);if(h&&b)return h==e&&b==t;var Z=!0;r.set(t,e),r.set(e,t);for(var p=a;++d<o;){m=s[d];var f=t[m],G=e[m];if(i)var V=a?i(G,f,m,e,t,r):i(f,G,m,t,e,r);if(!(V===void 0?f===G||l(f,G,n,i,r):V)){Z=!1;break}p||(p=m=="constructor")}if(Z&&!p){var X=t.constructor,L=e.constructor;X!=L&&"constructor"in t&&"constructor"in e&&!(typeof X=="function"&&X instanceof X&&typeof L=="function"&&L instanceof L)&&(Z=!1)}return r.delete(t),r.delete(e),Z}var exe=bs(Mi,"DataView");const x1=exe;var txe=bs(Mi,"Promise");const R1=txe;var nxe=bs(Mi,"Set");const S1=nxe;var ixe=bs(Mi,"WeakMap");const Y1=ixe;var PL="[object Map]",lxe="[object Object]",FL="[object Promise]",zL="[object Set]",jL="[object WeakMap]",HL="[object DataView]",rxe=hs(x1),axe=hs(kd),sxe=hs(R1),oxe=hs(S1),cxe=hs(Y1),pa=ms;(x1&&pa(new x1(new ArrayBuffer(1)))!=HL||kd&&pa(new kd)!=PL||R1&&pa(R1.resolve())!=FL||S1&&pa(new S1)!=zL||Y1&&pa(new Y1)!=jL)&&(pa=function(t){var e=ms(t),n=e==lxe?t.constructor:void 0,i=n?hs(n):"";if(i)switch(i){case rxe:return HL;case axe:return PL;case sxe:return FL;case oxe:return zL;case cxe:return jL}return e});const DL=pa;var uxe=1,OL="[object Arguments]",BL="[object Array]",Rh="[object Object]",dxe=Object.prototype,QL=dxe.hasOwnProperty;function mxe(t,e,n,i,l,r){var a=Yn(t),s=Yn(e),o=a?BL:DL(t),c=s?BL:DL(e);o=o==OL?Rh:o,c=c==OL?Rh:c;var u=o==Rh,d=c==Rh,m=o==c;if(m&&Fp(t)){if(!Fp(e))return!1;a=!0,u=!1}if(m&&!u)return r||(r=new tl),a||i2(t)?zk(t,e,n,i,l,r):PTe(t,e,o,n,i,l,r);if(!(n&uxe)){var h=u&&QL.call(t,"__wrapped__"),b=d&&QL.call(e,"__wrapped__");if(h||b){var Z=h?t.value():t,p=b?e.value():e;return r||(r=new tl),l(Z,p,n,i,r)}}return m?(r||(r=new tl),qTe(t,e,n,i,l,r)):!1}function s2(t,e,n,i,l){return t===e?!0:t==null||e==null||!Br(t)&&!Br(e)?t!==t&&e!==e:mxe(t,e,n,i,s2,l)}var hxe=1,bxe=2;function pxe(t,e,n,i){var l=n.length,r=l,a=!i;if(t==null)return!r;for(t=Object(t);l--;){var s=n[l];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++l<r;){s=n[l];var o=s[0],c=t[o],u=s[1];if(a&&s[2]){if(c===void 0&&!(o in t))return!1}else{var d=new tl;if(i)var m=i(c,u,o,t,e,d);if(!(m===void 0?s2(u,c,hxe|bxe,i,d):m))return!1}}return!0}function jk(t){return t===t&&!_n(t)}function Zxe(t){for(var e=r2(t),n=e.length;n--;){var i=e[n],l=t[i];e[n]=[i,l,jk(l)]}return e}function Hk(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function fxe(t){var e=Zxe(t);return e.length==1&&e[0][2]?Hk(e[0][0],e[0][1]):function(n){return n===t||pxe(n,t,e)}}var yxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gxe=/^\w*$/;function o2(t,e){if(Yn(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||b0(t)?!0:Gxe.test(t)||!yxe.test(t)||e!=null&&t in Object(e)}var Xxe="Expected a function";function c2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Xxe);var n=function(){var i=arguments,l=e?e.apply(this,i):i[0],r=n.cache;if(r.has(l))return r.get(l);var a=t.apply(this,i);return n.cache=r.set(l,a)||r,a};return n.cache=new(c2.Cache||Ol),n}c2.Cache=Ol;var gxe=500;function Wxe(t){var e=c2(t,function(i){return n.size===gxe&&n.clear(),i}),n=e.cache;return e}var Vxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Txe=/\\(\\)?/g,xxe=Wxe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Vxe,function(n,i,l,r){e.push(l?r.replace(Txe,"$1"):i||n)}),e});const Rxe=xxe;var Sxe=1/0,AL=Or?Or.prototype:void 0,_L=AL?AL.toString:void 0;function Dk(t){if(typeof t=="string")return t;if(Yn(t))return Fk(t,Dk)+"";if(b0(t))return _L?_L.call(t):"";var e=t+"";return e=="0"&&1/t==-Sxe?"-0":e}function Yxe(t){return t==null?"":Dk(t)}function Ok(t,e){return Yn(t)?t:o2(t,e)?[t]:Rxe(Yxe(t))}var Lxe=1/0;function f0(t){if(typeof t=="string"||b0(t))return t;var e=t+"";return e=="0"&&1/t==-Lxe?"-0":e}function Bk(t,e){e=Ok(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[f0(e[n++])];return n&&n==i?t:void 0}function Mxe(t,e,n){var i=t==null?void 0:Bk(t,e);return i===void 0?n:i}function Nxe(t,e){return t!=null&&e in Object(t)}function vxe(t,e,n){e=Ok(e,t);for(var i=-1,l=e.length,r=!1;++i<l;){var a=f0(e[i]);if(!(r=t!=null&&n(t,a)))break;t=t[a]}return r||++i!=l?r:(l=t==null?0:t.length,!!l&&n2(l)&&l2(a,l)&&(Yn(t)||Pp(t)))}function Ixe(t,e){return t!=null&&vxe(t,e,Nxe)}var wxe=1,Jxe=2;function Cxe(t,e){return o2(t)&&jk(e)?Hk(f0(t),e):function(n){var i=Mxe(n,t);return i===void 0&&i===e?Ixe(n,t):s2(e,i,wxe|Jxe)}}function kxe(t){return function(e){return e==null?void 0:e[t]}}function Exe(t){return function(e){return Bk(e,t)}}function Kxe(t){return o2(t)?kxe(f0(t)):Exe(t)}function Uxe(t){return typeof t=="function"?t:t==null?h0:typeof t=="object"?Yn(t)?Cxe(t[0],t[1]):fxe(t):Kxe(t)}function Pxe(t,e){var n=-1,i=Yc(t)?Array(t.length):[];return Ek(t,function(l,r,a){i[++n]=e(l,r,a)}),i}function Zs(t,e){var n=Yn(t)?Fk:Pxe;return n(t,Uxe(e))}var Fxe=function(e){var n=e.colors,i=e.onClick,l=e.onSwatchHover,r=ge({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return S.createElement("div",{style:r.swatches},Zs(n,function(a){return S.createElement(ps,{key:a,color:a,style:r.swatch,onClick:i,onHover:l,focusStyle:{boxShadow:"0 0 4px "+a}})}),S.createElement("div",{style:r.clear}))},u2=function(e){var n=e.onChange,i=e.onSwatchHover,l=e.hex,r=e.colors,a=e.width,s=e.triangle,o=e.styles,c=o===void 0?{}:o,u=e.className,d=u===void 0?"":u,m=l==="transparent",h=function(p,f){ta(p)&&n({hex:p,source:"hex"},f)},b=ge(an({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:l,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:a2(l),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+l+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":s==="hide"});return S.createElement("div",{style:b.card,className:"block-picker "+d},S.createElement("div",{style:b.triangle}),S.createElement("div",{style:b.head},m&&S.createElement(Rc,{borderRadius:"6px 6px 0 0"}),S.createElement("div",{style:b.label},l)),S.createElement("div",{style:b.body},S.createElement(Fxe,{colors:r,onClick:h,onSwatchHover:i}),S.createElement(Ne,{style:{input:b.input},value:l,onChange:h})))};u2.propTypes={width:K.oneOfType([K.string,K.number]),colors:K.arrayOf(K.string),triangle:K.oneOf(["top","hide"]),styles:K.object};u2.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};sn(u2);var Cs={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},ks={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Es={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ks={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Us={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Ps={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Fs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},zs={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},js={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Vu={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Hs={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Ds={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Os={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Bs={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Qs={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},As={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},_s={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},$s={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},Qk=function(e){var n=e.color,i=e.onClick,l=e.onSwatchHover,r=e.hover,a=e.active,s=e.circleSize,o=e.circleSpacing,c=ge({default:{swatch:{width:s,height:s,marginRight:o,marginBottom:o,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:r,active:a});return S.createElement("div",{style:c.swatch},S.createElement(ps,{style:c.Swatch,color:n,onClick:i,onHover:l,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};Qk.defaultProps={circleSize:28,circleSpacing:14};const zxe=_V(Qk);var d2=function(e){var n=e.width,i=e.onChange,l=e.onSwatchHover,r=e.colors,a=e.hex,s=e.circleSize,o=e.styles,c=o===void 0?{}:o,u=e.circleSpacing,d=e.className,m=d===void 0?"":d,h=ge(an({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),b=function(p,f){return i({hex:p,source:"hex"},f)};return S.createElement("div",{style:h.card,className:"circle-picker "+m},Zs(r,function(Z){return S.createElement(zxe,{key:Z,color:Z,onClick:b,onSwatchHover:l,active:a===Z.toLowerCase(),circleSize:s,circleSpacing:u})}))};d2.propTypes={width:K.oneOfType([K.string,K.number]),circleSize:K.number,circleSpacing:K.number,styles:K.object};d2.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Cs[500],ks[500],Es[500],Ks[500],Us[500],Ps[500],Fs[500],zs[500],js[500],Vu[500],Hs[500],Ds[500],Os[500],Bs[500],Qs[500],As[500],_s[500],$s[500]],styles:{}};sn(d2);function $L(t){return t===void 0}var Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});var qL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jxe=T,e5=Hxe(jxe);function Hxe(t){return t&&t.__esModule?t:{default:t}}function Dxe(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var Sh=24,Oxe=Ak.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,i=t.width,l=i===void 0?Sh:i,r=t.height,a=r===void 0?Sh:r,s=t.style,o=s===void 0?{}:s,c=Dxe(t,["fill","width","height","style"]);return e5.default.createElement("svg",qL({viewBox:"0 0 "+Sh+" "+Sh,style:qL({fill:n,width:l,height:a},o)},c),e5.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Bxe=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function Qxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Axe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _k=function(t){_xe(e,t);function e(n){Qxe(this,e);var i=Axe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.toggleViews=function(){i.state.view==="hex"?i.setState({view:"rgb"}):i.state.view==="rgb"?i.setState({view:"hsl"}):i.state.view==="hsl"&&(i.props.hsl.a===1?i.setState({view:"hex"}):i.setState({view:"rgb"}))},i.handleChange=function(l,r){l.hex?ta(l.hex)&&i.props.onChange({hex:l.hex,source:"hex"},r):l.r||l.g||l.b?i.props.onChange({r:l.r||i.props.rgb.r,g:l.g||i.props.rgb.g,b:l.b||i.props.rgb.b,source:"rgb"},r):l.a?(l.a<0?l.a=0:l.a>1&&(l.a=1),i.props.onChange({h:i.props.hsl.h,s:i.props.hsl.s,l:i.props.hsl.l,a:Math.round(l.a*100)/100,source:"rgb"},r)):(l.h||l.s||l.l)&&(typeof l.s=="string"&&l.s.includes("%")&&(l.s=l.s.replace("%","")),typeof l.l=="string"&&l.l.includes("%")&&(l.l=l.l.replace("%","")),l.s==1?l.s=.01:l.l==1&&(l.l=.01),i.props.onChange({h:l.h||i.props.hsl.h,s:Number($L(l.s)?i.props.hsl.s:l.s),l:Number($L(l.l)?i.props.hsl.l:l.l),source:"hsl"},r))},i.showHighlight=function(l){l.currentTarget.style.background="#eee"},i.hideHighlight=function(l){l.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?i.state={view:"rgb"}:i.state={view:n.view},i}return Bxe(e,[{key:"render",value:function(){var i=this,l=ge({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return this.state.view==="hex"?r=S.createElement("div",{style:l.fields,className:"flexbox-fix"},S.createElement("div",{style:l.field},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?r=S.createElement("div",{style:l.fields,className:"flexbox-fix"},S.createElement("div",{style:l.field},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),S.createElement("div",{style:l.field},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),S.createElement("div",{style:l.field},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),S.createElement("div",{style:l.alpha},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(r=S.createElement("div",{style:l.fields,className:"flexbox-fix"},S.createElement("div",{style:l.field},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),S.createElement("div",{style:l.field},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),S.createElement("div",{style:l.field},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),S.createElement("div",{style:l.alpha},S.createElement(Ne,{style:{input:l.input,label:l.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),S.createElement("div",{style:l.wrap,className:"flexbox-fix"},r,S.createElement("div",{style:l.toggle},S.createElement("div",{style:l.icon,onClick:this.toggleViews,ref:function(s){return i.icon=s}},S.createElement(Oxe,{style:l.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(i,l){return i.hsl.a!==1&&l.view==="hex"?{view:"rgb"}:null}}]),e}(S.Component);_k.defaultProps={view:"hex"};var t5=function(){var e=ge({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return S.createElement("div",{style:e.picker})},$xe=function(){var e=ge({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return S.createElement("div",{style:e.picker})},m2=function(e){var n=e.width,i=e.onChange,l=e.disableAlpha,r=e.rgb,a=e.hsl,s=e.hsv,o=e.hex,c=e.renderers,u=e.styles,d=u===void 0?{}:u,m=e.className,h=m===void 0?"":m,b=e.defaultView,Z=ge(an({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:l});return S.createElement("div",{style:Z.picker,className:"chrome-picker "+h},S.createElement("div",{style:Z.saturation},S.createElement(p0,{style:Z.Saturation,hsl:a,hsv:s,pointer:$xe,onChange:i})),S.createElement("div",{style:Z.body},S.createElement("div",{style:Z.controls,className:"flexbox-fix"},S.createElement("div",{style:Z.color},S.createElement("div",{style:Z.swatch},S.createElement("div",{style:Z.active}),S.createElement(Rc,{renderers:c}))),S.createElement("div",{style:Z.toggles},S.createElement("div",{style:Z.hue},S.createElement(Sc,{style:Z.Hue,hsl:a,pointer:t5,onChange:i})),S.createElement("div",{style:Z.alpha},S.createElement($V,{style:Z.Alpha,rgb:r,hsl:a,pointer:t5,renderers:c,onChange:i})))),S.createElement(_k,{rgb:r,hsl:a,hex:o,view:b,onChange:i,disableAlpha:l})))};m2.propTypes={width:K.oneOfType([K.string,K.number]),disableAlpha:K.bool,styles:K.object,defaultView:K.oneOf(["hex","rgb","hsl"])};m2.defaultProps={width:225,disableAlpha:!1,styles:{}};sn(m2);var qxe=function(e){var n=e.color,i=e.onClick,l=i===void 0?function(){}:i,r=e.onSwatchHover,a=e.active,s=ge({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:a2(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return S.createElement(ps,{style:s.color,color:n,onClick:l,onHover:r,focusStyle:{boxShadow:"0 0 4px "+n}},S.createElement("div",{style:s.dot}))},eRe=function(e){var n=e.hex,i=e.rgb,l=e.onChange,r=ge({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(o,c){o.r||o.g||o.b?l({r:o.r||i.r,g:o.g||i.g,b:o.b||i.b,source:"rgb"},c):l({hex:o.hex,source:"hex"},c)};return S.createElement("div",{style:r.fields,className:"flexbox-fix"},S.createElement("div",{style:r.active}),S.createElement(Ne,{style:{wrap:r.HEXwrap,input:r.HEXinput,label:r.HEXlabel},label:"hex",value:n,onChange:a}),S.createElement(Ne,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"r",value:i.r,onChange:a}),S.createElement(Ne,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"g",value:i.g,onChange:a}),S.createElement(Ne,{style:{wrap:r.RGBwrap,input:r.RGBinput,label:r.RGBlabel},label:"b",value:i.b,onChange:a}))},h2=function(e){var n=e.onChange,i=e.onSwatchHover,l=e.colors,r=e.hex,a=e.rgb,s=e.styles,o=s===void 0?{}:s,c=e.className,u=c===void 0?"":c,d=ge(an({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},o)),m=function(b,Z){b.hex?ta(b.hex)&&n({hex:b.hex,source:"hex"},Z):n(b,Z)};return S.createElement(Sm,{style:d.Compact,styles:o},S.createElement("div",{style:d.compact,className:"compact-picker "+u},S.createElement("div",null,Zs(l,function(h){return S.createElement(qxe,{key:h,color:h,active:h.toLowerCase()===r,onClick:m,onSwatchHover:i})}),S.createElement("div",{style:d.clear})),S.createElement(eRe,{hex:r,rgb:a,onChange:m})))};h2.propTypes={colors:K.arrayOf(K.string),styles:K.object};h2.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};sn(h2);var tRe=function(e){var n=e.hover,i=e.color,l=e.onClick,r=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=ge({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:n});return S.createElement("div",{style:s.swatch},S.createElement(ps,{color:i,onClick:l,onHover:r,focusStyle:a}))};const nRe=_V(tRe);var b2=function(e){var n=e.width,i=e.colors,l=e.onChange,r=e.onSwatchHover,a=e.triangle,s=e.styles,o=s===void 0?{}:s,c=e.className,u=c===void 0?"":c,d=ge(an({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},o),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right","bottom-left-triangle":a==="bottom-left","bottom-right-triangle":a==="bottom-right"}),m=function(b,Z){return l({hex:b,source:"hex"},Z)};return S.createElement("div",{style:d.card,className:"github-picker "+u},S.createElement("div",{style:d.triangleShadow}),S.createElement("div",{style:d.triangle}),Zs(i,function(h){return S.createElement(nRe,{color:h,key:h,onClick:m,onSwatchHover:r})}))};b2.propTypes={width:K.oneOfType([K.string,K.number]),colors:K.arrayOf(K.string),triangle:K.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:K.object};b2.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};sn(b2);var iRe=function(e){var n=e.direction,i=ge({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return S.createElement("div",{style:i.picker})},lRe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},p2=function(e){var n=e.width,i=e.height,l=e.onChange,r=e.hsl,a=e.direction,s=e.pointer,o=e.styles,c=o===void 0?{}:o,u=e.className,d=u===void 0?"":u,m=ge(an({default:{picker:{position:"relative",width:n,height:i},hue:{radius:"2px"}}},c)),h=function(Z){return l({a:1,h:Z.h,l:.5,s:1})};return S.createElement("div",{style:m.picker,className:"hue-picker "+d},S.createElement(Sc,lRe({},m.hue,{hsl:r,pointer:s,onChange:h,direction:a})))};p2.propTypes={styles:K.object};p2.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:iRe,styles:{}};sn(p2);var rRe=function(e){var n=e.onChange,i=e.hex,l=e.rgb,r=e.styles,a=r===void 0?{}:r,s=e.className,o=s===void 0?"":s,c=ge(an({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+i,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),u=function(m,h){m.hex?ta(m.hex)&&n({hex:m.hex,source:"hex"},h):(m.r||m.g||m.b)&&n({r:m.r||l.r,g:m.g||l.g,b:m.b||l.b,source:"rgb"},h)};return S.createElement(Sm,{styles:a},S.createElement("div",{style:c.material,className:"material-picker "+o},S.createElement(Ne,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:i,onChange:u}),S.createElement("div",{style:c.split,className:"flexbox-fix"},S.createElement("div",{style:c.third},S.createElement(Ne,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:l.r,onChange:u})),S.createElement("div",{style:c.third},S.createElement(Ne,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:l.g,onChange:u})),S.createElement("div",{style:c.third},S.createElement(Ne,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:l.b,onChange:u})))))};sn(rRe);var aRe=function(e){var n=e.onChange,i=e.rgb,l=e.hsv,r=e.hex,a=ge({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(c,u){c["#"]?ta(c["#"])&&n({hex:c["#"],source:"hex"},u):c.r||c.g||c.b?n({r:c.r||i.r,g:c.g||i.g,b:c.b||i.b,source:"rgb"},u):(c.h||c.s||c.v)&&n({h:c.h||l.h,s:c.s||l.s,v:c.v||l.v,source:"hsv"},u)};return S.createElement("div",{style:a.fields},S.createElement(Ne,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(l.h),onChange:s}),S.createElement(Ne,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(l.s*100),onChange:s}),S.createElement(Ne,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(l.v*100),onChange:s}),S.createElement("div",{style:a.divider}),S.createElement(Ne,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:i.r,onChange:s}),S.createElement(Ne,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:i.g,onChange:s}),S.createElement(Ne,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:i.b,onChange:s}),S.createElement("div",{style:a.divider}),S.createElement(Ne,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:r.replace("#",""),onChange:s}),S.createElement("div",{style:a.fieldSymbols},S.createElement("div",{style:a.symbol},"°"),S.createElement("div",{style:a.symbol},"%"),S.createElement("div",{style:a.symbol},"%")))},sRe=function(e){var n=e.hsl,i=ge({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return S.createElement("div",{style:i.picker})},oRe=function(){var e=ge({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return S.createElement("div",{style:e.pointer},S.createElement("div",{style:e.left},S.createElement("div",{style:e.leftInside})),S.createElement("div",{style:e.right},S.createElement("div",{style:e.rightInside})))},n5=function(e){var n=e.onClick,i=e.label,l=e.children,r=e.active,a=ge({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:r});return S.createElement("div",{style:a.button,onClick:n},i||l)},cRe=function(e){var n=e.rgb,i=e.currentColor,l=ge({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:i,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return S.createElement("div",null,S.createElement("div",{style:l.label},"new"),S.createElement("div",{style:l.swatches},S.createElement("div",{style:l.new}),S.createElement("div",{style:l.current})),S.createElement("div",{style:l.label},"current"))},uRe=function(){function t(e,n){for(var i=0;i<n.length;i++){var l=n[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function dRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mRe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Z2=function(t){hRe(e,t);function e(n){dRe(this,e);var i=mRe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.state={currentColor:n.hex},i}return uRe(e,[{key:"render",value:function(){var i=this.props,l=i.styles,r=l===void 0?{}:l,a=i.className,s=a===void 0?"":a,o=ge(an({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return S.createElement("div",{style:o.picker,className:"photoshop-picker "+s},S.createElement("div",{style:o.head},this.props.header),S.createElement("div",{style:o.body,className:"flexbox-fix"},S.createElement("div",{style:o.saturation},S.createElement(p0,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:sRe,onChange:this.props.onChange})),S.createElement("div",{style:o.hue},S.createElement(Sc,{direction:"vertical",hsl:this.props.hsl,pointer:oRe,onChange:this.props.onChange})),S.createElement("div",{style:o.controls},S.createElement("div",{style:o.top,className:"flexbox-fix"},S.createElement("div",{style:o.previews},S.createElement(cRe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),S.createElement("div",{style:o.actions},S.createElement(n5,{label:"OK",onClick:this.props.onAccept,active:!0}),S.createElement(n5,{label:"Cancel",onClick:this.props.onCancel}),S.createElement(aRe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(S.Component);Z2.propTypes={header:K.string,styles:K.object};Z2.defaultProps={header:"Color Picker",styles:{}};sn(Z2);var bRe=function(e){var n=e.onChange,i=e.rgb,l=e.hsl,r=e.hex,a=e.disableAlpha,s=ge({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),o=function(u,d){u.hex?ta(u.hex)&&n({hex:u.hex,source:"hex"},d):u.r||u.g||u.b?n({r:u.r||i.r,g:u.g||i.g,b:u.b||i.b,a:i.a,source:"rgb"},d):u.a&&(u.a<0?u.a=0:u.a>100&&(u.a=100),u.a/=100,n({h:l.h,s:l.s,l:l.l,a:u.a,source:"rgb"},d))};return S.createElement("div",{style:s.fields,className:"flexbox-fix"},S.createElement("div",{style:s.double},S.createElement(Ne,{style:{input:s.input,label:s.label},label:"hex",value:r.replace("#",""),onChange:o})),S.createElement("div",{style:s.single},S.createElement(Ne,{style:{input:s.input,label:s.label},label:"r",value:i.r,onChange:o,dragLabel:"true",dragMax:"255"})),S.createElement("div",{style:s.single},S.createElement(Ne,{style:{input:s.input,label:s.label},label:"g",value:i.g,onChange:o,dragLabel:"true",dragMax:"255"})),S.createElement("div",{style:s.single},S.createElement(Ne,{style:{input:s.input,label:s.label},label:"b",value:i.b,onChange:o,dragLabel:"true",dragMax:"255"})),S.createElement("div",{style:s.alpha},S.createElement(Ne,{style:{input:s.input,label:s.label},label:"a",value:Math.round(i.a*100),onChange:o,dragLabel:"true",dragMax:"100"})))},pRe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$k=function(e){var n=e.colors,i=e.onClick,l=i===void 0?function(){}:i,r=e.onSwatchHover,a=ge({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),s=function(c,u){l({hex:c,source:"hex"},u)};return S.createElement("div",{style:a.colors,className:"flexbox-fix"},n.map(function(o){var c=typeof o=="string"?{color:o}:o,u=""+c.color+(c.title||"");return S.createElement("div",{key:u,style:a.swatchWrap},S.createElement(ps,pRe({},c,{style:a.swatch,onClick:s,onHover:r,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+c.color}})))}))};$k.propTypes={colors:K.arrayOf(K.oneOfType([K.string,K.shape({color:K.string,title:K.string})])).isRequired};var ZRe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},f2=function(e){var n=e.width,i=e.rgb,l=e.hex,r=e.hsv,a=e.hsl,s=e.onChange,o=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,d=e.renderers,m=e.styles,h=m===void 0?{}:m,b=e.className,Z=b===void 0?"":b,p=ge(an({default:ZRe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+i.r+","+i.g+","+i.b+","+i.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},h),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},h),{disableAlpha:c});return S.createElement("div",{style:p.picker,className:"sketch-picker "+Z},S.createElement("div",{style:p.saturation},S.createElement(p0,{style:p.Saturation,hsl:a,hsv:r,onChange:s})),S.createElement("div",{style:p.controls,className:"flexbox-fix"},S.createElement("div",{style:p.sliders},S.createElement("div",{style:p.hue},S.createElement(Sc,{style:p.Hue,hsl:a,onChange:s})),S.createElement("div",{style:p.alpha},S.createElement($V,{style:p.Alpha,rgb:i,hsl:a,renderers:d,onChange:s}))),S.createElement("div",{style:p.color},S.createElement(Rc,null),S.createElement("div",{style:p.activeColor}))),S.createElement(bRe,{rgb:i,hsl:a,hex:l,onChange:s,disableAlpha:c}),S.createElement($k,{colors:u,onClick:s,onSwatchHover:o}))};f2.propTypes={disableAlpha:K.bool,width:K.oneOfType([K.string,K.number]),styles:K.object};f2.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const fRe=sn(f2);var ru=function(e){var n=e.hsl,i=e.offset,l=e.onClick,r=l===void 0?function(){}:l,a=e.active,s=e.first,o=e.last,c=ge({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+i*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:s,last:o}),u=function(m){return r({h:n.h,s:.5,l:i,source:"hsl"},m)};return S.createElement("div",{style:c.swatch,onClick:u})},yRe=function(e){var n=e.onClick,i=e.hsl,l=ge({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),r=.1;return S.createElement("div",{style:l.swatches},S.createElement("div",{style:l.swatch},S.createElement(ru,{hsl:i,offset:".80",active:Math.abs(i.l-.8)<r&&Math.abs(i.s-.5)<r,onClick:n,first:!0})),S.createElement("div",{style:l.swatch},S.createElement(ru,{hsl:i,offset:".65",active:Math.abs(i.l-.65)<r&&Math.abs(i.s-.5)<r,onClick:n})),S.createElement("div",{style:l.swatch},S.createElement(ru,{hsl:i,offset:".50",active:Math.abs(i.l-.5)<r&&Math.abs(i.s-.5)<r,onClick:n})),S.createElement("div",{style:l.swatch},S.createElement(ru,{hsl:i,offset:".35",active:Math.abs(i.l-.35)<r&&Math.abs(i.s-.5)<r,onClick:n})),S.createElement("div",{style:l.swatch},S.createElement(ru,{hsl:i,offset:".20",active:Math.abs(i.l-.2)<r&&Math.abs(i.s-.5)<r,onClick:n,last:!0})),S.createElement("div",{style:l.clear}))},GRe=function(){var e=ge({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return S.createElement("div",{style:e.picker})},y2=function(e){var n=e.hsl,i=e.onChange,l=e.pointer,r=e.styles,a=r===void 0?{}:r,s=e.className,o=s===void 0?"":s,c=ge(an({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},a));return S.createElement("div",{style:c.wrap||{},className:"slider-picker "+o},S.createElement("div",{style:c.hue},S.createElement(Sc,{style:c.Hue,hsl:n,pointer:l,onChange:i})),S.createElement("div",{style:c.swatches},S.createElement(yRe,{hsl:n,onClick:i})))};y2.propTypes={styles:K.object};y2.defaultProps={pointer:GRe,styles:{}};sn(y2);var qk={};Object.defineProperty(qk,"__esModule",{value:!0});var i5=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},XRe=T,l5=gRe(XRe);function gRe(t){return t&&t.__esModule?t:{default:t}}function WRe(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}var Yh=24,VRe=qk.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,i=t.width,l=i===void 0?Yh:i,r=t.height,a=r===void 0?Yh:r,s=t.style,o=s===void 0?{}:s,c=WRe(t,["fill","width","height","style"]);return l5.default.createElement("svg",i5({viewBox:"0 0 "+Yh+" "+Yh,style:i5({fill:n,width:l,height:a},o)},c),l5.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},TRe=function(e){var n=e.color,i=e.onClick,l=i===void 0?function(){}:i,r=e.onSwatchHover,a=e.first,s=e.last,o=e.active,c=ge({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:a2(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:a,last:s,active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return S.createElement(ps,{color:n,style:c.color,onClick:l,onHover:r,focusStyle:{boxShadow:"0 0 4px "+n}},S.createElement("div",{style:c.check},S.createElement(VRe,null)))},xRe=function(e){var n=e.onClick,i=e.onSwatchHover,l=e.group,r=e.active,a=ge({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return S.createElement("div",{style:a.group},Zs(l,function(s,o){return S.createElement(TRe,{key:s,color:s,active:s.toLowerCase()===r,first:o===0,last:o===l.length-1,onClick:n,onSwatchHover:i})}))},G2=function(e){var n=e.width,i=e.height,l=e.onChange,r=e.onSwatchHover,a=e.colors,s=e.hex,o=e.styles,c=o===void 0?{}:o,u=e.className,d=u===void 0?"":u,m=ge(an({default:{picker:{width:n,height:i},overflow:{height:i,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),h=function(Z,p){return l({hex:Z,source:"hex"},p)};return S.createElement("div",{style:m.picker,className:"swatches-picker "+d},S.createElement(Sm,null,S.createElement("div",{style:m.overflow},S.createElement("div",{style:m.body},Zs(a,function(b){return S.createElement(xRe,{key:b.toString(),group:b,active:s,onClick:h,onSwatchHover:r})}),S.createElement("div",{style:m.clear})))))};G2.propTypes={width:K.oneOfType([K.string,K.number]),height:K.oneOfType([K.string,K.number]),colors:K.arrayOf(K.arrayOf(K.string)),styles:K.object};G2.defaultProps={width:320,height:240,colors:[[Cs[900],Cs[700],Cs[500],Cs[300],Cs[100]],[ks[900],ks[700],ks[500],ks[300],ks[100]],[Es[900],Es[700],Es[500],Es[300],Es[100]],[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],[Us[900],Us[700],Us[500],Us[300],Us[100]],[Ps[900],Ps[700],Ps[500],Ps[300],Ps[100]],[Fs[900],Fs[700],Fs[500],Fs[300],Fs[100]],[zs[900],zs[700],zs[500],zs[300],zs[100]],[js[900],js[700],js[500],js[300],js[100]],["#194D33",Vu[700],Vu[500],Vu[300],Vu[100]],[Hs[900],Hs[700],Hs[500],Hs[300],Hs[100]],[Ds[900],Ds[700],Ds[500],Ds[300],Ds[100]],[Os[900],Os[700],Os[500],Os[300],Os[100]],[Bs[900],Bs[700],Bs[500],Bs[300],Bs[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[As[900],As[700],As[500],As[300],As[100]],[_s[900],_s[700],_s[500],_s[300],_s[100]],[$s[900],$s[700],$s[500],$s[300],$s[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};sn(G2);var X2=function(e){var n=e.onChange,i=e.onSwatchHover,l=e.hex,r=e.colors,a=e.width,s=e.triangle,o=e.styles,c=o===void 0?{}:o,u=e.className,d=u===void 0?"":u,m=ge(an({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),h=function(Z,p){ta(Z)&&n({hex:Z,source:"hex"},p)};return S.createElement("div",{style:m.card,className:"twitter-picker "+d},S.createElement("div",{style:m.triangleShadow}),S.createElement("div",{style:m.triangle}),S.createElement("div",{style:m.body},Zs(r,function(b,Z){return S.createElement(ps,{key:Z,color:b,hex:b,style:m.swatch,onClick:h,onHover:i,focusStyle:{boxShadow:"0 0 4px "+b}})}),S.createElement("div",{style:m.hash},"#"),S.createElement(Ne,{label:null,style:{input:m.input},value:l.replace("#",""),onChange:h}),S.createElement("div",{style:m.clear})))};X2.propTypes={width:K.oneOfType([K.string,K.number]),triangle:K.oneOf(["hide","top-left","top-right"]),colors:K.arrayOf(K.string),styles:K.object};X2.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};sn(X2);var g2=function(e){var n=ge({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return S.createElement("div",{style:n.picker})};g2.propTypes={hsl:K.shape({h:K.number,s:K.number,l:K.number,a:K.number})};g2.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var W2=function(e){var n=ge({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return S.createElement("div",{style:n.picker})};W2.propTypes={hsl:K.shape({h:K.number,s:K.number,l:K.number,a:K.number})};W2.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var RRe=function(e){var n=e.onChange,i=e.rgb,l=e.hsl,r=e.hex,a=e.hsv,s=function(h,b){if(h.hex)ta(h.hex)&&n({hex:h.hex,source:"hex"},b);else if(h.rgb){var Z=h.rgb.split(",");Ty(h.rgb,"rgb")&&n({r:Z[0],g:Z[1],b:Z[2],a:1,source:"rgb"},b)}else if(h.hsv){var p=h.hsv.split(",");Ty(h.hsv,"hsv")&&(p[2]=p[2].replace("%",""),p[1]=p[1].replace("%",""),p[0]=p[0].replace("°",""),p[1]==1?p[1]=.01:p[2]==1&&(p[2]=.01),n({h:Number(p[0]),s:Number(p[1]),v:Number(p[2]),source:"hsv"},b))}else if(h.hsl){var f=h.hsl.split(",");Ty(h.hsl,"hsl")&&(f[2]=f[2].replace("%",""),f[1]=f[1].replace("%",""),f[0]=f[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(f[0]),s:Number(f[1]),v:Number(f[2]),source:"hsl"},b))}},o=ge({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=i.r+", "+i.g+", "+i.b,u=Math.round(l.h)+"°, "+Math.round(l.s*100)+"%, "+Math.round(l.l*100)+"%",d=Math.round(a.h)+"°, "+Math.round(a.s*100)+"%, "+Math.round(a.v*100)+"%";return S.createElement("div",{style:o.wrap,className:"flexbox-fix"},S.createElement("div",{style:o.fields},S.createElement("div",{style:o.double},S.createElement(Ne,{style:{input:o.input,label:o.label},label:"hex",value:r,onChange:s})),S.createElement("div",{style:o.column},S.createElement("div",{style:o.single},S.createElement(Ne,{style:{input:o.input2,label:o.label2},label:"rgb",value:c,onChange:s})),S.createElement("div",{style:o.single},S.createElement(Ne,{style:{input:o.input2,label:o.label2},label:"hsv",value:d,onChange:s})),S.createElement("div",{style:o.single},S.createElement(Ne,{style:{input:o.input2,label:o.label2},label:"hsl",value:u,onChange:s})))))},V2=function(e){var n=e.width,i=e.onChange,l=e.rgb,r=e.hsl,a=e.hsv,s=e.hex,o=e.header,c=e.styles,u=c===void 0?{}:c,d=e.className,m=d===void 0?"":d,h=ge(an({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+l.r+", "+l.g+", "+l.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return S.createElement("div",{style:h.picker,className:"google-picker "+m},S.createElement("div",{style:h.head},o),S.createElement("div",{style:h.swatch}),S.createElement("div",{style:h.saturation},S.createElement(p0,{hsl:r,hsv:a,pointer:g2,onChange:i})),S.createElement("div",{style:h.body},S.createElement("div",{style:h.controls,className:"flexbox-fix"},S.createElement("div",{style:h.hue},S.createElement(Sc,{style:h.Hue,hsl:r,radius:"4px",pointer:W2,onChange:i}))),S.createElement(RRe,{rgb:l,hsl:r,hex:s,hsv:a,onChange:i})))};V2.propTypes={width:K.oneOfType([K.string,K.number]),styles:K.object,header:K.string};V2.defaultProps={width:652,styles:{},header:"Color picker"};sn(V2);const SRe=t=>[t.r,t.g,t.b],YRe=t=>({r:t[0],g:t[1],b:t[2]});function qs({color:t,setColor:e}){const n=YRe(t),[i,l]=T.useState(!1),r=()=>{l(!i)},a=()=>{l(!1)},s=o=>{e(SRe(o.rgb))};return i?N.jsxs("div",{style:{position:"absolute",zIndex:"2"},children:[N.jsx("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:a}),N.jsx(fRe,{color:n,onChange:s,presetColors:[],disableAlpha:!0})]}):N.jsx("div",{className:"inline-block",children:N.jsx("div",{style:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},onClick:r,children:N.jsx("div",{style:{width:"36px",height:"14px",borderRadius:"2px",background:`rgba(${n.r},${n.g},${n.b},${n.a||1})`}})})})}function T2(t){return function(e){return!!e.type&&e.type.tabsRole===t}}var y0=T2("Tab"),x2=T2("TabList"),R2=T2("TabPanel");function L1(){return L1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L1.apply(this,arguments)}function LRe(t){return y0(t)||x2(t)||R2(t)}function M1(t,e){return T.Children.map(t,function(n){return n===null?null:LRe(n)?e(n):n.props&&n.props.children&&typeof n.props.children=="object"?T.cloneElement(n,L1({},n.props,{children:M1(n.props.children,e)})):n})}function eE(t,e){return T.Children.forEach(t,function(n){n!==null&&(y0(n)||R2(n)?e(n):n.props&&n.props.children&&typeof n.props.children=="object"&&(x2(n)&&e(n),eE(n.props.children,e)))})}function tE(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=tE(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function G0(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=tE(t))&&(i&&(i+=" "),i+=e);return i}var MRe=0;function r5(){return"react-tabs-"+MRe++}function nE(t){var e=0;return eE(t,function(n){y0(n)&&e++}),e}var NRe=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys"];function N1(){return N1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},N1.apply(this,arguments)}function vRe(t,e){if(t==null)return{};var n={},i=Object.keys(t),l,r;for(r=0;r<i.length;r++)l=i[r],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function iE(t){return t&&"getAttribute"in t}function a5(t){return iE(t)&&t.getAttribute("data-rttab")}function ca(t){return iE(t)&&t.getAttribute("aria-disabled")==="true"}var Hp;function IRe(t){var e=t||(typeof window<"u"?window:void 0);try{Hp=!!(typeof e<"u"&&e.document&&e.document.activeElement)}catch{Hp=!1}}var wRe={className:"react-tabs",focus:!1},S2=function(e){var n=T.useRef([]),i=T.useRef([]),l=T.useRef([]),r=T.useRef();function a(X,L){if(!(X<0||X>=d())){var x=e.onSelect,v=e.selectedIndex;x(X,v,L)}}function s(X){for(var L=d(),x=X+1;x<L;x++)if(!ca(m(x)))return x;for(var v=0;v<X;v++)if(!ca(m(v)))return v;return X}function o(X){for(var L=X;L--;)if(!ca(m(L)))return L;for(L=d();L-- >X;)if(!ca(m(L)))return L;return X}function c(){for(var X=d(),L=0;L<X;L++)if(!ca(m(L)))return L;return null}function u(){for(var X=d();X--;)if(!ca(m(X)))return X;return null}function d(){var X=e.children;return nE(X)}function m(X){return n.current["tabs-"+X]}function h(){var X=0,L=e.children,x=e.disabledTabClassName,v=e.focus,C=e.forceRenderTabPanel,w=e.selectedIndex,z=e.selectedTabClassName,$=e.selectedTabPanelClassName,ee=e.environment;i.current=i.current||[],l.current=l.current||[];for(var D=i.current.length-d();D++<0;)i.current.push(r5()),l.current.push(r5());return M1(L,function(j){var _=j;if(x2(j)){var ce=0,E=!1;Hp==null&&IRe(ee);var H=ee||(typeof window<"u"?window:void 0);Hp&&H&&(E=S.Children.toArray(j.props.children).filter(y0).some(function(ue,U){return H.document.activeElement===m(U)})),_=T.cloneElement(j,{children:M1(j.props.children,function(ue){var U="tabs-"+ce,Q=w===ce,k={tabRef:function(O){n.current[U]=O},id:i.current[ce],panelId:l.current[ce],selected:Q,focus:Q&&(v||E)};return z&&(k.selectedClassName=z),x&&(k.disabledClassName=x),ce++,T.cloneElement(ue,k)})})}else if(R2(j)){var de={id:l.current[X],tabId:i.current[X],selected:w===X};C&&(de.forceRender=C),$&&(de.selectedClassName=$),X++,_=T.cloneElement(j,de)}return _})}function b(X){var L=e.direction,x=e.disableUpDownKeys;if(p(X.target)){var v=e.selectedIndex,C=!1,w=!1;(X.code==="Space"||X.keyCode===32||X.code==="Enter"||X.keyCode===13)&&(C=!0,w=!1,Z(X)),X.code==="ArrowLeft"||X.keyCode===37||!x&&(X.keyCode===38||X.code==="ArrowUp")?(L==="rtl"?v=s(v):v=o(v),C=!0,w=!0):X.code==="ArrowRight"||X.keyCode===39||!x&&(X.keyCode===40||X.code==="ArrowDown")?(L==="rtl"?v=o(v):v=s(v),C=!0,w=!0):X.keyCode===35||X.code==="End"?(v=u(),C=!0,w=!0):(X.keyCode===36||X.code==="Home")&&(v=c(),C=!0,w=!0),C&&X.preventDefault(),w&&a(v,X)}}function Z(X){var L=X.target;do if(p(L)){if(ca(L))return;var x=[].slice.call(L.parentNode.children).filter(a5).indexOf(L);a(x,X);return}while((L=L.parentNode)!=null)}function p(X){if(!a5(X))return!1;var L=X.parentElement;do{if(L===r.current)return!0;if(L.getAttribute("data-rttabs"))break;L=L.parentElement}while(L);return!1}e.children;var f=e.className;e.disabledTabClassName;var G=e.domRef;e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,e.environment,e.disableUpDownKeys;var V=vRe(e,NRe);return S.createElement("div",N1({},V,{className:G0(f),onClick:Z,onKeyDown:b,ref:function(L){r.current=L,G&&G(L)},"data-rttabs":!0}),h())};S2.defaultProps=wRe;S2.propTypes={};function v1(){return v1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},v1.apply(this,arguments)}var JRe=0,Zb=1,CRe={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1},kRe=function(e){return e.selectedIndex===null?Zb:JRe},X0=function(e){var n=e.children,i=e.defaultFocus,l=e.defaultIndex,r=e.focusTabOnClick,a=e.onSelect,s=T.useState(i),o=s[0],c=s[1],u=T.useState(kRe(e)),d=u[0],m=T.useState(d===Zb?l||0:null),h=m[0],b=m[1];if(T.useEffect(function(){c(!1)},[]),d===Zb){var Z=nE(n);T.useEffect(function(){if(h!=null){var G=Math.max(0,Z-1);b(Math.min(h,G))}},[Z])}var p=function(V,X,L){typeof a=="function"&&a(V,X,L)===!1||(r&&c(!0),d===Zb&&b(V))},f=v1({},e);return f.focus=o,f.onSelect=p,h!=null&&(f.selectedIndex=h),delete f.defaultFocus,delete f.defaultIndex,delete f.focusTabOnClick,S.createElement(S2,f,n)};X0.propTypes={};X0.defaultProps=CRe;X0.tabsRole="Tabs";var ERe=["children","className"];function I1(){return I1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},I1.apply(this,arguments)}function KRe(t,e){if(t==null)return{};var n={},i=Object.keys(t),l,r;for(r=0;r<i.length;r++)l=i[r],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}var URe={className:"react-tabs__tab-list"},g0=function(e){var n=e.children,i=e.className,l=KRe(e,ERe);return S.createElement("ul",I1({},l,{className:G0(i),role:"tablist"}),n)};g0.tabsRole="TabList";g0.propTypes={};g0.defaultProps=URe;var PRe=["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"];function w1(){return w1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w1.apply(this,arguments)}function FRe(t,e){if(t==null)return{};var n={},i=Object.keys(t),l,r;for(r=0;r<i.length;r++)l=i[r],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}var Ry="react-tabs__tab",zRe={className:Ry,disabledClassName:Ry+"--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:Ry+"--selected"},Ya=function(e){var n,i=T.useRef(),l=e.children,r=e.className,a=e.disabled,s=e.disabledClassName,o=e.focus,c=e.id,u=e.panelId,d=e.selected,m=e.selectedClassName,h=e.tabIndex,b=e.tabRef,Z=FRe(e,PRe);return T.useEffect(function(){d&&o&&i.current.focus()},[d,o]),S.createElement("li",w1({},Z,{className:G0(r,(n={},n[m]=d,n[s]=a,n)),ref:function(f){i.current=f,b&&b(f)},role:"tab",id:c,"aria-selected":d?"true":"false","aria-disabled":a?"true":"false","aria-controls":u,tabIndex:h||(d?"0":null),"data-rttab":!0}),l)};Ya.propTypes={};Ya.tabsRole="Tab";Ya.defaultProps=zRe;var jRe=["children","className","forceRender","id","selected","selectedClassName","tabId"];function J1(){return J1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},J1.apply(this,arguments)}function HRe(t,e){if(t==null)return{};var n={},i=Object.keys(t),l,r;for(r=0;r<i.length;r++)l=i[r],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}var s5="react-tabs__tab-panel",DRe={className:s5,forceRender:!1,selectedClassName:s5+"--selected"},La=function(e){var n,i=e.children,l=e.className,r=e.forceRender,a=e.id,s=e.selected,o=e.selectedClassName,c=e.tabId,u=HRe(e,jRe);return S.createElement("div",J1({},u,{className:G0(l,(n={},n[o]=s,n)),role:"tabpanel",id:a,"aria-labelledby":c}),r||s?i:null)};La.tabsRole="TabPanel";La.propTypes={};La.defaultProps=DRe;const ORe={content:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#fafafa",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"20px",maxWidth:"700px",maxHeight:"80vh",minWidth:"400px",minHeight:"400px",fontSize:"13px"},overlay:{backgroundColor:"rgba(100, 100, 100, 0.3)",zIndex:1e3}},o5={aa:"Amino acid",nt:"Nucleotide"},BRe=({settings:t,deckSettingsOpen:e,setDeckSettingsOpen:n,noneColor:i,setNoneColor:l})=>N.jsxs(vV,{isOpen:e,style:ORe,onRequestClose:()=>n(!1),contentLabel:"Deck Settings Modal",children:[N.jsx("h2",{className:"font-medium mb-5  text-lg",children:"Settings"}),N.jsxs(X0,{children:[N.jsxs(g0,{className:"border-b border-gray-800 mb-6",children:[N.jsx(Ya,{children:"Toggle"}),N.jsx(Ya,{children:"Appearance"}),N.jsx(Ya,{children:"Search"}),N.jsx(Ya,{children:"Color"})]}),N.jsxs(La,{children:[N.jsxs("div",{className:"mt-6",children:[N.jsx("div",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",className:"mr-1",checked:t.minimapEnabled,onChange:()=>t.toggleMinimapEnabled()})," ","Enable minimap"]})}),N.jsx("div",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",className:"mr-1",checked:t.displayTextForInternalNodes,onChange:()=>t.setDisplayTextForInternalNodes(!t.displayTextForInternalNodes)})," ","Display labels for internal nodes if present"]})}),N.jsx("div",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",className:"mr-1",checked:t.displayPointsForInternalNodes,onChange:()=>t.setDisplayPointsForInternalNodes(!t.displayPointsForInternalNodes)})," ","Display points for internal nodes"]})})]}),N.jsxs("div",{className:"space-y-3 mt-6",children:[N.jsx("h3",{className:"font-medium",children:"Mutation types enabled"}),Object.keys(t.mutationTypesEnabled).map(r=>N.jsx("div",{children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",className:"mr-1",checked:t.mutationTypesEnabled[r],onChange:()=>t.setMutationTypeEnabled(r,!t.mutationTypesEnabled[r])})," ",o5[r]?o5[r]:r]})},r))]})]}),N.jsx(La,{children:N.jsxs("div",{className:"space-y-3",children:[N.jsx("div",{children:N.jsxs("label",{children:["Max density of node label text:"," ",N.jsx("input",{type:"number",value:t.thresholdForDisplayingText,onChange:r=>t.setThresholdForDisplayingText(parseFloat(r.target.value)),step:"0.1",min:"0",max:"10",className:"border py-1 px-1 text-grey-darkest text-sm"})]})}),N.jsx("div",{children:N.jsxs("label",{children:["Max clade labels to show",N.jsx("input",{type:"number",value:t.maxCladeTexts,onChange:r=>t.setMaxCladeTexts(parseInt(r.target.value)),step:"1",min:"0",max:"10000000",className:"border py-1 px-1 text-grey-darkest text-sm"})]})}),N.jsx("div",{children:N.jsxs("label",{children:["Node size:"," ",N.jsx("input",{type:"number",value:t.nodeSize,onChange:r=>t.setNodeSize(parseFloat(r.target.value)),step:"0.1",min:"1",max:"10",className:"border py-1 px-1 text-grey-darkest text-sm"})]})}),N.jsx("div",{children:N.jsxs("label",{children:["Node opacity:"," ",N.jsx("input",{type:"number",value:t.opacity,onChange:r=>t.setOpacity(parseFloat(r.target.value)),step:"0.1",min:"0",max:"1",className:"border py-1 px-1 text-grey-darkest text-sm"})]})}),N.jsx("div",{className:"mt-3",children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",className:"mr-1",checked:t.prettyStroke.enabled,onChange:()=>t.setPrettyStroke({...t.prettyStroke,enabled:!t.prettyStroke.enabled})}),"Enable pretty stroke"]})}),t.prettyStroke.enabled&&N.jsxs("div",{className:"mt-3 space-y-2",children:[N.jsx("p",{className:"text-sm",children:"Pretty stroke looks best if you set the node opacity to 1."}),N.jsx("div",{children:N.jsxs("label",{children:["Pretty stroke color:",N.jsx(qs,{color:t.prettyStroke.color,setColor:r=>t.setPrettyStroke({...t.prettyStroke,color:r})})]})}),N.jsx("div",{children:N.jsxs("label",{children:["Pretty stroke width:",N.jsx("input",{type:"number",value:t.prettyStroke.width,onChange:r=>t.setPrettyStroke({...t.prettyStroke,width:parseFloat(r.target.value)}),step:"0.1",min:"0.1",className:"border py-1 px-1 text-grey-darkest text-sm"})]})})]})]})}),N.jsx(La,{children:N.jsxs("div",{className:"space-y-3",children:[N.jsx("h3",{className:"font-medium",children:"Search"}),N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",className:"mr-1",checked:t.displaySearchesAsPoints,onChange:()=>t.setDisplaySearchesAsPoints(!t.displaySearchesAsPoints)})," ","Display searches as points"]}),N.jsx("div",{children:N.jsxs("label",{children:["Point Size:"," ",N.jsx("input",{type:"number",value:t.searchPointSize,onChange:r=>t.setSearchPointSize(parseInt(r.target.value)),step:"1",min:"1",max:"10",className:`border py-1 px-1 text-grey-darkest text-sm ${t.displaySearchesAsPoints?"":"bg-gray-200"}`,disabled:!t.displaySearchesAsPoints})]})})]})}),N.jsx(La,{children:N.jsxs("div",{className:"space-y-3 mt-5",children:[N.jsx("div",{children:N.jsxs("label",{children:["Default color for nodes:",N.jsx(qs,{color:i,setColor:l})]})}),N.jsx("div",{children:N.jsxs("label",{children:["Color for terminal node labels",N.jsx(qs,{color:t.terminalNodeLabelColor,setColor:t.setTerminalNodeLabelColor})]})}),N.jsx("div",{children:N.jsxs("label",{children:["Color for tree lines",N.jsx(qs,{color:t.lineColor,setColor:t.setLineColor})]})}),N.jsx("div",{children:N.jsxs("label",{children:["Color for clade labels",N.jsx(qs,{color:t.cladeLabelColor,setColor:t.setCladeLabelColor})]})}),N.jsxs("div",{className:"text-md",children:[N.jsx("b",{children:"Tip:"})," to modify the color of nodes colored by metadata, click the specific metadata in the key at the bottom left."]})]})})]})]}),QRe=({children:t,onClick:e,title:n})=>N.jsx("button",{className:` w-12 h-10 bg-gray-100 p-1 rounded border-gray-300 text-gray-700  opacity-70  hover:opacity-100 mr-1 z-50 mt-auto mb-1
        shadow-md `,onClick:e,title:n,children:t}),ARe=({loading:t,requestOpenSettings:e,settings:n})=>N.jsxs("div",{style:{position:"absolute",right:"0.2em",bottom:"0.2em",zIndex:10},className:"flex justify-end",children:[t&&N.jsx("div",{className:"mr-4 mt-auto inline-block",children:N.jsx(TV,{size:24,color:"#444444"})}),N.jsx(QRe,{onClick:()=>{e()},title:"Settings",children:N.jsx(dC,{className:"mx-auto w-5 h-5 inline-block"})})]}),_Re={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#fafafa",maxWidth:"500px"}},$Re=({treenomeSettingsOpen:t,setTreenomeSettingsOpen:e,settings:n})=>{const[i,l]=T.useState(n.chromosomeName);return N.jsxs(vV,{isOpen:t,style:_Re,onRequestClose:()=>{n.setChromosomeName(i),e(!1)},children:[N.jsx("h2",{className:"font-medium mb-3",children:"Treenome Settings"}),N.jsxs("div",{children:[N.jsxs("label",{children:["Reference chromosome name"," ",N.jsx("input",{type:"text",value:i,onChange:r=>{l(r.target.value)},className:"border py-1 px-1 text-grey-darkest text-sm"})]}),N.jsx("br",{}),N.jsx("span",{style:{fontSize:"10pt"},children:N.jsxs("em",{children:[N.jsx("strong",{children:"Loaded annotations must match this name."}),N.jsx("br",{}),n.isCov2Tree?"Cov2Tree uses the NC_045512v2 / MN908947.3 / WuhCor1 reference assembly. If you change this name, make sure your annotations target the same assembly.":""]})})]})]})},qRe=({className:t})=>null,eSe={content:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#fafafa",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"20px",maxWidth:"400px"},overlay:{backgroundColor:"rgba(100, 100, 100, 0.3)",zIndex:1e3}},tSe=({isOpen:t,setIsOpen:e,color:n,setColor:i,title:l})=>N.jsxs(vV,{isOpen:t,style:eSe,onRequestClose:()=>e(!1),contentLabel:l,children:[N.jsx("h2",{className:"font-medium mb-5 text-lg",children:l}),N.jsx("div",{className:"space-y-3",children:N.jsx("div",{children:N.jsxs("label",{children:["Select Color:",N.jsx(qs,{color:n,setColor:i})]})})})]}),nSe=(t,e)=>{if(e&&e.customNames&&e.customNames[t])return e.customNames[t];if(t==="num_tips")return"Number of descendants";const n=t.replace("meta_","").replace("_"," ");return n.charAt(0).toUpperCase()+n.slice(1)};var lE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(r=l(r,i(s)))}return r}function i(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return n.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var a="";for(var s in r)e.call(r,s)&&r[s]&&(a=l(a,s));return a}function l(r,a){return a?r?r+" "+a:r+a:r}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(lE);var iSe=lE.exports;const lSe=Kl(iSe),rSe=({keyStuff:t,colorByField:e,colorByGene:n,colorByPosition:i,config:l,setCurrentColorSettingKey:r,setColorSettingOpen:a,hoveredKey:s,setHoveredKey:o})=>{const[u,d]=T.useState(window.innerWidth<800),m=t.sort((p,f)=>f.count-p.count),h=m.length>10,Z=m.slice(0,10).filter(p=>p.value!=="");return e==="None"||!Z||Z.length==0?null:N.jsxs("div",{className:lSe("px-2 border-right border  bg-white opacity-90 absolute bottom-2 left-2 pt-1 pb-2",u?"w-20":"w-32"),style:{zIndex:10,cursor:"default"},children:[N.jsxs("h3",{className:"font-bold text-gray-600 text-xs cursor-pointer",onClick:()=>d(!u),children:[u?"Key":e==="genotype"?n+":"+i:nSe(e,l),N.jsx("span",{className:"float-right text-xs cursor-pointer text-gray-600",children:u?"▲":"▼"})]}),!u&&N.jsxs(N.Fragment,{children:[Z.map((p,f)=>{const G=p.color,V=`rgb(${G[0]}, ${G[1]}, ${G[2]})`;return N.jsxs("div",{className:"key-text text-xs text-gray-700 mt-0.5 break-all cursor-pointer",style:{pointerEvents:"auto"},onClick:()=>{r(p.value),a(!0)},onMouseEnter:()=>{o(p.value)},onMouseLeave:()=>o(null),title:"Edit color",children:[N.jsx("div",{style:{backgroundColor:V},className:`circle w-2 h-2 mr-2 rounded-full inline-block transform transition-transform ${s===p.value?"scale-150":"scale-100"}`}),p.value]},f)}),h&&N.jsx("div",{className:"text-xs text-gray-700",children:"..."})]})]})},aSe=S.memo(rSe);function sSe({data:t,search:e,treenomeState:n,view:i,colorHook:l,colorBy:r,hoverDetails:a,config:s,statusMessage:o,xType:c,settings:u,selectedDetails:d,setDeckSize:m,deckSize:h,isCurrentlyOutsideBounds:b,deckRef:Z,jbrowseRef:p,setAdditionalColorMapping:f,mouseDownIsMinimap:G,setMouseDownIsMinimap:V}){const X=i.zoomReset,L=Yae(Z),[x,v]=T.useState(!1),[C,w]=T.useState(!1),[z,$]=T.useState("a"),[ee,D]=T.useState(null),[j,_]=T.useState(!1),ce=!t.data||!t.data.nodes||!t.data.nodes.length,{viewState:E,onViewStateChange:H,views:de,zoomIncrement:ue,zoomAxis:U,setZoomAxis:Q,xzoom:k}=i,A=T.useCallback(W=>i.setMouseXY([W.x,W.y]),[i]),[O,le]=T.useState(null),Ge=T.useRef(),ve=T.useCallback(W=>{if(W._reactName==="onClick"&&V(!1),W.buttons===0&&W._reactName==="onPointerMove")return!1;W._reactName==="onPointerDown"&&(Ge.current=[W.clientX,W.clientY]);const y=10;if(W._reactName==="onClick"&&Ge.current&&Math.sqrt(Math.pow(Ge.current[0]-W.clientX,2)+Math.pow(Ge.current[1]-W.clientY,2))>y)return!1;const g=Z.current.pickObject({x:W.nativeEvent.offsetX,y:W.nativeEvent.offsetY,radius:10});W._reactName==="onPointerDown"&&(g&&g.viewport.id==="minimap"?V(!0):V(!1)),g&&g.viewport.id==="main"&&W._reactName==="onClick"&&d.getNodeDetails(g.object.node_id),!g&&W._reactName==="onClick"&&d.clearNodeDetails(),g&&g.viewport.id==="minimap"&&G&&H({oldViewState:E,specialMinimap:!0,viewState:{...E,target:[g.coordinate[0]/2**(E.zoom-k),g.coordinate[1]]}})},[d,G,E,H,k,Z]),[fe,Pe]=T.useState(null),xe=T.useCallback(W=>{Pe(W),W&&W.object?a.setNodeDetails?a.setNodeDetails(W.object):a.getNodeDetails(W.object.node_id):a.clearNodeDetails()},[a]),{layers:je,layerFilter:Le,keyStuff:ct,triggerSVGdownload:ni}=hae({data:t,search:e,viewState:E,colorHook:l,setHoverInfo:xe,hoverInfo:fe,colorBy:r,xType:c,modelMatrix:i.modelMatrix,selectedDetails:d,xzoom:k,settings:u,isCurrentlyOutsideBounds:b,config:s,treenomeState:n,treenomeReferenceInfo:O,setTreenomeReferenceInfo:le,hoveredKey:ee});return N.jsxs("div",{className:"w-full h-full",onClick:ve,onPointerMove:ve,onPointerDown:ve,children:[ce&&N.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center",children:N.jsx("div",{className:"text-center w-60 h-60",children:o&&o.percentage?N.jsxs(N.Fragment,{children:[" ",N.jsx(Rae,{value:o.percentage,strokeWidth:2,styles:Sae({textSize:"8px",pathColor:"#666",textColor:"#666",trailColor:"#d6d6d6"}),children:N.jsx("div",{className:"text-center text-gray-700  text-lg wt font-medium",children:o&&o.message})}),N.jsxs("div",{className:"w-60",children:[" ",N.jsx(qRe,{className:"font-bold text-xs text-gray-700 mt-3"})]})]}):N.jsxs("div",{className:"text-center text-gray-700  text-lg wt font-medium",children:[N.jsx("div",{children:o&&o.message}),N.jsx("div",{className:"mt-5",children:N.jsx(TV,{size:100,color:"#666"})})]})})})," ",N.jsx(BRe,{deckSettingsOpen:x,setDeckSettingsOpen:v,settings:u,noneColor:l.toRGB("None"),setNoneColor:W=>{f(y=>({...y,None:W}))}}),N.jsx(tSe,{isOpen:C,setIsOpen:w,color:l.toRGB(z),setColor:W=>{f(y=>({...y,[z]:W}))},title:z}),N.jsx(Nae,{hoverInfo:fe,hoverDetails:a,colorHook:l,colorBy:r,config:s,filterMutations:u.filterMutations,deckSize:h}),N.jsx(vae,{hoverInfo:fe,hoverDetails:a,colorHook:l,colorBy:r,config:s,treenomeReferenceInfo:O}),N.jsx(aSe,{keyStuff:ct,colorByField:r.colorByField,colorByGene:r.colorByGene,colorByPosition:r.colorByPosition,config:s,setCurrentColorSettingKey:$,setColorSettingOpen:w,hoveredKey:ee,setHoveredKey:D}),N.jsx(Joe,{triggerSVGdownload:ni,deckSize:h,zoomReset:X,zoomIncrement:ue,zoomAxis:U,setZoomAxis:Q,snapshot:L,loading:t.status==="loading",requestOpenSettings:()=>v(!0),settings:u}),N.jsxs(Xle,{pickingRadius:10,ref:Z,views:de,viewState:E,onViewStateChange:H,layerFilter:Le,layers:je,onHover:A,onResize:W=>{m(W),window.setTimeout(()=>{n.handleResize()},50),console.log("resize",W)},onAfterRender:W=>{isNaN(h.width)&&m(W.target.parentElement.getBoundingClientRect())},children:[N.jsxs(kl,{id:"browser-axis",children:[N.jsx("div",{style:{width:"100%",height:"100%",border:"1px solid black",position:"relative",zIndex:1},children:N.jsx("span",{ref:p,children:N.jsx($Re,{treenomeSettingsOpen:j,setTreenomeSettingsOpen:_,settings:u})})}),N.jsx(ARe,{loading:t.status==="loading",requestOpenSettings:()=>{console.log("opening"),console.log(j),_(!0)},settings:u})]}),N.jsx(kl,{id:"main"})]})]})}var W0={},oSe="Expected a function",c5=0/0,cSe="[object Symbol]",uSe=/^\s+|\s+$/g,dSe=/^[-+]0x[0-9a-f]+$/i,mSe=/^0b[01]+$/i,hSe=/^0o[0-7]+$/i,bSe=parseInt,pSe=typeof dr=="object"&&dr&&dr.Object===Object&&dr,ZSe=typeof self=="object"&&self&&self.Object===Object&&self,fSe=pSe||ZSe||Function("return this")(),ySe=Object.prototype,GSe=ySe.toString,XSe=Math.max,gSe=Math.min,Sy=function(){return fSe.Date.now()};function WSe(t,e,n){var i,l,r,a,s,o,c=0,u=!1,d=!1,m=!0;if(typeof t!="function")throw new TypeError(oSe);e=u5(e)||0,C1(n)&&(u=!!n.leading,d="maxWait"in n,r=d?XSe(u5(n.maxWait)||0,e):r,m="trailing"in n?!!n.trailing:m);function h(x){var v=i,C=l;return i=l=void 0,c=x,a=t.apply(C,v),a}function b(x){return c=x,s=setTimeout(f,e),u?h(x):a}function Z(x){var v=x-o,C=x-c,w=e-v;return d?gSe(w,r-C):w}function p(x){var v=x-o,C=x-c;return o===void 0||v>=e||v<0||d&&C>=r}function f(){var x=Sy();if(p(x))return G(x);s=setTimeout(f,Z(x))}function G(x){return s=void 0,m&&i?h(x):(i=l=void 0,a)}function V(){s!==void 0&&clearTimeout(s),c=0,i=o=l=s=void 0}function X(){return s===void 0?a:G(Sy())}function L(){var x=Sy(),v=p(x);if(i=arguments,l=this,o=x,v){if(s===void 0)return b(o);if(d)return s=setTimeout(f,e),h(o)}return s===void 0&&(s=setTimeout(f,e)),a}return L.cancel=V,L.flush=X,L}function C1(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function VSe(t){return!!t&&typeof t=="object"}function TSe(t){return typeof t=="symbol"||VSe(t)&&GSe.call(t)==cSe}function u5(t){if(typeof t=="number")return t;if(TSe(t))return c5;if(C1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=C1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(uSe,"");var n=mSe.test(t);return n||hSe.test(t)?bSe(t.slice(2),n?2:8):dSe.test(t)?c5:+t}var xSe=WSe;function k1(t){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k1(t)}Object.defineProperty(W0,"__esModule",{value:!0});W0.DebounceInput=void 0;var d5=rE(T),RSe=rE(xSe),SSe=["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"];function rE(t){return t&&t.__esModule?t:{default:t}}function YSe(t,e){if(t==null)return{};var n=LSe(t,e),i,l;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(l=0;l<r.length;l++)i=r[l],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function LSe(t,e){if(t==null)return{};var n={},i=Object.keys(t),l,r;for(r=0;r<i.length;r++)l=i[r],!(e.indexOf(l)>=0)&&(n[l]=t[l]);return n}function m5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(n),!0).forEach(function(i){ar(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function MSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h5(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function NSe(t,e,n){return e&&h5(t.prototype,e),n&&h5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E1(t,e)}function E1(t,e){return E1=Object.setPrototypeOf||function(i,l){return i.__proto__=l,i},E1(t,e)}function ISe(t){var e=JSe();return function(){var i=Dp(t),l;if(e){var r=Dp(this).constructor;l=Reflect.construct(i,arguments,r)}else l=i.apply(this,arguments);return wSe(this,l)}}function wSe(t,e){if(e&&(k1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Za(t)}function Za(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function ar(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aE=function(t){vSe(n,t);var e=ISe(n);function n(i){var l;MSe(this,n),l=e.call(this,i),ar(Za(l),"onChange",function(a){a.persist();var s=l.state.value,o=l.props.minLength;l.setState({value:a.target.value},function(){var c=l.state.value;if(c.length>=o){l.notify(a);return}s.length>c.length&&l.notify(wn(wn({},a),{},{target:wn(wn({},a.target),{},{value:""})}))})}),ar(Za(l),"onKeyDown",function(a){a.key==="Enter"&&l.forceNotify(a);var s=l.props.onKeyDown;s&&(a.persist(),s(a))}),ar(Za(l),"onBlur",function(a){l.forceNotify(a);var s=l.props.onBlur;s&&(a.persist(),s(a))}),ar(Za(l),"createNotifier",function(a){if(a<0)l.notify=function(){return null};else if(a===0)l.notify=l.doNotify;else{var s=(0,RSe.default)(function(o){l.isDebouncing=!1,l.doNotify(o)},a);l.notify=function(o){l.isDebouncing=!0,s(o)},l.flush=function(){return s.flush()},l.cancel=function(){l.isDebouncing=!1,s.cancel()}}}),ar(Za(l),"doNotify",function(){var a=l.props.onChange;a.apply(void 0,arguments)}),ar(Za(l),"forceNotify",function(a){var s=l.props.debounceTimeout;if(!(!l.isDebouncing&&s>0)){l.cancel&&l.cancel();var o=l.state.value,c=l.props.minLength;o.length>=c?l.doNotify(a):l.doNotify(wn(wn({},a),{},{target:wn(wn({},a.target),{},{value:o})}))}}),l.isDebouncing=!1,l.state={value:typeof i.value>"u"||i.value===null?"":i.value};var r=l.props.debounceTimeout;return l.createNotifier(r),l}return NSe(n,[{key:"componentDidUpdate",value:function(l){if(!this.isDebouncing){var r=this.props,a=r.value,s=r.debounceTimeout,o=l.debounceTimeout,c=l.value,u=this.state.value;typeof a<"u"&&c!==a&&u!==a&&this.setState({value:a}),s!==o&&this.createNotifier(s)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var l=this.props,r=l.element;l.onChange,l.value,l.minLength,l.debounceTimeout;var a=l.forceNotifyByEnter,s=l.forceNotifyOnBlur,o=l.onKeyDown,c=l.onBlur,u=l.inputRef,d=YSe(l,SSe),m=this.state.value,h;a?h={onKeyDown:this.onKeyDown}:o?h={onKeyDown:o}:h={};var b;s?b={onBlur:this.onBlur}:c?b={onBlur:c}:b={};var Z=u?{ref:u}:{};return d5.default.createElement(r,wn(wn(wn(wn({},d),{},{onChange:this.onChange,value:m},h),b),Z))}}]),n}(d5.default.PureComponent);W0.DebounceInput=aE;ar(aE,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0});var CSe=W0,b5=CSe.DebounceInput;b5.DebounceInput=b5;function sE(t,e){return e||(e=Math.random().toString(36).substring(2,15),console.log("generated key",e)),t&&t.defaultSearch?t.defaultSearch:{key:e,type:"name",method:"text_match",text:"",gene:"S",position:484,new_residue:"any",min_tips:0}}var p5=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),kSe=new Uint8Array(16);function ESe(){if(!p5)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p5(kSe)}var oE=[];for(var Lh=0;Lh<256;++Lh)oE[Lh]=(Lh+256).toString(16).substr(1);function KSe(t,e){var n=e||0,i=oE;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}function USe(t,e,n){var i=e&&n||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var l=t.random||(t.rng||ESe)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,e)for(var r=0;r<16;++r)e[i+r]=l[r];return e||KSe(l)}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function K1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(i){Au(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function PSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f5(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function FSe(t,e,n){return e&&f5(t.prototype,e),n&&f5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Op.apply(this,arguments)}function zSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U1(t,e)}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function U1(t,e){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},U1(t,e)}function jSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function HSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DSe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSe(t)}function OSe(t){var e=jSe();return function(){var i=Bp(t),l;if(e){var r=Bp(this).constructor;l=Reflect.construct(i,arguments,r)}else l=i.apply(this,arguments);return DSe(this,l)}}function BSe(t,e){if(t){if(typeof t=="string")return y5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y5(t,e)}}function y5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function QSe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=BSe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var i=0,l=function(){};return{s:l,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(o){throw o},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var o=n.next();return r=o.done,o},e:function(o){a=!0,s=o},f:function(){try{!r&&n.return!=null&&n.return()}finally{if(a)throw s}}}}var G5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof jn<"u"?jn:typeof self<"u"?self:{},Mh=function(t){return t&&t.Math==Math&&t},Bl=Mh(typeof globalThis=="object"&&globalThis)||Mh(typeof window=="object"&&window)||Mh(typeof self=="object"&&self)||Mh(typeof G5=="object"&&G5)||function(){return this}()||Function("return this")(),Y2={},Ql=function(t){try{return!!t()}catch{return!0}},ASe=Ql,na=!ASe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),_Se=Ql,L2=!_Se(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),$Se=L2,Nh=Function.prototype.call,M2=$Se?Nh.bind(Nh):function(){return Nh.apply(Nh,arguments)},cE={},uE={}.propertyIsEnumerable,dE=Object.getOwnPropertyDescriptor,qSe=dE&&!uE.call({1:2},1);cE.f=qSe?function(e){var n=dE(this,e);return!!n&&n.enumerable}:uE;var mE=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},hE=L2,bE=Function.prototype,P1=bE.call,eYe=hE&&bE.bind.bind(P1,P1),pE=function(t){return hE?eYe(t):function(){return P1.apply(t,arguments)}},ZE=pE,tYe=ZE({}.toString),nYe=ZE("".slice),V0=function(t){return nYe(tYe(t),8,-1)},iYe=V0,lYe=pE,ol=function(t){if(iYe(t)==="Function")return lYe(t)},rYe=ol,aYe=Ql,sYe=V0,Yy=Object,oYe=rYe("".split),fE=aYe(function(){return!Yy("z").propertyIsEnumerable(0)})?function(t){return sYe(t)=="String"?oYe(t,""):Yy(t)}:Yy,yE=function(t){return t==null},cYe=yE,uYe=TypeError,GE=function(t){if(cYe(t))throw uYe("Can't call method on "+t);return t},dYe=fE,mYe=GE,T0=function(t){return dYe(mYe(t))},F1=typeof document=="object"&&document.all,hYe=typeof F1>"u"&&F1!==void 0,XE={all:F1,IS_HTMLDDA:hYe},gE=XE,bYe=gE.all,ti=gE.IS_HTMLDDA?function(t){return typeof t=="function"||t===bYe}:function(t){return typeof t=="function"},X5=ti,WE=XE,pYe=WE.all,Lc=WE.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:X5(t)||t===pYe}:function(t){return typeof t=="object"?t!==null:X5(t)},Ly=Bl,ZYe=ti,fYe=function(t){return ZYe(t)?t:void 0},Ym=function(t,e){return arguments.length<2?fYe(Ly[t]):Ly[t]&&Ly[t][e]},yYe=ol,GYe=yYe({}.isPrototypeOf),XYe=Ym,gYe=XYe("navigator","userAgent")||"",VE=Bl,My=gYe,g5=VE.process,W5=VE.Deno,V5=g5&&g5.versions||W5&&W5.version,T5=V5&&V5.v8,ci,Qp;T5&&(ci=T5.split("."),Qp=ci[0]>0&&ci[0]<4?1:+(ci[0]+ci[1]));!Qp&&My&&(ci=My.match(/Edge\/(\d+)/),(!ci||ci[1]>=74)&&(ci=My.match(/Chrome\/(\d+)/),ci&&(Qp=+ci[1])));var WYe=Qp,x5=WYe,VYe=Ql,TE=!!Object.getOwnPropertySymbols&&!VYe(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&x5&&x5<41}),TYe=TE,xE=TYe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",xYe=Ym,RYe=ti,SYe=GYe,YYe=xE,LYe=Object,RE=YYe?function(t){return typeof t=="symbol"}:function(t){var e=xYe("Symbol");return RYe(e)&&SYe(e.prototype,LYe(t))},MYe=String,NYe=function(t){try{return MYe(t)}catch{return"Object"}},vYe=ti,IYe=NYe,wYe=TypeError,SE=function(t){if(vYe(t))return t;throw wYe(IYe(t)+" is not a function")},JYe=SE,CYe=yE,kYe=function(t,e){var n=t[e];return CYe(n)?void 0:JYe(n)},Ny=M2,vy=ti,Iy=Lc,EYe=TypeError,KYe=function(t,e){var n,i;if(e==="string"&&vy(n=t.toString)&&!Iy(i=Ny(n,t))||vy(n=t.valueOf)&&!Iy(i=Ny(n,t))||e!=="string"&&vy(n=t.toString)&&!Iy(i=Ny(n,t)))return i;throw EYe("Can't convert object to primitive value")},N2={exports:{}},R5=Bl,UYe=Object.defineProperty,v2=function(t,e){try{UYe(R5,t,{value:e,configurable:!0,writable:!0})}catch{R5[t]=e}return e},PYe=Bl,FYe=v2,S5="__core-js_shared__",zYe=PYe[S5]||FYe(S5,{}),I2=zYe,Y5=I2;(N2.exports=function(t,e){return Y5[t]||(Y5[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var jYe=GE,HYe=Object,YE=function(t){return HYe(jYe(t))},DYe=ol,OYe=YE,BYe=DYe({}.hasOwnProperty),fs=Object.hasOwn||function(e,n){return BYe(OYe(e),n)},QYe=ol,AYe=0,_Ye=Math.random(),$Ye=QYe(1 .toString),LE=function(t){return"Symbol("+(t===void 0?"":t)+")_"+$Ye(++AYe+_Ye,36)},qYe=Bl,e9e=N2.exports,L5=fs,t9e=LE,M5=TE,ME=xE,Ls=e9e("wks"),ka=qYe.Symbol,N5=ka&&ka.for,n9e=ME?ka:ka&&ka.withoutSetter||t9e,Lm=function(t){if(!L5(Ls,t)||!(M5||typeof Ls[t]=="string")){var e="Symbol."+t;M5&&L5(ka,t)?Ls[t]=ka[t]:ME&&N5?Ls[t]=N5(e):Ls[t]=n9e(e)}return Ls[t]},i9e=M2,v5=Lc,I5=RE,l9e=kYe,r9e=KYe,a9e=Lm,s9e=TypeError,o9e=a9e("toPrimitive"),c9e=function(t,e){if(!v5(t)||I5(t))return t;var n=l9e(t,o9e),i;if(n){if(e===void 0&&(e="default"),i=i9e(n,t,e),!v5(i)||I5(i))return i;throw s9e("Can't convert object to primitive value")}return e===void 0&&(e="number"),r9e(t,e)},u9e=c9e,d9e=RE,NE=function(t){var e=u9e(t,"string");return d9e(e)?e:e+""},m9e=Bl,w5=Lc,z1=m9e.document,h9e=w5(z1)&&w5(z1.createElement),vE=function(t){return h9e?z1.createElement(t):{}},b9e=na,p9e=Ql,Z9e=vE,IE=!b9e&&!p9e(function(){return Object.defineProperty(Z9e("div"),"a",{get:function(){return 7}}).a!=7}),f9e=na,y9e=M2,G9e=cE,X9e=mE,g9e=T0,W9e=NE,V9e=fs,T9e=IE,J5=Object.getOwnPropertyDescriptor;Y2.f=f9e?J5:function(e,n){if(e=g9e(e),n=W9e(n),T9e)try{return J5(e,n)}catch{}if(V9e(e,n))return X9e(!y9e(G9e.f,e,n),e[n])};var Mc={},x9e=na,R9e=Ql,wE=x9e&&R9e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),S9e=Lc,Y9e=String,L9e=TypeError,x0=function(t){if(S9e(t))return t;throw L9e(Y9e(t)+" is not an object")},M9e=na,N9e=IE,v9e=wE,vh=x0,C5=NE,I9e=TypeError,wy=Object.defineProperty,w9e=Object.getOwnPropertyDescriptor,Jy="enumerable",Cy="configurable",ky="writable";Mc.f=M9e?v9e?function(e,n,i){if(vh(e),n=C5(n),vh(i),typeof e=="function"&&n==="prototype"&&"value"in i&&ky in i&&!i[ky]){var l=w9e(e,n);l&&l[ky]&&(e[n]=i.value,i={configurable:Cy in i?i[Cy]:l[Cy],enumerable:Jy in i?i[Jy]:l[Jy],writable:!1})}return wy(e,n,i)}:wy:function(e,n,i){if(vh(e),n=C5(n),vh(i),N9e)try{return wy(e,n,i)}catch{}if("get"in i||"set"in i)throw I9e("Accessors not supported");return"value"in i&&(e[n]=i.value),e};var J9e=na,C9e=Mc,k9e=mE,JE=J9e?function(t,e,n){return C9e.f(t,e,k9e(1,n))}:function(t,e,n){return t[e]=n,t},CE={exports:{}},j1=na,E9e=fs,kE=Function.prototype,K9e=j1&&Object.getOwnPropertyDescriptor,w2=E9e(kE,"name"),U9e=w2&&(function(){}).name==="something",P9e=w2&&(!j1||j1&&K9e(kE,"name").configurable),F9e={EXISTS:w2,PROPER:U9e,CONFIGURABLE:P9e},z9e=ol,j9e=ti,H1=I2,H9e=z9e(Function.toString);j9e(H1.inspectSource)||(H1.inspectSource=function(t){return H9e(t)});var EE=H1.inspectSource,D9e=Bl,O9e=ti,k5=D9e.WeakMap,B9e=O9e(k5)&&/native code/.test(String(k5)),Q9e=N2.exports,A9e=LE,E5=Q9e("keys"),KE=function(t){return E5[t]||(E5[t]=A9e(t))},J2={},_9e=B9e,UE=Bl,$9e=Lc,q9e=JE,Ey=fs,Ky=I2,eLe=KE,tLe=J2,K5="Object already initialized",D1=UE.TypeError,nLe=UE.WeakMap,Ap,Kd,_p,iLe=function(t){return _p(t)?Kd(t):Ap(t,{})},lLe=function(t){return function(e){var n;if(!$9e(e)||(n=Kd(e)).type!==t)throw D1("Incompatible receiver, "+t+" required");return n}};if(_9e||Ky.state){var ki=Ky.state||(Ky.state=new nLe);ki.get=ki.get,ki.has=ki.has,ki.set=ki.set,Ap=function(t,e){if(ki.has(t))throw D1(K5);return e.facade=t,ki.set(t,e),e},Kd=function(t){return ki.get(t)||{}},_p=function(t){return ki.has(t)}}else{var Ms=eLe("state");tLe[Ms]=!0,Ap=function(t,e){if(Ey(t,Ms))throw D1(K5);return e.facade=t,q9e(t,Ms,e),e},Kd=function(t){return Ey(t,Ms)?t[Ms]:{}},_p=function(t){return Ey(t,Ms)}}var rLe={set:Ap,get:Kd,has:_p,enforce:iLe,getterFor:lLe},aLe=Ql,sLe=ti,Ih=fs,O1=na,oLe=F9e.CONFIGURABLE,cLe=EE,PE=rLe,uLe=PE.enforce,dLe=PE.get,fb=Object.defineProperty,mLe=O1&&!aLe(function(){return fb(function(){},"length",{value:8}).length!==8}),hLe=String(String).split("String"),bLe=CE.exports=function(t,e,n){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!Ih(t,"name")||oLe&&t.name!==e)&&(O1?fb(t,"name",{value:e,configurable:!0}):t.name=e),mLe&&n&&Ih(n,"arity")&&t.length!==n.arity&&fb(t,"length",{value:n.arity});try{n&&Ih(n,"constructor")&&n.constructor?O1&&fb(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var i=uLe(t);return Ih(i,"source")||(i.source=hLe.join(typeof e=="string"?e:"")),t};Function.prototype.toString=bLe(function(){return sLe(this)&&dLe(this).source||cLe(this)},"toString");var pLe=ti,ZLe=Mc,fLe=CE.exports,yLe=v2,GLe=function(t,e,n,i){i||(i={});var l=i.enumerable,r=i.name!==void 0?i.name:e;if(pLe(n)&&fLe(n,r,i),i.global)l?t[e]=n:yLe(e,n);else{try{i.unsafe?t[e]&&(l=!0):delete t[e]}catch{}l?t[e]=n:ZLe.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t},FE={},XLe=Math.ceil,gLe=Math.floor,WLe=Math.trunc||function(e){var n=+e;return(n>0?gLe:XLe)(n)},VLe=WLe,zE=function(t){var e=+t;return e!==e||e===0?0:VLe(e)},TLe=zE,xLe=Math.max,RLe=Math.min,SLe=function(t,e){var n=TLe(t);return n<0?xLe(n+e,0):RLe(n,e)},YLe=zE,LLe=Math.min,MLe=function(t){return t>0?LLe(YLe(t),9007199254740991):0},NLe=MLe,jE=function(t){return NLe(t.length)},vLe=T0,ILe=SLe,wLe=jE,U5=function(t){return function(e,n,i){var l=vLe(e),r=wLe(l),a=ILe(i,r),s;if(t&&n!=n){for(;r>a;)if(s=l[a++],s!=s)return!0}else for(;r>a;a++)if((t||a in l)&&l[a]===n)return t||a||0;return!t&&-1}},JLe={includes:U5(!0),indexOf:U5(!1)},CLe=ol,Uy=fs,kLe=T0,ELe=JLe.indexOf,KLe=J2,P5=CLe([].push),HE=function(t,e){var n=kLe(t),i=0,l=[],r;for(r in n)!Uy(KLe,r)&&Uy(n,r)&&P5(l,r);for(;e.length>i;)Uy(n,r=e[i++])&&(~ELe(l,r)||P5(l,r));return l},C2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ULe=HE,PLe=C2,FLe=PLe.concat("length","prototype");FE.f=Object.getOwnPropertyNames||function(e){return ULe(e,FLe)};var DE={};DE.f=Object.getOwnPropertySymbols;var zLe=Ym,jLe=ol,HLe=FE,DLe=DE,OLe=x0,BLe=jLe([].concat),QLe=zLe("Reflect","ownKeys")||function(e){var n=HLe.f(OLe(e)),i=DLe.f;return i?BLe(n,i(e)):n},F5=fs,ALe=QLe,_Le=Y2,$Le=Mc,qLe=function(t,e,n){for(var i=ALe(e),l=$Le.f,r=_Le.f,a=0;a<i.length;a++){var s=i[a];!F5(t,s)&&!(n&&F5(n,s))&&l(t,s,r(e,s))}},e5e=Ql,t5e=ti,n5e=/#|\.prototype\./,Mm=function(t,e){var n=l5e[i5e(t)];return n==a5e?!0:n==r5e?!1:t5e(e)?e5e(e):!!e},i5e=Mm.normalize=function(t){return String(t).replace(n5e,".").toLowerCase()},l5e=Mm.data={},r5e=Mm.NATIVE="N",a5e=Mm.POLYFILL="P",s5e=Mm,Py=Bl,o5e=Y2.f,c5e=JE,u5e=GLe,d5e=v2,m5e=qLe,h5e=s5e,b5e=function(t,e){var n=t.target,i=t.global,l=t.stat,r,a,s,o,c,u;if(i?a=Py:l?a=Py[n]||d5e(n,{}):a=(Py[n]||{}).prototype,a)for(s in e){if(c=e[s],t.dontCallGetSet?(u=o5e(a,s),o=u&&u.value):o=a[s],r=h5e(i?s:n+(l?".":"#")+s,t.forced),!r&&o!==void 0){if(typeof c==typeof o)continue;m5e(c,o)}(t.sham||o&&o.sham)&&c5e(c,"sham",!0),u5e(a,s,c,t)}},z5=ol,p5e=SE,Z5e=L2,f5e=z5(z5.bind),y5e=function(t,e){return p5e(t),e===void 0?t:Z5e?f5e(t,e):function(){return t.apply(e,arguments)}},G5e=V0,X5e=Array.isArray||function(e){return G5e(e)=="Array"},g5e=Lm,W5e=g5e("toStringTag"),OE={};OE[W5e]="z";var V5e=String(OE)==="[object z]",T5e=V5e,x5e=ti,yb=V0,R5e=Lm,S5e=R5e("toStringTag"),Y5e=Object,L5e=yb(function(){return arguments}())=="Arguments",M5e=function(t,e){try{return t[e]}catch{}},N5e=T5e?yb:function(t){var e,n,i;return t===void 0?"Undefined":t===null?"Null":typeof(n=M5e(e=Y5e(t),S5e))=="string"?n:L5e?yb(e):(i=yb(e))=="Object"&&x5e(e.callee)?"Arguments":i},v5e=ol,I5e=Ql,BE=ti,w5e=N5e,J5e=Ym,C5e=EE,QE=function(){},k5e=[],AE=J5e("Reflect","construct"),k2=/^\s*(?:class|function)\b/,E5e=v5e(k2.exec),K5e=!k2.exec(QE),au=function(e){if(!BE(e))return!1;try{return AE(QE,k5e,e),!0}catch{return!1}},_E=function(e){if(!BE(e))return!1;switch(w5e(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return K5e||!!E5e(k2,C5e(e))}catch{return!0}};_E.sham=!0;var U5e=!AE||I5e(function(){var t;return au(au.call)||!au(Object)||!au(function(){t=!0})||t})?_E:au,j5=X5e,P5e=U5e,F5e=Lc,z5e=Lm,j5e=z5e("species"),H5=Array,H5e=function(t){var e;return j5(t)&&(e=t.constructor,P5e(e)&&(e===H5||j5(e.prototype))?e=void 0:F5e(e)&&(e=e[j5e],e===null&&(e=void 0))),e===void 0?H5:e},D5e=H5e,O5e=function(t,e){return new(D5e(t))(e===0?0:e)},B5e=y5e,Q5e=ol,A5e=fE,_5e=YE,$5e=jE,q5e=O5e,D5=Q5e([].push),ir=function(t){var e=t==1,n=t==2,i=t==3,l=t==4,r=t==6,a=t==7,s=t==5||r;return function(o,c,u,d){for(var m=_5e(o),h=A5e(m),b=B5e(c,u),Z=$5e(h),p=0,f=d||q5e,G=e?f(o,Z):n||a?f(o,0):void 0,V,X;Z>p;p++)if((s||p in h)&&(V=h[p],X=b(V,p,m),t))if(e)G[p]=X;else if(X)switch(t){case 3:return!0;case 5:return V;case 6:return p;case 2:D5(G,V)}else switch(t){case 4:return!1;case 7:D5(G,V)}return r?-1:i||l?l:G}},eMe={forEach:ir(0),map:ir(1),filter:ir(2),some:ir(3),every:ir(4),find:ir(5),findIndex:ir(6),filterReject:ir(7)},$E={},tMe=HE,nMe=C2,iMe=Object.keys||function(e){return tMe(e,nMe)},lMe=na,rMe=wE,aMe=Mc,sMe=x0,oMe=T0,cMe=iMe;$E.f=lMe&&!rMe?Object.defineProperties:function(e,n){sMe(e);for(var i=oMe(n),l=cMe(n),r=l.length,a=0,s;r>a;)aMe.f(e,s=l[a++],i[s]);return e};var uMe=Ym,dMe=uMe("document","documentElement"),mMe=x0,hMe=$E,O5=C2,bMe=J2,pMe=dMe,ZMe=vE,fMe=KE,B5=">",Q5="<",B1="prototype",Q1="script",qE=fMe("IE_PROTO"),Fy=function(){},eK=function(t){return Q5+Q1+B5+t+Q5+"/"+Q1+B5},A5=function(t){t.write(eK("")),t.close();var e=t.parentWindow.Object;return t=null,e},yMe=function(){var t=ZMe("iframe"),e="java"+Q1+":",n;return t.style.display="none",pMe.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(eK("document.F=Object")),n.close(),n.F},wh,Gb=function(){try{wh=new ActiveXObject("htmlfile")}catch{}Gb=typeof document<"u"?document.domain&&wh?A5(wh):yMe():A5(wh);for(var t=O5.length;t--;)delete Gb[B1][O5[t]];return Gb()};bMe[qE]=!0;var GMe=Object.create||function(e,n){var i;return e!==null?(Fy[B1]=mMe(e),i=new Fy,Fy[B1]=null,i[qE]=e):i=Gb(),n===void 0?i:hMe.f(i,n)},XMe=Lm,gMe=GMe,WMe=Mc.f,A1=XMe("unscopables"),_1=Array.prototype;_1[A1]==null&&WMe(_1,A1,{configurable:!0,value:gMe(null)});var VMe=function(t){_1[A1][t]=!0},TMe=b5e,xMe=eMe.find,RMe=VMe,$1="find",tK=!0;$1 in[]&&Array(1)[$1](function(){tK=!1});TMe({target:"Array",proto:!0,forced:tK},{find:function(e){return xMe(this,e,arguments.length>1?arguments[1]:void 0)}});RMe($1);var Cn={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}},zy=function(e,n){var i;typeof window.CustomEvent=="function"?i=new window.CustomEvent(e,{detail:n}):(i=document.createEvent("Event"),i.initEvent(e,!1,!0,n)),window.dispatchEvent(i)};function SMe(t){t.hide=function(e){zy(Cn.GLOBAL.HIDE,{target:e})},t.rebuild=function(){zy(Cn.GLOBAL.REBUILD)},t.show=function(e){zy(Cn.GLOBAL.SHOW,{target:e})},t.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},t.prototype.globalShow=function(e){if(this.mount){var n=e&&e.detail&&e.detail.target&&!0||!1;this.showTooltip({currentTarget:n&&e.detail.target},!0)}},t.prototype.globalHide=function(e){if(this.mount){var n=e&&e.detail&&e.detail.target&&!0||!1;this.hideTooltip({currentTarget:n&&e.detail.target},n)}}}function YMe(t){t.prototype.bindWindowEvents=function(e){window.removeEventListener(Cn.GLOBAL.HIDE,this.globalHide),window.addEventListener(Cn.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(Cn.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(Cn.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(Cn.GLOBAL.SHOW,this.globalShow),window.addEventListener(Cn.GLOBAL.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},t.prototype.unbindWindowEvents=function(){window.removeEventListener(Cn.GLOBAL.HIDE,this.globalHide),window.removeEventListener(Cn.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(Cn.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},t.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}var nK=function(e,n){var i=this.state.show,l=this.props.id,r=this.isCapture(n.currentTarget),a=n.currentTarget.getAttribute("currentItem");r||n.stopPropagation(),i&&a==="true"?e||this.hideTooltip(n):(n.currentTarget.setAttribute("currentItem","true"),LMe(n.currentTarget,this.getTargetArray(l)),this.showTooltip(n))},LMe=function(e,n){for(var i=0;i<n.length;i++)e!==n[i]?n[i].setAttribute("currentItem","false"):n[i].setAttribute("currentItem","true")},jy={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,n,i){if(this.id in e){var l=e[this.id];l[n]=i}else Object.defineProperty(e,this.id,{configurable:!0,value:Au({},n,i)})},get:function(e,n){var i=e[this.id];if(i!==void 0)return i[n]}};function MMe(t){t.prototype.isCustomEvent=function(e){var n=this.state.event;return n||!!e.getAttribute("data-event")},t.prototype.customBindListener=function(e){var n=this,i=this.state,l=i.event,r=i.eventOff,a=e.getAttribute("data-event")||l,s=e.getAttribute("data-event-off")||r;a.split(" ").forEach(function(o){e.removeEventListener(o,jy.get(e,o));var c=nK.bind(n,s);jy.set(e,o,c),e.addEventListener(o,c,!1)}),s&&s.split(" ").forEach(function(o){e.removeEventListener(o,n.hideTooltip),e.addEventListener(o,n.hideTooltip,!1)})},t.prototype.customUnbindListener=function(e){var n=this.state,i=n.event,l=n.eventOff,r=i||e.getAttribute("data-event"),a=l||e.getAttribute("data-event-off");e.removeEventListener(r,jy.get(e,i)),a&&e.removeEventListener(a,this.hideTooltip)}}function NMe(t){t.prototype.isCapture=function(e){return e&&e.getAttribute("data-iscapture")==="true"||this.props.isCapture||!1}}function vMe(t){t.prototype.getEffect=function(e){var n=e.getAttribute("data-effect");return n||this.props.effect||"float"}}var IMe=function(e){var n={};for(var i in e)typeof e[i]=="function"?n[i]=e[i].bind(e):n[i]=e[i];return n},su=function(e,n,i){for(var l=n.respectEffect,r=l===void 0?!1:l,a=n.customEvent,s=a===void 0?!1:a,o=this.props.id,c=null,u,d=i.target,m;c===null&&d!==null;)m=d,c=d.getAttribute("data-tip")||null,u=d.getAttribute("data-for")||null,d=d.parentElement;if(d=m||i.target,!(this.isCustomEvent(d)&&!s)){var h=o==null&&u==null||u===o;if(c!=null&&(!r||this.getEffect(d)==="float")&&h){var b=IMe(i);b.currentTarget=d,e(b)}}},_5=function(e,n){var i={};return e.forEach(function(l){var r=l.getAttribute(n);r&&r.split(" ").forEach(function(a){return i[a]=!0})}),i},$5=function(){return document.getElementsByTagName("body")[0]};function wMe(t){t.prototype.isBodyMode=function(){return!!this.props.bodyMode},t.prototype.bindBodyListener=function(e){var n=this,i=this.state,l=i.event,r=i.eventOff,a=i.possibleCustomEvents,s=i.possibleCustomEventsOff,o=$5(),c=_5(e,"data-event"),u=_5(e,"data-event-off");l!=null&&(c[l]=!0),r!=null&&(u[r]=!0),a.split(" ").forEach(function(Z){return c[Z]=!0}),s.split(" ").forEach(function(Z){return u[Z]=!0}),this.unbindBodyListener(o);var d=this.bodyModeListeners={};l==null&&(d.mouseover=su.bind(this,this.showTooltip,{}),d.mousemove=su.bind(this,this.updateTooltip,{respectEffect:!0}),d.mouseout=su.bind(this,this.hideTooltip,{}));for(var m in c)d[m]=su.bind(this,function(Z){var p=Z.currentTarget.getAttribute("data-event-off")||r;nK.call(n,p,Z)},{customEvent:!0});for(var h in u)d[h]=su.bind(this,this.hideTooltip,{customEvent:!0});for(var b in d)o.addEventListener(b,d[b])},t.prototype.unbindBodyListener=function(e){e=e||$5();var n=this.bodyModeListeners;for(var i in n)e.removeEventListener(i,n[i])}}var JMe=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver};function CMe(t){t.prototype.bindRemovalTracker=function(){var e=this,n=JMe();if(n!=null){var i=new n(function(l){for(var r=0;r<l.length;r++)for(var a=l[r],s=0;s<a.removedNodes.length;s++){var o=a.removedNodes[s];if(o===e.state.currentTarget){e.hideTooltip();return}}});i.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=i}},t.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}}function q5(t,e,n,i,l,r,a){var s=q1(n),o=s.width,c=s.height,u=q1(e),d=u.width,m=u.height,h=kMe(t,e,r),b=h.mouseX,Z=h.mouseY,p=EMe(r,d,m,o,c),f=KMe(a),G=f.extraOffsetX,V=f.extraOffsetY,X=window.innerWidth,L=window.innerHeight,x=UMe(n),v=x.parentTop,C=x.parentLeft,w=function(O){var le=p[O].l;return b+le+G},z=function(O){var le=p[O].r;return b+le+G},$=function(O){var le=p[O].t;return Z+le+V},ee=function(O){var le=p[O].b;return Z+le+V},D=function(O){return w(O)<0},j=function(O){return z(O)>X},_=function(O){return $(O)<0},ce=function(O){return ee(O)>L},E=function(O){return D(O)||j(O)||_(O)||ce(O)},H=function(O){return!E(O)},de={top:H("top"),bottom:H("bottom"),left:H("left"),right:H("right")};function ue(){var A=l.split(",").concat(i,["top","bottom","left","right"]),O=QSe(A),le;try{for(O.s();!(le=O.n()).done;){var Ge=le.value;if(de[Ge])return Ge}}catch(ve){O.e(ve)}finally{O.f()}return i}var U=ue(),Q=!1,k;return U&&U!==i&&(Q=!0,k=U),Q?{isNewState:!0,newState:{place:k}}:{isNewState:!1,position:{left:parseInt(w(i)-C,10),top:parseInt($(i)-v,10)}}}var q1=function(e){var n=e.getBoundingClientRect(),i=n.height,l=n.width;return{height:parseInt(i,10),width:parseInt(l,10)}},kMe=function(e,n,i){var l=n.getBoundingClientRect(),r=l.top,a=l.left,s=q1(n),o=s.width,c=s.height;return i==="float"?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:a+o/2,mouseY:r+c/2}},EMe=function(e,n,i,l,r){var a,s,o,c,u=3,d=2,m=12;return e==="float"?(a={l:-(l/2),r:l/2,t:-(r+u+d),b:-u},o={l:-(l/2),r:l/2,t:u+m,b:r+u+d+m},c={l:-(l+u+d),r:-u,t:-(r/2),b:r/2},s={l:u,r:l+u+d,t:-(r/2),b:r/2}):e==="solid"&&(a={l:-(l/2),r:l/2,t:-(i/2+r+d),b:-(i/2)},o={l:-(l/2),r:l/2,t:i/2,b:i/2+r+d},c={l:-(l+n/2+d),r:-(n/2),t:-(r/2),b:r/2},s={l:n/2,r:l+n/2+d,t:-(r/2),b:r/2}),{top:a,bottom:o,left:c,right:s}},KMe=function(e){var n=0,i=0;Object.prototype.toString.apply(e)==="[object String]"&&(e=JSON.parse(e.toString().replace(/'/g,'"')));for(var l in e)l==="top"?i-=parseInt(e[l],10):l==="bottom"?i+=parseInt(e[l],10):l==="left"?n-=parseInt(e[l],10):l==="right"&&(n+=parseInt(e[l],10));return{extraOffsetX:n,extraOffsetY:i}},UMe=function(e){for(var n=e;n;){var i=window.getComputedStyle(n);if(i.getPropertyValue("transform")!=="none"||i.getPropertyValue("will-change")==="transform")break;n=n.parentElement}var l=n&&n.getBoundingClientRect().top||0,r=n&&n.getBoundingClientRect().left||0;return{parentTop:l,parentLeft:r}};function eM(t,e,n,i){if(e)return e;if(n!=null)return n;if(n===null)return null;var l=/<br\s*\/?>/;return!i||i==="false"||!l.test(t)?t:t.split(l).map(function(r,a){return S.createElement("span",{key:a,className:"multi-line"},r)})}function tM(t){var e={};return Object.keys(t).filter(function(n){return/(^aria-\w+$|^role$)/.test(n)}).forEach(function(n){e[n]=t[n]}),e}function Hy(t){var e=t.length;return t.hasOwnProperty?Array.prototype.slice.call(t):new Array(e).fill().map(function(n){return t[n]})}function PMe(){return"t"+USe()}var FMe=`.__react_component_tooltip {
  border-radius: 3px;
  display: inline-block;
  font-size: 13px;
  left: -999em;
  opacity: 0;
  position: fixed;
  pointer-events: none;
  transition: opacity 0.3s ease-out;
  top: -999em;
  visibility: hidden;
  z-index: 999;
}
.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {
  pointer-events: auto;
}
.__react_component_tooltip::before, .__react_component_tooltip::after {
  content: "";
  width: 0;
  height: 0;
  position: absolute;
}
.__react_component_tooltip.show {
  opacity: 0.9;
  margin-top: 0;
  margin-left: 0;
  visibility: visible;
}
.__react_component_tooltip.place-top::before {
  bottom: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-bottom::before {
  top: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-left::before {
  right: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip.place-right::before {
  left: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip .multi-line {
  display: block;
  padding: 2px 0;
  text-align: center;
}`,nM={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function zMe(t){return nM[t]?K1({},nM[t]):void 0}var jMe="8px 21px",HMe={tooltip:3,arrow:0};function DMe(t,e,n,i,l,r){return OMe(t,BMe(e,n,i),l,r)}function OMe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jMe,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:HMe,l=e.text,r=e.background,a=e.border,s=e.arrow,o=i.arrow,c=i.tooltip;return`
  	.`.concat(t,` {
	    color: `).concat(l,`;
	    background: `).concat(r,`;
	    border: 1px solid `).concat(a,`;
	    border-radius: `).concat(c,`px;
	    padding: `).concat(n,`;
  	}

  	.`).concat(t,`.place-top {
        margin-top: -10px;
    }
    .`).concat(t,`.place-top::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: 2;
        width: 20px;
        height: 12px;
    }
    .`).concat(t,`.place-top::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(o,`px;
        border: 1px solid `).concat(a,`;
        background-color: `).concat(s,`;
        z-index: -2;
        bottom: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(135deg);
    }

    .`).concat(t,`.place-bottom {
        margin-top: 10px;
    }
    .`).concat(t,`.place-bottom::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 18px;
        height: 10px;
    }
    .`).concat(t,`.place-bottom::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(o,`px;
        border: 1px solid `).concat(a,`;
        background-color: `).concat(s,`;
        z-index: -2;
        top: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(45deg);
    }

    .`).concat(t,`.place-left {
        margin-left: -10px;
    }
    .`).concat(t,`.place-left::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(t,`.place-left::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(o,`px;
        border: 1px solid `).concat(a,`;
        background-color: `).concat(s,`;
        z-index: -2;
        right: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(45deg);
    }

    .`).concat(t,`.place-right {
        margin-left: 10px;
    }
    .`).concat(t,`.place-right::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(t,`.place-right::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(o,`px;
        border: 1px solid `).concat(a,`;
        background-color: `).concat(s,`;
        z-index: -2;
        left: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(-135deg);
    }
  `)}function BMe(t,e,n){var i=t.text,l=t.background,r=t.border,a=t.arrow?t.arrow:t.background,s=zMe(e);return i&&(s.text=i),l&&(s.background=l),n&&(r?s.border=r:s.border=e==="light"?"black":"white"),a&&(s.arrow=a),s}var Qt,ou,QMe=SMe(Qt=YMe(Qt=MMe(Qt=NMe(Qt=vMe(Qt=wMe(Qt=CMe(Qt=(ou=function(t){zSe(n,t);var e=OSe(n);function n(i){var l;return PSe(this,n),l=e.call(this,i),l.state={uuid:i.uuid||PMe(),place:i.place||"top",desiredPlace:i.place||"top",type:i.type||"dark",effect:i.effect||"float",show:!1,border:!1,borderClass:"border",customColors:{},customRadius:{},offset:{},padding:i.padding,extraClass:"",html:!1,delayHide:0,delayShow:0,event:i.event||null,eventOff:i.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:tM(i),isEmptyTip:!1,disable:!1,possibleCustomEvents:i.possibleCustomEvents||"",possibleCustomEventsOff:i.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},l.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),l.mount=!0,l.delayShowLoop=null,l.delayHideLoop=null,l.delayReshow=null,l.intervalUpdateContent=null,l}return FSe(n,[{key:"bind",value:function(l){var r=this;l.forEach(function(a){r[a]=r[a].bind(r)})}},{key:"componentDidMount",value:function(){var l=this.props;l.insecure;var r=l.resizeHide,a=l.disableInternalStyle;this.mount=!0,this.bindListener(),this.bindWindowEvents(r),a||this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var l=this.tooltipRef;if(l){for(var r=l.parentNode;r.parentNode;)r=r.parentNode;var a;switch(r.constructor.name){case"Document":case"HTMLDocument":case void 0:a=r.head;break;case"ShadowRoot":default:a=r;break}if(!a.querySelector("style[data-react-tooltip]")){var s=document.createElement("style");s.textContent=FMe,s.setAttribute("data-react-tooltip","true"),a.appendChild(s)}}}},{key:"mouseOnToolTip",value:function(){var l=this.state.show;return l&&this.tooltipRef?(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover")):!1}},{key:"getTargetArray",value:function(l){var r=[],a;if(!l)a="[data-tip]:not([data-for])";else{var s=l.replace(/\\/g,"\\\\").replace(/"/g,'\\"');a='[data-tip][data-for="'.concat(s,'"]')}return Hy(document.getElementsByTagName("*")).filter(function(o){return o.shadowRoot}).forEach(function(o){r=r.concat(Hy(o.shadowRoot.querySelectorAll(a)))}),r.concat(Hy(document.querySelectorAll(a)))}},{key:"bindListener",value:function(){var l=this,r=this.props,a=r.id,s=r.globalEventOff,o=r.isCapture,c=this.getTargetArray(a);c.forEach(function(u){u.getAttribute("currentItem")===null&&u.setAttribute("currentItem","false"),l.unbindBasicListener(u),l.isCustomEvent(u)&&l.customUnbindListener(u)}),this.isBodyMode()?this.bindBodyListener(c):c.forEach(function(u){var d=l.isCapture(u),m=l.getEffect(u);if(l.isCustomEvent(u)){l.customBindListener(u);return}u.addEventListener("mouseenter",l.showTooltip,d),u.addEventListener("focus",l.showTooltip,d),m==="float"&&u.addEventListener("mousemove",l.updateTooltip,d),u.addEventListener("mouseleave",l.hideTooltip,d),u.addEventListener("blur",l.hideTooltip,d)}),s&&(window.removeEventListener(s,this.hideTooltip),window.addEventListener(s,this.hideTooltip,o)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var l=this,r=this.props,a=r.id,s=r.globalEventOff;if(this.isBodyMode())this.unbindBodyListener();else{var o=this.getTargetArray(a);o.forEach(function(c){l.unbindBasicListener(c),l.isCustomEvent(c)&&l.customUnbindListener(c)})}s&&window.removeEventListener(s,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(l){var r=this.isCapture(l);l.removeEventListener("mouseenter",this.showTooltip,r),l.removeEventListener("mousemove",this.updateTooltip,r),l.removeEventListener("mouseleave",this.hideTooltip,r)}},{key:"getTooltipContent",value:function(){var l=this.props,r=l.getContent,a=l.children,s;return r&&(Array.isArray(r)?s=r[0]&&r[0](this.state.originTooltip):s=r(this.state.originTooltip)),eM(this.state.originTooltip,a,s,this.state.isMultiline)}},{key:"isEmptyTip",value:function(l){return typeof l=="string"&&l===""||l===null}},{key:"showTooltip",value:function(l,r){if(this.tooltipRef){if(r){var a=this.getTargetArray(this.props.id),s=a.some(function(C){return C===l.currentTarget});if(!s)return}var o=this.props,c=o.multiline,u=o.getContent,d=l.currentTarget.getAttribute("data-tip"),m=l.currentTarget.getAttribute("data-multiline")||c||!1,h=l instanceof window.FocusEvent||r,b=!0;l.currentTarget.getAttribute("data-scroll-hide")?b=l.currentTarget.getAttribute("data-scroll-hide")==="true":this.props.scrollHide!=null&&(b=this.props.scrollHide),l&&l.currentTarget&&l.currentTarget.setAttribute&&l.currentTarget.setAttribute("aria-describedby",this.props.id||this.state.uuid);var Z=l.currentTarget.getAttribute("data-place")||this.props.place||"top",p=h&&"solid"||this.getEffect(l.currentTarget),f=l.currentTarget.getAttribute("data-offset")||this.props.offset||{},G=q5(l,l.currentTarget,this.tooltipRef,Z.split(",")[0],Z,p,f);G.position&&this.props.overridePosition&&(G.position=this.props.overridePosition(G.position,l,l.currentTarget,this.tooltipRef,Z,Z,p,f));var V=G.isNewState?G.newState.place:Z.split(",")[0];this.clearTimer();var X=l.currentTarget,L=this.state.show?X.getAttribute("data-delay-update")||this.props.delayUpdate:0,x=this,v=function(){x.setState({originTooltip:d,isMultiline:m,desiredPlace:Z,place:V,type:X.getAttribute("data-type")||x.props.type||"dark",customColors:{text:X.getAttribute("data-text-color")||x.props.textColor||null,background:X.getAttribute("data-background-color")||x.props.backgroundColor||null,border:X.getAttribute("data-border-color")||x.props.borderColor||null,arrow:X.getAttribute("data-arrow-color")||x.props.arrowColor||null},customRadius:{tooltip:X.getAttribute("data-tooltip-radius")||x.props.tooltipRadius||"3",arrow:X.getAttribute("data-arrow-radius")||x.props.arrowRadius||"0"},effect:p,offset:f,padding:X.getAttribute("data-padding")||x.props.padding,html:(X.getAttribute("data-html")?X.getAttribute("data-html")==="true":x.props.html)||!1,delayShow:X.getAttribute("data-delay-show")||x.props.delayShow||0,delayHide:X.getAttribute("data-delay-hide")||x.props.delayHide||0,delayUpdate:X.getAttribute("data-delay-update")||x.props.delayUpdate||0,border:(X.getAttribute("data-border")?X.getAttribute("data-border")==="true":x.props.border)||!1,borderClass:X.getAttribute("data-border-class")||x.props.borderClass||"border",extraClass:X.getAttribute("data-class")||x.props.class||x.props.className||"",disable:(X.getAttribute("data-tip-disable")?X.getAttribute("data-tip-disable")==="true":x.props.disable)||!1,currentTarget:X},function(){b&&x.addScrollListener(x.state.currentTarget),x.updateTooltip(l),u&&Array.isArray(u)&&(x.intervalUpdateContent=setInterval(function(){if(x.mount){var w=x.props.getContent,z=eM(d,"",w[0](),m),$=x.isEmptyTip(z);x.setState({isEmptyTip:$}),x.updatePosition()}},u[1]))})};L?this.delayReshow=setTimeout(v,L):v()}}},{key:"updateTooltip",value:function(l){var r=this,a=this.state,s=a.delayShow,o=a.disable,c=this.props,u=c.afterShow,d=c.disable,m=this.getTooltipContent(),h=l.currentTarget||l.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(m)||o||d)){var b=this.state.show?0:parseInt(s,10),Z=function(){if(Array.isArray(m)&&m.length>0||m){var f=!r.state.show;r.setState({currentEvent:l,currentTarget:h,show:!0},function(){r.updatePosition(function(){f&&u&&u(l)})})}};this.delayShowLoop&&clearTimeout(this.delayShowLoop),b?this.delayShowLoop=setTimeout(Z,b):(this.delayShowLoop=null,Z())}}},{key:"listenForTooltipExit",value:function(){var l=this.state.show;l&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){var l=this.state.show;l&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(l,r){var a=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isScroll:!1},o=this.state.disable,c=s.isScroll,u=c?0:this.state.delayHide,d=this.props,m=d.afterHide,h=d.disable,b=this.getTooltipContent();if(this.mount&&!(this.isEmptyTip(b)||o||h)){if(r){var Z=this.getTargetArray(this.props.id),p=Z.some(function(G){return G===l.currentTarget});if(!p||!this.state.show)return}l&&l.currentTarget&&l.currentTarget.removeAttribute&&l.currentTarget.removeAttribute("aria-describedby");var f=function(){var V=a.state.show;if(a.mouseOnToolTip()){a.listenForTooltipExit();return}a.removeListenerForTooltipExit(),a.setState({show:!1},function(){a.removeScrollListener(a.state.currentTarget),V&&m&&m(l)})};this.clearTimer(),u?this.delayHideLoop=setTimeout(f,parseInt(u,10)):f()}}},{key:"hideTooltipOnScroll",value:function(l,r){this.hideTooltip(l,r,{isScroll:!0})}},{key:"addScrollListener",value:function(l){var r=this.isCapture(l);window.addEventListener("scroll",this.hideTooltipOnScroll,r)}},{key:"removeScrollListener",value:function(l){var r=this.isCapture(l);window.removeEventListener("scroll",this.hideTooltipOnScroll,r)}},{key:"updatePosition",value:function(l){var r=this,a=this.state,s=a.currentEvent,o=a.currentTarget,c=a.place,u=a.desiredPlace,d=a.effect,m=a.offset,h=this.tooltipRef,b=q5(s,o,h,c,u,d,m);if(b.position&&this.props.overridePosition&&(b.position=this.props.overridePosition(b.position,s,o,h,c,u,d,m)),b.isNewState)return this.setState(b.newState,function(){r.updatePosition(l)});l&&typeof l=="function"&&l(),h.style.left=b.position.left+"px",h.style.top=b.position.top+"px"}},{key:"clearTimer",value:function(){this.delayShowLoop&&(clearTimeout(this.delayShowLoop),this.delayShowLoop=null),this.delayHideLoop&&(clearTimeout(this.delayHideLoop),this.delayHideLoop=null),this.delayReshow&&(clearTimeout(this.delayReshow),this.delayReshow=null),this.intervalUpdateContent&&(clearInterval(this.intervalUpdateContent),this.intervalUpdateContent=null)}},{key:"hasCustomColors",value:function(){var l=this;return!!(Object.keys(this.state.customColors).find(function(r){return r!=="border"&&l.state.customColors[r]})||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var l=this,r=this.state,a=r.extraClass,s=r.html,o=r.ariaProps,c=r.disable,u=r.uuid,d=this.getTooltipContent(),m=this.isEmptyTip(d),h=this.props.disableInternalStyle?"":DMe(this.state.uuid,this.state.customColors,this.state.type,this.state.border,this.state.padding,this.state.customRadius),b="__react_component_tooltip"+" ".concat(this.state.uuid)+(this.state.show&&!c&&!m?" show":"")+(this.state.border?" "+this.state.borderClass:"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),Z=this.props.wrapper;n.supportedWrappers.indexOf(Z)<0&&(Z=n.defaultProps.wrapper);var p=[b,a].filter(Boolean).join(" ");if(s){var f="".concat(d).concat(h?`
<style aria-hidden="true">`.concat(h,"</style>"):"");return S.createElement(Z,Op({className:"".concat(p),id:this.props.id||u,ref:function(V){return l.tooltipRef=V}},o,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:f}}))}else return S.createElement(Z,Op({className:"".concat(p),id:this.props.id||u},o,{ref:function(V){return l.tooltipRef=V},"data-id":"tooltip"}),h&&S.createElement("style",{dangerouslySetInnerHTML:{__html:h},"aria-hidden":"true"}),d)}}],[{key:"propTypes",get:function(){return{uuid:K.string,children:K.any,place:K.string,type:K.string,effect:K.string,offset:K.object,padding:K.string,multiline:K.bool,border:K.bool,borderClass:K.string,textColor:K.string,backgroundColor:K.string,borderColor:K.string,arrowColor:K.string,arrowRadius:K.string,tooltipRadius:K.string,insecure:K.bool,class:K.string,className:K.string,id:K.string,html:K.bool,delayHide:K.number,delayUpdate:K.number,delayShow:K.number,event:K.string,eventOff:K.string,isCapture:K.bool,globalEventOff:K.string,getContent:K.any,afterShow:K.func,afterHide:K.func,overridePosition:K.func,disable:K.bool,scrollHide:K.bool,resizeHide:K.bool,wrapper:K.string,bodyMode:K.bool,possibleCustomEvents:K.string,possibleCustomEventsOff:K.string,clickable:K.bool,disableInternalStyle:K.bool}}},{key:"getDerivedStateFromProps",value:function(l,r){var a=r.ariaProps,s=tM(l),o=Object.keys(s).some(function(c){return s[c]!==a[c]});return o?K1(K1({},r),{},{ariaProps:s}):null}}]),n}(S.Component),Au(ou,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),Au(ou,"supportedWrappers",["div","span"]),Au(ou,"displayName","ReactTooltip"),ou))||Qt)||Qt)||Qt)||Qt)||Qt)||Qt)||Qt;let AMe={data:""},_Me=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||AMe,$Me=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qMe=/\/\*[^]*?\*\/|  +/g,iM=/\n+/g,ur=(t,e)=>{let n="",i="",l="";for(let r in t){let a=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+a+";":i+=r[1]=="f"?ur(a,r):r+"{"+ur(a,r[1]=="k"?"":e)+"}":typeof a=="object"?i+=ur(a,e?e.replace(/([^,])+/g,s=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,s):s?s+" "+o:o)):r):a!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=ur.p?ur.p(r,a):r+":"+a+";")}return n+(e&&l?e+"{"+l+"}":l)+i},bl={},iK=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+iK(t[n]);return e}return t},eNe=(t,e,n,i,l)=>{let r=iK(t),a=bl[r]||(bl[r]=(o=>{let c=0,u=11;for(;c<o.length;)u=101*u+o.charCodeAt(c++)>>>0;return"go"+u})(r));if(!bl[a]){let o=r!==t?t:(c=>{let u,d,m=[{}];for(;u=$Me.exec(c.replace(qMe,""));)u[4]?m.shift():u[3]?(d=u[3].replace(iM," ").trim(),m.unshift(m[0][d]=m[0][d]||{})):m[0][u[1]]=u[2].replace(iM," ").trim();return m[0]})(t);bl[a]=ur(l?{["@keyframes "+a]:o}:o,n?"":"."+a)}let s=n&&bl.g?bl.g:null;return n&&(bl.g=bl[a]),((o,c,u,d)=>{d?c.data=c.data.replace(d,o):c.data.indexOf(o)===-1&&(c.data=u?o+c.data:c.data+o)})(bl[a],e,i,s),a},tNe=(t,e,n)=>t.reduce((i,l,r)=>{let a=e[r];if(a&&a.call){let s=a(n),o=s&&s.props&&s.props.className||/^go/.test(s)&&s;a=o?"."+o:s&&typeof s=="object"?s.props?"":ur(s,""):s===!1?"":s}return i+l+(a??"")},"");function R0(t){let e=this||{},n=t.call?t(e.p):t;return eNe(n.unshift?n.raw?tNe(n,[].slice.call(arguments,1),e.p):n.reduce((i,l)=>Object.assign(i,l&&l.call?l(e.p):l),{}):n,_Me(e.target),e.g,e.o,e.k)}let lK,eg,tg;R0.bind({g:1});let El=R0.bind({k:1});function nNe(t,e,n,i){ur.p=e,lK=t,eg=n,tg=i}function ia(t,e){let n=this||{};return function(){let i=arguments;function l(r,a){let s=Object.assign({},r),o=s.className||l.className;n.p=Object.assign({theme:eg&&eg()},s),n.o=/ *go\d+/.test(o),s.className=R0.apply(n,i)+(o?" "+o:""),e&&(s.ref=a);let c=t;return t[0]&&(c=s.as||t,delete s.as),tg&&c[0]&&tg(s),lK(c,s)}return e?e(l):l}}var iNe=t=>typeof t=="function",$p=(t,e)=>iNe(t)?t(e):t,lNe=(()=>{let t=0;return()=>(++t).toString()})(),rK=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rNe=20,Xb=new Map,aNe=1e3,lM=t=>{if(Xb.has(t))return;let e=setTimeout(()=>{Xb.delete(t),ys({type:4,toastId:t})},aNe);Xb.set(t,e)},sNe=t=>{let e=Xb.get(t);e&&clearTimeout(e)},ng=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rNe)};case 1:return e.toast.id&&sNe(e.toast.id),{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case 2:let{toast:n}=e;return t.toasts.find(r=>r.id===n.id)?ng(t,{type:1,toast:n}):ng(t,{type:0,toast:n});case 3:let{toastId:i}=e;return i?lM(i):t.toasts.forEach(r=>{lM(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===i||i===void 0?{...r,visible:!1}:r)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+l}))}}},gb=[],Wb={toasts:[],pausedAt:void 0},ys=t=>{Wb=ng(Wb,t),gb.forEach(e=>{e(Wb)})},oNe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cNe=(t={})=>{let[e,n]=T.useState(Wb);T.useEffect(()=>(gb.push(n),()=>{let l=gb.indexOf(n);l>-1&&gb.splice(l,1)}),[e]);let i=e.toasts.map(l=>{var r,a;return{...t,...t[l.type],...l,duration:l.duration||((r=t[l.type])==null?void 0:r.duration)||(t==null?void 0:t.duration)||oNe[l.type],style:{...t.style,...(a=t[l.type])==null?void 0:a.style,...l.style}}});return{...e,toasts:i}},uNe=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||lNe()}),Nm=t=>(e,n)=>{let i=uNe(e,t,n);return ys({type:2,toast:i}),i.id},qt=(t,e)=>Nm("blank")(t,e);qt.error=Nm("error");qt.success=Nm("success");qt.loading=Nm("loading");qt.custom=Nm("custom");qt.dismiss=t=>{ys({type:3,toastId:t})};qt.remove=t=>ys({type:4,toastId:t});qt.promise=(t,e,n)=>{let i=qt.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(l=>(qt.success($p(e.success,l),{id:i,...n,...n==null?void 0:n.success}),l)).catch(l=>{qt.error($p(e.error,l),{id:i,...n,...n==null?void 0:n.error})}),t};var dNe=(t,e)=>{ys({type:1,toast:{id:t,height:e}})},mNe=()=>{ys({type:5,time:Date.now()})},hNe=t=>{let{toasts:e,pausedAt:n}=cNe(t);T.useEffect(()=>{if(n)return;let r=Date.now(),a=e.map(s=>{if(s.duration===1/0)return;let o=(s.duration||0)+s.pauseDuration-(r-s.createdAt);if(o<0){s.visible&&qt.dismiss(s.id);return}return setTimeout(()=>qt.dismiss(s.id),o)});return()=>{a.forEach(s=>s&&clearTimeout(s))}},[e,n]);let i=T.useCallback(()=>{n&&ys({type:6,time:Date.now()})},[n]),l=T.useCallback((r,a)=>{let{reverseOrder:s=!1,gutter:o=8,defaultPosition:c}=a||{},u=e.filter(h=>(h.position||c)===(r.position||c)&&h.height),d=u.findIndex(h=>h.id===r.id),m=u.filter((h,b)=>b<d&&h.visible).length;return u.filter(h=>h.visible).slice(...s?[m+1]:[0,m]).reduce((h,b)=>h+(b.height||0)+o,0)},[e]);return{toasts:e,handlers:{updateHeight:dNe,startPause:mNe,endPause:i,calculateOffset:l}}},bNe=El`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pNe=El`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZNe=El`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fNe=ia("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bNe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pNe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ZNe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yNe=El`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,GNe=ia("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${yNe} 1s linear infinite;
`,XNe=El`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gNe=El`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,WNe=ia("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XNe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gNe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,VNe=ia("div")`
  position: absolute;
`,TNe=ia("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xNe=El`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RNe=ia("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xNe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,SNe=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?T.createElement(RNe,null,e):e:n==="blank"?null:T.createElement(TNe,null,T.createElement(GNe,{...i}),n!=="loading"&&T.createElement(VNe,null,n==="error"?T.createElement(fNe,{...i}):T.createElement(WNe,{...i})))},YNe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,LNe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,MNe="0%{opacity:0;} 100%{opacity:1;}",NNe="0%{opacity:1;} 100%{opacity:0;}",vNe=ia("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,INe=ia("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wNe=(t,e)=>{let n=t.includes("top")?1:-1,[i,l]=rK()?[MNe,NNe]:[YNe(n),LNe(n)];return{animation:e?`${El(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${El(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},JNe=T.memo(({toast:t,position:e,style:n,children:i})=>{let l=t.height?wNe(t.position||e||"top-center",t.visible):{opacity:0},r=T.createElement(SNe,{toast:t}),a=T.createElement(INe,{...t.ariaProps},$p(t.message,t));return T.createElement(vNe,{className:t.className,style:{...l,...n,...t.style}},typeof i=="function"?i({icon:r,message:a}):T.createElement(T.Fragment,null,r,a))});nNe(T.createElement);var CNe=({id:t,className:e,style:n,onHeightUpdate:i,children:l})=>{let r=T.useCallback(a=>{if(a){let s=()=>{let o=a.getBoundingClientRect().height;i(t,o)};s(),new MutationObserver(s).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return T.createElement("div",{ref:r,className:e,style:n},l)},kNe=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},l=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rK()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...l}},ENe=R0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jh=16,KNe=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:l,containerStyle:r,containerClassName:a})=>{let{toasts:s,handlers:o}=hNe(n);return T.createElement("div",{style:{position:"fixed",zIndex:9999,top:Jh,left:Jh,right:Jh,bottom:Jh,pointerEvents:"none",...r},className:a,onMouseEnter:o.startPause,onMouseLeave:o.endPause},s.map(c=>{let u=c.position||e,d=o.calculateOffset(c,{reverseOrder:t,gutter:i,defaultPosition:e}),m=kNe(u,d);return T.createElement(CNe,{id:c.id,key:c.id,onHeightUpdate:o.updateHeight,className:c.visible?ENe:"",style:m},c.type==="custom"?$p(c.message,c):l?l(c):T.createElement(JNe,{toast:c,position:u}))}))};const UNe=(t,e,n,i)=>{const[l,r]=T.useState([0,0]),[a,s]=T.useState([0,0]),[o,c]=T.useState([0,0]),[u,d]=T.useState(0),[m,h]=T.useState(0),[b,Z]=T.useState(0),[p,f]=T.useState(null);T.useEffect(()=>{if(b&&b>0||!t||!t.base_data||!t.base_data.nodes)return;const z=t.base_data.nodes;for(let $ of z)if($.parent_id===$.node_id){let ee=0,D="";for(let j of $.mutations)j.gene==="nt"&&(ee<j.residue_pos&&(ee=j.residue_pos),D+=j.new_residue);Z(ee),f(D)}},[Z,b,p,f,t]);const[G,V]=T.useState([0,b]);T.useEffect(()=>{if(!t.data||!t.data.nodes||!i.treenomeEnabled)return;const z=[0,0];for(let $ of t.data.nodes)$.y<z[0]&&(z[0]=$.y),$.y>z[1]&&(z[1]=$.y);r(z)},[t.data,i.treenomeEnabled]),T.useEffect(()=>{if(!t.base_data||!t.base_data.nodes||!i.treenomeEnabled)return;const z=[0,0];for(let $ of t.base_data.nodes)$.y<z[0]&&(z[0]=$.y),$.y>z[1]&&(z[1]=$.y);s(z)},[t.base_data,i.treenomeEnabled]);const X=T.useCallback(()=>{if(!e.current||!e.current.deck||!e.current.deck.viewManager||!i.treenomeEnabled)return;const z={...n.viewState};n.setViewState(n.baseViewState);const $={...e.current.deck.getViewports()[1]};$&&c([$.unproject([0,0])[0],$.unproject([$.width,0])[0]]),n.setViewState(z)},[e,c,n,i.treenomeEnabled]);T.useEffect(()=>{i.treenomeEnabled||(x(!1),C(!1))},[i.treenomeEnabled]);const[L,x]=T.useState(!1),[v,C]=T.useState(!1);return T.useEffect(()=>{L&&!v&&(window.setTimeout(()=>{X()},200),C(!0))},[L,X,C,v]),T.useEffect(()=>{new MutationObserver(function($,ee){const D=document.getElementById("view-browser-axis");D&&(x(D),ee.disconnect())}).observe(document,{childList:!0,subtree:!0})},[]),T.useEffect(()=>{if(!e.current||!e.current.deck||!e.current.deck.viewManager||!i.treenomeEnabled)return;const z={...e.current.deck.getViewports()[1]};u&&h(z.unproject([u,0])[0]-z.unproject([0,0])[0])},[e,u,i.treenomeEnabled]),T.useMemo(()=>({xBounds:o,yBounds:l,ntBounds:G,setNtBounds:V,pxPerBp:u,setPxPerBp:d,bpWidth:m,handleResize:X,genome:p,genomeSize:b,baseYBounds:a}),[o,l,G,V,u,d,m,X,p,b,a])};let ig=()=>{};const rM={zoom:-2,target:[window.screen.width<600?500:1400,1e3],pitch:0,bearing:0,minimap:{zoom:-3,target:[250,1e3]},"browser-main":{zoom:-2,target:[0,1e3]},"browser-axis":{zoom:-2,target:[0,1e3]}};class aM extends wJ{onWheel(e){const n=e.srcEvent.ctrlKey||e.srcEvent.metaKey||e.srcEvent.altKey;if(!this.scrollZoom)return!1;e.preventDefault();const i=this.getCenter(e);if(!this.isPointInBounds(i,e))return!1;let{speed:l=.01,smooth:r=!1,zoomAxis:a="Y"}=this.scrollZoom;n&&(a="X",ig(a));const{delta:s}=e;let o=2/(1+Math.exp(-Math.abs(s*l)));s<0&&o!==0&&(o=1/o);const c=this.controllerState.zoom({pos:i,scale:o});let u=r?250:1;return a==="X"&&(u=0),this.updateViewport(c,{...this._getTransitionProps({around:i}),transitionDuration:u},{isZooming:a==="Y",isPanning:!0}),n&&(a="Y",ig(a)),!0}handleEvent(e){if(e.pointerType==="touch"&&e.type==="pinchmove"&&this.scrollZoom&&this.scrollZoom.zoomAxis&&this.scrollZoom.zoomAxis==="X")return!1;if(e.type==="wheel"){const{ControllerState:n}=this;return this.controllerState=new n({makeViewport:this.makeViewport,...this.controllerStateProps,...this._state}),this.onWheel(e)}else super.handleEvent(e)}}const PNe=({settings:t,deckSize:e,deckRef:n,jbrowseRef:i,mouseDownIsMinimap:l})=>{const[r,a]=T.useState("Y"),[s,o]=T.useState(window.screen.width<600?-1:0);ig=a;const[c,u]=T.useState(rM);T.useEffect(()=>{o(window.screen.width<600||t.treenomeEnabled?-1:0)},[t.treenomeEnabled]);const d=T.useMemo(()=>({...c,"browser-main":{zoom:0,target:[0,0]},"browser-axis":{zoom:0,target:[0,0]}}),[c]),m=T.useMemo(()=>[...t.minimapEnabled&&!t.treenomeEnabled?[new Js({id:"minimap",x:"79%",y:"1%",width:"20%",height:"35%",borderWidth:"1px",controller:!0})]:[],...t.treenomeEnabled?[new Js({id:"browser-axis",controller:!1,x:"40%",y:"0%",width:"60%"}),new Js({id:"browser-main",controller:!1,x:"40%",width:"60%"})]:[],new Js({id:"main",controller:{type:aM,scrollZoom:{smooth:!0,zoomAxis:r,xzoom:s}},width:t.treenomeEnabled?"40%":"100%",initialViewState:c}),...t.treenomeEnabled?[new Js({id:"main-overlay",controller:{type:aM,scrollZoom:{smooth:!0,zoomAxis:r,xzoom:s}},width:"100%",initialViewState:c})]:[]],[c,r,t.minimapEnabled,t.treenomeEnabled,s]),[h,b]=T.useState([0,0]),Z=T.useMemo(()=>[1/2**(c.zoom-s),0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],[c.zoom,s]),p=T.useCallback(({viewState:X,interactionState:L,viewId:x,oldViewState:v,basicTarget:C,overrideZoomAxis:w,specialMinimap:z})=>{if(!e)return;const $=w||r;if(x==="minimap")return;const ee=2**v.zoom,D=2**X.zoom;if(l&&!z&&ee===D)return;let j=2**s;if(C)X.target[0]=X.target[0]/D*j;else if(ee!==D)if($==="Y")X.target[0]=v.target[0]/D*ee;else{const E=X.zoom-v.zoom;o(H=>H+E),j=2**(s+E),X.zoom=v.zoom,X.target[0]=v.target[0]/ee*D}X.target=[...X.target],X.real_height=e.height/D,X.real_width=e.width/j,X.real_target=[...X.target],X.real_target[0]=X.real_target[0]*D/j;const _=[X.real_target[0]-X.real_width/2,X.real_target[1]-X.real_height/2],ce=[X.real_target[0]+X.real_width/2,X.real_target[1]+X.real_height/2];if(X.min_x=_[0],X.max_x=ce[0],X.min_y=_[1],X.max_y=ce[1],X.minimap={zoom:-3,target:[250,1e3]},i.current){const E=i.current.children[0].children[0].clientHeight,H=i.current.children[0].children[0].offsetParent.offsetParent.offsetLeft;if((h[0]>H&&h[1]<E||h[0]<0||h[1]<0)&&!C&&x)return}return(x==="main"||x==="main-overlay"||!x)&&(X["browser-main"]={...c["browser-main"],zoom:X.zoom,target:[c["browser-main"].target[0],X.target[1]]}),u(X),X},[r,s,e,c,i,h]),f=T.useCallback((X,L)=>{const x={...c};x.zoom+=X,p({viewState:x,interactionState:"isZooming",oldViewState:c,overrideZoomAxis:L})},[c,p]),G=T.useCallback(()=>{const X={...rM};o(0),u(X),p({viewState:X,interactionState:"isZooming",oldViewState:X})},[c,p]);return T.useMemo(()=>({viewState:c,setViewState:u,onViewStateChange:p,views:m,zoomAxis:r,setZoomAxis:a,modelMatrix:Z,zoomIncrement:f,xzoom:s,mouseXY:h,setMouseXY:b,baseViewState:d,zoomReset:G}),[c,u,p,m,r,a,Z,f,s,h,b,d,G])},FNe=100,zNe=100;function Dy(t){const e={...t,nodeLookup:Object.fromEntries(t.nodes.map(n=>[n.node_id,n]))};return console.log("cc"),e}function jNe(t,e,n,i,l){const{queryNodes:r}=t,[a,s]=T.useState({status:"not_started",data:[]});let[o,c]=T.useState(null),[u,d]=T.useState({}),[m,h]=T.useState(null);T.useEffect(()=>{if(!o||l!==o.xType||n.min_x<o.min_x+n.real_width/2||n.max_x>o.max_x-n.real_width/2||n.min_y<o.min_y+n.real_height/2||n.max_y>o.max_y-n.real_height/2||Math.abs(n.zoom-o.zoom)>.5){window.log&&console.log([n.min_x,o.min_x]),console.log("updating parameters to query");const Z={min_x:n.min_x-n.real_width,max_x:n.max_x+n.real_width,min_y:n.min_y-n.real_height,max_y:n.max_y+n.real_height,zoom:n.zoom,xType:l};c(Z),console.log("updating bounds",Z)}},[n,o,u,l,r]);const b=T.useMemo(()=>n.min_x&&a&&a.lastBounds&&a.lastBounds.min_x&&(n.min_x<a.lastBounds.min_x||n.max_x>a.lastBounds.max_x||n.min_y<a.lastBounds.min_y||n.max_y>a.lastBounds.max_y),[n,a]);return T.useEffect(()=>{i.title!=="loading"&&(clearTimeout(m),h(setTimeout(()=>{if(o){if(a.status==="loading"){console.log("not trying to get as we are still loading"),clearTimeout(m),h(setTimeout(()=>{d({})},zNe));return}console.log("attempting get"),s({...a,status:"loading"}),r(o,Z=>{console.log("got result, bounds were",o," result is "),s(p=>{const f={...p,status:"loaded",data:Dy(Z),lastBounds:o};return!o||isNaN(o.min_x)?f.base_data=Dy(Z):(!p.base_data||p.base_data_is_invalid)&&(console.log("query for minimap"),r(null,G=>{s(V=>({...V,status:"loaded",base_data:Dy(G),base_data_is_invalid:!1}))},void 0,i)),f})},d,i)}},FNe)))},[o,r,u,i]),{data:a,boundsForQueries:o,isCurrentlyOutsideBounds:b}}var HNe=function(e){return{r:parseInt(e.slice(1,3),16)/255,g:parseInt(e.slice(3,5),16)/255,b:parseInt(e.slice(5,7),16)/255}};function DNe(t){return"00".slice(t.length)+t}var ONe=function(e){return"#"+[e.r,e.g,e.b].map(function(n){return Math.round(n*255).toString(16)}).map(DNe).join("")},sM=HNe,BNe=ONe;function aK(t,e){t=sM(t),e=sM(e);var n=t.r,i=t.g,l=t.b,r=e.r-n,a=e.g-i,s=e.b-l;return function(o){return BNe({r:n+r*o,g:i+a*o,b:l+s*o})}}function QNe(t){for(var e=t.length-2,n=1/e,i=[],l=0;l<=e;l++)i[l]=aK(t[l],t[l+1]);return function(r){if(r<0||r>1)throw new Error("Outside the allowed range of [0, 1]");var a=Math.floor(r*e),s=a*n;return i[a](r/n-s/n)}}var S0={interpolate:aK,interpolateArray:QNe};const ANe=["#000004","#010005","#010106","#010108","#02010a","#02020c","#02020e","#030210","#040312","#040314","#050417","#060419","#07051b","#08051d","#09061f","#0a0722","#0b0724","#0c0826","#0d0829","#0e092b","#10092d","#110a30","#120a32","#140b34","#150b37","#160b39","#180c3c","#190c3e","#1b0c41","#1c0c43","#1e0c45","#1f0c48","#210c4a","#230c4c","#240c4f","#260c51","#280b53","#290b55","#2b0b57","#2d0b59","#2f0a5b","#310a5c","#320a5e","#340a5f","#360961","#380962","#390963","#3b0964","#3d0965","#3e0966","#400a67","#420a68","#440a68","#450a69","#470b6a","#490b6a","#4a0c6b","#4c0c6b","#4d0d6c","#4f0d6c","#510e6c","#520e6d","#540f6d","#550f6d","#57106e","#59106e","#5a116e","#5c126e","#5d126e","#5f136e","#61136e","#62146e","#64156e","#65156e","#67166e","#69166e","#6a176e","#6c186e","#6d186e","#6f196e","#71196e","#721a6e","#741a6e","#751b6e","#771c6d","#781c6d","#7a1d6d","#7c1d6d","#7d1e6d","#7f1e6c","#801f6c","#82206c","#84206b","#85216b","#87216b","#88226a","#8a226a","#8c2369","#8d2369","#8f2469","#902568","#922568","#932667","#952667","#972766","#982766","#9a2865","#9b2964","#9d2964","#9f2a63","#a02a63","#a22b62","#a32c61","#a52c60","#a62d60","#a82e5f","#a92e5e","#ab2f5e","#ad305d","#ae305c","#b0315b","#b1325a","#b3325a","#b43359","#b63458","#b73557","#b93556","#ba3655","#bc3754","#bd3853","#bf3952","#c03a51","#c13a50","#c33b4f","#c43c4e","#c63d4d","#c73e4c","#c83f4b","#ca404a","#cb4149","#cc4248","#ce4347","#cf4446","#d04545","#d24644","#d34743","#d44842","#d54a41","#d74b3f","#d84c3e","#d94d3d","#da4e3c","#db503b","#dd513a","#de5238","#df5337","#e05536","#e15635","#e25734","#e35933","#e45a31","#e55c30","#e65d2f","#e75e2e","#e8602d","#e9612b","#ea632a","#eb6429","#eb6628","#ec6726","#ed6925","#ee6a24","#ef6c23","#ef6e21","#f06f20","#f1711f","#f1731d","#f2741c","#f3761b","#f37819","#f47918","#f57b17","#f57d15","#f67e14","#f68013","#f78212","#f78410","#f8850f","#f8870e","#f8890c","#f98b0b","#f98c0a","#f98e09","#fa9008","#fa9207","#fa9407","#fb9606","#fb9706","#fb9906","#fb9b06","#fb9d07","#fc9f07","#fca108","#fca309","#fca50a","#fca60c","#fca80d","#fcaa0f","#fcac11","#fcae12","#fcb014","#fcb216","#fcb418","#fbb61a","#fbb81d","#fbba1f","#fbbc21","#fbbe23","#fac026","#fac228","#fac42a","#fac62d","#f9c72f","#f9c932","#f9cb35","#f8cd37","#f8cf3a","#f7d13d","#f7d340","#f6d543","#f6d746","#f5d949","#f5db4c","#f4dd4f","#f4df53","#f4e156","#f3e35a","#f3e55d","#f2e661","#f2e865","#f2ea69","#f1ec6d","#f1ed71","#f1ef75","#f1f179","#f2f27d","#f2f482","#f3f586","#f3f68a","#f4f88e","#f5f992","#f6fa96","#f8fb9a","#f9fc9d","#fafda1","#fcffa4"];var _Ne=S0.interpolateArray(ANe);const $Ne=["#000004","#010005","#010106","#010108","#020109","#02020b","#02020d","#03030f","#030312","#040414","#050416","#060518","#06051a","#07061c","#08071e","#090720","#0a0822","#0b0924","#0c0926","#0d0a29","#0e0b2b","#100b2d","#110c2f","#120d31","#130d34","#140e36","#150e38","#160f3b","#180f3d","#19103f","#1a1042","#1c1044","#1d1147","#1e1149","#20114b","#21114e","#221150","#241253","#251255","#271258","#29115a","#2a115c","#2c115f","#2d1161","#2f1163","#311165","#331067","#341069","#36106b","#38106c","#390f6e","#3b0f70","#3d0f71","#3f0f72","#400f74","#420f75","#440f76","#451077","#471078","#491078","#4a1079","#4c117a","#4e117b","#4f127b","#51127c","#52137c","#54137d","#56147d","#57157e","#59157e","#5a167e","#5c167f","#5d177f","#5f187f","#601880","#621980","#641a80","#651a80","#671b80","#681c81","#6a1c81","#6b1d81","#6d1d81","#6e1e81","#701f81","#721f81","#732081","#752181","#762181","#782281","#792282","#7b2382","#7c2382","#7e2482","#802582","#812581","#832681","#842681","#862781","#882781","#892881","#8b2981","#8c2981","#8e2a81","#902a81","#912b81","#932b80","#942c80","#962c80","#982d80","#992d80","#9b2e7f","#9c2e7f","#9e2f7f","#a02f7f","#a1307e","#a3307e","#a5317e","#a6317d","#a8327d","#aa337d","#ab337c","#ad347c","#ae347b","#b0357b","#b2357b","#b3367a","#b5367a","#b73779","#b83779","#ba3878","#bc3978","#bd3977","#bf3a77","#c03a76","#c23b75","#c43c75","#c53c74","#c73d73","#c83e73","#ca3e72","#cc3f71","#cd4071","#cf4070","#d0416f","#d2426f","#d3436e","#d5446d","#d6456c","#d8456c","#d9466b","#db476a","#dc4869","#de4968","#df4a68","#e04c67","#e24d66","#e34e65","#e44f64","#e55064","#e75263","#e85362","#e95462","#ea5661","#eb5760","#ec5860","#ed5a5f","#ee5b5e","#ef5d5e","#f05f5e","#f1605d","#f2625d","#f2645c","#f3655c","#f4675c","#f4695c","#f56b5c","#f66c5c","#f66e5c","#f7705c","#f7725c","#f8745c","#f8765c","#f9785d","#f9795d","#f97b5d","#fa7d5e","#fa7f5e","#fa815f","#fb835f","#fb8560","#fb8761","#fc8961","#fc8a62","#fc8c63","#fc8e64","#fc9065","#fd9266","#fd9467","#fd9668","#fd9869","#fd9a6a","#fd9b6b","#fe9d6c","#fe9f6d","#fea16e","#fea36f","#fea571","#fea772","#fea973","#feaa74","#feac76","#feae77","#feb078","#feb27a","#feb47b","#feb67c","#feb77e","#feb97f","#febb81","#febd82","#febf84","#fec185","#fec287","#fec488","#fec68a","#fec88c","#feca8d","#fecc8f","#fecd90","#fecf92","#fed194","#fed395","#fed597","#fed799","#fed89a","#fdda9c","#fddc9e","#fddea0","#fde0a1","#fde2a3","#fde3a5","#fde5a7","#fde7a9","#fde9aa","#fdebac","#fcecae","#fceeb0","#fcf0b2","#fcf2b4","#fcf4b6","#fcf6b8","#fcf7b9","#fcf9bb","#fcfbbd","#fcfdbf"];var qNe=S0.interpolateArray($Ne);const eve=["#0d0887","#100788","#130789","#16078a","#19068c","#1b068d","#1d068e","#20068f","#220690","#240691","#260591","#280592","#2a0593","#2c0594","#2e0595","#2f0596","#310597","#330597","#350498","#370499","#38049a","#3a049a","#3c049b","#3e049c","#3f049c","#41049d","#43039e","#44039e","#46039f","#48039f","#4903a0","#4b03a1","#4c02a1","#4e02a2","#5002a2","#5102a3","#5302a3","#5502a4","#5601a4","#5801a4","#5901a5","#5b01a5","#5c01a6","#5e01a6","#6001a6","#6100a7","#6300a7","#6400a7","#6600a7","#6700a8","#6900a8","#6a00a8","#6c00a8","#6e00a8","#6f00a8","#7100a8","#7201a8","#7401a8","#7501a8","#7701a8","#7801a8","#7a02a8","#7b02a8","#7d03a8","#7e03a8","#8004a8","#8104a7","#8305a7","#8405a7","#8606a6","#8707a6","#8808a6","#8a09a5","#8b0aa5","#8d0ba5","#8e0ca4","#8f0da4","#910ea3","#920fa3","#9410a2","#9511a1","#9613a1","#9814a0","#99159f","#9a169f","#9c179e","#9d189d","#9e199d","#a01a9c","#a11b9b","#a21d9a","#a31e9a","#a51f99","#a62098","#a72197","#a82296","#aa2395","#ab2494","#ac2694","#ad2793","#ae2892","#b02991","#b12a90","#b22b8f","#b32c8e","#b42e8d","#b52f8c","#b6308b","#b7318a","#b83289","#ba3388","#bb3488","#bc3587","#bd3786","#be3885","#bf3984","#c03a83","#c13b82","#c23c81","#c33d80","#c43e7f","#c5407e","#c6417d","#c7427c","#c8437b","#c9447a","#ca457a","#cb4679","#cc4778","#cc4977","#cd4a76","#ce4b75","#cf4c74","#d04d73","#d14e72","#d24f71","#d35171","#d45270","#d5536f","#d5546e","#d6556d","#d7566c","#d8576b","#d9586a","#da5a6a","#da5b69","#db5c68","#dc5d67","#dd5e66","#de5f65","#de6164","#df6263","#e06363","#e16462","#e26561","#e26660","#e3685f","#e4695e","#e56a5d","#e56b5d","#e66c5c","#e76e5b","#e76f5a","#e87059","#e97158","#e97257","#ea7457","#eb7556","#eb7655","#ec7754","#ed7953","#ed7a52","#ee7b51","#ef7c51","#ef7e50","#f07f4f","#f0804e","#f1814d","#f1834c","#f2844b","#f3854b","#f3874a","#f48849","#f48948","#f58b47","#f58c46","#f68d45","#f68f44","#f79044","#f79143","#f79342","#f89441","#f89540","#f9973f","#f9983e","#f99a3e","#fa9b3d","#fa9c3c","#fa9e3b","#fb9f3a","#fba139","#fba238","#fca338","#fca537","#fca636","#fca835","#fca934","#fdab33","#fdac33","#fdae32","#fdaf31","#fdb130","#fdb22f","#fdb42f","#fdb52e","#feb72d","#feb82c","#feba2c","#febb2b","#febd2a","#febe2a","#fec029","#fdc229","#fdc328","#fdc527","#fdc627","#fdc827","#fdca26","#fdcb26","#fccd25","#fcce25","#fcd025","#fcd225","#fbd324","#fbd524","#fbd724","#fad824","#fada24","#f9dc24","#f9dd25","#f8df25","#f8e125","#f7e225","#f7e425","#f6e626","#f6e826","#f5e926","#f5eb27","#f4ed27","#f3ee27","#f3f027","#f2f227","#f1f426","#f1f525","#f0f724","#f0f921"];var tve=S0.interpolateArray(eve);const nve=["#440154","#440256","#450457","#450559","#46075a","#46085c","#460a5d","#460b5e","#470d60","#470e61","#471063","#471164","#471365","#481467","#481668","#481769","#48186a","#481a6c","#481b6d","#481c6e","#481d6f","#481f70","#482071","#482173","#482374","#482475","#482576","#482677","#482878","#482979","#472a7a","#472c7a","#472d7b","#472e7c","#472f7d","#46307e","#46327e","#46337f","#463480","#453581","#453781","#453882","#443983","#443a83","#443b84","#433d84","#433e85","#423f85","#424086","#424186","#414287","#414487","#404588","#404688","#3f4788","#3f4889","#3e4989","#3e4a89","#3e4c8a","#3d4d8a","#3d4e8a","#3c4f8a","#3c508b","#3b518b","#3b528b","#3a538b","#3a548c","#39558c","#39568c","#38588c","#38598c","#375a8c","#375b8d","#365c8d","#365d8d","#355e8d","#355f8d","#34608d","#34618d","#33628d","#33638d","#32648e","#32658e","#31668e","#31678e","#31688e","#30698e","#306a8e","#2f6b8e","#2f6c8e","#2e6d8e","#2e6e8e","#2e6f8e","#2d708e","#2d718e","#2c718e","#2c728e","#2c738e","#2b748e","#2b758e","#2a768e","#2a778e","#2a788e","#29798e","#297a8e","#297b8e","#287c8e","#287d8e","#277e8e","#277f8e","#27808e","#26818e","#26828e","#26828e","#25838e","#25848e","#25858e","#24868e","#24878e","#23888e","#23898e","#238a8d","#228b8d","#228c8d","#228d8d","#218e8d","#218f8d","#21908d","#21918c","#20928c","#20928c","#20938c","#1f948c","#1f958b","#1f968b","#1f978b","#1f988b","#1f998a","#1f9a8a","#1e9b8a","#1e9c89","#1e9d89","#1f9e89","#1f9f88","#1fa088","#1fa188","#1fa187","#1fa287","#20a386","#20a486","#21a585","#21a685","#22a785","#22a884","#23a983","#24aa83","#25ab82","#25ac82","#26ad81","#27ad81","#28ae80","#29af7f","#2ab07f","#2cb17e","#2db27d","#2eb37c","#2fb47c","#31b57b","#32b67a","#34b679","#35b779","#37b878","#38b977","#3aba76","#3bbb75","#3dbc74","#3fbc73","#40bd72","#42be71","#44bf70","#46c06f","#48c16e","#4ac16d","#4cc26c","#4ec36b","#50c46a","#52c569","#54c568","#56c667","#58c765","#5ac864","#5cc863","#5ec962","#60ca60","#63cb5f","#65cb5e","#67cc5c","#69cd5b","#6ccd5a","#6ece58","#70cf57","#73d056","#75d054","#77d153","#7ad151","#7cd250","#7fd34e","#81d34d","#84d44b","#86d549","#89d548","#8bd646","#8ed645","#90d743","#93d741","#95d840","#98d83e","#9bd93c","#9dd93b","#a0da39","#a2da37","#a5db36","#a8db34","#aadc32","#addc30","#b0dd2f","#b2dd2d","#b5de2b","#b8de29","#bade28","#bddf26","#c0df25","#c2df23","#c5e021","#c8e020","#cae11f","#cde11d","#d0e11c","#d2e21b","#d5e21a","#d8e219","#dae319","#dde318","#dfe318","#e2e418","#e5e419","#e7e419","#eae51a","#ece51b","#efe51c","#f1e51d","#f4e61e","#f6e620","#f8e621","#fbe723","#fde725"];var ive=S0.interpolateArray(nve),lve={inferno:_Ne,magma:qNe,plasma:tve,viridis:ive};const rve=Kl(lve);let Oy={};const ave=t=>{const e=T.useCallback(r=>{if(typeof r=="number"){const d=Math.log10(r),m=rve.plasma(d/10),h=[parseInt(m.slice(1,3),16),parseInt(m.slice(3,5),16),parseInt(m.slice(5,7),16)];return console.log(h),h}if(r in t)return t[r];const a={A:[230,25,75],R:[60,180,75],N:[255,225,25],D:[67,99,216],C:[245,130,49],Q:[70,240,240],E:[145,30,180],G:[240,50,230],H:[188,246,12],I:[250,190,190],L:[230,0,255],K:[0,128,128],M:[154,99,36],F:[154,60,256],P:[128,0,0],T:[170,255,195],W:[128,128,0],Y:[0,0,117],V:[0,100,177],X:[128,128,128],O:[255,255,255],Z:[0,0,0]};if(a[r])return a[r];if(r===void 0)return[200,200,200];if(r==="")return[200,200,200];if(r==="unknown")return[200,200,200];if(r==="None")return[220,220,220];if(r==="N/A")return[180,180,180];if(r==="NA")return[180,180,180];if(r==="USA")return[95,158,245];if(r==="B.1.2")return[95,158,245];if(r==="South_Africa")return[9,191,255];if(r==="England")return[214,58,15];if(r==="Scotland")return[255,130,82];if(r==="North America")return[200,200,50];if(r==="South America")return[200,100,50];if(r==="Wales")return[148,49,22];if(r==="Northern Ireland")return[140,42,15];if(r==="France")return[140,28,120];if(r==="Germany")return[106,140,28];if(r==="India")return[61,173,166];if(r==="Denmark")return[24,112,32];if(r==="OXFORD_NANOPORE")return[24,32,200];if(r==="ION_TORRENT")return[24,160,32];if(r==="Democratic Republic of the Congo")return[17,58,99];r=r.split("").reverse().join("");var s=0;if(r.length===0)return s;for(var o=0;o<r.length;o++)s=r.charCodeAt(o)+((s<<5)-s),s=s&s;var c=[0,0,0];for(o=0;o<3;o++){var u=s>>o*8&255;c[o]=u}return c[0]+c[1]+c[2]<150||c[0]+c[1]+c[2]>500?e(r+"_"):c},[t]),n=T.useCallback(r=>{if(Oy[r]&&!t[r])return Oy[r];{const a=e(r);return Oy[r]=a,a}},[e]),i=T.useCallback(r=>{const a=n(r);return`rgb(${a[0]},${a[1]},${a[2]})`},[n]);return T.useMemo(()=>({toRGB:n,toRGBCSS:i}),[n,i])},lg=sE(null,"aa1");window.location.hostname.includes("visualtreeoflife.taxonium.org")&&(lg.type="meta_name");const sve={srch:JSON.stringify([lg]),enabled:JSON.stringify({[lg.key]:!0}),backend:"",xType:"x_dist",mutationTypesEnabled:JSON.stringify({aa:!0,nt:!1}),treenomeEnabled:!1},E2=t=>({...sve});function Ch(t,e,n){if(n==="max")return e(t.reduce(function(i,l){return e(l)>e(i)?l:i}));if(n==="min")return e(t.reduce(function(i,l){return e(l)<e(i)?l:i}))}const oM=E2(),ove=({data:t,config:e,boundsForQueries:n,view:i,backend:l,query:r,updateQuery:a,deckSize:s,xType:o,settings:c})=>{const{singleSearch:u}=l,[d,m]=T.useState([]),[h,b]=T.useState({}),Z=T.useMemo(()=>r.srch?JSON.parse(r.srch):JSON.parse(oM.srch),[r.srch]),[p,f]=T.useState(r.zoomToSearch?{index:r.zoomToSearch}:null),G=r.enabled?JSON.parse(r.enabled):JSON.parse(oM.enabled),V=(H,de)=>{console.log("setEnabled",H,de);const ue={...G,[H]:de};a({enabled:JSON.stringify(ue)})},X=H=>{a({srch:JSON.stringify(H)})},[L,x]=T.useState({}),[v,C]=T.useState({}),w=T.useRef({}),[z,$]=T.useState({}),ee=(H,de)=>{$(ue=>({...ue,[H]:de}))},D=T.useCallback((H,de,ue,U)=>{const k=JSON.stringify({key:H,this_json:de,boundsForQueries:ue});if(d.includes(k))return;m(O=>[...O,k]),h[H]&&h[H].forEach(O=>{O&&ue==O.bounds&&(console.log("cancelling for ",H),O.con.abort())}),h[H]=[];const{abortController:A}=u(de,ue,O=>{m(le=>le.filter(Ge=>Ge!==k)),U(O)});h[H]=[...h[H],{con:A,bounds:ue}],b({...h})},[h,u,d]);T.useEffect(()=>{const H=Z.map(le=>le.key);Object.keys(L).filter(le=>!H.includes(le)).forEach(le=>{delete L[le]});const U={};Z.forEach(le=>{U[le.key]=JSON.stringify(le)});const Q=Object.keys(U).filter(le=>U[le]!==v[le]),k=Object.keys(L).filter(le=>L[le].result.type!=="complete"&&L[le].boundingBox!==n?(console.log("result_changed",le,L[le].boundingBox,n),!0):!1);Q.length>0&&C(U);const A=Q.concat(k),O=[...new Set(A)];O.length>0&&O.forEach(le=>{console.log("searching for "+le,JSON.parse(U[le]));const Ge=U[le];console.log("performing search");const ve=()=>{ee(le,"loading"),D(le,Ge,n,fe=>{x(Pe=>{const xe={boundingBox:n,result:fe};return fe.type==="complete"?xe.overview=fe.data:Pe[le]&&Pe[le].overview&&!Q.includes(le)?xe.overview=Pe[le].overview:!n||isNaN(n.min_x)?xe.overview=fe.data:D(le,Ge,null,je=>{x(Le=>{let ct=Le[le];return ct?ct.overview=je.data:ct={overview:je.data},{...Le,[le]:ct}})}),{...Pe,[le]:xe}}),ee(le,"loaded")})};w.current[le]&&(clearTimeout(w.current[le]),console.log("clearing timeout")),w.current[le]=setTimeout(ve,500)})},[Z,L,v,u,D,n]);const j=()=>{console.log("addNewTopLevelSearch");const H=sE(e);X([...Z,H]),setTimeout(()=>{V(H.key,!0)},50)},_=H=>{X(Z.filter(de=>de.key!==H))},ce=[[255,0,0],[0,0,255],[0,255,0],[255,0,255],[0,255,255],[255,255,0]],E=H=>ce[H%ce.length];return T.useEffect(()=>{if(p&&s){const{index:H}=p,de=L[Z[H].key];if(!de){console.log("no search results for index",H),console.log(L);return}const{overview:ue}=de;if(!ue||ue.length===0){console.log("no overview for index",H);return}const U=Ch(ue,fe=>fe.y,"min"),Q=Ch(ue,fe=>fe.y,"max"),k=Ch(ue,fe=>fe[o],"min"),A=Ch(ue,fe=>fe[o],"max");console.log("Doing zoom",U,Q,k,A);const O={...i.viewState},le=9-Math.log2(Q-U+5e4/(e.num_nodes?e.num_nodes:1e4)),Ge=c.treenomeEnabled?[O.target[0],(U+Q)/2]:[(k+A)/2,(U+Q)/2],ve={...i.viewState,real_target:void 0,target:Ge,zoom:le};console.log("zoom to search new VS",ve.target[0],ve.target[1]),i.onViewStateChange({viewState:ve,interactionState:"isZooming",oldViewState:O,basicTarget:!c.treenomeEnabled}),a({zoomToSearch:void 0}),f(void 0)}},[p,L,s,e.num_nodes,c.treenomeEnabled,Z,a,i,o]),{searchResults:L,searchSpec:Z,setSearchSpec:X,addNewTopLevelSearch:j,deleteTopLevelSearch:_,getLineColor:E,setZoomToSearch:f,searchesEnabled:G,setEnabled:V,searchLoadingStatus:z}};let cu={},cM=null,uM=null;function cve(t,e,n){const i=T.useMemo(()=>e.color?JSON.parse(e.color):{},[e.color]),l=i.field?i.field:t.defaultColorByField?t.defaultColorByField:"meta_pangolin_lineage",r=i.gene?i.gene:t.genes&&t.genes.includes("S")?"S":"nt",a=i.pos!==void 0?i.pos:484,{colorByOptions:s}=t.colorBy?t.colorBy:{colorByOptions:[]};window.cc=cu;const o=T.useCallback(m=>{n({color:JSON.stringify({...i,field:m})})},[i,n]),c=T.useCallback(m=>{n({color:JSON.stringify({...i,gene:m})})},[i,n]),u=T.useCallback(m=>{n({color:JSON.stringify({...i,pos:m})})},[i,n]),d=T.useCallback((m,h)=>{if((a!=cM||r!=uM)&&(cu={},cM=a,uM=r),l==="None")return"None";if(l==="genotype"){if(cu[m.node_id])return cu[m.node_id];let b;const Z=m.mutations.filter(p=>p.residue_pos===a&&p.gene===r);if(Z.length>0)b=Z[0].new_residue;else{const p=m.parent_id;p===m.node_id?b="X":h&&h.nodeLookup&&h.nodeLookup[p]?b=d(h.nodeLookup[p],h):b="X"}return cu[m.node_id]=b,b}else return m[l]},[l,r,a]);return T.useMemo(()=>({colorByField:l,setColorByField:o,colorByOptions:s,getNodeColorField:d,colorByPosition:a,setColorByPosition:u,colorByGene:r,setColorByGene:c}),[l,s,d,a,r,o,c,u])}function dM(t,e){const[n,i]=T.useState(null),l=T.useRef(null),r=T.useCallback(s=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{e.getDetails(s,i)},50)},[e]),a=T.useCallback(()=>{i(null)},[]);return{nodeDetails:n,getNodeDetails:r,clearNodeDetails:a}}function uve(){const[t,e]=T.useState(null),n=T.useCallback(()=>{e(null)},[]);return{nodeDetails:t,setNodeDetails:e,clearNodeDetails:n}}const sK="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBjb21tb25qc0dsb2JhbD10eXBlb2YgZ2xvYmFsVGhpczwidSI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93PCJ1Ij93aW5kb3c6dHlwZW9mIGdsb2JhbDwidSI/Z2xvYmFsOnR5cGVvZiBzZWxmPCJ1Ij9zZWxmOnt9O2Z1bmN0aW9uIGdldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCJkZWZhdWx0Iik/ZS5kZWZhdWx0OmV9dmFyIGNyeXB0b0Jyb3dzZXJpZnk9e30sYnVmZmVyJDI9e30sYmFzZTY0SnM9e307YmFzZTY0SnMuYnl0ZUxlbmd0aD1ieXRlTGVuZ3RoLGJhc2U2NEpzLnRvQnl0ZUFycmF5PXRvQnl0ZUFycmF5LGJhc2U2NEpzLmZyb21CeXRlQXJyYXk9ZnJvbUJ5dGVBcnJheTtmb3IodmFyIGxvb2t1cD1bXSxyZXZMb29rdXA9W10sQXJyPXR5cGVvZiBVaW50OEFycmF5PCJ1Ij9VaW50OEFycmF5OkFycmF5LGNvZGU9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLGk9MCxsZW49Y29kZS5sZW5ndGg7aTxsZW47KytpKWxvb2t1cFtpXT1jb2RlW2ldLHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldPWk7cmV2TG9va3VwWyItIi5jaGFyQ29kZUF0KDApXT02MixyZXZMb29rdXBbIl8iLmNoYXJDb2RlQXQoMCldPTYzO2Z1bmN0aW9uIGdldExlbnMoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodCU0PjApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Iik7dmFyIG49ZS5pbmRleE9mKCI9Iik7bj09PS0xJiYobj10KTt2YXIgYT1uPT09dD8wOjQtbiU0O3JldHVybltuLGFdfWZ1bmN0aW9uIGJ5dGVMZW5ndGgoZSl7dmFyIHQ9Z2V0TGVucyhlKSxuPXRbMF0sYT10WzFdO3JldHVybihuK2EpKjMvNC1hfWZ1bmN0aW9uIF9ieXRlTGVuZ3RoKGUsdCxuKXtyZXR1cm4odCtuKSozLzQtbn1mdW5jdGlvbiB0b0J5dGVBcnJheShlKXt2YXIgdCxuPWdldExlbnMoZSksYT1uWzBdLHU9blsxXSxvPW5ldyBBcnIoX2J5dGVMZW5ndGgoZSxhLHUpKSxoPTAsZD11PjA/YS00OmEsdztmb3Iodz0wO3c8ZDt3Kz00KXQ9cmV2TG9va3VwW2UuY2hhckNvZGVBdCh3KV08PDE4fHJldkxvb2t1cFtlLmNoYXJDb2RlQXQodysxKV08PDEyfHJldkxvb2t1cFtlLmNoYXJDb2RlQXQodysyKV08PDZ8cmV2TG9va3VwW2UuY2hhckNvZGVBdCh3KzMpXSxvW2grK109dD4+MTYmMjU1LG9baCsrXT10Pj44JjI1NSxvW2grK109dCYyNTU7cmV0dXJuIHU9PT0yJiYodD1yZXZMb29rdXBbZS5jaGFyQ29kZUF0KHcpXTw8MnxyZXZMb29rdXBbZS5jaGFyQ29kZUF0KHcrMSldPj40LG9baCsrXT10JjI1NSksdT09PTEmJih0PXJldkxvb2t1cFtlLmNoYXJDb2RlQXQodyldPDwxMHxyZXZMb29rdXBbZS5jaGFyQ29kZUF0KHcrMSldPDw0fHJldkxvb2t1cFtlLmNoYXJDb2RlQXQodysyKV0+PjIsb1toKytdPXQ+PjgmMjU1LG9baCsrXT10JjI1NSksb31mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQoZSl7cmV0dXJuIGxvb2t1cFtlPj4xOCY2M10rbG9va3VwW2U+PjEyJjYzXStsb29rdXBbZT4+NiY2M10rbG9va3VwW2UmNjNdfWZ1bmN0aW9uIGVuY29kZUNodW5rKGUsdCxuKXtmb3IodmFyIGEsdT1bXSxvPXQ7bzxuO28rPTMpYT0oZVtvXTw8MTYmMTY3MTE2ODApKyhlW28rMV08PDgmNjUyODApKyhlW28rMl0mMjU1KSx1LnB1c2godHJpcGxldFRvQmFzZTY0KGEpKTtyZXR1cm4gdS5qb2luKCIiKX1mdW5jdGlvbiBmcm9tQnl0ZUFycmF5KGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoLGE9biUzLHU9W10sbz0xNjM4MyxoPTAsZD1uLWE7aDxkO2grPW8pdS5wdXNoKGVuY29kZUNodW5rKGUsaCxoK28+ZD9kOmgrbykpO3JldHVybiBhPT09MT8odD1lW24tMV0sdS5wdXNoKGxvb2t1cFt0Pj4yXStsb29rdXBbdDw8NCY2M10rIj09IikpOmE9PT0yJiYodD0oZVtuLTJdPDw4KStlW24tMV0sdS5wdXNoKGxvb2t1cFt0Pj4xMF0rbG9va3VwW3Q+PjQmNjNdK2xvb2t1cFt0PDwyJjYzXSsiPSIpKSx1LmpvaW4oIiIpfXZhciBpZWVlNzU0PXt9Oy8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovaWVlZTc1NC5yZWFkPWZ1bmN0aW9uKGUsdCxuLGEsdSl7dmFyIG8saCxkPXUqOC1hLTEsdz0oMTw8ZCktMSxfPXc+PjEsYj0tNyxNPW4/dS0xOjAsTz1uPy0xOjEsVD1lW3QrTV07Zm9yKE0rPU8sbz1UJigxPDwtYiktMSxUPj49LWIsYis9ZDtiPjA7bz1vKjI1NitlW3QrTV0sTSs9TyxiLT04KTtmb3IoaD1vJigxPDwtYiktMSxvPj49LWIsYis9YTtiPjA7aD1oKjI1NitlW3QrTV0sTSs9TyxiLT04KTtpZihvPT09MClvPTEtXztlbHNle2lmKG89PT13KXJldHVybiBoP05hTjooVD8tMToxKSooMS8wKTtoPWgrTWF0aC5wb3coMixhKSxvPW8tX31yZXR1cm4oVD8tMToxKSpoKk1hdGgucG93KDIsby1hKX0saWVlZTc1NC53cml0ZT1mdW5jdGlvbihlLHQsbixhLHUsbyl7dmFyIGgsZCx3LF89byo4LXUtMSxiPSgxPDxfKS0xLE09Yj4+MSxPPXU9PT0yMz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsVD1hPzA6by0xLFA9YT8xOi0xLEw9dDwwfHx0PT09MCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhkPWlzTmFOKHQpPzE6MCxoPWIpOihoPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKHc9TWF0aC5wb3coMiwtaCkpPDEmJihoLS0sdyo9MiksaCtNPj0xP3QrPU8vdzp0Kz1PKk1hdGgucG93KDIsMS1NKSx0Knc+PTImJihoKyssdy89MiksaCtNPj1iPyhkPTAsaD1iKTpoK00+PTE/KGQ9KHQqdy0xKSpNYXRoLnBvdygyLHUpLGg9aCtNKTooZD10Kk1hdGgucG93KDIsTS0xKSpNYXRoLnBvdygyLHUpLGg9MCkpO3U+PTg7ZVtuK1RdPWQmMjU1LFQrPVAsZC89MjU2LHUtPTgpO2ZvcihoPWg8PHV8ZCxfKz11O18+MDtlW24rVF09aCYyNTUsVCs9UCxoLz0yNTYsXy09OCk7ZVtuK1QtUF18PUwqMTI4fTsvKiEKICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuCiAqCiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+CiAqIEBsaWNlbnNlICBNSVQKICovKGZ1bmN0aW9uKGUpe3ZhciB0PWJhc2U2NEpzLG49aWVlZTc1NCxhPXR5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJnR5cGVvZiBTeW1ib2wuZm9yPT0iZnVuY3Rpb24iP1N5bWJvbC5mb3IoIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tIik6bnVsbDtlLkJ1ZmZlcj1kLGUuU2xvd0J1ZmZlcj1WLGUuSU5TUEVDVF9NQVhfQllURVM9NTA7dmFyIHU9MjE0NzQ4MzY0NztlLmtNYXhMZW5ndGg9dSxkLlRZUEVEX0FSUkFZX1NVUFBPUlQ9bygpLCFkLlRZUEVEX0FSUkFZX1NVUFBPUlQmJnR5cGVvZiBjb25zb2xlPCJ1IiYmdHlwZW9mIGNvbnNvbGUuZXJyb3I9PSJmdW5jdGlvbiImJmNvbnNvbGUuZXJyb3IoIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LiIpO2Z1bmN0aW9uIG8oKXt0cnl7dmFyIFk9bmV3IFVpbnQ4QXJyYXkoMSksTj17Zm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX07cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihOLFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoWSxOKSxZLmZvbygpPT09NDJ9Y2F0Y2h7cmV0dXJuITF9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShkLnByb3RvdHlwZSwicGFyZW50Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZihkLmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ1ZmZlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5wcm90b3R5cGUsIm9mZnNldCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoZC5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0fX0pO2Z1bmN0aW9uIGgoWSl7aWYoWT51KXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgIicrWSsnIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gInNpemUiJyk7dmFyIE49bmV3IFVpbnQ4QXJyYXkoWSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihOLGQucHJvdG90eXBlKSxOfWZ1bmN0aW9uIGQoWSxOLEMpe2lmKHR5cGVvZiBZPT0ibnVtYmVyIil7aWYodHlwZW9mIE49PSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAic3RyaW5nIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO3JldHVybiBNKFkpfXJldHVybiB3KFksTixDKX1kLnBvb2xTaXplPTgxOTI7ZnVuY3Rpb24gdyhZLE4sQyl7aWYodHlwZW9mIFk9PSJzdHJpbmciKXJldHVybiBPKFksTik7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KFkpKXJldHVybiBQKFkpO2lmKFk9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgIit0eXBlb2YgWSk7aWYodWUoWSxBcnJheUJ1ZmZlcil8fFkmJnVlKFkuYnVmZmVyLEFycmF5QnVmZmVyKXx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPCJ1IiYmKHVlKFksU2hhcmVkQXJyYXlCdWZmZXIpfHxZJiZ1ZShZLmJ1ZmZlcixTaGFyZWRBcnJheUJ1ZmZlcikpKXJldHVybiBMKFksTixDKTtpZih0eXBlb2YgWT09Im51bWJlciIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7dmFyIFo9WS52YWx1ZU9mJiZZLnZhbHVlT2YoKTtpZihaIT1udWxsJiZaIT09WSlyZXR1cm4gZC5mcm9tKFosTixDKTt2YXIgc2U9eihZKTtpZihzZSlyZXR1cm4gc2U7aWYodHlwZW9mIFN5bWJvbDwidSImJlN5bWJvbC50b1ByaW1pdGl2ZSE9bnVsbCYmdHlwZW9mIFlbU3ltYm9sLnRvUHJpbWl0aXZlXT09ImZ1bmN0aW9uIilyZXR1cm4gZC5mcm9tKFlbU3ltYm9sLnRvUHJpbWl0aXZlXSgic3RyaW5nIiksTixDKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAiK3R5cGVvZiBZKX1kLmZyb209ZnVuY3Rpb24oWSxOLEMpe3JldHVybiB3KFksTixDKX0sT2JqZWN0LnNldFByb3RvdHlwZU9mKGQucHJvdG90eXBlLFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoZCxVaW50OEFycmF5KTtmdW5jdGlvbiBfKFkpe2lmKHR5cGVvZiBZIT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO2lmKFk8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlICInK1krJyIgaXMgaW52YWxpZCBmb3Igb3B0aW9uICJzaXplIicpfWZ1bmN0aW9uIGIoWSxOLEMpe3JldHVybiBfKFkpLFk8PTA/aChZKTpOIT09dm9pZCAwP3R5cGVvZiBDPT0ic3RyaW5nIj9oKFkpLmZpbGwoTixDKTpoKFkpLmZpbGwoTik6aChZKX1kLmFsbG9jPWZ1bmN0aW9uKFksTixDKXtyZXR1cm4gYihZLE4sQyl9O2Z1bmN0aW9uIE0oWSl7cmV0dXJuIF8oWSksaChZPDA/MDpIKFkpfDApfWQuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oWSl7cmV0dXJuIE0oWSl9LGQuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKFkpe3JldHVybiBNKFkpfTtmdW5jdGlvbiBPKFksTil7aWYoKHR5cGVvZiBOIT0ic3RyaW5nInx8Tj09PSIiKSYmKE49InV0ZjgiKSwhZC5pc0VuY29kaW5nKE4pKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrTik7dmFyIEM9YWUoWSxOKXwwLFo9aChDKSxzZT1aLndyaXRlKFksTik7cmV0dXJuIHNlIT09QyYmKFo9Wi5zbGljZSgwLHNlKSksWn1mdW5jdGlvbiBUKFkpe2Zvcih2YXIgTj1ZLmxlbmd0aDwwPzA6SChZLmxlbmd0aCl8MCxDPWgoTiksWj0wO1o8TjtaKz0xKUNbWl09WVtaXSYyNTU7cmV0dXJuIEN9ZnVuY3Rpb24gUChZKXtpZih1ZShZLFVpbnQ4QXJyYXkpKXt2YXIgTj1uZXcgVWludDhBcnJheShZKTtyZXR1cm4gTChOLmJ1ZmZlcixOLmJ5dGVPZmZzZXQsTi5ieXRlTGVuZ3RoKX1yZXR1cm4gVChZKX1mdW5jdGlvbiBMKFksTixDKXtpZihOPDB8fFkuYnl0ZUxlbmd0aDxOKXRocm93IG5ldyBSYW5nZUVycm9yKCcib2Zmc2V0IiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZihZLmJ5dGVMZW5ndGg8TisoQ3x8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJsZW5ndGgiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO3ZhciBaO3JldHVybiBOPT09dm9pZCAwJiZDPT09dm9pZCAwP1o9bmV3IFVpbnQ4QXJyYXkoWSk6Qz09PXZvaWQgMD9aPW5ldyBVaW50OEFycmF5KFksTik6Wj1uZXcgVWludDhBcnJheShZLE4sQyksT2JqZWN0LnNldFByb3RvdHlwZU9mKFosZC5wcm90b3R5cGUpLFp9ZnVuY3Rpb24geihZKXtpZihkLmlzQnVmZmVyKFkpKXt2YXIgTj1IKFkubGVuZ3RoKXwwLEM9aChOKTtyZXR1cm4gQy5sZW5ndGg9PT0wfHxZLmNvcHkoQywwLDAsTiksQ31pZihZLmxlbmd0aCE9PXZvaWQgMClyZXR1cm4gdHlwZW9mIFkubGVuZ3RoIT0ibnVtYmVyInx8cGUoWS5sZW5ndGgpP2goMCk6VChZKTtpZihZLnR5cGU9PT0iQnVmZmVyIiYmQXJyYXkuaXNBcnJheShZLmRhdGEpKXJldHVybiBUKFkuZGF0YSl9ZnVuY3Rpb24gSChZKXtpZihZPj11KXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4Iit1LnRvU3RyaW5nKDE2KSsiIGJ5dGVzIik7cmV0dXJuIFl8MH1mdW5jdGlvbiBWKFkpe3JldHVybitZIT1ZJiYoWT0wKSxkLmFsbG9jKCtZKX1kLmlzQnVmZmVyPWZ1bmN0aW9uKE4pe3JldHVybiBOIT1udWxsJiZOLl9pc0J1ZmZlcj09PSEwJiZOIT09ZC5wcm90b3R5cGV9LGQuY29tcGFyZT1mdW5jdGlvbihOLEMpe2lmKHVlKE4sVWludDhBcnJheSkmJihOPWQuZnJvbShOLE4ub2Zmc2V0LE4uYnl0ZUxlbmd0aCkpLHVlKEMsVWludDhBcnJheSkmJihDPWQuZnJvbShDLEMub2Zmc2V0LEMuYnl0ZUxlbmd0aCkpLCFkLmlzQnVmZmVyKE4pfHwhZC5pc0J1ZmZlcihDKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgImJ1ZjEiLCAiYnVmMiIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZihOPT09QylyZXR1cm4gMDtmb3IodmFyIFo9Ti5sZW5ndGgsc2U9Qy5sZW5ndGgsZGU9MCxtZT1NYXRoLm1pbihaLHNlKTtkZTxtZTsrK2RlKWlmKE5bZGVdIT09Q1tkZV0pe1o9TltkZV0sc2U9Q1tkZV07YnJlYWt9cmV0dXJuIFo8c2U/LTE6c2U8Wj8xOjB9LGQuaXNFbmNvZGluZz1mdW5jdGlvbihOKXtzd2l0Y2goU3RyaW5nKE4pLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6Y2FzZSJiYXNlNjQiOmNhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sZC5jb25jYXQ9ZnVuY3Rpb24oTixDKXtpZighQXJyYXkuaXNBcnJheShOKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoTi5sZW5ndGg9PT0wKXJldHVybiBkLmFsbG9jKDApO3ZhciBaO2lmKEM9PT12b2lkIDApZm9yKEM9MCxaPTA7WjxOLmxlbmd0aDsrK1opQys9TltaXS5sZW5ndGg7dmFyIHNlPWQuYWxsb2NVbnNhZmUoQyksZGU9MDtmb3IoWj0wO1o8Ti5sZW5ndGg7KytaKXt2YXIgbWU9TltaXTtpZih1ZShtZSxVaW50OEFycmF5KSlkZSttZS5sZW5ndGg+c2UubGVuZ3RoP2QuZnJvbShtZSkuY29weShzZSxkZSk6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoc2UsbWUsZGUpO2Vsc2UgaWYoZC5pc0J1ZmZlcihtZSkpbWUuY29weShzZSxkZSk7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7ZGUrPW1lLmxlbmd0aH1yZXR1cm4gc2V9O2Z1bmN0aW9uIGFlKFksTil7aWYoZC5pc0J1ZmZlcihZKSlyZXR1cm4gWS5sZW5ndGg7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KFkpfHx1ZShZLEFycmF5QnVmZmVyKSlyZXR1cm4gWS5ieXRlTGVuZ3RoO2lmKHR5cGVvZiBZIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInN0cmluZyIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgWSk7dmFyIEM9WS5sZW5ndGgsWj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXT09PSEwO2lmKCFaJiZDPT09MClyZXR1cm4gMDtmb3IodmFyIHNlPSExOzspc3dpdGNoKE4pe2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIEM7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gRChZKS5sZW5ndGg7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBDKjI7Y2FzZSJoZXgiOnJldHVybiBDPj4+MTtjYXNlImJhc2U2NCI6cmV0dXJuIFUoWSkubGVuZ3RoO2RlZmF1bHQ6aWYoc2UpcmV0dXJuIFo/LTE6RChZKS5sZW5ndGg7Tj0oIiIrTikudG9Mb3dlckNhc2UoKSxzZT0hMH19ZC5ieXRlTGVuZ3RoPWFlO2Z1bmN0aW9uIGllKFksTixDKXt2YXIgWj0hMTtpZigoTj09PXZvaWQgMHx8TjwwKSYmKE49MCksTj50aGlzLmxlbmd0aHx8KChDPT09dm9pZCAwfHxDPnRoaXMubGVuZ3RoKSYmKEM9dGhpcy5sZW5ndGgpLEM8PTApfHwoQz4+Pj0wLE4+Pj49MCxDPD1OKSlyZXR1cm4iIjtmb3IoWXx8KFk9InV0ZjgiKTs7KXN3aXRjaChZKXtjYXNlImhleCI6cmV0dXJuIEEodGhpcyxOLEMpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIGwodGhpcyxOLEMpO2Nhc2UiYXNjaWkiOnJldHVybiBTKHRoaXMsTixDKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBCKHRoaXMsTixDKTtjYXNlImJhc2U2NCI6cmV0dXJuIG0odGhpcyxOLEMpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4geSh0aGlzLE4sQyk7ZGVmYXVsdDppZihaKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrWSk7WT0oWSsiIikudG9Mb3dlckNhc2UoKSxaPSEwfX1kLnByb3RvdHlwZS5faXNCdWZmZXI9ITA7ZnVuY3Rpb24gUShZLE4sQyl7dmFyIFo9WVtOXTtZW05dPVlbQ10sWVtDXT1afWQucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBOPXRoaXMubGVuZ3RoO2lmKE4lMiE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKHZhciBDPTA7QzxOO0MrPTIpUSh0aGlzLEMsQysxKTtyZXR1cm4gdGhpc30sZC5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIE49dGhpcy5sZW5ndGg7aWYoTiU0IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMiKTtmb3IodmFyIEM9MDtDPE47Qys9NClRKHRoaXMsQyxDKzMpLFEodGhpcyxDKzEsQysyKTtyZXR1cm4gdGhpc30sZC5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7dmFyIE49dGhpcy5sZW5ndGg7aWYoTiU4IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMiKTtmb3IodmFyIEM9MDtDPE47Qys9OClRKHRoaXMsQyxDKzcpLFEodGhpcyxDKzEsQys2KSxRKHRoaXMsQysyLEMrNSksUSh0aGlzLEMrMyxDKzQpO3JldHVybiB0aGlzfSxkLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBOPXRoaXMubGVuZ3RoO3JldHVybiBOPT09MD8iIjphcmd1bWVudHMubGVuZ3RoPT09MD9sKHRoaXMsMCxOKTppZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPWQucHJvdG90eXBlLnRvU3RyaW5nLGQucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihOKXtpZighZC5pc0J1ZmZlcihOKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT1OPyEwOmQuY29tcGFyZSh0aGlzLE4pPT09MH0sZC5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3ZhciBOPSIiLEM9ZS5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gTj10aGlzLnRvU3RyaW5nKCJoZXgiLDAsQykucmVwbGFjZSgvKC57Mn0pL2csIiQxICIpLnRyaW0oKSx0aGlzLmxlbmd0aD5DJiYoTis9IiAuLi4gIiksIjxCdWZmZXIgIitOKyI+In0sYSYmKGQucHJvdG90eXBlW2FdPWQucHJvdG90eXBlLmluc3BlY3QpLGQucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24oTixDLFosc2UsZGUpe2lmKHVlKE4sVWludDhBcnJheSkmJihOPWQuZnJvbShOLE4ub2Zmc2V0LE4uYnl0ZUxlbmd0aCkpLCFkLmlzQnVmZmVyKE4pKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAidGFyZ2V0IiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIE4pO2lmKEM9PT12b2lkIDAmJihDPTApLFo9PT12b2lkIDAmJihaPU4/Ti5sZW5ndGg6MCksc2U9PT12b2lkIDAmJihzZT0wKSxkZT09PXZvaWQgMCYmKGRlPXRoaXMubGVuZ3RoKSxDPDB8fFo+Ti5sZW5ndGh8fHNlPDB8fGRlPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJvdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihzZT49ZGUmJkM+PVopcmV0dXJuIDA7aWYoc2U+PWRlKXJldHVybi0xO2lmKEM+PVopcmV0dXJuIDE7aWYoQz4+Pj0wLFo+Pj49MCxzZT4+Pj0wLGRlPj4+PTAsdGhpcz09PU4pcmV0dXJuIDA7Zm9yKHZhciBtZT1kZS1zZSx3ZT1aLUMsbmU9TWF0aC5taW4obWUsd2UpLGhlPXRoaXMuc2xpY2Uoc2UsZGUpLGJlPU4uc2xpY2UoQyxaKSx2ZT0wO3ZlPG5lOysrdmUpaWYoaGVbdmVdIT09YmVbdmVdKXttZT1oZVt2ZV0sd2U9YmVbdmVdO2JyZWFrfXJldHVybiBtZTx3ZT8tMTp3ZTxtZT8xOjB9O2Z1bmN0aW9uIHJlKFksTixDLFosc2Upe2lmKFkubGVuZ3RoPT09MClyZXR1cm4tMTtpZih0eXBlb2YgQz09InN0cmluZyI/KFo9QyxDPTApOkM+MjE0NzQ4MzY0Nz9DPTIxNDc0ODM2NDc6QzwtMjE0NzQ4MzY0OCYmKEM9LTIxNDc0ODM2NDgpLEM9K0MscGUoQykmJihDPXNlPzA6WS5sZW5ndGgtMSksQzwwJiYoQz1ZLmxlbmd0aCtDKSxDPj1ZLmxlbmd0aCl7aWYoc2UpcmV0dXJuLTE7Qz1ZLmxlbmd0aC0xfWVsc2UgaWYoQzwwKWlmKHNlKUM9MDtlbHNlIHJldHVybi0xO2lmKHR5cGVvZiBOPT0ic3RyaW5nIiYmKE49ZC5mcm9tKE4sWikpLGQuaXNCdWZmZXIoTikpcmV0dXJuIE4ubGVuZ3RoPT09MD8tMTpjZShZLE4sQyxaLHNlKTtpZih0eXBlb2YgTj09Im51bWJlciIpcmV0dXJuIE49TiYyNTUsdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y9PSJmdW5jdGlvbiI/c2U/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKFksTixDKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKFksTixDKTpjZShZLFtOXSxDLFosc2UpO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIGNlKFksTixDLFosc2Upe3ZhciBkZT0xLG1lPVkubGVuZ3RoLHdlPU4ubGVuZ3RoO2lmKFohPT12b2lkIDAmJihaPVN0cmluZyhaKS50b0xvd2VyQ2FzZSgpLFo9PT0idWNzMiJ8fFo9PT0idWNzLTIifHxaPT09InV0ZjE2bGUifHxaPT09InV0Zi0xNmxlIikpe2lmKFkubGVuZ3RoPDJ8fE4ubGVuZ3RoPDIpcmV0dXJuLTE7ZGU9MixtZS89Mix3ZS89MixDLz0yfWZ1bmN0aW9uIG5lKHhlLGdlKXtyZXR1cm4gZGU9PT0xP3hlW2dlXTp4ZS5yZWFkVUludDE2QkUoZ2UqZGUpfXZhciBoZTtpZihzZSl7dmFyIGJlPS0xO2ZvcihoZT1DO2hlPG1lO2hlKyspaWYobmUoWSxoZSk9PT1uZShOLGJlPT09LTE/MDpoZS1iZSkpe2lmKGJlPT09LTEmJihiZT1oZSksaGUtYmUrMT09PXdlKXJldHVybiBiZSpkZX1lbHNlIGJlIT09LTEmJihoZS09aGUtYmUpLGJlPS0xfWVsc2UgZm9yKEMrd2U+bWUmJihDPW1lLXdlKSxoZT1DO2hlPj0wO2hlLS0pe2Zvcih2YXIgdmU9ITAsRWU9MDtFZTx3ZTtFZSsrKWlmKG5lKFksaGUrRWUpIT09bmUoTixFZSkpe3ZlPSExO2JyZWFrfWlmKHZlKXJldHVybiBoZX1yZXR1cm4tMX1kLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbihOLEMsWil7cmV0dXJuIHRoaXMuaW5kZXhPZihOLEMsWikhPT0tMX0sZC5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihOLEMsWil7cmV0dXJuIHJlKHRoaXMsTixDLFosITApfSxkLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihOLEMsWil7cmV0dXJuIHJlKHRoaXMsTixDLFosITEpfTtmdW5jdGlvbiBsZShZLE4sQyxaKXtDPU51bWJlcihDKXx8MDt2YXIgc2U9WS5sZW5ndGgtQztaPyhaPU51bWJlcihaKSxaPnNlJiYoWj1zZSkpOlo9c2U7dmFyIGRlPU4ubGVuZ3RoO1o+ZGUvMiYmKFo9ZGUvMik7Zm9yKHZhciBtZT0wO21lPFo7KyttZSl7dmFyIHdlPXBhcnNlSW50KE4uc3Vic3RyKG1lKjIsMiksMTYpO2lmKHBlKHdlKSlyZXR1cm4gbWU7WVtDK21lXT13ZX1yZXR1cm4gbWV9ZnVuY3Rpb24gb2UoWSxOLEMsWil7cmV0dXJuIEYoRChOLFkubGVuZ3RoLUMpLFksQyxaKX1mdW5jdGlvbiB5ZShZLE4sQyxaKXtyZXR1cm4gRihqKE4pLFksQyxaKX1mdW5jdGlvbiBYKFksTixDLFope3JldHVybiBGKFUoTiksWSxDLFopfWZ1bmN0aW9uICQoWSxOLEMsWil7cmV0dXJuIEYodGUoTixZLmxlbmd0aC1DKSxZLEMsWil9ZC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oTixDLFosc2Upe2lmKEM9PT12b2lkIDApc2U9InV0ZjgiLFo9dGhpcy5sZW5ndGgsQz0wO2Vsc2UgaWYoWj09PXZvaWQgMCYmdHlwZW9mIEM9PSJzdHJpbmciKXNlPUMsWj10aGlzLmxlbmd0aCxDPTA7ZWxzZSBpZihpc0Zpbml0ZShDKSlDPUM+Pj4wLGlzRmluaXRlKFopPyhaPVo+Pj4wLHNlPT09dm9pZCAwJiYoc2U9InV0ZjgiKSk6KHNlPVosWj12b2lkIDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO3ZhciBkZT10aGlzLmxlbmd0aC1DO2lmKChaPT09dm9pZCAwfHxaPmRlKSYmKFo9ZGUpLE4ubGVuZ3RoPjAmJihaPDB8fEM8MCl8fEM+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIik7c2V8fChzZT0idXRmOCIpO2Zvcih2YXIgbWU9ITE7Oylzd2l0Y2goc2Upe2Nhc2UiaGV4IjpyZXR1cm4gbGUodGhpcyxOLEMsWik7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gb2UodGhpcyxOLEMsWik7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4geWUodGhpcyxOLEMsWik7Y2FzZSJiYXNlNjQiOnJldHVybiBYKHRoaXMsTixDLFopO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gJCh0aGlzLE4sQyxaKTtkZWZhdWx0OmlmKG1lKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrc2UpO3NlPSgiIitzZSkudG9Mb3dlckNhc2UoKSxtZT0hMH19LGQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJCdWZmZXIiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07ZnVuY3Rpb24gbShZLE4sQyl7cmV0dXJuIE49PT0wJiZDPT09WS5sZW5ndGg/dC5mcm9tQnl0ZUFycmF5KFkpOnQuZnJvbUJ5dGVBcnJheShZLnNsaWNlKE4sQykpfWZ1bmN0aW9uIGwoWSxOLEMpe0M9TWF0aC5taW4oWS5sZW5ndGgsQyk7Zm9yKHZhciBaPVtdLHNlPU47c2U8Qzspe3ZhciBkZT1ZW3NlXSxtZT1udWxsLHdlPWRlPjIzOT80OmRlPjIyMz8zOmRlPjE5MT8yOjE7aWYoc2Urd2U8PUMpe3ZhciBuZSxoZSxiZSx2ZTtzd2l0Y2god2Upe2Nhc2UgMTpkZTwxMjgmJihtZT1kZSk7YnJlYWs7Y2FzZSAyOm5lPVlbc2UrMV0sKG5lJjE5Mik9PT0xMjgmJih2ZT0oZGUmMzEpPDw2fG5lJjYzLHZlPjEyNyYmKG1lPXZlKSk7YnJlYWs7Y2FzZSAzOm5lPVlbc2UrMV0saGU9WVtzZSsyXSwobmUmMTkyKT09PTEyOCYmKGhlJjE5Mik9PT0xMjgmJih2ZT0oZGUmMTUpPDwxMnwobmUmNjMpPDw2fGhlJjYzLHZlPjIwNDcmJih2ZTw1NTI5Nnx8dmU+NTczNDMpJiYobWU9dmUpKTticmVhaztjYXNlIDQ6bmU9WVtzZSsxXSxoZT1ZW3NlKzJdLGJlPVlbc2UrM10sKG5lJjE5Mik9PT0xMjgmJihoZSYxOTIpPT09MTI4JiYoYmUmMTkyKT09PTEyOCYmKHZlPShkZSYxNSk8PDE4fChuZSY2Myk8PDEyfChoZSY2Myk8PDZ8YmUmNjMsdmU+NjU1MzUmJnZlPDExMTQxMTImJihtZT12ZSkpfX1tZT09PW51bGw/KG1lPTY1NTMzLHdlPTEpOm1lPjY1NTM1JiYobWUtPTY1NTM2LFoucHVzaChtZT4+PjEwJjEwMjN8NTUyOTYpLG1lPTU2MzIwfG1lJjEwMjMpLFoucHVzaChtZSksc2UrPXdlfXJldHVybiBFKFopfXZhciB2PTQwOTY7ZnVuY3Rpb24gRShZKXt2YXIgTj1ZLmxlbmd0aDtpZihOPD12KXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxZKTtmb3IodmFyIEM9IiIsWj0wO1o8TjspQys9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsWS5zbGljZShaLForPXYpKTtyZXR1cm4gQ31mdW5jdGlvbiBTKFksTixDKXt2YXIgWj0iIjtDPU1hdGgubWluKFkubGVuZ3RoLEMpO2Zvcih2YXIgc2U9TjtzZTxDOysrc2UpWis9U3RyaW5nLmZyb21DaGFyQ29kZShZW3NlXSYxMjcpO3JldHVybiBafWZ1bmN0aW9uIEIoWSxOLEMpe3ZhciBaPSIiO0M9TWF0aC5taW4oWS5sZW5ndGgsQyk7Zm9yKHZhciBzZT1OO3NlPEM7KytzZSlaKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFlbc2VdKTtyZXR1cm4gWn1mdW5jdGlvbiBBKFksTixDKXt2YXIgWj1ZLmxlbmd0aDsoIU58fE48MCkmJihOPTApLCghQ3x8QzwwfHxDPlopJiYoQz1aKTtmb3IodmFyIHNlPSIiLGRlPU47ZGU8QzsrK2RlKXNlKz1fZVtZW2RlXV07cmV0dXJuIHNlfWZ1bmN0aW9uIHkoWSxOLEMpe2Zvcih2YXIgWj1ZLnNsaWNlKE4sQyksc2U9IiIsZGU9MDtkZTxaLmxlbmd0aC0xO2RlKz0yKXNlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFpbZGVdK1pbZGUrMV0qMjU2KTtyZXR1cm4gc2V9ZC5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oTixDKXt2YXIgWj10aGlzLmxlbmd0aDtOPX5+TixDPUM9PT12b2lkIDA/Wjp+fkMsTjwwPyhOKz1aLE48MCYmKE49MCkpOk4+WiYmKE49WiksQzwwPyhDKz1aLEM8MCYmKEM9MCkpOkM+WiYmKEM9WiksQzxOJiYoQz1OKTt2YXIgc2U9dGhpcy5zdWJhcnJheShOLEMpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc2UsZC5wcm90b3R5cGUpLHNlfTtmdW5jdGlvbiB4KFksTixDKXtpZihZJTEhPT0wfHxZPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm9mZnNldCBpcyBub3QgdWludCIpO2lmKFkrTj5DKXRocm93IG5ldyBSYW5nZUVycm9yKCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoIil9ZC5wcm90b3R5cGUucmVhZFVpbnRMRT1kLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKE4sQyxaKXtOPU4+Pj4wLEM9Qz4+PjAsWnx8eChOLEMsdGhpcy5sZW5ndGgpO2Zvcih2YXIgc2U9dGhpc1tOXSxkZT0xLG1lPTA7KyttZTxDJiYoZGUqPTI1Nik7KXNlKz10aGlzW04rbWVdKmRlO3JldHVybiBzZX0sZC5wcm90b3R5cGUucmVhZFVpbnRCRT1kLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKE4sQyxaKXtOPU4+Pj4wLEM9Qz4+PjAsWnx8eChOLEMsdGhpcy5sZW5ndGgpO2Zvcih2YXIgc2U9dGhpc1tOKy0tQ10sZGU9MTtDPjAmJihkZSo9MjU2KTspc2UrPXRoaXNbTistLUNdKmRlO3JldHVybiBzZX0sZC5wcm90b3R5cGUucmVhZFVpbnQ4PWQucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbihOLEMpe3JldHVybiBOPU4+Pj4wLEN8fHgoTiwxLHRoaXMubGVuZ3RoKSx0aGlzW05dfSxkLnByb3RvdHlwZS5yZWFkVWludDE2TEU9ZC5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKE4sQyl7cmV0dXJuIE49Tj4+PjAsQ3x8eChOLDIsdGhpcy5sZW5ndGgpLHRoaXNbTl18dGhpc1tOKzFdPDw4fSxkLnByb3RvdHlwZS5yZWFkVWludDE2QkU9ZC5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKE4sQyl7cmV0dXJuIE49Tj4+PjAsQ3x8eChOLDIsdGhpcy5sZW5ndGgpLHRoaXNbTl08PDh8dGhpc1tOKzFdfSxkLnByb3RvdHlwZS5yZWFkVWludDMyTEU9ZC5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKE4sQyl7cmV0dXJuIE49Tj4+PjAsQ3x8eChOLDQsdGhpcy5sZW5ndGgpLCh0aGlzW05dfHRoaXNbTisxXTw8OHx0aGlzW04rMl08PDE2KSt0aGlzW04rM10qMTY3NzcyMTZ9LGQucHJvdG90eXBlLnJlYWRVaW50MzJCRT1kLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oTixDKXtyZXR1cm4gTj1OPj4+MCxDfHx4KE4sNCx0aGlzLmxlbmd0aCksdGhpc1tOXSoxNjc3NzIxNisodGhpc1tOKzFdPDwxNnx0aGlzW04rMl08PDh8dGhpc1tOKzNdKX0sZC5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKE4sQyxaKXtOPU4+Pj4wLEM9Qz4+PjAsWnx8eChOLEMsdGhpcy5sZW5ndGgpO2Zvcih2YXIgc2U9dGhpc1tOXSxkZT0xLG1lPTA7KyttZTxDJiYoZGUqPTI1Nik7KXNlKz10aGlzW04rbWVdKmRlO3JldHVybiBkZSo9MTI4LHNlPj1kZSYmKHNlLT1NYXRoLnBvdygyLDgqQykpLHNlfSxkLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24oTixDLFope049Tj4+PjAsQz1DPj4+MCxafHx4KE4sQyx0aGlzLmxlbmd0aCk7Zm9yKHZhciBzZT1DLGRlPTEsbWU9dGhpc1tOKy0tc2VdO3NlPjAmJihkZSo9MjU2KTspbWUrPXRoaXNbTistLXNlXSpkZTtyZXR1cm4gZGUqPTEyOCxtZT49ZGUmJihtZS09TWF0aC5wb3coMiw4KkMpKSxtZX0sZC5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24oTixDKXtyZXR1cm4gTj1OPj4+MCxDfHx4KE4sMSx0aGlzLmxlbmd0aCksdGhpc1tOXSYxMjg/KDI1NS10aGlzW05dKzEpKi0xOnRoaXNbTl19LGQucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKE4sQyl7Tj1OPj4+MCxDfHx4KE4sMix0aGlzLmxlbmd0aCk7dmFyIFo9dGhpc1tOXXx0aGlzW04rMV08PDg7cmV0dXJuIFomMzI3Njg/Wnw0Mjk0OTAxNzYwOlp9LGQucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKE4sQyl7Tj1OPj4+MCxDfHx4KE4sMix0aGlzLmxlbmd0aCk7dmFyIFo9dGhpc1tOKzFdfHRoaXNbTl08PDg7cmV0dXJuIFomMzI3Njg/Wnw0Mjk0OTAxNzYwOlp9LGQucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKE4sQyl7cmV0dXJuIE49Tj4+PjAsQ3x8eChOLDQsdGhpcy5sZW5ndGgpLHRoaXNbTl18dGhpc1tOKzFdPDw4fHRoaXNbTisyXTw8MTZ8dGhpc1tOKzNdPDwyNH0sZC5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oTixDKXtyZXR1cm4gTj1OPj4+MCxDfHx4KE4sNCx0aGlzLmxlbmd0aCksdGhpc1tOXTw8MjR8dGhpc1tOKzFdPDwxNnx0aGlzW04rMl08PDh8dGhpc1tOKzNdfSxkLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihOLEMpe3JldHVybiBOPU4+Pj4wLEN8fHgoTiw0LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyxOLCEwLDIzLDQpfSxkLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbihOLEMpe3JldHVybiBOPU4+Pj4wLEN8fHgoTiw0LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyxOLCExLDIzLDQpfSxkLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oTixDKXtyZXR1cm4gTj1OPj4+MCxDfHx4KE4sOCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsTiwhMCw1Miw4KX0sZC5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKE4sQyl7cmV0dXJuIE49Tj4+PjAsQ3x8eChOLDgsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLE4sITEsNTIsOCl9O2Z1bmN0aW9uIHAoWSxOLEMsWixzZSxkZSl7aWYoIWQuaXNCdWZmZXIoWSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKE4+c2V8fE48ZGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKEMrWj5ZLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZC5wcm90b3R5cGUud3JpdGVVaW50TEU9ZC5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oTixDLFosc2Upe2lmKE49K04sQz1DPj4+MCxaPVo+Pj4wLCFzZSl7dmFyIGRlPU1hdGgucG93KDIsOCpaKS0xO3AodGhpcyxOLEMsWixkZSwwKX12YXIgbWU9MSx3ZT0wO2Zvcih0aGlzW0NdPU4mMjU1Oysrd2U8WiYmKG1lKj0yNTYpOyl0aGlzW0Mrd2VdPU4vbWUmMjU1O3JldHVybiBDK1p9LGQucHJvdG90eXBlLndyaXRlVWludEJFPWQucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKE4sQyxaLHNlKXtpZihOPStOLEM9Qz4+PjAsWj1aPj4+MCwhc2Upe3ZhciBkZT1NYXRoLnBvdygyLDgqWiktMTtwKHRoaXMsTixDLFosZGUsMCl9dmFyIG1lPVotMSx3ZT0xO2Zvcih0aGlzW0MrbWVdPU4mMjU1Oy0tbWU+PTAmJih3ZSo9MjU2KTspdGhpc1tDK21lXT1OL3dlJjI1NTtyZXR1cm4gQytafSxkLnByb3RvdHlwZS53cml0ZVVpbnQ4PWQucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oTixDLFope3JldHVybiBOPStOLEM9Qz4+PjAsWnx8cCh0aGlzLE4sQywxLDI1NSwwKSx0aGlzW0NdPU4mMjU1LEMrMX0sZC5wcm90b3R5cGUud3JpdGVVaW50MTZMRT1kLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKE4sQyxaKXtyZXR1cm4gTj0rTixDPUM+Pj4wLFp8fHAodGhpcyxOLEMsMiw2NTUzNSwwKSx0aGlzW0NdPU4mMjU1LHRoaXNbQysxXT1OPj4+OCxDKzJ9LGQucHJvdG90eXBlLndyaXRlVWludDE2QkU9ZC5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihOLEMsWil7cmV0dXJuIE49K04sQz1DPj4+MCxafHxwKHRoaXMsTixDLDIsNjU1MzUsMCksdGhpc1tDXT1OPj4+OCx0aGlzW0MrMV09TiYyNTUsQysyfSxkLnByb3RvdHlwZS53cml0ZVVpbnQzMkxFPWQucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oTixDLFope3JldHVybiBOPStOLEM9Qz4+PjAsWnx8cCh0aGlzLE4sQyw0LDQyOTQ5NjcyOTUsMCksdGhpc1tDKzNdPU4+Pj4yNCx0aGlzW0MrMl09Tj4+PjE2LHRoaXNbQysxXT1OPj4+OCx0aGlzW0NdPU4mMjU1LEMrNH0sZC5wcm90b3R5cGUud3JpdGVVaW50MzJCRT1kLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKE4sQyxaKXtyZXR1cm4gTj0rTixDPUM+Pj4wLFp8fHAodGhpcyxOLEMsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbQ109Tj4+PjI0LHRoaXNbQysxXT1OPj4+MTYsdGhpc1tDKzJdPU4+Pj44LHRoaXNbQyszXT1OJjI1NSxDKzR9LGQucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24oTixDLFosc2Upe2lmKE49K04sQz1DPj4+MCwhc2Upe3ZhciBkZT1NYXRoLnBvdygyLDgqWi0xKTtwKHRoaXMsTixDLFosZGUtMSwtZGUpfXZhciBtZT0wLHdlPTEsbmU9MDtmb3IodGhpc1tDXT1OJjI1NTsrK21lPFomJih3ZSo9MjU2KTspTjwwJiZuZT09PTAmJnRoaXNbQyttZS0xXSE9PTAmJihuZT0xKSx0aGlzW0MrbWVdPShOL3dlPj4wKS1uZSYyNTU7cmV0dXJuIEMrWn0sZC5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihOLEMsWixzZSl7aWYoTj0rTixDPUM+Pj4wLCFzZSl7dmFyIGRlPU1hdGgucG93KDIsOCpaLTEpO3AodGhpcyxOLEMsWixkZS0xLC1kZSl9dmFyIG1lPVotMSx3ZT0xLG5lPTA7Zm9yKHRoaXNbQyttZV09TiYyNTU7LS1tZT49MCYmKHdlKj0yNTYpOylOPDAmJm5lPT09MCYmdGhpc1tDK21lKzFdIT09MCYmKG5lPTEpLHRoaXNbQyttZV09KE4vd2U+PjApLW5lJjI1NTtyZXR1cm4gQytafSxkLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24oTixDLFope3JldHVybiBOPStOLEM9Qz4+PjAsWnx8cCh0aGlzLE4sQywxLDEyNywtMTI4KSxOPDAmJihOPTI1NStOKzEpLHRoaXNbQ109TiYyNTUsQysxfSxkLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24oTixDLFope3JldHVybiBOPStOLEM9Qz4+PjAsWnx8cCh0aGlzLE4sQywyLDMyNzY3LC0zMjc2OCksdGhpc1tDXT1OJjI1NSx0aGlzW0MrMV09Tj4+PjgsQysyfSxkLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oTixDLFope3JldHVybiBOPStOLEM9Qz4+PjAsWnx8cCh0aGlzLE4sQywyLDMyNzY3LC0zMjc2OCksdGhpc1tDXT1OPj4+OCx0aGlzW0MrMV09TiYyNTUsQysyfSxkLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oTixDLFope3JldHVybiBOPStOLEM9Qz4+PjAsWnx8cCh0aGlzLE4sQyw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHRoaXNbQ109TiYyNTUsdGhpc1tDKzFdPU4+Pj44LHRoaXNbQysyXT1OPj4+MTYsdGhpc1tDKzNdPU4+Pj4yNCxDKzR9LGQucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihOLEMsWil7cmV0dXJuIE49K04sQz1DPj4+MCxafHxwKHRoaXMsTixDLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksTjwwJiYoTj00Mjk0OTY3Mjk1K04rMSksdGhpc1tDXT1OPj4+MjQsdGhpc1tDKzFdPU4+Pj4xNix0aGlzW0MrMl09Tj4+PjgsdGhpc1tDKzNdPU4mMjU1LEMrNH07ZnVuY3Rpb24gSShZLE4sQyxaLHNlLGRlKXtpZihDK1o+WS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKEM8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gZWUoWSxOLEMsWixzZSl7cmV0dXJuIE49K04sQz1DPj4+MCxzZXx8SShZLE4sQyw0KSxuLndyaXRlKFksTixDLFosMjMsNCksQys0fWQucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihOLEMsWil7cmV0dXJuIGVlKHRoaXMsTixDLCEwLFopfSxkLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24oTixDLFope3JldHVybiBlZSh0aGlzLE4sQywhMSxaKX07ZnVuY3Rpb24gZmUoWSxOLEMsWixzZSl7cmV0dXJuIE49K04sQz1DPj4+MCxzZXx8SShZLE4sQyw4KSxuLndyaXRlKFksTixDLFosNTIsOCksQys4fWQucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oTixDLFope3JldHVybiBmZSh0aGlzLE4sQywhMCxaKX0sZC5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbihOLEMsWil7cmV0dXJuIGZlKHRoaXMsTixDLCExLFopfSxkLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKE4sQyxaLHNlKXtpZighZC5pc0J1ZmZlcihOKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXIiKTtpZihafHwoWj0wKSwhc2UmJnNlIT09MCYmKHNlPXRoaXMubGVuZ3RoKSxDPj1OLmxlbmd0aCYmKEM9Ti5sZW5ndGgpLEN8fChDPTApLHNlPjAmJnNlPFomJihzZT1aKSxzZT09PVp8fE4ubGVuZ3RoPT09MHx8dGhpcy5sZW5ndGg9PT0wKXJldHVybiAwO2lmKEM8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKFo8MHx8Wj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKHNlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzIik7c2U+dGhpcy5sZW5ndGgmJihzZT10aGlzLmxlbmd0aCksTi5sZW5ndGgtQzxzZS1aJiYoc2U9Ti5sZW5ndGgtQytaKTt2YXIgZGU9c2UtWjtyZXR1cm4gdGhpcz09PU4mJnR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluPT0iZnVuY3Rpb24iP3RoaXMuY29weVdpdGhpbihDLFosc2UpOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKE4sdGhpcy5zdWJhcnJheShaLHNlKSxDKSxkZX0sZC5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihOLEMsWixzZSl7aWYodHlwZW9mIE49PSJzdHJpbmciKXtpZih0eXBlb2YgQz09InN0cmluZyI/KHNlPUMsQz0wLFo9dGhpcy5sZW5ndGgpOnR5cGVvZiBaPT0ic3RyaW5nIiYmKHNlPVosWj10aGlzLmxlbmd0aCksc2UhPT12b2lkIDAmJnR5cGVvZiBzZSE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcigiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZyIpO2lmKHR5cGVvZiBzZT09InN0cmluZyImJiFkLmlzRW5jb2Rpbmcoc2UpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrc2UpO2lmKE4ubGVuZ3RoPT09MSl7dmFyIGRlPU4uY2hhckNvZGVBdCgwKTsoc2U9PT0idXRmOCImJmRlPDEyOHx8c2U9PT0ibGF0aW4xIikmJihOPWRlKX19ZWxzZSB0eXBlb2YgTj09Im51bWJlciI/Tj1OJjI1NTp0eXBlb2YgTj09ImJvb2xlYW4iJiYoTj1OdW1iZXIoTikpO2lmKEM8MHx8dGhpcy5sZW5ndGg8Q3x8dGhpcy5sZW5ndGg8Wil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiT3V0IG9mIHJhbmdlIGluZGV4Iik7aWYoWjw9QylyZXR1cm4gdGhpcztDPUM+Pj4wLFo9Wj09PXZvaWQgMD90aGlzLmxlbmd0aDpaPj4+MCxOfHwoTj0wKTt2YXIgbWU7aWYodHlwZW9mIE49PSJudW1iZXIiKWZvcihtZT1DO21lPFo7KyttZSl0aGlzW21lXT1OO2Vsc2V7dmFyIHdlPWQuaXNCdWZmZXIoTik/TjpkLmZyb20oTixzZSksbmU9d2UubGVuZ3RoO2lmKG5lPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgIicrTisnIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCAidmFsdWUiJyk7Zm9yKG1lPTA7bWU8Wi1DOysrbWUpdGhpc1ttZStDXT13ZVttZSVuZV19cmV0dXJuIHRoaXN9O3ZhciBKPS9bXisvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gayhZKXtpZihZPVkuc3BsaXQoIj0iKVswXSxZPVkudHJpbSgpLnJlcGxhY2UoSiwiIiksWS5sZW5ndGg8MilyZXR1cm4iIjtmb3IoO1kubGVuZ3RoJTQhPT0wOylZPVkrIj0iO3JldHVybiBZfWZ1bmN0aW9uIEQoWSxOKXtOPU58fDEvMDtmb3IodmFyIEMsWj1ZLmxlbmd0aCxzZT1udWxsLGRlPVtdLG1lPTA7bWU8WjsrK21lKXtpZihDPVkuY2hhckNvZGVBdChtZSksQz41NTI5NSYmQzw1NzM0NCl7aWYoIXNlKXtpZihDPjU2MzE5KXsoTi09Myk+LTEmJmRlLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWVsc2UgaWYobWUrMT09PVopeyhOLT0zKT4tMSYmZGUucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9c2U9Qztjb250aW51ZX1pZihDPDU2MzIwKXsoTi09Myk+LTEmJmRlLnB1c2goMjM5LDE5MSwxODkpLHNlPUM7Y29udGludWV9Qz0oc2UtNTUyOTY8PDEwfEMtNTYzMjApKzY1NTM2fWVsc2Ugc2UmJihOLT0zKT4tMSYmZGUucHVzaCgyMzksMTkxLDE4OSk7aWYoc2U9bnVsbCxDPDEyOCl7aWYoKE4tPTEpPDApYnJlYWs7ZGUucHVzaChDKX1lbHNlIGlmKEM8MjA0OCl7aWYoKE4tPTIpPDApYnJlYWs7ZGUucHVzaChDPj42fDE5MixDJjYzfDEyOCl9ZWxzZSBpZihDPDY1NTM2KXtpZigoTi09Myk8MClicmVhaztkZS5wdXNoKEM+PjEyfDIyNCxDPj42JjYzfDEyOCxDJjYzfDEyOCl9ZWxzZSBpZihDPDExMTQxMTIpe2lmKChOLT00KTwwKWJyZWFrO2RlLnB1c2goQz4+MTh8MjQwLEM+PjEyJjYzfDEyOCxDPj42JjYzfDEyOCxDJjYzfDEyOCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29kZSBwb2ludCIpfXJldHVybiBkZX1mdW5jdGlvbiBqKFkpe2Zvcih2YXIgTj1bXSxDPTA7QzxZLmxlbmd0aDsrK0MpTi5wdXNoKFkuY2hhckNvZGVBdChDKSYyNTUpO3JldHVybiBOfWZ1bmN0aW9uIHRlKFksTil7Zm9yKHZhciBDLFosc2UsZGU9W10sbWU9MDttZTxZLmxlbmd0aCYmISgoTi09Mik8MCk7KyttZSlDPVkuY2hhckNvZGVBdChtZSksWj1DPj44LHNlPUMlMjU2LGRlLnB1c2goc2UpLGRlLnB1c2goWik7cmV0dXJuIGRlfWZ1bmN0aW9uIFUoWSl7cmV0dXJuIHQudG9CeXRlQXJyYXkoayhZKSl9ZnVuY3Rpb24gRihZLE4sQyxaKXtmb3IodmFyIHNlPTA7c2U8WiYmIShzZStDPj1OLmxlbmd0aHx8c2U+PVkubGVuZ3RoKTsrK3NlKU5bc2UrQ109WVtzZV07cmV0dXJuIHNlfWZ1bmN0aW9uIHVlKFksTil7cmV0dXJuIFkgaW5zdGFuY2VvZiBOfHxZIT1udWxsJiZZLmNvbnN0cnVjdG9yIT1udWxsJiZZLmNvbnN0cnVjdG9yLm5hbWUhPW51bGwmJlkuY29uc3RydWN0b3IubmFtZT09PU4ubmFtZX1mdW5jdGlvbiBwZShZKXtyZXR1cm4gWSE9PVl9dmFyIF9lPWZ1bmN0aW9uKCl7Zm9yKHZhciBZPSIwMTIzNDU2Nzg5YWJjZGVmIixOPW5ldyBBcnJheSgyNTYpLEM9MDtDPDE2OysrQylmb3IodmFyIFo9QyoxNixzZT0wO3NlPDE2Oysrc2UpTltaK3NlXT1ZW0NdK1lbc2VdO3JldHVybiBOfSgpfSkoYnVmZmVyJDIpO3ZhciBidWZmZXIkMT1nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhidWZmZXIkMiksYnJvd3NlciQxJDE9e2V4cG9ydHM6e319LHByb2Nlc3M9YnJvd3NlciQxJDEuZXhwb3J0cz17fSxjYWNoZWRTZXRUaW1lb3V0LGNhY2hlZENsZWFyVGltZW91dDtmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCgpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9KGZ1bmN0aW9uKCl7dHJ5e3R5cGVvZiBzZXRUaW1lb3V0PT0iZnVuY3Rpb24iP2NhY2hlZFNldFRpbWVvdXQ9c2V0VGltZW91dDpjYWNoZWRTZXRUaW1lb3V0PWRlZmF1bHRTZXRUaW1vdXR9Y2F0Y2h7Y2FjaGVkU2V0VGltZW91dD1kZWZhdWx0U2V0VGltb3V0fXRyeXt0eXBlb2YgY2xlYXJUaW1lb3V0PT0iZnVuY3Rpb24iP2NhY2hlZENsZWFyVGltZW91dD1jbGVhclRpbWVvdXQ6Y2FjaGVkQ2xlYXJUaW1lb3V0PWRlZmF1bHRDbGVhclRpbWVvdXR9Y2F0Y2h7Y2FjaGVkQ2xlYXJUaW1lb3V0PWRlZmF1bHRDbGVhclRpbWVvdXR9fSkoKTtmdW5jdGlvbiBydW5UaW1lb3V0KGUpe2lmKGNhY2hlZFNldFRpbWVvdXQ9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKGNhY2hlZFNldFRpbWVvdXQ9PT1kZWZhdWx0U2V0VGltb3V0fHwhY2FjaGVkU2V0VGltZW91dCkmJnNldFRpbWVvdXQpcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQ9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0KGUsMCl9Y2F0Y2h7dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCxlLDApfWNhdGNoe3JldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcyxlLDApfX19ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KGUpe2lmKGNhY2hlZENsZWFyVGltZW91dD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChjYWNoZWRDbGVhclRpbWVvdXQ9PT1kZWZhdWx0Q2xlYXJUaW1lb3V0fHwhY2FjaGVkQ2xlYXJUaW1lb3V0KSYmY2xlYXJUaW1lb3V0KXJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQ9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChlKX1jYXRjaHt0cnl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsZSl9Y2F0Y2h7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsZSl9fX12YXIgcXVldWU9W10sZHJhaW5pbmc9ITEsY3VycmVudFF1ZXVlLHF1ZXVlSW5kZXg9LTE7ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCl7IWRyYWluaW5nfHwhY3VycmVudFF1ZXVlfHwoZHJhaW5pbmc9ITEsY3VycmVudFF1ZXVlLmxlbmd0aD9xdWV1ZT1jdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTpxdWV1ZUluZGV4PS0xLHF1ZXVlLmxlbmd0aCYmZHJhaW5RdWV1ZSgpKX1mdW5jdGlvbiBkcmFpblF1ZXVlKCl7aWYoIWRyYWluaW5nKXt2YXIgZT1ydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7ZHJhaW5pbmc9ITA7Zm9yKHZhciB0PXF1ZXVlLmxlbmd0aDt0Oyl7Zm9yKGN1cnJlbnRRdWV1ZT1xdWV1ZSxxdWV1ZT1bXTsrK3F1ZXVlSW5kZXg8dDspY3VycmVudFF1ZXVlJiZjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7cXVldWVJbmRleD0tMSx0PXF1ZXVlLmxlbmd0aH1jdXJyZW50UXVldWU9bnVsbCxkcmFpbmluZz0hMSxydW5DbGVhclRpbWVvdXQoZSl9fXByb2Nlc3MubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtxdWV1ZS5wdXNoKG5ldyBJdGVtKGUsdCkpLHF1ZXVlLmxlbmd0aD09PTEmJiFkcmFpbmluZyYmcnVuVGltZW91dChkcmFpblF1ZXVlKX07ZnVuY3Rpb24gSXRlbShlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fUl0ZW0ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHByb2Nlc3MudGl0bGU9ImJyb3dzZXIiLHByb2Nlc3MuYnJvd3Nlcj0hMCxwcm9jZXNzLmVudj17fSxwcm9jZXNzLmFyZ3Y9W10scHJvY2Vzcy52ZXJzaW9uPSIiLHByb2Nlc3MudmVyc2lvbnM9e307ZnVuY3Rpb24gbm9vcCQxJDEoKXt9cHJvY2Vzcy5vbj1ub29wJDEkMSxwcm9jZXNzLmFkZExpc3RlbmVyPW5vb3AkMSQxLHByb2Nlc3Mub25jZT1ub29wJDEkMSxwcm9jZXNzLm9mZj1ub29wJDEkMSxwcm9jZXNzLnJlbW92ZUxpc3RlbmVyPW5vb3AkMSQxLHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzPW5vb3AkMSQxLHByb2Nlc3MuZW1pdD1ub29wJDEkMSxwcm9jZXNzLnByZXBlbmRMaXN0ZW5lcj1ub29wJDEkMSxwcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXI9bm9vcCQxJDEscHJvY2Vzcy5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LHByb2Nlc3MuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LHByb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxwcm9jZXNzLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LHByb2Nlc3MudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH07ZnVuY3Rpb24gbm9vcCQzKCl7fXZhciBicm93c2VyJGM9YnJvd3NlciQxJDEuZXhwb3J0cy5icm93c2VyLGVtaXRXYXJuaW5nPW5vb3AkMyxiaW5kaW5nJDE9YnJvd3NlciQxJDEuZXhwb3J0cy5iaW5kaW5nLGV4aXQ9bm9vcCQzLHBpZD0xLGZlYXR1cmVzPXt9LGtpbGw9bm9vcCQzLGRsb3Blbj1ub29wJDMsdXB0aW1lPW5vb3AkMyxtZW1vcnlVc2FnZT1ub29wJDMsdXZDb3VudGVycz1ub29wJDMscGxhdGZvcm0kMj0iYnJvd3NlciIsYXJjaD0iYnJvd3NlciIsZXhlY1BhdGg9ImJyb3dzZXIiLGV4ZWNBcmd2PVtdLGFwaSQxPXtuZXh0VGljazpicm93c2VyJDEkMS5leHBvcnRzLm5leHRUaWNrLHRpdGxlOmJyb3dzZXIkMSQxLmV4cG9ydHMudGl0bGUsYnJvd3Nlcjpicm93c2VyJGMsZW52OmJyb3dzZXIkMSQxLmV4cG9ydHMuZW52LGFyZ3Y6YnJvd3NlciQxJDEuZXhwb3J0cy5hcmd2LHZlcnNpb246YnJvd3NlciQxJDEuZXhwb3J0cy52ZXJzaW9uLHZlcnNpb25zOmJyb3dzZXIkMSQxLmV4cG9ydHMudmVyc2lvbnMsb246YnJvd3NlciQxJDEuZXhwb3J0cy5vbixhZGRMaXN0ZW5lcjpicm93c2VyJDEkMS5leHBvcnRzLmFkZExpc3RlbmVyLG9uY2U6YnJvd3NlciQxJDEuZXhwb3J0cy5vbmNlLG9mZjpicm93c2VyJDEkMS5leHBvcnRzLm9mZixyZW1vdmVMaXN0ZW5lcjpicm93c2VyJDEkMS5leHBvcnRzLnJlbW92ZUxpc3RlbmVyLHJlbW92ZUFsbExpc3RlbmVyczpicm93c2VyJDEkMS5leHBvcnRzLnJlbW92ZUFsbExpc3RlbmVycyxlbWl0OmJyb3dzZXIkMSQxLmV4cG9ydHMuZW1pdCxlbWl0V2FybmluZyxwcmVwZW5kTGlzdGVuZXI6YnJvd3NlciQxJDEuZXhwb3J0cy5wcmVwZW5kTGlzdGVuZXIscHJlcGVuZE9uY2VMaXN0ZW5lcjpicm93c2VyJDEkMS5leHBvcnRzLnByZXBlbmRPbmNlTGlzdGVuZXIsbGlzdGVuZXJzOmJyb3dzZXIkMSQxLmV4cG9ydHMubGlzdGVuZXJzLGJpbmRpbmc6YmluZGluZyQxLGN3ZDpicm93c2VyJDEkMS5leHBvcnRzLmN3ZCxjaGRpcjpicm93c2VyJDEkMS5leHBvcnRzLmNoZGlyLHVtYXNrOmJyb3dzZXIkMSQxLmV4cG9ydHMudW1hc2ssZXhpdCxwaWQsZmVhdHVyZXMsa2lsbCxkbG9wZW4sdXB0aW1lLG1lbW9yeVVzYWdlLHV2Q291bnRlcnMscGxhdGZvcm06cGxhdGZvcm0kMixhcmNoLGV4ZWNQYXRoLGV4ZWNBcmd2fTticm93c2VyJDEkMS5leHBvcnRzLmFkZExpc3RlbmVyLGJyb3dzZXIkMSQxLmV4cG9ydHMuYXJndixicm93c2VyJDEkMS5leHBvcnRzLmNoZGlyLGJyb3dzZXIkMSQxLmV4cG9ydHMuY3dkLGJyb3dzZXIkMSQxLmV4cG9ydHMuZW1pdCxicm93c2VyJDEkMS5leHBvcnRzLmVudixicm93c2VyJDEkMS5leHBvcnRzLmxpc3RlbmVycyxicm93c2VyJDEkMS5leHBvcnRzLm5leHRUaWNrLGJyb3dzZXIkMSQxLmV4cG9ydHMub2ZmLGJyb3dzZXIkMSQxLmV4cG9ydHMub24sYnJvd3NlciQxJDEuZXhwb3J0cy5vbmNlLGJyb3dzZXIkMSQxLmV4cG9ydHMucHJlcGVuZExpc3RlbmVyLGJyb3dzZXIkMSQxLmV4cG9ydHMucHJlcGVuZE9uY2VMaXN0ZW5lcixicm93c2VyJDEkMS5leHBvcnRzLnJlbW92ZUFsbExpc3RlbmVycyxicm93c2VyJDEkMS5leHBvcnRzLnJlbW92ZUxpc3RlbmVyLGJyb3dzZXIkMSQxLmV4cG9ydHMudGl0bGUsYnJvd3NlciQxJDEuZXhwb3J0cy51bWFzayxicm93c2VyJDEkMS5leHBvcnRzLnZlcnNpb24sYnJvd3NlciQxJDEuZXhwb3J0cy52ZXJzaW9uczt2YXIgX2dsb2JhbFRoaXM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBhPXRoaXN8fHNlbGY7cmV0dXJuIGRlbGV0ZSBlLnByb3RvdHlwZS5fX21hZ2ljX18sYX1pZih0eXBlb2YgZ2xvYmFsVGhpcz09Im9iamVjdCIpcmV0dXJuIGdsb2JhbFRoaXM7aWYodGhpcylyZXR1cm4gdCgpO2UuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9fbWFnaWNfXyIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6dH0pO3ZhciBuPV9fbWFnaWNfXztyZXR1cm4gbn0oT2JqZWN0KSxfZ2xvYmFsJDE9X2dsb2JhbFRoaXMsYnJvd3NlciRiPXtleHBvcnRzOnt9fSxzYWZlQnVmZmVyJDI9e2V4cG9ydHM6e319Oy8qISBzYWZlLWJ1ZmZlci4gTUlUIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqLyhmdW5jdGlvbihlLHQpe3ZhciBuPWJ1ZmZlciQyLGE9bi5CdWZmZXI7ZnVuY3Rpb24gdShoLGQpe2Zvcih2YXIgdyBpbiBoKWRbd109aFt3XX1hLmZyb20mJmEuYWxsb2MmJmEuYWxsb2NVbnNhZmUmJmEuYWxsb2NVbnNhZmVTbG93P2UuZXhwb3J0cz1uOih1KG4sdCksdC5CdWZmZXI9byk7ZnVuY3Rpb24gbyhoLGQsdyl7cmV0dXJuIGEoaCxkLHcpfW8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpLHUoYSxvKSxvLmZyb209ZnVuY3Rpb24oaCxkLHcpe2lmKHR5cGVvZiBoPT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlciIpO3JldHVybiBhKGgsZCx3KX0sby5hbGxvYz1mdW5jdGlvbihoLGQsdyl7aWYodHlwZW9mIGghPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIiKTt2YXIgXz1hKGgpO3JldHVybiBkIT09dm9pZCAwP3R5cGVvZiB3PT0ic3RyaW5nIj9fLmZpbGwoZCx3KTpfLmZpbGwoZCk6Xy5maWxsKDApLF99LG8uYWxsb2NVbnNhZmU9ZnVuY3Rpb24oaCl7aWYodHlwZW9mIGghPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIiKTtyZXR1cm4gYShoKX0sby5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oaCl7aWYodHlwZW9mIGghPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIiKTtyZXR1cm4gbi5TbG93QnVmZmVyKGgpfX0pKHNhZmVCdWZmZXIkMixzYWZlQnVmZmVyJDIuZXhwb3J0cyk7dmFyIHNhZmVCdWZmZXJFeHBvcnRzJDE9c2FmZUJ1ZmZlciQyLmV4cG9ydHMsTUFYX0JZVEVTPTY1NTM2LE1BWF9VSU5UMzI9NDI5NDk2NzI5NTtmdW5jdGlvbiBvbGRCcm93c2VyJDEoKXt0aHJvdyBuZXcgRXJyb3IoYFNlY3VyZSByYW5kb20gbnVtYmVyIGdlbmVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuClVzZSBDaHJvbWUsIEZpcmVmb3ggb3IgSW50ZXJuZXQgRXhwbG9yZXIgMTFgKX12YXIgQnVmZmVyJEM9c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXIsY3J5cHRvJDI9Y29tbW9uanNHbG9iYWwuY3J5cHRvfHxjb21tb25qc0dsb2JhbC5tc0NyeXB0bztjcnlwdG8kMiYmY3J5cHRvJDIuZ2V0UmFuZG9tVmFsdWVzP2Jyb3dzZXIkYi5leHBvcnRzPXJhbmRvbUJ5dGVzJDI6YnJvd3NlciRiLmV4cG9ydHM9b2xkQnJvd3NlciQxO2Z1bmN0aW9uIHJhbmRvbUJ5dGVzJDIoZSx0KXtpZihlPk1BWF9VSU5UMzIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoInJlcXVlc3RlZCB0b28gbWFueSByYW5kb20gYnl0ZXMiKTt2YXIgbj1CdWZmZXIkQy5hbGxvY1Vuc2FmZShlKTtpZihlPjApaWYoZT5NQVhfQllURVMpZm9yKHZhciBhPTA7YTxlO2ErPU1BWF9CWVRFUyljcnlwdG8kMi5nZXRSYW5kb21WYWx1ZXMobi5zbGljZShhLGErTUFYX0JZVEVTKSk7ZWxzZSBjcnlwdG8kMi5nZXRSYW5kb21WYWx1ZXMobik7cmV0dXJuIHR5cGVvZiB0PT0iZnVuY3Rpb24iP2FwaSQxLm5leHRUaWNrKGZ1bmN0aW9uKCl7dChudWxsLG4pfSk6bn12YXIgYnJvd3NlckV4cG9ydHM9YnJvd3NlciRiLmV4cG9ydHMsaW5oZXJpdHNfYnJvd3Nlcj17ZXhwb3J0czp7fX07dHlwZW9mIE9iamVjdC5jcmVhdGU9PSJmdW5jdGlvbiI/aW5oZXJpdHNfYnJvd3Nlci5leHBvcnRzPWZ1bmN0aW9uKHQsbil7biYmKHQuc3VwZXJfPW4sdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpfTppbmhlcml0c19icm93c2VyLmV4cG9ydHM9ZnVuY3Rpb24odCxuKXtpZihuKXt0LnN1cGVyXz1uO3ZhciBhPWZ1bmN0aW9uKCl7fTthLnByb3RvdHlwZT1uLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgYSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10fX07dmFyIGluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzPWluaGVyaXRzX2Jyb3dzZXIuZXhwb3J0cyxyZWFkYWJsZUJyb3dzZXIkMT17ZXhwb3J0czp7fX0sZXZlbnRzPXtleHBvcnRzOnt9fSxSPXR5cGVvZiBSZWZsZWN0PT0ib2JqZWN0Ij9SZWZsZWN0Om51bGwsUmVmbGVjdEFwcGx5PVImJnR5cGVvZiBSLmFwcGx5PT0iZnVuY3Rpb24iP1IuYXBwbHk6ZnVuY3Rpb24odCxuLGEpe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0LG4sYSl9LFJlZmxlY3RPd25LZXlzO1ImJnR5cGVvZiBSLm93bktleXM9PSJmdW5jdGlvbiI/UmVmbGVjdE93bktleXM9Ui5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/UmVmbGVjdE93bktleXM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpKX06UmVmbGVjdE93bktleXM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpfTtmdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcoZSl7Y29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oZSl9dmFyIE51bWJlcklzTmFOPU51bWJlci5pc05hTnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT10fTtmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKXtFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpfWV2ZW50cy5leHBvcnRzPUV2ZW50RW1pdHRlcixldmVudHMuZXhwb3J0cy5vbmNlPW9uY2UkMixFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgZGVmYXVsdE1heExpc3RlbmVycz0xMDtmdW5jdGlvbiBjaGVja0xpc3RlbmVyKGUpe2lmKHR5cGVvZiBlIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAibGlzdGVuZXIiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCJkZWZhdWx0TWF4TGlzdGVuZXJzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZGVmYXVsdE1heExpc3RlbmVyc30sc2V0OmZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT0ibnVtYmVyInx8ZTwwfHxOdW1iZXJJc05hTihlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mICJkZWZhdWx0TWF4TGlzdGVuZXJzIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrIi4iKTtkZWZhdWx0TWF4TGlzdGVuZXJzPWV9fSksRXZlbnRFbWl0dGVyLmluaXQ9ZnVuY3Rpb24oKXsodGhpcy5fZXZlbnRzPT09dm9pZCAwfHx0aGlzLl9ldmVudHM9PT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykmJih0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKHQpe2lmKHR5cGVvZiB0IT0ibnVtYmVyInx8dDwwfHxOdW1iZXJJc05hTih0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mICJuIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK3QrIi4iKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPXQsdGhpc307ZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyhlKXtyZXR1cm4gZS5fbWF4TGlzdGVuZXJzPT09dm9pZCAwP0V2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzOmUuX21heExpc3RlbmVyc31FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPVtdLGE9MTthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKW4ucHVzaChhcmd1bWVudHNbYV0pO3ZhciB1PXQ9PT0iZXJyb3IiLG89dGhpcy5fZXZlbnRzO2lmKG8hPT12b2lkIDApdT11JiZvLmVycm9yPT09dm9pZCAwO2Vsc2UgaWYoIXUpcmV0dXJuITE7aWYodSl7dmFyIGg7aWYobi5sZW5ndGg+MCYmKGg9blswXSksaCBpbnN0YW5jZW9mIEVycm9yKXRocm93IGg7dmFyIGQ9bmV3IEVycm9yKCJVbmhhbmRsZWQgZXJyb3IuIisoaD8iICgiK2gubWVzc2FnZSsiKSI6IiIpKTt0aHJvdyBkLmNvbnRleHQ9aCxkfXZhciB3PW9bdF07aWYodz09PXZvaWQgMClyZXR1cm4hMTtpZih0eXBlb2Ygdz09ImZ1bmN0aW9uIilSZWZsZWN0QXBwbHkodyx0aGlzLG4pO2Vsc2UgZm9yKHZhciBfPXcubGVuZ3RoLGI9YXJyYXlDbG9uZSh3LF8pLGE9MDthPF87KythKVJlZmxlY3RBcHBseShiW2FdLHRoaXMsbik7cmV0dXJuITB9O2Z1bmN0aW9uIF9hZGRMaXN0ZW5lcihlLHQsbixhKXt2YXIgdSxvLGg7aWYoY2hlY2tMaXN0ZW5lcihuKSxvPWUuX2V2ZW50cyxvPT09dm9pZCAwPyhvPWUuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLGUuX2V2ZW50c0NvdW50PTApOihvLm5ld0xpc3RlbmVyIT09dm9pZCAwJiYoZS5lbWl0KCJuZXdMaXN0ZW5lciIsdCxuLmxpc3RlbmVyP24ubGlzdGVuZXI6biksbz1lLl9ldmVudHMpLGg9b1t0XSksaD09PXZvaWQgMCloPW9bdF09biwrK2UuX2V2ZW50c0NvdW50O2Vsc2UgaWYodHlwZW9mIGg9PSJmdW5jdGlvbiI/aD1vW3RdPWE/W24saF06W2gsbl06YT9oLnVuc2hpZnQobik6aC5wdXNoKG4pLHU9X2dldE1heExpc3RlbmVycyhlKSx1PjAmJmgubGVuZ3RoPnUmJiFoLndhcm5lZCl7aC53YXJuZWQ9ITA7dmFyIGQ9bmV3IEVycm9yKCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICIraC5sZW5ndGgrIiAiK1N0cmluZyh0KSsiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQiKTtkLm5hbWU9Ik1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyIsZC5lbWl0dGVyPWUsZC50eXBlPXQsZC5jb3VudD1oLmxlbmd0aCxQcm9jZXNzRW1pdFdhcm5pbmcoZCl9cmV0dXJuIGV9RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0LG4pe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0LG4sITEpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uPUV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI9ZnVuY3Rpb24odCxuKXtyZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsdCxuLCEwKX07ZnVuY3Rpb24gb25jZVdyYXBwZXIoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLGFyZ3VtZW50cy5sZW5ndGg9PT0wP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIF9vbmNlV3JhcChlLHQsbil7dmFyIGE9e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsdGFyZ2V0OmUsdHlwZTp0LGxpc3RlbmVyOm59LHU9b25jZVdyYXBwZXIuYmluZChhKTtyZXR1cm4gdS5saXN0ZW5lcj1uLGEud3JhcEZuPXUsdX1FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxuKXtyZXR1cm4gY2hlY2tMaXN0ZW5lcihuKSx0aGlzLm9uKHQsX29uY2VXcmFwKHRoaXMsdCxuKSksdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGNoZWNrTGlzdGVuZXIobiksdGhpcy5wcmVwZW5kTGlzdGVuZXIodCxfb25jZVdyYXAodGhpcyx0LG4pKSx0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsbil7dmFyIGEsdSxvLGgsZDtpZihjaGVja0xpc3RlbmVyKG4pLHU9dGhpcy5fZXZlbnRzLHU9PT12b2lkIDApcmV0dXJuIHRoaXM7aWYoYT11W3RdLGE9PT12b2lkIDApcmV0dXJuIHRoaXM7aWYoYT09PW58fGEubGlzdGVuZXI9PT1uKS0tdGhpcy5fZXZlbnRzQ291bnQ9PT0wP3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOihkZWxldGUgdVt0XSx1LnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIix0LGEubGlzdGVuZXJ8fG4pKTtlbHNlIGlmKHR5cGVvZiBhIT0iZnVuY3Rpb24iKXtmb3Iobz0tMSxoPWEubGVuZ3RoLTE7aD49MDtoLS0paWYoYVtoXT09PW58fGFbaF0ubGlzdGVuZXI9PT1uKXtkPWFbaF0ubGlzdGVuZXIsbz1oO2JyZWFrfWlmKG88MClyZXR1cm4gdGhpcztvPT09MD9hLnNoaWZ0KCk6c3BsaWNlT25lKGEsbyksYS5sZW5ndGg9PT0xJiYodVt0XT1hWzBdKSx1LnJlbW92ZUxpc3RlbmVyIT09dm9pZCAwJiZ0aGlzLmVtaXQoInJlbW92ZUxpc3RlbmVyIix0LGR8fG4pfXJldHVybiB0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBuLGEsdTtpZihhPXRoaXMuX2V2ZW50cyxhPT09dm9pZCAwKXJldHVybiB0aGlzO2lmKGEucmVtb3ZlTGlzdGVuZXI9PT12b2lkIDApcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PT0wPyh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTphW3RdIT09dm9pZCAwJiYoLS10aGlzLl9ldmVudHNDb3VudD09PTA/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIGFbdF0pLHRoaXM7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApe3ZhciBvPU9iamVjdC5rZXlzKGEpLGg7Zm9yKHU9MDt1PG8ubGVuZ3RoOysrdSloPW9bdV0saCE9PSJyZW1vdmVMaXN0ZW5lciImJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGgpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVtb3ZlTGlzdGVuZXIiKSx0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYobj1hW3RdLHR5cGVvZiBuPT0iZnVuY3Rpb24iKXRoaXMucmVtb3ZlTGlzdGVuZXIodCxuKTtlbHNlIGlmKG4hPT12b2lkIDApZm9yKHU9bi5sZW5ndGgtMTt1Pj0wO3UtLSl0aGlzLnJlbW92ZUxpc3RlbmVyKHQsblt1XSk7cmV0dXJuIHRoaXN9O2Z1bmN0aW9uIF9saXN0ZW5lcnMoZSx0LG4pe3ZhciBhPWUuX2V2ZW50cztpZihhPT09dm9pZCAwKXJldHVybltdO3ZhciB1PWFbdF07cmV0dXJuIHU9PT12b2lkIDA/W106dHlwZW9mIHU9PSJmdW5jdGlvbiI/bj9bdS5saXN0ZW5lcnx8dV06W3VdOm4/dW53cmFwTGlzdGVuZXJzKHUpOmFycmF5Q2xvbmUodSx1Lmxlbmd0aCl9RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0LCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0LCExKX0sRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIGUubGlzdGVuZXJDb3VudD09ImZ1bmN0aW9uIj9lLmxpc3RlbmVyQ291bnQodCk6bGlzdGVuZXJDb3VudC5jYWxsKGUsdCl9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1saXN0ZW5lckNvdW50O2Z1bmN0aW9uIGxpc3RlbmVyQ291bnQoZSl7dmFyIHQ9dGhpcy5fZXZlbnRzO2lmKHQhPT12b2lkIDApe3ZhciBuPXRbZV07aWYodHlwZW9mIG49PSJmdW5jdGlvbiIpcmV0dXJuIDE7aWYobiE9PXZvaWQgMClyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/UmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKTpbXX07ZnVuY3Rpb24gYXJyYXlDbG9uZShlLHQpe2Zvcih2YXIgbj1uZXcgQXJyYXkodCksYT0wO2E8dDsrK2EpblthXT1lW2FdO3JldHVybiBufWZ1bmN0aW9uIHNwbGljZU9uZShlLHQpe2Zvcig7dCsxPGUubGVuZ3RoO3QrKyllW3RdPWVbdCsxXTtlLnBvcCgpfWZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhlKXtmb3IodmFyIHQ9bmV3IEFycmF5KGUubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXT1lW25dLmxpc3RlbmVyfHxlW25dO3JldHVybiB0fWZ1bmN0aW9uIG9uY2UkMihlLHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLGEpe2Z1bmN0aW9uIHUoaCl7ZS5yZW1vdmVMaXN0ZW5lcih0LG8pLGEoaCl9ZnVuY3Rpb24gbygpe3R5cGVvZiBlLnJlbW92ZUxpc3RlbmVyPT0iZnVuY3Rpb24iJiZlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdSksbihbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfWV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlLHQsbyx7b25jZTohMH0pLHQhPT0iZXJyb3IiJiZhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlLHUse29uY2U6ITB9KX0pfWZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGUsdCxuKXt0eXBlb2YgZS5vbj09ImZ1bmN0aW9uIiYmZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGUsImVycm9yIix0LG4pfWZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlLHQsbixhKXtpZih0eXBlb2YgZS5vbj09ImZ1bmN0aW9uIilhLm9uY2U/ZS5vbmNlKHQsbik6ZS5vbih0LG4pO2Vsc2UgaWYodHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lcj09ImZ1bmN0aW9uIillLmFkZEV2ZW50TGlzdGVuZXIodCxmdW5jdGlvbiB1KG8pe2Eub25jZSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsdSksbihvKX0pO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJlbWl0dGVyIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpfXZhciBldmVudHNFeHBvcnRzPWV2ZW50cy5leHBvcnRzLHN0cmVhbUJyb3dzZXIkMT1ldmVudHNFeHBvcnRzLkV2ZW50RW1pdHRlcix1dGlsJDM9e30sdHlwZXM9e30sc2hhbXMkMT1mdW5jdGlvbigpe2lmKHR5cGVvZiBTeW1ib2whPSJmdW5jdGlvbiJ8fHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzIT0iZnVuY3Rpb24iKXJldHVybiExO2lmKHR5cGVvZiBTeW1ib2wuaXRlcmF0b3I9PSJzeW1ib2wiKXJldHVybiEwO3ZhciB0PXt9LG49U3ltYm9sKCJ0ZXN0IiksYT1PYmplY3Qobik7aWYodHlwZW9mIG49PSJzdHJpbmcifHxPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikhPT0iW29iamVjdCBTeW1ib2xdInx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpIT09IltvYmplY3QgU3ltYm9sXSIpcmV0dXJuITE7dmFyIHU9NDI7dFtuXT11O2Zvcih2YXIgbyBpbiB0KXJldHVybiExO2lmKHR5cGVvZiBPYmplY3Qua2V5cz09ImZ1bmN0aW9uIiYmT2JqZWN0LmtleXModCkubGVuZ3RoIT09MHx8dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPT0iZnVuY3Rpb24iJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5sZW5ndGghPT0wKXJldHVybiExO3ZhciBoPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7aWYoaC5sZW5ndGghPT0xfHxoWzBdIT09bnx8IU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LG4pKXJldHVybiExO2lmKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPT0iZnVuY3Rpb24iKXt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik7aWYoZC52YWx1ZSE9PXV8fGQuZW51bWVyYWJsZSE9PSEwKXJldHVybiExfXJldHVybiEwfSxoYXNTeW1ib2xzJDM9c2hhbXMkMSxzaGFtcz1mdW5jdGlvbigpe3JldHVybiBoYXNTeW1ib2xzJDMoKSYmISFTeW1ib2wudG9TdHJpbmdUYWd9LGVzT2JqZWN0QXRvbXM9T2JqZWN0LGVzRXJyb3JzPUVycm9yLF9ldmFsPUV2YWxFcnJvcixyYW5nZT1SYW5nZUVycm9yLHJlZj1SZWZlcmVuY2VFcnJvcixzeW50YXg9U3ludGF4RXJyb3IsdHlwZT1UeXBlRXJyb3IsdXJpPVVSSUVycm9yLGFicyQxPU1hdGguYWJzLGZsb29yJDE9TWF0aC5mbG9vcixtYXgkMT1NYXRoLm1heCxtaW4kMT1NYXRoLm1pbixwb3ckMT1NYXRoLnBvdyxnT1BEJDI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwkZ09QRCQxPWdPUEQkMjtpZigkZ09QRCQxKXRyeXskZ09QRCQxKFtdLCJsZW5ndGgiKX1jYXRjaHskZ09QRCQxPW51bGx9dmFyIGdvcGQkMT0kZ09QRCQxLCRkZWZpbmVQcm9wZXJ0eSQzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eXx8ITE7aWYoJGRlZmluZVByb3BlcnR5JDMpdHJ5eyRkZWZpbmVQcm9wZXJ0eSQzKHt9LCJhIix7dmFsdWU6MX0pfWNhdGNoeyRkZWZpbmVQcm9wZXJ0eSQzPSExfXZhciBlc0RlZmluZVByb3BlcnR5PSRkZWZpbmVQcm9wZXJ0eSQzLGhhc1N5bWJvbHMkMixoYXNSZXF1aXJlZEhhc1N5bWJvbHM7ZnVuY3Rpb24gcmVxdWlyZUhhc1N5bWJvbHMoKXtpZihoYXNSZXF1aXJlZEhhc1N5bWJvbHMpcmV0dXJuIGhhc1N5bWJvbHMkMjtoYXNSZXF1aXJlZEhhc1N5bWJvbHM9MTt2YXIgZT10eXBlb2YgU3ltYm9sPCJ1IiYmU3ltYm9sLHQ9c2hhbXMkMTtyZXR1cm4gaGFzU3ltYm9scyQyPWZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiBlIT0iZnVuY3Rpb24ifHx0eXBlb2YgU3ltYm9sIT0iZnVuY3Rpb24ifHx0eXBlb2YgZSgiZm9vIikhPSJzeW1ib2wifHx0eXBlb2YgU3ltYm9sKCJiYXIiKSE9InN5bWJvbCI/ITE6dCgpfSxoYXNTeW1ib2xzJDJ9dmFyIGltcGxlbWVudGF0aW9uJDYsaGFzUmVxdWlyZWRJbXBsZW1lbnRhdGlvbiQyO2Z1bmN0aW9uIHJlcXVpcmVJbXBsZW1lbnRhdGlvbiQyKCl7aWYoaGFzUmVxdWlyZWRJbXBsZW1lbnRhdGlvbiQyKXJldHVybiBpbXBsZW1lbnRhdGlvbiQ2O2hhc1JlcXVpcmVkSW1wbGVtZW50YXRpb24kMj0xO3ZhciBlPSJGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICIsdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLG49TWF0aC5tYXgsYT0iW29iamVjdCBGdW5jdGlvbl0iLHU9ZnVuY3Rpb24odyxfKXtmb3IodmFyIGI9W10sTT0wO008dy5sZW5ndGg7TSs9MSliW01dPXdbTV07Zm9yKHZhciBPPTA7TzxfLmxlbmd0aDtPKz0xKWJbTyt3Lmxlbmd0aF09X1tPXTtyZXR1cm4gYn0sbz1mdW5jdGlvbih3LF8pe2Zvcih2YXIgYj1bXSxNPV98fDAsTz0wO008dy5sZW5ndGg7TSs9MSxPKz0xKWJbT109d1tNXTtyZXR1cm4gYn0saD1mdW5jdGlvbihkLHcpe2Zvcih2YXIgXz0iIixiPTA7YjxkLmxlbmd0aDtiKz0xKV8rPWRbYl0sYisxPGQubGVuZ3RoJiYoXys9dyk7cmV0dXJuIF99O3JldHVybiBpbXBsZW1lbnRhdGlvbiQ2PWZ1bmN0aW9uKHcpe3ZhciBfPXRoaXM7aWYodHlwZW9mIF8hPSJmdW5jdGlvbiJ8fHQuYXBwbHkoXykhPT1hKXRocm93IG5ldyBUeXBlRXJyb3IoZStfKTtmb3IodmFyIGI9byhhcmd1bWVudHMsMSksTSxPPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIE0pe3ZhciBIPV8uYXBwbHkodGhpcyx1KGIsYXJndW1lbnRzKSk7cmV0dXJuIE9iamVjdChIKT09PUg/SDp0aGlzfXJldHVybiBfLmFwcGx5KHcsdShiLGFyZ3VtZW50cykpfSxUPW4oMCxfLmxlbmd0aC1iLmxlbmd0aCksUD1bXSxMPTA7TDxUO0wrKylQW0xdPSIkIitMO2lmKE09RnVuY3Rpb24oImJpbmRlciIsInJldHVybiBmdW5jdGlvbiAoIitoKFAsIiwiKSsiKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IH0iKShPKSxfLnByb3RvdHlwZSl7dmFyIHo9ZnVuY3Rpb24oKXt9O3oucHJvdG90eXBlPV8ucHJvdG90eXBlLE0ucHJvdG90eXBlPW5ldyB6LHoucHJvdG90eXBlPW51bGx9cmV0dXJuIE19LGltcGxlbWVudGF0aW9uJDZ9dmFyIGZ1bmN0aW9uQmluZCxoYXNSZXF1aXJlZEZ1bmN0aW9uQmluZDtmdW5jdGlvbiByZXF1aXJlRnVuY3Rpb25CaW5kKCl7aWYoaGFzUmVxdWlyZWRGdW5jdGlvbkJpbmQpcmV0dXJuIGZ1bmN0aW9uQmluZDtoYXNSZXF1aXJlZEZ1bmN0aW9uQmluZD0xO3ZhciBlPXJlcXVpcmVJbXBsZW1lbnRhdGlvbiQyKCk7cmV0dXJuIGZ1bmN0aW9uQmluZD1GdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8ZSxmdW5jdGlvbkJpbmR9dmFyIGZ1bmN0aW9uQ2FsbCxoYXNSZXF1aXJlZEZ1bmN0aW9uQ2FsbDtmdW5jdGlvbiByZXF1aXJlRnVuY3Rpb25DYWxsKCl7cmV0dXJuIGhhc1JlcXVpcmVkRnVuY3Rpb25DYWxsfHwoaGFzUmVxdWlyZWRGdW5jdGlvbkNhbGw9MSxmdW5jdGlvbkNhbGw9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwpLGZ1bmN0aW9uQ2FsbH12YXIgZnVuY3Rpb25BcHBseSxoYXNSZXF1aXJlZEZ1bmN0aW9uQXBwbHk7ZnVuY3Rpb24gcmVxdWlyZUZ1bmN0aW9uQXBwbHkoKXtyZXR1cm4gaGFzUmVxdWlyZWRGdW5jdGlvbkFwcGx5fHwoaGFzUmVxdWlyZWRGdW5jdGlvbkFwcGx5PTEsZnVuY3Rpb25BcHBseT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLGZ1bmN0aW9uQXBwbHl9dmFyIHJlZmxlY3RBcHBseSQxPXR5cGVvZiBSZWZsZWN0PCJ1IiYmUmVmbGVjdCYmUmVmbGVjdC5hcHBseSxiaW5kJDQ9cmVxdWlyZUZ1bmN0aW9uQmluZCgpLCRhcHBseSQyPXJlcXVpcmVGdW5jdGlvbkFwcGx5KCksJGNhbGwkMj1yZXF1aXJlRnVuY3Rpb25DYWxsKCksJHJlZmxlY3RBcHBseT1yZWZsZWN0QXBwbHkkMSxhY3R1YWxBcHBseSQxPSRyZWZsZWN0QXBwbHl8fGJpbmQkNC5jYWxsKCRjYWxsJDIsJGFwcGx5JDIpLGJpbmQkMz1yZXF1aXJlRnVuY3Rpb25CaW5kKCksJFR5cGVFcnJvciQzPXR5cGUsJGNhbGwkMT1yZXF1aXJlRnVuY3Rpb25DYWxsKCksJGFjdHVhbEFwcGx5PWFjdHVhbEFwcGx5JDEsY2FsbEJpbmRBcHBseUhlbHBlcnM9ZnVuY3Rpb24odCl7aWYodC5sZW5ndGg8MXx8dHlwZW9mIHRbMF0hPSJmdW5jdGlvbiIpdGhyb3cgbmV3ICRUeXBlRXJyb3IkMygiYSBmdW5jdGlvbiBpcyByZXF1aXJlZCIpO3JldHVybiAkYWN0dWFsQXBwbHkoYmluZCQzLCRjYWxsJDEsdCl9LGdldCxoYXNSZXF1aXJlZEdldDtmdW5jdGlvbiByZXF1aXJlR2V0KCl7aWYoaGFzUmVxdWlyZWRHZXQpcmV0dXJuIGdldDtoYXNSZXF1aXJlZEdldD0xO3ZhciBlPWNhbGxCaW5kQXBwbHlIZWxwZXJzLHQ9Z29wZCQxLG47dHJ5e249W10uX19wcm90b19fPT09QXJyYXkucHJvdG90eXBlfWNhdGNoKGgpe2lmKCFofHx0eXBlb2YgaCE9Im9iamVjdCJ8fCEoImNvZGUiaW4gaCl8fGguY29kZSE9PSJFUlJfUFJPVE9fQUNDRVNTIil0aHJvdyBofXZhciBhPSEhbiYmdCYmdChPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKSx1PU9iamVjdCxvPXUuZ2V0UHJvdG90eXBlT2Y7cmV0dXJuIGdldD1hJiZ0eXBlb2YgYS5nZXQ9PSJmdW5jdGlvbiI/ZShbYS5nZXRdKTp0eXBlb2Ygbz09ImZ1bmN0aW9uIj9mdW5jdGlvbihkKXtyZXR1cm4gbyhkPT1udWxsP2Q6dShkKSl9OiExLGdldH12YXIgaGFzb3duLGhhc1JlcXVpcmVkSGFzb3duO2Z1bmN0aW9uIHJlcXVpcmVIYXNvd24oKXtpZihoYXNSZXF1aXJlZEhhc293bilyZXR1cm4gaGFzb3duO2hhc1JlcXVpcmVkSGFzb3duPTE7dmFyIGU9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49cmVxdWlyZUZ1bmN0aW9uQmluZCgpO3JldHVybiBoYXNvd249bi5jYWxsKGUsdCksaGFzb3dufXZhciB1bmRlZmluZWQkMSwkT2JqZWN0JDE9ZXNPYmplY3RBdG9tcywkRXJyb3I9ZXNFcnJvcnMsJEV2YWxFcnJvcj1fZXZhbCwkUmFuZ2VFcnJvcj1yYW5nZSwkUmVmZXJlbmNlRXJyb3I9cmVmLCRTeW50YXhFcnJvciQxPXN5bnRheCwkVHlwZUVycm9yJDI9dHlwZSwkVVJJRXJyb3I9dXJpLGFicz1hYnMkMSxmbG9vcj1mbG9vciQxLG1heD1tYXgkMSxtaW49bWluJDEscG93PXBvdyQxLCRGdW5jdGlvbj1GdW5jdGlvbixnZXRFdmFsbGVkQ29uc3RydWN0b3I9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiAkRnVuY3Rpb24oJyJ1c2Ugc3RyaWN0IjsgcmV0dXJuICgnK2UrIikuY29uc3RydWN0b3I7IikoKX1jYXRjaHt9fSwkZ09QRD1nb3BkJDEsJGRlZmluZVByb3BlcnR5JDI9ZXNEZWZpbmVQcm9wZXJ0eSx0aHJvd1R5cGVFcnJvcj1mdW5jdGlvbigpe3Rocm93IG5ldyAkVHlwZUVycm9yJDJ9LFRocm93VHlwZUVycm9yPSRnT1BEP2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBhcmd1bWVudHMuY2FsbGVlLHRocm93VHlwZUVycm9yfWNhdGNoe3RyeXtyZXR1cm4gJGdPUEQoYXJndW1lbnRzLCJjYWxsZWUiKS5nZXR9Y2F0Y2h7cmV0dXJuIHRocm93VHlwZUVycm9yfX19KCk6dGhyb3dUeXBlRXJyb3IsaGFzU3ltYm9scyQxPXJlcXVpcmVIYXNTeW1ib2xzKCkoKSxnZXREdW5kZXJQcm90bz1yZXF1aXJlR2V0KCksZ2V0UHJvdG8kMT10eXBlb2YgUmVmbGVjdD09ImZ1bmN0aW9uIiYmUmVmbGVjdC5nZXRQcm90b3R5cGVPZnx8JE9iamVjdCQxLmdldFByb3RvdHlwZU9mfHxnZXREdW5kZXJQcm90bywkYXBwbHkkMT1yZXF1aXJlRnVuY3Rpb25BcHBseSgpLCRjYWxsPXJlcXVpcmVGdW5jdGlvbkNhbGwoKSxuZWVkc0V2YWw9e30sVHlwZWRBcnJheT10eXBlb2YgVWludDhBcnJheT4idSJ8fCFnZXRQcm90byQxP3VuZGVmaW5lZCQxOmdldFByb3RvJDEoVWludDhBcnJheSksSU5UUklOU0lDUz17X19wcm90b19fOm51bGwsIiVBZ2dyZWdhdGVFcnJvciUiOnR5cGVvZiBBZ2dyZWdhdGVFcnJvcj4idSI/dW5kZWZpbmVkJDE6QWdncmVnYXRlRXJyb3IsIiVBcnJheSUiOkFycmF5LCIlQXJyYXlCdWZmZXIlIjp0eXBlb2YgQXJyYXlCdWZmZXI+InUiP3VuZGVmaW5lZCQxOkFycmF5QnVmZmVyLCIlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUiOmhhc1N5bWJvbHMkMSYmZ2V0UHJvdG8kMT9nZXRQcm90byQxKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSk6dW5kZWZpbmVkJDEsIiVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlIjp1bmRlZmluZWQkMSwiJUFzeW5jRnVuY3Rpb24lIjpuZWVkc0V2YWwsIiVBc3luY0dlbmVyYXRvciUiOm5lZWRzRXZhbCwiJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lIjpuZWVkc0V2YWwsIiVBc3luY0l0ZXJhdG9yUHJvdG90eXBlJSI6bmVlZHNFdmFsLCIlQXRvbWljcyUiOnR5cGVvZiBBdG9taWNzPiJ1Ij91bmRlZmluZWQkMTpBdG9taWNzLCIlQmlnSW50JSI6dHlwZW9mIEJpZ0ludD4idSI/dW5kZWZpbmVkJDE6QmlnSW50LCIlQmlnSW50NjRBcnJheSUiOnR5cGVvZiBCaWdJbnQ2NEFycmF5PiJ1Ij91bmRlZmluZWQkMTpCaWdJbnQ2NEFycmF5LCIlQmlnVWludDY0QXJyYXklIjp0eXBlb2YgQmlnVWludDY0QXJyYXk+InUiP3VuZGVmaW5lZCQxOkJpZ1VpbnQ2NEFycmF5LCIlQm9vbGVhbiUiOkJvb2xlYW4sIiVEYXRhVmlldyUiOnR5cGVvZiBEYXRhVmlldz4idSI/dW5kZWZpbmVkJDE6RGF0YVZpZXcsIiVEYXRlJSI6RGF0ZSwiJWRlY29kZVVSSSUiOmRlY29kZVVSSSwiJWRlY29kZVVSSUNvbXBvbmVudCUiOmRlY29kZVVSSUNvbXBvbmVudCwiJWVuY29kZVVSSSUiOmVuY29kZVVSSSwiJWVuY29kZVVSSUNvbXBvbmVudCUiOmVuY29kZVVSSUNvbXBvbmVudCwiJUVycm9yJSI6JEVycm9yLCIlZXZhbCUiOmV2YWwsIiVFdmFsRXJyb3IlIjokRXZhbEVycm9yLCIlRmxvYXQzMkFycmF5JSI6dHlwZW9mIEZsb2F0MzJBcnJheT4idSI/dW5kZWZpbmVkJDE6RmxvYXQzMkFycmF5LCIlRmxvYXQ2NEFycmF5JSI6dHlwZW9mIEZsb2F0NjRBcnJheT4idSI/dW5kZWZpbmVkJDE6RmxvYXQ2NEFycmF5LCIlRmluYWxpemF0aW9uUmVnaXN0cnklIjp0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnk+InUiP3VuZGVmaW5lZCQxOkZpbmFsaXphdGlvblJlZ2lzdHJ5LCIlRnVuY3Rpb24lIjokRnVuY3Rpb24sIiVHZW5lcmF0b3JGdW5jdGlvbiUiOm5lZWRzRXZhbCwiJUludDhBcnJheSUiOnR5cGVvZiBJbnQ4QXJyYXk+InUiP3VuZGVmaW5lZCQxOkludDhBcnJheSwiJUludDE2QXJyYXklIjp0eXBlb2YgSW50MTZBcnJheT4idSI/dW5kZWZpbmVkJDE6SW50MTZBcnJheSwiJUludDMyQXJyYXklIjp0eXBlb2YgSW50MzJBcnJheT4idSI/dW5kZWZpbmVkJDE6SW50MzJBcnJheSwiJWlzRmluaXRlJSI6aXNGaW5pdGUsIiVpc05hTiUiOmlzTmFOLCIlSXRlcmF0b3JQcm90b3R5cGUlIjpoYXNTeW1ib2xzJDEmJmdldFByb3RvJDE/Z2V0UHJvdG8kMShnZXRQcm90byQxKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkpOnVuZGVmaW5lZCQxLCIlSlNPTiUiOnR5cGVvZiBKU09OPT0ib2JqZWN0Ij9KU09OOnVuZGVmaW5lZCQxLCIlTWFwJSI6dHlwZW9mIE1hcD4idSI/dW5kZWZpbmVkJDE6TWFwLCIlTWFwSXRlcmF0b3JQcm90b3R5cGUlIjp0eXBlb2YgTWFwPiJ1Inx8IWhhc1N5bWJvbHMkMXx8IWdldFByb3RvJDE/dW5kZWZpbmVkJDE6Z2V0UHJvdG8kMShuZXcgTWFwKClbU3ltYm9sLml0ZXJhdG9yXSgpKSwiJU1hdGglIjpNYXRoLCIlTnVtYmVyJSI6TnVtYmVyLCIlT2JqZWN0JSI6JE9iamVjdCQxLCIlT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciUiOiRnT1BELCIlcGFyc2VGbG9hdCUiOnBhcnNlRmxvYXQsIiVwYXJzZUludCUiOnBhcnNlSW50LCIlUHJvbWlzZSUiOnR5cGVvZiBQcm9taXNlPiJ1Ij91bmRlZmluZWQkMTpQcm9taXNlLCIlUHJveHklIjp0eXBlb2YgUHJveHk+InUiP3VuZGVmaW5lZCQxOlByb3h5LCIlUmFuZ2VFcnJvciUiOiRSYW5nZUVycm9yLCIlUmVmZXJlbmNlRXJyb3IlIjokUmVmZXJlbmNlRXJyb3IsIiVSZWZsZWN0JSI6dHlwZW9mIFJlZmxlY3Q+InUiP3VuZGVmaW5lZCQxOlJlZmxlY3QsIiVSZWdFeHAlIjpSZWdFeHAsIiVTZXQlIjp0eXBlb2YgU2V0PiJ1Ij91bmRlZmluZWQkMTpTZXQsIiVTZXRJdGVyYXRvclByb3RvdHlwZSUiOnR5cGVvZiBTZXQ+InUifHwhaGFzU3ltYm9scyQxfHwhZ2V0UHJvdG8kMT91bmRlZmluZWQkMTpnZXRQcm90byQxKG5ldyBTZXQoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLCIlU2hhcmVkQXJyYXlCdWZmZXIlIjp0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI+InUiP3VuZGVmaW5lZCQxOlNoYXJlZEFycmF5QnVmZmVyLCIlU3RyaW5nJSI6U3RyaW5nLCIlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlIjpoYXNTeW1ib2xzJDEmJmdldFByb3RvJDE/Z2V0UHJvdG8kMSgiIltTeW1ib2wuaXRlcmF0b3JdKCkpOnVuZGVmaW5lZCQxLCIlU3ltYm9sJSI6aGFzU3ltYm9scyQxP1N5bWJvbDp1bmRlZmluZWQkMSwiJVN5bnRheEVycm9yJSI6JFN5bnRheEVycm9yJDEsIiVUaHJvd1R5cGVFcnJvciUiOlRocm93VHlwZUVycm9yLCIlVHlwZWRBcnJheSUiOlR5cGVkQXJyYXksIiVUeXBlRXJyb3IlIjokVHlwZUVycm9yJDIsIiVVaW50OEFycmF5JSI6dHlwZW9mIFVpbnQ4QXJyYXk+InUiP3VuZGVmaW5lZCQxOlVpbnQ4QXJyYXksIiVVaW50OENsYW1wZWRBcnJheSUiOnR5cGVvZiBVaW50OENsYW1wZWRBcnJheT4idSI/dW5kZWZpbmVkJDE6VWludDhDbGFtcGVkQXJyYXksIiVVaW50MTZBcnJheSUiOnR5cGVvZiBVaW50MTZBcnJheT4idSI/dW5kZWZpbmVkJDE6VWludDE2QXJyYXksIiVVaW50MzJBcnJheSUiOnR5cGVvZiBVaW50MzJBcnJheT4idSI/dW5kZWZpbmVkJDE6VWludDMyQXJyYXksIiVVUklFcnJvciUiOiRVUklFcnJvciwiJVdlYWtNYXAlIjp0eXBlb2YgV2Vha01hcD4idSI/dW5kZWZpbmVkJDE6V2Vha01hcCwiJVdlYWtSZWYlIjp0eXBlb2YgV2Vha1JlZj4idSI/dW5kZWZpbmVkJDE6V2Vha1JlZiwiJVdlYWtTZXQlIjp0eXBlb2YgV2Vha1NldD4idSI/dW5kZWZpbmVkJDE6V2Vha1NldCwiJUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsJSI6JGNhbGwsIiVGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHklIjokYXBwbHkkMSwiJU9iamVjdC5kZWZpbmVQcm9wZXJ0eSUiOiRkZWZpbmVQcm9wZXJ0eSQyLCIlTWF0aC5hYnMlIjphYnMsIiVNYXRoLmZsb29yJSI6Zmxvb3IsIiVNYXRoLm1heCUiOm1heCwiJU1hdGgubWluJSI6bWluLCIlTWF0aC5wb3clIjpwb3d9O2lmKGdldFByb3RvJDEpdHJ5e251bGwuZXJyb3J9Y2F0Y2goZSl7dmFyIGVycm9yUHJvdG89Z2V0UHJvdG8kMShnZXRQcm90byQxKGUpKTtJTlRSSU5TSUNTWyIlRXJyb3IucHJvdG90eXBlJSJdPWVycm9yUHJvdG99dmFyIGRvRXZhbD1mdW5jdGlvbiBlKHQpe3ZhciBuO2lmKHQ9PT0iJUFzeW5jRnVuY3Rpb24lIiluPWdldEV2YWxsZWRDb25zdHJ1Y3RvcigiYXN5bmMgZnVuY3Rpb24gKCkge30iKTtlbHNlIGlmKHQ9PT0iJUdlbmVyYXRvckZ1bmN0aW9uJSIpbj1nZXRFdmFsbGVkQ29uc3RydWN0b3IoImZ1bmN0aW9uKiAoKSB7fSIpO2Vsc2UgaWYodD09PSIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiKW49Z2V0RXZhbGxlZENvbnN0cnVjdG9yKCJhc3luYyBmdW5jdGlvbiogKCkge30iKTtlbHNlIGlmKHQ9PT0iJUFzeW5jR2VuZXJhdG9yJSIpe3ZhciBhPWUoIiVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJSIpO2EmJihuPWEucHJvdG90eXBlKX1lbHNlIGlmKHQ9PT0iJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlIil7dmFyIHU9ZSgiJUFzeW5jR2VuZXJhdG9yJSIpO3UmJmdldFByb3RvJDEmJihuPWdldFByb3RvJDEodS5wcm90b3R5cGUpKX1yZXR1cm4gSU5UUklOU0lDU1t0XT1uLG59LExFR0FDWV9BTElBU0VTPXtfX3Byb3RvX186bnVsbCwiJUFycmF5QnVmZmVyUHJvdG90eXBlJSI6WyJBcnJheUJ1ZmZlciIsInByb3RvdHlwZSJdLCIlQXJyYXlQcm90b3R5cGUlIjpbIkFycmF5IiwicHJvdG90eXBlIl0sIiVBcnJheVByb3RvX2VudHJpZXMlIjpbIkFycmF5IiwicHJvdG90eXBlIiwiZW50cmllcyJdLCIlQXJyYXlQcm90b19mb3JFYWNoJSI6WyJBcnJheSIsInByb3RvdHlwZSIsImZvckVhY2giXSwiJUFycmF5UHJvdG9fa2V5cyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJrZXlzIl0sIiVBcnJheVByb3RvX3ZhbHVlcyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJ2YWx1ZXMiXSwiJUFzeW5jRnVuY3Rpb25Qcm90b3R5cGUlIjpbIkFzeW5jRnVuY3Rpb24iLCJwcm90b3R5cGUiXSwiJUFzeW5jR2VuZXJhdG9yJSI6WyJBc3luY0dlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVBc3luY0dlbmVyYXRvclByb3RvdHlwZSUiOlsiQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSIsInByb3RvdHlwZSJdLCIlQm9vbGVhblByb3RvdHlwZSUiOlsiQm9vbGVhbiIsInByb3RvdHlwZSJdLCIlRGF0YVZpZXdQcm90b3R5cGUlIjpbIkRhdGFWaWV3IiwicHJvdG90eXBlIl0sIiVEYXRlUHJvdG90eXBlJSI6WyJEYXRlIiwicHJvdG90eXBlIl0sIiVFcnJvclByb3RvdHlwZSUiOlsiRXJyb3IiLCJwcm90b3R5cGUiXSwiJUV2YWxFcnJvclByb3RvdHlwZSUiOlsiRXZhbEVycm9yIiwicHJvdG90eXBlIl0sIiVGbG9hdDMyQXJyYXlQcm90b3R5cGUlIjpbIkZsb2F0MzJBcnJheSIsInByb3RvdHlwZSJdLCIlRmxvYXQ2NEFycmF5UHJvdG90eXBlJSI6WyJGbG9hdDY0QXJyYXkiLCJwcm90b3R5cGUiXSwiJUZ1bmN0aW9uUHJvdG90eXBlJSI6WyJGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlR2VuZXJhdG9yJSI6WyJHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlR2VuZXJhdG9yUHJvdG90eXBlJSI6WyJHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSIsInByb3RvdHlwZSJdLCIlSW50OEFycmF5UHJvdG90eXBlJSI6WyJJbnQ4QXJyYXkiLCJwcm90b3R5cGUiXSwiJUludDE2QXJyYXlQcm90b3R5cGUlIjpbIkludDE2QXJyYXkiLCJwcm90b3R5cGUiXSwiJUludDMyQXJyYXlQcm90b3R5cGUlIjpbIkludDMyQXJyYXkiLCJwcm90b3R5cGUiXSwiJUpTT05QYXJzZSUiOlsiSlNPTiIsInBhcnNlIl0sIiVKU09OU3RyaW5naWZ5JSI6WyJKU09OIiwic3RyaW5naWZ5Il0sIiVNYXBQcm90b3R5cGUlIjpbIk1hcCIsInByb3RvdHlwZSJdLCIlTnVtYmVyUHJvdG90eXBlJSI6WyJOdW1iZXIiLCJwcm90b3R5cGUiXSwiJU9iamVjdFByb3RvdHlwZSUiOlsiT2JqZWN0IiwicHJvdG90eXBlIl0sIiVPYmpQcm90b190b1N0cmluZyUiOlsiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciXSwiJU9ialByb3RvX3ZhbHVlT2YlIjpbIk9iamVjdCIsInByb3RvdHlwZSIsInZhbHVlT2YiXSwiJVByb21pc2VQcm90b3R5cGUlIjpbIlByb21pc2UiLCJwcm90b3R5cGUiXSwiJVByb21pc2VQcm90b190aGVuJSI6WyJQcm9taXNlIiwicHJvdG90eXBlIiwidGhlbiJdLCIlUHJvbWlzZV9hbGwlIjpbIlByb21pc2UiLCJhbGwiXSwiJVByb21pc2VfcmVqZWN0JSI6WyJQcm9taXNlIiwicmVqZWN0Il0sIiVQcm9taXNlX3Jlc29sdmUlIjpbIlByb21pc2UiLCJyZXNvbHZlIl0sIiVSYW5nZUVycm9yUHJvdG90eXBlJSI6WyJSYW5nZUVycm9yIiwicHJvdG90eXBlIl0sIiVSZWZlcmVuY2VFcnJvclByb3RvdHlwZSUiOlsiUmVmZXJlbmNlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVJlZ0V4cFByb3RvdHlwZSUiOlsiUmVnRXhwIiwicHJvdG90eXBlIl0sIiVTZXRQcm90b3R5cGUlIjpbIlNldCIsInByb3RvdHlwZSJdLCIlU2hhcmVkQXJyYXlCdWZmZXJQcm90b3R5cGUlIjpbIlNoYXJlZEFycmF5QnVmZmVyIiwicHJvdG90eXBlIl0sIiVTdHJpbmdQcm90b3R5cGUlIjpbIlN0cmluZyIsInByb3RvdHlwZSJdLCIlU3ltYm9sUHJvdG90eXBlJSI6WyJTeW1ib2wiLCJwcm90b3R5cGUiXSwiJVN5bnRheEVycm9yUHJvdG90eXBlJSI6WyJTeW50YXhFcnJvciIsInByb3RvdHlwZSJdLCIlVHlwZWRBcnJheVByb3RvdHlwZSUiOlsiVHlwZWRBcnJheSIsInByb3RvdHlwZSJdLCIlVHlwZUVycm9yUHJvdG90eXBlJSI6WyJUeXBlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVVpbnQ4QXJyYXlQcm90b3R5cGUlIjpbIlVpbnQ4QXJyYXkiLCJwcm90b3R5cGUiXSwiJVVpbnQ4Q2xhbXBlZEFycmF5UHJvdG90eXBlJSI6WyJVaW50OENsYW1wZWRBcnJheSIsInByb3RvdHlwZSJdLCIlVWludDE2QXJyYXlQcm90b3R5cGUlIjpbIlVpbnQxNkFycmF5IiwicHJvdG90eXBlIl0sIiVVaW50MzJBcnJheVByb3RvdHlwZSUiOlsiVWludDMyQXJyYXkiLCJwcm90b3R5cGUiXSwiJVVSSUVycm9yUHJvdG90eXBlJSI6WyJVUklFcnJvciIsInByb3RvdHlwZSJdLCIlV2Vha01hcFByb3RvdHlwZSUiOlsiV2Vha01hcCIsInByb3RvdHlwZSJdLCIlV2Vha1NldFByb3RvdHlwZSUiOlsiV2Vha1NldCIsInByb3RvdHlwZSJdfSxiaW5kJDI9cmVxdWlyZUZ1bmN0aW9uQmluZCgpLGhhc093bj1yZXF1aXJlSGFzb3duKCksJGNvbmNhdD1iaW5kJDIuY2FsbCgkY2FsbCxBcnJheS5wcm90b3R5cGUuY29uY2F0KSwkc3BsaWNlQXBwbHk9YmluZCQyLmNhbGwoJGFwcGx5JDEsQXJyYXkucHJvdG90eXBlLnNwbGljZSksJHJlcGxhY2U9YmluZCQyLmNhbGwoJGNhbGwsU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKSwkc3RyU2xpY2U9YmluZCQyLmNhbGwoJGNhbGwsU3RyaW5nLnByb3RvdHlwZS5zbGljZSksJGV4ZWM9YmluZCQyLmNhbGwoJGNhbGwsUmVnRXhwLnByb3RvdHlwZS5leGVjKSxyZVByb3BOYW1lPS9bXiUuW1xdXSt8XFsoPzooLT9cZCsoPzpcLlxkKyk/KXwoWyInXSkoKD86KD8hXDIpW15cXF18XFwuKSo/KVwyKVxdfCg/PSg/OlwufFxbXF0pKD86XC58XFtcXXwlJCkpL2cscmVFc2NhcGVDaGFyPS9cXChcXCk/L2csc3RyaW5nVG9QYXRoPWZ1bmN0aW9uKHQpe3ZhciBuPSRzdHJTbGljZSh0LDAsMSksYT0kc3RyU2xpY2UodCwtMSk7aWYobj09PSIlIiYmYSE9PSIlIil0aHJvdyBuZXcgJFN5bnRheEVycm9yJDEoImludmFsaWQgaW50cmluc2ljIHN5bnRheCwgZXhwZWN0ZWQgY2xvc2luZyBgJWAiKTtpZihhPT09IiUiJiZuIT09IiUiKXRocm93IG5ldyAkU3ludGF4RXJyb3IkMSgiaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBvcGVuaW5nIGAlYCIpO3ZhciB1PVtdO3JldHVybiAkcmVwbGFjZSh0LHJlUHJvcE5hbWUsZnVuY3Rpb24obyxoLGQsdyl7dVt1Lmxlbmd0aF09ZD8kcmVwbGFjZSh3LHJlRXNjYXBlQ2hhciwiJDEiKTpofHxvfSksdX0sZ2V0QmFzZUludHJpbnNpYz1mdW5jdGlvbih0LG4pe3ZhciBhPXQsdTtpZihoYXNPd24oTEVHQUNZX0FMSUFTRVMsYSkmJih1PUxFR0FDWV9BTElBU0VTW2FdLGE9IiUiK3VbMF0rIiUiKSxoYXNPd24oSU5UUklOU0lDUyxhKSl7dmFyIG89SU5UUklOU0lDU1thXTtpZihvPT09bmVlZHNFdmFsJiYobz1kb0V2YWwoYSkpLHR5cGVvZiBvPiJ1IiYmIW4pdGhyb3cgbmV3ICRUeXBlRXJyb3IkMigiaW50cmluc2ljICIrdCsiIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlISIpO3JldHVybnthbGlhczp1LG5hbWU6YSx2YWx1ZTpvfX10aHJvdyBuZXcgJFN5bnRheEVycm9yJDEoImludHJpbnNpYyAiK3QrIiBkb2VzIG5vdCBleGlzdCEiKX0sZ2V0SW50cmluc2ljPWZ1bmN0aW9uKHQsbil7aWYodHlwZW9mIHQhPSJzdHJpbmcifHx0Lmxlbmd0aD09PTApdGhyb3cgbmV3ICRUeXBlRXJyb3IkMigiaW50cmluc2ljIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmciKTtpZihhcmd1bWVudHMubGVuZ3RoPjEmJnR5cGVvZiBuIT0iYm9vbGVhbiIpdGhyb3cgbmV3ICRUeXBlRXJyb3IkMignImFsbG93TWlzc2luZyIgYXJndW1lbnQgbXVzdCBiZSBhIGJvb2xlYW4nKTtpZigkZXhlYygvXiU/W14lXSolPyQvLHQpPT09bnVsbCl0aHJvdyBuZXcgJFN5bnRheEVycm9yJDEoImAlYCBtYXkgbm90IGJlIHByZXNlbnQgYW55d2hlcmUgYnV0IGF0IHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiB0aGUgaW50cmluc2ljIG5hbWUiKTt2YXIgYT1zdHJpbmdUb1BhdGgodCksdT1hLmxlbmd0aD4wP2FbMF06IiIsbz1nZXRCYXNlSW50cmluc2ljKCIlIit1KyIlIixuKSxoPW8ubmFtZSxkPW8udmFsdWUsdz0hMSxfPW8uYWxpYXM7XyYmKHU9X1swXSwkc3BsaWNlQXBwbHkoYSwkY29uY2F0KFswLDFdLF8pKSk7Zm9yKHZhciBiPTEsTT0hMDtiPGEubGVuZ3RoO2IrPTEpe3ZhciBPPWFbYl0sVD0kc3RyU2xpY2UoTywwLDEpLFA9JHN0clNsaWNlKE8sLTEpO2lmKChUPT09JyInfHxUPT09IicifHxUPT09ImAifHxQPT09JyInfHxQPT09IicifHxQPT09ImAiKSYmVCE9PVApdGhyb3cgbmV3ICRTeW50YXhFcnJvciQxKCJwcm9wZXJ0eSBuYW1lcyB3aXRoIHF1b3RlcyBtdXN0IGhhdmUgbWF0Y2hpbmcgcXVvdGVzIik7aWYoKE89PT0iY29uc3RydWN0b3IifHwhTSkmJih3PSEwKSx1Kz0iLiIrTyxoPSIlIit1KyIlIixoYXNPd24oSU5UUklOU0lDUyxoKSlkPUlOVFJJTlNJQ1NbaF07ZWxzZSBpZihkIT1udWxsKXtpZighKE8gaW4gZCkpe2lmKCFuKXRocm93IG5ldyAkVHlwZUVycm9yJDIoImJhc2UgaW50cmluc2ljIGZvciAiK3QrIiBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS4iKTtyZXR1cm59aWYoJGdPUEQmJmIrMT49YS5sZW5ndGgpe3ZhciBMPSRnT1BEKGQsTyk7TT0hIUwsTSYmImdldCJpbiBMJiYhKCJvcmlnaW5hbFZhbHVlImluIEwuZ2V0KT9kPUwuZ2V0OmQ9ZFtPXX1lbHNlIE09aGFzT3duKGQsTyksZD1kW09dO00mJiF3JiYoSU5UUklOU0lDU1toXT1kKX19cmV0dXJuIGR9LEdldEludHJpbnNpYyQyPWdldEludHJpbnNpYyxjYWxsQmluZEJhc2ljPWNhbGxCaW5kQXBwbHlIZWxwZXJzLCRpbmRleE9mJDI9Y2FsbEJpbmRCYXNpYyhbR2V0SW50cmluc2ljJDIoIiVTdHJpbmcucHJvdG90eXBlLmluZGV4T2YlIildKSxjYWxsQm91bmQkND1mdW5jdGlvbih0LG4pe3ZhciBhPUdldEludHJpbnNpYyQyKHQsISFuKTtyZXR1cm4gdHlwZW9mIGE9PSJmdW5jdGlvbiImJiRpbmRleE9mJDIodCwiLnByb3RvdHlwZS4iKT4tMT9jYWxsQmluZEJhc2ljKFthXSk6YX0saGFzVG9TdHJpbmdUYWckMz1zaGFtcygpLGNhbGxCb3VuZCQzPWNhbGxCb3VuZCQ0LCR0b1N0cmluZyQxPWNhbGxCb3VuZCQzKCJPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nIiksaXNTdGFuZGFyZEFyZ3VtZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gaGFzVG9TdHJpbmdUYWckMyYmdCYmdHlwZW9mIHQ9PSJvYmplY3QiJiZTeW1ib2wudG9TdHJpbmdUYWcgaW4gdD8hMTokdG9TdHJpbmckMSh0KT09PSJbb2JqZWN0IEFyZ3VtZW50c10ifSxpc0xlZ2FjeUFyZ3VtZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNTdGFuZGFyZEFyZ3VtZW50cyh0KT8hMDp0IT09bnVsbCYmdHlwZW9mIHQ9PSJvYmplY3QiJiYibGVuZ3RoImluIHQmJnR5cGVvZiB0Lmxlbmd0aD09Im51bWJlciImJnQubGVuZ3RoPj0wJiYkdG9TdHJpbmckMSh0KSE9PSJbb2JqZWN0IEFycmF5XSImJiJjYWxsZWUiaW4gdCYmJHRvU3RyaW5nJDEodC5jYWxsZWUpPT09IltvYmplY3QgRnVuY3Rpb25dIn0sc3VwcG9ydHNTdGFuZGFyZEFyZ3VtZW50cz1mdW5jdGlvbigpe3JldHVybiBpc1N0YW5kYXJkQXJndW1lbnRzKGFyZ3VtZW50cyl9KCk7aXNTdGFuZGFyZEFyZ3VtZW50cy5pc0xlZ2FjeUFyZ3VtZW50cz1pc0xlZ2FjeUFyZ3VtZW50czt2YXIgaXNBcmd1bWVudHMkMT1zdXBwb3J0c1N0YW5kYXJkQXJndW1lbnRzP2lzU3RhbmRhcmRBcmd1bWVudHM6aXNMZWdhY3lBcmd1bWVudHMsdG9TdHIkMz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGZuVG9TdHIkMT1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsaXNGblJlZ2V4PS9eXHMqKD86ZnVuY3Rpb24pP1wqLyxoYXNUb1N0cmluZ1RhZyQyPXNoYW1zKCksZ2V0UHJvdG89T2JqZWN0LmdldFByb3RvdHlwZU9mLGdldEdlbmVyYXRvckZ1bmM9ZnVuY3Rpb24oKXtpZighaGFzVG9TdHJpbmdUYWckMilyZXR1cm4hMTt0cnl7cmV0dXJuIEZ1bmN0aW9uKCJyZXR1cm4gZnVuY3Rpb24qKCkge30iKSgpfWNhdGNoe319LEdlbmVyYXRvckZ1bmN0aW9uLGlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPSJmdW5jdGlvbiIpcmV0dXJuITE7aWYoaXNGblJlZ2V4LnRlc3QoZm5Ub1N0ciQxLmNhbGwodCkpKXJldHVybiEwO2lmKCFoYXNUb1N0cmluZ1RhZyQyKXt2YXIgbj10b1N0ciQzLmNhbGwodCk7cmV0dXJuIG49PT0iW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0ifWlmKCFnZXRQcm90bylyZXR1cm4hMTtpZih0eXBlb2YgR2VuZXJhdG9yRnVuY3Rpb24+InUiKXt2YXIgYT1nZXRHZW5lcmF0b3JGdW5jKCk7R2VuZXJhdG9yRnVuY3Rpb249YT9nZXRQcm90byhhKTohMX1yZXR1cm4gZ2V0UHJvdG8odCk9PT1HZW5lcmF0b3JGdW5jdGlvbn0sZm5Ub1N0cj1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcscmVmbGVjdEFwcGx5PXR5cGVvZiBSZWZsZWN0PT0ib2JqZWN0IiYmUmVmbGVjdCE9PW51bGwmJlJlZmxlY3QuYXBwbHksYmFkQXJyYXlMaWtlLGlzQ2FsbGFibGVNYXJrZXI7aWYodHlwZW9mIHJlZmxlY3RBcHBseT09ImZ1bmN0aW9uIiYmdHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eT09ImZ1bmN0aW9uIil0cnl7YmFkQXJyYXlMaWtlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgaXNDYWxsYWJsZU1hcmtlcn19KSxpc0NhbGxhYmxlTWFya2VyPXt9LHJlZmxlY3RBcHBseShmdW5jdGlvbigpe3Rocm93IDQyfSxudWxsLGJhZEFycmF5TGlrZSl9Y2F0Y2goZSl7ZSE9PWlzQ2FsbGFibGVNYXJrZXImJihyZWZsZWN0QXBwbHk9bnVsbCl9ZWxzZSByZWZsZWN0QXBwbHk9bnVsbDt2YXIgY29uc3RydWN0b3JSZWdleD0vXlxzKmNsYXNzXGIvLGlzRVM2Q2xhc3NGbj1mdW5jdGlvbih0KXt0cnl7dmFyIG49Zm5Ub1N0ci5jYWxsKHQpO3JldHVybiBjb25zdHJ1Y3RvclJlZ2V4LnRlc3Qobil9Y2F0Y2h7cmV0dXJuITF9fSx0cnlGdW5jdGlvbk9iamVjdD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGlzRVM2Q2xhc3NGbih0KT8hMTooZm5Ub1N0ci5jYWxsKHQpLCEwKX1jYXRjaHtyZXR1cm4hMX19LHRvU3RyJDI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxvYmplY3RDbGFzcz0iW29iamVjdCBPYmplY3RdIixmbkNsYXNzPSJbb2JqZWN0IEZ1bmN0aW9uXSIsZ2VuQ2xhc3M9IltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dIixkZGFDbGFzcz0iW29iamVjdCBIVE1MQWxsQ29sbGVjdGlvbl0iLGRkYUNsYXNzMj0iW29iamVjdCBIVE1MIGRvY3VtZW50LmFsbCBjbGFzc10iLGRkYUNsYXNzMz0iW29iamVjdCBIVE1MQ29sbGVjdGlvbl0iLGhhc1RvU3RyaW5nVGFnJDE9dHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmISFTeW1ib2wudG9TdHJpbmdUYWcsaXNJRTY4PSEoMCBpblssXSksaXNEREE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aWYodHlwZW9mIGRvY3VtZW50PT0ib2JqZWN0Iil7dmFyIGFsbD1kb2N1bWVudC5hbGw7dG9TdHIkMi5jYWxsKGFsbCk9PT10b1N0ciQyLmNhbGwoZG9jdW1lbnQuYWxsKSYmKGlzRERBPWZ1bmN0aW9uKHQpe2lmKChpc0lFNjh8fCF0KSYmKHR5cGVvZiB0PiJ1Inx8dHlwZW9mIHQ9PSJvYmplY3QiKSl0cnl7dmFyIG49dG9TdHIkMi5jYWxsKHQpO3JldHVybihuPT09ZGRhQ2xhc3N8fG49PT1kZGFDbGFzczJ8fG49PT1kZGFDbGFzczN8fG49PT1vYmplY3RDbGFzcykmJnQoIiIpPT1udWxsfWNhdGNoe31yZXR1cm4hMX0pfXZhciBpc0NhbGxhYmxlJDE9cmVmbGVjdEFwcGx5P2Z1bmN0aW9uKHQpe2lmKGlzRERBKHQpKXJldHVybiEwO2lmKCF0fHx0eXBlb2YgdCE9ImZ1bmN0aW9uIiYmdHlwZW9mIHQhPSJvYmplY3QiKXJldHVybiExO3RyeXtyZWZsZWN0QXBwbHkodCxudWxsLGJhZEFycmF5TGlrZSl9Y2F0Y2gobil7aWYobiE9PWlzQ2FsbGFibGVNYXJrZXIpcmV0dXJuITF9cmV0dXJuIWlzRVM2Q2xhc3NGbih0KSYmdHJ5RnVuY3Rpb25PYmplY3QodCl9OmZ1bmN0aW9uKHQpe2lmKGlzRERBKHQpKXJldHVybiEwO2lmKCF0fHx0eXBlb2YgdCE9ImZ1bmN0aW9uIiYmdHlwZW9mIHQhPSJvYmplY3QiKXJldHVybiExO2lmKGhhc1RvU3RyaW5nVGFnJDEpcmV0dXJuIHRyeUZ1bmN0aW9uT2JqZWN0KHQpO2lmKGlzRVM2Q2xhc3NGbih0KSlyZXR1cm4hMTt2YXIgbj10b1N0ciQyLmNhbGwodCk7cmV0dXJuIG4hPT1mbkNsYXNzJiZuIT09Z2VuQ2xhc3MmJiEvXlxbb2JqZWN0IEhUTUwvLnRlc3Qobik/ITE6dHJ5RnVuY3Rpb25PYmplY3QodCl9LGlzQ2FsbGFibGU9aXNDYWxsYWJsZSQxLHRvU3RyJDE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxoYXNPd25Qcm9wZXJ0eSQxPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZm9yRWFjaEFycmF5PWZ1bmN0aW9uKHQsbixhKXtmb3IodmFyIHU9MCxvPXQubGVuZ3RoO3U8bzt1KyspaGFzT3duUHJvcGVydHkkMS5jYWxsKHQsdSkmJihhPT1udWxsP24odFt1XSx1LHQpOm4uY2FsbChhLHRbdV0sdSx0KSl9LGZvckVhY2hTdHJpbmc9ZnVuY3Rpb24odCxuLGEpe2Zvcih2YXIgdT0wLG89dC5sZW5ndGg7dTxvO3UrKylhPT1udWxsP24odC5jaGFyQXQodSksdSx0KTpuLmNhbGwoYSx0LmNoYXJBdCh1KSx1LHQpfSxmb3JFYWNoT2JqZWN0PWZ1bmN0aW9uKHQsbixhKXtmb3IodmFyIHUgaW4gdCloYXNPd25Qcm9wZXJ0eSQxLmNhbGwodCx1KSYmKGE9PW51bGw/bih0W3VdLHUsdCk6bi5jYWxsKGEsdFt1XSx1LHQpKX0sZm9yRWFjaCQyPWZ1bmN0aW9uKHQsbixhKXtpZighaXNDYWxsYWJsZShuKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJpdGVyYXRvciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt2YXIgdTthcmd1bWVudHMubGVuZ3RoPj0zJiYodT1hKSx0b1N0ciQxLmNhbGwodCk9PT0iW29iamVjdCBBcnJheV0iP2ZvckVhY2hBcnJheSh0LG4sdSk6dHlwZW9mIHQ9PSJzdHJpbmciP2ZvckVhY2hTdHJpbmcodCxuLHUpOmZvckVhY2hPYmplY3QodCxuLHUpfSxmb3JFYWNoXzE9Zm9yRWFjaCQyLHBvc3NpYmxlVHlwZWRBcnJheU5hbWVzPVsiRmxvYXQzMkFycmF5IiwiRmxvYXQ2NEFycmF5IiwiSW50OEFycmF5IiwiSW50MTZBcnJheSIsIkludDMyQXJyYXkiLCJVaW50OEFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQzMkFycmF5IiwiQmlnSW50NjRBcnJheSIsIkJpZ1VpbnQ2NEFycmF5Il0scG9zc2libGVOYW1lcz1wb3NzaWJsZVR5cGVkQXJyYXlOYW1lcyxnJDE9dHlwZW9mIGdsb2JhbFRoaXM+InUiP2NvbW1vbmpzR2xvYmFsOmdsb2JhbFRoaXMsYXZhaWxhYmxlVHlwZWRBcnJheXMkMT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxuPTA7bjxwb3NzaWJsZU5hbWVzLmxlbmd0aDtuKyspdHlwZW9mIGckMVtwb3NzaWJsZU5hbWVzW25dXT09ImZ1bmN0aW9uIiYmKHRbdC5sZW5ndGhdPXBvc3NpYmxlTmFtZXNbbl0pO3JldHVybiB0fSxjYWxsQmluZCQyPXtleHBvcnRzOnt9fSwkZGVmaW5lUHJvcGVydHkkMT1lc0RlZmluZVByb3BlcnR5LCRTeW50YXhFcnJvcj1zeW50YXgsJFR5cGVFcnJvciQxPXR5cGUsZ29wZD1nb3BkJDEsZGVmaW5lRGF0YVByb3BlcnR5PWZ1bmN0aW9uKHQsbixhKXtpZighdHx8dHlwZW9mIHQhPSJvYmplY3QiJiZ0eXBlb2YgdCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgJFR5cGVFcnJvciQxKCJgb2JqYCBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uYCIpO2lmKHR5cGVvZiBuIT0ic3RyaW5nIiYmdHlwZW9mIG4hPSJzeW1ib2wiKXRocm93IG5ldyAkVHlwZUVycm9yJDEoImBwcm9wZXJ0eWAgbXVzdCBiZSBhIHN0cmluZyBvciBhIHN5bWJvbGAiKTtpZihhcmd1bWVudHMubGVuZ3RoPjMmJnR5cGVvZiBhcmd1bWVudHNbM10hPSJib29sZWFuIiYmYXJndW1lbnRzWzNdIT09bnVsbCl0aHJvdyBuZXcgJFR5cGVFcnJvciQxKCJgbm9uRW51bWVyYWJsZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbiBvciBudWxsIik7aWYoYXJndW1lbnRzLmxlbmd0aD40JiZ0eXBlb2YgYXJndW1lbnRzWzRdIT0iYm9vbGVhbiImJmFyZ3VtZW50c1s0XSE9PW51bGwpdGhyb3cgbmV3ICRUeXBlRXJyb3IkMSgiYG5vbldyaXRhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjUmJnR5cGVvZiBhcmd1bWVudHNbNV0hPSJib29sZWFuIiYmYXJndW1lbnRzWzVdIT09bnVsbCl0aHJvdyBuZXcgJFR5cGVFcnJvciQxKCJgbm9uQ29uZmlndXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjYmJnR5cGVvZiBhcmd1bWVudHNbNl0hPSJib29sZWFuIil0aHJvdyBuZXcgJFR5cGVFcnJvciQxKCJgbG9vc2VgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4iKTt2YXIgdT1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOm51bGwsbz1hcmd1bWVudHMubGVuZ3RoPjQ/YXJndW1lbnRzWzRdOm51bGwsaD1hcmd1bWVudHMubGVuZ3RoPjU/YXJndW1lbnRzWzVdOm51bGwsZD1hcmd1bWVudHMubGVuZ3RoPjY/YXJndW1lbnRzWzZdOiExLHc9ISFnb3BkJiZnb3BkKHQsbik7aWYoJGRlZmluZVByb3BlcnR5JDEpJGRlZmluZVByb3BlcnR5JDEodCxuLHtjb25maWd1cmFibGU6aD09PW51bGwmJnc/dy5jb25maWd1cmFibGU6IWgsZW51bWVyYWJsZTp1PT09bnVsbCYmdz93LmVudW1lcmFibGU6IXUsdmFsdWU6YSx3cml0YWJsZTpvPT09bnVsbCYmdz93LndyaXRhYmxlOiFvfSk7ZWxzZSBpZihkfHwhdSYmIW8mJiFoKXRbbl09YTtlbHNlIHRocm93IG5ldyAkU3ludGF4RXJyb3IoIlRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBkZWZpbmluZyBhIHByb3BlcnR5IGFzIG5vbi1jb25maWd1cmFibGUsIG5vbi13cml0YWJsZSwgb3Igbm9uLWVudW1lcmFibGUuIil9LCRkZWZpbmVQcm9wZXJ0eT1lc0RlZmluZVByb3BlcnR5LGhhc1Byb3BlcnR5RGVzY3JpcHRvcnM9ZnVuY3Rpb24oKXtyZXR1cm4hISRkZWZpbmVQcm9wZXJ0eX07aGFzUHJvcGVydHlEZXNjcmlwdG9ycy5oYXNBcnJheUxlbmd0aERlZmluZUJ1Zz1mdW5jdGlvbigpe2lmKCEkZGVmaW5lUHJvcGVydHkpcmV0dXJuIG51bGw7dHJ5e3JldHVybiAkZGVmaW5lUHJvcGVydHkoW10sImxlbmd0aCIse3ZhbHVlOjF9KS5sZW5ndGghPT0xfWNhdGNoe3JldHVybiEwfX07dmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvcnNfMT1oYXNQcm9wZXJ0eURlc2NyaXB0b3JzLEdldEludHJpbnNpYyQxPWdldEludHJpbnNpYyxkZWZpbmU9ZGVmaW5lRGF0YVByb3BlcnR5LGhhc0Rlc2NyaXB0b3JzPWhhc1Byb3BlcnR5RGVzY3JpcHRvcnNfMSgpLGdPUEQkMT1nb3BkJDEsJFR5cGVFcnJvcj10eXBlLCRmbG9vcj1HZXRJbnRyaW5zaWMkMSgiJU1hdGguZmxvb3IlIiksc2V0RnVuY3Rpb25MZW5ndGg9ZnVuY3Rpb24odCxuKXtpZih0eXBlb2YgdCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgJFR5cGVFcnJvcigiYGZuYCBpcyBub3QgYSBmdW5jdGlvbiIpO2lmKHR5cGVvZiBuIT0ibnVtYmVyInx8bjwwfHxuPjQyOTQ5NjcyOTV8fCRmbG9vcihuKSE9PW4pdGhyb3cgbmV3ICRUeXBlRXJyb3IoImBsZW5ndGhgIG11c3QgYmUgYSBwb3NpdGl2ZSAzMi1iaXQgaW50ZWdlciIpO3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+MiYmISFhcmd1bWVudHNbMl0sdT0hMCxvPSEwO2lmKCJsZW5ndGgiaW4gdCYmZ09QRCQxKXt2YXIgaD1nT1BEJDEodCwibGVuZ3RoIik7aCYmIWguY29uZmlndXJhYmxlJiYodT0hMSksaCYmIWgud3JpdGFibGUmJihvPSExKX1yZXR1cm4odXx8b3x8IWEpJiYoaGFzRGVzY3JpcHRvcnM/ZGVmaW5lKHQsImxlbmd0aCIsbiwhMCwhMCk6ZGVmaW5lKHQsImxlbmd0aCIsbikpLHR9LGJpbmQkMT1yZXF1aXJlRnVuY3Rpb25CaW5kKCksJGFwcGx5PXJlcXVpcmVGdW5jdGlvbkFwcGx5KCksYWN0dWFsQXBwbHk9YWN0dWFsQXBwbHkkMSxhcHBseUJpbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gYWN0dWFsQXBwbHkoYmluZCQxLCRhcHBseSxhcmd1bWVudHMpfTsoZnVuY3Rpb24oZSl7dmFyIHQ9c2V0RnVuY3Rpb25MZW5ndGgsbj1lc0RlZmluZVByb3BlcnR5LGE9Y2FsbEJpbmRBcHBseUhlbHBlcnMsdT1hcHBseUJpbmQ7ZS5leHBvcnRzPWZ1bmN0aW9uKGgpe3ZhciBkPWEoYXJndW1lbnRzKSx3PWgubGVuZ3RoLShhcmd1bWVudHMubGVuZ3RoLTEpO3JldHVybiB0KGQsMSsodz4wP3c6MCksITApfSxuP24oZS5leHBvcnRzLCJhcHBseSIse3ZhbHVlOnV9KTplLmV4cG9ydHMuYXBwbHk9dX0pKGNhbGxCaW5kJDIpO3ZhciBjYWxsQmluZEV4cG9ydHM9Y2FsbEJpbmQkMi5leHBvcnRzLGZvckVhY2gkMT1mb3JFYWNoXzEsYXZhaWxhYmxlVHlwZWRBcnJheXM9YXZhaWxhYmxlVHlwZWRBcnJheXMkMSxjYWxsQmluZCQxPWNhbGxCaW5kRXhwb3J0cyxjYWxsQm91bmQkMj1jYWxsQm91bmQkNCxnT1BEPWdvcGQkMSwkdG9TdHJpbmc9Y2FsbEJvdW5kJDIoIk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmciKSxoYXNUb1N0cmluZ1RhZz1zaGFtcygpLGc9dHlwZW9mIGdsb2JhbFRoaXM+InUiP2NvbW1vbmpzR2xvYmFsOmdsb2JhbFRoaXMsdHlwZWRBcnJheXM9YXZhaWxhYmxlVHlwZWRBcnJheXMoKSwkc2xpY2U9Y2FsbEJvdW5kJDIoIlN0cmluZy5wcm90b3R5cGUuc2xpY2UiKSxnZXRQcm90b3R5cGVPZiQxPU9iamVjdC5nZXRQcm90b3R5cGVPZiwkaW5kZXhPZiQxPWNhbGxCb3VuZCQyKCJBcnJheS5wcm90b3R5cGUuaW5kZXhPZiIsITApfHxmdW5jdGlvbih0LG4pe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSs9MSlpZih0W2FdPT09bilyZXR1cm4gYTtyZXR1cm4tMX0sY2FjaGU9e19fcHJvdG9fXzpudWxsfTtoYXNUb1N0cmluZ1RhZyYmZ09QRCYmZ2V0UHJvdG90eXBlT2YkMT9mb3JFYWNoJDEodHlwZWRBcnJheXMsZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGdbZV07aWYoU3ltYm9sLnRvU3RyaW5nVGFnIGluIHQpe3ZhciBuPWdldFByb3RvdHlwZU9mJDEodCksYT1nT1BEKG4sU3ltYm9sLnRvU3RyaW5nVGFnKTtpZighYSl7dmFyIHU9Z2V0UHJvdG90eXBlT2YkMShuKTthPWdPUEQodSxTeW1ib2wudG9TdHJpbmdUYWcpfWNhY2hlWyIkIitlXT1jYWxsQmluZCQxKGEuZ2V0KX19KTpmb3JFYWNoJDEodHlwZWRBcnJheXMsZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGdbZV0sbj10LnNsaWNlfHx0LnNldDtuJiYoY2FjaGVbIiQiK2VdPWNhbGxCaW5kJDEobikpfSk7dmFyIHRyeVR5cGVkQXJyYXlzPWZ1bmN0aW9uKHQpe3ZhciBuPSExO3JldHVybiBmb3JFYWNoJDEoY2FjaGUsZnVuY3Rpb24oYSx1KXtpZighbil0cnl7IiQiK2EodCk9PT11JiYobj0kc2xpY2UodSwxKSl9Y2F0Y2h7fX0pLG59LHRyeVNsaWNlcz1mdW5jdGlvbih0KXt2YXIgbj0hMTtyZXR1cm4gZm9yRWFjaCQxKGNhY2hlLGZ1bmN0aW9uKGEsdSl7aWYoIW4pdHJ5e2EodCksbj0kc2xpY2UodSwxKX1jYXRjaHt9fSksbn0sd2hpY2hUeXBlZEFycmF5JDE9ZnVuY3Rpb24odCl7aWYoIXR8fHR5cGVvZiB0IT0ib2JqZWN0IilyZXR1cm4hMTtpZighaGFzVG9TdHJpbmdUYWcpe3ZhciBuPSRzbGljZSgkdG9TdHJpbmcodCksOCwtMSk7cmV0dXJuICRpbmRleE9mJDEodHlwZWRBcnJheXMsbik+LTE/bjpuIT09Ik9iamVjdCI/ITE6dHJ5U2xpY2VzKHQpfXJldHVybiBnT1BEP3RyeVR5cGVkQXJyYXlzKHQpOm51bGx9LHdoaWNoVHlwZWRBcnJheT13aGljaFR5cGVkQXJyYXkkMSxpc1R5cGVkQXJyYXkkMT1mdW5jdGlvbih0KXtyZXR1cm4hIXdoaWNoVHlwZWRBcnJheSh0KX07KGZ1bmN0aW9uKGUpe3ZhciB0PWlzQXJndW1lbnRzJDEsbj1pc0dlbmVyYXRvckZ1bmN0aW9uLGE9d2hpY2hUeXBlZEFycmF5JDEsdT1pc1R5cGVkQXJyYXkkMTtmdW5jdGlvbiBvKFope3JldHVybiBaLmNhbGwuYmluZChaKX12YXIgaD10eXBlb2YgQmlnSW50PCJ1IixkPXR5cGVvZiBTeW1ib2w8InUiLHc9byhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSxfPW8oTnVtYmVyLnByb3RvdHlwZS52YWx1ZU9mKSxiPW8oU3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mKSxNPW8oQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZik7aWYoaCl2YXIgTz1vKEJpZ0ludC5wcm90b3R5cGUudmFsdWVPZik7aWYoZCl2YXIgVD1vKFN5bWJvbC5wcm90b3R5cGUudmFsdWVPZik7ZnVuY3Rpb24gUChaLHNlKXtpZih0eXBlb2YgWiE9Im9iamVjdCIpcmV0dXJuITE7dHJ5e3JldHVybiBzZShaKSwhMH1jYXRjaHtyZXR1cm4hMX19ZS5pc0FyZ3VtZW50c09iamVjdD10LGUuaXNHZW5lcmF0b3JGdW5jdGlvbj1uLGUuaXNUeXBlZEFycmF5PXU7ZnVuY3Rpb24gTChaKXtyZXR1cm4gdHlwZW9mIFByb21pc2U8InUiJiZaIGluc3RhbmNlb2YgUHJvbWlzZXx8WiE9PW51bGwmJnR5cGVvZiBaPT0ib2JqZWN0IiYmdHlwZW9mIFoudGhlbj09ImZ1bmN0aW9uIiYmdHlwZW9mIFouY2F0Y2g9PSJmdW5jdGlvbiJ9ZS5pc1Byb21pc2U9TDtmdW5jdGlvbiB6KFope3JldHVybiB0eXBlb2YgQXJyYXlCdWZmZXI8InUiJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KFopOnUoWil8fEkoWil9ZS5pc0FycmF5QnVmZmVyVmlldz16O2Z1bmN0aW9uIEgoWil7cmV0dXJuIGEoWik9PT0iVWludDhBcnJheSJ9ZS5pc1VpbnQ4QXJyYXk9SDtmdW5jdGlvbiBWKFope3JldHVybiBhKFopPT09IlVpbnQ4Q2xhbXBlZEFycmF5In1lLmlzVWludDhDbGFtcGVkQXJyYXk9VjtmdW5jdGlvbiBhZShaKXtyZXR1cm4gYShaKT09PSJVaW50MTZBcnJheSJ9ZS5pc1VpbnQxNkFycmF5PWFlO2Z1bmN0aW9uIGllKFope3JldHVybiBhKFopPT09IlVpbnQzMkFycmF5In1lLmlzVWludDMyQXJyYXk9aWU7ZnVuY3Rpb24gUShaKXtyZXR1cm4gYShaKT09PSJJbnQ4QXJyYXkifWUuaXNJbnQ4QXJyYXk9UTtmdW5jdGlvbiByZShaKXtyZXR1cm4gYShaKT09PSJJbnQxNkFycmF5In1lLmlzSW50MTZBcnJheT1yZTtmdW5jdGlvbiBjZShaKXtyZXR1cm4gYShaKT09PSJJbnQzMkFycmF5In1lLmlzSW50MzJBcnJheT1jZTtmdW5jdGlvbiBsZShaKXtyZXR1cm4gYShaKT09PSJGbG9hdDMyQXJyYXkifWUuaXNGbG9hdDMyQXJyYXk9bGU7ZnVuY3Rpb24gb2UoWil7cmV0dXJuIGEoWik9PT0iRmxvYXQ2NEFycmF5In1lLmlzRmxvYXQ2NEFycmF5PW9lO2Z1bmN0aW9uIHllKFope3JldHVybiBhKFopPT09IkJpZ0ludDY0QXJyYXkifWUuaXNCaWdJbnQ2NEFycmF5PXllO2Z1bmN0aW9uIFgoWil7cmV0dXJuIGEoWik9PT0iQmlnVWludDY0QXJyYXkifWUuaXNCaWdVaW50NjRBcnJheT1YO2Z1bmN0aW9uICQoWil7cmV0dXJuIHcoWik9PT0iW29iamVjdCBNYXBdIn0kLndvcmtpbmc9dHlwZW9mIE1hcDwidSImJiQobmV3IE1hcCk7ZnVuY3Rpb24gbShaKXtyZXR1cm4gdHlwZW9mIE1hcD4idSI/ITE6JC53b3JraW5nPyQoWik6WiBpbnN0YW5jZW9mIE1hcH1lLmlzTWFwPW07ZnVuY3Rpb24gbChaKXtyZXR1cm4gdyhaKT09PSJbb2JqZWN0IFNldF0ifWwud29ya2luZz10eXBlb2YgU2V0PCJ1IiYmbChuZXcgU2V0KTtmdW5jdGlvbiB2KFope3JldHVybiB0eXBlb2YgU2V0PiJ1Ij8hMTpsLndvcmtpbmc/bChaKTpaIGluc3RhbmNlb2YgU2V0fWUuaXNTZXQ9djtmdW5jdGlvbiBFKFope3JldHVybiB3KFopPT09IltvYmplY3QgV2Vha01hcF0ifUUud29ya2luZz10eXBlb2YgV2Vha01hcDwidSImJkUobmV3IFdlYWtNYXApO2Z1bmN0aW9uIFMoWil7cmV0dXJuIHR5cGVvZiBXZWFrTWFwPiJ1Ij8hMTpFLndvcmtpbmc/RShaKTpaIGluc3RhbmNlb2YgV2Vha01hcH1lLmlzV2Vha01hcD1TO2Z1bmN0aW9uIEIoWil7cmV0dXJuIHcoWik9PT0iW29iamVjdCBXZWFrU2V0XSJ9Qi53b3JraW5nPXR5cGVvZiBXZWFrU2V0PCJ1IiYmQihuZXcgV2Vha1NldCk7ZnVuY3Rpb24gQShaKXtyZXR1cm4gQihaKX1lLmlzV2Vha1NldD1BO2Z1bmN0aW9uIHkoWil7cmV0dXJuIHcoWik9PT0iW29iamVjdCBBcnJheUJ1ZmZlcl0ifXkud29ya2luZz10eXBlb2YgQXJyYXlCdWZmZXI8InUiJiZ5KG5ldyBBcnJheUJ1ZmZlcik7ZnVuY3Rpb24geChaKXtyZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyPiJ1Ij8hMTp5Lndvcmtpbmc/eShaKTpaIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ9ZS5pc0FycmF5QnVmZmVyPXg7ZnVuY3Rpb24gcChaKXtyZXR1cm4gdyhaKT09PSJbb2JqZWN0IERhdGFWaWV3XSJ9cC53b3JraW5nPXR5cGVvZiBBcnJheUJ1ZmZlcjwidSImJnR5cGVvZiBEYXRhVmlldzwidSImJnAobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSwwLDEpKTtmdW5jdGlvbiBJKFope3JldHVybiB0eXBlb2YgRGF0YVZpZXc+InUiPyExOnAud29ya2luZz9wKFopOlogaW5zdGFuY2VvZiBEYXRhVmlld31lLmlzRGF0YVZpZXc9STt2YXIgZWU9dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPCJ1Ij9TaGFyZWRBcnJheUJ1ZmZlcjp2b2lkIDA7ZnVuY3Rpb24gZmUoWil7cmV0dXJuIHcoWik9PT0iW29iamVjdCBTaGFyZWRBcnJheUJ1ZmZlcl0ifWZ1bmN0aW9uIEooWil7cmV0dXJuIHR5cGVvZiBlZT4idSI/ITE6KHR5cGVvZiBmZS53b3JraW5nPiJ1IiYmKGZlLndvcmtpbmc9ZmUobmV3IGVlKSksZmUud29ya2luZz9mZShaKTpaIGluc3RhbmNlb2YgZWUpfWUuaXNTaGFyZWRBcnJheUJ1ZmZlcj1KO2Z1bmN0aW9uIGsoWil7cmV0dXJuIHcoWik9PT0iW29iamVjdCBBc3luY0Z1bmN0aW9uXSJ9ZS5pc0FzeW5jRnVuY3Rpb249aztmdW5jdGlvbiBEKFope3JldHVybiB3KFopPT09IltvYmplY3QgTWFwIEl0ZXJhdG9yXSJ9ZS5pc01hcEl0ZXJhdG9yPUQ7ZnVuY3Rpb24gaihaKXtyZXR1cm4gdyhaKT09PSJbb2JqZWN0IFNldCBJdGVyYXRvcl0ifWUuaXNTZXRJdGVyYXRvcj1qO2Z1bmN0aW9uIHRlKFope3JldHVybiB3KFopPT09IltvYmplY3QgR2VuZXJhdG9yXSJ9ZS5pc0dlbmVyYXRvck9iamVjdD10ZTtmdW5jdGlvbiBVKFope3JldHVybiB3KFopPT09IltvYmplY3QgV2ViQXNzZW1ibHkuTW9kdWxlXSJ9ZS5pc1dlYkFzc2VtYmx5Q29tcGlsZWRNb2R1bGU9VTtmdW5jdGlvbiBGKFope3JldHVybiBQKFosXyl9ZS5pc051bWJlck9iamVjdD1GO2Z1bmN0aW9uIHVlKFope3JldHVybiBQKFosYil9ZS5pc1N0cmluZ09iamVjdD11ZTtmdW5jdGlvbiBwZShaKXtyZXR1cm4gUChaLE0pfWUuaXNCb29sZWFuT2JqZWN0PXBlO2Z1bmN0aW9uIF9lKFope3JldHVybiBoJiZQKFosTyl9ZS5pc0JpZ0ludE9iamVjdD1fZTtmdW5jdGlvbiBZKFope3JldHVybiBkJiZQKFosVCl9ZS5pc1N5bWJvbE9iamVjdD1ZO2Z1bmN0aW9uIE4oWil7cmV0dXJuIEYoWil8fHVlKFopfHxwZShaKXx8X2UoWil8fFkoWil9ZS5pc0JveGVkUHJpbWl0aXZlPU47ZnVuY3Rpb24gQyhaKXtyZXR1cm4gdHlwZW9mIFVpbnQ4QXJyYXk8InUiJiYoeChaKXx8SihaKSl9ZS5pc0FueUFycmF5QnVmZmVyPUMsWyJpc1Byb3h5IiwiaXNFeHRlcm5hbCIsImlzTW9kdWxlTmFtZXNwYWNlT2JqZWN0Il0uZm9yRWFjaChmdW5jdGlvbihaKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxaLHtlbnVtZXJhYmxlOiExLHZhbHVlOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKForIiBpcyBub3Qgc3VwcG9ydGVkIGluIHVzZXJsYW5kIil9fSl9KX0pKHR5cGVzKTt2YXIgaXNCdWZmZXJCcm93c2VyPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0eXBlb2YgdD09Im9iamVjdCImJnR5cGVvZiB0LmNvcHk9PSJmdW5jdGlvbiImJnR5cGVvZiB0LmZpbGw9PSJmdW5jdGlvbiImJnR5cGVvZiB0LnJlYWRVSW50OD09ImZ1bmN0aW9uIn07KGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzfHxmdW5jdGlvbihJKXtmb3IodmFyIGVlPU9iamVjdC5rZXlzKEkpLGZlPXt9LEo9MDtKPGVlLmxlbmd0aDtKKyspZmVbZWVbSl1dPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSSxlZVtKXSk7cmV0dXJuIGZlfSxuPS8lW3NkaiVdL2c7ZS5mb3JtYXQ9ZnVuY3Rpb24ocCl7aWYoIVEocCkpe2Zvcih2YXIgST1bXSxlZT0wO2VlPGFyZ3VtZW50cy5sZW5ndGg7ZWUrKylJLnB1c2goaChhcmd1bWVudHNbZWVdKSk7cmV0dXJuIEkuam9pbigiICIpfWZvcih2YXIgZWU9MSxmZT1hcmd1bWVudHMsSj1mZS5sZW5ndGgsaz1TdHJpbmcocCkucmVwbGFjZShuLGZ1bmN0aW9uKGope2lmKGo9PT0iJSUiKXJldHVybiIlIjtpZihlZT49SilyZXR1cm4gajtzd2l0Y2goail7Y2FzZSIlcyI6cmV0dXJuIFN0cmluZyhmZVtlZSsrXSk7Y2FzZSIlZCI6cmV0dXJuIE51bWJlcihmZVtlZSsrXSk7Y2FzZSIlaiI6dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShmZVtlZSsrXSl9Y2F0Y2h7cmV0dXJuIltDaXJjdWxhcl0ifWRlZmF1bHQ6cmV0dXJuIGp9fSksRD1mZVtlZV07ZWU8SjtEPWZlWysrZWVdKVYoRCl8fCFvZShEKT9rKz0iICIrRDprKz0iICIraChEKTtyZXR1cm4ga30sZS5kZXByZWNhdGU9ZnVuY3Rpb24ocCxJKXtpZih0eXBlb2YgYXBpJDE8InUiJiZhcGkkMS5ub0RlcHJlY2F0aW9uPT09ITApcmV0dXJuIHA7aWYodHlwZW9mIGFwaSQxPiJ1IilyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5kZXByZWNhdGUocCxJKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBlZT0hMTtmdW5jdGlvbiBmZSgpe2lmKCFlZSl7aWYoYXBpJDEudGhyb3dEZXByZWNhdGlvbil0aHJvdyBuZXcgRXJyb3IoSSk7YXBpJDEudHJhY2VEZXByZWNhdGlvbj9jb25zb2xlLnRyYWNlKEkpOmNvbnNvbGUuZXJyb3IoSSksZWU9ITB9cmV0dXJuIHAuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBmZX07dmFyIGE9e30sdT0vXiQvO2lmKHt9Lk5PREVfREVCVUcpe3ZhciBvPXt9Lk5PREVfREVCVUc7bz1vLnJlcGxhY2UoL1t8XFx7fSgpW1xdXiQrPy5dL2csIlxcJCYiKS5yZXBsYWNlKC9cKi9nLCIuKiIpLnJlcGxhY2UoLywvZywiJHxeIikudG9VcHBlckNhc2UoKSx1PW5ldyBSZWdFeHAoIl4iK28rIiQiLCJpIil9ZS5kZWJ1Z2xvZz1mdW5jdGlvbihwKXtpZihwPXAudG9VcHBlckNhc2UoKSwhYVtwXSlpZih1LnRlc3QocCkpe3ZhciBJPWFwaSQxLnBpZDthW3BdPWZ1bmN0aW9uKCl7dmFyIGVlPWUuZm9ybWF0LmFwcGx5KGUsYXJndW1lbnRzKTtjb25zb2xlLmVycm9yKCIlcyAlZDogJXMiLHAsSSxlZSl9fWVsc2UgYVtwXT1mdW5jdGlvbigpe307cmV0dXJuIGFbcF19O2Z1bmN0aW9uIGgocCxJKXt2YXIgZWU9e3NlZW46W10sc3R5bGl6ZTp3fTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MyYmKGVlLmRlcHRoPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKGVlLmNvbG9ycz1hcmd1bWVudHNbM10pLEgoSSk/ZWUuc2hvd0hpZGRlbj1JOkkmJmUuX2V4dGVuZChlZSxJKSxjZShlZS5zaG93SGlkZGVuKSYmKGVlLnNob3dIaWRkZW49ITEpLGNlKGVlLmRlcHRoKSYmKGVlLmRlcHRoPTIpLGNlKGVlLmNvbG9ycykmJihlZS5jb2xvcnM9ITEpLGNlKGVlLmN1c3RvbUluc3BlY3QpJiYoZWUuY3VzdG9tSW5zcGVjdD0hMCksZWUuY29sb3JzJiYoZWUuc3R5bGl6ZT1kKSxiKGVlLHAsZWUuZGVwdGgpfWUuaW5zcGVjdD1oLGguY29sb3JzPXtib2xkOlsxLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10sd2hpdGU6WzM3LDM5XSxncmV5Ols5MCwzOV0sYmxhY2s6WzMwLDM5XSxibHVlOlszNCwzOV0sY3lhbjpbMzYsMzldLGdyZWVuOlszMiwzOV0sbWFnZW50YTpbMzUsMzldLHJlZDpbMzEsMzldLHllbGxvdzpbMzMsMzldfSxoLnN0eWxlcz17c3BlY2lhbDoiY3lhbiIsbnVtYmVyOiJ5ZWxsb3ciLGJvb2xlYW46InllbGxvdyIsdW5kZWZpbmVkOiJncmV5IixudWxsOiJib2xkIixzdHJpbmc6ImdyZWVuIixkYXRlOiJtYWdlbnRhIixyZWdleHA6InJlZCJ9O2Z1bmN0aW9uIGQocCxJKXt2YXIgZWU9aC5zdHlsZXNbSV07cmV0dXJuIGVlPyJceDFCWyIraC5jb2xvcnNbZWVdWzBdKyJtIitwKyJceDFCWyIraC5jb2xvcnNbZWVdWzFdKyJtIjpwfWZ1bmN0aW9uIHcocCxJKXtyZXR1cm4gcH1mdW5jdGlvbiBfKHApe3ZhciBJPXt9O3JldHVybiBwLmZvckVhY2goZnVuY3Rpb24oZWUsZmUpe0lbZWVdPSEwfSksSX1mdW5jdGlvbiBiKHAsSSxlZSl7aWYocC5jdXN0b21JbnNwZWN0JiZJJiYkKEkuaW5zcGVjdCkmJkkuaW5zcGVjdCE9PWUuaW5zcGVjdCYmIShJLmNvbnN0cnVjdG9yJiZJLmNvbnN0cnVjdG9yLnByb3RvdHlwZT09PUkpKXt2YXIgZmU9SS5pbnNwZWN0KGVlLHApO3JldHVybiBRKGZlKXx8KGZlPWIocCxmZSxlZSkpLGZlfXZhciBKPU0ocCxJKTtpZihKKXJldHVybiBKO3ZhciBrPU9iamVjdC5rZXlzKEkpLEQ9XyhrKTtpZihwLnNob3dIaWRkZW4mJihrPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEkpKSxYKEkpJiYoay5pbmRleE9mKCJtZXNzYWdlIik+PTB8fGsuaW5kZXhPZigiZGVzY3JpcHRpb24iKT49MCkpcmV0dXJuIE8oSSk7aWYoay5sZW5ndGg9PT0wKXtpZigkKEkpKXt2YXIgaj1JLm5hbWU/IjogIitJLm5hbWU6IiI7cmV0dXJuIHAuc3R5bGl6ZSgiW0Z1bmN0aW9uIitqKyJdIiwic3BlY2lhbCIpfWlmKGxlKEkpKXJldHVybiBwLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEkpLCJyZWdleHAiKTtpZih5ZShJKSlyZXR1cm4gcC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoSSksImRhdGUiKTtpZihYKEkpKXJldHVybiBPKEkpfXZhciB0ZT0iIixVPSExLEY9WyJ7IiwifSJdO2lmKHooSSkmJihVPSEwLEY9WyJbIiwiXSJdKSwkKEkpKXt2YXIgdWU9SS5uYW1lPyI6ICIrSS5uYW1lOiIiO3RlPSIgW0Z1bmN0aW9uIit1ZSsiXSJ9aWYobGUoSSkmJih0ZT0iICIrUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEkpKSx5ZShJKSYmKHRlPSIgIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKEkpKSxYKEkpJiYodGU9IiAiK08oSSkpLGsubGVuZ3RoPT09MCYmKCFVfHxJLmxlbmd0aD09MCkpcmV0dXJuIEZbMF0rdGUrRlsxXTtpZihlZTwwKXJldHVybiBsZShJKT9wLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEkpLCJyZWdleHAiKTpwLnN0eWxpemUoIltPYmplY3RdIiwic3BlY2lhbCIpO3Auc2Vlbi5wdXNoKEkpO3ZhciBwZTtyZXR1cm4gVT9wZT1UKHAsSSxlZSxELGspOnBlPWsubWFwKGZ1bmN0aW9uKF9lKXtyZXR1cm4gUChwLEksZWUsRCxfZSxVKX0pLHAuc2Vlbi5wb3AoKSxMKHBlLHRlLEYpfWZ1bmN0aW9uIE0ocCxJKXtpZihjZShJKSlyZXR1cm4gcC5zdHlsaXplKCJ1bmRlZmluZWQiLCJ1bmRlZmluZWQiKTtpZihRKEkpKXt2YXIgZWU9IiciK0pTT04uc3RyaW5naWZ5KEkpLnJlcGxhY2UoL14ifCIkL2csIiIpLnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKSsiJyI7cmV0dXJuIHAuc3R5bGl6ZShlZSwic3RyaW5nIil9aWYoaWUoSSkpcmV0dXJuIHAuc3R5bGl6ZSgiIitJLCJudW1iZXIiKTtpZihIKEkpKXJldHVybiBwLnN0eWxpemUoIiIrSSwiYm9vbGVhbiIpO2lmKFYoSSkpcmV0dXJuIHAuc3R5bGl6ZSgibnVsbCIsIm51bGwiKX1mdW5jdGlvbiBPKHApe3JldHVybiJbIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwKSsiXSJ9ZnVuY3Rpb24gVChwLEksZWUsZmUsSil7Zm9yKHZhciBrPVtdLEQ9MCxqPUkubGVuZ3RoO0Q8ajsrK0QpQihJLFN0cmluZyhEKSk/ay5wdXNoKFAocCxJLGVlLGZlLFN0cmluZyhEKSwhMCkpOmsucHVzaCgiIik7cmV0dXJuIEouZm9yRWFjaChmdW5jdGlvbih0ZSl7dGUubWF0Y2goL15cZCskLyl8fGsucHVzaChQKHAsSSxlZSxmZSx0ZSwhMCkpfSksa31mdW5jdGlvbiBQKHAsSSxlZSxmZSxKLGspe3ZhciBELGosdGU7aWYodGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihJLEopfHx7dmFsdWU6SVtKXX0sdGUuZ2V0P3RlLnNldD9qPXAuc3R5bGl6ZSgiW0dldHRlci9TZXR0ZXJdIiwic3BlY2lhbCIpOmo9cC5zdHlsaXplKCJbR2V0dGVyXSIsInNwZWNpYWwiKTp0ZS5zZXQmJihqPXAuc3R5bGl6ZSgiW1NldHRlcl0iLCJzcGVjaWFsIikpLEIoZmUsSil8fChEPSJbIitKKyJdIiksanx8KHAuc2Vlbi5pbmRleE9mKHRlLnZhbHVlKTwwPyhWKGVlKT9qPWIocCx0ZS52YWx1ZSxudWxsKTpqPWIocCx0ZS52YWx1ZSxlZS0xKSxqLmluZGV4T2YoYApgKT4tMSYmKGs/aj1qLnNwbGl0KGAKYCkubWFwKGZ1bmN0aW9uKFUpe3JldHVybiIgICIrVX0pLmpvaW4oYApgKS5zbGljZSgyKTpqPWAKYCtqLnNwbGl0KGAKYCkubWFwKGZ1bmN0aW9uKFUpe3JldHVybiIgICAiK1V9KS5qb2luKGAKYCkpKTpqPXAuc3R5bGl6ZSgiW0NpcmN1bGFyXSIsInNwZWNpYWwiKSksY2UoRCkpe2lmKGsmJkoubWF0Y2goL15cZCskLykpcmV0dXJuIGo7RD1KU09OLnN0cmluZ2lmeSgiIitKKSxELm1hdGNoKC9eIihbYS16QS1aX11bYS16QS1aXzAtOV0qKSIkLyk/KEQ9RC5zbGljZSgxLC0xKSxEPXAuc3R5bGl6ZShELCJuYW1lIikpOihEPUQucmVwbGFjZSgvJy9nLCJcXCciKS5yZXBsYWNlKC9cXCIvZywnIicpLnJlcGxhY2UoLyheInwiJCkvZywiJyIpLEQ9cC5zdHlsaXplKEQsInN0cmluZyIpKX1yZXR1cm4gRCsiOiAiK2p9ZnVuY3Rpb24gTChwLEksZWUpe3ZhciBmZT1wLnJlZHVjZShmdW5jdGlvbihKLGspe3JldHVybiBrLmluZGV4T2YoYApgKT49MCxKK2sucmVwbGFjZSgvXHUwMDFiXFtcZFxkP20vZywiIikubGVuZ3RoKzF9LDApO3JldHVybiBmZT42MD9lZVswXSsoST09PSIiPyIiOkkrYAogYCkrIiAiK3Auam9pbihgLAogIGApKyIgIitlZVsxXTplZVswXStJKyIgIitwLmpvaW4oIiwgIikrIiAiK2VlWzFdfWUudHlwZXM9dHlwZXM7ZnVuY3Rpb24geihwKXtyZXR1cm4gQXJyYXkuaXNBcnJheShwKX1lLmlzQXJyYXk9ejtmdW5jdGlvbiBIKHApe3JldHVybiB0eXBlb2YgcD09ImJvb2xlYW4ifWUuaXNCb29sZWFuPUg7ZnVuY3Rpb24gVihwKXtyZXR1cm4gcD09PW51bGx9ZS5pc051bGw9VjtmdW5jdGlvbiBhZShwKXtyZXR1cm4gcD09bnVsbH1lLmlzTnVsbE9yVW5kZWZpbmVkPWFlO2Z1bmN0aW9uIGllKHApe3JldHVybiB0eXBlb2YgcD09Im51bWJlciJ9ZS5pc051bWJlcj1pZTtmdW5jdGlvbiBRKHApe3JldHVybiB0eXBlb2YgcD09InN0cmluZyJ9ZS5pc1N0cmluZz1RO2Z1bmN0aW9uIHJlKHApe3JldHVybiB0eXBlb2YgcD09InN5bWJvbCJ9ZS5pc1N5bWJvbD1yZTtmdW5jdGlvbiBjZShwKXtyZXR1cm4gcD09PXZvaWQgMH1lLmlzVW5kZWZpbmVkPWNlO2Z1bmN0aW9uIGxlKHApe3JldHVybiBvZShwKSYmbChwKT09PSJbb2JqZWN0IFJlZ0V4cF0ifWUuaXNSZWdFeHA9bGUsZS50eXBlcy5pc1JlZ0V4cD1sZTtmdW5jdGlvbiBvZShwKXtyZXR1cm4gdHlwZW9mIHA9PSJvYmplY3QiJiZwIT09bnVsbH1lLmlzT2JqZWN0PW9lO2Z1bmN0aW9uIHllKHApe3JldHVybiBvZShwKSYmbChwKT09PSJbb2JqZWN0IERhdGVdIn1lLmlzRGF0ZT15ZSxlLnR5cGVzLmlzRGF0ZT15ZTtmdW5jdGlvbiBYKHApe3JldHVybiBvZShwKSYmKGwocCk9PT0iW29iamVjdCBFcnJvcl0ifHxwIGluc3RhbmNlb2YgRXJyb3IpfWUuaXNFcnJvcj1YLGUudHlwZXMuaXNOYXRpdmVFcnJvcj1YO2Z1bmN0aW9uICQocCl7cmV0dXJuIHR5cGVvZiBwPT0iZnVuY3Rpb24ifWUuaXNGdW5jdGlvbj0kO2Z1bmN0aW9uIG0ocCl7cmV0dXJuIHA9PT1udWxsfHx0eXBlb2YgcD09ImJvb2xlYW4ifHx0eXBlb2YgcD09Im51bWJlciJ8fHR5cGVvZiBwPT0ic3RyaW5nInx8dHlwZW9mIHA9PSJzeW1ib2wifHx0eXBlb2YgcD4idSJ9ZS5pc1ByaW1pdGl2ZT1tLGUuaXNCdWZmZXI9aXNCdWZmZXJCcm93c2VyO2Z1bmN0aW9uIGwocCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwKX1mdW5jdGlvbiB2KHApe3JldHVybiBwPDEwPyIwIitwLnRvU3RyaW5nKDEwKTpwLnRvU3RyaW5nKDEwKX12YXIgRT1bIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdO2Z1bmN0aW9uIFMoKXt2YXIgcD1uZXcgRGF0ZSxJPVt2KHAuZ2V0SG91cnMoKSksdihwLmdldE1pbnV0ZXMoKSksdihwLmdldFNlY29uZHMoKSldLmpvaW4oIjoiKTtyZXR1cm5bcC5nZXREYXRlKCksRVtwLmdldE1vbnRoKCldLEldLmpvaW4oIiAiKX1lLmxvZz1mdW5jdGlvbigpe2NvbnNvbGUubG9nKCIlcyAtICVzIixTKCksZS5mb3JtYXQuYXBwbHkoZSxhcmd1bWVudHMpKX0sZS5pbmhlcml0cz1pbmhlcml0c19icm93c2VyRXhwb3J0cyxlLl9leHRlbmQ9ZnVuY3Rpb24ocCxJKXtpZighSXx8IW9lKEkpKXJldHVybiBwO2Zvcih2YXIgZWU9T2JqZWN0LmtleXMoSSksZmU9ZWUubGVuZ3RoO2ZlLS07KXBbZWVbZmVdXT1JW2VlW2ZlXV07cmV0dXJuIHB9O2Z1bmN0aW9uIEIocCxJKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHAsSSl9dmFyIEE9dHlwZW9mIFN5bWJvbDwidSI/U3ltYm9sKCJ1dGlsLnByb21pc2lmeS5jdXN0b20iKTp2b2lkIDA7ZS5wcm9taXNpZnk9ZnVuY3Rpb24oSSl7aWYodHlwZW9mIEkhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJvcmlnaW5hbCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7aWYoQSYmSVtBXSl7dmFyIGVlPUlbQV07aWYodHlwZW9mIGVlIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAidXRpbC5wcm9taXNpZnkuY3VzdG9tIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGVlLEEse3ZhbHVlOmVlLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZWV9ZnVuY3Rpb24gZWUoKXtmb3IodmFyIGZlLEosaz1uZXcgUHJvbWlzZShmdW5jdGlvbih0ZSxVKXtmZT10ZSxKPVV9KSxEPVtdLGo9MDtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKUQucHVzaChhcmd1bWVudHNbal0pO0QucHVzaChmdW5jdGlvbih0ZSxVKXt0ZT9KKHRlKTpmZShVKX0pO3RyeXtJLmFwcGx5KHRoaXMsRCl9Y2F0Y2godGUpe0oodGUpfXJldHVybiBrfXJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZWUsT2JqZWN0LmdldFByb3RvdHlwZU9mKEkpKSxBJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZWUsQSx7dmFsdWU6ZWUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlZSx0KEkpKX0sZS5wcm9taXNpZnkuY3VzdG9tPUE7ZnVuY3Rpb24geShwLEkpe2lmKCFwKXt2YXIgZWU9bmV3IEVycm9yKCJQcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgZmFsc3kgdmFsdWUiKTtlZS5yZWFzb249cCxwPWVlfXJldHVybiBJKHApfWZ1bmN0aW9uIHgocCl7aWYodHlwZW9mIHAhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJvcmlnaW5hbCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7ZnVuY3Rpb24gSSgpe2Zvcih2YXIgZWU9W10sZmU9MDtmZTxhcmd1bWVudHMubGVuZ3RoO2ZlKyspZWUucHVzaChhcmd1bWVudHNbZmVdKTt2YXIgSj1lZS5wb3AoKTtpZih0eXBlb2YgSiE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgbGFzdCBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24iKTt2YXIgaz10aGlzLEQ9ZnVuY3Rpb24oKXtyZXR1cm4gSi5hcHBseShrLGFyZ3VtZW50cyl9O3AuYXBwbHkodGhpcyxlZSkudGhlbihmdW5jdGlvbihqKXthcGkkMS5uZXh0VGljayhELmJpbmQobnVsbCxudWxsLGopKX0sZnVuY3Rpb24oail7YXBpJDEubmV4dFRpY2soeS5iaW5kKG51bGwsaixEKSl9KX1yZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKEksT2JqZWN0LmdldFByb3RvdHlwZU9mKHApKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhJLHQocCkpLEl9ZS5jYWxsYmFja2lmeT14fSkodXRpbCQzKTt2YXIgYnVmZmVyX2xpc3QsaGFzUmVxdWlyZWRCdWZmZXJfbGlzdDtmdW5jdGlvbiByZXF1aXJlQnVmZmVyX2xpc3QoKXtpZihoYXNSZXF1aXJlZEJ1ZmZlcl9saXN0KXJldHVybiBidWZmZXJfbGlzdDtoYXNSZXF1aXJlZEJ1ZmZlcl9saXN0PTE7ZnVuY3Rpb24gZShQLEwpe3ZhciB6PU9iamVjdC5rZXlzKFApO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBIPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoUCk7TCYmKEg9SC5maWx0ZXIoZnVuY3Rpb24oVil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUCxWKS5lbnVtZXJhYmxlfSkpLHoucHVzaC5hcHBseSh6LEgpfXJldHVybiB6fWZ1bmN0aW9uIHQoUCl7Zm9yKHZhciBMPTE7TDxhcmd1bWVudHMubGVuZ3RoO0wrKyl7dmFyIHo9YXJndW1lbnRzW0xdIT1udWxsP2FyZ3VtZW50c1tMXTp7fTtMJTI/ZShPYmplY3QoeiksITApLmZvckVhY2goZnVuY3Rpb24oSCl7bihQLEgseltIXSl9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhQLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHopKTplKE9iamVjdCh6KSkuZm9yRWFjaChmdW5jdGlvbihIKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoUCxILE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoeixIKSl9KX1yZXR1cm4gUH1mdW5jdGlvbiBuKFAsTCx6KXtyZXR1cm4gTD1oKEwpLEwgaW4gUD9PYmplY3QuZGVmaW5lUHJvcGVydHkoUCxMLHt2YWx1ZTp6LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6UFtMXT16LFB9ZnVuY3Rpb24gYShQLEwpe2lmKCEoUCBpbnN0YW5jZW9mIEwpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHUoUCxMKXtmb3IodmFyIHo9MDt6PEwubGVuZ3RoO3orKyl7dmFyIEg9TFt6XTtILmVudW1lcmFibGU9SC5lbnVtZXJhYmxlfHwhMSxILmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gSCYmKEgud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQLGgoSC5rZXkpLEgpfX1mdW5jdGlvbiBvKFAsTCx6KXtyZXR1cm4gTCYmdShQLnByb3RvdHlwZSxMKSx6JiZ1KFAseiksT2JqZWN0LmRlZmluZVByb3BlcnR5KFAsInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksUH1mdW5jdGlvbiBoKFApe3ZhciBMPWQoUCwic3RyaW5nIik7cmV0dXJuIHR5cGVvZiBMPT0ic3ltYm9sIj9MOlN0cmluZyhMKX1mdW5jdGlvbiBkKFAsTCl7aWYodHlwZW9mIFAhPSJvYmplY3QifHxQPT09bnVsbClyZXR1cm4gUDt2YXIgej1QW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYoeiE9PXZvaWQgMCl7dmFyIEg9ei5jYWxsKFAsTHx8ImRlZmF1bHQiKTtpZih0eXBlb2YgSCE9Im9iamVjdCIpcmV0dXJuIEg7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oTD09PSJzdHJpbmciP1N0cmluZzpOdW1iZXIpKFApfXZhciB3PWJ1ZmZlciQyLF89dy5CdWZmZXIsYj11dGlsJDMsTT1iLmluc3BlY3QsTz1NJiZNLmN1c3RvbXx8Imluc3BlY3QiO2Z1bmN0aW9uIFQoUCxMLHope18ucHJvdG90eXBlLmNvcHkuY2FsbChQLEwseil9cmV0dXJuIGJ1ZmZlcl9saXN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUCgpe2EodGhpcyxQKSx0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfXJldHVybiBvKFAsW3trZXk6InB1c2giLHZhbHVlOmZ1bmN0aW9uKHope3ZhciBIPXtkYXRhOnosbmV4dDpudWxsfTt0aGlzLmxlbmd0aD4wP3RoaXMudGFpbC5uZXh0PUg6dGhpcy5oZWFkPUgsdGhpcy50YWlsPUgsKyt0aGlzLmxlbmd0aH19LHtrZXk6InVuc2hpZnQiLHZhbHVlOmZ1bmN0aW9uKHope3ZhciBIPXtkYXRhOnosbmV4dDp0aGlzLmhlYWR9O3RoaXMubGVuZ3RoPT09MCYmKHRoaXMudGFpbD1IKSx0aGlzLmhlYWQ9SCwrK3RoaXMubGVuZ3RofX0se2tleToic2hpZnQiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGghPT0wKXt2YXIgej10aGlzLmhlYWQuZGF0YTtyZXR1cm4gdGhpcy5sZW5ndGg9PT0xP3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbDp0aGlzLmhlYWQ9dGhpcy5oZWFkLm5leHQsLS10aGlzLmxlbmd0aCx6fX19LHtrZXk6ImNsZWFyIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfX0se2tleToiam9pbiIsdmFsdWU6ZnVuY3Rpb24oeil7aWYodGhpcy5sZW5ndGg9PT0wKXJldHVybiIiO2Zvcih2YXIgSD10aGlzLmhlYWQsVj0iIitILmRhdGE7SD1ILm5leHQ7KVYrPXorSC5kYXRhO3JldHVybiBWfX0se2tleToiY29uY2F0Iix2YWx1ZTpmdW5jdGlvbih6KXtpZih0aGlzLmxlbmd0aD09PTApcmV0dXJuIF8uYWxsb2MoMCk7Zm9yKHZhciBIPV8uYWxsb2NVbnNhZmUoej4+PjApLFY9dGhpcy5oZWFkLGFlPTA7VjspVChWLmRhdGEsSCxhZSksYWUrPVYuZGF0YS5sZW5ndGgsVj1WLm5leHQ7cmV0dXJuIEh9fSx7a2V5OiJjb25zdW1lIix2YWx1ZTpmdW5jdGlvbih6LEgpe3ZhciBWO3JldHVybiB6PHRoaXMuaGVhZC5kYXRhLmxlbmd0aD8oVj10aGlzLmhlYWQuZGF0YS5zbGljZSgwLHopLHRoaXMuaGVhZC5kYXRhPXRoaXMuaGVhZC5kYXRhLnNsaWNlKHopKTp6PT09dGhpcy5oZWFkLmRhdGEubGVuZ3RoP1Y9dGhpcy5zaGlmdCgpOlY9SD90aGlzLl9nZXRTdHJpbmcoeik6dGhpcy5fZ2V0QnVmZmVyKHopLFZ9fSx7a2V5OiJmaXJzdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkLmRhdGF9fSx7a2V5OiJfZ2V0U3RyaW5nIix2YWx1ZTpmdW5jdGlvbih6KXt2YXIgSD10aGlzLmhlYWQsVj0xLGFlPUguZGF0YTtmb3Ioei09YWUubGVuZ3RoO0g9SC5uZXh0Oyl7dmFyIGllPUguZGF0YSxRPXo+aWUubGVuZ3RoP2llLmxlbmd0aDp6O2lmKFE9PT1pZS5sZW5ndGg/YWUrPWllOmFlKz1pZS5zbGljZSgwLHopLHotPVEsej09PTApe1E9PT1pZS5sZW5ndGg/KCsrVixILm5leHQ/dGhpcy5oZWFkPUgubmV4dDp0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwpOih0aGlzLmhlYWQ9SCxILmRhdGE9aWUuc2xpY2UoUSkpO2JyZWFrfSsrVn1yZXR1cm4gdGhpcy5sZW5ndGgtPVYsYWV9fSx7a2V5OiJfZ2V0QnVmZmVyIix2YWx1ZTpmdW5jdGlvbih6KXt2YXIgSD1fLmFsbG9jVW5zYWZlKHopLFY9dGhpcy5oZWFkLGFlPTE7Zm9yKFYuZGF0YS5jb3B5KEgpLHotPVYuZGF0YS5sZW5ndGg7Vj1WLm5leHQ7KXt2YXIgaWU9Vi5kYXRhLFE9ej5pZS5sZW5ndGg/aWUubGVuZ3RoOno7aWYoaWUuY29weShILEgubGVuZ3RoLXosMCxRKSx6LT1RLHo9PT0wKXtRPT09aWUubGVuZ3RoPygrK2FlLFYubmV4dD90aGlzLmhlYWQ9Vi5uZXh0OnRoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCk6KHRoaXMuaGVhZD1WLFYuZGF0YT1pZS5zbGljZShRKSk7YnJlYWt9KythZX1yZXR1cm4gdGhpcy5sZW5ndGgtPWFlLEh9fSx7a2V5Ok8sdmFsdWU6ZnVuY3Rpb24oeixIKXtyZXR1cm4gTSh0aGlzLHQodCh7fSxIKSx7fSx7ZGVwdGg6MCxjdXN0b21JbnNwZWN0OiExfSkpfX1dKSxQfSgpLGJ1ZmZlcl9saXN0fWZ1bmN0aW9uIGRlc3Ryb3kkMShlLHQpe3ZhciBuPXRoaXMsYT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCx1PXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO3JldHVybiBhfHx1Pyh0P3QoZSk6ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWR8fCh0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxhcGkkMS5uZXh0VGljayhlbWl0RXJyb3JOVCQxLHRoaXMsZSkpOmFwaSQxLm5leHRUaWNrKGVtaXRFcnJvck5UJDEsdGhpcyxlKSksdGhpcyk6KHRoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl9kZXN0cm95KGV8fG51bGwsZnVuY3Rpb24obyl7IXQmJm8/bi5fd3JpdGFibGVTdGF0ZT9uLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD9hcGkkMS5uZXh0VGljayhlbWl0Q2xvc2VOVCxuKToobi5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsYXBpJDEubmV4dFRpY2soZW1pdEVycm9yQW5kQ2xvc2VOVCxuLG8pKTphcGkkMS5uZXh0VGljayhlbWl0RXJyb3JBbmRDbG9zZU5ULG4sbyk6dD8oYXBpJDEubmV4dFRpY2soZW1pdENsb3NlTlQsbiksdChvKSk6YXBpJDEubmV4dFRpY2soZW1pdENsb3NlTlQsbil9KSx0aGlzKX1mdW5jdGlvbiBlbWl0RXJyb3JBbmRDbG9zZU5UKGUsdCl7ZW1pdEVycm9yTlQkMShlLHQpLGVtaXRDbG9zZU5UKGUpfWZ1bmN0aW9uIGVtaXRDbG9zZU5UKGUpe2UuX3dyaXRhYmxlU3RhdGUmJiFlLl93cml0YWJsZVN0YXRlLmVtaXRDbG9zZXx8ZS5fcmVhZGFibGVTdGF0ZSYmIWUuX3JlYWRhYmxlU3RhdGUuZW1pdENsb3NlfHxlLmVtaXQoImNsb3NlIil9ZnVuY3Rpb24gdW5kZXN0cm95JDEoKXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkaW5nPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kZWQ9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkPSExKSx0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZz0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmFsQ2FsbGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUucHJlZmluaXNoZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMSl9ZnVuY3Rpb24gZW1pdEVycm9yTlQkMShlLHQpe2UuZW1pdCgiZXJyb3IiLHQpfWZ1bmN0aW9uIGVycm9yT3JEZXN0cm95KGUsdCl7dmFyIG49ZS5fcmVhZGFibGVTdGF0ZSxhPWUuX3dyaXRhYmxlU3RhdGU7biYmbi5hdXRvRGVzdHJveXx8YSYmYS5hdXRvRGVzdHJveT9lLmRlc3Ryb3kodCk6ZS5lbWl0KCJlcnJvciIsdCl9dmFyIGRlc3Ryb3lfMSQxPXtkZXN0cm95OmRlc3Ryb3kkMSx1bmRlc3Ryb3k6dW5kZXN0cm95JDEsZXJyb3JPckRlc3Ryb3l9LGVycm9yc0Jyb3dzZXI9e307ZnVuY3Rpb24gX2luaGVyaXRzTG9vc2UoZSx0KXtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuX19wcm90b19fPXR9dmFyIGNvZGVzPXt9O2Z1bmN0aW9uIGNyZWF0ZUVycm9yVHlwZShlLHQsbil7bnx8KG49RXJyb3IpO2Z1bmN0aW9uIGEobyxoLGQpe3JldHVybiB0eXBlb2YgdD09InN0cmluZyI/dDp0KG8saCxkKX12YXIgdT1mdW5jdGlvbihvKXtfaW5oZXJpdHNMb29zZShoLG8pO2Z1bmN0aW9uIGgoZCx3LF8pe3JldHVybiBvLmNhbGwodGhpcyxhKGQsdyxfKSl8fHRoaXN9cmV0dXJuIGh9KG4pO3UucHJvdG90eXBlLm5hbWU9bi5uYW1lLHUucHJvdG90eXBlLmNvZGU9ZSxjb2Rlc1tlXT11fWZ1bmN0aW9uIG9uZU9mKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIG49ZS5sZW5ndGg7cmV0dXJuIGU9ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhhKX0pLG4+Mj8ib25lIG9mICIuY29uY2F0KHQsIiAiKS5jb25jYXQoZS5zbGljZSgwLG4tMSkuam9pbigiLCAiKSwiLCBvciAiKStlW24tMV06bj09PTI/Im9uZSBvZiAiLmNvbmNhdCh0LCIgIikuY29uY2F0KGVbMF0sIiBvciAiKS5jb25jYXQoZVsxXSk6Im9mICIuY29uY2F0KHQsIiAiKS5jb25jYXQoZVswXSl9ZWxzZSByZXR1cm4ib2YgIi5jb25jYXQodCwiICIpLmNvbmNhdChTdHJpbmcoZSkpfWZ1bmN0aW9uIHN0YXJ0c1dpdGgoZSx0LG4pe3JldHVybiBlLnN1YnN0cighbnx8bjwwPzA6K24sdC5sZW5ndGgpPT09dH1mdW5jdGlvbiBlbmRzV2l0aCQxKGUsdCxuKXtyZXR1cm4obj09PXZvaWQgMHx8bj5lLmxlbmd0aCkmJihuPWUubGVuZ3RoKSxlLnN1YnN0cmluZyhuLXQubGVuZ3RoLG4pPT09dH1mdW5jdGlvbiBpbmNsdWRlcyhlLHQsbil7cmV0dXJuIHR5cGVvZiBuIT0ibnVtYmVyIiYmKG49MCksbit0Lmxlbmd0aD5lLmxlbmd0aD8hMTplLmluZGV4T2YodCxuKSE9PS0xfWNyZWF0ZUVycm9yVHlwZSgiRVJSX0lOVkFMSURfT1BUX1ZBTFVFIixmdW5jdGlvbihlLHQpe3JldHVybidUaGUgdmFsdWUgIicrdCsnIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gIicrZSsnIid9LFR5cGVFcnJvciksY3JlYXRlRXJyb3JUeXBlKCJFUlJfSU5WQUxJRF9BUkdfVFlQRSIsZnVuY3Rpb24oZSx0LG4pe3ZhciBhO3R5cGVvZiB0PT0ic3RyaW5nIiYmc3RhcnRzV2l0aCh0LCJub3QgIik/KGE9Im11c3Qgbm90IGJlIix0PXQucmVwbGFjZSgvXm5vdCAvLCIiKSk6YT0ibXVzdCBiZSI7dmFyIHU7aWYoZW5kc1dpdGgkMShlLCIgYXJndW1lbnQiKSl1PSJUaGUgIi5jb25jYXQoZSwiICIpLmNvbmNhdChhLCIgIikuY29uY2F0KG9uZU9mKHQsInR5cGUiKSk7ZWxzZXt2YXIgbz1pbmNsdWRlcyhlLCIuIik/InByb3BlcnR5IjoiYXJndW1lbnQiO3U9J1RoZSAiJy5jb25jYXQoZSwnIiAnKS5jb25jYXQobywiICIpLmNvbmNhdChhLCIgIikuY29uY2F0KG9uZU9mKHQsInR5cGUiKSl9cmV0dXJuIHUrPSIuIFJlY2VpdmVkIHR5cGUgIi5jb25jYXQodHlwZW9mIG4pLHV9LFR5cGVFcnJvciksY3JlYXRlRXJyb3JUeXBlKCJFUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GIiwic3RyZWFtLnB1c2goKSBhZnRlciBFT0YiKSxjcmVhdGVFcnJvclR5cGUoIkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEIixmdW5jdGlvbihlKXtyZXR1cm4iVGhlICIrZSsiIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQifSksY3JlYXRlRXJyb3JUeXBlKCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSIsIlByZW1hdHVyZSBjbG9zZSIpLGNyZWF0ZUVycm9yVHlwZSgiRVJSX1NUUkVBTV9ERVNUUk9ZRUQiLGZ1bmN0aW9uKGUpe3JldHVybiJDYW5ub3QgY2FsbCAiK2UrIiBhZnRlciBhIHN0cmVhbSB3YXMgZGVzdHJveWVkIn0pLGNyZWF0ZUVycm9yVHlwZSgiRVJSX01VTFRJUExFX0NBTExCQUNLIiwiQ2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzIiksY3JlYXRlRXJyb3JUeXBlKCJFUlJfU1RSRUFNX0NBTk5PVF9QSVBFIiwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZSIpLGNyZWF0ZUVycm9yVHlwZSgiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQiLCJ3cml0ZSBhZnRlciBlbmQiKSxjcmVhdGVFcnJvclR5cGUoIkVSUl9TVFJFQU1fTlVMTF9WQUxVRVMiLCJNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbSIsVHlwZUVycm9yKSxjcmVhdGVFcnJvclR5cGUoIkVSUl9VTktOT1dOX0VOQ09ESU5HIixmdW5jdGlvbihlKXtyZXR1cm4iVW5rbm93biBlbmNvZGluZzogIitlfSxUeXBlRXJyb3IpLGNyZWF0ZUVycm9yVHlwZSgiRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVCIsInN0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50IiksZXJyb3JzQnJvd3Nlci5jb2Rlcz1jb2Rlczt2YXIgRVJSX0lOVkFMSURfT1BUX1ZBTFVFPWVycm9yc0Jyb3dzZXIuY29kZXMuRVJSX0lOVkFMSURfT1BUX1ZBTFVFO2Z1bmN0aW9uIGhpZ2hXYXRlck1hcmtGcm9tKGUsdCxuKXtyZXR1cm4gZS5oaWdoV2F0ZXJNYXJrIT1udWxsP2UuaGlnaFdhdGVyTWFyazp0P2Vbbl06bnVsbH1mdW5jdGlvbiBnZXRIaWdoV2F0ZXJNYXJrKGUsdCxuLGEpe3ZhciB1PWhpZ2hXYXRlck1hcmtGcm9tKHQsYSxuKTtpZih1IT1udWxsKXtpZighKGlzRmluaXRlKHUpJiZNYXRoLmZsb29yKHUpPT09dSl8fHU8MCl7dmFyIG89YT9uOiJoaWdoV2F0ZXJNYXJrIjt0aHJvdyBuZXcgRVJSX0lOVkFMSURfT1BUX1ZBTFVFKG8sdSl9cmV0dXJuIE1hdGguZmxvb3IodSl9cmV0dXJuIGUub2JqZWN0TW9kZT8xNjoxNioxMDI0fXZhciBzdGF0ZT17Z2V0SGlnaFdhdGVyTWFya30sYnJvd3NlciRhPWRlcHJlY2F0ZTtmdW5jdGlvbiBkZXByZWNhdGUoZSx0KXtpZihjb25maWcoIm5vRGVwcmVjYXRpb24iKSlyZXR1cm4gZTt2YXIgbj0hMTtmdW5jdGlvbiBhKCl7aWYoIW4pe2lmKGNvbmZpZygidGhyb3dEZXByZWNhdGlvbiIpKXRocm93IG5ldyBFcnJvcih0KTtjb25maWcoInRyYWNlRGVwcmVjYXRpb24iKT9jb25zb2xlLnRyYWNlKHQpOmNvbnNvbGUud2Fybih0KSxuPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gYX1mdW5jdGlvbiBjb25maWcoZSl7dHJ5e2lmKCFjb21tb25qc0dsb2JhbC5sb2NhbFN0b3JhZ2UpcmV0dXJuITF9Y2F0Y2h7cmV0dXJuITF9dmFyIHQ9Y29tbW9uanNHbG9iYWwubG9jYWxTdG9yYWdlW2VdO3JldHVybiB0PT1udWxsPyExOlN0cmluZyh0KS50b0xvd2VyQ2FzZSgpPT09InRydWUifXZhciBfc3RyZWFtX3dyaXRhYmxlJDEsaGFzUmVxdWlyZWRfc3RyZWFtX3dyaXRhYmxlJDE7ZnVuY3Rpb24gcmVxdWlyZV9zdHJlYW1fd3JpdGFibGUkMSgpe2lmKGhhc1JlcXVpcmVkX3N0cmVhbV93cml0YWJsZSQxKXJldHVybiBfc3RyZWFtX3dyaXRhYmxlJDE7aGFzUmVxdWlyZWRfc3RyZWFtX3dyaXRhYmxlJDE9MSxfc3RyZWFtX3dyaXRhYmxlJDE9bGU7ZnVuY3Rpb24gZShKKXt2YXIgaz10aGlzO3RoaXMubmV4dD1udWxsLHRoaXMuZW50cnk9bnVsbCx0aGlzLmZpbmlzaD1mdW5jdGlvbigpe2ZlKGssSil9fXZhciB0O2xlLldyaXRhYmxlU3RhdGU9cmU7dmFyIG49e2RlcHJlY2F0ZTpicm93c2VyJGF9LGE9c3RyZWFtQnJvd3NlciQxLHU9YnVmZmVyJDIuQnVmZmVyLG89KHR5cGVvZiBjb21tb25qc0dsb2JhbDwidSI/Y29tbW9uanNHbG9iYWw6dHlwZW9mIHdpbmRvdzwidSI/d2luZG93OnR5cGVvZiBzZWxmPCJ1Ij9zZWxmOnt9KS5VaW50OEFycmF5fHxmdW5jdGlvbigpe307ZnVuY3Rpb24gaChKKXtyZXR1cm4gdS5mcm9tKEopfWZ1bmN0aW9uIGQoSil7cmV0dXJuIHUuaXNCdWZmZXIoSil8fEogaW5zdGFuY2VvZiBvfXZhciB3PWRlc3Ryb3lfMSQxLF89c3RhdGUsYj1fLmdldEhpZ2hXYXRlck1hcmssTT1lcnJvcnNCcm93c2VyLmNvZGVzLE89TS5FUlJfSU5WQUxJRF9BUkdfVFlQRSxUPU0uRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsUD1NLkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxMPU0uRVJSX1NUUkVBTV9DQU5OT1RfUElQRSx6PU0uRVJSX1NUUkVBTV9ERVNUUk9ZRUQsSD1NLkVSUl9TVFJFQU1fTlVMTF9WQUxVRVMsVj1NLkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5ELGFlPU0uRVJSX1VOS05PV05fRU5DT0RJTkcsaWU9dy5lcnJvck9yRGVzdHJveTtpbmhlcml0c19icm93c2VyRXhwb3J0cyhsZSxhKTtmdW5jdGlvbiBRKCl7fWZ1bmN0aW9uIHJlKEosayxEKXt0PXR8fHJlcXVpcmVfc3RyZWFtX2R1cGxleCQxKCksSj1KfHx7fSx0eXBlb2YgRCE9ImJvb2xlYW4iJiYoRD1rIGluc3RhbmNlb2YgdCksdGhpcy5vYmplY3RNb2RlPSEhSi5vYmplY3RNb2RlLEQmJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIUoud3JpdGFibGVPYmplY3RNb2RlKSx0aGlzLmhpZ2hXYXRlck1hcms9Yih0aGlzLEosIndyaXRhYmxlSGlnaFdhdGVyTWFyayIsRCksdGhpcy5maW5hbENhbGxlZD0hMSx0aGlzLm5lZWREcmFpbj0hMSx0aGlzLmVuZGluZz0hMSx0aGlzLmVuZGVkPSExLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITE7dmFyIGo9Si5kZWNvZGVTdHJpbmdzPT09ITE7dGhpcy5kZWNvZGVTdHJpbmdzPSFqLHRoaXMuZGVmYXVsdEVuY29kaW5nPUouZGVmYXVsdEVuY29kaW5nfHwidXRmOCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbih0ZSl7RShrLHRlKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5wZW5kaW5nY2I9MCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuZW1pdENsb3NlPUouZW1pdENsb3NlIT09ITEsdGhpcy5hdXRvRGVzdHJveT0hIUouYXV0b0Rlc3Ryb3ksdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudD0wLHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBlKHRoaXMpfXJlLnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXtmb3IodmFyIGs9dGhpcy5idWZmZXJlZFJlcXVlc3QsRD1bXTtrOylELnB1c2goayksaz1rLm5leHQ7cmV0dXJuIER9LGZ1bmN0aW9uKCl7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShyZS5wcm90b3R5cGUsImJ1ZmZlciIse2dldDpuLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJ1ZmZlcigpfSwiX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgaW5zdGVhZC4iLCJERVAwMDAzIil9KX1jYXRjaHt9fSgpO3ZhciBjZTt0eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZTeW1ib2wuaGFzSW5zdGFuY2UmJnR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXT09ImZ1bmN0aW9uIj8oY2U9RnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGxlLFN5bWJvbC5oYXNJbnN0YW5jZSx7dmFsdWU6ZnVuY3Rpb24oayl7cmV0dXJuIGNlLmNhbGwodGhpcyxrKT8hMDp0aGlzIT09bGU/ITE6ayYmay5fd3JpdGFibGVTdGF0ZSBpbnN0YW5jZW9mIHJlfX0pKTpjZT1mdW5jdGlvbihrKXtyZXR1cm4gayBpbnN0YW5jZW9mIHRoaXN9O2Z1bmN0aW9uIGxlKEope3Q9dHx8cmVxdWlyZV9zdHJlYW1fZHVwbGV4JDEoKTt2YXIgaz10aGlzIGluc3RhbmNlb2YgdDtpZighayYmIWNlLmNhbGwobGUsdGhpcykpcmV0dXJuIG5ldyBsZShKKTt0aGlzLl93cml0YWJsZVN0YXRlPW5ldyByZShKLHRoaXMsayksdGhpcy53cml0YWJsZT0hMCxKJiYodHlwZW9mIEoud3JpdGU9PSJmdW5jdGlvbiImJih0aGlzLl93cml0ZT1KLndyaXRlKSx0eXBlb2YgSi53cml0ZXY9PSJmdW5jdGlvbiImJih0aGlzLl93cml0ZXY9Si53cml0ZXYpLHR5cGVvZiBKLmRlc3Ryb3k9PSJmdW5jdGlvbiImJih0aGlzLl9kZXN0cm95PUouZGVzdHJveSksdHlwZW9mIEouZmluYWw9PSJmdW5jdGlvbiImJih0aGlzLl9maW5hbD1KLmZpbmFsKSksYS5jYWxsKHRoaXMpfWxlLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKCl7aWUodGhpcyxuZXcgTCl9O2Z1bmN0aW9uIG9lKEosayl7dmFyIEQ9bmV3IFY7aWUoSixEKSxhcGkkMS5uZXh0VGljayhrLEQpfWZ1bmN0aW9uIHllKEosayxELGope3ZhciB0ZTtyZXR1cm4gRD09PW51bGw/dGU9bmV3IEg6dHlwZW9mIEQhPSJzdHJpbmciJiYhay5vYmplY3RNb2RlJiYodGU9bmV3IE8oImNodW5rIixbInN0cmluZyIsIkJ1ZmZlciJdLEQpKSx0ZT8oaWUoSix0ZSksYXBpJDEubmV4dFRpY2soaix0ZSksITEpOiEwfWxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihKLGssRCl7dmFyIGo9dGhpcy5fd3JpdGFibGVTdGF0ZSx0ZT0hMSxVPSFqLm9iamVjdE1vZGUmJmQoSik7cmV0dXJuIFUmJiF1LmlzQnVmZmVyKEopJiYoSj1oKEopKSx0eXBlb2Ygaz09ImZ1bmN0aW9uIiYmKEQ9ayxrPW51bGwpLFU/az0iYnVmZmVyIjprfHwoaz1qLmRlZmF1bHRFbmNvZGluZyksdHlwZW9mIEQhPSJmdW5jdGlvbiImJihEPVEpLGouZW5kaW5nP29lKHRoaXMsRCk6KFV8fHllKHRoaXMsaixKLEQpKSYmKGoucGVuZGluZ2NiKyssdGU9JCh0aGlzLGosVSxKLGssRCkpLHRlfSxsZS5wcm90b3R5cGUuY29yaz1mdW5jdGlvbigpe3RoaXMuX3dyaXRhYmxlU3RhdGUuY29ya2VkKyt9LGxlLnByb3RvdHlwZS51bmNvcms9ZnVuY3Rpb24oKXt2YXIgSj10aGlzLl93cml0YWJsZVN0YXRlO0ouY29ya2VkJiYoSi5jb3JrZWQtLSwhSi53cml0aW5nJiYhSi5jb3JrZWQmJiFKLmJ1ZmZlclByb2Nlc3NpbmcmJkouYnVmZmVyZWRSZXF1ZXN0JiZBKHRoaXMsSikpfSxsZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nPWZ1bmN0aW9uKGspe2lmKHR5cGVvZiBrPT0ic3RyaW5nIiYmKGs9ay50b0xvd2VyQ2FzZSgpKSwhKFsiaGV4IiwidXRmOCIsInV0Zi04IiwiYXNjaWkiLCJiaW5hcnkiLCJiYXNlNjQiLCJ1Y3MyIiwidWNzLTIiLCJ1dGYxNmxlIiwidXRmLTE2bGUiLCJyYXciXS5pbmRleE9mKChrKyIiKS50b0xvd2VyQ2FzZSgpKT4tMSkpdGhyb3cgbmV3IGFlKGspO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz1rLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsZS5wcm90b3R5cGUsIndyaXRhYmxlQnVmZmVyIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKX19KTtmdW5jdGlvbiBYKEosayxEKXtyZXR1cm4hSi5vYmplY3RNb2RlJiZKLmRlY29kZVN0cmluZ3MhPT0hMSYmdHlwZW9mIGs9PSJzdHJpbmciJiYoaz11LmZyb20oayxEKSksa31PYmplY3QuZGVmaW5lUHJvcGVydHkobGUucHJvdG90eXBlLCJ3cml0YWJsZUhpZ2hXYXRlck1hcmsiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSk7ZnVuY3Rpb24gJChKLGssRCxqLHRlLFUpe2lmKCFEKXt2YXIgRj1YKGssaix0ZSk7aiE9PUYmJihEPSEwLHRlPSJidWZmZXIiLGo9Ril9dmFyIHVlPWsub2JqZWN0TW9kZT8xOmoubGVuZ3RoO2subGVuZ3RoKz11ZTt2YXIgcGU9ay5sZW5ndGg8ay5oaWdoV2F0ZXJNYXJrO2lmKHBlfHwoay5uZWVkRHJhaW49ITApLGsud3JpdGluZ3x8ay5jb3JrZWQpe3ZhciBfZT1rLmxhc3RCdWZmZXJlZFJlcXVlc3Q7ay5sYXN0QnVmZmVyZWRSZXF1ZXN0PXtjaHVuazpqLGVuY29kaW5nOnRlLGlzQnVmOkQsY2FsbGJhY2s6VSxuZXh0Om51bGx9LF9lP19lLm5leHQ9ay5sYXN0QnVmZmVyZWRSZXF1ZXN0OmsuYnVmZmVyZWRSZXF1ZXN0PWsubGFzdEJ1ZmZlcmVkUmVxdWVzdCxrLmJ1ZmZlcmVkUmVxdWVzdENvdW50Kz0xfWVsc2UgbShKLGssITEsdWUsaix0ZSxVKTtyZXR1cm4gcGV9ZnVuY3Rpb24gbShKLGssRCxqLHRlLFUsRil7ay53cml0ZWxlbj1qLGsud3JpdGVjYj1GLGsud3JpdGluZz0hMCxrLnN5bmM9ITAsay5kZXN0cm95ZWQ/ay5vbndyaXRlKG5ldyB6KCJ3cml0ZSIpKTpEP0ouX3dyaXRldih0ZSxrLm9ud3JpdGUpOkouX3dyaXRlKHRlLFUsay5vbndyaXRlKSxrLnN5bmM9ITF9ZnVuY3Rpb24gbChKLGssRCxqLHRlKXstLWsucGVuZGluZ2NiLEQ/KGFwaSQxLm5leHRUaWNrKHRlLGopLGFwaSQxLm5leHRUaWNrKEksSixrKSxKLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxpZShKLGopKToodGUoaiksSi5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsaWUoSixqKSxJKEosaykpfWZ1bmN0aW9uIHYoSil7Si53cml0aW5nPSExLEoud3JpdGVjYj1udWxsLEoubGVuZ3RoLT1KLndyaXRlbGVuLEoud3JpdGVsZW49MH1mdW5jdGlvbiBFKEosayl7dmFyIEQ9Si5fd3JpdGFibGVTdGF0ZSxqPUQuc3luYyx0ZT1ELndyaXRlY2I7aWYodHlwZW9mIHRlIT0iZnVuY3Rpb24iKXRocm93IG5ldyBQO2lmKHYoRCksaylsKEosRCxqLGssdGUpO2Vsc2V7dmFyIFU9eShEKXx8Si5kZXN0cm95ZWQ7IVUmJiFELmNvcmtlZCYmIUQuYnVmZmVyUHJvY2Vzc2luZyYmRC5idWZmZXJlZFJlcXVlc3QmJkEoSixEKSxqP2FwaSQxLm5leHRUaWNrKFMsSixELFUsdGUpOlMoSixELFUsdGUpfX1mdW5jdGlvbiBTKEosayxELGope0R8fEIoSixrKSxrLnBlbmRpbmdjYi0tLGooKSxJKEosayl9ZnVuY3Rpb24gQihKLGspe2subGVuZ3RoPT09MCYmay5uZWVkRHJhaW4mJihrLm5lZWREcmFpbj0hMSxKLmVtaXQoImRyYWluIikpfWZ1bmN0aW9uIEEoSixrKXtrLmJ1ZmZlclByb2Nlc3Npbmc9ITA7dmFyIEQ9ay5idWZmZXJlZFJlcXVlc3Q7aWYoSi5fd3JpdGV2JiZEJiZELm5leHQpe3ZhciBqPWsuYnVmZmVyZWRSZXF1ZXN0Q291bnQsdGU9bmV3IEFycmF5KGopLFU9ay5jb3JrZWRSZXF1ZXN0c0ZyZWU7VS5lbnRyeT1EO2Zvcih2YXIgRj0wLHVlPSEwO0Q7KXRlW0ZdPUQsRC5pc0J1Znx8KHVlPSExKSxEPUQubmV4dCxGKz0xO3RlLmFsbEJ1ZmZlcnM9dWUsbShKLGssITAsay5sZW5ndGgsdGUsIiIsVS5maW5pc2gpLGsucGVuZGluZ2NiKyssay5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsVS5uZXh0PyhrLmNvcmtlZFJlcXVlc3RzRnJlZT1VLm5leHQsVS5uZXh0PW51bGwpOmsuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBlKGspLGsuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MH1lbHNle2Zvcig7RDspe3ZhciBwZT1ELmNodW5rLF9lPUQuZW5jb2RpbmcsWT1ELmNhbGxiYWNrLE49ay5vYmplY3RNb2RlPzE6cGUubGVuZ3RoO2lmKG0oSixrLCExLE4scGUsX2UsWSksRD1ELm5leHQsay5idWZmZXJlZFJlcXVlc3RDb3VudC0tLGsud3JpdGluZylicmVha31EPT09bnVsbCYmKGsubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsKX1rLmJ1ZmZlcmVkUmVxdWVzdD1ELGsuYnVmZmVyUHJvY2Vzc2luZz0hMX1sZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKEosayxEKXtEKG5ldyBUKCJfd3JpdGUoKSIpKX0sbGUucHJvdG90eXBlLl93cml0ZXY9bnVsbCxsZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKEosayxEKXt2YXIgaj10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiB0eXBlb2YgSj09ImZ1bmN0aW9uIj8oRD1KLEo9bnVsbCxrPW51bGwpOnR5cGVvZiBrPT0iZnVuY3Rpb24iJiYoRD1rLGs9bnVsbCksSiE9bnVsbCYmdGhpcy53cml0ZShKLGspLGouY29ya2VkJiYoai5jb3JrZWQ9MSx0aGlzLnVuY29yaygpKSxqLmVuZGluZ3x8ZWUodGhpcyxqLEQpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsZS5wcm90b3R5cGUsIndyaXRhYmxlTGVuZ3RoIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5sZW5ndGh9fSk7ZnVuY3Rpb24geShKKXtyZXR1cm4gSi5lbmRpbmcmJkoubGVuZ3RoPT09MCYmSi5idWZmZXJlZFJlcXVlc3Q9PT1udWxsJiYhSi5maW5pc2hlZCYmIUoud3JpdGluZ31mdW5jdGlvbiB4KEosayl7Si5fZmluYWwoZnVuY3Rpb24oRCl7ay5wZW5kaW5nY2ItLSxEJiZpZShKLEQpLGsucHJlZmluaXNoZWQ9ITAsSi5lbWl0KCJwcmVmaW5pc2giKSxJKEosayl9KX1mdW5jdGlvbiBwKEosayl7IWsucHJlZmluaXNoZWQmJiFrLmZpbmFsQ2FsbGVkJiYodHlwZW9mIEouX2ZpbmFsPT0iZnVuY3Rpb24iJiYhay5kZXN0cm95ZWQ/KGsucGVuZGluZ2NiKyssay5maW5hbENhbGxlZD0hMCxhcGkkMS5uZXh0VGljayh4LEosaykpOihrLnByZWZpbmlzaGVkPSEwLEouZW1pdCgicHJlZmluaXNoIikpKX1mdW5jdGlvbiBJKEosayl7dmFyIEQ9eShrKTtpZihEJiYocChKLGspLGsucGVuZGluZ2NiPT09MCYmKGsuZmluaXNoZWQ9ITAsSi5lbWl0KCJmaW5pc2giKSxrLmF1dG9EZXN0cm95KSkpe3ZhciBqPUouX3JlYWRhYmxlU3RhdGU7KCFqfHxqLmF1dG9EZXN0cm95JiZqLmVuZEVtaXR0ZWQpJiZKLmRlc3Ryb3koKX1yZXR1cm4gRH1mdW5jdGlvbiBlZShKLGssRCl7ay5lbmRpbmc9ITAsSShKLGspLEQmJihrLmZpbmlzaGVkP2FwaSQxLm5leHRUaWNrKEQpOkoub25jZSgiZmluaXNoIixEKSksay5lbmRlZD0hMCxKLndyaXRhYmxlPSExfWZ1bmN0aW9uIGZlKEosayxEKXt2YXIgaj1KLmVudHJ5O2ZvcihKLmVudHJ5PW51bGw7ajspe3ZhciB0ZT1qLmNhbGxiYWNrO2sucGVuZGluZ2NiLS0sdGUoRCksaj1qLm5leHR9ay5jb3JrZWRSZXF1ZXN0c0ZyZWUubmV4dD1KfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobGUucHJvdG90eXBlLCJkZXN0cm95ZWQiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlPT09dm9pZCAwPyExOnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24oayl7dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPWspfX0pLGxlLnByb3RvdHlwZS5kZXN0cm95PXcuZGVzdHJveSxsZS5wcm90b3R5cGUuX3VuZGVzdHJveT13LnVuZGVzdHJveSxsZS5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oSixrKXtrKEopfSxfc3RyZWFtX3dyaXRhYmxlJDF9dmFyIF9zdHJlYW1fZHVwbGV4JDEsaGFzUmVxdWlyZWRfc3RyZWFtX2R1cGxleCQxO2Z1bmN0aW9uIHJlcXVpcmVfc3RyZWFtX2R1cGxleCQxKCl7aWYoaGFzUmVxdWlyZWRfc3RyZWFtX2R1cGxleCQxKXJldHVybiBfc3RyZWFtX2R1cGxleCQxO2hhc1JlcXVpcmVkX3N0cmVhbV9kdXBsZXgkMT0xO3ZhciBlPU9iamVjdC5rZXlzfHxmdW5jdGlvbihfKXt2YXIgYj1bXTtmb3IodmFyIE0gaW4gXyliLnB1c2goTSk7cmV0dXJuIGJ9O19zdHJlYW1fZHVwbGV4JDE9aDt2YXIgdD1yZXF1aXJlX3N0cmVhbV9yZWFkYWJsZSQxKCksbj1yZXF1aXJlX3N0cmVhbV93cml0YWJsZSQxKCk7aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMoaCx0KTtmb3IodmFyIGE9ZShuLnByb3RvdHlwZSksdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgbz1hW3VdO2gucHJvdG90eXBlW29dfHwoaC5wcm90b3R5cGVbb109bi5wcm90b3R5cGVbb10pfWZ1bmN0aW9uIGgoXyl7aWYoISh0aGlzIGluc3RhbmNlb2YgaCkpcmV0dXJuIG5ldyBoKF8pO3QuY2FsbCh0aGlzLF8pLG4uY2FsbCh0aGlzLF8pLHRoaXMuYWxsb3dIYWxmT3Blbj0hMCxfJiYoXy5yZWFkYWJsZT09PSExJiYodGhpcy5yZWFkYWJsZT0hMSksXy53cml0YWJsZT09PSExJiYodGhpcy53cml0YWJsZT0hMSksXy5hbGxvd0hhbGZPcGVuPT09ITEmJih0aGlzLmFsbG93SGFsZk9wZW49ITEsdGhpcy5vbmNlKCJlbmQiLGQpKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJ3cml0YWJsZUhpZ2hXYXRlck1hcmsiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJ3cml0YWJsZUJ1ZmZlciIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJ3cml0YWJsZUxlbmd0aCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0pO2Z1bmN0aW9uIGQoKXt0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkfHxhcGkkMS5uZXh0VGljayh3LHRoaXMpfWZ1bmN0aW9uIHcoXyl7Xy5lbmQoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJkZXN0cm95ZWQiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlPT09dm9pZCAwfHx0aGlzLl93cml0YWJsZVN0YXRlPT09dm9pZCAwPyExOnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKGIpe3RoaXMuX3JlYWRhYmxlU3RhdGU9PT12b2lkIDB8fHRoaXMuX3dyaXRhYmxlU3RhdGU9PT12b2lkIDB8fCh0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD1iLHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPWIpfX0pLF9zdHJlYW1fZHVwbGV4JDF9dmFyIHN0cmluZ19kZWNvZGVyPXt9LEJ1ZmZlciRCPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLGlzRW5jb2Rpbmc9QnVmZmVyJEIuaXNFbmNvZGluZ3x8ZnVuY3Rpb24oZSl7c3dpdGNoKGU9IiIrZSxlJiZlLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOmNhc2UicmF3IjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX07ZnVuY3Rpb24gX25vcm1hbGl6ZUVuY29kaW5nKGUpe2lmKCFlKXJldHVybiJ1dGY4Ijtmb3IodmFyIHQ7Oylzd2l0Y2goZSl7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4idXRmOCI7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiJ1dGYxNmxlIjtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiJsYXRpbjEiO2Nhc2UiYmFzZTY0IjpjYXNlImFzY2lpIjpjYXNlImhleCI6cmV0dXJuIGU7ZGVmYXVsdDppZih0KXJldHVybjtlPSgiIitlKS50b0xvd2VyQ2FzZSgpLHQ9ITB9fWZ1bmN0aW9uIG5vcm1hbGl6ZUVuY29kaW5nKGUpe3ZhciB0PV9ub3JtYWxpemVFbmNvZGluZyhlKTtpZih0eXBlb2YgdCE9InN0cmluZyImJihCdWZmZXIkQi5pc0VuY29kaW5nPT09aXNFbmNvZGluZ3x8IWlzRW5jb2RpbmcoZSkpKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTtyZXR1cm4gdHx8ZX1zdHJpbmdfZGVjb2Rlci5TdHJpbmdEZWNvZGVyPVN0cmluZ0RlY29kZXIkMTtmdW5jdGlvbiBTdHJpbmdEZWNvZGVyJDEoZSl7dGhpcy5lbmNvZGluZz1ub3JtYWxpemVFbmNvZGluZyhlKTt2YXIgdDtzd2l0Y2godGhpcy5lbmNvZGluZyl7Y2FzZSJ1dGYxNmxlIjp0aGlzLnRleHQ9dXRmMTZUZXh0LHRoaXMuZW5kPXV0ZjE2RW5kLHQ9NDticmVhaztjYXNlInV0ZjgiOnRoaXMuZmlsbExhc3Q9dXRmOEZpbGxMYXN0LHQ9NDticmVhaztjYXNlImJhc2U2NCI6dGhpcy50ZXh0PWJhc2U2NFRleHQsdGhpcy5lbmQ9YmFzZTY0RW5kLHQ9MzticmVhaztkZWZhdWx0OnRoaXMud3JpdGU9c2ltcGxlV3JpdGUsdGhpcy5lbmQ9c2ltcGxlRW5kO3JldHVybn10aGlzLmxhc3ROZWVkPTAsdGhpcy5sYXN0VG90YWw9MCx0aGlzLmxhc3RDaGFyPUJ1ZmZlciRCLmFsbG9jVW5zYWZlKHQpfVN0cmluZ0RlY29kZXIkMS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg9PT0wKXJldHVybiIiO3ZhciB0LG47aWYodGhpcy5sYXN0TmVlZCl7aWYodD10aGlzLmZpbGxMYXN0KGUpLHQ9PT12b2lkIDApcmV0dXJuIiI7bj10aGlzLmxhc3ROZWVkLHRoaXMubGFzdE5lZWQ9MH1lbHNlIG49MDtyZXR1cm4gbjxlLmxlbmd0aD90P3QrdGhpcy50ZXh0KGUsbik6dGhpcy50ZXh0KGUsbik6dHx8IiJ9LFN0cmluZ0RlY29kZXIkMS5wcm90b3R5cGUuZW5kPXV0ZjhFbmQsU3RyaW5nRGVjb2RlciQxLnByb3RvdHlwZS50ZXh0PXV0ZjhUZXh0LFN0cmluZ0RlY29kZXIkMS5wcm90b3R5cGUuZmlsbExhc3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5sYXN0TmVlZDw9ZS5sZW5ndGgpcmV0dXJuIGUuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCk7ZS5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLGUubGVuZ3RoKSx0aGlzLmxhc3ROZWVkLT1lLmxlbmd0aH07ZnVuY3Rpb24gdXRmOENoZWNrQnl0ZShlKXtyZXR1cm4gZTw9MTI3PzA6ZT4+NT09PTY/MjplPj40PT09MTQ/MzplPj4zPT09MzA/NDplPj42PT09Mj8tMTotMn1mdW5jdGlvbiB1dGY4Q2hlY2tJbmNvbXBsZXRlKGUsdCxuKXt2YXIgYT10Lmxlbmd0aC0xO2lmKGE8bilyZXR1cm4gMDt2YXIgdT11dGY4Q2hlY2tCeXRlKHRbYV0pO3JldHVybiB1Pj0wPyh1PjAmJihlLmxhc3ROZWVkPXUtMSksdSk6LS1hPG58fHU9PT0tMj8wOih1PXV0ZjhDaGVja0J5dGUodFthXSksdT49MD8odT4wJiYoZS5sYXN0TmVlZD11LTIpLHUpOi0tYTxufHx1PT09LTI/MDoodT11dGY4Q2hlY2tCeXRlKHRbYV0pLHU+PTA/KHU+MCYmKHU9PT0yP3U9MDplLmxhc3ROZWVkPXUtMyksdSk6MCkpfWZ1bmN0aW9uIHV0ZjhDaGVja0V4dHJhQnl0ZXMoZSx0LG4pe2lmKCh0WzBdJjE5MikhPT0xMjgpcmV0dXJuIGUubGFzdE5lZWQ9MCwi77+9IjtpZihlLmxhc3ROZWVkPjEmJnQubGVuZ3RoPjEpe2lmKCh0WzFdJjE5MikhPT0xMjgpcmV0dXJuIGUubGFzdE5lZWQ9MSwi77+9IjtpZihlLmxhc3ROZWVkPjImJnQubGVuZ3RoPjImJih0WzJdJjE5MikhPT0xMjgpcmV0dXJuIGUubGFzdE5lZWQ9Miwi77+9In19ZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGUpe3ZhciB0PXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsbj11dGY4Q2hlY2tFeHRyYUJ5dGVzKHRoaXMsZSk7aWYobiE9PXZvaWQgMClyZXR1cm4gbjtpZih0aGlzLmxhc3ROZWVkPD1lLmxlbmd0aClyZXR1cm4gZS5jb3B5KHRoaXMubGFzdENoYXIsdCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKTtlLmNvcHkodGhpcy5sYXN0Q2hhcix0LDAsZS5sZW5ndGgpLHRoaXMubGFzdE5lZWQtPWUubGVuZ3RofWZ1bmN0aW9uIHV0ZjhUZXh0KGUsdCl7dmFyIG49dXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLGUsdCk7aWYoIXRoaXMubGFzdE5lZWQpcmV0dXJuIGUudG9TdHJpbmcoInV0ZjgiLHQpO3RoaXMubGFzdFRvdGFsPW47dmFyIGE9ZS5sZW5ndGgtKG4tdGhpcy5sYXN0TmVlZCk7cmV0dXJuIGUuY29weSh0aGlzLmxhc3RDaGFyLDAsYSksZS50b1N0cmluZygidXRmOCIsdCxhKX1mdW5jdGlvbiB1dGY4RW5kKGUpe3ZhciB0PWUmJmUubGVuZ3RoP3RoaXMud3JpdGUoZSk6IiI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/dCsi77+9Ijp0fWZ1bmN0aW9uIHV0ZjE2VGV4dChlLHQpe2lmKChlLmxlbmd0aC10KSUyPT09MCl7dmFyIG49ZS50b1N0cmluZygidXRmMTZsZSIsdCk7aWYobil7dmFyIGE9bi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpO2lmKGE+PTU1Mjk2JiZhPD01NjMxOSlyZXR1cm4gdGhpcy5sYXN0TmVlZD0yLHRoaXMubGFzdFRvdGFsPTQsdGhpcy5sYXN0Q2hhclswXT1lW2UubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09ZVtlLmxlbmd0aC0xXSxuLnNsaWNlKDAsLTEpfXJldHVybiBufXJldHVybiB0aGlzLmxhc3ROZWVkPTEsdGhpcy5sYXN0VG90YWw9Mix0aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMV0sZS50b1N0cmluZygidXRmMTZsZSIsdCxlLmxlbmd0aC0xKX1mdW5jdGlvbiB1dGYxNkVuZChlKXt2YXIgdD1lJiZlLmxlbmd0aD90aGlzLndyaXRlKGUpOiIiO2lmKHRoaXMubGFzdE5lZWQpe3ZhciBuPXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQ7cmV0dXJuIHQrdGhpcy5sYXN0Q2hhci50b1N0cmluZygidXRmMTZsZSIsMCxuKX1yZXR1cm4gdH1mdW5jdGlvbiBiYXNlNjRUZXh0KGUsdCl7dmFyIG49KGUubGVuZ3RoLXQpJTM7cmV0dXJuIG49PT0wP2UudG9TdHJpbmcoImJhc2U2NCIsdCk6KHRoaXMubGFzdE5lZWQ9My1uLHRoaXMubGFzdFRvdGFsPTMsbj09PTE/dGhpcy5sYXN0Q2hhclswXT1lW2UubGVuZ3RoLTFdOih0aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT1lW2UubGVuZ3RoLTFdKSxlLnRvU3RyaW5nKCJiYXNlNjQiLHQsZS5sZW5ndGgtbikpfWZ1bmN0aW9uIGJhc2U2NEVuZChlKXt2YXIgdD1lJiZlLmxlbmd0aD90aGlzLndyaXRlKGUpOiIiO3JldHVybiB0aGlzLmxhc3ROZWVkP3QrdGhpcy5sYXN0Q2hhci50b1N0cmluZygiYmFzZTY0IiwwLDMtdGhpcy5sYXN0TmVlZCk6dH1mdW5jdGlvbiBzaW1wbGVXcml0ZShlKXtyZXR1cm4gZS50b1N0cmluZyh0aGlzLmVuY29kaW5nKX1mdW5jdGlvbiBzaW1wbGVFbmQoZSl7cmV0dXJuIGUmJmUubGVuZ3RoP3RoaXMud3JpdGUoZSk6IiJ9dmFyIEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFPWVycm9yc0Jyb3dzZXIuY29kZXMuRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U7ZnVuY3Rpb24gb25jZSQxKGUpe3ZhciB0PSExO3JldHVybiBmdW5jdGlvbigpe2lmKCF0KXt0PSEwO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KG4pLHU9MDt1PG47dSsrKWFbdV09YXJndW1lbnRzW3VdO2UuYXBwbHkodGhpcyxhKX19fWZ1bmN0aW9uIG5vb3AkMigpe31mdW5jdGlvbiBpc1JlcXVlc3QkMihlKXtyZXR1cm4gZS5zZXRIZWFkZXImJnR5cGVvZiBlLmFib3J0PT0iZnVuY3Rpb24ifWZ1bmN0aW9uIGVvcyQxKGUsdCxuKXtpZih0eXBlb2YgdD09ImZ1bmN0aW9uIilyZXR1cm4gZW9zJDEoZSxudWxsLHQpO3R8fCh0PXt9KSxuPW9uY2UkMShufHxub29wJDIpO3ZhciBhPXQucmVhZGFibGV8fHQucmVhZGFibGUhPT0hMSYmZS5yZWFkYWJsZSx1PXQud3JpdGFibGV8fHQud3JpdGFibGUhPT0hMSYmZS53cml0YWJsZSxvPWZ1bmN0aW9uKCl7ZS53cml0YWJsZXx8ZCgpfSxoPWUuX3dyaXRhYmxlU3RhdGUmJmUuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQsZD1mdW5jdGlvbigpe3U9ITEsaD0hMCxhfHxuLmNhbGwoZSl9LHc9ZS5fcmVhZGFibGVTdGF0ZSYmZS5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkLF89ZnVuY3Rpb24oKXthPSExLHc9ITAsdXx8bi5jYWxsKGUpfSxiPWZ1bmN0aW9uKFApe24uY2FsbChlLFApfSxNPWZ1bmN0aW9uKCl7dmFyIFA7aWYoYSYmIXcpcmV0dXJuKCFlLl9yZWFkYWJsZVN0YXRlfHwhZS5fcmVhZGFibGVTdGF0ZS5lbmRlZCkmJihQPW5ldyBFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSksbi5jYWxsKGUsUCk7aWYodSYmIWgpcmV0dXJuKCFlLl93cml0YWJsZVN0YXRlfHwhZS5fd3JpdGFibGVTdGF0ZS5lbmRlZCkmJihQPW5ldyBFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSksbi5jYWxsKGUsUCl9LE89ZnVuY3Rpb24oKXtlLnJlcS5vbigiZmluaXNoIixkKX07cmV0dXJuIGlzUmVxdWVzdCQyKGUpPyhlLm9uKCJjb21wbGV0ZSIsZCksZS5vbigiYWJvcnQiLE0pLGUucmVxP08oKTplLm9uKCJyZXF1ZXN0IixPKSk6dSYmIWUuX3dyaXRhYmxlU3RhdGUmJihlLm9uKCJlbmQiLG8pLGUub24oImNsb3NlIixvKSksZS5vbigiZW5kIixfKSxlLm9uKCJmaW5pc2giLGQpLHQuZXJyb3IhPT0hMSYmZS5vbigiZXJyb3IiLGIpLGUub24oImNsb3NlIixNKSxmdW5jdGlvbigpe2UucmVtb3ZlTGlzdGVuZXIoImNvbXBsZXRlIixkKSxlLnJlbW92ZUxpc3RlbmVyKCJhYm9ydCIsTSksZS5yZW1vdmVMaXN0ZW5lcigicmVxdWVzdCIsTyksZS5yZXEmJmUucmVxLnJlbW92ZUxpc3RlbmVyKCJmaW5pc2giLGQpLGUucmVtb3ZlTGlzdGVuZXIoImVuZCIsbyksZS5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLG8pLGUucmVtb3ZlTGlzdGVuZXIoImZpbmlzaCIsZCksZS5yZW1vdmVMaXN0ZW5lcigiZW5kIixfKSxlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsYiksZS5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLE0pfX12YXIgZW5kT2ZTdHJlYW09ZW9zJDEsYXN5bmNfaXRlcmF0b3IsaGFzUmVxdWlyZWRBc3luY19pdGVyYXRvcjtmdW5jdGlvbiByZXF1aXJlQXN5bmNfaXRlcmF0b3IoKXtpZihoYXNSZXF1aXJlZEFzeW5jX2l0ZXJhdG9yKXJldHVybiBhc3luY19pdGVyYXRvcjtoYXNSZXF1aXJlZEFzeW5jX2l0ZXJhdG9yPTE7dmFyIGU7ZnVuY3Rpb24gdChhZSxpZSxRKXtyZXR1cm4gaWU9bihpZSksaWUgaW4gYWU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGFlLGllLHt2YWx1ZTpRLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6YWVbaWVdPVEsYWV9ZnVuY3Rpb24gbihhZSl7dmFyIGllPWEoYWUsInN0cmluZyIpO3JldHVybiB0eXBlb2YgaWU9PSJzeW1ib2wiP2llOlN0cmluZyhpZSl9ZnVuY3Rpb24gYShhZSxpZSl7aWYodHlwZW9mIGFlIT0ib2JqZWN0Inx8YWU9PT1udWxsKXJldHVybiBhZTt2YXIgUT1hZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKFEhPT12b2lkIDApe3ZhciByZT1RLmNhbGwoYWUsaWV8fCJkZWZhdWx0Iik7aWYodHlwZW9mIHJlIT0ib2JqZWN0IilyZXR1cm4gcmU7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oaWU9PT0ic3RyaW5nIj9TdHJpbmc6TnVtYmVyKShhZSl9dmFyIHU9ZW5kT2ZTdHJlYW0sbz1TeW1ib2woImxhc3RSZXNvbHZlIiksaD1TeW1ib2woImxhc3RSZWplY3QiKSxkPVN5bWJvbCgiZXJyb3IiKSx3PVN5bWJvbCgiZW5kZWQiKSxfPVN5bWJvbCgibGFzdFByb21pc2UiKSxiPVN5bWJvbCgiaGFuZGxlUHJvbWlzZSIpLE09U3ltYm9sKCJzdHJlYW0iKTtmdW5jdGlvbiBPKGFlLGllKXtyZXR1cm57dmFsdWU6YWUsZG9uZTppZX19ZnVuY3Rpb24gVChhZSl7dmFyIGllPWFlW29dO2lmKGllIT09bnVsbCl7dmFyIFE9YWVbTV0ucmVhZCgpO1EhPT1udWxsJiYoYWVbX109bnVsbCxhZVtvXT1udWxsLGFlW2hdPW51bGwsaWUoTyhRLCExKSkpfX1mdW5jdGlvbiBQKGFlKXthcGkkMS5uZXh0VGljayhULGFlKX1mdW5jdGlvbiBMKGFlLGllKXtyZXR1cm4gZnVuY3Rpb24oUSxyZSl7YWUudGhlbihmdW5jdGlvbigpe2lmKGllW3ddKXtRKE8odm9pZCAwLCEwKSk7cmV0dXJufWllW2JdKFEscmUpfSxyZSl9fXZhciB6PU9iamVjdC5nZXRQcm90b3R5cGVPZihmdW5jdGlvbigpe30pLEg9T2JqZWN0LnNldFByb3RvdHlwZU9mKChlPXtnZXQgc3RyZWFtKCl7cmV0dXJuIHRoaXNbTV19LG5leHQ6ZnVuY3Rpb24oKXt2YXIgaWU9dGhpcyxRPXRoaXNbZF07aWYoUSE9PW51bGwpcmV0dXJuIFByb21pc2UucmVqZWN0KFEpO2lmKHRoaXNbd10pcmV0dXJuIFByb21pc2UucmVzb2x2ZShPKHZvaWQgMCwhMCkpO2lmKHRoaXNbTV0uZGVzdHJveWVkKXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihvZSx5ZSl7YXBpJDEubmV4dFRpY2soZnVuY3Rpb24oKXtpZVtkXT95ZShpZVtkXSk6b2UoTyh2b2lkIDAsITApKX0pfSk7dmFyIHJlPXRoaXNbX10sY2U7aWYocmUpY2U9bmV3IFByb21pc2UoTChyZSx0aGlzKSk7ZWxzZXt2YXIgbGU9dGhpc1tNXS5yZWFkKCk7aWYobGUhPT1udWxsKXJldHVybiBQcm9taXNlLnJlc29sdmUoTyhsZSwhMSkpO2NlPW5ldyBQcm9taXNlKHRoaXNbYl0pfXJldHVybiB0aGlzW19dPWNlLGNlfX0sdChlLFN5bWJvbC5hc3luY0l0ZXJhdG9yLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0KGUsInJldHVybiIsZnVuY3Rpb24oKXt2YXIgaWU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oUSxyZSl7aWVbTV0uZGVzdHJveShudWxsLGZ1bmN0aW9uKGNlKXtpZihjZSl7cmUoY2UpO3JldHVybn1RKE8odm9pZCAwLCEwKSl9KX0pfSksZSkseiksVj1mdW5jdGlvbihpZSl7dmFyIFEscmU9T2JqZWN0LmNyZWF0ZShILChRPXt9LHQoUSxNLHt2YWx1ZTppZSx3cml0YWJsZTohMH0pLHQoUSxvLHt2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSksdChRLGgse3ZhbHVlOm51bGwsd3JpdGFibGU6ITB9KSx0KFEsZCx7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0pLHQoUSx3LHt2YWx1ZTppZS5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkLHdyaXRhYmxlOiEwfSksdChRLGIse3ZhbHVlOmZ1bmN0aW9uKGxlLG9lKXt2YXIgeWU9cmVbTV0ucmVhZCgpO3llPyhyZVtfXT1udWxsLHJlW29dPW51bGwscmVbaF09bnVsbCxsZShPKHllLCExKSkpOihyZVtvXT1sZSxyZVtoXT1vZSl9LHdyaXRhYmxlOiEwfSksUSkpO3JldHVybiByZVtfXT1udWxsLHUoaWUsZnVuY3Rpb24oY2Upe2lmKGNlJiZjZS5jb2RlIT09IkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFIil7dmFyIGxlPXJlW2hdO2xlIT09bnVsbCYmKHJlW19dPW51bGwscmVbb109bnVsbCxyZVtoXT1udWxsLGxlKGNlKSkscmVbZF09Y2U7cmV0dXJufXZhciBvZT1yZVtvXTtvZSE9PW51bGwmJihyZVtfXT1udWxsLHJlW29dPW51bGwscmVbaF09bnVsbCxvZShPKHZvaWQgMCwhMCkpKSxyZVt3XT0hMH0pLGllLm9uKCJyZWFkYWJsZSIsUC5iaW5kKG51bGwscmUpKSxyZX07cmV0dXJuIGFzeW5jX2l0ZXJhdG9yPVYsYXN5bmNfaXRlcmF0b3J9dmFyIGZyb21Ccm93c2VyLGhhc1JlcXVpcmVkRnJvbUJyb3dzZXI7ZnVuY3Rpb24gcmVxdWlyZUZyb21Ccm93c2VyKCl7cmV0dXJuIGhhc1JlcXVpcmVkRnJvbUJyb3dzZXJ8fChoYXNSZXF1aXJlZEZyb21Ccm93c2VyPTEsZnJvbUJyb3dzZXI9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIlJlYWRhYmxlLmZyb20gaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnJvd3NlciIpfSksZnJvbUJyb3dzZXJ9dmFyIF9zdHJlYW1fcmVhZGFibGUkMSxoYXNSZXF1aXJlZF9zdHJlYW1fcmVhZGFibGUkMTtmdW5jdGlvbiByZXF1aXJlX3N0cmVhbV9yZWFkYWJsZSQxKCl7aWYoaGFzUmVxdWlyZWRfc3RyZWFtX3JlYWRhYmxlJDEpcmV0dXJuIF9zdHJlYW1fcmVhZGFibGUkMTtoYXNSZXF1aXJlZF9zdHJlYW1fcmVhZGFibGUkMT0xLF9zdHJlYW1fcmVhZGFibGUkMT1vZTt2YXIgZTtvZS5SZWFkYWJsZVN0YXRlPWxlLGV2ZW50c0V4cG9ydHMuRXZlbnRFbWl0dGVyO3ZhciB0PWZ1bmN0aW9uKEYsdWUpe3JldHVybiBGLmxpc3RlbmVycyh1ZSkubGVuZ3RofSxuPXN0cmVhbUJyb3dzZXIkMSxhPWJ1ZmZlciQyLkJ1ZmZlcix1PSh0eXBlb2YgY29tbW9uanNHbG9iYWw8InUiP2NvbW1vbmpzR2xvYmFsOnR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzp0eXBlb2Ygc2VsZjwidSI/c2VsZjp7fSkuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIG8oVSl7cmV0dXJuIGEuZnJvbShVKX1mdW5jdGlvbiBoKFUpe3JldHVybiBhLmlzQnVmZmVyKFUpfHxVIGluc3RhbmNlb2YgdX12YXIgZD11dGlsJDMsdztkJiZkLmRlYnVnbG9nP3c9ZC5kZWJ1Z2xvZygic3RyZWFtIik6dz1mdW5jdGlvbigpe307dmFyIF89cmVxdWlyZUJ1ZmZlcl9saXN0KCksYj1kZXN0cm95XzEkMSxNPXN0YXRlLE89TS5nZXRIaWdoV2F0ZXJNYXJrLFQ9ZXJyb3JzQnJvd3Nlci5jb2RlcyxQPVQuRVJSX0lOVkFMSURfQVJHX1RZUEUsTD1ULkVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0Ysej1ULkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVELEg9VC5FUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5ULFYsYWUsaWU7aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMob2Usbik7dmFyIFE9Yi5lcnJvck9yRGVzdHJveSxyZT1bImVycm9yIiwiY2xvc2UiLCJkZXN0cm95IiwicGF1c2UiLCJyZXN1bWUiXTtmdW5jdGlvbiBjZShVLEYsdWUpe2lmKHR5cGVvZiBVLnByZXBlbmRMaXN0ZW5lcj09ImZ1bmN0aW9uIilyZXR1cm4gVS5wcmVwZW5kTGlzdGVuZXIoRix1ZSk7IVUuX2V2ZW50c3x8IVUuX2V2ZW50c1tGXT9VLm9uKEYsdWUpOkFycmF5LmlzQXJyYXkoVS5fZXZlbnRzW0ZdKT9VLl9ldmVudHNbRl0udW5zaGlmdCh1ZSk6VS5fZXZlbnRzW0ZdPVt1ZSxVLl9ldmVudHNbRl1dfWZ1bmN0aW9uIGxlKFUsRix1ZSl7ZT1lfHxyZXF1aXJlX3N0cmVhbV9kdXBsZXgkMSgpLFU9VXx8e30sdHlwZW9mIHVlIT0iYm9vbGVhbiImJih1ZT1GIGluc3RhbmNlb2YgZSksdGhpcy5vYmplY3RNb2RlPSEhVS5vYmplY3RNb2RlLHVlJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISFVLnJlYWRhYmxlT2JqZWN0TW9kZSksdGhpcy5oaWdoV2F0ZXJNYXJrPU8odGhpcyxVLCJyZWFkYWJsZUhpZ2hXYXRlck1hcmsiLHVlKSx0aGlzLmJ1ZmZlcj1uZXcgXyx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9bnVsbCx0aGlzLnBpcGVzQ291bnQ9MCx0aGlzLmZsb3dpbmc9bnVsbCx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5zeW5jPSEwLHRoaXMubmVlZFJlYWRhYmxlPSExLHRoaXMuZW1pdHRlZFJlYWRhYmxlPSExLHRoaXMucmVhZGFibGVMaXN0ZW5pbmc9ITEsdGhpcy5yZXN1bWVTY2hlZHVsZWQ9ITEsdGhpcy5wYXVzZWQ9ITAsdGhpcy5lbWl0Q2xvc2U9VS5lbWl0Q2xvc2UhPT0hMSx0aGlzLmF1dG9EZXN0cm95PSEhVS5hdXRvRGVzdHJveSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz1VLmRlZmF1bHRFbmNvZGluZ3x8InV0ZjgiLHRoaXMuYXdhaXREcmFpbj0wLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLFUuZW5jb2RpbmcmJihWfHwoVj1zdHJpbmdfZGVjb2Rlci5TdHJpbmdEZWNvZGVyKSx0aGlzLmRlY29kZXI9bmV3IFYoVS5lbmNvZGluZyksdGhpcy5lbmNvZGluZz1VLmVuY29kaW5nKX1mdW5jdGlvbiBvZShVKXtpZihlPWV8fHJlcXVpcmVfc3RyZWFtX2R1cGxleCQxKCksISh0aGlzIGluc3RhbmNlb2Ygb2UpKXJldHVybiBuZXcgb2UoVSk7dmFyIEY9dGhpcyBpbnN0YW5jZW9mIGU7dGhpcy5fcmVhZGFibGVTdGF0ZT1uZXcgbGUoVSx0aGlzLEYpLHRoaXMucmVhZGFibGU9ITAsVSYmKHR5cGVvZiBVLnJlYWQ9PSJmdW5jdGlvbiImJih0aGlzLl9yZWFkPVUucmVhZCksdHlwZW9mIFUuZGVzdHJveT09ImZ1bmN0aW9uIiYmKHRoaXMuX2Rlc3Ryb3k9VS5kZXN0cm95KSksbi5jYWxsKHRoaXMpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvZS5wcm90b3R5cGUsImRlc3Ryb3llZCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU9PT12b2lkIDA/ITE6dGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldDpmdW5jdGlvbihGKXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9Ril9fSksb2UucHJvdG90eXBlLmRlc3Ryb3k9Yi5kZXN0cm95LG9lLnByb3RvdHlwZS5fdW5kZXN0cm95PWIudW5kZXN0cm95LG9lLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihVLEYpe0YoVSl9LG9lLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKFUsRil7dmFyIHVlPXRoaXMuX3JlYWRhYmxlU3RhdGUscGU7cmV0dXJuIHVlLm9iamVjdE1vZGU/cGU9ITA6dHlwZW9mIFU9PSJzdHJpbmciJiYoRj1GfHx1ZS5kZWZhdWx0RW5jb2RpbmcsRiE9PXVlLmVuY29kaW5nJiYoVT1hLmZyb20oVSxGKSxGPSIiKSxwZT0hMCkseWUodGhpcyxVLEYsITEscGUpfSxvZS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbihVKXtyZXR1cm4geWUodGhpcyxVLG51bGwsITAsITEpfTtmdW5jdGlvbiB5ZShVLEYsdWUscGUsX2Upe3coInJlYWRhYmxlQWRkQ2h1bmsiLEYpO3ZhciBZPVUuX3JlYWRhYmxlU3RhdGU7aWYoRj09PW51bGwpWS5yZWFkaW5nPSExLEUoVSxZKTtlbHNle3ZhciBOO2lmKF9lfHwoTj0kKFksRikpLE4pUShVLE4pO2Vsc2UgaWYoWS5vYmplY3RNb2RlfHxGJiZGLmxlbmd0aD4wKWlmKHR5cGVvZiBGIT0ic3RyaW5nIiYmIVkub2JqZWN0TW9kZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKEYpIT09YS5wcm90b3R5cGUmJihGPW8oRikpLHBlKVkuZW5kRW1pdHRlZD9RKFUsbmV3IEgpOlgoVSxZLEYsITApO2Vsc2UgaWYoWS5lbmRlZClRKFUsbmV3IEwpO2Vsc2V7aWYoWS5kZXN0cm95ZWQpcmV0dXJuITE7WS5yZWFkaW5nPSExLFkuZGVjb2RlciYmIXVlPyhGPVkuZGVjb2Rlci53cml0ZShGKSxZLm9iamVjdE1vZGV8fEYubGVuZ3RoIT09MD9YKFUsWSxGLCExKTpBKFUsWSkpOlgoVSxZLEYsITEpfWVsc2UgcGV8fChZLnJlYWRpbmc9ITEsQShVLFkpKX1yZXR1cm4hWS5lbmRlZCYmKFkubGVuZ3RoPFkuaGlnaFdhdGVyTWFya3x8WS5sZW5ndGg9PT0wKX1mdW5jdGlvbiBYKFUsRix1ZSxwZSl7Ri5mbG93aW5nJiZGLmxlbmd0aD09PTAmJiFGLnN5bmM/KEYuYXdhaXREcmFpbj0wLFUuZW1pdCgiZGF0YSIsdWUpKTooRi5sZW5ndGgrPUYub2JqZWN0TW9kZT8xOnVlLmxlbmd0aCxwZT9GLmJ1ZmZlci51bnNoaWZ0KHVlKTpGLmJ1ZmZlci5wdXNoKHVlKSxGLm5lZWRSZWFkYWJsZSYmUyhVKSksQShVLEYpfWZ1bmN0aW9uICQoVSxGKXt2YXIgdWU7cmV0dXJuIWgoRikmJnR5cGVvZiBGIT0ic3RyaW5nIiYmRiE9PXZvaWQgMCYmIVUub2JqZWN0TW9kZSYmKHVlPW5ldyBQKCJjaHVuayIsWyJzdHJpbmciLCJCdWZmZXIiLCJVaW50OEFycmF5Il0sRikpLHVlfW9lLnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9PT0hMX0sb2UucHJvdG90eXBlLnNldEVuY29kaW5nPWZ1bmN0aW9uKFUpe1Z8fChWPXN0cmluZ19kZWNvZGVyLlN0cmluZ0RlY29kZXIpO3ZhciBGPW5ldyBWKFUpO3RoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj1GLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyLmVuY29kaW5nO2Zvcih2YXIgdWU9dGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIuaGVhZCxwZT0iIjt1ZSE9PW51bGw7KXBlKz1GLndyaXRlKHVlLmRhdGEpLHVlPXVlLm5leHQ7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmNsZWFyKCkscGUhPT0iIiYmdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIucHVzaChwZSksdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg9cGUubGVuZ3RoLHRoaXN9O3ZhciBtPTEwNzM3NDE4MjQ7ZnVuY3Rpb24gbChVKXtyZXR1cm4gVT49bT9VPW06KFUtLSxVfD1VPj4+MSxVfD1VPj4+MixVfD1VPj4+NCxVfD1VPj4+OCxVfD1VPj4+MTYsVSsrKSxVfWZ1bmN0aW9uIHYoVSxGKXtyZXR1cm4gVTw9MHx8Ri5sZW5ndGg9PT0wJiZGLmVuZGVkPzA6Ri5vYmplY3RNb2RlPzE6VSE9PVU/Ri5mbG93aW5nJiZGLmxlbmd0aD9GLmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoOkYubGVuZ3RoOihVPkYuaGlnaFdhdGVyTWFyayYmKEYuaGlnaFdhdGVyTWFyaz1sKFUpKSxVPD1GLmxlbmd0aD9VOkYuZW5kZWQ/Ri5sZW5ndGg6KEYubmVlZFJlYWRhYmxlPSEwLDApKX1vZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihVKXt3KCJyZWFkIixVKSxVPXBhcnNlSW50KFUsMTApO3ZhciBGPXRoaXMuX3JlYWRhYmxlU3RhdGUsdWU9VTtpZihVIT09MCYmKEYuZW1pdHRlZFJlYWRhYmxlPSExKSxVPT09MCYmRi5uZWVkUmVhZGFibGUmJigoRi5oaWdoV2F0ZXJNYXJrIT09MD9GLmxlbmd0aD49Ri5oaWdoV2F0ZXJNYXJrOkYubGVuZ3RoPjApfHxGLmVuZGVkKSlyZXR1cm4gdygicmVhZDogZW1pdFJlYWRhYmxlIixGLmxlbmd0aCxGLmVuZGVkKSxGLmxlbmd0aD09PTAmJkYuZW5kZWQ/RCh0aGlzKTpTKHRoaXMpLG51bGw7aWYoVT12KFUsRiksVT09PTAmJkYuZW5kZWQpcmV0dXJuIEYubGVuZ3RoPT09MCYmRCh0aGlzKSxudWxsO3ZhciBwZT1GLm5lZWRSZWFkYWJsZTt3KCJuZWVkIHJlYWRhYmxlIixwZSksKEYubGVuZ3RoPT09MHx8Ri5sZW5ndGgtVTxGLmhpZ2hXYXRlck1hcmspJiYocGU9ITAsdygibGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsiLHBlKSksRi5lbmRlZHx8Ri5yZWFkaW5nPyhwZT0hMSx3KCJyZWFkaW5nIG9yIGVuZGVkIixwZSkpOnBlJiYodygiZG8gcmVhZCIpLEYucmVhZGluZz0hMCxGLnN5bmM9ITAsRi5sZW5ndGg9PT0wJiYoRi5uZWVkUmVhZGFibGU9ITApLHRoaXMuX3JlYWQoRi5oaWdoV2F0ZXJNYXJrKSxGLnN5bmM9ITEsRi5yZWFkaW5nfHwoVT12KHVlLEYpKSk7dmFyIF9lO3JldHVybiBVPjA/X2U9ayhVLEYpOl9lPW51bGwsX2U9PT1udWxsPyhGLm5lZWRSZWFkYWJsZT1GLmxlbmd0aDw9Ri5oaWdoV2F0ZXJNYXJrLFU9MCk6KEYubGVuZ3RoLT1VLEYuYXdhaXREcmFpbj0wKSxGLmxlbmd0aD09PTAmJihGLmVuZGVkfHwoRi5uZWVkUmVhZGFibGU9ITApLHVlIT09VSYmRi5lbmRlZCYmRCh0aGlzKSksX2UhPT1udWxsJiZ0aGlzLmVtaXQoImRhdGEiLF9lKSxfZX07ZnVuY3Rpb24gRShVLEYpe2lmKHcoIm9uRW9mQ2h1bmsiKSwhRi5lbmRlZCl7aWYoRi5kZWNvZGVyKXt2YXIgdWU9Ri5kZWNvZGVyLmVuZCgpO3VlJiZ1ZS5sZW5ndGgmJihGLmJ1ZmZlci5wdXNoKHVlKSxGLmxlbmd0aCs9Ri5vYmplY3RNb2RlPzE6dWUubGVuZ3RoKX1GLmVuZGVkPSEwLEYuc3luYz9TKFUpOihGLm5lZWRSZWFkYWJsZT0hMSxGLmVtaXR0ZWRSZWFkYWJsZXx8KEYuZW1pdHRlZFJlYWRhYmxlPSEwLEIoVSkpKX19ZnVuY3Rpb24gUyhVKXt2YXIgRj1VLl9yZWFkYWJsZVN0YXRlO3coImVtaXRSZWFkYWJsZSIsRi5uZWVkUmVhZGFibGUsRi5lbWl0dGVkUmVhZGFibGUpLEYubmVlZFJlYWRhYmxlPSExLEYuZW1pdHRlZFJlYWRhYmxlfHwodygiZW1pdFJlYWRhYmxlIixGLmZsb3dpbmcpLEYuZW1pdHRlZFJlYWRhYmxlPSEwLGFwaSQxLm5leHRUaWNrKEIsVSkpfWZ1bmN0aW9uIEIoVSl7dmFyIEY9VS5fcmVhZGFibGVTdGF0ZTt3KCJlbWl0UmVhZGFibGVfIixGLmRlc3Ryb3llZCxGLmxlbmd0aCxGLmVuZGVkKSwhRi5kZXN0cm95ZWQmJihGLmxlbmd0aHx8Ri5lbmRlZCkmJihVLmVtaXQoInJlYWRhYmxlIiksRi5lbWl0dGVkUmVhZGFibGU9ITEpLEYubmVlZFJlYWRhYmxlPSFGLmZsb3dpbmcmJiFGLmVuZGVkJiZGLmxlbmd0aDw9Ri5oaWdoV2F0ZXJNYXJrLEooVSl9ZnVuY3Rpb24gQShVLEYpe0YucmVhZGluZ01vcmV8fChGLnJlYWRpbmdNb3JlPSEwLGFwaSQxLm5leHRUaWNrKHksVSxGKSl9ZnVuY3Rpb24geShVLEYpe2Zvcig7IUYucmVhZGluZyYmIUYuZW5kZWQmJihGLmxlbmd0aDxGLmhpZ2hXYXRlck1hcmt8fEYuZmxvd2luZyYmRi5sZW5ndGg9PT0wKTspe3ZhciB1ZT1GLmxlbmd0aDtpZih3KCJtYXliZVJlYWRNb3JlIHJlYWQgMCIpLFUucmVhZCgwKSx1ZT09PUYubGVuZ3RoKWJyZWFrfUYucmVhZGluZ01vcmU9ITF9b2UucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKFUpe1EodGhpcyxuZXcgeigiX3JlYWQoKSIpKX0sb2UucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oVSxGKXt2YXIgdWU9dGhpcyxwZT10aGlzLl9yZWFkYWJsZVN0YXRlO3N3aXRjaChwZS5waXBlc0NvdW50KXtjYXNlIDA6cGUucGlwZXM9VTticmVhaztjYXNlIDE6cGUucGlwZXM9W3BlLnBpcGVzLFVdO2JyZWFrO2RlZmF1bHQ6cGUucGlwZXMucHVzaChVKTticmVha31wZS5waXBlc0NvdW50Kz0xLHcoInBpcGUgY291bnQ9JWQgb3B0cz0laiIscGUucGlwZXNDb3VudCxGKTt2YXIgX2U9KCFGfHxGLmVuZCE9PSExKSYmVSE9PWFwaSQxLnN0ZG91dCYmVSE9PWFwaSQxLnN0ZGVycixZPV9lP0M6YmU7cGUuZW5kRW1pdHRlZD9hcGkkMS5uZXh0VGljayhZKTp1ZS5vbmNlKCJlbmQiLFkpLFUub24oInVucGlwZSIsTik7ZnVuY3Rpb24gTih2ZSxFZSl7dygib251bnBpcGUiKSx2ZT09PXVlJiZFZSYmRWUuaGFzVW5waXBlZD09PSExJiYoRWUuaGFzVW5waXBlZD0hMCxkZSgpKX1mdW5jdGlvbiBDKCl7dygib25lbmQiKSxVLmVuZCgpfXZhciBaPXgodWUpO1Uub24oImRyYWluIixaKTt2YXIgc2U9ITE7ZnVuY3Rpb24gZGUoKXt3KCJjbGVhbnVwIiksVS5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLG5lKSxVLnJlbW92ZUxpc3RlbmVyKCJmaW5pc2giLGhlKSxVLnJlbW92ZUxpc3RlbmVyKCJkcmFpbiIsWiksVS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLHdlKSxVLnJlbW92ZUxpc3RlbmVyKCJ1bnBpcGUiLE4pLHVlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLEMpLHVlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGJlKSx1ZS5yZW1vdmVMaXN0ZW5lcigiZGF0YSIsbWUpLHNlPSEwLHBlLmF3YWl0RHJhaW4mJighVS5fd3JpdGFibGVTdGF0ZXx8VS5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pJiZaKCl9dWUub24oImRhdGEiLG1lKTtmdW5jdGlvbiBtZSh2ZSl7dygib25kYXRhIik7dmFyIEVlPVUud3JpdGUodmUpO3coImRlc3Qud3JpdGUiLEVlKSxFZT09PSExJiYoKHBlLnBpcGVzQ291bnQ9PT0xJiZwZS5waXBlcz09PVV8fHBlLnBpcGVzQ291bnQ+MSYmdGUocGUucGlwZXMsVSkhPT0tMSkmJiFzZSYmKHcoImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZSIscGUuYXdhaXREcmFpbikscGUuYXdhaXREcmFpbisrKSx1ZS5wYXVzZSgpKX1mdW5jdGlvbiB3ZSh2ZSl7dygib25lcnJvciIsdmUpLGJlKCksVS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLHdlKSx0KFUsImVycm9yIik9PT0wJiZRKFUsdmUpfWNlKFUsImVycm9yIix3ZSk7ZnVuY3Rpb24gbmUoKXtVLnJlbW92ZUxpc3RlbmVyKCJmaW5pc2giLGhlKSxiZSgpfVUub25jZSgiY2xvc2UiLG5lKTtmdW5jdGlvbiBoZSgpe3coIm9uZmluaXNoIiksVS5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLG5lKSxiZSgpfVUub25jZSgiZmluaXNoIixoZSk7ZnVuY3Rpb24gYmUoKXt3KCJ1bnBpcGUiKSx1ZS51bnBpcGUoVSl9cmV0dXJuIFUuZW1pdCgicGlwZSIsdWUpLHBlLmZsb3dpbmd8fCh3KCJwaXBlIHJlc3VtZSIpLHVlLnJlc3VtZSgpKSxVfTtmdW5jdGlvbiB4KFUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB1ZT1VLl9yZWFkYWJsZVN0YXRlO3coInBpcGVPbkRyYWluIix1ZS5hd2FpdERyYWluKSx1ZS5hd2FpdERyYWluJiZ1ZS5hd2FpdERyYWluLS0sdWUuYXdhaXREcmFpbj09PTAmJnQoVSwiZGF0YSIpJiYodWUuZmxvd2luZz0hMCxKKFUpKX19b2UucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbihVKXt2YXIgRj10aGlzLl9yZWFkYWJsZVN0YXRlLHVlPXtoYXNVbnBpcGVkOiExfTtpZihGLnBpcGVzQ291bnQ9PT0wKXJldHVybiB0aGlzO2lmKEYucGlwZXNDb3VudD09PTEpcmV0dXJuIFUmJlUhPT1GLnBpcGVzP3RoaXM6KFV8fChVPUYucGlwZXMpLEYucGlwZXM9bnVsbCxGLnBpcGVzQ291bnQ9MCxGLmZsb3dpbmc9ITEsVSYmVS5lbWl0KCJ1bnBpcGUiLHRoaXMsdWUpLHRoaXMpO2lmKCFVKXt2YXIgcGU9Ri5waXBlcyxfZT1GLnBpcGVzQ291bnQ7Ri5waXBlcz1udWxsLEYucGlwZXNDb3VudD0wLEYuZmxvd2luZz0hMTtmb3IodmFyIFk9MDtZPF9lO1krKylwZVtZXS5lbWl0KCJ1bnBpcGUiLHRoaXMse2hhc1VucGlwZWQ6ITF9KTtyZXR1cm4gdGhpc312YXIgTj10ZShGLnBpcGVzLFUpO3JldHVybiBOPT09LTE/dGhpczooRi5waXBlcy5zcGxpY2UoTiwxKSxGLnBpcGVzQ291bnQtPTEsRi5waXBlc0NvdW50PT09MSYmKEYucGlwZXM9Ri5waXBlc1swXSksVS5lbWl0KCJ1bnBpcGUiLHRoaXMsdWUpLHRoaXMpfSxvZS5wcm90b3R5cGUub249ZnVuY3Rpb24oVSxGKXt2YXIgdWU9bi5wcm90b3R5cGUub24uY2FsbCh0aGlzLFUsRikscGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gVT09PSJkYXRhIj8ocGUucmVhZGFibGVMaXN0ZW5pbmc9dGhpcy5saXN0ZW5lckNvdW50KCJyZWFkYWJsZSIpPjAscGUuZmxvd2luZyE9PSExJiZ0aGlzLnJlc3VtZSgpKTpVPT09InJlYWRhYmxlIiYmIXBlLmVuZEVtaXR0ZWQmJiFwZS5yZWFkYWJsZUxpc3RlbmluZyYmKHBlLnJlYWRhYmxlTGlzdGVuaW5nPXBlLm5lZWRSZWFkYWJsZT0hMCxwZS5mbG93aW5nPSExLHBlLmVtaXR0ZWRSZWFkYWJsZT0hMSx3KCJvbiByZWFkYWJsZSIscGUubGVuZ3RoLHBlLnJlYWRpbmcpLHBlLmxlbmd0aD9TKHRoaXMpOnBlLnJlYWRpbmd8fGFwaSQxLm5leHRUaWNrKEksdGhpcykpLHVlfSxvZS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9b2UucHJvdG90eXBlLm9uLG9lLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihVLEYpe3ZhciB1ZT1uLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsVSxGKTtyZXR1cm4gVT09PSJyZWFkYWJsZSImJmFwaSQxLm5leHRUaWNrKHAsdGhpcyksdWV9LG9lLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oVSl7dmFyIEY9bi5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4oVT09PSJyZWFkYWJsZSJ8fFU9PT12b2lkIDApJiZhcGkkMS5uZXh0VGljayhwLHRoaXMpLEZ9O2Z1bmN0aW9uIHAoVSl7dmFyIEY9VS5fcmVhZGFibGVTdGF0ZTtGLnJlYWRhYmxlTGlzdGVuaW5nPVUubGlzdGVuZXJDb3VudCgicmVhZGFibGUiKT4wLEYucmVzdW1lU2NoZWR1bGVkJiYhRi5wYXVzZWQ/Ri5mbG93aW5nPSEwOlUubGlzdGVuZXJDb3VudCgiZGF0YSIpPjAmJlUucmVzdW1lKCl9ZnVuY3Rpb24gSShVKXt3KCJyZWFkYWJsZSBuZXh0dGljayByZWFkIDAiKSxVLnJlYWQoMCl9b2UucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3ZhciBVPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIFUuZmxvd2luZ3x8KHcoInJlc3VtZSIpLFUuZmxvd2luZz0hVS5yZWFkYWJsZUxpc3RlbmluZyxlZSh0aGlzLFUpKSxVLnBhdXNlZD0hMSx0aGlzfTtmdW5jdGlvbiBlZShVLEYpe0YucmVzdW1lU2NoZWR1bGVkfHwoRi5yZXN1bWVTY2hlZHVsZWQ9ITAsYXBpJDEubmV4dFRpY2soZmUsVSxGKSl9ZnVuY3Rpb24gZmUoVSxGKXt3KCJyZXN1bWUiLEYucmVhZGluZyksRi5yZWFkaW5nfHxVLnJlYWQoMCksRi5yZXN1bWVTY2hlZHVsZWQ9ITEsVS5lbWl0KCJyZXN1bWUiKSxKKFUpLEYuZmxvd2luZyYmIUYucmVhZGluZyYmVS5yZWFkKDApfW9lLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiB3KCJjYWxsIHBhdXNlIGZsb3dpbmc9JWoiLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nIT09ITEmJih3KCJwYXVzZSIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz0hMSx0aGlzLmVtaXQoInBhdXNlIikpLHRoaXMuX3JlYWRhYmxlU3RhdGUucGF1c2VkPSEwLHRoaXN9O2Z1bmN0aW9uIEooVSl7dmFyIEY9VS5fcmVhZGFibGVTdGF0ZTtmb3IodygiZmxvdyIsRi5mbG93aW5nKTtGLmZsb3dpbmcmJlUucmVhZCgpIT09bnVsbDspO31vZS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbihVKXt2YXIgRj10aGlzLHVlPXRoaXMuX3JlYWRhYmxlU3RhdGUscGU9ITE7VS5vbigiZW5kIixmdW5jdGlvbigpe2lmKHcoIndyYXBwZWQgZW5kIiksdWUuZGVjb2RlciYmIXVlLmVuZGVkKXt2YXIgTj11ZS5kZWNvZGVyLmVuZCgpO04mJk4ubGVuZ3RoJiZGLnB1c2goTil9Ri5wdXNoKG51bGwpfSksVS5vbigiZGF0YSIsZnVuY3Rpb24oTil7aWYodygid3JhcHBlZCBkYXRhIiksdWUuZGVjb2RlciYmKE49dWUuZGVjb2Rlci53cml0ZShOKSksISh1ZS5vYmplY3RNb2RlJiZOPT1udWxsKSYmISghdWUub2JqZWN0TW9kZSYmKCFOfHwhTi5sZW5ndGgpKSl7dmFyIEM9Ri5wdXNoKE4pO0N8fChwZT0hMCxVLnBhdXNlKCkpfX0pO2Zvcih2YXIgX2UgaW4gVSl0aGlzW19lXT09PXZvaWQgMCYmdHlwZW9mIFVbX2VdPT0iZnVuY3Rpb24iJiYodGhpc1tfZV09ZnVuY3Rpb24oQyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIFVbQ10uYXBwbHkoVSxhcmd1bWVudHMpfX0oX2UpKTtmb3IodmFyIFk9MDtZPHJlLmxlbmd0aDtZKyspVS5vbihyZVtZXSx0aGlzLmVtaXQuYmluZCh0aGlzLHJlW1ldKSk7cmV0dXJuIHRoaXMuX3JlYWQ9ZnVuY3Rpb24oTil7dygid3JhcHBlZCBfcmVhZCIsTikscGUmJihwZT0hMSxVLnJlc3VtZSgpKX0sdGhpc30sdHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmKG9lLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gYWU9PT12b2lkIDAmJihhZT1yZXF1aXJlQXN5bmNfaXRlcmF0b3IoKSksYWUodGhpcyl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkob2UucHJvdG90eXBlLCJyZWFkYWJsZUhpZ2hXYXRlck1hcmsiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG9lLnByb3RvdHlwZSwicmVhZGFibGVCdWZmZXIiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkob2UucHJvdG90eXBlLCJyZWFkYWJsZUZsb3dpbmciLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmd9LHNldDpmdW5jdGlvbihGKXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPUYpfX0pLG9lLl9mcm9tTGlzdD1rLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvZS5wcm90b3R5cGUsInJlYWRhYmxlTGVuZ3RoIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGh9fSk7ZnVuY3Rpb24gayhVLEYpe2lmKEYubGVuZ3RoPT09MClyZXR1cm4gbnVsbDt2YXIgdWU7cmV0dXJuIEYub2JqZWN0TW9kZT91ZT1GLmJ1ZmZlci5zaGlmdCgpOiFVfHxVPj1GLmxlbmd0aD8oRi5kZWNvZGVyP3VlPUYuYnVmZmVyLmpvaW4oIiIpOkYuYnVmZmVyLmxlbmd0aD09PTE/dWU9Ri5idWZmZXIuZmlyc3QoKTp1ZT1GLmJ1ZmZlci5jb25jYXQoRi5sZW5ndGgpLEYuYnVmZmVyLmNsZWFyKCkpOnVlPUYuYnVmZmVyLmNvbnN1bWUoVSxGLmRlY29kZXIpLHVlfWZ1bmN0aW9uIEQoVSl7dmFyIEY9VS5fcmVhZGFibGVTdGF0ZTt3KCJlbmRSZWFkYWJsZSIsRi5lbmRFbWl0dGVkKSxGLmVuZEVtaXR0ZWR8fChGLmVuZGVkPSEwLGFwaSQxLm5leHRUaWNrKGosRixVKSl9ZnVuY3Rpb24gaihVLEYpe2lmKHcoImVuZFJlYWRhYmxlTlQiLFUuZW5kRW1pdHRlZCxVLmxlbmd0aCksIVUuZW5kRW1pdHRlZCYmVS5sZW5ndGg9PT0wJiYoVS5lbmRFbWl0dGVkPSEwLEYucmVhZGFibGU9ITEsRi5lbWl0KCJlbmQiKSxVLmF1dG9EZXN0cm95KSl7dmFyIHVlPUYuX3dyaXRhYmxlU3RhdGU7KCF1ZXx8dWUuYXV0b0Rlc3Ryb3kmJnVlLmZpbmlzaGVkKSYmRi5kZXN0cm95KCl9fXR5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJihvZS5mcm9tPWZ1bmN0aW9uKFUsRil7cmV0dXJuIGllPT09dm9pZCAwJiYoaWU9cmVxdWlyZUZyb21Ccm93c2VyKCkpLGllKG9lLFUsRil9KTtmdW5jdGlvbiB0ZShVLEYpe2Zvcih2YXIgdWU9MCxwZT1VLmxlbmd0aDt1ZTxwZTt1ZSsrKWlmKFVbdWVdPT09RilyZXR1cm4gdWU7cmV0dXJuLTF9cmV0dXJuIF9zdHJlYW1fcmVhZGFibGUkMX12YXIgX3N0cmVhbV90cmFuc2Zvcm0kMT1UcmFuc2Zvcm0kYSxfcmVxdWlyZSRjb2RlcyQxPWVycm9yc0Jyb3dzZXIuY29kZXMsRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQ9X3JlcXVpcmUkY29kZXMkMS5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxFUlJfTVVMVElQTEVfQ0FMTEJBQ0s9X3JlcXVpcmUkY29kZXMkMS5FUlJfTVVMVElQTEVfQ0FMTEJBQ0ssRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORz1fcmVxdWlyZSRjb2RlcyQxLkVSUl9UUkFOU0ZPUk1fQUxSRUFEWV9UUkFOU0ZPUk1JTkcsRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wPV9yZXF1aXJlJGNvZGVzJDEuRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wLER1cGxleCQxPXJlcXVpcmVfc3RyZWFtX2R1cGxleCQxKCk7aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMoVHJhbnNmb3JtJGEsRHVwbGV4JDEpO2Z1bmN0aW9uIGFmdGVyVHJhbnNmb3JtJDEoZSx0KXt2YXIgbj10aGlzLl90cmFuc2Zvcm1TdGF0ZTtuLnRyYW5zZm9ybWluZz0hMTt2YXIgYT1uLndyaXRlY2I7aWYoYT09PW51bGwpcmV0dXJuIHRoaXMuZW1pdCgiZXJyb3IiLG5ldyBFUlJfTVVMVElQTEVfQ0FMTEJBQ0spO24ud3JpdGVjaHVuaz1udWxsLG4ud3JpdGVjYj1udWxsLHQhPW51bGwmJnRoaXMucHVzaCh0KSxhKGUpO3ZhciB1PXRoaXMuX3JlYWRhYmxlU3RhdGU7dS5yZWFkaW5nPSExLCh1Lm5lZWRSZWFkYWJsZXx8dS5sZW5ndGg8dS5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZCh1LmhpZ2hXYXRlck1hcmspfWZ1bmN0aW9uIFRyYW5zZm9ybSRhKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zZm9ybSRhKSlyZXR1cm4gbmV3IFRyYW5zZm9ybSRhKGUpO0R1cGxleCQxLmNhbGwodGhpcyxlKSx0aGlzLl90cmFuc2Zvcm1TdGF0ZT17YWZ0ZXJUcmFuc2Zvcm06YWZ0ZXJUcmFuc2Zvcm0kMS5iaW5kKHRoaXMpLG5lZWRUcmFuc2Zvcm06ITEsdHJhbnNmb3JtaW5nOiExLHdyaXRlY2I6bnVsbCx3cml0ZWNodW5rOm51bGwsd3JpdGVlbmNvZGluZzpudWxsfSx0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZT0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmM9ITEsZSYmKHR5cGVvZiBlLnRyYW5zZm9ybT09ImZ1bmN0aW9uIiYmKHRoaXMuX3RyYW5zZm9ybT1lLnRyYW5zZm9ybSksdHlwZW9mIGUuZmx1c2g9PSJmdW5jdGlvbiImJih0aGlzLl9mbHVzaD1lLmZsdXNoKSksdGhpcy5vbigicHJlZmluaXNoIixwcmVmaW5pc2gkMSl9ZnVuY3Rpb24gcHJlZmluaXNoJDEoKXt2YXIgZT10aGlzO3R5cGVvZiB0aGlzLl9mbHVzaD09ImZ1bmN0aW9uIiYmIXRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkP3RoaXMuX2ZsdXNoKGZ1bmN0aW9uKHQsbil7ZG9uZSQxKGUsdCxuKX0pOmRvbmUkMSh0aGlzLG51bGwsbnVsbCl9VHJhbnNmb3JtJGEucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybT0hMSxEdXBsZXgkMS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsZSx0KX0sVHJhbnNmb3JtJGEucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oZSx0LG4pe24obmV3IEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEKCJfdHJhbnNmb3JtKCkiKSl9LFRyYW5zZm9ybSRhLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPXRoaXMuX3RyYW5zZm9ybVN0YXRlO2lmKGEud3JpdGVjYj1uLGEud3JpdGVjaHVuaz1lLGEud3JpdGVlbmNvZGluZz10LCFhLnRyYW5zZm9ybWluZyl7dmFyIHU9dGhpcy5fcmVhZGFibGVTdGF0ZTsoYS5uZWVkVHJhbnNmb3JtfHx1Lm5lZWRSZWFkYWJsZXx8dS5sZW5ndGg8dS5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZCh1LmhpZ2hXYXRlck1hcmspfX0sVHJhbnNmb3JtJGEucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3RyYW5zZm9ybVN0YXRlO3Qud3JpdGVjaHVuayE9PW51bGwmJiF0LnRyYW5zZm9ybWluZz8odC50cmFuc2Zvcm1pbmc9ITAsdGhpcy5fdHJhbnNmb3JtKHQud3JpdGVjaHVuayx0LndyaXRlZW5jb2RpbmcsdC5hZnRlclRyYW5zZm9ybSkpOnQubmVlZFRyYW5zZm9ybT0hMH0sVHJhbnNmb3JtJGEucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUsdCl7RHVwbGV4JDEucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcyxlLGZ1bmN0aW9uKG4pe3Qobil9KX07ZnVuY3Rpb24gZG9uZSQxKGUsdCxuKXtpZih0KXJldHVybiBlLmVtaXQoImVycm9yIix0KTtpZihuIT1udWxsJiZlLnB1c2gobiksZS5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpdGhyb3cgbmV3IEVSUl9UUkFOU0ZPUk1fV0lUSF9MRU5HVEhfMDtpZihlLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpdGhyb3cgbmV3IEVSUl9UUkFOU0ZPUk1fQUxSRUFEWV9UUkFOU0ZPUk1JTkc7cmV0dXJuIGUucHVzaChudWxsKX12YXIgX3N0cmVhbV9wYXNzdGhyb3VnaCQxPVBhc3NUaHJvdWdoJDEsVHJhbnNmb3JtJDk9X3N0cmVhbV90cmFuc2Zvcm0kMTtpbmhlcml0c19icm93c2VyRXhwb3J0cyhQYXNzVGhyb3VnaCQxLFRyYW5zZm9ybSQ5KTtmdW5jdGlvbiBQYXNzVGhyb3VnaCQxKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoJDEpKXJldHVybiBuZXcgUGFzc1Rocm91Z2gkMShlKTtUcmFuc2Zvcm0kOS5jYWxsKHRoaXMsZSl9UGFzc1Rocm91Z2gkMS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihlLHQsbil7bihudWxsLGUpfTt2YXIgZW9zO2Z1bmN0aW9uIG9uY2UoZSl7dmFyIHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7dHx8KHQ9ITAsZS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSl9fXZhciBfcmVxdWlyZSRjb2Rlcz1lcnJvcnNCcm93c2VyLmNvZGVzLEVSUl9NSVNTSU5HX0FSR1M9X3JlcXVpcmUkY29kZXMuRVJSX01JU1NJTkdfQVJHUyxFUlJfU1RSRUFNX0RFU1RST1lFRD1fcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX0RFU1RST1lFRDtmdW5jdGlvbiBub29wJDEoZSl7aWYoZSl0aHJvdyBlfWZ1bmN0aW9uIGlzUmVxdWVzdCQxKGUpe3JldHVybiBlLnNldEhlYWRlciYmdHlwZW9mIGUuYWJvcnQ9PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gZGVzdHJveWVyKGUsdCxuLGEpe2E9b25jZShhKTt2YXIgdT0hMTtlLm9uKCJjbG9zZSIsZnVuY3Rpb24oKXt1PSEwfSksZW9zPT09dm9pZCAwJiYoZW9zPWVuZE9mU3RyZWFtKSxlb3MoZSx7cmVhZGFibGU6dCx3cml0YWJsZTpufSxmdW5jdGlvbihoKXtpZihoKXJldHVybiBhKGgpO3U9ITAsYSgpfSk7dmFyIG89ITE7cmV0dXJuIGZ1bmN0aW9uKGgpe2lmKCF1JiYhbyl7aWYobz0hMCxpc1JlcXVlc3QkMShlKSlyZXR1cm4gZS5hYm9ydCgpO2lmKHR5cGVvZiBlLmRlc3Ryb3k9PSJmdW5jdGlvbiIpcmV0dXJuIGUuZGVzdHJveSgpO2EoaHx8bmV3IEVSUl9TVFJFQU1fREVTVFJPWUVEKCJwaXBlIikpfX19ZnVuY3Rpb24gY2FsbChlKXtlKCl9ZnVuY3Rpb24gcGlwZShlLHQpe3JldHVybiBlLnBpcGUodCl9ZnVuY3Rpb24gcG9wQ2FsbGJhY2soZSl7cmV0dXJuIWUubGVuZ3RofHx0eXBlb2YgZVtlLmxlbmd0aC0xXSE9ImZ1bmN0aW9uIj9ub29wJDE6ZS5wb3AoKX1mdW5jdGlvbiBwaXBlbGluZSgpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3ZhciBhPXBvcENhbGxiYWNrKHQpO2lmKEFycmF5LmlzQXJyYXkodFswXSkmJih0PXRbMF0pLHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoInN0cmVhbXMiKTt2YXIgdSxvPXQubWFwKGZ1bmN0aW9uKGgsZCl7dmFyIHc9ZDx0Lmxlbmd0aC0xLF89ZD4wO3JldHVybiBkZXN0cm95ZXIoaCx3LF8sZnVuY3Rpb24oYil7dXx8KHU9YiksYiYmby5mb3JFYWNoKGNhbGwpLCF3JiYoby5mb3JFYWNoKGNhbGwpLGEodSkpfSl9KTtyZXR1cm4gdC5yZWR1Y2UocGlwZSl9dmFyIHBpcGVsaW5lXzE9cGlwZWxpbmU7KGZ1bmN0aW9uKGUsdCl7dD1lLmV4cG9ydHM9cmVxdWlyZV9zdHJlYW1fcmVhZGFibGUkMSgpLHQuU3RyZWFtPXQsdC5SZWFkYWJsZT10LHQuV3JpdGFibGU9cmVxdWlyZV9zdHJlYW1fd3JpdGFibGUkMSgpLHQuRHVwbGV4PXJlcXVpcmVfc3RyZWFtX2R1cGxleCQxKCksdC5UcmFuc2Zvcm09X3N0cmVhbV90cmFuc2Zvcm0kMSx0LlBhc3NUaHJvdWdoPV9zdHJlYW1fcGFzc3Rocm91Z2gkMSx0LmZpbmlzaGVkPWVuZE9mU3RyZWFtLHQucGlwZWxpbmU9cGlwZWxpbmVfMX0pKHJlYWRhYmxlQnJvd3NlciQxLHJlYWRhYmxlQnJvd3NlciQxLmV4cG9ydHMpO3ZhciByZWFkYWJsZUJyb3dzZXJFeHBvcnRzJDE9cmVhZGFibGVCcm93c2VyJDEuZXhwb3J0cyxCdWZmZXIkQT1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixUcmFuc2Zvcm0kOD1yZWFkYWJsZUJyb3dzZXJFeHBvcnRzJDEuVHJhbnNmb3JtLGluaGVyaXRzJHM9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHM7ZnVuY3Rpb24gdGhyb3dJZk5vdFN0cmluZ09yQnVmZmVyJDEoZSx0KXtpZighQnVmZmVyJEEuaXNCdWZmZXIoZSkmJnR5cGVvZiBlIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKHQrIiBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgYnVmZmVyIil9ZnVuY3Rpb24gSGFzaEJhc2UkMyhlKXtUcmFuc2Zvcm0kOC5jYWxsKHRoaXMpLHRoaXMuX2Jsb2NrPUJ1ZmZlciRBLmFsbG9jVW5zYWZlKGUpLHRoaXMuX2Jsb2NrU2l6ZT1lLHRoaXMuX2Jsb2NrT2Zmc2V0PTAsdGhpcy5fbGVuZ3RoPVswLDAsMCwwXSx0aGlzLl9maW5hbGl6ZWQ9ITF9aW5oZXJpdHMkcyhIYXNoQmFzZSQzLFRyYW5zZm9ybSQ4KSxIYXNoQmFzZSQzLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1udWxsO3RyeXt0aGlzLnVwZGF0ZShlLHQpfWNhdGNoKHUpe2E9dX1uKGEpfSxIYXNoQmFzZSQzLnByb3RvdHlwZS5fZmx1c2g9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDt0cnl7dGhpcy5wdXNoKHRoaXMuZGlnZXN0KCkpfWNhdGNoKG4pe3Q9bn1lKHQpfSxIYXNoQmFzZSQzLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0KXtpZih0aHJvd0lmTm90U3RyaW5nT3JCdWZmZXIkMShlLCJEYXRhIiksdGhpcy5fZmluYWxpemVkKXRocm93IG5ldyBFcnJvcigiRGlnZXN0IGFscmVhZHkgY2FsbGVkIik7QnVmZmVyJEEuaXNCdWZmZXIoZSl8fChlPUJ1ZmZlciRBLmZyb20oZSx0KSk7Zm9yKHZhciBuPXRoaXMuX2Jsb2NrLGE9MDt0aGlzLl9ibG9ja09mZnNldCtlLmxlbmd0aC1hPj10aGlzLl9ibG9ja1NpemU7KXtmb3IodmFyIHU9dGhpcy5fYmxvY2tPZmZzZXQ7dTx0aGlzLl9ibG9ja1NpemU7KW5bdSsrXT1lW2ErK107dGhpcy5fdXBkYXRlKCksdGhpcy5fYmxvY2tPZmZzZXQ9MH1mb3IoO2E8ZS5sZW5ndGg7KW5bdGhpcy5fYmxvY2tPZmZzZXQrK109ZVthKytdO2Zvcih2YXIgbz0wLGg9ZS5sZW5ndGgqODtoPjA7KytvKXRoaXMuX2xlbmd0aFtvXSs9aCxoPXRoaXMuX2xlbmd0aFtvXS80Mjk0OTY3Mjk2fDAsaD4wJiYodGhpcy5fbGVuZ3RoW29dLT00Mjk0OTY3Mjk2KmgpO3JldHVybiB0aGlzfSxIYXNoQmFzZSQzLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJfdXBkYXRlIGlzIG5vdCBpbXBsZW1lbnRlZCIpfSxIYXNoQmFzZSQzLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZmluYWxpemVkKXRocm93IG5ldyBFcnJvcigiRGlnZXN0IGFscmVhZHkgY2FsbGVkIik7dGhpcy5fZmluYWxpemVkPSEwO3ZhciB0PXRoaXMuX2RpZ2VzdCgpO2UhPT12b2lkIDAmJih0PXQudG9TdHJpbmcoZSkpLHRoaXMuX2Jsb2NrLmZpbGwoMCksdGhpcy5fYmxvY2tPZmZzZXQ9MDtmb3IodmFyIG49MDtuPDQ7KytuKXRoaXMuX2xlbmd0aFtuXT0wO3JldHVybiB0fSxIYXNoQmFzZSQzLnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJfZGlnZXN0IGlzIG5vdCBpbXBsZW1lbnRlZCIpfTt2YXIgaGFzaEJhc2UkMT1IYXNoQmFzZSQzLGluaGVyaXRzJHI9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMsSGFzaEJhc2UkMj1oYXNoQmFzZSQxLEJ1ZmZlciR6PXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLEFSUkFZMTYkMT1uZXcgQXJyYXkoMTYpO2Z1bmN0aW9uIE1ENSQzKCl7SGFzaEJhc2UkMi5jYWxsKHRoaXMsNjQpLHRoaXMuX2E9MTczMjU4NDE5Myx0aGlzLl9iPTQwMjMyMzM0MTcsdGhpcy5fYz0yNTYyMzgzMTAyLHRoaXMuX2Q9MjcxNzMzODc4fWluaGVyaXRzJHIoTUQ1JDMsSGFzaEJhc2UkMiksTUQ1JDMucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9QVJSQVkxNiQxLHQ9MDt0PDE2OysrdCllW3RdPXRoaXMuX2Jsb2NrLnJlYWRJbnQzMkxFKHQqNCk7dmFyIG49dGhpcy5fYSxhPXRoaXMuX2IsdT10aGlzLl9jLG89dGhpcy5fZDtuPWZuRihuLGEsdSxvLGVbMF0sMzYxNDA5MDM2MCw3KSxvPWZuRihvLG4sYSx1LGVbMV0sMzkwNTQwMjcxMCwxMiksdT1mbkYodSxvLG4sYSxlWzJdLDYwNjEwNTgxOSwxNyksYT1mbkYoYSx1LG8sbixlWzNdLDMyNTA0NDE5NjYsMjIpLG49Zm5GKG4sYSx1LG8sZVs0XSw0MTE4NTQ4Mzk5LDcpLG89Zm5GKG8sbixhLHUsZVs1XSwxMjAwMDgwNDI2LDEyKSx1PWZuRih1LG8sbixhLGVbNl0sMjgyMTczNTk1NSwxNyksYT1mbkYoYSx1LG8sbixlWzddLDQyNDkyNjEzMTMsMjIpLG49Zm5GKG4sYSx1LG8sZVs4XSwxNzcwMDM1NDE2LDcpLG89Zm5GKG8sbixhLHUsZVs5XSwyMzM2NTUyODc5LDEyKSx1PWZuRih1LG8sbixhLGVbMTBdLDQyOTQ5MjUyMzMsMTcpLGE9Zm5GKGEsdSxvLG4sZVsxMV0sMjMwNDU2MzEzNCwyMiksbj1mbkYobixhLHUsbyxlWzEyXSwxODA0NjAzNjgyLDcpLG89Zm5GKG8sbixhLHUsZVsxM10sNDI1NDYyNjE5NSwxMiksdT1mbkYodSxvLG4sYSxlWzE0XSwyNzkyOTY1MDA2LDE3KSxhPWZuRihhLHUsbyxuLGVbMTVdLDEyMzY1MzUzMjksMjIpLG49Zm5HKG4sYSx1LG8sZVsxXSw0MTI5MTcwNzg2LDUpLG89Zm5HKG8sbixhLHUsZVs2XSwzMjI1NDY1NjY0LDkpLHU9Zm5HKHUsbyxuLGEsZVsxMV0sNjQzNzE3NzEzLDE0KSxhPWZuRyhhLHUsbyxuLGVbMF0sMzkyMTA2OTk5NCwyMCksbj1mbkcobixhLHUsbyxlWzVdLDM1OTM0MDg2MDUsNSksbz1mbkcobyxuLGEsdSxlWzEwXSwzODAxNjA4Myw5KSx1PWZuRyh1LG8sbixhLGVbMTVdLDM2MzQ0ODg5NjEsMTQpLGE9Zm5HKGEsdSxvLG4sZVs0XSwzODg5NDI5NDQ4LDIwKSxuPWZuRyhuLGEsdSxvLGVbOV0sNTY4NDQ2NDM4LDUpLG89Zm5HKG8sbixhLHUsZVsxNF0sMzI3NTE2MzYwNiw5KSx1PWZuRyh1LG8sbixhLGVbM10sNDEwNzYwMzMzNSwxNCksYT1mbkcoYSx1LG8sbixlWzhdLDExNjM1MzE1MDEsMjApLG49Zm5HKG4sYSx1LG8sZVsxM10sMjg1MDI4NTgyOSw1KSxvPWZuRyhvLG4sYSx1LGVbMl0sNDI0MzU2MzUxMiw5KSx1PWZuRyh1LG8sbixhLGVbN10sMTczNTMyODQ3MywxNCksYT1mbkcoYSx1LG8sbixlWzEyXSwyMzY4MzU5NTYyLDIwKSxuPWZuSChuLGEsdSxvLGVbNV0sNDI5NDU4ODczOCw0KSxvPWZuSChvLG4sYSx1LGVbOF0sMjI3MjM5MjgzMywxMSksdT1mbkgodSxvLG4sYSxlWzExXSwxODM5MDMwNTYyLDE2KSxhPWZuSChhLHUsbyxuLGVbMTRdLDQyNTk2NTc3NDAsMjMpLG49Zm5IKG4sYSx1LG8sZVsxXSwyNzYzOTc1MjM2LDQpLG89Zm5IKG8sbixhLHUsZVs0XSwxMjcyODkzMzUzLDExKSx1PWZuSCh1LG8sbixhLGVbN10sNDEzOTQ2OTY2NCwxNiksYT1mbkgoYSx1LG8sbixlWzEwXSwzMjAwMjM2NjU2LDIzKSxuPWZuSChuLGEsdSxvLGVbMTNdLDY4MTI3OTE3NCw0KSxvPWZuSChvLG4sYSx1LGVbMF0sMzkzNjQzMDA3NCwxMSksdT1mbkgodSxvLG4sYSxlWzNdLDM1NzI0NDUzMTcsMTYpLGE9Zm5IKGEsdSxvLG4sZVs2XSw3NjAyOTE4OSwyMyksbj1mbkgobixhLHUsbyxlWzldLDM2NTQ2MDI4MDksNCksbz1mbkgobyxuLGEsdSxlWzEyXSwzODczMTUxNDYxLDExKSx1PWZuSCh1LG8sbixhLGVbMTVdLDUzMDc0MjUyMCwxNiksYT1mbkgoYSx1LG8sbixlWzJdLDMyOTk2Mjg2NDUsMjMpLG49Zm5JKG4sYSx1LG8sZVswXSw0MDk2MzM2NDUyLDYpLG89Zm5JKG8sbixhLHUsZVs3XSwxMTI2ODkxNDE1LDEwKSx1PWZuSSh1LG8sbixhLGVbMTRdLDI4Nzg2MTIzOTEsMTUpLGE9Zm5JKGEsdSxvLG4sZVs1XSw0MjM3NTMzMjQxLDIxKSxuPWZuSShuLGEsdSxvLGVbMTJdLDE3MDA0ODU1NzEsNiksbz1mbkkobyxuLGEsdSxlWzNdLDIzOTk5ODA2OTAsMTApLHU9Zm5JKHUsbyxuLGEsZVsxMF0sNDI5MzkxNTc3MywxNSksYT1mbkkoYSx1LG8sbixlWzFdLDIyNDAwNDQ0OTcsMjEpLG49Zm5JKG4sYSx1LG8sZVs4XSwxODczMzEzMzU5LDYpLG89Zm5JKG8sbixhLHUsZVsxNV0sNDI2NDM1NTU1MiwxMCksdT1mbkkodSxvLG4sYSxlWzZdLDI3MzQ3Njg5MTYsMTUpLGE9Zm5JKGEsdSxvLG4sZVsxM10sMTMwOTE1MTY0OSwyMSksbj1mbkkobixhLHUsbyxlWzRdLDQxNDk0NDQyMjYsNiksbz1mbkkobyxuLGEsdSxlWzExXSwzMTc0NzU2OTE3LDEwKSx1PWZuSSh1LG8sbixhLGVbMl0sNzE4Nzg3MjU5LDE1KSxhPWZuSShhLHUsbyxuLGVbOV0sMzk1MTQ4MTc0NSwyMSksdGhpcy5fYT10aGlzLl9hK258MCx0aGlzLl9iPXRoaXMuX2IrYXwwLHRoaXMuX2M9dGhpcy5fYyt1fDAsdGhpcy5fZD10aGlzLl9kK298MH0sTUQ1JDMucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oKXt0aGlzLl9ibG9ja1t0aGlzLl9ibG9ja09mZnNldCsrXT0xMjgsdGhpcy5fYmxvY2tPZmZzZXQ+NTYmJih0aGlzLl9ibG9jay5maWxsKDAsdGhpcy5fYmxvY2tPZmZzZXQsNjQpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2Jsb2NrT2Zmc2V0PTApLHRoaXMuX2Jsb2NrLmZpbGwoMCx0aGlzLl9ibG9ja09mZnNldCw1NiksdGhpcy5fYmxvY2sud3JpdGVVSW50MzJMRSh0aGlzLl9sZW5ndGhbMF0sNTYpLHRoaXMuX2Jsb2NrLndyaXRlVUludDMyTEUodGhpcy5fbGVuZ3RoWzFdLDYwKSx0aGlzLl91cGRhdGUoKTt2YXIgZT1CdWZmZXIkei5hbGxvY1Vuc2FmZSgxNik7cmV0dXJuIGUud3JpdGVJbnQzMkxFKHRoaXMuX2EsMCksZS53cml0ZUludDMyTEUodGhpcy5fYiw0KSxlLndyaXRlSW50MzJMRSh0aGlzLl9jLDgpLGUud3JpdGVJbnQzMkxFKHRoaXMuX2QsMTIpLGV9O2Z1bmN0aW9uIHJvdGwkMShlLHQpe3JldHVybiBlPDx0fGU+Pj4zMi10fWZ1bmN0aW9uIGZuRihlLHQsbixhLHUsbyxoKXtyZXR1cm4gcm90bCQxKGUrKHQmbnx+dCZhKSt1K298MCxoKSt0fDB9ZnVuY3Rpb24gZm5HKGUsdCxuLGEsdSxvLGgpe3JldHVybiByb3RsJDEoZSsodCZhfG4mfmEpK3Urb3wwLGgpK3R8MH1mdW5jdGlvbiBmbkgoZSx0LG4sYSx1LG8saCl7cmV0dXJuIHJvdGwkMShlKyh0Xm5eYSkrdStvfDAsaCkrdHwwfWZ1bmN0aW9uIGZuSShlLHQsbixhLHUsbyxoKXtyZXR1cm4gcm90bCQxKGUrKG5eKHR8fmEpKSt1K298MCxoKSt0fDB9dmFyIG1kNV9qcz1NRDUkMyxCdWZmZXIkeT1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixUcmFuc2Zvcm0kNz1yZWFkYWJsZUJyb3dzZXJFeHBvcnRzJDEuVHJhbnNmb3JtLGluaGVyaXRzJHE9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHM7ZnVuY3Rpb24gdGhyb3dJZk5vdFN0cmluZ09yQnVmZmVyKGUsdCl7aWYoIUJ1ZmZlciR5LmlzQnVmZmVyKGUpJiZ0eXBlb2YgZSE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcih0KyIgbXVzdCBiZSBhIHN0cmluZyBvciBhIGJ1ZmZlciIpfWZ1bmN0aW9uIEhhc2hCYXNlJDEoZSl7VHJhbnNmb3JtJDcuY2FsbCh0aGlzKSx0aGlzLl9ibG9jaz1CdWZmZXIkeS5hbGxvY1Vuc2FmZShlKSx0aGlzLl9ibG9ja1NpemU9ZSx0aGlzLl9ibG9ja09mZnNldD0wLHRoaXMuX2xlbmd0aD1bMCwwLDAsMF0sdGhpcy5fZmluYWxpemVkPSExfWluaGVyaXRzJHEoSGFzaEJhc2UkMSxUcmFuc2Zvcm0kNyksSGFzaEJhc2UkMS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihlLHQsbil7dmFyIGE9bnVsbDt0cnl7dGhpcy51cGRhdGUoZSx0KX1jYXRjaCh1KXthPXV9bihhKX0sSGFzaEJhc2UkMS5wcm90b3R5cGUuX2ZsdXNoPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7dHJ5e3RoaXMucHVzaCh0aGlzLmRpZ2VzdCgpKX1jYXRjaChuKXt0PW59ZSh0KX0sSGFzaEJhc2UkMS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsdCl7aWYodGhyb3dJZk5vdFN0cmluZ09yQnVmZmVyKGUsIkRhdGEiKSx0aGlzLl9maW5hbGl6ZWQpdGhyb3cgbmV3IEVycm9yKCJEaWdlc3QgYWxyZWFkeSBjYWxsZWQiKTtCdWZmZXIkeS5pc0J1ZmZlcihlKXx8KGU9QnVmZmVyJHkuZnJvbShlLHQpKTtmb3IodmFyIG49dGhpcy5fYmxvY2ssYT0wO3RoaXMuX2Jsb2NrT2Zmc2V0K2UubGVuZ3RoLWE+PXRoaXMuX2Jsb2NrU2l6ZTspe2Zvcih2YXIgdT10aGlzLl9ibG9ja09mZnNldDt1PHRoaXMuX2Jsb2NrU2l6ZTspblt1KytdPWVbYSsrXTt0aGlzLl91cGRhdGUoKSx0aGlzLl9ibG9ja09mZnNldD0wfWZvcig7YTxlLmxlbmd0aDspblt0aGlzLl9ibG9ja09mZnNldCsrXT1lW2ErK107Zm9yKHZhciBvPTAsaD1lLmxlbmd0aCo4O2g+MDsrK28pdGhpcy5fbGVuZ3RoW29dKz1oLGg9dGhpcy5fbGVuZ3RoW29dLzQyOTQ5NjcyOTZ8MCxoPjAmJih0aGlzLl9sZW5ndGhbb10tPTQyOTQ5NjcyOTYqaCk7cmV0dXJuIHRoaXN9LEhhc2hCYXNlJDEucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIl91cGRhdGUgaXMgbm90IGltcGxlbWVudGVkIil9LEhhc2hCYXNlJDEucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtpZih0aGlzLl9maW5hbGl6ZWQpdGhyb3cgbmV3IEVycm9yKCJEaWdlc3QgYWxyZWFkeSBjYWxsZWQiKTt0aGlzLl9maW5hbGl6ZWQ9ITA7dmFyIHQ9dGhpcy5fZGlnZXN0KCk7ZSE9PXZvaWQgMCYmKHQ9dC50b1N0cmluZyhlKSksdGhpcy5fYmxvY2suZmlsbCgwKSx0aGlzLl9ibG9ja09mZnNldD0wO2Zvcih2YXIgbj0wO248NDsrK24pdGhpcy5fbGVuZ3RoW25dPTA7cmV0dXJuIHR9LEhhc2hCYXNlJDEucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIl9kaWdlc3QgaXMgbm90IGltcGxlbWVudGVkIil9O3ZhciBoYXNoQmFzZT1IYXNoQmFzZSQxLEJ1ZmZlciR4PWJ1ZmZlciQyLkJ1ZmZlcixpbmhlcml0cyRwPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLEhhc2hCYXNlPWhhc2hCYXNlLEFSUkFZMTY9bmV3IEFycmF5KDE2KSx6bD1bMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSw3LDQsMTMsMSwxMCw2LDE1LDMsMTIsMCw5LDUsMiwxNCwxMSw4LDMsMTAsMTQsNCw5LDE1LDgsMSwyLDcsMCw2LDEzLDExLDUsMTIsMSw5LDExLDEwLDAsOCwxMiw0LDEzLDMsNywxNSwxNCw1LDYsMiw0LDAsNSw5LDcsMTIsMiwxMCwxNCwxLDMsOCwxMSw2LDE1LDEzXSx6cj1bNSwxNCw3LDAsOSwyLDExLDQsMTMsNiwxNSw4LDEsMTAsMywxMiw2LDExLDMsNywwLDEzLDUsMTAsMTQsMTUsOCwxMiw0LDksMSwyLDE1LDUsMSwzLDcsMTQsNiw5LDExLDgsMTIsMiwxMCwwLDQsMTMsOCw2LDQsMSwzLDExLDE1LDAsNSwxMiwyLDEzLDksNywxMCwxNCwxMiwxNSwxMCw0LDEsNSw4LDcsNiwyLDEzLDE0LDAsMyw5LDExXSxzbD1bMTEsMTQsMTUsMTIsNSw4LDcsOSwxMSwxMywxNCwxNSw2LDcsOSw4LDcsNiw4LDEzLDExLDksNywxNSw3LDEyLDE1LDksMTEsNywxMywxMiwxMSwxMyw2LDcsMTQsOSwxMywxNSwxNCw4LDEzLDYsNSwxMiw3LDUsMTEsMTIsMTQsMTUsMTQsMTUsOSw4LDksMTQsNSw2LDgsNiw1LDEyLDksMTUsNSwxMSw2LDgsMTMsMTIsNSwxMiwxMywxNCwxMSw4LDUsNl0sc3I9WzgsOSw5LDExLDEzLDE1LDE1LDUsNyw3LDgsMTEsMTQsMTQsMTIsNiw5LDEzLDE1LDcsMTIsOCw5LDExLDcsNywxMiw3LDYsMTUsMTMsMTEsOSw3LDE1LDExLDgsNiw2LDE0LDEyLDEzLDUsMTQsMTMsMTMsNyw1LDE1LDUsOCwxMSwxNCwxNCw2LDE0LDYsOSwxMiw5LDEyLDUsMTUsOCw4LDUsMTIsOSwxMiw1LDE0LDYsOCwxMyw2LDUsMTUsMTMsMTEsMTFdLGhsPVswLDE1MTg1MDAyNDksMTg1OTc3NTM5MywyNDAwOTU5NzA4LDI4NDA4NTM4MzhdLGhyPVsxMzUyODI5OTI2LDE1NDg2MDM2ODQsMTgzNjA3MjY5MSwyMDUzOTk0MjE3LDBdO2Z1bmN0aW9uIFJJUEVNRDE2MCQ0KCl7SGFzaEJhc2UuY2FsbCh0aGlzLDY0KSx0aGlzLl9hPTE3MzI1ODQxOTMsdGhpcy5fYj00MDIzMjMzNDE3LHRoaXMuX2M9MjU2MjM4MzEwMix0aGlzLl9kPTI3MTczMzg3OCx0aGlzLl9lPTMyODUzNzc1MjB9aW5oZXJpdHMkcChSSVBFTUQxNjAkNCxIYXNoQmFzZSksUklQRU1EMTYwJDQucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9QVJSQVkxNix0PTA7dDwxNjsrK3QpZVt0XT10aGlzLl9ibG9jay5yZWFkSW50MzJMRSh0KjQpO2Zvcih2YXIgbj10aGlzLl9hfDAsYT10aGlzLl9ifDAsdT10aGlzLl9jfDAsbz10aGlzLl9kfDAsaD10aGlzLl9lfDAsZD10aGlzLl9hfDAsdz10aGlzLl9ifDAsXz10aGlzLl9jfDAsYj10aGlzLl9kfDAsTT10aGlzLl9lfDAsTz0wO088ODA7Tys9MSl7dmFyIFQsUDtPPDE2PyhUPWZuMShuLGEsdSxvLGgsZVt6bFtPXV0saGxbMF0sc2xbT10pLFA9Zm41KGQsdyxfLGIsTSxlW3pyW09dXSxoclswXSxzcltPXSkpOk88MzI/KFQ9Zm4yKG4sYSx1LG8saCxlW3psW09dXSxobFsxXSxzbFtPXSksUD1mbjQoZCx3LF8sYixNLGVbenJbT11dLGhyWzFdLHNyW09dKSk6Tzw0OD8oVD1mbjMobixhLHUsbyxoLGVbemxbT11dLGhsWzJdLHNsW09dKSxQPWZuMyhkLHcsXyxiLE0sZVt6cltPXV0saHJbMl0sc3JbT10pKTpPPDY0PyhUPWZuNChuLGEsdSxvLGgsZVt6bFtPXV0saGxbM10sc2xbT10pLFA9Zm4yKGQsdyxfLGIsTSxlW3pyW09dXSxoclszXSxzcltPXSkpOihUPWZuNShuLGEsdSxvLGgsZVt6bFtPXV0saGxbNF0sc2xbT10pLFA9Zm4xKGQsdyxfLGIsTSxlW3pyW09dXSxocls0XSxzcltPXSkpLG49aCxoPW8sbz1yb3RsKHUsMTApLHU9YSxhPVQsZD1NLE09YixiPXJvdGwoXywxMCksXz13LHc9UH12YXIgTD10aGlzLl9iK3UrYnwwO3RoaXMuX2I9dGhpcy5fYytvK018MCx0aGlzLl9jPXRoaXMuX2QraCtkfDAsdGhpcy5fZD10aGlzLl9lK24rd3wwLHRoaXMuX2U9dGhpcy5fYSthK198MCx0aGlzLl9hPUx9LFJJUEVNRDE2MCQ0LnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKCl7dGhpcy5fYmxvY2tbdGhpcy5fYmxvY2tPZmZzZXQrK109MTI4LHRoaXMuX2Jsb2NrT2Zmc2V0PjU2JiYodGhpcy5fYmxvY2suZmlsbCgwLHRoaXMuX2Jsb2NrT2Zmc2V0LDY0KSx0aGlzLl91cGRhdGUoKSx0aGlzLl9ibG9ja09mZnNldD0wKSx0aGlzLl9ibG9jay5maWxsKDAsdGhpcy5fYmxvY2tPZmZzZXQsNTYpLHRoaXMuX2Jsb2NrLndyaXRlVUludDMyTEUodGhpcy5fbGVuZ3RoWzBdLDU2KSx0aGlzLl9ibG9jay53cml0ZVVJbnQzMkxFKHRoaXMuX2xlbmd0aFsxXSw2MCksdGhpcy5fdXBkYXRlKCk7dmFyIGU9QnVmZmVyJHguYWxsb2M/QnVmZmVyJHguYWxsb2MoMjApOm5ldyBCdWZmZXIkeCgyMCk7cmV0dXJuIGUud3JpdGVJbnQzMkxFKHRoaXMuX2EsMCksZS53cml0ZUludDMyTEUodGhpcy5fYiw0KSxlLndyaXRlSW50MzJMRSh0aGlzLl9jLDgpLGUud3JpdGVJbnQzMkxFKHRoaXMuX2QsMTIpLGUud3JpdGVJbnQzMkxFKHRoaXMuX2UsMTYpLGV9O2Z1bmN0aW9uIHJvdGwoZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH1mdW5jdGlvbiBmbjEoZSx0LG4sYSx1LG8saCxkKXtyZXR1cm4gcm90bChlKyh0Xm5eYSkrbytofDAsZCkrdXwwfWZ1bmN0aW9uIGZuMihlLHQsbixhLHUsbyxoLGQpe3JldHVybiByb3RsKGUrKHQmbnx+dCZhKStvK2h8MCxkKSt1fDB9ZnVuY3Rpb24gZm4zKGUsdCxuLGEsdSxvLGgsZCl7cmV0dXJuIHJvdGwoZSsoKHR8fm4pXmEpK28raHwwLGQpK3V8MH1mdW5jdGlvbiBmbjQoZSx0LG4sYSx1LG8saCxkKXtyZXR1cm4gcm90bChlKyh0JmF8biZ+YSkrbytofDAsZCkrdXwwfWZ1bmN0aW9uIGZuNShlLHQsbixhLHUsbyxoLGQpe3JldHVybiByb3RsKGUrKHReKG58fmEpKStvK2h8MCxkKSt1fDB9dmFyIHJpcGVtZDE2MD1SSVBFTUQxNjAkNCxzaGFfanM9e2V4cG9ydHM6e319LEJ1ZmZlciR3PXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyO2Z1bmN0aW9uIEhhc2gkNyhlLHQpe3RoaXMuX2Jsb2NrPUJ1ZmZlciR3LmFsbG9jKGUpLHRoaXMuX2ZpbmFsU2l6ZT10LHRoaXMuX2Jsb2NrU2l6ZT1lLHRoaXMuX2xlbj0wfUhhc2gkNy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsdCl7dHlwZW9mIGU9PSJzdHJpbmciJiYodD10fHwidXRmOCIsZT1CdWZmZXIkdy5mcm9tKGUsdCkpO2Zvcih2YXIgbj10aGlzLl9ibG9jayxhPXRoaXMuX2Jsb2NrU2l6ZSx1PWUubGVuZ3RoLG89dGhpcy5fbGVuLGg9MDtoPHU7KXtmb3IodmFyIGQ9byVhLHc9TWF0aC5taW4odS1oLGEtZCksXz0wO188dztfKyspbltkK19dPWVbaCtfXTtvKz13LGgrPXcsbyVhPT09MCYmdGhpcy5fdXBkYXRlKG4pfXJldHVybiB0aGlzLl9sZW4rPXUsdGhpc30sSGFzaCQ3LnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGVuJXRoaXMuX2Jsb2NrU2l6ZTt0aGlzLl9ibG9ja1t0XT0xMjgsdGhpcy5fYmxvY2suZmlsbCgwLHQrMSksdD49dGhpcy5fZmluYWxTaXplJiYodGhpcy5fdXBkYXRlKHRoaXMuX2Jsb2NrKSx0aGlzLl9ibG9jay5maWxsKDApKTt2YXIgbj10aGlzLl9sZW4qODtpZihuPD00Mjk0OTY3Mjk1KXRoaXMuX2Jsb2NrLndyaXRlVUludDMyQkUobix0aGlzLl9ibG9ja1NpemUtNCk7ZWxzZXt2YXIgYT0obiY0Mjk0OTY3Mjk1KT4+PjAsdT0obi1hKS80Mjk0OTY3Mjk2O3RoaXMuX2Jsb2NrLndyaXRlVUludDMyQkUodSx0aGlzLl9ibG9ja1NpemUtOCksdGhpcy5fYmxvY2sud3JpdGVVSW50MzJCRShhLHRoaXMuX2Jsb2NrU2l6ZS00KX10aGlzLl91cGRhdGUodGhpcy5fYmxvY2spO3ZhciBvPXRoaXMuX2hhc2goKTtyZXR1cm4gZT9vLnRvU3RyaW5nKGUpOm99LEhhc2gkNy5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiX3VwZGF0ZSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzIil9O3ZhciBoYXNoJDM9SGFzaCQ3LGluaGVyaXRzJG89aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMsSGFzaCQ2PWhhc2gkMyxCdWZmZXIkdj1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixLJDQ9WzE1MTg1MDAyNDksMTg1OTc3NTM5MywtMTg5NDAwNzU4OCwtODk5NDk3NTE0XSxXJDU9bmV3IEFycmF5KDgwKTtmdW5jdGlvbiBTaGEoKXt0aGlzLmluaXQoKSx0aGlzLl93PVckNSxIYXNoJDYuY2FsbCh0aGlzLDY0LDU2KX1pbmhlcml0cyRvKFNoYSxIYXNoJDYpLFNoYS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hPTE3MzI1ODQxOTMsdGhpcy5fYj00MDIzMjMzNDE3LHRoaXMuX2M9MjU2MjM4MzEwMix0aGlzLl9kPTI3MTczMzg3OCx0aGlzLl9lPTMyODUzNzc1MjAsdGhpc307ZnVuY3Rpb24gcm90bDUkMShlKXtyZXR1cm4gZTw8NXxlPj4+Mjd9ZnVuY3Rpb24gcm90bDMwJDEoZSl7cmV0dXJuIGU8PDMwfGU+Pj4yfWZ1bmN0aW9uIGZ0JDEoZSx0LG4sYSl7cmV0dXJuIGU9PT0wP3Qmbnx+dCZhOmU9PT0yP3Qmbnx0JmF8biZhOnRebl5hfVNoYS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fdyxuPXRoaXMuX2F8MCxhPXRoaXMuX2J8MCx1PXRoaXMuX2N8MCxvPXRoaXMuX2R8MCxoPXRoaXMuX2V8MCxkPTA7ZDwxNjsrK2QpdFtkXT1lLnJlYWRJbnQzMkJFKGQqNCk7Zm9yKDtkPDgwOysrZCl0W2RdPXRbZC0zXV50W2QtOF1edFtkLTE0XV50W2QtMTZdO2Zvcih2YXIgdz0wO3c8ODA7Kyt3KXt2YXIgXz1+fih3LzIwKSxiPXJvdGw1JDEobikrZnQkMShfLGEsdSxvKStoK3Rbd10rSyQ0W19dfDA7aD1vLG89dSx1PXJvdGwzMCQxKGEpLGE9bixuPWJ9dGhpcy5fYT1uK3RoaXMuX2F8MCx0aGlzLl9iPWErdGhpcy5fYnwwLHRoaXMuX2M9dSt0aGlzLl9jfDAsdGhpcy5fZD1vK3RoaXMuX2R8MCx0aGlzLl9lPWgrdGhpcy5fZXwwfSxTaGEucHJvdG90eXBlLl9oYXNoPWZ1bmN0aW9uKCl7dmFyIGU9QnVmZmVyJHYuYWxsb2NVbnNhZmUoMjApO3JldHVybiBlLndyaXRlSW50MzJCRSh0aGlzLl9hfDAsMCksZS53cml0ZUludDMyQkUodGhpcy5fYnwwLDQpLGUud3JpdGVJbnQzMkJFKHRoaXMuX2N8MCw4KSxlLndyaXRlSW50MzJCRSh0aGlzLl9kfDAsMTIpLGUud3JpdGVJbnQzMkJFKHRoaXMuX2V8MCwxNiksZX07dmFyIHNoYSQ0PVNoYSxpbmhlcml0cyRuPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLEhhc2gkNT1oYXNoJDMsQnVmZmVyJHU9c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXIsSyQzPVsxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsLTE4OTQwMDc1ODgsLTg5OTQ5NzUxNF0sVyQ0PW5ldyBBcnJheSg4MCk7ZnVuY3Rpb24gU2hhMSgpe3RoaXMuaW5pdCgpLHRoaXMuX3c9VyQ0LEhhc2gkNS5jYWxsKHRoaXMsNjQsNTYpfWluaGVyaXRzJG4oU2hhMSxIYXNoJDUpLFNoYTEucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYT0xNzMyNTg0MTkzLHRoaXMuX2I9NDAyMzIzMzQxNyx0aGlzLl9jPTI1NjIzODMxMDIsdGhpcy5fZD0yNzE3MzM4NzgsdGhpcy5fZT0zMjg1Mzc3NTIwLHRoaXN9O2Z1bmN0aW9uIHJvdGwxKGUpe3JldHVybiBlPDwxfGU+Pj4zMX1mdW5jdGlvbiByb3RsNShlKXtyZXR1cm4gZTw8NXxlPj4+Mjd9ZnVuY3Rpb24gcm90bDMwKGUpe3JldHVybiBlPDwzMHxlPj4+Mn1mdW5jdGlvbiBmdChlLHQsbixhKXtyZXR1cm4gZT09PTA/dCZufH50JmE6ZT09PTI/dCZufHQmYXxuJmE6dF5uXmF9U2hhMS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fdyxuPXRoaXMuX2F8MCxhPXRoaXMuX2J8MCx1PXRoaXMuX2N8MCxvPXRoaXMuX2R8MCxoPXRoaXMuX2V8MCxkPTA7ZDwxNjsrK2QpdFtkXT1lLnJlYWRJbnQzMkJFKGQqNCk7Zm9yKDtkPDgwOysrZCl0W2RdPXJvdGwxKHRbZC0zXV50W2QtOF1edFtkLTE0XV50W2QtMTZdKTtmb3IodmFyIHc9MDt3PDgwOysrdyl7dmFyIF89fn4ody8yMCksYj1yb3RsNShuKStmdChfLGEsdSxvKStoK3Rbd10rSyQzW19dfDA7aD1vLG89dSx1PXJvdGwzMChhKSxhPW4sbj1ifXRoaXMuX2E9bit0aGlzLl9hfDAsdGhpcy5fYj1hK3RoaXMuX2J8MCx0aGlzLl9jPXUrdGhpcy5fY3wwLHRoaXMuX2Q9byt0aGlzLl9kfDAsdGhpcy5fZT1oK3RoaXMuX2V8MH0sU2hhMS5wcm90b3R5cGUuX2hhc2g9ZnVuY3Rpb24oKXt2YXIgZT1CdWZmZXIkdS5hbGxvY1Vuc2FmZSgyMCk7cmV0dXJuIGUud3JpdGVJbnQzMkJFKHRoaXMuX2F8MCwwKSxlLndyaXRlSW50MzJCRSh0aGlzLl9ifDAsNCksZS53cml0ZUludDMyQkUodGhpcy5fY3wwLDgpLGUud3JpdGVJbnQzMkJFKHRoaXMuX2R8MCwxMiksZS53cml0ZUludDMyQkUodGhpcy5fZXwwLDE2KSxlfTt2YXIgc2hhMT1TaGExLGluaGVyaXRzJG09aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMsSGFzaCQ0PWhhc2gkMyxCdWZmZXIkdD1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixLJDI9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0sVyQzPW5ldyBBcnJheSg2NCk7ZnVuY3Rpb24gU2hhMjU2JDEoKXt0aGlzLmluaXQoKSx0aGlzLl93PVckMyxIYXNoJDQuY2FsbCh0aGlzLDY0LDU2KX1pbmhlcml0cyRtKFNoYTI1NiQxLEhhc2gkNCksU2hhMjU2JDEucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYT0xNzc5MDMzNzAzLHRoaXMuX2I9MzE0NDEzNDI3Nyx0aGlzLl9jPTEwMTM5MDQyNDIsdGhpcy5fZD0yNzczNDgwNzYyLHRoaXMuX2U9MTM1OTg5MzExOSx0aGlzLl9mPTI2MDA4MjI5MjQsdGhpcy5fZz01Mjg3MzQ2MzUsdGhpcy5faD0xNTQxNDU5MjI1LHRoaXN9O2Z1bmN0aW9uIGNoKGUsdCxuKXtyZXR1cm4gbl5lJih0Xm4pfWZ1bmN0aW9uIG1haiQxKGUsdCxuKXtyZXR1cm4gZSZ0fG4mKGV8dCl9ZnVuY3Rpb24gc2lnbWEwJDEoZSl7cmV0dXJuKGU+Pj4yfGU8PDMwKV4oZT4+PjEzfGU8PDE5KV4oZT4+PjIyfGU8PDEwKX1mdW5jdGlvbiBzaWdtYTEkMShlKXtyZXR1cm4oZT4+PjZ8ZTw8MjYpXihlPj4+MTF8ZTw8MjEpXihlPj4+MjV8ZTw8Nyl9ZnVuY3Rpb24gZ2FtbWEwKGUpe3JldHVybihlPj4+N3xlPDwyNSleKGU+Pj4xOHxlPDwxNCleZT4+PjN9ZnVuY3Rpb24gZ2FtbWExKGUpe3JldHVybihlPj4+MTd8ZTw8MTUpXihlPj4+MTl8ZTw8MTMpXmU+Pj4xMH1TaGEyNTYkMS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fdyxuPXRoaXMuX2F8MCxhPXRoaXMuX2J8MCx1PXRoaXMuX2N8MCxvPXRoaXMuX2R8MCxoPXRoaXMuX2V8MCxkPXRoaXMuX2Z8MCx3PXRoaXMuX2d8MCxfPXRoaXMuX2h8MCxiPTA7YjwxNjsrK2IpdFtiXT1lLnJlYWRJbnQzMkJFKGIqNCk7Zm9yKDtiPDY0OysrYil0W2JdPWdhbW1hMSh0W2ItMl0pK3RbYi03XStnYW1tYTAodFtiLTE1XSkrdFtiLTE2XXwwO2Zvcih2YXIgTT0wO008NjQ7KytNKXt2YXIgTz1fK3NpZ21hMSQxKGgpK2NoKGgsZCx3KStLJDJbTV0rdFtNXXwwLFQ9c2lnbWEwJDEobikrbWFqJDEobixhLHUpfDA7Xz13LHc9ZCxkPWgsaD1vK098MCxvPXUsdT1hLGE9bixuPU8rVHwwfXRoaXMuX2E9bit0aGlzLl9hfDAsdGhpcy5fYj1hK3RoaXMuX2J8MCx0aGlzLl9jPXUrdGhpcy5fY3wwLHRoaXMuX2Q9byt0aGlzLl9kfDAsdGhpcy5fZT1oK3RoaXMuX2V8MCx0aGlzLl9mPWQrdGhpcy5fZnwwLHRoaXMuX2c9dyt0aGlzLl9nfDAsdGhpcy5faD1fK3RoaXMuX2h8MH0sU2hhMjU2JDEucHJvdG90eXBlLl9oYXNoPWZ1bmN0aW9uKCl7dmFyIGU9QnVmZmVyJHQuYWxsb2NVbnNhZmUoMzIpO3JldHVybiBlLndyaXRlSW50MzJCRSh0aGlzLl9hLDApLGUud3JpdGVJbnQzMkJFKHRoaXMuX2IsNCksZS53cml0ZUludDMyQkUodGhpcy5fYyw4KSxlLndyaXRlSW50MzJCRSh0aGlzLl9kLDEyKSxlLndyaXRlSW50MzJCRSh0aGlzLl9lLDE2KSxlLndyaXRlSW50MzJCRSh0aGlzLl9mLDIwKSxlLndyaXRlSW50MzJCRSh0aGlzLl9nLDI0KSxlLndyaXRlSW50MzJCRSh0aGlzLl9oLDI4KSxlfTt2YXIgc2hhMjU2JDE9U2hhMjU2JDEsaW5oZXJpdHMkbD1pbmhlcml0c19icm93c2VyRXhwb3J0cyxTaGEyNTY9c2hhMjU2JDEsSGFzaCQzPWhhc2gkMyxCdWZmZXIkcz1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixXJDI9bmV3IEFycmF5KDY0KTtmdW5jdGlvbiBTaGEyMjQoKXt0aGlzLmluaXQoKSx0aGlzLl93PVckMixIYXNoJDMuY2FsbCh0aGlzLDY0LDU2KX1pbmhlcml0cyRsKFNoYTIyNCxTaGEyNTYpLFNoYTIyNC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hPTMyMzgzNzEwMzIsdGhpcy5fYj05MTQxNTA2NjMsdGhpcy5fYz04MTI3MDI5OTksdGhpcy5fZD00MTQ0OTEyNjk3LHRoaXMuX2U9NDI5MDc3NTg1Nyx0aGlzLl9mPTE3NTA2MDMwMjUsdGhpcy5fZz0xNjk0MDc2ODM5LHRoaXMuX2g9MzIwNDA3NTQyOCx0aGlzfSxTaGEyMjQucHJvdG90eXBlLl9oYXNoPWZ1bmN0aW9uKCl7dmFyIGU9QnVmZmVyJHMuYWxsb2NVbnNhZmUoMjgpO3JldHVybiBlLndyaXRlSW50MzJCRSh0aGlzLl9hLDApLGUud3JpdGVJbnQzMkJFKHRoaXMuX2IsNCksZS53cml0ZUludDMyQkUodGhpcy5fYyw4KSxlLndyaXRlSW50MzJCRSh0aGlzLl9kLDEyKSxlLndyaXRlSW50MzJCRSh0aGlzLl9lLDE2KSxlLndyaXRlSW50MzJCRSh0aGlzLl9mLDIwKSxlLndyaXRlSW50MzJCRSh0aGlzLl9nLDI0KSxlfTt2YXIgc2hhMjI0JDE9U2hhMjI0LGluaGVyaXRzJGs9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMsSGFzaCQyPWhhc2gkMyxCdWZmZXIkcj1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixLJDE9WzExMTYzNTI0MDgsMzYwOTc2NzQ1OCwxODk5NDQ3NDQxLDYwMjg5MTcyNSwzMDQ5MzIzNDcxLDM5NjQ0ODQzOTksMzkyMTAwOTU3MywyMTczMjk1NTQ4LDk2MTk4NzE2Myw0MDgxNjI4NDcyLDE1MDg5NzA5OTMsMzA1MzgzNDI2NSwyNDUzNjM1NzQ4LDI5Mzc2NzE1NzksMjg3MDc2MzIyMSwzNjY0NjA5NTYwLDM2MjQzODEwODAsMjczNDg4MzM5NCwzMTA1OTg0MDEsMTE2NDk5NjU0Miw2MDcyMjUyNzgsMTMyMzYxMDc2NCwxNDI2ODgxOTg3LDM1OTAzMDQ5OTQsMTkyNTA3ODM4OCw0MDY4MTgyMzgzLDIxNjIwNzgyMDYsOTkxMzM2MTEzLDI2MTQ4ODgxMDMsNjMzODAzMzE3LDMyNDgyMjI1ODAsMzQ3OTc3NDg2OCwzODM1MzkwNDAxLDI2NjY2MTM0NTgsNDAyMjIyNDc3NCw5NDQ3MTExMzksMjY0MzQ3MDc4LDIzNDEyNjI3NzMsNjA0ODA3NjI4LDIwMDc4MDA5MzMsNzcwMjU1OTgzLDE0OTU5OTA5MDEsMTI0OTE1MDEyMiwxODU2NDMxMjM1LDE1NTUwODE2OTIsMzE3NTIxODEzMiwxOTk2MDY0OTg2LDIxOTg5NTA4MzcsMjU1NDIyMDg4MiwzOTk5NzE5MzM5LDI4MjE4MzQzNDksNzY2Nzg0MDE2LDI5NTI5OTY4MDgsMjU2NjU5NDg3OSwzMjEwMzEzNjcxLDMyMDMzMzc5NTYsMzMzNjU3MTg5MSwxMDM0NDU3MDI2LDM1ODQ1Mjg3MTEsMjQ2Njk0ODkwMSwxMTM5MjY5OTMsMzc1ODMyNjM4MywzMzgyNDE4OTUsMTY4NzE3OTM2LDY2NjMwNzIwNSwxMTg4MTc5OTY0LDc3MzUyOTkxMiwxNTQ2MDQ1NzM0LDEyOTQ3NTczNzIsMTUyMjgwNTQ4NSwxMzk2MTgyMjkxLDI2NDM4MzM4MjMsMTY5NTE4MzcwMCwyMzQzNTI3MzkwLDE5ODY2NjEwNTEsMTAxNDQ3NzQ4MCwyMTc3MDI2MzUwLDEyMDY3NTkxNDIsMjQ1Njk1NjAzNywzNDQwNzc2MjcsMjczMDQ4NTkyMSwxMjkwODYzNDYwLDI4MjAzMDI0MTEsMzE1ODQ1NDI3MywzMjU5NzMwODAwLDM1MDU5NTI2NTcsMzM0NTc2NDc3MSwxMDYyMTcwMDgsMzUxNjA2NTgxNywzNjA2MDA4MzQ0LDM2MDAzNTI4MDQsMTQzMjcyNTc3Niw0MDk0NTcxOTA5LDE0NjcwMzE1OTQsMjc1NDIzMzQ0LDg1MTE2OTcyMCw0MzAyMjc3MzQsMzEwMDgyMzc1Miw1MDY5NDg2MTYsMTM2MzI1ODE5NSw2NTkwNjA1NTYsMzc1MDY4NTU5Myw4ODM5OTc4NzcsMzc4NTA1MDI4MCw5NTgxMzk1NzEsMzMxODMwNzQyNywxMzIyODIyMjE4LDM4MTI3MjM0MDMsMTUzNzAwMjA2MywyMDAzMDM0OTk1LDE3NDc4NzM3NzksMzYwMjAzNjg5OSwxOTU1NTYyMjIyLDE1NzU5OTAwMTIsMjAyNDEwNDgxNSwxMTI1NTkyOTI4LDIyMjc3MzA0NTIsMjcxNjkwNDMwNiwyMzYxODUyNDI0LDQ0Mjc3NjA0NCwyNDI4NDM2NDc0LDU5MzY5ODM0NCwyNzU2NzM0MTg3LDM3MzMxMTAyNDksMzIwNDAzMTQ3OSwyOTk5MzUxNTczLDMzMjkzMjUyOTgsMzgxNTkyMDQyNywzMzkxNTY5NjE0LDM5MjgzODM5MDAsMzUxNTI2NzI3MSw1NjYyODA3MTEsMzk0MDE4NzYwNiwzNDU0MDY5NTM0LDQxMTg2MzAyNzEsNDAwMDIzOTk5MiwxMTY0MTg0NzQsMTkxNDEzODU1NCwxNzQyOTI0MjEsMjczMTA1NTI3MCwyODkzODAzNTYsMzIwMzk5MzAwNiw0NjAzOTMyNjksMzIwNjIwMzE1LDY4NTQ3MTczMyw1ODc0OTY4MzYsODUyMTQyOTcxLDEwODY3OTI4NTEsMTAxNzAzNjI5OCwzNjU1NDMxMDAsMTEyNjAwMDU4MCwyNjE4Mjk3Njc2LDEyODgwMzM0NzAsMzQwOTg1NTE1OCwxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYsMTYwNzE2NzkxNSw5ODcxNjc0NjgsMTgxNjQwMjMxNiwxMjQ2MTg5NTkxXSxXJDE9bmV3IEFycmF5KDE2MCk7ZnVuY3Rpb24gU2hhNTEyKCl7dGhpcy5pbml0KCksdGhpcy5fdz1XJDEsSGFzaCQyLmNhbGwodGhpcywxMjgsMTEyKX1pbmhlcml0cyRrKFNoYTUxMixIYXNoJDIpLFNoYTUxMi5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9haD0xNzc5MDMzNzAzLHRoaXMuX2JoPTMxNDQxMzQyNzcsdGhpcy5fY2g9MTAxMzkwNDI0Mix0aGlzLl9kaD0yNzczNDgwNzYyLHRoaXMuX2VoPTEzNTk4OTMxMTksdGhpcy5fZmg9MjYwMDgyMjkyNCx0aGlzLl9naD01Mjg3MzQ2MzUsdGhpcy5faGg9MTU0MTQ1OTIyNSx0aGlzLl9hbD00MDg5MjM1NzIwLHRoaXMuX2JsPTIyMjc4NzM1OTUsdGhpcy5fY2w9NDI3MTE3NTcyMyx0aGlzLl9kbD0xNTk1NzUwMTI5LHRoaXMuX2VsPTI5MTc1NjUxMzcsdGhpcy5fZmw9NzI1NTExMTk5LHRoaXMuX2dsPTQyMTUzODk1NDcsdGhpcy5faGw9MzI3MDMzMjA5LHRoaXN9O2Z1bmN0aW9uIENoKGUsdCxuKXtyZXR1cm4gbl5lJih0Xm4pfWZ1bmN0aW9uIG1haihlLHQsbil7cmV0dXJuIGUmdHxuJihlfHQpfWZ1bmN0aW9uIHNpZ21hMChlLHQpe3JldHVybihlPj4+Mjh8dDw8NCleKHQ+Pj4yfGU8PDMwKV4odD4+Pjd8ZTw8MjUpfWZ1bmN0aW9uIHNpZ21hMShlLHQpe3JldHVybihlPj4+MTR8dDw8MTgpXihlPj4+MTh8dDw8MTQpXih0Pj4+OXxlPDwyMyl9ZnVuY3Rpb24gR2FtbWEwKGUsdCl7cmV0dXJuKGU+Pj4xfHQ8PDMxKV4oZT4+Pjh8dDw8MjQpXmU+Pj43fWZ1bmN0aW9uIEdhbW1hMGwoZSx0KXtyZXR1cm4oZT4+PjF8dDw8MzEpXihlPj4+OHx0PDwyNCleKGU+Pj43fHQ8PDI1KX1mdW5jdGlvbiBHYW1tYTEoZSx0KXtyZXR1cm4oZT4+PjE5fHQ8PDEzKV4odD4+PjI5fGU8PDMpXmU+Pj42fWZ1bmN0aW9uIEdhbW1hMWwoZSx0KXtyZXR1cm4oZT4+PjE5fHQ8PDEzKV4odD4+PjI5fGU8PDMpXihlPj4+Nnx0PDwyNil9ZnVuY3Rpb24gZ2V0Q2FycnkoZSx0KXtyZXR1cm4gZT4+PjA8dD4+PjA/MTowfVNoYTUxMi5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fdyxuPXRoaXMuX2FofDAsYT10aGlzLl9iaHwwLHU9dGhpcy5fY2h8MCxvPXRoaXMuX2RofDAsaD10aGlzLl9laHwwLGQ9dGhpcy5fZmh8MCx3PXRoaXMuX2dofDAsXz10aGlzLl9oaHwwLGI9dGhpcy5fYWx8MCxNPXRoaXMuX2JsfDAsTz10aGlzLl9jbHwwLFQ9dGhpcy5fZGx8MCxQPXRoaXMuX2VsfDAsTD10aGlzLl9mbHwwLHo9dGhpcy5fZ2x8MCxIPXRoaXMuX2hsfDAsVj0wO1Y8MzI7Vis9Mil0W1ZdPWUucmVhZEludDMyQkUoVio0KSx0W1YrMV09ZS5yZWFkSW50MzJCRShWKjQrNCk7Zm9yKDtWPDE2MDtWKz0yKXt2YXIgYWU9dFtWLTMwXSxpZT10W1YtMTUqMisxXSxRPUdhbW1hMChhZSxpZSkscmU9R2FtbWEwbChpZSxhZSk7YWU9dFtWLTIqMl0saWU9dFtWLTIqMisxXTt2YXIgY2U9R2FtbWExKGFlLGllKSxsZT1HYW1tYTFsKGllLGFlKSxvZT10W1YtNyoyXSx5ZT10W1YtNyoyKzFdLFg9dFtWLTE2KjJdLCQ9dFtWLTE2KjIrMV0sbT1yZSt5ZXwwLGw9UStvZStnZXRDYXJyeShtLHJlKXwwO209bStsZXwwLGw9bCtjZStnZXRDYXJyeShtLGxlKXwwLG09bSskfDAsbD1sK1grZ2V0Q2FycnkobSwkKXwwLHRbVl09bCx0W1YrMV09bX1mb3IodmFyIHY9MDt2PDE2MDt2Kz0yKXtsPXRbdl0sbT10W3YrMV07dmFyIEU9bWFqKG4sYSx1KSxTPW1haihiLE0sTyksQj1zaWdtYTAobixiKSxBPXNpZ21hMChiLG4pLHk9c2lnbWExKGgsUCkseD1zaWdtYTEoUCxoKSxwPUskMVt2XSxJPUskMVt2KzFdLGVlPUNoKGgsZCx3KSxmZT1DaChQLEwseiksSj1IK3h8MCxrPV8reStnZXRDYXJyeShKLEgpfDA7Sj1KK2ZlfDAsaz1rK2VlK2dldENhcnJ5KEosZmUpfDAsSj1KK0l8MCxrPWsrcCtnZXRDYXJyeShKLEkpfDAsSj1KK218MCxrPWsrbCtnZXRDYXJyeShKLG0pfDA7dmFyIEQ9QStTfDAsaj1CK0UrZ2V0Q2FycnkoRCxBKXwwO189dyxIPXosdz1kLHo9TCxkPWgsTD1QLFA9VCtKfDAsaD1vK2srZ2V0Q2FycnkoUCxUKXwwLG89dSxUPU8sdT1hLE89TSxhPW4sTT1iLGI9SitEfDAsbj1rK2orZ2V0Q2FycnkoYixKKXwwfXRoaXMuX2FsPXRoaXMuX2FsK2J8MCx0aGlzLl9ibD10aGlzLl9ibCtNfDAsdGhpcy5fY2w9dGhpcy5fY2wrT3wwLHRoaXMuX2RsPXRoaXMuX2RsK1R8MCx0aGlzLl9lbD10aGlzLl9lbCtQfDAsdGhpcy5fZmw9dGhpcy5fZmwrTHwwLHRoaXMuX2dsPXRoaXMuX2dsK3p8MCx0aGlzLl9obD10aGlzLl9obCtIfDAsdGhpcy5fYWg9dGhpcy5fYWgrbitnZXRDYXJyeSh0aGlzLl9hbCxiKXwwLHRoaXMuX2JoPXRoaXMuX2JoK2ErZ2V0Q2FycnkodGhpcy5fYmwsTSl8MCx0aGlzLl9jaD10aGlzLl9jaCt1K2dldENhcnJ5KHRoaXMuX2NsLE8pfDAsdGhpcy5fZGg9dGhpcy5fZGgrbytnZXRDYXJyeSh0aGlzLl9kbCxUKXwwLHRoaXMuX2VoPXRoaXMuX2VoK2grZ2V0Q2FycnkodGhpcy5fZWwsUCl8MCx0aGlzLl9maD10aGlzLl9maCtkK2dldENhcnJ5KHRoaXMuX2ZsLEwpfDAsdGhpcy5fZ2g9dGhpcy5fZ2grdytnZXRDYXJyeSh0aGlzLl9nbCx6KXwwLHRoaXMuX2hoPXRoaXMuX2hoK18rZ2V0Q2FycnkodGhpcy5faGwsSCl8MH0sU2hhNTEyLnByb3RvdHlwZS5faGFzaD1mdW5jdGlvbigpe3ZhciBlPUJ1ZmZlciRyLmFsbG9jVW5zYWZlKDY0KTtmdW5jdGlvbiB0KG4sYSx1KXtlLndyaXRlSW50MzJCRShuLHUpLGUud3JpdGVJbnQzMkJFKGEsdSs0KX1yZXR1cm4gdCh0aGlzLl9haCx0aGlzLl9hbCwwKSx0KHRoaXMuX2JoLHRoaXMuX2JsLDgpLHQodGhpcy5fY2gsdGhpcy5fY2wsMTYpLHQodGhpcy5fZGgsdGhpcy5fZGwsMjQpLHQodGhpcy5fZWgsdGhpcy5fZWwsMzIpLHQodGhpcy5fZmgsdGhpcy5fZmwsNDApLHQodGhpcy5fZ2gsdGhpcy5fZ2wsNDgpLHQodGhpcy5faGgsdGhpcy5faGwsNTYpLGV9O3ZhciBzaGE1MTIkMT1TaGE1MTIsaW5oZXJpdHMkaj1pbmhlcml0c19icm93c2VyRXhwb3J0cyxTSEE1MTIkMj1zaGE1MTIkMSxIYXNoJDE9aGFzaCQzLEJ1ZmZlciRxPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLFc9bmV3IEFycmF5KDE2MCk7ZnVuY3Rpb24gU2hhMzg0KCl7dGhpcy5pbml0KCksdGhpcy5fdz1XLEhhc2gkMS5jYWxsKHRoaXMsMTI4LDExMil9aW5oZXJpdHMkaihTaGEzODQsU0hBNTEyJDIpLFNoYTM4NC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9haD0zNDE4MDcwMzY1LHRoaXMuX2JoPTE2NTQyNzAyNTAsdGhpcy5fY2g9MjQzODUyOTM3MCx0aGlzLl9kaD0zNTU0NjIzNjAsdGhpcy5fZWg9MTczMTQwNTQxNSx0aGlzLl9maD0yMzk0MTgwMjMxLHRoaXMuX2doPTM2NzUwMDg1MjUsdGhpcy5faGg9MTIwMzA2MjgxMyx0aGlzLl9hbD0zMjM4MzcxMDMyLHRoaXMuX2JsPTkxNDE1MDY2Myx0aGlzLl9jbD04MTI3MDI5OTksdGhpcy5fZGw9NDE0NDkxMjY5Nyx0aGlzLl9lbD00MjkwNzc1ODU3LHRoaXMuX2ZsPTE3NTA2MDMwMjUsdGhpcy5fZ2w9MTY5NDA3NjgzOSx0aGlzLl9obD0zMjA0MDc1NDI4LHRoaXN9LFNoYTM4NC5wcm90b3R5cGUuX2hhc2g9ZnVuY3Rpb24oKXt2YXIgZT1CdWZmZXIkcS5hbGxvY1Vuc2FmZSg0OCk7ZnVuY3Rpb24gdChuLGEsdSl7ZS53cml0ZUludDMyQkUobix1KSxlLndyaXRlSW50MzJCRShhLHUrNCl9cmV0dXJuIHQodGhpcy5fYWgsdGhpcy5fYWwsMCksdCh0aGlzLl9iaCx0aGlzLl9ibCw4KSx0KHRoaXMuX2NoLHRoaXMuX2NsLDE2KSx0KHRoaXMuX2RoLHRoaXMuX2RsLDI0KSx0KHRoaXMuX2VoLHRoaXMuX2VsLDMyKSx0KHRoaXMuX2ZoLHRoaXMuX2ZsLDQwKSxlfTt2YXIgc2hhMzg0JDE9U2hhMzg0LGV4cG9ydHMkMT1zaGFfanMuZXhwb3J0cz1mdW5jdGlvbih0KXt0PXQudG9Mb3dlckNhc2UoKTt2YXIgbj1leHBvcnRzJDFbdF07aWYoIW4pdGhyb3cgbmV3IEVycm9yKHQrIiBpcyBub3Qgc3VwcG9ydGVkICh3ZSBhY2NlcHQgcHVsbCByZXF1ZXN0cykiKTtyZXR1cm4gbmV3IG59O2V4cG9ydHMkMS5zaGE9c2hhJDQsZXhwb3J0cyQxLnNoYTE9c2hhMSxleHBvcnRzJDEuc2hhMjI0PXNoYTIyNCQxLGV4cG9ydHMkMS5zaGEyNTY9c2hhMjU2JDEsZXhwb3J0cyQxLnNoYTM4ND1zaGEzODQkMSxleHBvcnRzJDEuc2hhNTEyPXNoYTUxMiQxO3ZhciBzaGFfanNFeHBvcnRzPXNoYV9qcy5leHBvcnRzLHN0cmVhbUJyb3dzZXJpZnk9U3RyZWFtLEVFPWV2ZW50c0V4cG9ydHMuRXZlbnRFbWl0dGVyLGluaGVyaXRzJGk9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHM7aW5oZXJpdHMkaShTdHJlYW0sRUUpLFN0cmVhbS5SZWFkYWJsZT1yZXF1aXJlX3N0cmVhbV9yZWFkYWJsZSQxKCksU3RyZWFtLldyaXRhYmxlPXJlcXVpcmVfc3RyZWFtX3dyaXRhYmxlJDEoKSxTdHJlYW0uRHVwbGV4PXJlcXVpcmVfc3RyZWFtX2R1cGxleCQxKCksU3RyZWFtLlRyYW5zZm9ybT1fc3RyZWFtX3RyYW5zZm9ybSQxLFN0cmVhbS5QYXNzVGhyb3VnaD1fc3RyZWFtX3Bhc3N0aHJvdWdoJDEsU3RyZWFtLmZpbmlzaGVkPWVuZE9mU3RyZWFtLFN0cmVhbS5waXBlbGluZT1waXBlbGluZV8xLFN0cmVhbS5TdHJlYW09U3RyZWFtO2Z1bmN0aW9uIFN0cmVhbSgpe0VFLmNhbGwodGhpcyl9U3RyZWFtLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztmdW5jdGlvbiBhKGIpe2Uud3JpdGFibGUmJmUud3JpdGUoYik9PT0hMSYmbi5wYXVzZSYmbi5wYXVzZSgpfW4ub24oImRhdGEiLGEpO2Z1bmN0aW9uIHUoKXtuLnJlYWRhYmxlJiZuLnJlc3VtZSYmbi5yZXN1bWUoKX1lLm9uKCJkcmFpbiIsdSksIWUuX2lzU3RkaW8mJighdHx8dC5lbmQhPT0hMSkmJihuLm9uKCJlbmQiLGgpLG4ub24oImNsb3NlIixkKSk7dmFyIG89ITE7ZnVuY3Rpb24gaCgpe298fChvPSEwLGUuZW5kKCkpfWZ1bmN0aW9uIGQoKXtvfHwobz0hMCx0eXBlb2YgZS5kZXN0cm95PT0iZnVuY3Rpb24iJiZlLmRlc3Ryb3koKSl9ZnVuY3Rpb24gdyhiKXtpZihfKCksRUUubGlzdGVuZXJDb3VudCh0aGlzLCJlcnJvciIpPT09MCl0aHJvdyBifW4ub24oImVycm9yIix3KSxlLm9uKCJlcnJvciIsdyk7ZnVuY3Rpb24gXygpe24ucmVtb3ZlTGlzdGVuZXIoImRhdGEiLGEpLGUucmVtb3ZlTGlzdGVuZXIoImRyYWluIix1KSxuLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGgpLG4ucmVtb3ZlTGlzdGVuZXIoImNsb3NlIixkKSxuLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdyksZS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLHcpLG4ucmVtb3ZlTGlzdGVuZXIoImVuZCIsXyksbi5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLF8pLGUucmVtb3ZlTGlzdGVuZXIoImNsb3NlIixfKX1yZXR1cm4gbi5vbigiZW5kIixfKSxuLm9uKCJjbG9zZSIsXyksZS5vbigiY2xvc2UiLF8pLGUuZW1pdCgicGlwZSIsbiksZX07dmFyIHN0cmVhbT1nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhzdHJlYW1Ccm93c2VyaWZ5KSxCdWZmZXIkcD1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixUcmFuc2Zvcm0kNj1zdHJlYW1Ccm93c2VyaWZ5LlRyYW5zZm9ybSxTdHJpbmdEZWNvZGVyPXN0cmluZ19kZWNvZGVyLlN0cmluZ0RlY29kZXIsaW5oZXJpdHMkaD1pbmhlcml0c19icm93c2VyRXhwb3J0cztmdW5jdGlvbiBDaXBoZXJCYXNlJDEoZSl7VHJhbnNmb3JtJDYuY2FsbCh0aGlzKSx0aGlzLmhhc2hNb2RlPXR5cGVvZiBlPT0ic3RyaW5nIix0aGlzLmhhc2hNb2RlP3RoaXNbZV09dGhpcy5fZmluYWxPckRpZ2VzdDp0aGlzLmZpbmFsPXRoaXMuX2ZpbmFsT3JEaWdlc3QsdGhpcy5fZmluYWwmJih0aGlzLl9fZmluYWw9dGhpcy5fZmluYWwsdGhpcy5fZmluYWw9bnVsbCksdGhpcy5fZGVjb2Rlcj1udWxsLHRoaXMuX2VuY29kaW5nPW51bGx9aW5oZXJpdHMkaChDaXBoZXJCYXNlJDEsVHJhbnNmb3JtJDYpO3ZhciB1c2VVaW50OEFycmF5PXR5cGVvZiBVaW50OEFycmF5PCJ1Iix1c2VBcnJheUJ1ZmZlcj10eXBlb2YgQXJyYXlCdWZmZXI8InUiJiZ0eXBlb2YgVWludDhBcnJheTwidSImJkFycmF5QnVmZmVyLmlzVmlldyYmKEJ1ZmZlciRwLnByb3RvdHlwZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEJ1ZmZlciRwLlRZUEVEX0FSUkFZX1NVUFBPUlQpO2Z1bmN0aW9uIHRvQnVmZmVyJDMoZSx0KXtpZihlIGluc3RhbmNlb2YgQnVmZmVyJHApcmV0dXJuIGU7aWYodHlwZW9mIGU9PSJzdHJpbmciKXJldHVybiBCdWZmZXIkcC5mcm9tKGUsdCk7aWYodXNlQXJyYXlCdWZmZXImJkFycmF5QnVmZmVyLmlzVmlldyhlKSl7aWYoZS5ieXRlTGVuZ3RoPT09MClyZXR1cm4gQnVmZmVyJHAuYWxsb2MoMCk7dmFyIG49QnVmZmVyJHAuZnJvbShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKTtpZihuLmJ5dGVMZW5ndGg9PT1lLmJ5dGVMZW5ndGgpcmV0dXJuIG59aWYodXNlVWludDhBcnJheSYmZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fEJ1ZmZlciRwLmlzQnVmZmVyKGUpJiZlLmNvbnN0cnVjdG9yJiZ0eXBlb2YgZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcj09ImZ1bmN0aW9uIiYmZS5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihlKSlyZXR1cm4gQnVmZmVyJHAuZnJvbShlKTt0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgImRhdGEiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcgb3IgYW4gaW5zdGFuY2Ugb2YgQnVmZmVyLCBUeXBlZEFycmF5LCBvciBEYXRhVmlldy4nKX1DaXBoZXJCYXNlJDEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLHQsbil7dmFyIGE9dG9CdWZmZXIkMyhlLHQpLHU9dGhpcy5fdXBkYXRlKGEpO3JldHVybiB0aGlzLmhhc2hNb2RlP3RoaXM6KG4mJih1PXRoaXMuX3RvU3RyaW5nKHUsbikpLHUpfSxDaXBoZXJCYXNlJDEucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nPWZ1bmN0aW9uKCl7fSxDaXBoZXJCYXNlJDEucHJvdG90eXBlLmdldEF1dGhUYWc9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoInRyeWluZyB0byBnZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUiKX0sQ2lwaGVyQmFzZSQxLnByb3RvdHlwZS5zZXRBdXRoVGFnPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJ0cnlpbmcgdG8gc2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlIil9LENpcGhlckJhc2UkMS5wcm90b3R5cGUuc2V0QUFEPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJ0cnlpbmcgdG8gc2V0IGFhZCBpbiB1bnN1cHBvcnRlZCBzdGF0ZSIpfSxDaXBoZXJCYXNlJDEucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oZSx0LG4pe3ZhciBhO3RyeXt0aGlzLmhhc2hNb2RlP3RoaXMuX3VwZGF0ZShlKTp0aGlzLnB1c2godGhpcy5fdXBkYXRlKGUpKX1jYXRjaCh1KXthPXV9ZmluYWxseXtuKGEpfX0sQ2lwaGVyQmFzZSQxLnByb3RvdHlwZS5fZmx1c2g9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3RoaXMucHVzaCh0aGlzLl9fZmluYWwoKSl9Y2F0Y2gobil7dD1ufWUodCl9LENpcGhlckJhc2UkMS5wcm90b3R5cGUuX2ZpbmFsT3JEaWdlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2ZpbmFsKCl8fEJ1ZmZlciRwLmFsbG9jKDApO3JldHVybiBlJiYodD10aGlzLl90b1N0cmluZyh0LGUsITApKSx0fSxDaXBoZXJCYXNlJDEucHJvdG90eXBlLl90b1N0cmluZz1mdW5jdGlvbihlLHQsbil7aWYodGhpcy5fZGVjb2Rlcnx8KHRoaXMuX2RlY29kZXI9bmV3IFN0cmluZ0RlY29kZXIodCksdGhpcy5fZW5jb2Rpbmc9dCksdGhpcy5fZW5jb2RpbmchPT10KXRocm93IG5ldyBFcnJvcigiY2Fu4oCZdCBzd2l0Y2ggZW5jb2RpbmdzIik7dmFyIGE9dGhpcy5fZGVjb2Rlci53cml0ZShlKTtyZXR1cm4gbiYmKGErPXRoaXMuX2RlY29kZXIuZW5kKCkpLGF9O3ZhciBjaXBoZXJCYXNlPUNpcGhlckJhc2UkMSxpbmhlcml0cyRnPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLE1ENSQyPW1kNV9qcyxSSVBFTUQxNjAkMz1yaXBlbWQxNjAsc2hhJDM9c2hhX2pzRXhwb3J0cyxCYXNlJDU9Y2lwaGVyQmFzZTtmdW5jdGlvbiBIYXNoKGUpe0Jhc2UkNS5jYWxsKHRoaXMsImRpZ2VzdCIpLHRoaXMuX2hhc2g9ZX1pbmhlcml0cyRnKEhhc2gsQmFzZSQ1KSxIYXNoLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2hhc2gudXBkYXRlKGUpfSxIYXNoLnByb3RvdHlwZS5fZmluYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzaC5kaWdlc3QoKX07dmFyIGJyb3dzZXIkOT1mdW5jdGlvbih0KXtyZXR1cm4gdD10LnRvTG93ZXJDYXNlKCksdD09PSJtZDUiP25ldyBNRDUkMjp0PT09InJtZDE2MCJ8fHQ9PT0icmlwZW1kMTYwIj9uZXcgUklQRU1EMTYwJDM6bmV3IEhhc2goc2hhJDModCkpfSxpbmhlcml0cyRmPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLEJ1ZmZlciRvPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLEJhc2UkND1jaXBoZXJCYXNlLFpFUk9TJDI9QnVmZmVyJG8uYWxsb2MoMTI4KSxibG9ja3NpemU9NjQ7ZnVuY3Rpb24gSG1hYyQzKGUsdCl7QmFzZSQ0LmNhbGwodGhpcywiZGlnZXN0IiksdHlwZW9mIHQ9PSJzdHJpbmciJiYodD1CdWZmZXIkby5mcm9tKHQpKSx0aGlzLl9hbGc9ZSx0aGlzLl9rZXk9dCx0Lmxlbmd0aD5ibG9ja3NpemU/dD1lKHQpOnQubGVuZ3RoPGJsb2Nrc2l6ZSYmKHQ9QnVmZmVyJG8uY29uY2F0KFt0LFpFUk9TJDJdLGJsb2Nrc2l6ZSkpO2Zvcih2YXIgbj10aGlzLl9pcGFkPUJ1ZmZlciRvLmFsbG9jVW5zYWZlKGJsb2Nrc2l6ZSksYT10aGlzLl9vcGFkPUJ1ZmZlciRvLmFsbG9jVW5zYWZlKGJsb2Nrc2l6ZSksdT0wO3U8YmxvY2tzaXplO3UrKyluW3VdPXRbdV1eNTQsYVt1XT10W3VdXjkyO3RoaXMuX2hhc2g9W25dfWluaGVyaXRzJGYoSG1hYyQzLEJhc2UkNCksSG1hYyQzLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2hhc2gucHVzaChlKX0sSG1hYyQzLnByb3RvdHlwZS5fZmluYWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9hbGcoQnVmZmVyJG8uY29uY2F0KHRoaXMuX2hhc2gpKTtyZXR1cm4gdGhpcy5fYWxnKEJ1ZmZlciRvLmNvbmNhdChbdGhpcy5fb3BhZCxlXSkpfTt2YXIgbGVnYWN5PUhtYWMkMyxNRDUkMT1tZDVfanMsbWQ1JDI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBNRDUkMSgpLnVwZGF0ZShlKS5kaWdlc3QoKX0saW5oZXJpdHMkZT1pbmhlcml0c19icm93c2VyRXhwb3J0cyxMZWdhY3k9bGVnYWN5LEJhc2UkMz1jaXBoZXJCYXNlLEJ1ZmZlciRuPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLG1kNSQxPW1kNSQyLFJJUEVNRDE2MCQyPXJpcGVtZDE2MCxzaGEkMj1zaGFfanNFeHBvcnRzLFpFUk9TJDE9QnVmZmVyJG4uYWxsb2MoMTI4KTtmdW5jdGlvbiBIbWFjJDIoZSx0KXtCYXNlJDMuY2FsbCh0aGlzLCJkaWdlc3QiKSx0eXBlb2YgdD09InN0cmluZyImJih0PUJ1ZmZlciRuLmZyb20odCkpO3ZhciBuPWU9PT0ic2hhNTEyInx8ZT09PSJzaGEzODQiPzEyODo2NDtpZih0aGlzLl9hbGc9ZSx0aGlzLl9rZXk9dCx0Lmxlbmd0aD5uKXt2YXIgYT1lPT09InJtZDE2MCI/bmV3IFJJUEVNRDE2MCQyOnNoYSQyKGUpO3Q9YS51cGRhdGUodCkuZGlnZXN0KCl9ZWxzZSB0Lmxlbmd0aDxuJiYodD1CdWZmZXIkbi5jb25jYXQoW3QsWkVST1MkMV0sbikpO2Zvcih2YXIgdT10aGlzLl9pcGFkPUJ1ZmZlciRuLmFsbG9jVW5zYWZlKG4pLG89dGhpcy5fb3BhZD1CdWZmZXIkbi5hbGxvY1Vuc2FmZShuKSxoPTA7aDxuO2grKyl1W2hdPXRbaF1eNTQsb1toXT10W2hdXjkyO3RoaXMuX2hhc2g9ZT09PSJybWQxNjAiP25ldyBSSVBFTUQxNjAkMjpzaGEkMihlKSx0aGlzLl9oYXNoLnVwZGF0ZSh1KX1pbmhlcml0cyRlKEhtYWMkMixCYXNlJDMpLEhtYWMkMi5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLl9oYXNoLnVwZGF0ZShlKX0sSG1hYyQyLnByb3RvdHlwZS5fZmluYWw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9oYXNoLmRpZ2VzdCgpLHQ9dGhpcy5fYWxnPT09InJtZDE2MCI/bmV3IFJJUEVNRDE2MCQyOnNoYSQyKHRoaXMuX2FsZyk7cmV0dXJuIHQudXBkYXRlKHRoaXMuX29wYWQpLnVwZGF0ZShlKS5kaWdlc3QoKX07dmFyIGJyb3dzZXIkOD1mdW5jdGlvbih0LG4pe3JldHVybiB0PXQudG9Mb3dlckNhc2UoKSx0PT09InJtZDE2MCJ8fHQ9PT0icmlwZW1kMTYwIj9uZXcgSG1hYyQyKCJybWQxNjAiLG4pOnQ9PT0ibWQ1Ij9uZXcgTGVnYWN5KG1kNSQxLG4pOm5ldyBIbWFjJDIodCxuKX07Y29uc3Qgc2hhMjI0V2l0aFJTQUVuY3J5cHRpb249e3NpZ246InJzYSIsaGFzaDoic2hhMjI0IixpZDoiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWMifSxzaGEyNTZXaXRoUlNBRW5jcnlwdGlvbj17c2lnbjoicnNhIixoYXNoOiJzaGEyNTYiLGlkOiIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCJ9LHNoYTM4NFdpdGhSU0FFbmNyeXB0aW9uPXtzaWduOiJyc2EiLGhhc2g6InNoYTM4NCIsaWQ6IjMwNDEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMjA1MDAwNDMwIn0sc2hhNTEyV2l0aFJTQUVuY3J5cHRpb249e3NpZ246InJzYSIsaGFzaDoic2hhNTEyIixpZDoiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDAifSxzaGEyNTY9e3NpZ246ImVjZHNhIixoYXNoOiJzaGEyNTYiLGlkOiIifSxzaGEyMjQ9e3NpZ246ImVjZHNhIixoYXNoOiJzaGEyMjQiLGlkOiIifSxzaGEzODQ9e3NpZ246ImVjZHNhIixoYXNoOiJzaGEzODQiLGlkOiIifSxzaGE1MTI9e3NpZ246ImVjZHNhIixoYXNoOiJzaGE1MTIiLGlkOiIifSxEU0E9e3NpZ246ImRzYSIsaGFzaDoic2hhMSIsaWQ6IiJ9LHJpcGVtZDE2MFdpdGhSU0E9e3NpZ246InJzYSIsaGFzaDoicm1kMTYwIixpZDoiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0In0sbWQ1V2l0aFJTQUVuY3J5cHRpb249e3NpZ246InJzYSIsaGFzaDoibWQ1IixpZDoiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwIn07dmFyIHJlcXVpcmUkJDY9e3NoYTIyNFdpdGhSU0FFbmNyeXB0aW9uLCJSU0EtU0hBMjI0Ijp7c2lnbjoiZWNkc2EvcnNhIixoYXNoOiJzaGEyMjQiLGlkOiIzMDJkMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDQwNTAwMDQxYyJ9LHNoYTI1NldpdGhSU0FFbmNyeXB0aW9uLCJSU0EtU0hBMjU2Ijp7c2lnbjoiZWNkc2EvcnNhIixoYXNoOiJzaGEyNTYiLGlkOiIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCJ9LHNoYTM4NFdpdGhSU0FFbmNyeXB0aW9uLCJSU0EtU0hBMzg0Ijp7c2lnbjoiZWNkc2EvcnNhIixoYXNoOiJzaGEzODQiLGlkOiIzMDQxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDIwNTAwMDQzMCJ9LHNoYTUxMldpdGhSU0FFbmNyeXB0aW9uLCJSU0EtU0hBNTEyIjp7c2lnbjoiZWNkc2EvcnNhIixoYXNoOiJzaGE1MTIiLGlkOiIzMDUxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDMwNTAwMDQ0MCJ9LCJSU0EtU0hBMSI6e3NpZ246InJzYSIsaGFzaDoic2hhMSIsaWQ6IjMwMjEzMDA5MDYwNTJiMGUwMzAyMWEwNTAwMDQxNCJ9LCJlY2RzYS13aXRoLVNIQTEiOntzaWduOiJlY2RzYSIsaGFzaDoic2hhMSIsaWQ6IiJ9LHNoYTI1NixzaGEyMjQsc2hhMzg0LHNoYTUxMiwiRFNBLVNIQSI6e3NpZ246ImRzYSIsaGFzaDoic2hhMSIsaWQ6IiJ9LCJEU0EtU0hBMSI6e3NpZ246ImRzYSIsaGFzaDoic2hhMSIsaWQ6IiJ9LERTQSwiRFNBLVdJVEgtU0hBMjI0Ijp7c2lnbjoiZHNhIixoYXNoOiJzaGEyMjQiLGlkOiIifSwiRFNBLVNIQTIyNCI6e3NpZ246ImRzYSIsaGFzaDoic2hhMjI0IixpZDoiIn0sIkRTQS1XSVRILVNIQTI1NiI6e3NpZ246ImRzYSIsaGFzaDoic2hhMjU2IixpZDoiIn0sIkRTQS1TSEEyNTYiOntzaWduOiJkc2EiLGhhc2g6InNoYTI1NiIsaWQ6IiJ9LCJEU0EtV0lUSC1TSEEzODQiOntzaWduOiJkc2EiLGhhc2g6InNoYTM4NCIsaWQ6IiJ9LCJEU0EtU0hBMzg0Ijp7c2lnbjoiZHNhIixoYXNoOiJzaGEzODQiLGlkOiIifSwiRFNBLVdJVEgtU0hBNTEyIjp7c2lnbjoiZHNhIixoYXNoOiJzaGE1MTIiLGlkOiIifSwiRFNBLVNIQTUxMiI6e3NpZ246ImRzYSIsaGFzaDoic2hhNTEyIixpZDoiIn0sIkRTQS1SSVBFTUQxNjAiOntzaWduOiJkc2EiLGhhc2g6InJtZDE2MCIsaWQ6IiJ9LHJpcGVtZDE2MFdpdGhSU0EsIlJTQS1SSVBFTUQxNjAiOntzaWduOiJyc2EiLGhhc2g6InJtZDE2MCIsaWQ6IjMwMjEzMDA5MDYwNTJiMjQwMzAyMDEwNTAwMDQxNCJ9LG1kNVdpdGhSU0FFbmNyeXB0aW9uLCJSU0EtTUQ1Ijp7c2lnbjoicnNhIixoYXNoOiJtZDUiLGlkOiIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjA1MDUwMDA0MTAifX0sYWxnb3M9cmVxdWlyZSQkNixicm93c2VyJDc9e30sTUFYX0FMTE9DPU1hdGgucG93KDIsMzApLTEscHJlY29uZGl0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGUhPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIkl0ZXJhdGlvbnMgbm90IGEgbnVtYmVyIik7aWYoZTwwKXRocm93IG5ldyBUeXBlRXJyb3IoIkJhZCBpdGVyYXRpb25zIik7aWYodHlwZW9mIHQhPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIktleSBsZW5ndGggbm90IGEgbnVtYmVyIik7aWYodDwwfHx0Pk1BWF9BTExPQ3x8dCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiQmFkIGtleSBsZW5ndGgiKX0sZGVmYXVsdEVuY29kaW5nJDI7aWYoY29tbW9uanNHbG9iYWwucHJvY2VzcyYmY29tbW9uanNHbG9iYWwucHJvY2Vzcy5icm93c2VyKWRlZmF1bHRFbmNvZGluZyQyPSJ1dGYtOCI7ZWxzZSBpZihjb21tb25qc0dsb2JhbC5wcm9jZXNzJiZjb21tb25qc0dsb2JhbC5wcm9jZXNzLnZlcnNpb24pe3ZhciBwVmVyc2lvbk1ham9yPXBhcnNlSW50KGFwaSQxLnZlcnNpb24uc3BsaXQoIi4iKVswXS5zbGljZSgxKSwxMCk7ZGVmYXVsdEVuY29kaW5nJDI9cFZlcnNpb25NYWpvcj49Nj8idXRmLTgiOiJiaW5hcnkifWVsc2UgZGVmYXVsdEVuY29kaW5nJDI9InV0Zi04Ijt2YXIgZGVmYXVsdEVuY29kaW5nXzE9ZGVmYXVsdEVuY29kaW5nJDIsQnVmZmVyJG09c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXIsdG9CdWZmZXIkMj1mdW5jdGlvbihlLHQsbil7aWYoQnVmZmVyJG0uaXNCdWZmZXIoZSkpcmV0dXJuIGU7aWYodHlwZW9mIGU9PSJzdHJpbmciKXJldHVybiBCdWZmZXIkbS5mcm9tKGUsdCk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXJldHVybiBCdWZmZXIkbS5mcm9tKGUuYnVmZmVyKTt0aHJvdyBuZXcgVHlwZUVycm9yKG4rIiBtdXN0IGJlIGEgc3RyaW5nLCBhIEJ1ZmZlciwgYSB0eXBlZCBhcnJheSBvciBhIERhdGFWaWV3Iil9LG1kNT1tZDUkMixSSVBFTUQxNjAkMT1yaXBlbWQxNjAsc2hhJDE9c2hhX2pzRXhwb3J0cyxCdWZmZXIkbD1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixjaGVja1BhcmFtZXRlcnMkMT1wcmVjb25kaXRpb24sZGVmYXVsdEVuY29kaW5nJDE9ZGVmYXVsdEVuY29kaW5nXzEsdG9CdWZmZXIkMT10b0J1ZmZlciQyLFpFUk9TPUJ1ZmZlciRsLmFsbG9jKDEyOCksc2l6ZXM9e21kNToxNixzaGExOjIwLHNoYTIyNDoyOCxzaGEyNTY6MzIsc2hhMzg0OjQ4LHNoYTUxMjo2NCxybWQxNjA6MjAscmlwZW1kMTYwOjIwfTtmdW5jdGlvbiBIbWFjJDEoZSx0LG4pe3ZhciBhPWdldERpZ2VzdChlKSx1PWU9PT0ic2hhNTEyInx8ZT09PSJzaGEzODQiPzEyODo2NDt0Lmxlbmd0aD51P3Q9YSh0KTp0Lmxlbmd0aDx1JiYodD1CdWZmZXIkbC5jb25jYXQoW3QsWkVST1NdLHUpKTtmb3IodmFyIG89QnVmZmVyJGwuYWxsb2NVbnNhZmUodStzaXplc1tlXSksaD1CdWZmZXIkbC5hbGxvY1Vuc2FmZSh1K3NpemVzW2VdKSxkPTA7ZDx1O2QrKylvW2RdPXRbZF1eNTQsaFtkXT10W2RdXjkyO3ZhciB3PUJ1ZmZlciRsLmFsbG9jVW5zYWZlKHUrbis0KTtvLmNvcHkodywwLDAsdSksdGhpcy5pcGFkMT13LHRoaXMuaXBhZDI9byx0aGlzLm9wYWQ9aCx0aGlzLmFsZz1lLHRoaXMuYmxvY2tzaXplPXUsdGhpcy5oYXNoPWEsdGhpcy5zaXplPXNpemVzW2VdfUhtYWMkMS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGUsdCl7ZS5jb3B5KHQsdGhpcy5ibG9ja3NpemUpO3ZhciBuPXRoaXMuaGFzaCh0KTtyZXR1cm4gbi5jb3B5KHRoaXMub3BhZCx0aGlzLmJsb2Nrc2l6ZSksdGhpcy5oYXNoKHRoaXMub3BhZCl9O2Z1bmN0aW9uIGdldERpZ2VzdChlKXtmdW5jdGlvbiB0KGEpe3JldHVybiBzaGEkMShlKS51cGRhdGUoYSkuZGlnZXN0KCl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gbmV3IFJJUEVNRDE2MCQxKCkudXBkYXRlKGEpLmRpZ2VzdCgpfXJldHVybiBlPT09InJtZDE2MCJ8fGU9PT0icmlwZW1kMTYwIj9uOmU9PT0ibWQ1Ij9tZDU6dH1mdW5jdGlvbiBwYmtkZjIoZSx0LG4sYSx1KXtjaGVja1BhcmFtZXRlcnMkMShuLGEpLGU9dG9CdWZmZXIkMShlLGRlZmF1bHRFbmNvZGluZyQxLCJQYXNzd29yZCIpLHQ9dG9CdWZmZXIkMSh0LGRlZmF1bHRFbmNvZGluZyQxLCJTYWx0IiksdT11fHwic2hhMSI7dmFyIG89bmV3IEhtYWMkMSh1LGUsdC5sZW5ndGgpLGg9QnVmZmVyJGwuYWxsb2NVbnNhZmUoYSksZD1CdWZmZXIkbC5hbGxvY1Vuc2FmZSh0Lmxlbmd0aCs0KTt0LmNvcHkoZCwwLDAsdC5sZW5ndGgpO2Zvcih2YXIgdz0wLF89c2l6ZXNbdV0sYj1NYXRoLmNlaWwoYS9fKSxNPTE7TTw9YjtNKyspe2Qud3JpdGVVSW50MzJCRShNLHQubGVuZ3RoKTtmb3IodmFyIE89by5ydW4oZCxvLmlwYWQxKSxUPU8sUD0xO1A8bjtQKyspe1Q9by5ydW4oVCxvLmlwYWQyKTtmb3IodmFyIEw9MDtMPF87TCsrKU9bTF1ePVRbTF19Ty5jb3B5KGgsdyksdys9X31yZXR1cm4gaH12YXIgc3luY0Jyb3dzZXI9cGJrZGYyLEJ1ZmZlciRrPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLGNoZWNrUGFyYW1ldGVycz1wcmVjb25kaXRpb24sZGVmYXVsdEVuY29kaW5nPWRlZmF1bHRFbmNvZGluZ18xLHN5bmM9c3luY0Jyb3dzZXIsdG9CdWZmZXI9dG9CdWZmZXIkMixaRVJPX0JVRixzdWJ0bGU9Y29tbW9uanNHbG9iYWwuY3J5cHRvJiZjb21tb25qc0dsb2JhbC5jcnlwdG8uc3VidGxlLHRvQnJvd3Nlcj17c2hhOiJTSEEtMSIsInNoYS0xIjoiU0hBLTEiLHNoYTE6IlNIQS0xIixzaGEyNTY6IlNIQS0yNTYiLCJzaGEtMjU2IjoiU0hBLTI1NiIsc2hhMzg0OiJTSEEtMzg0Iiwic2hhLTM4NCI6IlNIQS0zODQiLCJzaGEtNTEyIjoiU0hBLTUxMiIsc2hhNTEyOiJTSEEtNTEyIn0sY2hlY2tzPVtdO2Z1bmN0aW9uIGNoZWNrTmF0aXZlKGUpe2lmKGNvbW1vbmpzR2xvYmFsLnByb2Nlc3MmJiFjb21tb25qc0dsb2JhbC5wcm9jZXNzLmJyb3dzZXJ8fCFzdWJ0bGV8fCFzdWJ0bGUuaW1wb3J0S2V5fHwhc3VidGxlLmRlcml2ZUJpdHMpcmV0dXJuIFByb21pc2UucmVzb2x2ZSghMSk7aWYoY2hlY2tzW2VdIT09dm9pZCAwKXJldHVybiBjaGVja3NbZV07WkVST19CVUY9WkVST19CVUZ8fEJ1ZmZlciRrLmFsbG9jKDgpO3ZhciB0PWJyb3dzZXJQYmtkZjIoWkVST19CVUYsWkVST19CVUYsMTAsMTI4LGUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4hMH0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuITF9KTtyZXR1cm4gY2hlY2tzW2VdPXQsdH12YXIgbmV4dFRpY2skMTtmdW5jdGlvbiBnZXROZXh0VGljaygpe3JldHVybiBuZXh0VGljayQxfHwoY29tbW9uanNHbG9iYWwucHJvY2VzcyYmY29tbW9uanNHbG9iYWwucHJvY2Vzcy5uZXh0VGljaz9uZXh0VGljayQxPWNvbW1vbmpzR2xvYmFsLnByb2Nlc3MubmV4dFRpY2s6Y29tbW9uanNHbG9iYWwucXVldWVNaWNyb3Rhc2s/bmV4dFRpY2skMT1jb21tb25qc0dsb2JhbC5xdWV1ZU1pY3JvdGFzazpjb21tb25qc0dsb2JhbC5zZXRJbW1lZGlhdGU/bmV4dFRpY2skMT1jb21tb25qc0dsb2JhbC5zZXRJbW1lZGlhdGU6bmV4dFRpY2skMT1jb21tb25qc0dsb2JhbC5zZXRUaW1lb3V0LG5leHRUaWNrJDEpfWZ1bmN0aW9uIGJyb3dzZXJQYmtkZjIoZSx0LG4sYSx1KXtyZXR1cm4gc3VidGxlLmltcG9ydEtleSgicmF3IixlLHtuYW1lOiJQQktERjIifSwhMSxbImRlcml2ZUJpdHMiXSkudGhlbihmdW5jdGlvbihvKXtyZXR1cm4gc3VidGxlLmRlcml2ZUJpdHMoe25hbWU6IlBCS0RGMiIsc2FsdDp0LGl0ZXJhdGlvbnM6bixoYXNoOntuYW1lOnV9fSxvLGE8PDMpfSkudGhlbihmdW5jdGlvbihvKXtyZXR1cm4gQnVmZmVyJGsuZnJvbShvKX0pfWZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKGUsdCl7ZS50aGVuKGZ1bmN0aW9uKG4pe2dldE5leHRUaWNrKCkoZnVuY3Rpb24oKXt0KG51bGwsbil9KX0sZnVuY3Rpb24obil7Z2V0TmV4dFRpY2soKShmdW5jdGlvbigpe3Qobil9KX0pfXZhciBhc3luYz1mdW5jdGlvbihlLHQsbixhLHUsbyl7dHlwZW9mIHU9PSJmdW5jdGlvbiImJihvPXUsdT12b2lkIDApLHU9dXx8InNoYTEiO3ZhciBoPXRvQnJvd3Nlclt1LnRvTG93ZXJDYXNlKCldO2lmKCFofHx0eXBlb2YgY29tbW9uanNHbG9iYWwuUHJvbWlzZSE9ImZ1bmN0aW9uIil7Z2V0TmV4dFRpY2soKShmdW5jdGlvbigpe3ZhciBkO3RyeXtkPXN5bmMoZSx0LG4sYSx1KX1jYXRjaCh3KXtyZXR1cm4gbyh3KX1vKG51bGwsZCl9KTtyZXR1cm59aWYoY2hlY2tQYXJhbWV0ZXJzKG4sYSksZT10b0J1ZmZlcihlLGRlZmF1bHRFbmNvZGluZywiUGFzc3dvcmQiKSx0PXRvQnVmZmVyKHQsZGVmYXVsdEVuY29kaW5nLCJTYWx0IiksdHlwZW9mIG8hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJObyBjYWxsYmFjayBwcm92aWRlZCB0byBwYmtkZjIiKTtyZXNvbHZlUHJvbWlzZShjaGVja05hdGl2ZShoKS50aGVuKGZ1bmN0aW9uKGQpe3JldHVybiBkP2Jyb3dzZXJQYmtkZjIoZSx0LG4sYSxoKTpzeW5jKGUsdCxuLGEsdSl9KSxvKX07YnJvd3NlciQ3LnBia2RmMj1hc3luYyxicm93c2VyJDcucGJrZGYyU3luYz1zeW5jQnJvd3Nlcjt2YXIgYnJvd3NlciQ2PXt9LGRlcyQyPXt9LHV0aWxzJHc9e307dXRpbHMkdy5yZWFkVUludDMyQkU9ZnVuY3Rpb24odCxuKXt2YXIgYT10WzArbl08PDI0fHRbMStuXTw8MTZ8dFsyK25dPDw4fHRbMytuXTtyZXR1cm4gYT4+PjB9LHV0aWxzJHcud3JpdGVVSW50MzJCRT1mdW5jdGlvbih0LG4sYSl7dFswK2FdPW4+Pj4yNCx0WzErYV09bj4+PjE2JjI1NSx0WzIrYV09bj4+PjgmMjU1LHRbMythXT1uJjI1NX0sdXRpbHMkdy5pcD1mdW5jdGlvbih0LG4sYSx1KXtmb3IodmFyIG89MCxoPTAsZD02O2Q+PTA7ZC09Mil7Zm9yKHZhciB3PTA7dzw9MjQ7dys9OClvPDw9MSxvfD1uPj4+dytkJjE7Zm9yKHZhciB3PTA7dzw9MjQ7dys9OClvPDw9MSxvfD10Pj4+dytkJjF9Zm9yKHZhciBkPTY7ZD49MDtkLT0yKXtmb3IodmFyIHc9MTt3PD0yNTt3Kz04KWg8PD0xLGh8PW4+Pj53K2QmMTtmb3IodmFyIHc9MTt3PD0yNTt3Kz04KWg8PD0xLGh8PXQ+Pj53K2QmMX1hW3UrMF09bz4+PjAsYVt1KzFdPWg+Pj4wfSx1dGlscyR3LnJpcD1mdW5jdGlvbih0LG4sYSx1KXtmb3IodmFyIG89MCxoPTAsZD0wO2Q8NDtkKyspZm9yKHZhciB3PTI0O3c+PTA7dy09OClvPDw9MSxvfD1uPj4+dytkJjEsbzw8PTEsb3w9dD4+PncrZCYxO2Zvcih2YXIgZD00O2Q8ODtkKyspZm9yKHZhciB3PTI0O3c+PTA7dy09OCloPDw9MSxofD1uPj4+dytkJjEsaDw8PTEsaHw9dD4+PncrZCYxO2FbdSswXT1vPj4+MCxhW3UrMV09aD4+PjB9LHV0aWxzJHcucGMxPWZ1bmN0aW9uKHQsbixhLHUpe2Zvcih2YXIgbz0wLGg9MCxkPTc7ZD49NTtkLS0pe2Zvcih2YXIgdz0wO3c8PTI0O3crPTgpbzw8PTEsb3w9bj4+dytkJjE7Zm9yKHZhciB3PTA7dzw9MjQ7dys9OClvPDw9MSxvfD10Pj53K2QmMX1mb3IodmFyIHc9MDt3PD0yNDt3Kz04KW88PD0xLG98PW4+PncrZCYxO2Zvcih2YXIgZD0xO2Q8PTM7ZCsrKXtmb3IodmFyIHc9MDt3PD0yNDt3Kz04KWg8PD0xLGh8PW4+PncrZCYxO2Zvcih2YXIgdz0wO3c8PTI0O3crPTgpaDw8PTEsaHw9dD4+dytkJjF9Zm9yKHZhciB3PTA7dzw9MjQ7dys9OCloPDw9MSxofD10Pj53K2QmMTthW3UrMF09bz4+PjAsYVt1KzFdPWg+Pj4wfSx1dGlscyR3LnIyOHNobD1mdW5jdGlvbih0LG4pe3JldHVybiB0PDxuJjI2ODQzNTQ1NXx0Pj4+Mjgtbn07dmFyIHBjMnRhYmxlPVsxNCwxMSwxNyw0LDI3LDIzLDI1LDAsMTMsMjIsNywxOCw1LDksMTYsMjQsMiwyMCwxMiwyMSwxLDgsMTUsMjYsMTUsNCwyNSwxOSw5LDEsMjYsMTYsNSwxMSwyMyw4LDEyLDcsMTcsMCwyMiwzLDEwLDE0LDYsMjAsMjcsMjRdO3V0aWxzJHcucGMyPWZ1bmN0aW9uKHQsbixhLHUpe2Zvcih2YXIgbz0wLGg9MCxkPXBjMnRhYmxlLmxlbmd0aD4+PjEsdz0wO3c8ZDt3Kyspbzw8PTEsb3w9dD4+PnBjMnRhYmxlW3ddJjE7Zm9yKHZhciB3PWQ7dzxwYzJ0YWJsZS5sZW5ndGg7dysrKWg8PD0xLGh8PW4+Pj5wYzJ0YWJsZVt3XSYxO2FbdSswXT1vPj4+MCxhW3UrMV09aD4+PjB9LHV0aWxzJHcuZXhwYW5kPWZ1bmN0aW9uKHQsbixhKXt2YXIgdT0wLG89MDt1PSh0JjEpPDw1fHQ+Pj4yNztmb3IodmFyIGg9MjM7aD49MTU7aC09NCl1PDw9Nix1fD10Pj4+aCY2Mztmb3IodmFyIGg9MTE7aD49MztoLT00KW98PXQ+Pj5oJjYzLG88PD02O298PSh0JjMxKTw8MXx0Pj4+MzEsblthKzBdPXU+Pj4wLG5bYSsxXT1vPj4+MH07dmFyIHNUYWJsZT1bMTQsMCw0LDE1LDEzLDcsMSw0LDIsMTQsMTUsMiwxMSwxMyw4LDEsMywxMCwxMCw2LDYsMTIsMTIsMTEsNSw5LDksNSwwLDMsNyw4LDQsMTUsMSwxMiwxNCw4LDgsMiwxMyw0LDYsOSwyLDEsMTEsNywxNSw1LDEyLDExLDksMyw3LDE0LDMsMTAsMTAsMCw1LDYsMCwxMywxNSwzLDEsMTMsOCw0LDE0LDcsNiwxNSwxMSwyLDMsOCw0LDE0LDksMTIsNywwLDIsMSwxMywxMCwxMiw2LDAsOSw1LDExLDEwLDUsMCwxMywxNCw4LDcsMTAsMTEsMSwxMCwzLDQsMTUsMTMsNCwxLDIsNSwxMSw4LDYsMTIsNyw2LDEyLDksMCwzLDUsMiwxNCwxNSw5LDEwLDEzLDAsNyw5LDAsMTQsOSw2LDMsMyw0LDE1LDYsNSwxMCwxLDIsMTMsOCwxMiw1LDcsMTQsMTEsMTIsNCwxMSwyLDE1LDgsMSwxMywxLDYsMTAsNCwxMyw5LDAsOCw2LDE1LDksMyw4LDAsNywxMSw0LDEsMTUsMiwxNCwxMiwzLDUsMTEsMTAsNSwxNCwyLDcsMTIsNywxMywxMyw4LDE0LDExLDMsNSwwLDYsNiwxNSw5LDAsMTAsMywxLDQsMiw3LDgsMiw1LDEyLDExLDEsMTIsMTAsNCwxNCwxNSw5LDEwLDMsNiwxNSw5LDAsMCw2LDEyLDEwLDExLDEsNywxMywxMyw4LDE1LDksMSw0LDMsNSwxNCwxMSw1LDEyLDIsNyw4LDIsNCwxNCwyLDE0LDEyLDExLDQsMiwxLDEyLDcsNCwxMCw3LDExLDEzLDYsMSw4LDUsNSwwLDMsMTUsMTUsMTAsMTMsMywwLDksMTQsOCw5LDYsNCwxMSwyLDgsMSwxMiwxMSw3LDEwLDEsMTMsMTQsNywyLDgsMTMsMTUsNiw5LDE1LDEyLDAsNSw5LDYsMTAsMyw0LDAsNSwxNCwzLDEyLDEwLDEsMTUsMTAsNCwxNSwyLDksNywyLDEyLDYsOSw4LDUsMCw2LDEzLDEsMywxMyw0LDE0LDE0LDAsNywxMSw1LDMsMTEsOCw5LDQsMTQsMywxNSwyLDUsMTIsMiw5LDgsNSwxMiwxNSwzLDEwLDcsMTEsMCwxNCw0LDEsMTAsNywxLDYsMTMsMCwxMSw4LDYsMTMsNCwxMywxMSwwLDIsMTEsMTQsNywxNSw0LDAsOSw4LDEsMTMsMTAsMywxNCwxMiwzLDksNSw3LDEyLDUsMiwxMCwxNSw2LDgsMSw2LDEsNiw0LDExLDExLDEzLDEzLDgsMTIsMSwzLDQsNywxMCwxNCw3LDEwLDksMTUsNSw2LDAsOCwxNSwwLDE0LDUsMiw5LDMsMiwxMiwxMywxLDIsMTUsOCwxMyw0LDgsNiwxMCwxNSwzLDExLDcsMSw0LDEwLDEyLDksNSwzLDYsMTQsMTEsNSwwLDAsMTQsMTIsOSw3LDIsNywyLDExLDEsNCwxNCwxLDcsOSw0LDEyLDEwLDE0LDgsMiwxMywwLDE1LDYsMTIsMTAsOSwxMywwLDE1LDMsMyw1LDUsNiw4LDExXTt1dGlscyR3LnN1YnN0aXR1dGU9ZnVuY3Rpb24odCxuKXtmb3IodmFyIGE9MCx1PTA7dTw0O3UrKyl7dmFyIG89dD4+PjE4LXUqNiY2MyxoPXNUYWJsZVt1KjY0K29dO2E8PD00LGF8PWh9Zm9yKHZhciB1PTA7dTw0O3UrKyl7dmFyIG89bj4+PjE4LXUqNiY2MyxoPXNUYWJsZVs0KjY0K3UqNjQrb107YTw8PTQsYXw9aH1yZXR1cm4gYT4+PjB9O3ZhciBwZXJtdXRlVGFibGU9WzE2LDI1LDEyLDExLDMsMjAsNCwxNSwzMSwxNyw5LDYsMjcsMTQsMSwyMiwzMCwyNCw4LDE4LDAsNSwyOSwyMywxMywxOSwyLDI2LDEwLDIxLDI4LDddO3V0aWxzJHcucGVybXV0ZT1mdW5jdGlvbih0KXtmb3IodmFyIG49MCxhPTA7YTxwZXJtdXRlVGFibGUubGVuZ3RoO2ErKyluPDw9MSxufD10Pj4+cGVybXV0ZVRhYmxlW2FdJjE7cmV0dXJuIG4+Pj4wfSx1dGlscyR3LnBhZFNwbGl0PWZ1bmN0aW9uKHQsbixhKXtmb3IodmFyIHU9dC50b1N0cmluZygyKTt1Lmxlbmd0aDxuOyl1PSIwIit1O2Zvcih2YXIgbz1bXSxoPTA7aDxuO2grPWEpby5wdXNoKHUuc2xpY2UoaCxoK2EpKTtyZXR1cm4gby5qb2luKCIgIil9O3ZhciBtaW5pbWFsaXN0aWNBc3NlcnQ9YXNzZXJ0JGo7ZnVuY3Rpb24gYXNzZXJ0JGooZSx0KXtpZighZSl0aHJvdyBuZXcgRXJyb3IodHx8IkFzc2VydGlvbiBmYWlsZWQiKX1hc3NlcnQkai5lcXVhbD1mdW5jdGlvbih0LG4sYSl7aWYodCE9bil0aHJvdyBuZXcgRXJyb3IoYXx8IkFzc2VydGlvbiBmYWlsZWQ6ICIrdCsiICE9ICIrbil9O3ZhciBhc3NlcnQkaT1taW5pbWFsaXN0aWNBc3NlcnQ7ZnVuY3Rpb24gQ2lwaGVyJDMoZSl7dGhpcy5vcHRpb25zPWUsdGhpcy50eXBlPXRoaXMub3B0aW9ucy50eXBlLHRoaXMuYmxvY2tTaXplPTgsdGhpcy5faW5pdCgpLHRoaXMuYnVmZmVyPW5ldyBBcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5idWZmZXJPZmY9MCx0aGlzLnBhZGRpbmc9ZS5wYWRkaW5nIT09ITF9dmFyIGNpcGhlcj1DaXBoZXIkMztDaXBoZXIkMy5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oKXt9LENpcGhlciQzLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPT09MD9bXTp0aGlzLnR5cGU9PT0iZGVjcnlwdCI/dGhpcy5fdXBkYXRlRGVjcnlwdCh0KTp0aGlzLl91cGRhdGVFbmNyeXB0KHQpfSxDaXBoZXIkMy5wcm90b3R5cGUuX2J1ZmZlcj1mdW5jdGlvbih0LG4pe2Zvcih2YXIgYT1NYXRoLm1pbih0aGlzLmJ1ZmZlci5sZW5ndGgtdGhpcy5idWZmZXJPZmYsdC5sZW5ndGgtbiksdT0wO3U8YTt1KyspdGhpcy5idWZmZXJbdGhpcy5idWZmZXJPZmYrdV09dFtuK3VdO3JldHVybiB0aGlzLmJ1ZmZlck9mZis9YSxhfSxDaXBoZXIkMy5wcm90b3R5cGUuX2ZsdXNoQnVmZmVyPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMuX3VwZGF0ZSh0aGlzLmJ1ZmZlciwwLHQsbiksdGhpcy5idWZmZXJPZmY9MCx0aGlzLmJsb2NrU2l6ZX0sQ2lwaGVyJDMucHJvdG90eXBlLl91cGRhdGVFbmNyeXB0PWZ1bmN0aW9uKHQpe3ZhciBuPTAsYT0wLHU9KHRoaXMuYnVmZmVyT2ZmK3QubGVuZ3RoKS90aGlzLmJsb2NrU2l6ZXwwLG89bmV3IEFycmF5KHUqdGhpcy5ibG9ja1NpemUpO3RoaXMuYnVmZmVyT2ZmIT09MCYmKG4rPXRoaXMuX2J1ZmZlcih0LG4pLHRoaXMuYnVmZmVyT2ZmPT09dGhpcy5idWZmZXIubGVuZ3RoJiYoYSs9dGhpcy5fZmx1c2hCdWZmZXIobyxhKSkpO2Zvcih2YXIgaD10Lmxlbmd0aC0odC5sZW5ndGgtbikldGhpcy5ibG9ja1NpemU7bjxoO24rPXRoaXMuYmxvY2tTaXplKXRoaXMuX3VwZGF0ZSh0LG4sbyxhKSxhKz10aGlzLmJsb2NrU2l6ZTtmb3IoO248dC5sZW5ndGg7bisrLHRoaXMuYnVmZmVyT2ZmKyspdGhpcy5idWZmZXJbdGhpcy5idWZmZXJPZmZdPXRbbl07cmV0dXJuIG99LENpcGhlciQzLnByb3RvdHlwZS5fdXBkYXRlRGVjcnlwdD1mdW5jdGlvbih0KXtmb3IodmFyIG49MCxhPTAsdT1NYXRoLmNlaWwoKHRoaXMuYnVmZmVyT2ZmK3QubGVuZ3RoKS90aGlzLmJsb2NrU2l6ZSktMSxvPW5ldyBBcnJheSh1KnRoaXMuYmxvY2tTaXplKTt1PjA7dS0tKW4rPXRoaXMuX2J1ZmZlcih0LG4pLGErPXRoaXMuX2ZsdXNoQnVmZmVyKG8sYSk7cmV0dXJuIG4rPXRoaXMuX2J1ZmZlcih0LG4pLG99LENpcGhlciQzLnByb3RvdHlwZS5maW5hbD1mdW5jdGlvbih0KXt2YXIgbjt0JiYobj10aGlzLnVwZGF0ZSh0KSk7dmFyIGE7cmV0dXJuIHRoaXMudHlwZT09PSJlbmNyeXB0Ij9hPXRoaXMuX2ZpbmFsRW5jcnlwdCgpOmE9dGhpcy5fZmluYWxEZWNyeXB0KCksbj9uLmNvbmNhdChhKTphfSxDaXBoZXIkMy5wcm90b3R5cGUuX3BhZD1mdW5jdGlvbih0LG4pe2lmKG49PT0wKXJldHVybiExO2Zvcig7bjx0Lmxlbmd0aDspdFtuKytdPTA7cmV0dXJuITB9LENpcGhlciQzLnByb3RvdHlwZS5fZmluYWxFbmNyeXB0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhZCh0aGlzLmJ1ZmZlcix0aGlzLmJ1ZmZlck9mZikpcmV0dXJuW107dmFyIHQ9bmV3IEFycmF5KHRoaXMuYmxvY2tTaXplKTtyZXR1cm4gdGhpcy5fdXBkYXRlKHRoaXMuYnVmZmVyLDAsdCwwKSx0fSxDaXBoZXIkMy5wcm90b3R5cGUuX3VucGFkPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxDaXBoZXIkMy5wcm90b3R5cGUuX2ZpbmFsRGVjcnlwdD1mdW5jdGlvbigpe2Fzc2VydCRpLmVxdWFsKHRoaXMuYnVmZmVyT2ZmLHRoaXMuYmxvY2tTaXplLCJOb3QgZW5vdWdoIGRhdGEgdG8gZGVjcnlwdCIpO3ZhciB0PW5ldyBBcnJheSh0aGlzLmJsb2NrU2l6ZSk7cmV0dXJuIHRoaXMuX2ZsdXNoQnVmZmVyKHQsMCksdGhpcy5fdW5wYWQodCl9O3ZhciBhc3NlcnQkaD1taW5pbWFsaXN0aWNBc3NlcnQsaW5oZXJpdHMkZD1pbmhlcml0c19icm93c2VyRXhwb3J0cyx1dGlscyR2PXV0aWxzJHcsQ2lwaGVyJDI9Y2lwaGVyO2Z1bmN0aW9uIERFU1N0YXRlKCl7dGhpcy50bXA9bmV3IEFycmF5KDIpLHRoaXMua2V5cz1udWxsfWZ1bmN0aW9uIERFUyQzKGUpe0NpcGhlciQyLmNhbGwodGhpcyxlKTt2YXIgdD1uZXcgREVTU3RhdGU7dGhpcy5fZGVzU3RhdGU9dCx0aGlzLmRlcml2ZUtleXModCxlLmtleSl9aW5oZXJpdHMkZChERVMkMyxDaXBoZXIkMik7dmFyIGRlcyQxPURFUyQzO0RFUyQzLmNyZWF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IERFUyQzKHQpfTt2YXIgc2hpZnRUYWJsZT1bMSwxLDIsMiwyLDIsMiwyLDEsMiwyLDIsMiwyLDIsMV07REVTJDMucHJvdG90eXBlLmRlcml2ZUtleXM9ZnVuY3Rpb24odCxuKXt0LmtleXM9bmV3IEFycmF5KDE2KjIpLGFzc2VydCRoLmVxdWFsKG4ubGVuZ3RoLHRoaXMuYmxvY2tTaXplLCJJbnZhbGlkIGtleSBsZW5ndGgiKTt2YXIgYT11dGlscyR2LnJlYWRVSW50MzJCRShuLDApLHU9dXRpbHMkdi5yZWFkVUludDMyQkUobiw0KTt1dGlscyR2LnBjMShhLHUsdC50bXAsMCksYT10LnRtcFswXSx1PXQudG1wWzFdO2Zvcih2YXIgbz0wO288dC5rZXlzLmxlbmd0aDtvKz0yKXt2YXIgaD1zaGlmdFRhYmxlW28+Pj4xXTthPXV0aWxzJHYucjI4c2hsKGEsaCksdT11dGlscyR2LnIyOHNobCh1LGgpLHV0aWxzJHYucGMyKGEsdSx0LmtleXMsbyl9fSxERVMkMy5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0LG4sYSx1KXt2YXIgbz10aGlzLl9kZXNTdGF0ZSxoPXV0aWxzJHYucmVhZFVJbnQzMkJFKHQsbiksZD11dGlscyR2LnJlYWRVSW50MzJCRSh0LG4rNCk7dXRpbHMkdi5pcChoLGQsby50bXAsMCksaD1vLnRtcFswXSxkPW8udG1wWzFdLHRoaXMudHlwZT09PSJlbmNyeXB0Ij90aGlzLl9lbmNyeXB0KG8saCxkLG8udG1wLDApOnRoaXMuX2RlY3J5cHQobyxoLGQsby50bXAsMCksaD1vLnRtcFswXSxkPW8udG1wWzFdLHV0aWxzJHYud3JpdGVVSW50MzJCRShhLGgsdSksdXRpbHMkdi53cml0ZVVJbnQzMkJFKGEsZCx1KzQpfSxERVMkMy5wcm90b3R5cGUuX3BhZD1mdW5jdGlvbih0LG4pe2lmKHRoaXMucGFkZGluZz09PSExKXJldHVybiExO2Zvcih2YXIgYT10Lmxlbmd0aC1uLHU9bjt1PHQubGVuZ3RoO3UrKyl0W3VdPWE7cmV0dXJuITB9LERFUyQzLnByb3RvdHlwZS5fdW5wYWQ9ZnVuY3Rpb24odCl7aWYodGhpcy5wYWRkaW5nPT09ITEpcmV0dXJuIHQ7Zm9yKHZhciBuPXRbdC5sZW5ndGgtMV0sYT10Lmxlbmd0aC1uO2E8dC5sZW5ndGg7YSsrKWFzc2VydCRoLmVxdWFsKHRbYV0sbik7cmV0dXJuIHQuc2xpY2UoMCx0Lmxlbmd0aC1uKX0sREVTJDMucHJvdG90eXBlLl9lbmNyeXB0PWZ1bmN0aW9uKHQsbixhLHUsbyl7Zm9yKHZhciBoPW4sZD1hLHc9MDt3PHQua2V5cy5sZW5ndGg7dys9Mil7dmFyIF89dC5rZXlzW3ddLGI9dC5rZXlzW3crMV07dXRpbHMkdi5leHBhbmQoZCx0LnRtcCwwKSxfXj10LnRtcFswXSxiXj10LnRtcFsxXTt2YXIgTT11dGlscyR2LnN1YnN0aXR1dGUoXyxiKSxPPXV0aWxzJHYucGVybXV0ZShNKSxUPWQ7ZD0oaF5PKT4+PjAsaD1UfXV0aWxzJHYucmlwKGQsaCx1LG8pfSxERVMkMy5wcm90b3R5cGUuX2RlY3J5cHQ9ZnVuY3Rpb24odCxuLGEsdSxvKXtmb3IodmFyIGg9YSxkPW4sdz10LmtleXMubGVuZ3RoLTI7dz49MDt3LT0yKXt2YXIgXz10LmtleXNbd10sYj10LmtleXNbdysxXTt1dGlscyR2LmV4cGFuZChoLHQudG1wLDApLF9ePXQudG1wWzBdLGJePXQudG1wWzFdO3ZhciBNPXV0aWxzJHYuc3Vic3RpdHV0ZShfLGIpLE89dXRpbHMkdi5wZXJtdXRlKE0pLFQ9aDtoPShkXk8pPj4+MCxkPVR9dXRpbHMkdi5yaXAoaCxkLHUsbyl9O3ZhciBjYmMkMT17fSxhc3NlcnQkZz1taW5pbWFsaXN0aWNBc3NlcnQsaW5oZXJpdHMkYz1pbmhlcml0c19icm93c2VyRXhwb3J0cyxwcm90bz17fTtmdW5jdGlvbiBDQkNTdGF0ZShlKXthc3NlcnQkZy5lcXVhbChlLmxlbmd0aCw4LCJJbnZhbGlkIElWIGxlbmd0aCIpLHRoaXMuaXY9bmV3IEFycmF5KDgpO2Zvcih2YXIgdD0wO3Q8dGhpcy5pdi5sZW5ndGg7dCsrKXRoaXMuaXZbdF09ZVt0XX1mdW5jdGlvbiBpbnN0YW50aWF0ZShlKXtmdW5jdGlvbiB0KG8pe2UuY2FsbCh0aGlzLG8pLHRoaXMuX2NiY0luaXQoKX1pbmhlcml0cyRjKHQsZSk7Zm9yKHZhciBuPU9iamVjdC5rZXlzKHByb3RvKSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciB1PW5bYV07dC5wcm90b3R5cGVbdV09cHJvdG9bdV19cmV0dXJuIHQuY3JlYXRlPWZ1bmN0aW9uKGgpe3JldHVybiBuZXcgdChoKX0sdH1jYmMkMS5pbnN0YW50aWF0ZT1pbnN0YW50aWF0ZSxwcm90by5fY2JjSW5pdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBDQkNTdGF0ZSh0aGlzLm9wdGlvbnMuaXYpO3RoaXMuX2NiY1N0YXRlPXR9LHByb3RvLl91cGRhdGU9ZnVuY3Rpb24odCxuLGEsdSl7dmFyIG89dGhpcy5fY2JjU3RhdGUsaD10aGlzLmNvbnN0cnVjdG9yLnN1cGVyXy5wcm90b3R5cGUsZD1vLml2O2lmKHRoaXMudHlwZT09PSJlbmNyeXB0Iil7Zm9yKHZhciB3PTA7dzx0aGlzLmJsb2NrU2l6ZTt3KyspZFt3XV49dFtuK3ddO2guX3VwZGF0ZS5jYWxsKHRoaXMsZCwwLGEsdSk7Zm9yKHZhciB3PTA7dzx0aGlzLmJsb2NrU2l6ZTt3KyspZFt3XT1hW3Urd119ZWxzZXtoLl91cGRhdGUuY2FsbCh0aGlzLHQsbixhLHUpO2Zvcih2YXIgdz0wO3c8dGhpcy5ibG9ja1NpemU7dysrKWFbdSt3XV49ZFt3XTtmb3IodmFyIHc9MDt3PHRoaXMuYmxvY2tTaXplO3crKylkW3ddPXRbbit3XX19O3ZhciBhc3NlcnQkZj1taW5pbWFsaXN0aWNBc3NlcnQsaW5oZXJpdHMkYj1pbmhlcml0c19icm93c2VyRXhwb3J0cyxDaXBoZXIkMT1jaXBoZXIsREVTJDI9ZGVzJDE7ZnVuY3Rpb24gRURFU3RhdGUoZSx0KXthc3NlcnQkZi5lcXVhbCh0Lmxlbmd0aCwyNCwiSW52YWxpZCBrZXkgbGVuZ3RoIik7dmFyIG49dC5zbGljZSgwLDgpLGE9dC5zbGljZSg4LDE2KSx1PXQuc2xpY2UoMTYsMjQpO2U9PT0iZW5jcnlwdCI/dGhpcy5jaXBoZXJzPVtERVMkMi5jcmVhdGUoe3R5cGU6ImVuY3J5cHQiLGtleTpufSksREVTJDIuY3JlYXRlKHt0eXBlOiJkZWNyeXB0IixrZXk6YX0pLERFUyQyLmNyZWF0ZSh7dHlwZToiZW5jcnlwdCIsa2V5OnV9KV06dGhpcy5jaXBoZXJzPVtERVMkMi5jcmVhdGUoe3R5cGU6ImRlY3J5cHQiLGtleTp1fSksREVTJDIuY3JlYXRlKHt0eXBlOiJlbmNyeXB0IixrZXk6YX0pLERFUyQyLmNyZWF0ZSh7dHlwZToiZGVjcnlwdCIsa2V5Om59KV19ZnVuY3Rpb24gRURFKGUpe0NpcGhlciQxLmNhbGwodGhpcyxlKTt2YXIgdD1uZXcgRURFU3RhdGUodGhpcy50eXBlLHRoaXMub3B0aW9ucy5rZXkpO3RoaXMuX2VkZVN0YXRlPXR9aW5oZXJpdHMkYihFREUsQ2lwaGVyJDEpO3ZhciBlZGU9RURFO0VERS5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBFREUodCl9LEVERS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0LG4sYSx1KXt2YXIgbz10aGlzLl9lZGVTdGF0ZTtvLmNpcGhlcnNbMF0uX3VwZGF0ZSh0LG4sYSx1KSxvLmNpcGhlcnNbMV0uX3VwZGF0ZShhLHUsYSx1KSxvLmNpcGhlcnNbMl0uX3VwZGF0ZShhLHUsYSx1KX0sRURFLnByb3RvdHlwZS5fcGFkPURFUyQyLnByb3RvdHlwZS5fcGFkLEVERS5wcm90b3R5cGUuX3VucGFkPURFUyQyLnByb3RvdHlwZS5fdW5wYWQsZGVzJDIudXRpbHM9dXRpbHMkdyxkZXMkMi5DaXBoZXI9Y2lwaGVyLGRlcyQyLkRFUz1kZXMkMSxkZXMkMi5DQkM9Y2JjJDEsZGVzJDIuRURFPWVkZTt2YXIgQ2lwaGVyQmFzZT1jaXBoZXJCYXNlLGRlcz1kZXMkMixpbmhlcml0cyRhPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLEJ1ZmZlciRqPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLG1vZGVzJDM9eyJkZXMtZWRlMy1jYmMiOmRlcy5DQkMuaW5zdGFudGlhdGUoZGVzLkVERSksImRlcy1lZGUzIjpkZXMuRURFLCJkZXMtZWRlLWNiYyI6ZGVzLkNCQy5pbnN0YW50aWF0ZShkZXMuRURFKSwiZGVzLWVkZSI6ZGVzLkVERSwiZGVzLWNiYyI6ZGVzLkNCQy5pbnN0YW50aWF0ZShkZXMuREVTKSwiZGVzLWVjYiI6ZGVzLkRFU307bW9kZXMkMy5kZXM9bW9kZXMkM1siZGVzLWNiYyJdLG1vZGVzJDMuZGVzMz1tb2RlcyQzWyJkZXMtZWRlMy1jYmMiXTt2YXIgYnJvd3NlcmlmeURlcz1ERVMkMTtpbmhlcml0cyRhKERFUyQxLENpcGhlckJhc2UpO2Z1bmN0aW9uIERFUyQxKGUpe0NpcGhlckJhc2UuY2FsbCh0aGlzKTt2YXIgdD1lLm1vZGUudG9Mb3dlckNhc2UoKSxuPW1vZGVzJDNbdF0sYTtlLmRlY3J5cHQ/YT0iZGVjcnlwdCI6YT0iZW5jcnlwdCI7dmFyIHU9ZS5rZXk7QnVmZmVyJGouaXNCdWZmZXIodSl8fCh1PUJ1ZmZlciRqLmZyb20odSkpLCh0PT09ImRlcy1lZGUifHx0PT09ImRlcy1lZGUtY2JjIikmJih1PUJ1ZmZlciRqLmNvbmNhdChbdSx1LnNsaWNlKDAsOCldKSk7dmFyIG89ZS5pdjtCdWZmZXIkai5pc0J1ZmZlcihvKXx8KG89QnVmZmVyJGouZnJvbShvKSksdGhpcy5fZGVzPW4uY3JlYXRlKHtrZXk6dSxpdjpvLHR5cGU6YX0pfURFUyQxLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBCdWZmZXIkai5mcm9tKHRoaXMuX2Rlcy51cGRhdGUoZSkpfSxERVMkMS5wcm90b3R5cGUuX2ZpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuIEJ1ZmZlciRqLmZyb20odGhpcy5fZGVzLmZpbmFsKCkpfTt2YXIgYnJvd3NlciQ1PXt9LGVuY3J5cHRlcj17fSxlY2I9e307ZWNiLmVuY3J5cHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fY2lwaGVyLmVuY3J5cHRCbG9jayh0KX0sZWNiLmRlY3J5cHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fY2lwaGVyLmRlY3J5cHRCbG9jayh0KX07dmFyIGNiYz17fSxidWZmZXJYb3I9ZnVuY3Rpb24odCxuKXtmb3IodmFyIGE9TWF0aC5taW4odC5sZW5ndGgsbi5sZW5ndGgpLHU9bmV3IGJ1ZmZlciQyLkJ1ZmZlcihhKSxvPTA7bzxhOysrbyl1W29dPXRbb11ebltvXTtyZXR1cm4gdX0seG9yJDc9YnVmZmVyWG9yO2NiYy5lbmNyeXB0PWZ1bmN0aW9uKGUsdCl7dmFyIG49eG9yJDcodCxlLl9wcmV2KTtyZXR1cm4gZS5fcHJldj1lLl9jaXBoZXIuZW5jcnlwdEJsb2NrKG4pLGUuX3ByZXZ9LGNiYy5kZWNyeXB0PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5fcHJldjtlLl9wcmV2PXQ7dmFyIGE9ZS5fY2lwaGVyLmRlY3J5cHRCbG9jayh0KTtyZXR1cm4geG9yJDcoYSxuKX07dmFyIGNmYj17fSxCdWZmZXIkaT1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcix4b3IkNj1idWZmZXJYb3I7ZnVuY3Rpb24gZW5jcnlwdFN0YXJ0KGUsdCxuKXt2YXIgYT10Lmxlbmd0aCx1PXhvciQ2KHQsZS5fY2FjaGUpO3JldHVybiBlLl9jYWNoZT1lLl9jYWNoZS5zbGljZShhKSxlLl9wcmV2PUJ1ZmZlciRpLmNvbmNhdChbZS5fcHJldixuP3Q6dV0pLHV9Y2ZiLmVuY3J5cHQ9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgYT1CdWZmZXIkaS5hbGxvY1Vuc2FmZSgwKSx1O3QubGVuZ3RoOylpZihlLl9jYWNoZS5sZW5ndGg9PT0wJiYoZS5fY2FjaGU9ZS5fY2lwaGVyLmVuY3J5cHRCbG9jayhlLl9wcmV2KSxlLl9wcmV2PUJ1ZmZlciRpLmFsbG9jVW5zYWZlKDApKSxlLl9jYWNoZS5sZW5ndGg8PXQubGVuZ3RoKXU9ZS5fY2FjaGUubGVuZ3RoLGE9QnVmZmVyJGkuY29uY2F0KFthLGVuY3J5cHRTdGFydChlLHQuc2xpY2UoMCx1KSxuKV0pLHQ9dC5zbGljZSh1KTtlbHNle2E9QnVmZmVyJGkuY29uY2F0KFthLGVuY3J5cHRTdGFydChlLHQsbildKTticmVha31yZXR1cm4gYX07dmFyIGNmYjg9e30sQnVmZmVyJGg9c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXI7ZnVuY3Rpb24gZW5jcnlwdEJ5dGUkMShlLHQsbil7dmFyIGE9ZS5fY2lwaGVyLmVuY3J5cHRCbG9jayhlLl9wcmV2KSx1PWFbMF1edDtyZXR1cm4gZS5fcHJldj1CdWZmZXIkaC5jb25jYXQoW2UuX3ByZXYuc2xpY2UoMSksQnVmZmVyJGguZnJvbShbbj90OnVdKV0pLHV9Y2ZiOC5lbmNyeXB0PWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGE9dC5sZW5ndGgsdT1CdWZmZXIkaC5hbGxvY1Vuc2FmZShhKSxvPS0xOysrbzxhOyl1W29dPWVuY3J5cHRCeXRlJDEoZSx0W29dLG4pO3JldHVybiB1fTt2YXIgY2ZiMT17fSxCdWZmZXIkZz1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcjtmdW5jdGlvbiBlbmNyeXB0Qnl0ZShlLHQsbil7Zm9yKHZhciBhLHU9LTEsbz04LGg9MCxkLHc7Kyt1PG87KWE9ZS5fY2lwaGVyLmVuY3J5cHRCbG9jayhlLl9wcmV2KSxkPXQmMTw8Ny11PzEyODowLHc9YVswXV5kLGgrPSh3JjEyOCk+PnUlOCxlLl9wcmV2PXNoaWZ0SW4oZS5fcHJldixuP2Q6dyk7cmV0dXJuIGh9ZnVuY3Rpb24gc2hpZnRJbihlLHQpe3ZhciBuPWUubGVuZ3RoLGE9LTEsdT1CdWZmZXIkZy5hbGxvY1Vuc2FmZShlLmxlbmd0aCk7Zm9yKGU9QnVmZmVyJGcuY29uY2F0KFtlLEJ1ZmZlciRnLmZyb20oW3RdKV0pOysrYTxuOyl1W2FdPWVbYV08PDF8ZVthKzFdPj43O3JldHVybiB1fWNmYjEuZW5jcnlwdD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBhPXQubGVuZ3RoLHU9QnVmZmVyJGcuYWxsb2NVbnNhZmUoYSksbz0tMTsrK288YTspdVtvXT1lbmNyeXB0Qnl0ZShlLHRbb10sbik7cmV0dXJuIHV9O3ZhciBvZmI9e30seG9yJDU9YnVmZmVyWG9yO2Z1bmN0aW9uIGdldEJsb2NrJDEoZSl7cmV0dXJuIGUuX3ByZXY9ZS5fY2lwaGVyLmVuY3J5cHRCbG9jayhlLl9wcmV2KSxlLl9wcmV2fW9mYi5lbmNyeXB0PWZ1bmN0aW9uKGUsdCl7Zm9yKDtlLl9jYWNoZS5sZW5ndGg8dC5sZW5ndGg7KWUuX2NhY2hlPWJ1ZmZlciQyLkJ1ZmZlci5jb25jYXQoW2UuX2NhY2hlLGdldEJsb2NrJDEoZSldKTt2YXIgbj1lLl9jYWNoZS5zbGljZSgwLHQubGVuZ3RoKTtyZXR1cm4gZS5fY2FjaGU9ZS5fY2FjaGUuc2xpY2UodC5sZW5ndGgpLHhvciQ1KHQsbil9O3ZhciBjdHI9e307ZnVuY3Rpb24gaW5jcjMyJDIoZSl7Zm9yKHZhciB0PWUubGVuZ3RoLG47dC0tOylpZihuPWUucmVhZFVJbnQ4KHQpLG49PT0yNTUpZS53cml0ZVVJbnQ4KDAsdCk7ZWxzZXtuKyssZS53cml0ZVVJbnQ4KG4sdCk7YnJlYWt9fXZhciBpbmNyMzJfMT1pbmNyMzIkMix4b3IkND1idWZmZXJYb3IsQnVmZmVyJGY9c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXIsaW5jcjMyJDE9aW5jcjMyXzE7ZnVuY3Rpb24gZ2V0QmxvY2soZSl7dmFyIHQ9ZS5fY2lwaGVyLmVuY3J5cHRCbG9ja1JhdyhlLl9wcmV2KTtyZXR1cm4gaW5jcjMyJDEoZS5fcHJldiksdH12YXIgYmxvY2tTaXplPTE2O2N0ci5lbmNyeXB0PWZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jZWlsKHQubGVuZ3RoL2Jsb2NrU2l6ZSksYT1lLl9jYWNoZS5sZW5ndGg7ZS5fY2FjaGU9QnVmZmVyJGYuY29uY2F0KFtlLl9jYWNoZSxCdWZmZXIkZi5hbGxvY1Vuc2FmZShuKmJsb2NrU2l6ZSldKTtmb3IodmFyIHU9MDt1PG47dSsrKXt2YXIgbz1nZXRCbG9jayhlKSxoPWErdSpibG9ja1NpemU7ZS5fY2FjaGUud3JpdGVVSW50MzJCRShvWzBdLGgrMCksZS5fY2FjaGUud3JpdGVVSW50MzJCRShvWzFdLGgrNCksZS5fY2FjaGUud3JpdGVVSW50MzJCRShvWzJdLGgrOCksZS5fY2FjaGUud3JpdGVVSW50MzJCRShvWzNdLGgrMTIpfXZhciBkPWUuX2NhY2hlLnNsaWNlKDAsdC5sZW5ndGgpO3JldHVybiBlLl9jYWNoZT1lLl9jYWNoZS5zbGljZSh0Lmxlbmd0aCkseG9yJDQodCxkKX07Y29uc3QgYWVzMTI4PXtjaXBoZXI6IkFFUyIsa2V5OjEyOCxpdjoxNixtb2RlOiJDQkMiLHR5cGU6ImJsb2NrIn0sYWVzMTkyPXtjaXBoZXI6IkFFUyIsa2V5OjE5MixpdjoxNixtb2RlOiJDQkMiLHR5cGU6ImJsb2NrIn0sYWVzMjU2PXtjaXBoZXI6IkFFUyIsa2V5OjI1NixpdjoxNixtb2RlOiJDQkMiLHR5cGU6ImJsb2NrIn07dmFyIHJlcXVpcmUkJDI9eyJhZXMtMTI4LWVjYiI6e2NpcGhlcjoiQUVTIixrZXk6MTI4LGl2OjAsbW9kZToiRUNCIix0eXBlOiJibG9jayJ9LCJhZXMtMTkyLWVjYiI6e2NpcGhlcjoiQUVTIixrZXk6MTkyLGl2OjAsbW9kZToiRUNCIix0eXBlOiJibG9jayJ9LCJhZXMtMjU2LWVjYiI6e2NpcGhlcjoiQUVTIixrZXk6MjU2LGl2OjAsbW9kZToiRUNCIix0eXBlOiJibG9jayJ9LCJhZXMtMTI4LWNiYyI6e2NpcGhlcjoiQUVTIixrZXk6MTI4LGl2OjE2LG1vZGU6IkNCQyIsdHlwZToiYmxvY2sifSwiYWVzLTE5Mi1jYmMiOntjaXBoZXI6IkFFUyIsa2V5OjE5MixpdjoxNixtb2RlOiJDQkMiLHR5cGU6ImJsb2NrIn0sImFlcy0yNTYtY2JjIjp7Y2lwaGVyOiJBRVMiLGtleToyNTYsaXY6MTYsbW9kZToiQ0JDIix0eXBlOiJibG9jayJ9LGFlczEyOCxhZXMxOTIsYWVzMjU2LCJhZXMtMTI4LWNmYiI6e2NpcGhlcjoiQUVTIixrZXk6MTI4LGl2OjE2LG1vZGU6IkNGQiIsdHlwZToic3RyZWFtIn0sImFlcy0xOTItY2ZiIjp7Y2lwaGVyOiJBRVMiLGtleToxOTIsaXY6MTYsbW9kZToiQ0ZCIix0eXBlOiJzdHJlYW0ifSwiYWVzLTI1Ni1jZmIiOntjaXBoZXI6IkFFUyIsa2V5OjI1NixpdjoxNixtb2RlOiJDRkIiLHR5cGU6InN0cmVhbSJ9LCJhZXMtMTI4LWNmYjgiOntjaXBoZXI6IkFFUyIsa2V5OjEyOCxpdjoxNixtb2RlOiJDRkI4Iix0eXBlOiJzdHJlYW0ifSwiYWVzLTE5Mi1jZmI4Ijp7Y2lwaGVyOiJBRVMiLGtleToxOTIsaXY6MTYsbW9kZToiQ0ZCOCIsdHlwZToic3RyZWFtIn0sImFlcy0yNTYtY2ZiOCI6e2NpcGhlcjoiQUVTIixrZXk6MjU2LGl2OjE2LG1vZGU6IkNGQjgiLHR5cGU6InN0cmVhbSJ9LCJhZXMtMTI4LWNmYjEiOntjaXBoZXI6IkFFUyIsa2V5OjEyOCxpdjoxNixtb2RlOiJDRkIxIix0eXBlOiJzdHJlYW0ifSwiYWVzLTE5Mi1jZmIxIjp7Y2lwaGVyOiJBRVMiLGtleToxOTIsaXY6MTYsbW9kZToiQ0ZCMSIsdHlwZToic3RyZWFtIn0sImFlcy0yNTYtY2ZiMSI6e2NpcGhlcjoiQUVTIixrZXk6MjU2LGl2OjE2LG1vZGU6IkNGQjEiLHR5cGU6InN0cmVhbSJ9LCJhZXMtMTI4LW9mYiI6e2NpcGhlcjoiQUVTIixrZXk6MTI4LGl2OjE2LG1vZGU6Ik9GQiIsdHlwZToic3RyZWFtIn0sImFlcy0xOTItb2ZiIjp7Y2lwaGVyOiJBRVMiLGtleToxOTIsaXY6MTYsbW9kZToiT0ZCIix0eXBlOiJzdHJlYW0ifSwiYWVzLTI1Ni1vZmIiOntjaXBoZXI6IkFFUyIsa2V5OjI1NixpdjoxNixtb2RlOiJPRkIiLHR5cGU6InN0cmVhbSJ9LCJhZXMtMTI4LWN0ciI6e2NpcGhlcjoiQUVTIixrZXk6MTI4LGl2OjE2LG1vZGU6IkNUUiIsdHlwZToic3RyZWFtIn0sImFlcy0xOTItY3RyIjp7Y2lwaGVyOiJBRVMiLGtleToxOTIsaXY6MTYsbW9kZToiQ1RSIix0eXBlOiJzdHJlYW0ifSwiYWVzLTI1Ni1jdHIiOntjaXBoZXI6IkFFUyIsa2V5OjI1NixpdjoxNixtb2RlOiJDVFIiLHR5cGU6InN0cmVhbSJ9LCJhZXMtMTI4LWdjbSI6e2NpcGhlcjoiQUVTIixrZXk6MTI4LGl2OjEyLG1vZGU6IkdDTSIsdHlwZToiYXV0aCJ9LCJhZXMtMTkyLWdjbSI6e2NpcGhlcjoiQUVTIixrZXk6MTkyLGl2OjEyLG1vZGU6IkdDTSIsdHlwZToiYXV0aCJ9LCJhZXMtMjU2LWdjbSI6e2NpcGhlcjoiQUVTIixrZXk6MjU2LGl2OjEyLG1vZGU6IkdDTSIsdHlwZToiYXV0aCJ9fSxtb2RlTW9kdWxlcz17RUNCOmVjYixDQkM6Y2JjLENGQjpjZmIsQ0ZCODpjZmI4LENGQjE6Y2ZiMSxPRkI6b2ZiLENUUjpjdHIsR0NNOmN0cn0sbW9kZXMkMj1yZXF1aXJlJCQyO2Zvcih2YXIga2V5JDIgaW4gbW9kZXMkMiltb2RlcyQyW2tleSQyXS5tb2R1bGU9bW9kZU1vZHVsZXNbbW9kZXMkMltrZXkkMl0ubW9kZV07dmFyIG1vZGVzXzE9bW9kZXMkMixhZXMkNT17fSxCdWZmZXIkZT1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcjtmdW5jdGlvbiBhc1VJbnQzMkFycmF5KGUpe0J1ZmZlciRlLmlzQnVmZmVyKGUpfHwoZT1CdWZmZXIkZS5mcm9tKGUpKTtmb3IodmFyIHQ9ZS5sZW5ndGgvNHwwLG49bmV3IEFycmF5KHQpLGE9MDthPHQ7YSsrKW5bYV09ZS5yZWFkVUludDMyQkUoYSo0KTtyZXR1cm4gbn1mdW5jdGlvbiBzY3J1YlZlYyhlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO2UrKyllW3RdPTB9ZnVuY3Rpb24gY3J5cHRCbG9jayhlLHQsbixhLHUpe2Zvcih2YXIgbz1uWzBdLGg9blsxXSxkPW5bMl0sdz1uWzNdLF89ZVswXV50WzBdLGI9ZVsxXV50WzFdLE09ZVsyXV50WzJdLE89ZVszXV50WzNdLFQsUCxMLHosSD00LFY9MTtWPHU7VisrKVQ9b1tfPj4+MjRdXmhbYj4+PjE2JjI1NV1eZFtNPj4+OCYyNTVdXndbTyYyNTVdXnRbSCsrXSxQPW9bYj4+PjI0XV5oW00+Pj4xNiYyNTVdXmRbTz4+PjgmMjU1XV53W18mMjU1XV50W0grK10sTD1vW00+Pj4yNF1eaFtPPj4+MTYmMjU1XV5kW18+Pj44JjI1NV1ed1tiJjI1NV1edFtIKytdLHo9b1tPPj4+MjRdXmhbXz4+PjE2JjI1NV1eZFtiPj4+OCYyNTVdXndbTSYyNTVdXnRbSCsrXSxfPVQsYj1QLE09TCxPPXo7cmV0dXJuIFQ9KGFbXz4+PjI0XTw8MjR8YVtiPj4+MTYmMjU1XTw8MTZ8YVtNPj4+OCYyNTVdPDw4fGFbTyYyNTVdKV50W0grK10sUD0oYVtiPj4+MjRdPDwyNHxhW00+Pj4xNiYyNTVdPDwxNnxhW08+Pj44JjI1NV08PDh8YVtfJjI1NV0pXnRbSCsrXSxMPShhW00+Pj4yNF08PDI0fGFbTz4+PjE2JjI1NV08PDE2fGFbXz4+PjgmMjU1XTw8OHxhW2ImMjU1XSledFtIKytdLHo9KGFbTz4+PjI0XTw8MjR8YVtfPj4+MTYmMjU1XTw8MTZ8YVtiPj4+OCYyNTVdPDw4fGFbTSYyNTVdKV50W0grK10sVD1UPj4+MCxQPVA+Pj4wLEw9TD4+PjAsej16Pj4+MCxbVCxQLEwsel19dmFyIFJDT049WzAsMSwyLDQsOCwxNiwzMiw2NCwxMjgsMjcsNTRdLEc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEFycmF5KDI1NiksdD0wO3Q8MjU2O3QrKyl0PDEyOD9lW3RdPXQ8PDE6ZVt0XT10PDwxXjI4Mztmb3IodmFyIG49W10sYT1bXSx1PVtbXSxbXSxbXSxbXV0sbz1bW10sW10sW10sW11dLGg9MCxkPTAsdz0wO3c8MjU2Oysrdyl7dmFyIF89ZF5kPDwxXmQ8PDJeZDw8M15kPDw0O189Xz4+PjheXyYyNTVeOTksbltoXT1fLGFbX109aDt2YXIgYj1lW2hdLE09ZVtiXSxPPWVbTV0sVD1lW19dKjI1N15fKjE2ODQzMDA4O3VbMF1baF09VDw8MjR8VD4+PjgsdVsxXVtoXT1UPDwxNnxUPj4+MTYsdVsyXVtoXT1UPDw4fFQ+Pj4yNCx1WzNdW2hdPVQsVD1PKjE2ODQzMDA5Xk0qNjU1MzdeYioyNTdeaCoxNjg0MzAwOCxvWzBdW19dPVQ8PDI0fFQ+Pj44LG9bMV1bX109VDw8MTZ8VD4+PjE2LG9bMl1bX109VDw8OHxUPj4+MjQsb1szXVtfXT1ULGg9PT0wP2g9ZD0xOihoPWJeZVtlW2VbT15iXV1dLGRePWVbZVtkXV0pfXJldHVybntTQk9YOm4sSU5WX1NCT1g6YSxTVUJfTUlYOnUsSU5WX1NVQl9NSVg6b319KCk7ZnVuY3Rpb24gQUVTKGUpe3RoaXMuX2tleT1hc1VJbnQzMkFycmF5KGUpLHRoaXMuX3Jlc2V0KCl9QUVTLmJsb2NrU2l6ZT00KjQsQUVTLmtleVNpemU9MjU2LzgsQUVTLnByb3RvdHlwZS5ibG9ja1NpemU9QUVTLmJsb2NrU2l6ZSxBRVMucHJvdG90eXBlLmtleVNpemU9QUVTLmtleVNpemUsQUVTLnByb3RvdHlwZS5fcmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fa2V5LHQ9ZS5sZW5ndGgsbj10KzYsYT0obisxKSo0LHU9W10sbz0wO288dDtvKyspdVtvXT1lW29dO2ZvcihvPXQ7bzxhO28rKyl7dmFyIGg9dVtvLTFdO28ldD09PTA/KGg9aDw8OHxoPj4+MjQsaD1HLlNCT1hbaD4+PjI0XTw8MjR8Ry5TQk9YW2g+Pj4xNiYyNTVdPDwxNnxHLlNCT1hbaD4+PjgmMjU1XTw8OHxHLlNCT1hbaCYyNTVdLGhePVJDT05bby90fDBdPDwyNCk6dD42JiZvJXQ9PT00JiYoaD1HLlNCT1hbaD4+PjI0XTw8MjR8Ry5TQk9YW2g+Pj4xNiYyNTVdPDwxNnxHLlNCT1hbaD4+PjgmMjU1XTw8OHxHLlNCT1hbaCYyNTVdKSx1W29dPXVbby10XV5ofWZvcih2YXIgZD1bXSx3PTA7dzxhO3crKyl7dmFyIF89YS13LGI9dVtfLSh3JTQ/MDo0KV07dzw0fHxfPD00P2Rbd109YjpkW3ddPUcuSU5WX1NVQl9NSVhbMF1bRy5TQk9YW2I+Pj4yNF1dXkcuSU5WX1NVQl9NSVhbMV1bRy5TQk9YW2I+Pj4xNiYyNTVdXV5HLklOVl9TVUJfTUlYWzJdW0cuU0JPWFtiPj4+OCYyNTVdXV5HLklOVl9TVUJfTUlYWzNdW0cuU0JPWFtiJjI1NV1dfXRoaXMuX25Sb3VuZHM9bix0aGlzLl9rZXlTY2hlZHVsZT11LHRoaXMuX2ludktleVNjaGVkdWxlPWR9LEFFUy5wcm90b3R5cGUuZW5jcnlwdEJsb2NrUmF3PWZ1bmN0aW9uKGUpe3JldHVybiBlPWFzVUludDMyQXJyYXkoZSksY3J5cHRCbG9jayhlLHRoaXMuX2tleVNjaGVkdWxlLEcuU1VCX01JWCxHLlNCT1gsdGhpcy5fblJvdW5kcyl9LEFFUy5wcm90b3R5cGUuZW5jcnlwdEJsb2NrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZW5jcnlwdEJsb2NrUmF3KGUpLG49QnVmZmVyJGUuYWxsb2NVbnNhZmUoMTYpO3JldHVybiBuLndyaXRlVUludDMyQkUodFswXSwwKSxuLndyaXRlVUludDMyQkUodFsxXSw0KSxuLndyaXRlVUludDMyQkUodFsyXSw4KSxuLndyaXRlVUludDMyQkUodFszXSwxMiksbn0sQUVTLnByb3RvdHlwZS5kZWNyeXB0QmxvY2s9ZnVuY3Rpb24oZSl7ZT1hc1VJbnQzMkFycmF5KGUpO3ZhciB0PWVbMV07ZVsxXT1lWzNdLGVbM109dDt2YXIgbj1jcnlwdEJsb2NrKGUsdGhpcy5faW52S2V5U2NoZWR1bGUsRy5JTlZfU1VCX01JWCxHLklOVl9TQk9YLHRoaXMuX25Sb3VuZHMpLGE9QnVmZmVyJGUuYWxsb2NVbnNhZmUoMTYpO3JldHVybiBhLndyaXRlVUludDMyQkUoblswXSwwKSxhLndyaXRlVUludDMyQkUoblszXSw0KSxhLndyaXRlVUludDMyQkUoblsyXSw4KSxhLndyaXRlVUludDMyQkUoblsxXSwxMiksYX0sQUVTLnByb3RvdHlwZS5zY3J1Yj1mdW5jdGlvbigpe3NjcnViVmVjKHRoaXMuX2tleVNjaGVkdWxlKSxzY3J1YlZlYyh0aGlzLl9pbnZLZXlTY2hlZHVsZSksc2NydWJWZWModGhpcy5fa2V5KX0sYWVzJDUuQUVTPUFFUzt2YXIgQnVmZmVyJGQ9c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXIsWkVST0VTPUJ1ZmZlciRkLmFsbG9jKDE2LDApO2Z1bmN0aW9uIHRvQXJyYXkkMihlKXtyZXR1cm5bZS5yZWFkVUludDMyQkUoMCksZS5yZWFkVUludDMyQkUoNCksZS5yZWFkVUludDMyQkUoOCksZS5yZWFkVUludDMyQkUoMTIpXX1mdW5jdGlvbiBmcm9tQXJyYXkoZSl7dmFyIHQ9QnVmZmVyJGQuYWxsb2NVbnNhZmUoMTYpO3JldHVybiB0LndyaXRlVUludDMyQkUoZVswXT4+PjAsMCksdC53cml0ZVVJbnQzMkJFKGVbMV0+Pj4wLDQpLHQud3JpdGVVSW50MzJCRShlWzJdPj4+MCw4KSx0LndyaXRlVUludDMyQkUoZVszXT4+PjAsMTIpLHR9ZnVuY3Rpb24gR0hBU0gkMShlKXt0aGlzLmg9ZSx0aGlzLnN0YXRlPUJ1ZmZlciRkLmFsbG9jKDE2LDApLHRoaXMuY2FjaGU9QnVmZmVyJGQuYWxsb2NVbnNhZmUoMCl9R0hBU0gkMS5wcm90b3R5cGUuZ2hhc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PS0xOysrdDxlLmxlbmd0aDspdGhpcy5zdGF0ZVt0XV49ZVt0XTt0aGlzLl9tdWx0aXBseSgpfSxHSEFTSCQxLnByb3RvdHlwZS5fbXVsdGlwbHk9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dG9BcnJheSQyKHRoaXMuaCksdD1bMCwwLDAsMF0sbixhLHUsbz0tMTsrK288MTI4Oyl7Zm9yKGE9KHRoaXMuc3RhdGVbfn4oby84KV0mMTw8Ny1vJTgpIT09MCxhJiYodFswXV49ZVswXSx0WzFdXj1lWzFdLHRbMl1ePWVbMl0sdFszXV49ZVszXSksdT0oZVszXSYxKSE9PTAsbj0zO24+MDtuLS0pZVtuXT1lW25dPj4+MXwoZVtuLTFdJjEpPDwzMTtlWzBdPWVbMF0+Pj4xLHUmJihlWzBdPWVbMF1eMjI1PDwyNCl9dGhpcy5zdGF0ZT1mcm9tQXJyYXkodCl9LEdIQVNIJDEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmNhY2hlPUJ1ZmZlciRkLmNvbmNhdChbdGhpcy5jYWNoZSxlXSk7Zm9yKHZhciB0O3RoaXMuY2FjaGUubGVuZ3RoPj0xNjspdD10aGlzLmNhY2hlLnNsaWNlKDAsMTYpLHRoaXMuY2FjaGU9dGhpcy5jYWNoZS5zbGljZSgxNiksdGhpcy5naGFzaCh0KX0sR0hBU0gkMS5wcm90b3R5cGUuZmluYWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jYWNoZS5sZW5ndGgmJnRoaXMuZ2hhc2goQnVmZmVyJGQuY29uY2F0KFt0aGlzLmNhY2hlLFpFUk9FU10sMTYpKSx0aGlzLmdoYXNoKGZyb21BcnJheShbMCxlLDAsdF0pKSx0aGlzLnN0YXRlfTt2YXIgZ2hhc2g9R0hBU0gkMSxhZXMkND1hZXMkNSxCdWZmZXIkYz1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixUcmFuc2Zvcm0kNT1jaXBoZXJCYXNlLGluaGVyaXRzJDk9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMsR0hBU0g9Z2hhc2gseG9yJDM9YnVmZmVyWG9yLGluY3IzMj1pbmNyMzJfMTtmdW5jdGlvbiB4b3JUZXN0KGUsdCl7dmFyIG49MDtlLmxlbmd0aCE9PXQubGVuZ3RoJiZuKys7Zm9yKHZhciBhPU1hdGgubWluKGUubGVuZ3RoLHQubGVuZ3RoKSx1PTA7dTxhOysrdSluKz1lW3VdXnRbdV07cmV0dXJuIG59ZnVuY3Rpb24gY2FsY0l2KGUsdCxuKXtpZih0Lmxlbmd0aD09PTEyKXJldHVybiBlLl9maW5JRD1CdWZmZXIkYy5jb25jYXQoW3QsQnVmZmVyJGMuZnJvbShbMCwwLDAsMV0pXSksQnVmZmVyJGMuY29uY2F0KFt0LEJ1ZmZlciRjLmZyb20oWzAsMCwwLDJdKV0pO3ZhciBhPW5ldyBHSEFTSChuKSx1PXQubGVuZ3RoLG89dSUxNjthLnVwZGF0ZSh0KSxvJiYobz0xNi1vLGEudXBkYXRlKEJ1ZmZlciRjLmFsbG9jKG8sMCkpKSxhLnVwZGF0ZShCdWZmZXIkYy5hbGxvYyg4LDApKTt2YXIgaD11KjgsZD1CdWZmZXIkYy5hbGxvYyg4KTtkLndyaXRlVUludEJFKGgsMCw4KSxhLnVwZGF0ZShkKSxlLl9maW5JRD1hLnN0YXRlO3ZhciB3PUJ1ZmZlciRjLmZyb20oZS5fZmluSUQpO3JldHVybiBpbmNyMzIodyksd31mdW5jdGlvbiBTdHJlYW1DaXBoZXIkMyhlLHQsbixhKXtUcmFuc2Zvcm0kNS5jYWxsKHRoaXMpO3ZhciB1PUJ1ZmZlciRjLmFsbG9jKDQsMCk7dGhpcy5fY2lwaGVyPW5ldyBhZXMkNC5BRVModCk7dmFyIG89dGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayh1KTt0aGlzLl9naGFzaD1uZXcgR0hBU0gobyksbj1jYWxjSXYodGhpcyxuLG8pLHRoaXMuX3ByZXY9QnVmZmVyJGMuZnJvbShuKSx0aGlzLl9jYWNoZT1CdWZmZXIkYy5hbGxvY1Vuc2FmZSgwKSx0aGlzLl9zZWNDYWNoZT1CdWZmZXIkYy5hbGxvY1Vuc2FmZSgwKSx0aGlzLl9kZWNyeXB0PWEsdGhpcy5fYWxlbj0wLHRoaXMuX2xlbj0wLHRoaXMuX21vZGU9ZSx0aGlzLl9hdXRoVGFnPW51bGwsdGhpcy5fY2FsbGVkPSExfWluaGVyaXRzJDkoU3RyZWFtQ2lwaGVyJDMsVHJhbnNmb3JtJDUpLFN0cmVhbUNpcGhlciQzLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLl9jYWxsZWQmJnRoaXMuX2FsZW4pe3ZhciB0PTE2LXRoaXMuX2FsZW4lMTY7dDwxNiYmKHQ9QnVmZmVyJGMuYWxsb2ModCwwKSx0aGlzLl9naGFzaC51cGRhdGUodCkpfXRoaXMuX2NhbGxlZD0hMDt2YXIgbj10aGlzLl9tb2RlLmVuY3J5cHQodGhpcyxlKTtyZXR1cm4gdGhpcy5fZGVjcnlwdD90aGlzLl9naGFzaC51cGRhdGUoZSk6dGhpcy5fZ2hhc2gudXBkYXRlKG4pLHRoaXMuX2xlbis9ZS5sZW5ndGgsbn0sU3RyZWFtQ2lwaGVyJDMucHJvdG90eXBlLl9maW5hbD1mdW5jdGlvbigpe2lmKHRoaXMuX2RlY3J5cHQmJiF0aGlzLl9hdXRoVGFnKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgc3RhdGUgb3IgdW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSBkYXRhIik7dmFyIGU9eG9yJDModGhpcy5fZ2hhc2guZmluYWwodGhpcy5fYWxlbio4LHRoaXMuX2xlbio4KSx0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHRoaXMuX2ZpbklEKSk7aWYodGhpcy5fZGVjcnlwdCYmeG9yVGVzdChlLHRoaXMuX2F1dGhUYWcpKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgc3RhdGUgb3IgdW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSBkYXRhIik7dGhpcy5fYXV0aFRhZz1lLHRoaXMuX2NpcGhlci5zY3J1YigpfSxTdHJlYW1DaXBoZXIkMy5wcm90b3R5cGUuZ2V0QXV0aFRhZz1mdW5jdGlvbigpe2lmKHRoaXMuX2RlY3J5cHR8fCFCdWZmZXIkYy5pc0J1ZmZlcih0aGlzLl9hdXRoVGFnKSl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRpbmcgdG8gZ2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlIik7cmV0dXJuIHRoaXMuX2F1dGhUYWd9LFN0cmVhbUNpcGhlciQzLnByb3RvdHlwZS5zZXRBdXRoVGFnPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9kZWNyeXB0KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGluZyB0byBzZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUiKTt0aGlzLl9hdXRoVGFnPXR9LFN0cmVhbUNpcGhlciQzLnByb3RvdHlwZS5zZXRBQUQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fY2FsbGVkKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGluZyB0byBzZXQgQUFEIGluIHVuc3VwcG9ydGVkIHN0YXRlIik7dGhpcy5fZ2hhc2gudXBkYXRlKHQpLHRoaXMuX2FsZW4rPXQubGVuZ3RofTt2YXIgYXV0aENpcGhlcj1TdHJlYW1DaXBoZXIkMyxhZXMkMz1hZXMkNSxCdWZmZXIkYj1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixUcmFuc2Zvcm0kND1jaXBoZXJCYXNlLGluaGVyaXRzJDg9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHM7ZnVuY3Rpb24gU3RyZWFtQ2lwaGVyJDIoZSx0LG4sYSl7VHJhbnNmb3JtJDQuY2FsbCh0aGlzKSx0aGlzLl9jaXBoZXI9bmV3IGFlcyQzLkFFUyh0KSx0aGlzLl9wcmV2PUJ1ZmZlciRiLmZyb20obiksdGhpcy5fY2FjaGU9QnVmZmVyJGIuYWxsb2NVbnNhZmUoMCksdGhpcy5fc2VjQ2FjaGU9QnVmZmVyJGIuYWxsb2NVbnNhZmUoMCksdGhpcy5fZGVjcnlwdD1hLHRoaXMuX21vZGU9ZX1pbmhlcml0cyQ4KFN0cmVhbUNpcGhlciQyLFRyYW5zZm9ybSQ0KSxTdHJlYW1DaXBoZXIkMi5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsZSx0aGlzLl9kZWNyeXB0KX0sU3RyZWFtQ2lwaGVyJDIucHJvdG90eXBlLl9maW5hbD1mdW5jdGlvbigpe3RoaXMuX2NpcGhlci5zY3J1YigpfTt2YXIgc3RyZWFtQ2lwaGVyPVN0cmVhbUNpcGhlciQyLEJ1ZmZlciRhPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLE1ENT1tZDVfanM7ZnVuY3Rpb24gRVZQX0J5dGVzVG9LZXkoZSx0LG4sYSl7aWYoQnVmZmVyJGEuaXNCdWZmZXIoZSl8fChlPUJ1ZmZlciRhLmZyb20oZSwiYmluYXJ5IikpLHQmJihCdWZmZXIkYS5pc0J1ZmZlcih0KXx8KHQ9QnVmZmVyJGEuZnJvbSh0LCJiaW5hcnkiKSksdC5sZW5ndGghPT04KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic2FsdCBzaG91bGQgYmUgQnVmZmVyIHdpdGggOCBieXRlIGxlbmd0aCIpO2Zvcih2YXIgdT1uLzgsbz1CdWZmZXIkYS5hbGxvYyh1KSxoPUJ1ZmZlciRhLmFsbG9jKGF8fDApLGQ9QnVmZmVyJGEuYWxsb2MoMCk7dT4wfHxhPjA7KXt2YXIgdz1uZXcgTUQ1O3cudXBkYXRlKGQpLHcudXBkYXRlKGUpLHQmJncudXBkYXRlKHQpLGQ9dy5kaWdlc3QoKTt2YXIgXz0wO2lmKHU+MCl7dmFyIGI9by5sZW5ndGgtdTtfPU1hdGgubWluKHUsZC5sZW5ndGgpLGQuY29weShvLGIsMCxfKSx1LT1ffWlmKF88ZC5sZW5ndGgmJmE+MCl7dmFyIE09aC5sZW5ndGgtYSxPPU1hdGgubWluKGEsZC5sZW5ndGgtXyk7ZC5jb3B5KGgsTSxfLF8rTyksYS09T319cmV0dXJuIGQuZmlsbCgwKSx7a2V5Om8saXY6aH19dmFyIGV2cF9ieXRlc3Rva2V5PUVWUF9CeXRlc1RvS2V5LE1PREVTJDE9bW9kZXNfMSxBdXRoQ2lwaGVyJDE9YXV0aENpcGhlcixCdWZmZXIkOT1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixTdHJlYW1DaXBoZXIkMT1zdHJlYW1DaXBoZXIsVHJhbnNmb3JtJDM9Y2lwaGVyQmFzZSxhZXMkMj1hZXMkNSxlYnRrJDI9ZXZwX2J5dGVzdG9rZXksaW5oZXJpdHMkNz1pbmhlcml0c19icm93c2VyRXhwb3J0cztmdW5jdGlvbiBDaXBoZXIoZSx0LG4pe1RyYW5zZm9ybSQzLmNhbGwodGhpcyksdGhpcy5fY2FjaGU9bmV3IFNwbGl0dGVyJDEsdGhpcy5fY2lwaGVyPW5ldyBhZXMkMi5BRVModCksdGhpcy5fcHJldj1CdWZmZXIkOS5mcm9tKG4pLHRoaXMuX21vZGU9ZSx0aGlzLl9hdXRvcGFkZGluZz0hMH1pbmhlcml0cyQ3KENpcGhlcixUcmFuc2Zvcm0kMyksQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlLmFkZChlKTtmb3IodmFyIHQsbixhPVtdO3Q9dGhpcy5fY2FjaGUuZ2V0KCk7KW49dGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsdCksYS5wdXNoKG4pO3JldHVybiBCdWZmZXIkOS5jb25jYXQoYSl9O3ZhciBQQURESU5HPUJ1ZmZlciQ5LmFsbG9jKDE2LDE2KTtDaXBoZXIucHJvdG90eXBlLl9maW5hbD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NhY2hlLmZsdXNoKCk7aWYodGhpcy5fYXV0b3BhZGRpbmcpcmV0dXJuIGU9dGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsZSksdGhpcy5fY2lwaGVyLnNjcnViKCksZTtpZighZS5lcXVhbHMoUEFERElORykpdGhyb3cgdGhpcy5fY2lwaGVyLnNjcnViKCksbmV3IEVycm9yKCJkYXRhIG5vdCBtdWx0aXBsZSBvZiBibG9jayBsZW5ndGgiKX0sQ2lwaGVyLnByb3RvdHlwZS5zZXRBdXRvUGFkZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXV0b3BhZGRpbmc9ISFlLHRoaXN9O2Z1bmN0aW9uIFNwbGl0dGVyJDEoKXt0aGlzLmNhY2hlPUJ1ZmZlciQ5LmFsbG9jVW5zYWZlKDApfVNwbGl0dGVyJDEucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt0aGlzLmNhY2hlPUJ1ZmZlciQ5LmNvbmNhdChbdGhpcy5jYWNoZSxlXSl9LFNwbGl0dGVyJDEucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe2lmKHRoaXMuY2FjaGUubGVuZ3RoPjE1KXt2YXIgZT10aGlzLmNhY2hlLnNsaWNlKDAsMTYpO3JldHVybiB0aGlzLmNhY2hlPXRoaXMuY2FjaGUuc2xpY2UoMTYpLGV9cmV0dXJuIG51bGx9LFNwbGl0dGVyJDEucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTE2LXRoaXMuY2FjaGUubGVuZ3RoLHQ9QnVmZmVyJDkuYWxsb2NVbnNhZmUoZSksbj0tMTsrK248ZTspdC53cml0ZVVJbnQ4KGUsbik7cmV0dXJuIEJ1ZmZlciQ5LmNvbmNhdChbdGhpcy5jYWNoZSx0XSl9O2Z1bmN0aW9uIGNyZWF0ZUNpcGhlcml2JDEoZSx0LG4pe3ZhciBhPU1PREVTJDFbZS50b0xvd2VyQ2FzZSgpXTtpZighYSl0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHN1aXRlIHR5cGUiKTtpZih0eXBlb2YgdD09InN0cmluZyImJih0PUJ1ZmZlciQ5LmZyb20odCkpLHQubGVuZ3RoIT09YS5rZXkvOCl0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIGtleSBsZW5ndGggIit0Lmxlbmd0aCk7aWYodHlwZW9mIG49PSJzdHJpbmciJiYobj1CdWZmZXIkOS5mcm9tKG4pKSxhLm1vZGUhPT0iR0NNIiYmbi5sZW5ndGghPT1hLml2KXRocm93IG5ldyBUeXBlRXJyb3IoImludmFsaWQgaXYgbGVuZ3RoICIrbi5sZW5ndGgpO3JldHVybiBhLnR5cGU9PT0ic3RyZWFtIj9uZXcgU3RyZWFtQ2lwaGVyJDEoYS5tb2R1bGUsdCxuKTphLnR5cGU9PT0iYXV0aCI/bmV3IEF1dGhDaXBoZXIkMShhLm1vZHVsZSx0LG4pOm5ldyBDaXBoZXIoYS5tb2R1bGUsdCxuKX1mdW5jdGlvbiBjcmVhdGVDaXBoZXIkMShlLHQpe3ZhciBuPU1PREVTJDFbZS50b0xvd2VyQ2FzZSgpXTtpZighbil0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHN1aXRlIHR5cGUiKTt2YXIgYT1lYnRrJDIodCwhMSxuLmtleSxuLml2KTtyZXR1cm4gY3JlYXRlQ2lwaGVyaXYkMShlLGEua2V5LGEuaXYpfWVuY3J5cHRlci5jcmVhdGVDaXBoZXJpdj1jcmVhdGVDaXBoZXJpdiQxLGVuY3J5cHRlci5jcmVhdGVDaXBoZXI9Y3JlYXRlQ2lwaGVyJDE7dmFyIGRlY3J5cHRlcj17fSxBdXRoQ2lwaGVyPWF1dGhDaXBoZXIsQnVmZmVyJDg9c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXIsTU9ERVM9bW9kZXNfMSxTdHJlYW1DaXBoZXI9c3RyZWFtQ2lwaGVyLFRyYW5zZm9ybSQyPWNpcGhlckJhc2UsYWVzJDE9YWVzJDUsZWJ0ayQxPWV2cF9ieXRlc3Rva2V5LGluaGVyaXRzJDY9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHM7ZnVuY3Rpb24gRGVjaXBoZXIoZSx0LG4pe1RyYW5zZm9ybSQyLmNhbGwodGhpcyksdGhpcy5fY2FjaGU9bmV3IFNwbGl0dGVyLHRoaXMuX2xhc3Q9dm9pZCAwLHRoaXMuX2NpcGhlcj1uZXcgYWVzJDEuQUVTKHQpLHRoaXMuX3ByZXY9QnVmZmVyJDguZnJvbShuKSx0aGlzLl9tb2RlPWUsdGhpcy5fYXV0b3BhZGRpbmc9ITB9aW5oZXJpdHMkNihEZWNpcGhlcixUcmFuc2Zvcm0kMiksRGVjaXBoZXIucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5fY2FjaGUuYWRkKGUpO2Zvcih2YXIgdCxuLGE9W107dD10aGlzLl9jYWNoZS5nZXQodGhpcy5fYXV0b3BhZGRpbmcpOyluPXRoaXMuX21vZGUuZGVjcnlwdCh0aGlzLHQpLGEucHVzaChuKTtyZXR1cm4gQnVmZmVyJDguY29uY2F0KGEpfSxEZWNpcGhlci5wcm90b3R5cGUuX2ZpbmFsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fY2FjaGUuZmx1c2goKTtpZih0aGlzLl9hdXRvcGFkZGluZylyZXR1cm4gdW5wYWQodGhpcy5fbW9kZS5kZWNyeXB0KHRoaXMsZSkpO2lmKGUpdGhyb3cgbmV3IEVycm9yKCJkYXRhIG5vdCBtdWx0aXBsZSBvZiBibG9jayBsZW5ndGgiKX0sRGVjaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hdXRvcGFkZGluZz0hIWUsdGhpc307ZnVuY3Rpb24gU3BsaXR0ZXIoKXt0aGlzLmNhY2hlPUJ1ZmZlciQ4LmFsbG9jVW5zYWZlKDApfVNwbGl0dGVyLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dGhpcy5jYWNoZT1CdWZmZXIkOC5jb25jYXQoW3RoaXMuY2FjaGUsZV0pfSxTcGxpdHRlci5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpe2lmKHRoaXMuY2FjaGUubGVuZ3RoPjE2KXJldHVybiB0PXRoaXMuY2FjaGUuc2xpY2UoMCwxNiksdGhpcy5jYWNoZT10aGlzLmNhY2hlLnNsaWNlKDE2KSx0fWVsc2UgaWYodGhpcy5jYWNoZS5sZW5ndGg+PTE2KXJldHVybiB0PXRoaXMuY2FjaGUuc2xpY2UoMCwxNiksdGhpcy5jYWNoZT10aGlzLmNhY2hlLnNsaWNlKDE2KSx0O3JldHVybiBudWxsfSxTcGxpdHRlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtpZih0aGlzLmNhY2hlLmxlbmd0aClyZXR1cm4gdGhpcy5jYWNoZX07ZnVuY3Rpb24gdW5wYWQoZSl7dmFyIHQ9ZVsxNV07aWYodDwxfHx0PjE2KXRocm93IG5ldyBFcnJvcigidW5hYmxlIHRvIGRlY3J5cHQgZGF0YSIpO2Zvcih2YXIgbj0tMTsrK248dDspaWYoZVtuKygxNi10KV0hPT10KXRocm93IG5ldyBFcnJvcigidW5hYmxlIHRvIGRlY3J5cHQgZGF0YSIpO2lmKHQhPT0xNilyZXR1cm4gZS5zbGljZSgwLDE2LXQpfWZ1bmN0aW9uIGNyZWF0ZURlY2lwaGVyaXYkMShlLHQsbil7dmFyIGE9TU9ERVNbZS50b0xvd2VyQ2FzZSgpXTtpZighYSl0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHN1aXRlIHR5cGUiKTtpZih0eXBlb2Ygbj09InN0cmluZyImJihuPUJ1ZmZlciQ4LmZyb20obikpLGEubW9kZSE9PSJHQ00iJiZuLmxlbmd0aCE9PWEuaXYpdGhyb3cgbmV3IFR5cGVFcnJvcigiaW52YWxpZCBpdiBsZW5ndGggIituLmxlbmd0aCk7aWYodHlwZW9mIHQ9PSJzdHJpbmciJiYodD1CdWZmZXIkOC5mcm9tKHQpKSx0Lmxlbmd0aCE9PWEua2V5LzgpdGhyb3cgbmV3IFR5cGVFcnJvcigiaW52YWxpZCBrZXkgbGVuZ3RoICIrdC5sZW5ndGgpO3JldHVybiBhLnR5cGU9PT0ic3RyZWFtIj9uZXcgU3RyZWFtQ2lwaGVyKGEubW9kdWxlLHQsbiwhMCk6YS50eXBlPT09ImF1dGgiP25ldyBBdXRoQ2lwaGVyKGEubW9kdWxlLHQsbiwhMCk6bmV3IERlY2lwaGVyKGEubW9kdWxlLHQsbil9ZnVuY3Rpb24gY3JlYXRlRGVjaXBoZXIkMShlLHQpe3ZhciBuPU1PREVTW2UudG9Mb3dlckNhc2UoKV07aWYoIW4pdGhyb3cgbmV3IFR5cGVFcnJvcigiaW52YWxpZCBzdWl0ZSB0eXBlIik7dmFyIGE9ZWJ0ayQxKHQsITEsbi5rZXksbi5pdik7cmV0dXJuIGNyZWF0ZURlY2lwaGVyaXYkMShlLGEua2V5LGEuaXYpfWRlY3J5cHRlci5jcmVhdGVEZWNpcGhlcj1jcmVhdGVEZWNpcGhlciQxLGRlY3J5cHRlci5jcmVhdGVEZWNpcGhlcml2PWNyZWF0ZURlY2lwaGVyaXYkMTt2YXIgY2lwaGVycyQyPWVuY3J5cHRlcixkZWNpcGhlcnM9ZGVjcnlwdGVyLG1vZGVzJDE9cmVxdWlyZSQkMjtmdW5jdGlvbiBnZXRDaXBoZXJzJDEoKXtyZXR1cm4gT2JqZWN0LmtleXMobW9kZXMkMSl9YnJvd3NlciQ1LmNyZWF0ZUNpcGhlcj1icm93c2VyJDUuQ2lwaGVyPWNpcGhlcnMkMi5jcmVhdGVDaXBoZXIsYnJvd3NlciQ1LmNyZWF0ZUNpcGhlcml2PWJyb3dzZXIkNS5DaXBoZXJpdj1jaXBoZXJzJDIuY3JlYXRlQ2lwaGVyaXYsYnJvd3NlciQ1LmNyZWF0ZURlY2lwaGVyPWJyb3dzZXIkNS5EZWNpcGhlcj1kZWNpcGhlcnMuY3JlYXRlRGVjaXBoZXIsYnJvd3NlciQ1LmNyZWF0ZURlY2lwaGVyaXY9YnJvd3NlciQ1LkRlY2lwaGVyaXY9ZGVjaXBoZXJzLmNyZWF0ZURlY2lwaGVyaXYsYnJvd3NlciQ1Lmxpc3RDaXBoZXJzPWJyb3dzZXIkNS5nZXRDaXBoZXJzPWdldENpcGhlcnMkMTt2YXIgbW9kZXM9e307KGZ1bmN0aW9uKGUpe2VbImRlcy1lY2IiXT17a2V5OjgsaXY6MH0sZVsiZGVzLWNiYyJdPWUuZGVzPXtrZXk6OCxpdjo4fSxlWyJkZXMtZWRlMy1jYmMiXT1lLmRlczM9e2tleToyNCxpdjo4fSxlWyJkZXMtZWRlMyJdPXtrZXk6MjQsaXY6MH0sZVsiZGVzLWVkZS1jYmMiXT17a2V5OjE2LGl2Ojh9LGVbImRlcy1lZGUiXT17a2V5OjE2LGl2OjB9fSkobW9kZXMpO3ZhciBERVM9YnJvd3NlcmlmeURlcyxhZXM9YnJvd3NlciQ1LGFlc01vZGVzPW1vZGVzXzEsZGVzTW9kZXM9bW9kZXMsZWJ0az1ldnBfYnl0ZXN0b2tleTtmdW5jdGlvbiBjcmVhdGVDaXBoZXIoZSx0KXtlPWUudG9Mb3dlckNhc2UoKTt2YXIgbixhO2lmKGFlc01vZGVzW2VdKW49YWVzTW9kZXNbZV0ua2V5LGE9YWVzTW9kZXNbZV0uaXY7ZWxzZSBpZihkZXNNb2Rlc1tlXSluPWRlc01vZGVzW2VdLmtleSo4LGE9ZGVzTW9kZXNbZV0uaXY7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHN1aXRlIHR5cGUiKTt2YXIgdT1lYnRrKHQsITEsbixhKTtyZXR1cm4gY3JlYXRlQ2lwaGVyaXYoZSx1LmtleSx1Lml2KX1mdW5jdGlvbiBjcmVhdGVEZWNpcGhlcihlLHQpe2U9ZS50b0xvd2VyQ2FzZSgpO3ZhciBuLGE7aWYoYWVzTW9kZXNbZV0pbj1hZXNNb2Rlc1tlXS5rZXksYT1hZXNNb2Rlc1tlXS5pdjtlbHNlIGlmKGRlc01vZGVzW2VdKW49ZGVzTW9kZXNbZV0ua2V5KjgsYT1kZXNNb2Rlc1tlXS5pdjtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoImludmFsaWQgc3VpdGUgdHlwZSIpO3ZhciB1PWVidGsodCwhMSxuLGEpO3JldHVybiBjcmVhdGVEZWNpcGhlcml2KGUsdS5rZXksdS5pdil9ZnVuY3Rpb24gY3JlYXRlQ2lwaGVyaXYoZSx0LG4pe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLGFlc01vZGVzW2VdKXJldHVybiBhZXMuY3JlYXRlQ2lwaGVyaXYoZSx0LG4pO2lmKGRlc01vZGVzW2VdKXJldHVybiBuZXcgREVTKHtrZXk6dCxpdjpuLG1vZGU6ZX0pO3Rocm93IG5ldyBUeXBlRXJyb3IoImludmFsaWQgc3VpdGUgdHlwZSIpfWZ1bmN0aW9uIGNyZWF0ZURlY2lwaGVyaXYoZSx0LG4pe2lmKGU9ZS50b0xvd2VyQ2FzZSgpLGFlc01vZGVzW2VdKXJldHVybiBhZXMuY3JlYXRlRGVjaXBoZXJpdihlLHQsbik7aWYoZGVzTW9kZXNbZV0pcmV0dXJuIG5ldyBERVMoe2tleTp0LGl2Om4sbW9kZTplLGRlY3J5cHQ6ITB9KTt0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHN1aXRlIHR5cGUiKX1mdW5jdGlvbiBnZXRDaXBoZXJzKCl7cmV0dXJuIE9iamVjdC5rZXlzKGRlc01vZGVzKS5jb25jYXQoYWVzLmdldENpcGhlcnMoKSl9YnJvd3NlciQ2LmNyZWF0ZUNpcGhlcj1icm93c2VyJDYuQ2lwaGVyPWNyZWF0ZUNpcGhlcixicm93c2VyJDYuY3JlYXRlQ2lwaGVyaXY9YnJvd3NlciQ2LkNpcGhlcml2PWNyZWF0ZUNpcGhlcml2LGJyb3dzZXIkNi5jcmVhdGVEZWNpcGhlcj1icm93c2VyJDYuRGVjaXBoZXI9Y3JlYXRlRGVjaXBoZXIsYnJvd3NlciQ2LmNyZWF0ZURlY2lwaGVyaXY9YnJvd3NlciQ2LkRlY2lwaGVyaXY9Y3JlYXRlRGVjaXBoZXJpdixicm93c2VyJDYubGlzdENpcGhlcnM9YnJvd3NlciQ2LmdldENpcGhlcnM9Z2V0Q2lwaGVyczt2YXIgYnJvd3NlciQ0PXt9LGJuJDI9e2V4cG9ydHM6e319O2JuJDIuZXhwb3J0cyxmdW5jdGlvbihlKXsoZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBhKFgsJCl7aWYoIVgpdGhyb3cgbmV3IEVycm9yKCR8fCJBc3NlcnRpb24gZmFpbGVkIil9ZnVuY3Rpb24gdShYLCQpe1guc3VwZXJfPSQ7dmFyIG09ZnVuY3Rpb24oKXt9O20ucHJvdG90eXBlPSQucHJvdG90eXBlLFgucHJvdG90eXBlPW5ldyBtLFgucHJvdG90eXBlLmNvbnN0cnVjdG9yPVh9ZnVuY3Rpb24gbyhYLCQsbSl7aWYoby5pc0JOKFgpKXJldHVybiBYO3RoaXMubmVnYXRpdmU9MCx0aGlzLndvcmRzPW51bGwsdGhpcy5sZW5ndGg9MCx0aGlzLnJlZD1udWxsLFghPT1udWxsJiYoKCQ9PT0ibGUifHwkPT09ImJlIikmJihtPSQsJD0xMCksdGhpcy5faW5pdChYfHwwLCR8fDEwLG18fCJiZSIpKX10eXBlb2YgdD09Im9iamVjdCI/dC5leHBvcnRzPW86bi5CTj1vLG8uQk49byxvLndvcmRTaXplPTI2O3ZhciBoO3RyeXt0eXBlb2Ygd2luZG93PCJ1IiYmdHlwZW9mIHdpbmRvdy5CdWZmZXI8InUiP2g9d2luZG93LkJ1ZmZlcjpoPWJ1ZmZlciQyLkJ1ZmZlcn1jYXRjaHt9by5pc0JOPWZ1bmN0aW9uKCQpe3JldHVybiAkIGluc3RhbmNlb2Ygbz8hMDokIT09bnVsbCYmdHlwZW9mICQ9PSJvYmplY3QiJiYkLmNvbnN0cnVjdG9yLndvcmRTaXplPT09by53b3JkU2l6ZSYmQXJyYXkuaXNBcnJheSgkLndvcmRzKX0sby5tYXg9ZnVuY3Rpb24oJCxtKXtyZXR1cm4gJC5jbXAobSk+MD8kOm19LG8ubWluPWZ1bmN0aW9uKCQsbSl7cmV0dXJuICQuY21wKG0pPDA/JDptfSxvLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbigkLG0sbCl7aWYodHlwZW9mICQ9PSJudW1iZXIiKXJldHVybiB0aGlzLl9pbml0TnVtYmVyKCQsbSxsKTtpZih0eXBlb2YgJD09Im9iamVjdCIpcmV0dXJuIHRoaXMuX2luaXRBcnJheSgkLG0sbCk7bT09PSJoZXgiJiYobT0xNiksYShtPT09KG18MCkmJm0+PTImJm08PTM2KSwkPSQudG9TdHJpbmcoKS5yZXBsYWNlKC9ccysvZywiIik7dmFyIHY9MDskWzBdPT09Ii0iJiYodisrLHRoaXMubmVnYXRpdmU9MSksdjwkLmxlbmd0aCYmKG09PT0xNj90aGlzLl9wYXJzZUhleCgkLHYsbCk6KHRoaXMuX3BhcnNlQmFzZSgkLG0sdiksbD09PSJsZSImJnRoaXMuX2luaXRBcnJheSh0aGlzLnRvQXJyYXkoKSxtLGwpKSl9LG8ucHJvdG90eXBlLl9pbml0TnVtYmVyPWZ1bmN0aW9uKCQsbSxsKXskPDAmJih0aGlzLm5lZ2F0aXZlPTEsJD0tJCksJDw2NzEwODg2ND8odGhpcy53b3Jkcz1bJCY2NzEwODg2M10sdGhpcy5sZW5ndGg9MSk6JDw0NTAzNTk5NjI3MzcwNDk2Pyh0aGlzLndvcmRzPVskJjY3MTA4ODYzLCQvNjcxMDg4NjQmNjcxMDg4NjNdLHRoaXMubGVuZ3RoPTIpOihhKCQ8OTAwNzE5OTI1NDc0MDk5MiksdGhpcy53b3Jkcz1bJCY2NzEwODg2MywkLzY3MTA4ODY0JjY3MTA4ODYzLDFdLHRoaXMubGVuZ3RoPTMpLGw9PT0ibGUiJiZ0aGlzLl9pbml0QXJyYXkodGhpcy50b0FycmF5KCksbSxsKX0sby5wcm90b3R5cGUuX2luaXRBcnJheT1mdW5jdGlvbigkLG0sbCl7aWYoYSh0eXBlb2YgJC5sZW5ndGg9PSJudW1iZXIiKSwkLmxlbmd0aDw9MClyZXR1cm4gdGhpcy53b3Jkcz1bMF0sdGhpcy5sZW5ndGg9MSx0aGlzO3RoaXMubGVuZ3RoPU1hdGguY2VpbCgkLmxlbmd0aC8zKSx0aGlzLndvcmRzPW5ldyBBcnJheSh0aGlzLmxlbmd0aCk7Zm9yKHZhciB2PTA7djx0aGlzLmxlbmd0aDt2KyspdGhpcy53b3Jkc1t2XT0wO3ZhciBFLFMsQj0wO2lmKGw9PT0iYmUiKWZvcih2PSQubGVuZ3RoLTEsRT0wO3Y+PTA7di09MylTPSRbdl18JFt2LTFdPDw4fCRbdi0yXTw8MTYsdGhpcy53b3Jkc1tFXXw9Uzw8QiY2NzEwODg2Myx0aGlzLndvcmRzW0UrMV09Uz4+PjI2LUImNjcxMDg4NjMsQis9MjQsQj49MjYmJihCLT0yNixFKyspO2Vsc2UgaWYobD09PSJsZSIpZm9yKHY9MCxFPTA7djwkLmxlbmd0aDt2Kz0zKVM9JFt2XXwkW3YrMV08PDh8JFt2KzJdPDwxNix0aGlzLndvcmRzW0VdfD1TPDxCJjY3MTA4ODYzLHRoaXMud29yZHNbRSsxXT1TPj4+MjYtQiY2NzEwODg2MyxCKz0yNCxCPj0yNiYmKEItPTI2LEUrKyk7cmV0dXJuIHRoaXMuc3RyaXAoKX07ZnVuY3Rpb24gZChYLCQpe3ZhciBtPVguY2hhckNvZGVBdCgkKTtyZXR1cm4gbT49NjUmJm08PTcwP20tNTU6bT49OTcmJm08PTEwMj9tLTg3Om0tNDgmMTV9ZnVuY3Rpb24gdyhYLCQsbSl7dmFyIGw9ZChYLG0pO3JldHVybiBtLTE+PSQmJihsfD1kKFgsbS0xKTw8NCksbH1vLnByb3RvdHlwZS5fcGFyc2VIZXg9ZnVuY3Rpb24oJCxtLGwpe3RoaXMubGVuZ3RoPU1hdGguY2VpbCgoJC5sZW5ndGgtbSkvNiksdGhpcy53b3Jkcz1uZXcgQXJyYXkodGhpcy5sZW5ndGgpO2Zvcih2YXIgdj0wO3Y8dGhpcy5sZW5ndGg7disrKXRoaXMud29yZHNbdl09MDt2YXIgRT0wLFM9MCxCO2lmKGw9PT0iYmUiKWZvcih2PSQubGVuZ3RoLTE7dj49bTt2LT0yKUI9dygkLG0sdik8PEUsdGhpcy53b3Jkc1tTXXw9QiY2NzEwODg2MyxFPj0xOD8oRS09MTgsUys9MSx0aGlzLndvcmRzW1NdfD1CPj4+MjYpOkUrPTg7ZWxzZXt2YXIgQT0kLmxlbmd0aC1tO2Zvcih2PUElMj09PTA/bSsxOm07djwkLmxlbmd0aDt2Kz0yKUI9dygkLG0sdik8PEUsdGhpcy53b3Jkc1tTXXw9QiY2NzEwODg2MyxFPj0xOD8oRS09MTgsUys9MSx0aGlzLndvcmRzW1NdfD1CPj4+MjYpOkUrPTh9dGhpcy5zdHJpcCgpfTtmdW5jdGlvbiBfKFgsJCxtLGwpe2Zvcih2YXIgdj0wLEU9TWF0aC5taW4oWC5sZW5ndGgsbSksUz0kO1M8RTtTKyspe3ZhciBCPVguY2hhckNvZGVBdChTKS00ODt2Kj1sLEI+PTQ5P3YrPUItNDkrMTA6Qj49MTc/dis9Qi0xNysxMDp2Kz1CfXJldHVybiB2fW8ucHJvdG90eXBlLl9wYXJzZUJhc2U9ZnVuY3Rpb24oJCxtLGwpe3RoaXMud29yZHM9WzBdLHRoaXMubGVuZ3RoPTE7Zm9yKHZhciB2PTAsRT0xO0U8PTY3MTA4ODYzO0UqPW0pdisrO3YtLSxFPUUvbXwwO2Zvcih2YXIgUz0kLmxlbmd0aC1sLEI9UyV2LEE9TWF0aC5taW4oUyxTLUIpK2wseT0wLHg9bDt4PEE7eCs9dil5PV8oJCx4LHgrdixtKSx0aGlzLmltdWxuKEUpLHRoaXMud29yZHNbMF0reTw2NzEwODg2ND90aGlzLndvcmRzWzBdKz15OnRoaXMuX2lhZGRuKHkpO2lmKEIhPT0wKXt2YXIgcD0xO2Zvcih5PV8oJCx4LCQubGVuZ3RoLG0pLHg9MDt4PEI7eCsrKXAqPW07dGhpcy5pbXVsbihwKSx0aGlzLndvcmRzWzBdK3k8NjcxMDg4NjQ/dGhpcy53b3Jkc1swXSs9eTp0aGlzLl9pYWRkbih5KX10aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oJCl7JC53b3Jkcz1uZXcgQXJyYXkodGhpcy5sZW5ndGgpO2Zvcih2YXIgbT0wO208dGhpcy5sZW5ndGg7bSsrKSQud29yZHNbbV09dGhpcy53b3Jkc1ttXTskLmxlbmd0aD10aGlzLmxlbmd0aCwkLm5lZ2F0aXZlPXRoaXMubmVnYXRpdmUsJC5yZWQ9dGhpcy5yZWR9LG8ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyICQ9bmV3IG8obnVsbCk7cmV0dXJuIHRoaXMuY29weSgkKSwkfSxvLnByb3RvdHlwZS5fZXhwYW5kPWZ1bmN0aW9uKCQpe2Zvcig7dGhpcy5sZW5ndGg8JDspdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCsrXT0wO3JldHVybiB0aGlzfSxvLnByb3RvdHlwZS5zdHJpcD1mdW5jdGlvbigpe2Zvcig7dGhpcy5sZW5ndGg+MSYmdGhpcy53b3Jkc1t0aGlzLmxlbmd0aC0xXT09PTA7KXRoaXMubGVuZ3RoLS07cmV0dXJuIHRoaXMuX25vcm1TaWduKCl9LG8ucHJvdG90eXBlLl9ub3JtU2lnbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD09PTEmJnRoaXMud29yZHNbMF09PT0wJiYodGhpcy5uZWdhdGl2ZT0wKSx0aGlzfSxvLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMucmVkPyI8Qk4tUjogIjoiPEJOOiAiKSt0aGlzLnRvU3RyaW5nKDE2KSsiPiJ9O3ZhciBiPVsiIiwiMCIsIjAwIiwiMDAwIiwiMDAwMCIsIjAwMDAwIiwiMDAwMDAwIiwiMDAwMDAwMCIsIjAwMDAwMDAwIiwiMDAwMDAwMDAwIiwiMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCJdLE09WzAsMCwyNSwxNiwxMiwxMSwxMCw5LDgsOCw3LDcsNyw3LDYsNiw2LDYsNiw2LDYsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNV0sTz1bMCwwLDMzNTU0NDMyLDQzMDQ2NzIxLDE2Nzc3MjE2LDQ4ODI4MTI1LDYwNDY2MTc2LDQwMzUzNjA3LDE2Nzc3MjE2LDQzMDQ2NzIxLDFlNywxOTQ4NzE3MSwzNTgzMTgwOCw2Mjc0ODUxNyw3NTI5NTM2LDExMzkwNjI1LDE2Nzc3MjE2LDI0MTM3NTY5LDM0MDEyMjI0LDQ3MDQ1ODgxLDY0ZTYsNDA4NDEwMSw1MTUzNjMyLDY0MzYzNDMsNzk2MjYyNCw5NzY1NjI1LDExODgxMzc2LDE0MzQ4OTA3LDE3MjEwMzY4LDIwNTExMTQ5LDI0M2U1LDI4NjI5MTUxLDMzNTU0NDMyLDM5MTM1MzkzLDQ1NDM1NDI0LDUyNTIxODc1LDYwNDY2MTc2XTtvLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigkLG0peyQ9JHx8MTAsbT1tfDB8fDE7dmFyIGw7aWYoJD09PTE2fHwkPT09ImhleCIpe2w9IiI7Zm9yKHZhciB2PTAsRT0wLFM9MDtTPHRoaXMubGVuZ3RoO1MrKyl7dmFyIEI9dGhpcy53b3Jkc1tTXSxBPSgoQjw8dnxFKSYxNjc3NzIxNSkudG9TdHJpbmcoMTYpO0U9Qj4+PjI0LXYmMTY3NzcyMTUsdis9Mix2Pj0yNiYmKHYtPTI2LFMtLSksRSE9PTB8fFMhPT10aGlzLmxlbmd0aC0xP2w9Yls2LUEubGVuZ3RoXStBK2w6bD1BK2x9Zm9yKEUhPT0wJiYobD1FLnRvU3RyaW5nKDE2KStsKTtsLmxlbmd0aCVtIT09MDspbD0iMCIrbDtyZXR1cm4gdGhpcy5uZWdhdGl2ZSE9PTAmJihsPSItIitsKSxsfWlmKCQ9PT0oJHwwKSYmJD49MiYmJDw9MzYpe3ZhciB5PU1bJF0seD1PWyRdO2w9IiI7dmFyIHA9dGhpcy5jbG9uZSgpO2ZvcihwLm5lZ2F0aXZlPTA7IXAuaXNaZXJvKCk7KXt2YXIgST1wLm1vZG4oeCkudG9TdHJpbmcoJCk7cD1wLmlkaXZuKHgpLHAuaXNaZXJvKCk/bD1JK2w6bD1iW3ktSS5sZW5ndGhdK0krbH1mb3IodGhpcy5pc1plcm8oKSYmKGw9IjAiK2wpO2wubGVuZ3RoJW0hPT0wOylsPSIwIitsO3JldHVybiB0aGlzLm5lZ2F0aXZlIT09MCYmKGw9Ii0iK2wpLGx9YSghMSwiQmFzZSBzaG91bGQgYmUgYmV0d2VlbiAyIGFuZCAzNiIpfSxvLnByb3RvdHlwZS50b051bWJlcj1mdW5jdGlvbigpe3ZhciAkPXRoaXMud29yZHNbMF07cmV0dXJuIHRoaXMubGVuZ3RoPT09Mj8kKz10aGlzLndvcmRzWzFdKjY3MTA4ODY0OnRoaXMubGVuZ3RoPT09MyYmdGhpcy53b3Jkc1syXT09PTE/JCs9NDUwMzU5OTYyNzM3MDQ5Nit0aGlzLndvcmRzWzFdKjY3MTA4ODY0OnRoaXMubGVuZ3RoPjImJmEoITEsIk51bWJlciBjYW4gb25seSBzYWZlbHkgc3RvcmUgdXAgdG8gNTMgYml0cyIpLHRoaXMubmVnYXRpdmUhPT0wPy0kOiR9LG8ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvU3RyaW5nKDE2KX0sby5wcm90b3R5cGUudG9CdWZmZXI9ZnVuY3Rpb24oJCxtKXtyZXR1cm4gYSh0eXBlb2YgaDwidSIpLHRoaXMudG9BcnJheUxpa2UoaCwkLG0pfSxvLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCQsbSl7cmV0dXJuIHRoaXMudG9BcnJheUxpa2UoQXJyYXksJCxtKX0sby5wcm90b3R5cGUudG9BcnJheUxpa2U9ZnVuY3Rpb24oJCxtLGwpe3ZhciB2PXRoaXMuYnl0ZUxlbmd0aCgpLEU9bHx8TWF0aC5tYXgoMSx2KTthKHY8PUUsImJ5dGUgYXJyYXkgbG9uZ2VyIHRoYW4gZGVzaXJlZCBsZW5ndGgiKSxhKEU+MCwiUmVxdWVzdGVkIGFycmF5IGxlbmd0aCA8PSAwIiksdGhpcy5zdHJpcCgpO3ZhciBTPW09PT0ibGUiLEI9bmV3ICQoRSksQSx5LHg9dGhpcy5jbG9uZSgpO2lmKFMpe2Zvcih5PTA7IXguaXNaZXJvKCk7eSsrKUE9eC5hbmRsbigyNTUpLHguaXVzaHJuKDgpLEJbeV09QTtmb3IoO3k8RTt5KyspQlt5XT0wfWVsc2V7Zm9yKHk9MDt5PEUtdjt5KyspQlt5XT0wO2Zvcih5PTA7IXguaXNaZXJvKCk7eSsrKUE9eC5hbmRsbigyNTUpLHguaXVzaHJuKDgpLEJbRS15LTFdPUF9cmV0dXJuIEJ9LE1hdGguY2x6MzI/by5wcm90b3R5cGUuX2NvdW50Qml0cz1mdW5jdGlvbigkKXtyZXR1cm4gMzItTWF0aC5jbHozMigkKX06by5wcm90b3R5cGUuX2NvdW50Qml0cz1mdW5jdGlvbigkKXt2YXIgbT0kLGw9MDtyZXR1cm4gbT49NDA5NiYmKGwrPTEzLG0+Pj49MTMpLG0+PTY0JiYobCs9NyxtPj4+PTcpLG0+PTgmJihsKz00LG0+Pj49NCksbT49MiYmKGwrPTIsbT4+Pj0yKSxsK219LG8ucHJvdG90eXBlLl96ZXJvQml0cz1mdW5jdGlvbigkKXtpZigkPT09MClyZXR1cm4gMjY7dmFyIG09JCxsPTA7cmV0dXJuIG0mODE5MXx8KGwrPTEzLG0+Pj49MTMpLG0mMTI3fHwobCs9NyxtPj4+PTcpLG0mMTV8fChsKz00LG0+Pj49NCksbSYzfHwobCs9MixtPj4+PTIpLG0mMXx8bCsrLGx9LG8ucHJvdG90eXBlLmJpdExlbmd0aD1mdW5jdGlvbigpe3ZhciAkPXRoaXMud29yZHNbdGhpcy5sZW5ndGgtMV0sbT10aGlzLl9jb3VudEJpdHMoJCk7cmV0dXJuKHRoaXMubGVuZ3RoLTEpKjI2K219O2Z1bmN0aW9uIFQoWCl7Zm9yKHZhciAkPW5ldyBBcnJheShYLmJpdExlbmd0aCgpKSxtPTA7bTwkLmxlbmd0aDttKyspe3ZhciBsPW0vMjZ8MCx2PW0lMjY7JFttXT0oWC53b3Jkc1tsXSYxPDx2KT4+PnZ9cmV0dXJuICR9by5wcm90b3R5cGUuemVyb0JpdHM9ZnVuY3Rpb24oKXtpZih0aGlzLmlzWmVybygpKXJldHVybiAwO2Zvcih2YXIgJD0wLG09MDttPHRoaXMubGVuZ3RoO20rKyl7dmFyIGw9dGhpcy5femVyb0JpdHModGhpcy53b3Jkc1ttXSk7aWYoJCs9bCxsIT09MjYpYnJlYWt9cmV0dXJuICR9LG8ucHJvdG90eXBlLmJ5dGVMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5jZWlsKHRoaXMuYml0TGVuZ3RoKCkvOCl9LG8ucHJvdG90eXBlLnRvVHdvcz1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5uZWdhdGl2ZSE9PTA/dGhpcy5hYnMoKS5pbm90bigkKS5pYWRkbigxKTp0aGlzLmNsb25lKCl9LG8ucHJvdG90eXBlLmZyb21Ud29zPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLnRlc3RuKCQtMSk/dGhpcy5ub3RuKCQpLmlhZGRuKDEpLmluZWcoKTp0aGlzLmNsb25lKCl9LG8ucHJvdG90eXBlLmlzTmVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVnYXRpdmUhPT0wfSxvLnByb3RvdHlwZS5uZWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmluZWcoKX0sby5wcm90b3R5cGUuaW5lZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzWmVybygpfHwodGhpcy5uZWdhdGl2ZV49MSksdGhpc30sby5wcm90b3R5cGUuaXVvcj1mdW5jdGlvbigkKXtmb3IoO3RoaXMubGVuZ3RoPCQubGVuZ3RoOyl0aGlzLndvcmRzW3RoaXMubGVuZ3RoKytdPTA7Zm9yKHZhciBtPTA7bTwkLmxlbmd0aDttKyspdGhpcy53b3Jkc1ttXT10aGlzLndvcmRzW21dfCQud29yZHNbbV07cmV0dXJuIHRoaXMuc3RyaXAoKX0sby5wcm90b3R5cGUuaW9yPWZ1bmN0aW9uKCQpe3JldHVybiBhKCh0aGlzLm5lZ2F0aXZlfCQubmVnYXRpdmUpPT09MCksdGhpcy5pdW9yKCQpfSxvLnByb3RvdHlwZS5vcj1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5sZW5ndGg+JC5sZW5ndGg/dGhpcy5jbG9uZSgpLmlvcigkKTokLmNsb25lKCkuaW9yKHRoaXMpfSxvLnByb3RvdHlwZS51b3I9ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMubGVuZ3RoPiQubGVuZ3RoP3RoaXMuY2xvbmUoKS5pdW9yKCQpOiQuY2xvbmUoKS5pdW9yKHRoaXMpfSxvLnByb3RvdHlwZS5pdWFuZD1mdW5jdGlvbigkKXt2YXIgbTt0aGlzLmxlbmd0aD4kLmxlbmd0aD9tPSQ6bT10aGlzO2Zvcih2YXIgbD0wO2w8bS5sZW5ndGg7bCsrKXRoaXMud29yZHNbbF09dGhpcy53b3Jkc1tsXSYkLndvcmRzW2xdO3JldHVybiB0aGlzLmxlbmd0aD1tLmxlbmd0aCx0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLmlhbmQ9ZnVuY3Rpb24oJCl7cmV0dXJuIGEoKHRoaXMubmVnYXRpdmV8JC5uZWdhdGl2ZSk9PT0wKSx0aGlzLml1YW5kKCQpfSxvLnByb3RvdHlwZS5hbmQ9ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMubGVuZ3RoPiQubGVuZ3RoP3RoaXMuY2xvbmUoKS5pYW5kKCQpOiQuY2xvbmUoKS5pYW5kKHRoaXMpfSxvLnByb3RvdHlwZS51YW5kPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmxlbmd0aD4kLmxlbmd0aD90aGlzLmNsb25lKCkuaXVhbmQoJCk6JC5jbG9uZSgpLml1YW5kKHRoaXMpfSxvLnByb3RvdHlwZS5pdXhvcj1mdW5jdGlvbigkKXt2YXIgbSxsO3RoaXMubGVuZ3RoPiQubGVuZ3RoPyhtPXRoaXMsbD0kKToobT0kLGw9dGhpcyk7Zm9yKHZhciB2PTA7djxsLmxlbmd0aDt2KyspdGhpcy53b3Jkc1t2XT1tLndvcmRzW3ZdXmwud29yZHNbdl07aWYodGhpcyE9PW0pZm9yKDt2PG0ubGVuZ3RoO3YrKyl0aGlzLndvcmRzW3ZdPW0ud29yZHNbdl07cmV0dXJuIHRoaXMubGVuZ3RoPW0ubGVuZ3RoLHRoaXMuc3RyaXAoKX0sby5wcm90b3R5cGUuaXhvcj1mdW5jdGlvbigkKXtyZXR1cm4gYSgodGhpcy5uZWdhdGl2ZXwkLm5lZ2F0aXZlKT09PTApLHRoaXMuaXV4b3IoJCl9LG8ucHJvdG90eXBlLnhvcj1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5sZW5ndGg+JC5sZW5ndGg/dGhpcy5jbG9uZSgpLml4b3IoJCk6JC5jbG9uZSgpLml4b3IodGhpcyl9LG8ucHJvdG90eXBlLnV4b3I9ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMubGVuZ3RoPiQubGVuZ3RoP3RoaXMuY2xvbmUoKS5pdXhvcigkKTokLmNsb25lKCkuaXV4b3IodGhpcyl9LG8ucHJvdG90eXBlLmlub3RuPWZ1bmN0aW9uKCQpe2EodHlwZW9mICQ9PSJudW1iZXIiJiYkPj0wKTt2YXIgbT1NYXRoLmNlaWwoJC8yNil8MCxsPSQlMjY7dGhpcy5fZXhwYW5kKG0pLGw+MCYmbS0tO2Zvcih2YXIgdj0wO3Y8bTt2KyspdGhpcy53b3Jkc1t2XT1+dGhpcy53b3Jkc1t2XSY2NzEwODg2MztyZXR1cm4gbD4wJiYodGhpcy53b3Jkc1t2XT1+dGhpcy53b3Jkc1t2XSY2NzEwODg2Mz4+MjYtbCksdGhpcy5zdHJpcCgpfSxvLnByb3RvdHlwZS5ub3RuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNsb25lKCkuaW5vdG4oJCl9LG8ucHJvdG90eXBlLnNldG49ZnVuY3Rpb24oJCxtKXthKHR5cGVvZiAkPT0ibnVtYmVyIiYmJD49MCk7dmFyIGw9JC8yNnwwLHY9JCUyNjtyZXR1cm4gdGhpcy5fZXhwYW5kKGwrMSksbT90aGlzLndvcmRzW2xdPXRoaXMud29yZHNbbF18MTw8djp0aGlzLndvcmRzW2xdPXRoaXMud29yZHNbbF0mfigxPDx2KSx0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLmlhZGQ9ZnVuY3Rpb24oJCl7dmFyIG07aWYodGhpcy5uZWdhdGl2ZSE9PTAmJiQubmVnYXRpdmU9PT0wKXJldHVybiB0aGlzLm5lZ2F0aXZlPTAsbT10aGlzLmlzdWIoJCksdGhpcy5uZWdhdGl2ZV49MSx0aGlzLl9ub3JtU2lnbigpO2lmKHRoaXMubmVnYXRpdmU9PT0wJiYkLm5lZ2F0aXZlIT09MClyZXR1cm4gJC5uZWdhdGl2ZT0wLG09dGhpcy5pc3ViKCQpLCQubmVnYXRpdmU9MSxtLl9ub3JtU2lnbigpO3ZhciBsLHY7dGhpcy5sZW5ndGg+JC5sZW5ndGg/KGw9dGhpcyx2PSQpOihsPSQsdj10aGlzKTtmb3IodmFyIEU9MCxTPTA7Uzx2Lmxlbmd0aDtTKyspbT0obC53b3Jkc1tTXXwwKSsodi53b3Jkc1tTXXwwKStFLHRoaXMud29yZHNbU109bSY2NzEwODg2MyxFPW0+Pj4yNjtmb3IoO0UhPT0wJiZTPGwubGVuZ3RoO1MrKyltPShsLndvcmRzW1NdfDApK0UsdGhpcy53b3Jkc1tTXT1tJjY3MTA4ODYzLEU9bT4+PjI2O2lmKHRoaXMubGVuZ3RoPWwubGVuZ3RoLEUhPT0wKXRoaXMud29yZHNbdGhpcy5sZW5ndGhdPUUsdGhpcy5sZW5ndGgrKztlbHNlIGlmKGwhPT10aGlzKWZvcig7UzxsLmxlbmd0aDtTKyspdGhpcy53b3Jkc1tTXT1sLndvcmRzW1NdO3JldHVybiB0aGlzfSxvLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oJCl7dmFyIG07cmV0dXJuICQubmVnYXRpdmUhPT0wJiZ0aGlzLm5lZ2F0aXZlPT09MD8oJC5uZWdhdGl2ZT0wLG09dGhpcy5zdWIoJCksJC5uZWdhdGl2ZV49MSxtKTokLm5lZ2F0aXZlPT09MCYmdGhpcy5uZWdhdGl2ZSE9PTA/KHRoaXMubmVnYXRpdmU9MCxtPSQuc3ViKHRoaXMpLHRoaXMubmVnYXRpdmU9MSxtKTp0aGlzLmxlbmd0aD4kLmxlbmd0aD90aGlzLmNsb25lKCkuaWFkZCgkKTokLmNsb25lKCkuaWFkZCh0aGlzKX0sby5wcm90b3R5cGUuaXN1Yj1mdW5jdGlvbigkKXtpZigkLm5lZ2F0aXZlIT09MCl7JC5uZWdhdGl2ZT0wO3ZhciBtPXRoaXMuaWFkZCgkKTtyZXR1cm4gJC5uZWdhdGl2ZT0xLG0uX25vcm1TaWduKCl9ZWxzZSBpZih0aGlzLm5lZ2F0aXZlIT09MClyZXR1cm4gdGhpcy5uZWdhdGl2ZT0wLHRoaXMuaWFkZCgkKSx0aGlzLm5lZ2F0aXZlPTEsdGhpcy5fbm9ybVNpZ24oKTt2YXIgbD10aGlzLmNtcCgkKTtpZihsPT09MClyZXR1cm4gdGhpcy5uZWdhdGl2ZT0wLHRoaXMubGVuZ3RoPTEsdGhpcy53b3Jkc1swXT0wLHRoaXM7dmFyIHYsRTtsPjA/KHY9dGhpcyxFPSQpOih2PSQsRT10aGlzKTtmb3IodmFyIFM9MCxCPTA7QjxFLmxlbmd0aDtCKyspbT0odi53b3Jkc1tCXXwwKS0oRS53b3Jkc1tCXXwwKStTLFM9bT4+MjYsdGhpcy53b3Jkc1tCXT1tJjY3MTA4ODYzO2Zvcig7UyE9PTAmJkI8di5sZW5ndGg7QisrKW09KHYud29yZHNbQl18MCkrUyxTPW0+PjI2LHRoaXMud29yZHNbQl09bSY2NzEwODg2MztpZihTPT09MCYmQjx2Lmxlbmd0aCYmdiE9PXRoaXMpZm9yKDtCPHYubGVuZ3RoO0IrKyl0aGlzLndvcmRzW0JdPXYud29yZHNbQl07cmV0dXJuIHRoaXMubGVuZ3RoPU1hdGgubWF4KHRoaXMubGVuZ3RoLEIpLHYhPT10aGlzJiYodGhpcy5uZWdhdGl2ZT0xKSx0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLnN1Yj1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmlzdWIoJCl9O2Z1bmN0aW9uIFAoWCwkLG0pe20ubmVnYXRpdmU9JC5uZWdhdGl2ZV5YLm5lZ2F0aXZlO3ZhciBsPVgubGVuZ3RoKyQubGVuZ3RofDA7bS5sZW5ndGg9bCxsPWwtMXwwO3ZhciB2PVgud29yZHNbMF18MCxFPSQud29yZHNbMF18MCxTPXYqRSxCPVMmNjcxMDg4NjMsQT1TLzY3MTA4ODY0fDA7bS53b3Jkc1swXT1CO2Zvcih2YXIgeT0xO3k8bDt5Kyspe2Zvcih2YXIgeD1BPj4+MjYscD1BJjY3MTA4ODYzLEk9TWF0aC5taW4oeSwkLmxlbmd0aC0xKSxlZT1NYXRoLm1heCgwLHktWC5sZW5ndGgrMSk7ZWU8PUk7ZWUrKyl7dmFyIGZlPXktZWV8MDt2PVgud29yZHNbZmVdfDAsRT0kLndvcmRzW2VlXXwwLFM9dipFK3AseCs9Uy82NzEwODg2NHwwLHA9UyY2NzEwODg2M31tLndvcmRzW3ldPXB8MCxBPXh8MH1yZXR1cm4gQSE9PTA/bS53b3Jkc1t5XT1BfDA6bS5sZW5ndGgtLSxtLnN0cmlwKCl9dmFyIEw9ZnVuY3Rpb24oJCxtLGwpe3ZhciB2PSQud29yZHMsRT1tLndvcmRzLFM9bC53b3JkcyxCPTAsQSx5LHgscD12WzBdfDAsST1wJjgxOTEsZWU9cD4+PjEzLGZlPXZbMV18MCxKPWZlJjgxOTEsaz1mZT4+PjEzLEQ9dlsyXXwwLGo9RCY4MTkxLHRlPUQ+Pj4xMyxVPXZbM118MCxGPVUmODE5MSx1ZT1VPj4+MTMscGU9dls0XXwwLF9lPXBlJjgxOTEsWT1wZT4+PjEzLE49dls1XXwwLEM9TiY4MTkxLFo9Tj4+PjEzLHNlPXZbNl18MCxkZT1zZSY4MTkxLG1lPXNlPj4+MTMsd2U9dls3XXwwLG5lPXdlJjgxOTEsaGU9d2U+Pj4xMyxiZT12WzhdfDAsdmU9YmUmODE5MSxFZT1iZT4+PjEzLHhlPXZbOV18MCxnZT14ZSY4MTkxLE5lPXhlPj4+MTMsU2U9RVswXXwwLCRlPVNlJjgxOTEsR2U9U2U+Pj4xMyxDZT1FWzFdfDAsTWU9Q2UmODE5MSxXZT1DZT4+PjEzLFBlPUVbMl18MCxBZT1QZSY4MTkxLFZlPVBlPj4+MTMscWU9RVszXXwwLEJlPXFlJjgxOTEsWGU9cWU+Pj4xMyxIZT1FWzRdfDAsUmU9SGUmODE5MSxZZT1IZT4+PjEzLFVlPUVbNV18MCxUZT1VZSY4MTkxLEplPVVlPj4+MTMsamU9RVs2XXwwLEllPWplJjgxOTEsUWU9amU+Pj4xMyx6ZT1FWzddfDAsT2U9emUmODE5MSxldD16ZT4+PjEzLFplPUVbOF18MCxrZT1aZSY4MTkxLHR0PVplPj4+MTMsS2U9RVs5XXwwLERlPUtlJjgxOTEscnQ9S2U+Pj4xMztsLm5lZ2F0aXZlPSQubmVnYXRpdmVebS5uZWdhdGl2ZSxsLmxlbmd0aD0xOSxBPU1hdGguaW11bChJLCRlKSx5PU1hdGguaW11bChJLEdlKSx5PXkrTWF0aC5pbXVsKGVlLCRlKXwwLHg9TWF0aC5pbXVsKGVlLEdlKTt2YXIgTGU9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKExlPj4+MjYpfDAsTGUmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKEosJGUpLHk9TWF0aC5pbXVsKEosR2UpLHk9eStNYXRoLmltdWwoaywkZSl8MCx4PU1hdGguaW11bChrLEdlKSxBPUErTWF0aC5pbXVsKEksTWUpfDAseT15K01hdGguaW11bChJLFdlKXwwLHk9eStNYXRoLmltdWwoZWUsTWUpfDAseD14K01hdGguaW11bChlZSxXZSl8MDt2YXIgRmU9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKEZlPj4+MjYpfDAsRmUmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKGosJGUpLHk9TWF0aC5pbXVsKGosR2UpLHk9eStNYXRoLmltdWwodGUsJGUpfDAseD1NYXRoLmltdWwodGUsR2UpLEE9QStNYXRoLmltdWwoSixNZSl8MCx5PXkrTWF0aC5pbXVsKEosV2UpfDAseT15K01hdGguaW11bChrLE1lKXwwLHg9eCtNYXRoLmltdWwoayxXZSl8MCxBPUErTWF0aC5pbXVsKEksQWUpfDAseT15K01hdGguaW11bChJLFZlKXwwLHk9eStNYXRoLmltdWwoZWUsQWUpfDAseD14K01hdGguaW11bChlZSxWZSl8MDt2YXIgaXQ9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKGl0Pj4+MjYpfDAsaXQmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKEYsJGUpLHk9TWF0aC5pbXVsKEYsR2UpLHk9eStNYXRoLmltdWwodWUsJGUpfDAseD1NYXRoLmltdWwodWUsR2UpLEE9QStNYXRoLmltdWwoaixNZSl8MCx5PXkrTWF0aC5pbXVsKGosV2UpfDAseT15K01hdGguaW11bCh0ZSxNZSl8MCx4PXgrTWF0aC5pbXVsKHRlLFdlKXwwLEE9QStNYXRoLmltdWwoSixBZSl8MCx5PXkrTWF0aC5pbXVsKEosVmUpfDAseT15K01hdGguaW11bChrLEFlKXwwLHg9eCtNYXRoLmltdWwoayxWZSl8MCxBPUErTWF0aC5pbXVsKEksQmUpfDAseT15K01hdGguaW11bChJLFhlKXwwLHk9eStNYXRoLmltdWwoZWUsQmUpfDAseD14K01hdGguaW11bChlZSxYZSl8MDt2YXIgbnQ9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKG50Pj4+MjYpfDAsbnQmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKF9lLCRlKSx5PU1hdGguaW11bChfZSxHZSkseT15K01hdGguaW11bChZLCRlKXwwLHg9TWF0aC5pbXVsKFksR2UpLEE9QStNYXRoLmltdWwoRixNZSl8MCx5PXkrTWF0aC5pbXVsKEYsV2UpfDAseT15K01hdGguaW11bCh1ZSxNZSl8MCx4PXgrTWF0aC5pbXVsKHVlLFdlKXwwLEE9QStNYXRoLmltdWwoaixBZSl8MCx5PXkrTWF0aC5pbXVsKGosVmUpfDAseT15K01hdGguaW11bCh0ZSxBZSl8MCx4PXgrTWF0aC5pbXVsKHRlLFZlKXwwLEE9QStNYXRoLmltdWwoSixCZSl8MCx5PXkrTWF0aC5pbXVsKEosWGUpfDAseT15K01hdGguaW11bChrLEJlKXwwLHg9eCtNYXRoLmltdWwoayxYZSl8MCxBPUErTWF0aC5pbXVsKEksUmUpfDAseT15K01hdGguaW11bChJLFllKXwwLHk9eStNYXRoLmltdWwoZWUsUmUpfDAseD14K01hdGguaW11bChlZSxZZSl8MDt2YXIgYXQ9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKGF0Pj4+MjYpfDAsYXQmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKEMsJGUpLHk9TWF0aC5pbXVsKEMsR2UpLHk9eStNYXRoLmltdWwoWiwkZSl8MCx4PU1hdGguaW11bChaLEdlKSxBPUErTWF0aC5pbXVsKF9lLE1lKXwwLHk9eStNYXRoLmltdWwoX2UsV2UpfDAseT15K01hdGguaW11bChZLE1lKXwwLHg9eCtNYXRoLmltdWwoWSxXZSl8MCxBPUErTWF0aC5pbXVsKEYsQWUpfDAseT15K01hdGguaW11bChGLFZlKXwwLHk9eStNYXRoLmltdWwodWUsQWUpfDAseD14K01hdGguaW11bCh1ZSxWZSl8MCxBPUErTWF0aC5pbXVsKGosQmUpfDAseT15K01hdGguaW11bChqLFhlKXwwLHk9eStNYXRoLmltdWwodGUsQmUpfDAseD14K01hdGguaW11bCh0ZSxYZSl8MCxBPUErTWF0aC5pbXVsKEosUmUpfDAseT15K01hdGguaW11bChKLFllKXwwLHk9eStNYXRoLmltdWwoayxSZSl8MCx4PXgrTWF0aC5pbXVsKGssWWUpfDAsQT1BK01hdGguaW11bChJLFRlKXwwLHk9eStNYXRoLmltdWwoSSxKZSl8MCx5PXkrTWF0aC5pbXVsKGVlLFRlKXwwLHg9eCtNYXRoLmltdWwoZWUsSmUpfDA7dmFyIG90PShCK0F8MCkrKCh5JjgxOTEpPDwxMyl8MDtCPSh4Kyh5Pj4+MTMpfDApKyhvdD4+PjI2KXwwLG90Jj02NzEwODg2MyxBPU1hdGguaW11bChkZSwkZSkseT1NYXRoLmltdWwoZGUsR2UpLHk9eStNYXRoLmltdWwobWUsJGUpfDAseD1NYXRoLmltdWwobWUsR2UpLEE9QStNYXRoLmltdWwoQyxNZSl8MCx5PXkrTWF0aC5pbXVsKEMsV2UpfDAseT15K01hdGguaW11bChaLE1lKXwwLHg9eCtNYXRoLmltdWwoWixXZSl8MCxBPUErTWF0aC5pbXVsKF9lLEFlKXwwLHk9eStNYXRoLmltdWwoX2UsVmUpfDAseT15K01hdGguaW11bChZLEFlKXwwLHg9eCtNYXRoLmltdWwoWSxWZSl8MCxBPUErTWF0aC5pbXVsKEYsQmUpfDAseT15K01hdGguaW11bChGLFhlKXwwLHk9eStNYXRoLmltdWwodWUsQmUpfDAseD14K01hdGguaW11bCh1ZSxYZSl8MCxBPUErTWF0aC5pbXVsKGosUmUpfDAseT15K01hdGguaW11bChqLFllKXwwLHk9eStNYXRoLmltdWwodGUsUmUpfDAseD14K01hdGguaW11bCh0ZSxZZSl8MCxBPUErTWF0aC5pbXVsKEosVGUpfDAseT15K01hdGguaW11bChKLEplKXwwLHk9eStNYXRoLmltdWwoayxUZSl8MCx4PXgrTWF0aC5pbXVsKGssSmUpfDAsQT1BK01hdGguaW11bChJLEllKXwwLHk9eStNYXRoLmltdWwoSSxRZSl8MCx5PXkrTWF0aC5pbXVsKGVlLEllKXwwLHg9eCtNYXRoLmltdWwoZWUsUWUpfDA7dmFyIHN0PShCK0F8MCkrKCh5JjgxOTEpPDwxMyl8MDtCPSh4Kyh5Pj4+MTMpfDApKyhzdD4+PjI2KXwwLHN0Jj02NzEwODg2MyxBPU1hdGguaW11bChuZSwkZSkseT1NYXRoLmltdWwobmUsR2UpLHk9eStNYXRoLmltdWwoaGUsJGUpfDAseD1NYXRoLmltdWwoaGUsR2UpLEE9QStNYXRoLmltdWwoZGUsTWUpfDAseT15K01hdGguaW11bChkZSxXZSl8MCx5PXkrTWF0aC5pbXVsKG1lLE1lKXwwLHg9eCtNYXRoLmltdWwobWUsV2UpfDAsQT1BK01hdGguaW11bChDLEFlKXwwLHk9eStNYXRoLmltdWwoQyxWZSl8MCx5PXkrTWF0aC5pbXVsKFosQWUpfDAseD14K01hdGguaW11bChaLFZlKXwwLEE9QStNYXRoLmltdWwoX2UsQmUpfDAseT15K01hdGguaW11bChfZSxYZSl8MCx5PXkrTWF0aC5pbXVsKFksQmUpfDAseD14K01hdGguaW11bChZLFhlKXwwLEE9QStNYXRoLmltdWwoRixSZSl8MCx5PXkrTWF0aC5pbXVsKEYsWWUpfDAseT15K01hdGguaW11bCh1ZSxSZSl8MCx4PXgrTWF0aC5pbXVsKHVlLFllKXwwLEE9QStNYXRoLmltdWwoaixUZSl8MCx5PXkrTWF0aC5pbXVsKGosSmUpfDAseT15K01hdGguaW11bCh0ZSxUZSl8MCx4PXgrTWF0aC5pbXVsKHRlLEplKXwwLEE9QStNYXRoLmltdWwoSixJZSl8MCx5PXkrTWF0aC5pbXVsKEosUWUpfDAseT15K01hdGguaW11bChrLEllKXwwLHg9eCtNYXRoLmltdWwoayxRZSl8MCxBPUErTWF0aC5pbXVsKEksT2UpfDAseT15K01hdGguaW11bChJLGV0KXwwLHk9eStNYXRoLmltdWwoZWUsT2UpfDAseD14K01hdGguaW11bChlZSxldCl8MDt2YXIgdXQ9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKHV0Pj4+MjYpfDAsdXQmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKHZlLCRlKSx5PU1hdGguaW11bCh2ZSxHZSkseT15K01hdGguaW11bChFZSwkZSl8MCx4PU1hdGguaW11bChFZSxHZSksQT1BK01hdGguaW11bChuZSxNZSl8MCx5PXkrTWF0aC5pbXVsKG5lLFdlKXwwLHk9eStNYXRoLmltdWwoaGUsTWUpfDAseD14K01hdGguaW11bChoZSxXZSl8MCxBPUErTWF0aC5pbXVsKGRlLEFlKXwwLHk9eStNYXRoLmltdWwoZGUsVmUpfDAseT15K01hdGguaW11bChtZSxBZSl8MCx4PXgrTWF0aC5pbXVsKG1lLFZlKXwwLEE9QStNYXRoLmltdWwoQyxCZSl8MCx5PXkrTWF0aC5pbXVsKEMsWGUpfDAseT15K01hdGguaW11bChaLEJlKXwwLHg9eCtNYXRoLmltdWwoWixYZSl8MCxBPUErTWF0aC5pbXVsKF9lLFJlKXwwLHk9eStNYXRoLmltdWwoX2UsWWUpfDAseT15K01hdGguaW11bChZLFJlKXwwLHg9eCtNYXRoLmltdWwoWSxZZSl8MCxBPUErTWF0aC5pbXVsKEYsVGUpfDAseT15K01hdGguaW11bChGLEplKXwwLHk9eStNYXRoLmltdWwodWUsVGUpfDAseD14K01hdGguaW11bCh1ZSxKZSl8MCxBPUErTWF0aC5pbXVsKGosSWUpfDAseT15K01hdGguaW11bChqLFFlKXwwLHk9eStNYXRoLmltdWwodGUsSWUpfDAseD14K01hdGguaW11bCh0ZSxRZSl8MCxBPUErTWF0aC5pbXVsKEosT2UpfDAseT15K01hdGguaW11bChKLGV0KXwwLHk9eStNYXRoLmltdWwoayxPZSl8MCx4PXgrTWF0aC5pbXVsKGssZXQpfDAsQT1BK01hdGguaW11bChJLGtlKXwwLHk9eStNYXRoLmltdWwoSSx0dCl8MCx5PXkrTWF0aC5pbXVsKGVlLGtlKXwwLHg9eCtNYXRoLmltdWwoZWUsdHQpfDA7dmFyIGx0PShCK0F8MCkrKCh5JjgxOTEpPDwxMyl8MDtCPSh4Kyh5Pj4+MTMpfDApKyhsdD4+PjI2KXwwLGx0Jj02NzEwODg2MyxBPU1hdGguaW11bChnZSwkZSkseT1NYXRoLmltdWwoZ2UsR2UpLHk9eStNYXRoLmltdWwoTmUsJGUpfDAseD1NYXRoLmltdWwoTmUsR2UpLEE9QStNYXRoLmltdWwodmUsTWUpfDAseT15K01hdGguaW11bCh2ZSxXZSl8MCx5PXkrTWF0aC5pbXVsKEVlLE1lKXwwLHg9eCtNYXRoLmltdWwoRWUsV2UpfDAsQT1BK01hdGguaW11bChuZSxBZSl8MCx5PXkrTWF0aC5pbXVsKG5lLFZlKXwwLHk9eStNYXRoLmltdWwoaGUsQWUpfDAseD14K01hdGguaW11bChoZSxWZSl8MCxBPUErTWF0aC5pbXVsKGRlLEJlKXwwLHk9eStNYXRoLmltdWwoZGUsWGUpfDAseT15K01hdGguaW11bChtZSxCZSl8MCx4PXgrTWF0aC5pbXVsKG1lLFhlKXwwLEE9QStNYXRoLmltdWwoQyxSZSl8MCx5PXkrTWF0aC5pbXVsKEMsWWUpfDAseT15K01hdGguaW11bChaLFJlKXwwLHg9eCtNYXRoLmltdWwoWixZZSl8MCxBPUErTWF0aC5pbXVsKF9lLFRlKXwwLHk9eStNYXRoLmltdWwoX2UsSmUpfDAseT15K01hdGguaW11bChZLFRlKXwwLHg9eCtNYXRoLmltdWwoWSxKZSl8MCxBPUErTWF0aC5pbXVsKEYsSWUpfDAseT15K01hdGguaW11bChGLFFlKXwwLHk9eStNYXRoLmltdWwodWUsSWUpfDAseD14K01hdGguaW11bCh1ZSxRZSl8MCxBPUErTWF0aC5pbXVsKGosT2UpfDAseT15K01hdGguaW11bChqLGV0KXwwLHk9eStNYXRoLmltdWwodGUsT2UpfDAseD14K01hdGguaW11bCh0ZSxldCl8MCxBPUErTWF0aC5pbXVsKEosa2UpfDAseT15K01hdGguaW11bChKLHR0KXwwLHk9eStNYXRoLmltdWwoayxrZSl8MCx4PXgrTWF0aC5pbXVsKGssdHQpfDAsQT1BK01hdGguaW11bChJLERlKXwwLHk9eStNYXRoLmltdWwoSSxydCl8MCx5PXkrTWF0aC5pbXVsKGVlLERlKXwwLHg9eCtNYXRoLmltdWwoZWUscnQpfDA7dmFyIGh0PShCK0F8MCkrKCh5JjgxOTEpPDwxMyl8MDtCPSh4Kyh5Pj4+MTMpfDApKyhodD4+PjI2KXwwLGh0Jj02NzEwODg2MyxBPU1hdGguaW11bChnZSxNZSkseT1NYXRoLmltdWwoZ2UsV2UpLHk9eStNYXRoLmltdWwoTmUsTWUpfDAseD1NYXRoLmltdWwoTmUsV2UpLEE9QStNYXRoLmltdWwodmUsQWUpfDAseT15K01hdGguaW11bCh2ZSxWZSl8MCx5PXkrTWF0aC5pbXVsKEVlLEFlKXwwLHg9eCtNYXRoLmltdWwoRWUsVmUpfDAsQT1BK01hdGguaW11bChuZSxCZSl8MCx5PXkrTWF0aC5pbXVsKG5lLFhlKXwwLHk9eStNYXRoLmltdWwoaGUsQmUpfDAseD14K01hdGguaW11bChoZSxYZSl8MCxBPUErTWF0aC5pbXVsKGRlLFJlKXwwLHk9eStNYXRoLmltdWwoZGUsWWUpfDAseT15K01hdGguaW11bChtZSxSZSl8MCx4PXgrTWF0aC5pbXVsKG1lLFllKXwwLEE9QStNYXRoLmltdWwoQyxUZSl8MCx5PXkrTWF0aC5pbXVsKEMsSmUpfDAseT15K01hdGguaW11bChaLFRlKXwwLHg9eCtNYXRoLmltdWwoWixKZSl8MCxBPUErTWF0aC5pbXVsKF9lLEllKXwwLHk9eStNYXRoLmltdWwoX2UsUWUpfDAseT15K01hdGguaW11bChZLEllKXwwLHg9eCtNYXRoLmltdWwoWSxRZSl8MCxBPUErTWF0aC5pbXVsKEYsT2UpfDAseT15K01hdGguaW11bChGLGV0KXwwLHk9eStNYXRoLmltdWwodWUsT2UpfDAseD14K01hdGguaW11bCh1ZSxldCl8MCxBPUErTWF0aC5pbXVsKGosa2UpfDAseT15K01hdGguaW11bChqLHR0KXwwLHk9eStNYXRoLmltdWwodGUsa2UpfDAseD14K01hdGguaW11bCh0ZSx0dCl8MCxBPUErTWF0aC5pbXVsKEosRGUpfDAseT15K01hdGguaW11bChKLHJ0KXwwLHk9eStNYXRoLmltdWwoayxEZSl8MCx4PXgrTWF0aC5pbXVsKGsscnQpfDA7dmFyIGN0PShCK0F8MCkrKCh5JjgxOTEpPDwxMyl8MDtCPSh4Kyh5Pj4+MTMpfDApKyhjdD4+PjI2KXwwLGN0Jj02NzEwODg2MyxBPU1hdGguaW11bChnZSxBZSkseT1NYXRoLmltdWwoZ2UsVmUpLHk9eStNYXRoLmltdWwoTmUsQWUpfDAseD1NYXRoLmltdWwoTmUsVmUpLEE9QStNYXRoLmltdWwodmUsQmUpfDAseT15K01hdGguaW11bCh2ZSxYZSl8MCx5PXkrTWF0aC5pbXVsKEVlLEJlKXwwLHg9eCtNYXRoLmltdWwoRWUsWGUpfDAsQT1BK01hdGguaW11bChuZSxSZSl8MCx5PXkrTWF0aC5pbXVsKG5lLFllKXwwLHk9eStNYXRoLmltdWwoaGUsUmUpfDAseD14K01hdGguaW11bChoZSxZZSl8MCxBPUErTWF0aC5pbXVsKGRlLFRlKXwwLHk9eStNYXRoLmltdWwoZGUsSmUpfDAseT15K01hdGguaW11bChtZSxUZSl8MCx4PXgrTWF0aC5pbXVsKG1lLEplKXwwLEE9QStNYXRoLmltdWwoQyxJZSl8MCx5PXkrTWF0aC5pbXVsKEMsUWUpfDAseT15K01hdGguaW11bChaLEllKXwwLHg9eCtNYXRoLmltdWwoWixRZSl8MCxBPUErTWF0aC5pbXVsKF9lLE9lKXwwLHk9eStNYXRoLmltdWwoX2UsZXQpfDAseT15K01hdGguaW11bChZLE9lKXwwLHg9eCtNYXRoLmltdWwoWSxldCl8MCxBPUErTWF0aC5pbXVsKEYsa2UpfDAseT15K01hdGguaW11bChGLHR0KXwwLHk9eStNYXRoLmltdWwodWUsa2UpfDAseD14K01hdGguaW11bCh1ZSx0dCl8MCxBPUErTWF0aC5pbXVsKGosRGUpfDAseT15K01hdGguaW11bChqLHJ0KXwwLHk9eStNYXRoLmltdWwodGUsRGUpfDAseD14K01hdGguaW11bCh0ZSxydCl8MDt2YXIgZHQ9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKGR0Pj4+MjYpfDAsZHQmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKGdlLEJlKSx5PU1hdGguaW11bChnZSxYZSkseT15K01hdGguaW11bChOZSxCZSl8MCx4PU1hdGguaW11bChOZSxYZSksQT1BK01hdGguaW11bCh2ZSxSZSl8MCx5PXkrTWF0aC5pbXVsKHZlLFllKXwwLHk9eStNYXRoLmltdWwoRWUsUmUpfDAseD14K01hdGguaW11bChFZSxZZSl8MCxBPUErTWF0aC5pbXVsKG5lLFRlKXwwLHk9eStNYXRoLmltdWwobmUsSmUpfDAseT15K01hdGguaW11bChoZSxUZSl8MCx4PXgrTWF0aC5pbXVsKGhlLEplKXwwLEE9QStNYXRoLmltdWwoZGUsSWUpfDAseT15K01hdGguaW11bChkZSxRZSl8MCx5PXkrTWF0aC5pbXVsKG1lLEllKXwwLHg9eCtNYXRoLmltdWwobWUsUWUpfDAsQT1BK01hdGguaW11bChDLE9lKXwwLHk9eStNYXRoLmltdWwoQyxldCl8MCx5PXkrTWF0aC5pbXVsKFosT2UpfDAseD14K01hdGguaW11bChaLGV0KXwwLEE9QStNYXRoLmltdWwoX2Usa2UpfDAseT15K01hdGguaW11bChfZSx0dCl8MCx5PXkrTWF0aC5pbXVsKFksa2UpfDAseD14K01hdGguaW11bChZLHR0KXwwLEE9QStNYXRoLmltdWwoRixEZSl8MCx5PXkrTWF0aC5pbXVsKEYscnQpfDAseT15K01hdGguaW11bCh1ZSxEZSl8MCx4PXgrTWF0aC5pbXVsKHVlLHJ0KXwwO3ZhciBwdD0oQitBfDApKygoeSY4MTkxKTw8MTMpfDA7Qj0oeCsoeT4+PjEzKXwwKSsocHQ+Pj4yNil8MCxwdCY9NjcxMDg4NjMsQT1NYXRoLmltdWwoZ2UsUmUpLHk9TWF0aC5pbXVsKGdlLFllKSx5PXkrTWF0aC5pbXVsKE5lLFJlKXwwLHg9TWF0aC5pbXVsKE5lLFllKSxBPUErTWF0aC5pbXVsKHZlLFRlKXwwLHk9eStNYXRoLmltdWwodmUsSmUpfDAseT15K01hdGguaW11bChFZSxUZSl8MCx4PXgrTWF0aC5pbXVsKEVlLEplKXwwLEE9QStNYXRoLmltdWwobmUsSWUpfDAseT15K01hdGguaW11bChuZSxRZSl8MCx5PXkrTWF0aC5pbXVsKGhlLEllKXwwLHg9eCtNYXRoLmltdWwoaGUsUWUpfDAsQT1BK01hdGguaW11bChkZSxPZSl8MCx5PXkrTWF0aC5pbXVsKGRlLGV0KXwwLHk9eStNYXRoLmltdWwobWUsT2UpfDAseD14K01hdGguaW11bChtZSxldCl8MCxBPUErTWF0aC5pbXVsKEMsa2UpfDAseT15K01hdGguaW11bChDLHR0KXwwLHk9eStNYXRoLmltdWwoWixrZSl8MCx4PXgrTWF0aC5pbXVsKFosdHQpfDAsQT1BK01hdGguaW11bChfZSxEZSl8MCx5PXkrTWF0aC5pbXVsKF9lLHJ0KXwwLHk9eStNYXRoLmltdWwoWSxEZSl8MCx4PXgrTWF0aC5pbXVsKFkscnQpfDA7dmFyIHZ0PShCK0F8MCkrKCh5JjgxOTEpPDwxMyl8MDtCPSh4Kyh5Pj4+MTMpfDApKyh2dD4+PjI2KXwwLHZ0Jj02NzEwODg2MyxBPU1hdGguaW11bChnZSxUZSkseT1NYXRoLmltdWwoZ2UsSmUpLHk9eStNYXRoLmltdWwoTmUsVGUpfDAseD1NYXRoLmltdWwoTmUsSmUpLEE9QStNYXRoLmltdWwodmUsSWUpfDAseT15K01hdGguaW11bCh2ZSxRZSl8MCx5PXkrTWF0aC5pbXVsKEVlLEllKXwwLHg9eCtNYXRoLmltdWwoRWUsUWUpfDAsQT1BK01hdGguaW11bChuZSxPZSl8MCx5PXkrTWF0aC5pbXVsKG5lLGV0KXwwLHk9eStNYXRoLmltdWwoaGUsT2UpfDAseD14K01hdGguaW11bChoZSxldCl8MCxBPUErTWF0aC5pbXVsKGRlLGtlKXwwLHk9eStNYXRoLmltdWwoZGUsdHQpfDAseT15K01hdGguaW11bChtZSxrZSl8MCx4PXgrTWF0aC5pbXVsKG1lLHR0KXwwLEE9QStNYXRoLmltdWwoQyxEZSl8MCx5PXkrTWF0aC5pbXVsKEMscnQpfDAseT15K01hdGguaW11bChaLERlKXwwLHg9eCtNYXRoLmltdWwoWixydCl8MDt2YXIgYnQ9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKGJ0Pj4+MjYpfDAsYnQmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKGdlLEllKSx5PU1hdGguaW11bChnZSxRZSkseT15K01hdGguaW11bChOZSxJZSl8MCx4PU1hdGguaW11bChOZSxRZSksQT1BK01hdGguaW11bCh2ZSxPZSl8MCx5PXkrTWF0aC5pbXVsKHZlLGV0KXwwLHk9eStNYXRoLmltdWwoRWUsT2UpfDAseD14K01hdGguaW11bChFZSxldCl8MCxBPUErTWF0aC5pbXVsKG5lLGtlKXwwLHk9eStNYXRoLmltdWwobmUsdHQpfDAseT15K01hdGguaW11bChoZSxrZSl8MCx4PXgrTWF0aC5pbXVsKGhlLHR0KXwwLEE9QStNYXRoLmltdWwoZGUsRGUpfDAseT15K01hdGguaW11bChkZSxydCl8MCx5PXkrTWF0aC5pbXVsKG1lLERlKXwwLHg9eCtNYXRoLmltdWwobWUscnQpfDA7dmFyIG10PShCK0F8MCkrKCh5JjgxOTEpPDwxMyl8MDtCPSh4Kyh5Pj4+MTMpfDApKyhtdD4+PjI2KXwwLG10Jj02NzEwODg2MyxBPU1hdGguaW11bChnZSxPZSkseT1NYXRoLmltdWwoZ2UsZXQpLHk9eStNYXRoLmltdWwoTmUsT2UpfDAseD1NYXRoLmltdWwoTmUsZXQpLEE9QStNYXRoLmltdWwodmUsa2UpfDAseT15K01hdGguaW11bCh2ZSx0dCl8MCx5PXkrTWF0aC5pbXVsKEVlLGtlKXwwLHg9eCtNYXRoLmltdWwoRWUsdHQpfDAsQT1BK01hdGguaW11bChuZSxEZSl8MCx5PXkrTWF0aC5pbXVsKG5lLHJ0KXwwLHk9eStNYXRoLmltdWwoaGUsRGUpfDAseD14K01hdGguaW11bChoZSxydCl8MDt2YXIgeXQ9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKHl0Pj4+MjYpfDAseXQmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKGdlLGtlKSx5PU1hdGguaW11bChnZSx0dCkseT15K01hdGguaW11bChOZSxrZSl8MCx4PU1hdGguaW11bChOZSx0dCksQT1BK01hdGguaW11bCh2ZSxEZSl8MCx5PXkrTWF0aC5pbXVsKHZlLHJ0KXwwLHk9eStNYXRoLmltdWwoRWUsRGUpfDAseD14K01hdGguaW11bChFZSxydCl8MDt2YXIgX3Q9KEIrQXwwKSsoKHkmODE5MSk8PDEzKXwwO0I9KHgrKHk+Pj4xMyl8MCkrKF90Pj4+MjYpfDAsX3QmPTY3MTA4ODYzLEE9TWF0aC5pbXVsKGdlLERlKSx5PU1hdGguaW11bChnZSxydCkseT15K01hdGguaW11bChOZSxEZSl8MCx4PU1hdGguaW11bChOZSxydCk7dmFyIGd0PShCK0F8MCkrKCh5JjgxOTEpPDwxMyl8MDtyZXR1cm4gQj0oeCsoeT4+PjEzKXwwKSsoZ3Q+Pj4yNil8MCxndCY9NjcxMDg4NjMsU1swXT1MZSxTWzFdPUZlLFNbMl09aXQsU1szXT1udCxTWzRdPWF0LFNbNV09b3QsU1s2XT1zdCxTWzddPXV0LFNbOF09bHQsU1s5XT1odCxTWzEwXT1jdCxTWzExXT1kdCxTWzEyXT1wdCxTWzEzXT12dCxTWzE0XT1idCxTWzE1XT1tdCxTWzE2XT15dCxTWzE3XT1fdCxTWzE4XT1ndCxCIT09MCYmKFNbMTldPUIsbC5sZW5ndGgrKyksbH07TWF0aC5pbXVsfHwoTD1QKTtmdW5jdGlvbiB6KFgsJCxtKXttLm5lZ2F0aXZlPSQubmVnYXRpdmVeWC5uZWdhdGl2ZSxtLmxlbmd0aD1YLmxlbmd0aCskLmxlbmd0aDtmb3IodmFyIGw9MCx2PTAsRT0wO0U8bS5sZW5ndGgtMTtFKyspe3ZhciBTPXY7dj0wO2Zvcih2YXIgQj1sJjY3MTA4ODYzLEE9TWF0aC5taW4oRSwkLmxlbmd0aC0xKSx5PU1hdGgubWF4KDAsRS1YLmxlbmd0aCsxKTt5PD1BO3krKyl7dmFyIHg9RS15LHA9WC53b3Jkc1t4XXwwLEk9JC53b3Jkc1t5XXwwLGVlPXAqSSxmZT1lZSY2NzEwODg2MztTPVMrKGVlLzY3MTA4ODY0fDApfDAsZmU9ZmUrQnwwLEI9ZmUmNjcxMDg4NjMsUz1TKyhmZT4+PjI2KXwwLHYrPVM+Pj4yNixTJj02NzEwODg2M31tLndvcmRzW0VdPUIsbD1TLFM9dn1yZXR1cm4gbCE9PTA/bS53b3Jkc1tFXT1sOm0ubGVuZ3RoLS0sbS5zdHJpcCgpfWZ1bmN0aW9uIEgoWCwkLG0pe3ZhciBsPW5ldyBWO3JldHVybiBsLm11bHAoWCwkLG0pfW8ucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKCQsbSl7dmFyIGwsdj10aGlzLmxlbmd0aCskLmxlbmd0aDtyZXR1cm4gdGhpcy5sZW5ndGg9PT0xMCYmJC5sZW5ndGg9PT0xMD9sPUwodGhpcywkLG0pOnY8NjM/bD1QKHRoaXMsJCxtKTp2PDEwMjQ/bD16KHRoaXMsJCxtKTpsPUgodGhpcywkLG0pLGx9O2Z1bmN0aW9uIFYoWCwkKXt0aGlzLng9WCx0aGlzLnk9JH1WLnByb3RvdHlwZS5tYWtlUkJUPWZ1bmN0aW9uKCQpe2Zvcih2YXIgbT1uZXcgQXJyYXkoJCksbD1vLnByb3RvdHlwZS5fY291bnRCaXRzKCQpLTEsdj0wO3Y8JDt2KyspbVt2XT10aGlzLnJldkJpbih2LGwsJCk7cmV0dXJuIG19LFYucHJvdG90eXBlLnJldkJpbj1mdW5jdGlvbigkLG0sbCl7aWYoJD09PTB8fCQ9PT1sLTEpcmV0dXJuICQ7Zm9yKHZhciB2PTAsRT0wO0U8bTtFKyspdnw9KCQmMSk8PG0tRS0xLCQ+Pj0xO3JldHVybiB2fSxWLnByb3RvdHlwZS5wZXJtdXRlPWZ1bmN0aW9uKCQsbSxsLHYsRSxTKXtmb3IodmFyIEI9MDtCPFM7QisrKXZbQl09bVskW0JdXSxFW0JdPWxbJFtCXV19LFYucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbigkLG0sbCx2LEUsUyl7dGhpcy5wZXJtdXRlKFMsJCxtLGwsdixFKTtmb3IodmFyIEI9MTtCPEU7Qjw8PTEpZm9yKHZhciBBPUI8PDEseT1NYXRoLmNvcygyKk1hdGguUEkvQSkseD1NYXRoLnNpbigyKk1hdGguUEkvQSkscD0wO3A8RTtwKz1BKWZvcih2YXIgST15LGVlPXgsZmU9MDtmZTxCO2ZlKyspe3ZhciBKPWxbcCtmZV0saz12W3ArZmVdLEQ9bFtwK2ZlK0JdLGo9dltwK2ZlK0JdLHRlPUkqRC1lZSpqO2o9SSpqK2VlKkQsRD10ZSxsW3ArZmVdPUorRCx2W3ArZmVdPWsraixsW3ArZmUrQl09Si1ELHZbcCtmZStCXT1rLWosZmUhPT1BJiYodGU9eSpJLXgqZWUsZWU9eSplZSt4KkksST10ZSl9fSxWLnByb3RvdHlwZS5ndWVzc0xlbjEzYj1mdW5jdGlvbigkLG0pe3ZhciBsPU1hdGgubWF4KG0sJCl8MSx2PWwmMSxFPTA7Zm9yKGw9bC8yfDA7bDtsPWw+Pj4xKUUrKztyZXR1cm4gMTw8RSsxK3Z9LFYucHJvdG90eXBlLmNvbmp1Z2F0ZT1mdW5jdGlvbigkLG0sbCl7aWYoIShsPD0xKSlmb3IodmFyIHY9MDt2PGwvMjt2Kyspe3ZhciBFPSRbdl07JFt2XT0kW2wtdi0xXSwkW2wtdi0xXT1FLEU9bVt2XSxtW3ZdPS1tW2wtdi0xXSxtW2wtdi0xXT0tRX19LFYucHJvdG90eXBlLm5vcm1hbGl6ZTEzYj1mdW5jdGlvbigkLG0pe2Zvcih2YXIgbD0wLHY9MDt2PG0vMjt2Kyspe3ZhciBFPU1hdGgucm91bmQoJFsyKnYrMV0vbSkqODE5MitNYXRoLnJvdW5kKCRbMip2XS9tKStsOyRbdl09RSY2NzEwODg2MyxFPDY3MTA4ODY0P2w9MDpsPUUvNjcxMDg4NjR8MH1yZXR1cm4gJH0sVi5wcm90b3R5cGUuY29udmVydDEzYj1mdW5jdGlvbigkLG0sbCx2KXtmb3IodmFyIEU9MCxTPTA7UzxtO1MrKylFPUUrKCRbU118MCksbFsyKlNdPUUmODE5MSxFPUU+Pj4xMyxsWzIqUysxXT1FJjgxOTEsRT1FPj4+MTM7Zm9yKFM9MiptO1M8djsrK1MpbFtTXT0wO2EoRT09PTApLGEoKEUmLTgxOTIpPT09MCl9LFYucHJvdG90eXBlLnN0dWI9ZnVuY3Rpb24oJCl7Zm9yKHZhciBtPW5ldyBBcnJheSgkKSxsPTA7bDwkO2wrKyltW2xdPTA7cmV0dXJuIG19LFYucHJvdG90eXBlLm11bHA9ZnVuY3Rpb24oJCxtLGwpe3ZhciB2PTIqdGhpcy5ndWVzc0xlbjEzYigkLmxlbmd0aCxtLmxlbmd0aCksRT10aGlzLm1ha2VSQlQodiksUz10aGlzLnN0dWIodiksQj1uZXcgQXJyYXkodiksQT1uZXcgQXJyYXkodikseT1uZXcgQXJyYXkodikseD1uZXcgQXJyYXkodikscD1uZXcgQXJyYXkodiksST1uZXcgQXJyYXkodiksZWU9bC53b3JkcztlZS5sZW5ndGg9dix0aGlzLmNvbnZlcnQxM2IoJC53b3JkcywkLmxlbmd0aCxCLHYpLHRoaXMuY29udmVydDEzYihtLndvcmRzLG0ubGVuZ3RoLHgsdiksdGhpcy50cmFuc2Zvcm0oQixTLEEseSx2LEUpLHRoaXMudHJhbnNmb3JtKHgsUyxwLEksdixFKTtmb3IodmFyIGZlPTA7ZmU8djtmZSsrKXt2YXIgSj1BW2ZlXSpwW2ZlXS15W2ZlXSpJW2ZlXTt5W2ZlXT1BW2ZlXSpJW2ZlXSt5W2ZlXSpwW2ZlXSxBW2ZlXT1KfXJldHVybiB0aGlzLmNvbmp1Z2F0ZShBLHksdiksdGhpcy50cmFuc2Zvcm0oQSx5LGVlLFMsdixFKSx0aGlzLmNvbmp1Z2F0ZShlZSxTLHYpLHRoaXMubm9ybWFsaXplMTNiKGVlLHYpLGwubmVnYXRpdmU9JC5uZWdhdGl2ZV5tLm5lZ2F0aXZlLGwubGVuZ3RoPSQubGVuZ3RoK20ubGVuZ3RoLGwuc3RyaXAoKX0sby5wcm90b3R5cGUubXVsPWZ1bmN0aW9uKCQpe3ZhciBtPW5ldyBvKG51bGwpO3JldHVybiBtLndvcmRzPW5ldyBBcnJheSh0aGlzLmxlbmd0aCskLmxlbmd0aCksdGhpcy5tdWxUbygkLG0pfSxvLnByb3RvdHlwZS5tdWxmPWZ1bmN0aW9uKCQpe3ZhciBtPW5ldyBvKG51bGwpO3JldHVybiBtLndvcmRzPW5ldyBBcnJheSh0aGlzLmxlbmd0aCskLmxlbmd0aCksSCh0aGlzLCQsbSl9LG8ucHJvdG90eXBlLmltdWw9ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5tdWxUbygkLHRoaXMpfSxvLnByb3RvdHlwZS5pbXVsbj1mdW5jdGlvbigkKXthKHR5cGVvZiAkPT0ibnVtYmVyIiksYSgkPDY3MTA4ODY0KTtmb3IodmFyIG09MCxsPTA7bDx0aGlzLmxlbmd0aDtsKyspe3ZhciB2PSh0aGlzLndvcmRzW2xdfDApKiQsRT0odiY2NzEwODg2MykrKG0mNjcxMDg4NjMpO20+Pj0yNixtKz12LzY3MTA4ODY0fDAsbSs9RT4+PjI2LHRoaXMud29yZHNbbF09RSY2NzEwODg2M31yZXR1cm4gbSE9PTAmJih0aGlzLndvcmRzW2xdPW0sdGhpcy5sZW5ndGgrKyksdGhpc30sby5wcm90b3R5cGUubXVsbj1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmltdWxuKCQpfSxvLnByb3RvdHlwZS5zcXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdWwodGhpcyl9LG8ucHJvdG90eXBlLmlzcXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbXVsKHRoaXMuY2xvbmUoKSl9LG8ucHJvdG90eXBlLnBvdz1mdW5jdGlvbigkKXt2YXIgbT1UKCQpO2lmKG0ubGVuZ3RoPT09MClyZXR1cm4gbmV3IG8oMSk7Zm9yKHZhciBsPXRoaXMsdj0wO3Y8bS5sZW5ndGgmJm1bdl09PT0wO3YrKyxsPWwuc3FyKCkpO2lmKCsrdjxtLmxlbmd0aClmb3IodmFyIEU9bC5zcXIoKTt2PG0ubGVuZ3RoO3YrKyxFPUUuc3FyKCkpbVt2XSE9PTAmJihsPWwubXVsKEUpKTtyZXR1cm4gbH0sby5wcm90b3R5cGUuaXVzaGxuPWZ1bmN0aW9uKCQpe2EodHlwZW9mICQ9PSJudW1iZXIiJiYkPj0wKTt2YXIgbT0kJTI2LGw9KCQtbSkvMjYsdj02NzEwODg2Mz4+PjI2LW08PDI2LW0sRTtpZihtIT09MCl7dmFyIFM9MDtmb3IoRT0wO0U8dGhpcy5sZW5ndGg7RSsrKXt2YXIgQj10aGlzLndvcmRzW0VdJnYsQT0odGhpcy53b3Jkc1tFXXwwKS1CPDxtO3RoaXMud29yZHNbRV09QXxTLFM9Qj4+PjI2LW19UyYmKHRoaXMud29yZHNbRV09Uyx0aGlzLmxlbmd0aCsrKX1pZihsIT09MCl7Zm9yKEU9dGhpcy5sZW5ndGgtMTtFPj0wO0UtLSl0aGlzLndvcmRzW0UrbF09dGhpcy53b3Jkc1tFXTtmb3IoRT0wO0U8bDtFKyspdGhpcy53b3Jkc1tFXT0wO3RoaXMubGVuZ3RoKz1sfXJldHVybiB0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLmlzaGxuPWZ1bmN0aW9uKCQpe3JldHVybiBhKHRoaXMubmVnYXRpdmU9PT0wKSx0aGlzLml1c2hsbigkKX0sby5wcm90b3R5cGUuaXVzaHJuPWZ1bmN0aW9uKCQsbSxsKXthKHR5cGVvZiAkPT0ibnVtYmVyIiYmJD49MCk7dmFyIHY7bT92PShtLW0lMjYpLzI2OnY9MDt2YXIgRT0kJTI2LFM9TWF0aC5taW4oKCQtRSkvMjYsdGhpcy5sZW5ndGgpLEI9NjcxMDg4NjNeNjcxMDg4NjM+Pj5FPDxFLEE9bDtpZih2LT1TLHY9TWF0aC5tYXgoMCx2KSxBKXtmb3IodmFyIHk9MDt5PFM7eSsrKUEud29yZHNbeV09dGhpcy53b3Jkc1t5XTtBLmxlbmd0aD1TfWlmKFMhPT0wKWlmKHRoaXMubGVuZ3RoPlMpZm9yKHRoaXMubGVuZ3RoLT1TLHk9MDt5PHRoaXMubGVuZ3RoO3krKyl0aGlzLndvcmRzW3ldPXRoaXMud29yZHNbeStTXTtlbHNlIHRoaXMud29yZHNbMF09MCx0aGlzLmxlbmd0aD0xO3ZhciB4PTA7Zm9yKHk9dGhpcy5sZW5ndGgtMTt5Pj0wJiYoeCE9PTB8fHk+PXYpO3ktLSl7dmFyIHA9dGhpcy53b3Jkc1t5XXwwO3RoaXMud29yZHNbeV09eDw8MjYtRXxwPj4+RSx4PXAmQn1yZXR1cm4gQSYmeCE9PTAmJihBLndvcmRzW0EubGVuZ3RoKytdPXgpLHRoaXMubGVuZ3RoPT09MCYmKHRoaXMud29yZHNbMF09MCx0aGlzLmxlbmd0aD0xKSx0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLmlzaHJuPWZ1bmN0aW9uKCQsbSxsKXtyZXR1cm4gYSh0aGlzLm5lZ2F0aXZlPT09MCksdGhpcy5pdXNocm4oJCxtLGwpfSxvLnByb3RvdHlwZS5zaGxuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNsb25lKCkuaXNobG4oJCl9LG8ucHJvdG90eXBlLnVzaGxuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNsb25lKCkuaXVzaGxuKCQpfSxvLnByb3RvdHlwZS5zaHJuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNsb25lKCkuaXNocm4oJCl9LG8ucHJvdG90eXBlLnVzaHJuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNsb25lKCkuaXVzaHJuKCQpfSxvLnByb3RvdHlwZS50ZXN0bj1mdW5jdGlvbigkKXthKHR5cGVvZiAkPT0ibnVtYmVyIiYmJD49MCk7dmFyIG09JCUyNixsPSgkLW0pLzI2LHY9MTw8bTtpZih0aGlzLmxlbmd0aDw9bClyZXR1cm4hMTt2YXIgRT10aGlzLndvcmRzW2xdO3JldHVybiEhKEUmdil9LG8ucHJvdG90eXBlLmltYXNrbj1mdW5jdGlvbigkKXthKHR5cGVvZiAkPT0ibnVtYmVyIiYmJD49MCk7dmFyIG09JCUyNixsPSgkLW0pLzI2O2lmKGEodGhpcy5uZWdhdGl2ZT09PTAsImltYXNrbiB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmUgbnVtYmVycyIpLHRoaXMubGVuZ3RoPD1sKXJldHVybiB0aGlzO2lmKG0hPT0wJiZsKyssdGhpcy5sZW5ndGg9TWF0aC5taW4obCx0aGlzLmxlbmd0aCksbSE9PTApe3ZhciB2PTY3MTA4ODYzXjY3MTA4ODYzPj4+bTw8bTt0aGlzLndvcmRzW3RoaXMubGVuZ3RoLTFdJj12fXJldHVybiB0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLm1hc2tuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNsb25lKCkuaW1hc2tuKCQpfSxvLnByb3RvdHlwZS5pYWRkbj1mdW5jdGlvbigkKXtyZXR1cm4gYSh0eXBlb2YgJD09Im51bWJlciIpLGEoJDw2NzEwODg2NCksJDwwP3RoaXMuaXN1Ym4oLSQpOnRoaXMubmVnYXRpdmUhPT0wP3RoaXMubGVuZ3RoPT09MSYmKHRoaXMud29yZHNbMF18MCk8JD8odGhpcy53b3Jkc1swXT0kLSh0aGlzLndvcmRzWzBdfDApLHRoaXMubmVnYXRpdmU9MCx0aGlzKToodGhpcy5uZWdhdGl2ZT0wLHRoaXMuaXN1Ym4oJCksdGhpcy5uZWdhdGl2ZT0xLHRoaXMpOnRoaXMuX2lhZGRuKCQpfSxvLnByb3RvdHlwZS5faWFkZG49ZnVuY3Rpb24oJCl7dGhpcy53b3Jkc1swXSs9JDtmb3IodmFyIG09MDttPHRoaXMubGVuZ3RoJiZ0aGlzLndvcmRzW21dPj02NzEwODg2NDttKyspdGhpcy53b3Jkc1ttXS09NjcxMDg4NjQsbT09PXRoaXMubGVuZ3RoLTE/dGhpcy53b3Jkc1ttKzFdPTE6dGhpcy53b3Jkc1ttKzFdKys7cmV0dXJuIHRoaXMubGVuZ3RoPU1hdGgubWF4KHRoaXMubGVuZ3RoLG0rMSksdGhpc30sby5wcm90b3R5cGUuaXN1Ym49ZnVuY3Rpb24oJCl7aWYoYSh0eXBlb2YgJD09Im51bWJlciIpLGEoJDw2NzEwODg2NCksJDwwKXJldHVybiB0aGlzLmlhZGRuKC0kKTtpZih0aGlzLm5lZ2F0aXZlIT09MClyZXR1cm4gdGhpcy5uZWdhdGl2ZT0wLHRoaXMuaWFkZG4oJCksdGhpcy5uZWdhdGl2ZT0xLHRoaXM7aWYodGhpcy53b3Jkc1swXS09JCx0aGlzLmxlbmd0aD09PTEmJnRoaXMud29yZHNbMF08MCl0aGlzLndvcmRzWzBdPS10aGlzLndvcmRzWzBdLHRoaXMubmVnYXRpdmU9MTtlbHNlIGZvcih2YXIgbT0wO208dGhpcy5sZW5ndGgmJnRoaXMud29yZHNbbV08MDttKyspdGhpcy53b3Jkc1ttXSs9NjcxMDg4NjQsdGhpcy53b3Jkc1ttKzFdLT0xO3JldHVybiB0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLmFkZG49ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pYWRkbigkKX0sby5wcm90b3R5cGUuc3Vibj1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmlzdWJuKCQpfSxvLnByb3RvdHlwZS5pYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVnYXRpdmU9MCx0aGlzfSxvLnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmlhYnMoKX0sby5wcm90b3R5cGUuX2lzaGxuc3VibXVsPWZ1bmN0aW9uKCQsbSxsKXt2YXIgdj0kLmxlbmd0aCtsLEU7dGhpcy5fZXhwYW5kKHYpO3ZhciBTLEI9MDtmb3IoRT0wO0U8JC5sZW5ndGg7RSsrKXtTPSh0aGlzLndvcmRzW0UrbF18MCkrQjt2YXIgQT0oJC53b3Jkc1tFXXwwKSptO1MtPUEmNjcxMDg4NjMsQj0oUz4+MjYpLShBLzY3MTA4ODY0fDApLHRoaXMud29yZHNbRStsXT1TJjY3MTA4ODYzfWZvcig7RTx0aGlzLmxlbmd0aC1sO0UrKylTPSh0aGlzLndvcmRzW0UrbF18MCkrQixCPVM+PjI2LHRoaXMud29yZHNbRStsXT1TJjY3MTA4ODYzO2lmKEI9PT0wKXJldHVybiB0aGlzLnN0cmlwKCk7Zm9yKGEoQj09PS0xKSxCPTAsRT0wO0U8dGhpcy5sZW5ndGg7RSsrKVM9LSh0aGlzLndvcmRzW0VdfDApK0IsQj1TPj4yNix0aGlzLndvcmRzW0VdPVMmNjcxMDg4NjM7cmV0dXJuIHRoaXMubmVnYXRpdmU9MSx0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLl93b3JkRGl2PWZ1bmN0aW9uKCQsbSl7dmFyIGw9dGhpcy5sZW5ndGgtJC5sZW5ndGgsdj10aGlzLmNsb25lKCksRT0kLFM9RS53b3Jkc1tFLmxlbmd0aC0xXXwwLEI9dGhpcy5fY291bnRCaXRzKFMpO2w9MjYtQixsIT09MCYmKEU9RS51c2hsbihsKSx2Lml1c2hsbihsKSxTPUUud29yZHNbRS5sZW5ndGgtMV18MCk7dmFyIEE9di5sZW5ndGgtRS5sZW5ndGgseTtpZihtIT09Im1vZCIpe3k9bmV3IG8obnVsbCkseS5sZW5ndGg9QSsxLHkud29yZHM9bmV3IEFycmF5KHkubGVuZ3RoKTtmb3IodmFyIHg9MDt4PHkubGVuZ3RoO3grKyl5LndvcmRzW3hdPTB9dmFyIHA9di5jbG9uZSgpLl9pc2hsbnN1Ym11bChFLDEsQSk7cC5uZWdhdGl2ZT09PTAmJih2PXAseSYmKHkud29yZHNbQV09MSkpO2Zvcih2YXIgST1BLTE7ST49MDtJLS0pe3ZhciBlZT0odi53b3Jkc1tFLmxlbmd0aCtJXXwwKSo2NzEwODg2NCsodi53b3Jkc1tFLmxlbmd0aCtJLTFdfDApO2ZvcihlZT1NYXRoLm1pbihlZS9TfDAsNjcxMDg4NjMpLHYuX2lzaGxuc3VibXVsKEUsZWUsSSk7di5uZWdhdGl2ZSE9PTA7KWVlLS0sdi5uZWdhdGl2ZT0wLHYuX2lzaGxuc3VibXVsKEUsMSxJKSx2LmlzWmVybygpfHwodi5uZWdhdGl2ZV49MSk7eSYmKHkud29yZHNbSV09ZWUpfXJldHVybiB5JiZ5LnN0cmlwKCksdi5zdHJpcCgpLG0hPT0iZGl2IiYmbCE9PTAmJnYuaXVzaHJuKGwpLHtkaXY6eXx8bnVsbCxtb2Q6dn19LG8ucHJvdG90eXBlLmRpdm1vZD1mdW5jdGlvbigkLG0sbCl7aWYoYSghJC5pc1plcm8oKSksdGhpcy5pc1plcm8oKSlyZXR1cm57ZGl2Om5ldyBvKDApLG1vZDpuZXcgbygwKX07dmFyIHYsRSxTO3JldHVybiB0aGlzLm5lZ2F0aXZlIT09MCYmJC5uZWdhdGl2ZT09PTA/KFM9dGhpcy5uZWcoKS5kaXZtb2QoJCxtKSxtIT09Im1vZCImJih2PVMuZGl2Lm5lZygpKSxtIT09ImRpdiImJihFPVMubW9kLm5lZygpLGwmJkUubmVnYXRpdmUhPT0wJiZFLmlhZGQoJCkpLHtkaXY6dixtb2Q6RX0pOnRoaXMubmVnYXRpdmU9PT0wJiYkLm5lZ2F0aXZlIT09MD8oUz10aGlzLmRpdm1vZCgkLm5lZygpLG0pLG0hPT0ibW9kIiYmKHY9Uy5kaXYubmVnKCkpLHtkaXY6dixtb2Q6Uy5tb2R9KTp0aGlzLm5lZ2F0aXZlJiQubmVnYXRpdmU/KFM9dGhpcy5uZWcoKS5kaXZtb2QoJC5uZWcoKSxtKSxtIT09ImRpdiImJihFPVMubW9kLm5lZygpLGwmJkUubmVnYXRpdmUhPT0wJiZFLmlzdWIoJCkpLHtkaXY6Uy5kaXYsbW9kOkV9KTokLmxlbmd0aD50aGlzLmxlbmd0aHx8dGhpcy5jbXAoJCk8MD97ZGl2Om5ldyBvKDApLG1vZDp0aGlzfTokLmxlbmd0aD09PTE/bT09PSJkaXYiP3tkaXY6dGhpcy5kaXZuKCQud29yZHNbMF0pLG1vZDpudWxsfTptPT09Im1vZCI/e2RpdjpudWxsLG1vZDpuZXcgbyh0aGlzLm1vZG4oJC53b3Jkc1swXSkpfTp7ZGl2OnRoaXMuZGl2bigkLndvcmRzWzBdKSxtb2Q6bmV3IG8odGhpcy5tb2RuKCQud29yZHNbMF0pKX06dGhpcy5fd29yZERpdigkLG0pfSxvLnByb3RvdHlwZS5kaXY9ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuZGl2bW9kKCQsImRpdiIsITEpLmRpdn0sby5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmRpdm1vZCgkLCJtb2QiLCExKS5tb2R9LG8ucHJvdG90eXBlLnVtb2Q9ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuZGl2bW9kKCQsIm1vZCIsITApLm1vZH0sby5wcm90b3R5cGUuZGl2Um91bmQ9ZnVuY3Rpb24oJCl7dmFyIG09dGhpcy5kaXZtb2QoJCk7aWYobS5tb2QuaXNaZXJvKCkpcmV0dXJuIG0uZGl2O3ZhciBsPW0uZGl2Lm5lZ2F0aXZlIT09MD9tLm1vZC5pc3ViKCQpOm0ubW9kLHY9JC51c2hybigxKSxFPSQuYW5kbG4oMSksUz1sLmNtcCh2KTtyZXR1cm4gUzwwfHxFPT09MSYmUz09PTA/bS5kaXY6bS5kaXYubmVnYXRpdmUhPT0wP20uZGl2LmlzdWJuKDEpOm0uZGl2LmlhZGRuKDEpfSxvLnByb3RvdHlwZS5tb2RuPWZ1bmN0aW9uKCQpe2EoJDw9NjcxMDg4NjMpO2Zvcih2YXIgbT0oMTw8MjYpJSQsbD0wLHY9dGhpcy5sZW5ndGgtMTt2Pj0wO3YtLSlsPShtKmwrKHRoaXMud29yZHNbdl18MCkpJSQ7cmV0dXJuIGx9LG8ucHJvdG90eXBlLmlkaXZuPWZ1bmN0aW9uKCQpe2EoJDw9NjcxMDg4NjMpO2Zvcih2YXIgbT0wLGw9dGhpcy5sZW5ndGgtMTtsPj0wO2wtLSl7dmFyIHY9KHRoaXMud29yZHNbbF18MCkrbSo2NzEwODg2NDt0aGlzLndvcmRzW2xdPXYvJHwwLG09diUkfXJldHVybiB0aGlzLnN0cmlwKCl9LG8ucHJvdG90eXBlLmRpdm49ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pZGl2bigkKX0sby5wcm90b3R5cGUuZWdjZD1mdW5jdGlvbigkKXthKCQubmVnYXRpdmU9PT0wKSxhKCEkLmlzWmVybygpKTt2YXIgbT10aGlzLGw9JC5jbG9uZSgpO20ubmVnYXRpdmUhPT0wP209bS51bW9kKCQpOm09bS5jbG9uZSgpO2Zvcih2YXIgdj1uZXcgbygxKSxFPW5ldyBvKDApLFM9bmV3IG8oMCksQj1uZXcgbygxKSxBPTA7bS5pc0V2ZW4oKSYmbC5pc0V2ZW4oKTspbS5pdXNocm4oMSksbC5pdXNocm4oMSksKytBO2Zvcih2YXIgeT1sLmNsb25lKCkseD1tLmNsb25lKCk7IW0uaXNaZXJvKCk7KXtmb3IodmFyIHA9MCxJPTE7IShtLndvcmRzWzBdJkkpJiZwPDI2OysrcCxJPDw9MSk7aWYocD4wKWZvcihtLml1c2hybihwKTtwLS0gPjA7KSh2LmlzT2RkKCl8fEUuaXNPZGQoKSkmJih2LmlhZGQoeSksRS5pc3ViKHgpKSx2Lml1c2hybigxKSxFLml1c2hybigxKTtmb3IodmFyIGVlPTAsZmU9MTshKGwud29yZHNbMF0mZmUpJiZlZTwyNjsrK2VlLGZlPDw9MSk7aWYoZWU+MClmb3IobC5pdXNocm4oZWUpO2VlLS0gPjA7KShTLmlzT2RkKCl8fEIuaXNPZGQoKSkmJihTLmlhZGQoeSksQi5pc3ViKHgpKSxTLml1c2hybigxKSxCLml1c2hybigxKTttLmNtcChsKT49MD8obS5pc3ViKGwpLHYuaXN1YihTKSxFLmlzdWIoQikpOihsLmlzdWIobSksUy5pc3ViKHYpLEIuaXN1YihFKSl9cmV0dXJue2E6UyxiOkIsZ2NkOmwuaXVzaGxuKEEpfX0sby5wcm90b3R5cGUuX2ludm1wPWZ1bmN0aW9uKCQpe2EoJC5uZWdhdGl2ZT09PTApLGEoISQuaXNaZXJvKCkpO3ZhciBtPXRoaXMsbD0kLmNsb25lKCk7bS5uZWdhdGl2ZSE9PTA/bT1tLnVtb2QoJCk6bT1tLmNsb25lKCk7Zm9yKHZhciB2PW5ldyBvKDEpLEU9bmV3IG8oMCksUz1sLmNsb25lKCk7bS5jbXBuKDEpPjAmJmwuY21wbigxKT4wOyl7Zm9yKHZhciBCPTAsQT0xOyEobS53b3Jkc1swXSZBKSYmQjwyNjsrK0IsQTw8PTEpO2lmKEI+MClmb3IobS5pdXNocm4oQik7Qi0tID4wOyl2LmlzT2RkKCkmJnYuaWFkZChTKSx2Lml1c2hybigxKTtmb3IodmFyIHk9MCx4PTE7IShsLndvcmRzWzBdJngpJiZ5PDI2OysreSx4PDw9MSk7aWYoeT4wKWZvcihsLml1c2hybih5KTt5LS0gPjA7KUUuaXNPZGQoKSYmRS5pYWRkKFMpLEUuaXVzaHJuKDEpO20uY21wKGwpPj0wPyhtLmlzdWIobCksdi5pc3ViKEUpKToobC5pc3ViKG0pLEUuaXN1Yih2KSl9dmFyIHA7cmV0dXJuIG0uY21wbigxKT09PTA/cD12OnA9RSxwLmNtcG4oMCk8MCYmcC5pYWRkKCQpLHB9LG8ucHJvdG90eXBlLmdjZD1mdW5jdGlvbigkKXtpZih0aGlzLmlzWmVybygpKXJldHVybiAkLmFicygpO2lmKCQuaXNaZXJvKCkpcmV0dXJuIHRoaXMuYWJzKCk7dmFyIG09dGhpcy5jbG9uZSgpLGw9JC5jbG9uZSgpO20ubmVnYXRpdmU9MCxsLm5lZ2F0aXZlPTA7Zm9yKHZhciB2PTA7bS5pc0V2ZW4oKSYmbC5pc0V2ZW4oKTt2KyspbS5pdXNocm4oMSksbC5pdXNocm4oMSk7ZG97Zm9yKDttLmlzRXZlbigpOyltLml1c2hybigxKTtmb3IoO2wuaXNFdmVuKCk7KWwuaXVzaHJuKDEpO3ZhciBFPW0uY21wKGwpO2lmKEU8MCl7dmFyIFM9bTttPWwsbD1TfWVsc2UgaWYoRT09PTB8fGwuY21wbigxKT09PTApYnJlYWs7bS5pc3ViKGwpfXdoaWxlKCEwKTtyZXR1cm4gbC5pdXNobG4odil9LG8ucHJvdG90eXBlLmludm09ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuZWdjZCgkKS5hLnVtb2QoJCl9LG8ucHJvdG90eXBlLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybih0aGlzLndvcmRzWzBdJjEpPT09MH0sby5wcm90b3R5cGUuaXNPZGQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy53b3Jkc1swXSYxKT09PTF9LG8ucHJvdG90eXBlLmFuZGxuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLndvcmRzWzBdJiR9LG8ucHJvdG90eXBlLmJpbmNuPWZ1bmN0aW9uKCQpe2EodHlwZW9mICQ9PSJudW1iZXIiKTt2YXIgbT0kJTI2LGw9KCQtbSkvMjYsdj0xPDxtO2lmKHRoaXMubGVuZ3RoPD1sKXJldHVybiB0aGlzLl9leHBhbmQobCsxKSx0aGlzLndvcmRzW2xdfD12LHRoaXM7Zm9yKHZhciBFPXYsUz1sO0UhPT0wJiZTPHRoaXMubGVuZ3RoO1MrKyl7dmFyIEI9dGhpcy53b3Jkc1tTXXwwO0IrPUUsRT1CPj4+MjYsQiY9NjcxMDg4NjMsdGhpcy53b3Jkc1tTXT1CfXJldHVybiBFIT09MCYmKHRoaXMud29yZHNbU109RSx0aGlzLmxlbmd0aCsrKSx0aGlzfSxvLnByb3RvdHlwZS5pc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9PT0xJiZ0aGlzLndvcmRzWzBdPT09MH0sby5wcm90b3R5cGUuY21wbj1mdW5jdGlvbigkKXt2YXIgbT0kPDA7aWYodGhpcy5uZWdhdGl2ZSE9PTAmJiFtKXJldHVybi0xO2lmKHRoaXMubmVnYXRpdmU9PT0wJiZtKXJldHVybiAxO3RoaXMuc3RyaXAoKTt2YXIgbDtpZih0aGlzLmxlbmd0aD4xKWw9MTtlbHNle20mJigkPS0kKSxhKCQ8PTY3MTA4ODYzLCJOdW1iZXIgaXMgdG9vIGJpZyIpO3ZhciB2PXRoaXMud29yZHNbMF18MDtsPXY9PT0kPzA6djwkPy0xOjF9cmV0dXJuIHRoaXMubmVnYXRpdmUhPT0wPy1sfDA6bH0sby5wcm90b3R5cGUuY21wPWZ1bmN0aW9uKCQpe2lmKHRoaXMubmVnYXRpdmUhPT0wJiYkLm5lZ2F0aXZlPT09MClyZXR1cm4tMTtpZih0aGlzLm5lZ2F0aXZlPT09MCYmJC5uZWdhdGl2ZSE9PTApcmV0dXJuIDE7dmFyIG09dGhpcy51Y21wKCQpO3JldHVybiB0aGlzLm5lZ2F0aXZlIT09MD8tbXwwOm19LG8ucHJvdG90eXBlLnVjbXA9ZnVuY3Rpb24oJCl7aWYodGhpcy5sZW5ndGg+JC5sZW5ndGgpcmV0dXJuIDE7aWYodGhpcy5sZW5ndGg8JC5sZW5ndGgpcmV0dXJuLTE7Zm9yKHZhciBtPTAsbD10aGlzLmxlbmd0aC0xO2w+PTA7bC0tKXt2YXIgdj10aGlzLndvcmRzW2xdfDAsRT0kLndvcmRzW2xdfDA7aWYodiE9PUUpe3Y8RT9tPS0xOnY+RSYmKG09MSk7YnJlYWt9fXJldHVybiBtfSxvLnByb3RvdHlwZS5ndG49ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuY21wbigkKT09PTF9LG8ucHJvdG90eXBlLmd0PWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNtcCgkKT09PTF9LG8ucHJvdG90eXBlLmd0ZW49ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuY21wbigkKT49MH0sby5wcm90b3R5cGUuZ3RlPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNtcCgkKT49MH0sby5wcm90b3R5cGUubHRuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNtcG4oJCk9PT0tMX0sby5wcm90b3R5cGUubHQ9ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuY21wKCQpPT09LTF9LG8ucHJvdG90eXBlLmx0ZW49ZnVuY3Rpb24oJCl7cmV0dXJuIHRoaXMuY21wbigkKTw9MH0sby5wcm90b3R5cGUubHRlPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNtcCgkKTw9MH0sby5wcm90b3R5cGUuZXFuPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmNtcG4oJCk9PT0wfSxvLnByb3RvdHlwZS5lcT1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5jbXAoJCk9PT0wfSxvLnJlZD1mdW5jdGlvbigkKXtyZXR1cm4gbmV3IG9lKCQpfSxvLnByb3RvdHlwZS50b1JlZD1mdW5jdGlvbigkKXtyZXR1cm4gYSghdGhpcy5yZWQsIkFscmVhZHkgYSBudW1iZXIgaW4gcmVkdWN0aW9uIGNvbnRleHQiKSxhKHRoaXMubmVnYXRpdmU9PT0wLCJyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlcyIpLCQuY29udmVydFRvKHRoaXMpLl9mb3JjZVJlZCgkKX0sby5wcm90b3R5cGUuZnJvbVJlZD1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMucmVkLCJmcm9tUmVkIHdvcmtzIG9ubHkgd2l0aCBudW1iZXJzIGluIHJlZHVjdGlvbiBjb250ZXh0IiksdGhpcy5yZWQuY29udmVydEZyb20odGhpcyl9LG8ucHJvdG90eXBlLl9mb3JjZVJlZD1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5yZWQ9JCx0aGlzfSxvLnByb3RvdHlwZS5mb3JjZVJlZD1mdW5jdGlvbigkKXtyZXR1cm4gYSghdGhpcy5yZWQsIkFscmVhZHkgYSBudW1iZXIgaW4gcmVkdWN0aW9uIGNvbnRleHQiKSx0aGlzLl9mb3JjZVJlZCgkKX0sby5wcm90b3R5cGUucmVkQWRkPWZ1bmN0aW9uKCQpe3JldHVybiBhKHRoaXMucmVkLCJyZWRBZGQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuYWRkKHRoaXMsJCl9LG8ucHJvdG90eXBlLnJlZElBZGQ9ZnVuY3Rpb24oJCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZElBZGQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuaWFkZCh0aGlzLCQpfSxvLnByb3RvdHlwZS5yZWRTdWI9ZnVuY3Rpb24oJCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZFN1YiB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5zdWIodGhpcywkKX0sby5wcm90b3R5cGUucmVkSVN1Yj1mdW5jdGlvbigkKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkSVN1YiB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5pc3ViKHRoaXMsJCl9LG8ucHJvdG90eXBlLnJlZFNobD1mdW5jdGlvbigkKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkU2hsIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLnNobCh0aGlzLCQpfSxvLnByb3RvdHlwZS5yZWRNdWw9ZnVuY3Rpb24oJCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5fdmVyaWZ5Mih0aGlzLCQpLHRoaXMucmVkLm11bCh0aGlzLCQpfSxvLnByb3RvdHlwZS5yZWRJTXVsPWZ1bmN0aW9uKCQpe3JldHVybiBhKHRoaXMucmVkLCJyZWRNdWwgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuX3ZlcmlmeTIodGhpcywkKSx0aGlzLnJlZC5pbXVsKHRoaXMsJCl9LG8ucHJvdG90eXBlLnJlZFNxcj1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMucmVkLCJyZWRTcXIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksdGhpcy5yZWQuc3FyKHRoaXMpfSxvLnByb3RvdHlwZS5yZWRJU3FyPWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZElTcXIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksdGhpcy5yZWQuaXNxcih0aGlzKX0sby5wcm90b3R5cGUucmVkU3FydD1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMucmVkLCJyZWRTcXJ0IHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLHRoaXMucmVkLnNxcnQodGhpcyl9LG8ucHJvdG90eXBlLnJlZEludm09ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkSW52bSB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSx0aGlzLnJlZC5pbnZtKHRoaXMpfSxvLnByb3RvdHlwZS5yZWROZWc9ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkTmVnIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLHRoaXMucmVkLm5lZyh0aGlzKX0sby5wcm90b3R5cGUucmVkUG93PWZ1bmN0aW9uKCQpe3JldHVybiBhKHRoaXMucmVkJiYhJC5yZWQsInJlZFBvdyhub3JtYWxOdW0pIiksdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksdGhpcy5yZWQucG93KHRoaXMsJCl9O3ZhciBhZT17azI1NjpudWxsLHAyMjQ6bnVsbCxwMTkyOm51bGwscDI1NTE5Om51bGx9O2Z1bmN0aW9uIGllKFgsJCl7dGhpcy5uYW1lPVgsdGhpcy5wPW5ldyBvKCQsMTYpLHRoaXMubj10aGlzLnAuYml0TGVuZ3RoKCksdGhpcy5rPW5ldyBvKDEpLml1c2hsbih0aGlzLm4pLmlzdWIodGhpcy5wKSx0aGlzLnRtcD10aGlzLl90bXAoKX1pZS5wcm90b3R5cGUuX3RtcD1mdW5jdGlvbigpe3ZhciAkPW5ldyBvKG51bGwpO3JldHVybiAkLndvcmRzPW5ldyBBcnJheShNYXRoLmNlaWwodGhpcy5uLzEzKSksJH0saWUucHJvdG90eXBlLmlyZWR1Y2U9ZnVuY3Rpb24oJCl7dmFyIG09JCxsO2RvIHRoaXMuc3BsaXQobSx0aGlzLnRtcCksbT10aGlzLmltdWxLKG0pLG09bS5pYWRkKHRoaXMudG1wKSxsPW0uYml0TGVuZ3RoKCk7d2hpbGUobD50aGlzLm4pO3ZhciB2PWw8dGhpcy5uPy0xOm0udWNtcCh0aGlzLnApO3JldHVybiB2PT09MD8obS53b3Jkc1swXT0wLG0ubGVuZ3RoPTEpOnY+MD9tLmlzdWIodGhpcy5wKTptLnN0cmlwIT09dm9pZCAwP20uc3RyaXAoKTptLl9zdHJpcCgpLG19LGllLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbigkLG0peyQuaXVzaHJuKHRoaXMubiwwLG0pfSxpZS5wcm90b3R5cGUuaW11bEs9ZnVuY3Rpb24oJCl7cmV0dXJuICQuaW11bCh0aGlzLmspfTtmdW5jdGlvbiBRKCl7aWUuY2FsbCh0aGlzLCJrMjU2IiwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZjMmYiKX11KFEsaWUpLFEucHJvdG90eXBlLnNwbGl0PWZ1bmN0aW9uKCQsbSl7Zm9yKHZhciBsPTQxOTQzMDMsdj1NYXRoLm1pbigkLmxlbmd0aCw5KSxFPTA7RTx2O0UrKyltLndvcmRzW0VdPSQud29yZHNbRV07aWYobS5sZW5ndGg9diwkLmxlbmd0aDw9OSl7JC53b3Jkc1swXT0wLCQubGVuZ3RoPTE7cmV0dXJufXZhciBTPSQud29yZHNbOV07Zm9yKG0ud29yZHNbbS5sZW5ndGgrK109UyZsLEU9MTA7RTwkLmxlbmd0aDtFKyspe3ZhciBCPSQud29yZHNbRV18MDskLndvcmRzW0UtMTBdPShCJmwpPDw0fFM+Pj4yMixTPUJ9Uz4+Pj0yMiwkLndvcmRzW0UtMTBdPVMsUz09PTAmJiQubGVuZ3RoPjEwPyQubGVuZ3RoLT0xMDokLmxlbmd0aC09OX0sUS5wcm90b3R5cGUuaW11bEs9ZnVuY3Rpb24oJCl7JC53b3Jkc1skLmxlbmd0aF09MCwkLndvcmRzWyQubGVuZ3RoKzFdPTAsJC5sZW5ndGgrPTI7Zm9yKHZhciBtPTAsbD0wO2w8JC5sZW5ndGg7bCsrKXt2YXIgdj0kLndvcmRzW2xdfDA7bSs9dio5NzcsJC53b3Jkc1tsXT1tJjY3MTA4ODYzLG09dio2NCsobS82NzEwODg2NHwwKX1yZXR1cm4gJC53b3Jkc1skLmxlbmd0aC0xXT09PTAmJigkLmxlbmd0aC0tLCQud29yZHNbJC5sZW5ndGgtMV09PT0wJiYkLmxlbmd0aC0tKSwkfTtmdW5jdGlvbiByZSgpe2llLmNhbGwodGhpcywicDIyNCIsImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAxIil9dShyZSxpZSk7ZnVuY3Rpb24gY2UoKXtpZS5jYWxsKHRoaXMsInAxOTIiLCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZiIpfXUoY2UsaWUpO2Z1bmN0aW9uIGxlKCl7aWUuY2FsbCh0aGlzLCIyNTUxOSIsIjdmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZWQiKX11KGxlLGllKSxsZS5wcm90b3R5cGUuaW11bEs9ZnVuY3Rpb24oJCl7Zm9yKHZhciBtPTAsbD0wO2w8JC5sZW5ndGg7bCsrKXt2YXIgdj0oJC53b3Jkc1tsXXwwKSoxOSttLEU9diY2NzEwODg2Mzt2Pj4+PTI2LCQud29yZHNbbF09RSxtPXZ9cmV0dXJuIG0hPT0wJiYoJC53b3Jkc1skLmxlbmd0aCsrXT1tKSwkfSxvLl9wcmltZT1mdW5jdGlvbigkKXtpZihhZVskXSlyZXR1cm4gYWVbJF07dmFyIG07aWYoJD09PSJrMjU2IiltPW5ldyBRO2Vsc2UgaWYoJD09PSJwMjI0IiltPW5ldyByZTtlbHNlIGlmKCQ9PT0icDE5MiIpbT1uZXcgY2U7ZWxzZSBpZigkPT09InAyNTUxOSIpbT1uZXcgbGU7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gcHJpbWUgIiskKTtyZXR1cm4gYWVbJF09bSxtfTtmdW5jdGlvbiBvZShYKXtpZih0eXBlb2YgWD09InN0cmluZyIpe3ZhciAkPW8uX3ByaW1lKFgpO3RoaXMubT0kLnAsdGhpcy5wcmltZT0kfWVsc2UgYShYLmd0bigxKSwibW9kdWx1cyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAxIiksdGhpcy5tPVgsdGhpcy5wcmltZT1udWxsfW9lLnByb3RvdHlwZS5fdmVyaWZ5MT1mdW5jdGlvbigkKXthKCQubmVnYXRpdmU9PT0wLCJyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlcyIpLGEoJC5yZWQsInJlZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKX0sb2UucHJvdG90eXBlLl92ZXJpZnkyPWZ1bmN0aW9uKCQsbSl7YSgoJC5uZWdhdGl2ZXxtLm5lZ2F0aXZlKT09PTAsInJlZCB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmVzIiksYSgkLnJlZCYmJC5yZWQ9PT1tLnJlZCwicmVkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpfSxvZS5wcm90b3R5cGUuaW1vZD1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5wcmltZT90aGlzLnByaW1lLmlyZWR1Y2UoJCkuX2ZvcmNlUmVkKHRoaXMpOiQudW1vZCh0aGlzLm0pLl9mb3JjZVJlZCh0aGlzKX0sb2UucHJvdG90eXBlLm5lZz1mdW5jdGlvbigkKXtyZXR1cm4gJC5pc1plcm8oKT8kLmNsb25lKCk6dGhpcy5tLnN1YigkKS5fZm9yY2VSZWQodGhpcyl9LG9lLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oJCxtKXt0aGlzLl92ZXJpZnkyKCQsbSk7dmFyIGw9JC5hZGQobSk7cmV0dXJuIGwuY21wKHRoaXMubSk+PTAmJmwuaXN1Yih0aGlzLm0pLGwuX2ZvcmNlUmVkKHRoaXMpfSxvZS5wcm90b3R5cGUuaWFkZD1mdW5jdGlvbigkLG0pe3RoaXMuX3ZlcmlmeTIoJCxtKTt2YXIgbD0kLmlhZGQobSk7cmV0dXJuIGwuY21wKHRoaXMubSk+PTAmJmwuaXN1Yih0aGlzLm0pLGx9LG9lLnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24oJCxtKXt0aGlzLl92ZXJpZnkyKCQsbSk7dmFyIGw9JC5zdWIobSk7cmV0dXJuIGwuY21wbigwKTwwJiZsLmlhZGQodGhpcy5tKSxsLl9mb3JjZVJlZCh0aGlzKX0sb2UucHJvdG90eXBlLmlzdWI9ZnVuY3Rpb24oJCxtKXt0aGlzLl92ZXJpZnkyKCQsbSk7dmFyIGw9JC5pc3ViKG0pO3JldHVybiBsLmNtcG4oMCk8MCYmbC5pYWRkKHRoaXMubSksbH0sb2UucHJvdG90eXBlLnNobD1mdW5jdGlvbigkLG0pe3JldHVybiB0aGlzLl92ZXJpZnkxKCQpLHRoaXMuaW1vZCgkLnVzaGxuKG0pKX0sb2UucHJvdG90eXBlLmltdWw9ZnVuY3Rpb24oJCxtKXtyZXR1cm4gdGhpcy5fdmVyaWZ5MigkLG0pLHRoaXMuaW1vZCgkLmltdWwobSkpfSxvZS5wcm90b3R5cGUubXVsPWZ1bmN0aW9uKCQsbSl7cmV0dXJuIHRoaXMuX3ZlcmlmeTIoJCxtKSx0aGlzLmltb2QoJC5tdWwobSkpfSxvZS5wcm90b3R5cGUuaXNxcj1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5pbXVsKCQsJC5jbG9uZSgpKX0sb2UucHJvdG90eXBlLnNxcj1mdW5jdGlvbigkKXtyZXR1cm4gdGhpcy5tdWwoJCwkKX0sb2UucHJvdG90eXBlLnNxcnQ9ZnVuY3Rpb24oJCl7aWYoJC5pc1plcm8oKSlyZXR1cm4gJC5jbG9uZSgpO3ZhciBtPXRoaXMubS5hbmRsbigzKTtpZihhKG0lMj09PTEpLG09PT0zKXt2YXIgbD10aGlzLm0uYWRkKG5ldyBvKDEpKS5pdXNocm4oMik7cmV0dXJuIHRoaXMucG93KCQsbCl9Zm9yKHZhciB2PXRoaXMubS5zdWJuKDEpLEU9MDshdi5pc1plcm8oKSYmdi5hbmRsbigxKT09PTA7KUUrKyx2Lml1c2hybigxKTthKCF2LmlzWmVybygpKTt2YXIgUz1uZXcgbygxKS50b1JlZCh0aGlzKSxCPVMucmVkTmVnKCksQT10aGlzLm0uc3VibigxKS5pdXNocm4oMSkseT10aGlzLm0uYml0TGVuZ3RoKCk7Zm9yKHk9bmV3IG8oMip5KnkpLnRvUmVkKHRoaXMpO3RoaXMucG93KHksQSkuY21wKEIpIT09MDspeS5yZWRJQWRkKEIpO2Zvcih2YXIgeD10aGlzLnBvdyh5LHYpLHA9dGhpcy5wb3coJCx2LmFkZG4oMSkuaXVzaHJuKDEpKSxJPXRoaXMucG93KCQsdiksZWU9RTtJLmNtcChTKSE9PTA7KXtmb3IodmFyIGZlPUksSj0wO2ZlLmNtcChTKSE9PTA7SisrKWZlPWZlLnJlZFNxcigpO2EoSjxlZSk7dmFyIGs9dGhpcy5wb3coeCxuZXcgbygxKS5pdXNobG4oZWUtSi0xKSk7cD1wLnJlZE11bChrKSx4PWsucmVkU3FyKCksST1JLnJlZE11bCh4KSxlZT1KfXJldHVybiBwfSxvZS5wcm90b3R5cGUuaW52bT1mdW5jdGlvbigkKXt2YXIgbT0kLl9pbnZtcCh0aGlzLm0pO3JldHVybiBtLm5lZ2F0aXZlIT09MD8obS5uZWdhdGl2ZT0wLHRoaXMuaW1vZChtKS5yZWROZWcoKSk6dGhpcy5pbW9kKG0pfSxvZS5wcm90b3R5cGUucG93PWZ1bmN0aW9uKCQsbSl7aWYobS5pc1plcm8oKSlyZXR1cm4gbmV3IG8oMSkudG9SZWQodGhpcyk7aWYobS5jbXBuKDEpPT09MClyZXR1cm4gJC5jbG9uZSgpO3ZhciBsPTQsdj1uZXcgQXJyYXkoMTw8bCk7dlswXT1uZXcgbygxKS50b1JlZCh0aGlzKSx2WzFdPSQ7Zm9yKHZhciBFPTI7RTx2Lmxlbmd0aDtFKyspdltFXT10aGlzLm11bCh2W0UtMV0sJCk7dmFyIFM9dlswXSxCPTAsQT0wLHk9bS5iaXRMZW5ndGgoKSUyNjtmb3IoeT09PTAmJih5PTI2KSxFPW0ubGVuZ3RoLTE7RT49MDtFLS0pe2Zvcih2YXIgeD1tLndvcmRzW0VdLHA9eS0xO3A+PTA7cC0tKXt2YXIgST14Pj5wJjE7aWYoUyE9PXZbMF0mJihTPXRoaXMuc3FyKFMpKSxJPT09MCYmQj09PTApe0E9MDtjb250aW51ZX1CPDw9MSxCfD1JLEErKywhKEEhPT1sJiYoRSE9PTB8fHAhPT0wKSkmJihTPXRoaXMubXVsKFMsdltCXSksQT0wLEI9MCl9eT0yNn1yZXR1cm4gU30sb2UucHJvdG90eXBlLmNvbnZlcnRUbz1mdW5jdGlvbigkKXt2YXIgbT0kLnVtb2QodGhpcy5tKTtyZXR1cm4gbT09PSQ/bS5jbG9uZSgpOm19LG9lLnByb3RvdHlwZS5jb252ZXJ0RnJvbT1mdW5jdGlvbigkKXt2YXIgbT0kLmNsb25lKCk7cmV0dXJuIG0ucmVkPW51bGwsbX0sby5tb250PWZ1bmN0aW9uKCQpe3JldHVybiBuZXcgeWUoJCl9O2Z1bmN0aW9uIHllKFgpe29lLmNhbGwodGhpcyxYKSx0aGlzLnNoaWZ0PXRoaXMubS5iaXRMZW5ndGgoKSx0aGlzLnNoaWZ0JTI2IT09MCYmKHRoaXMuc2hpZnQrPTI2LXRoaXMuc2hpZnQlMjYpLHRoaXMucj1uZXcgbygxKS5pdXNobG4odGhpcy5zaGlmdCksdGhpcy5yMj10aGlzLmltb2QodGhpcy5yLnNxcigpKSx0aGlzLnJpbnY9dGhpcy5yLl9pbnZtcCh0aGlzLm0pLHRoaXMubWludj10aGlzLnJpbnYubXVsKHRoaXMucikuaXN1Ym4oMSkuZGl2KHRoaXMubSksdGhpcy5taW52PXRoaXMubWludi51bW9kKHRoaXMuciksdGhpcy5taW52PXRoaXMuci5zdWIodGhpcy5taW52KX11KHllLG9lKSx5ZS5wcm90b3R5cGUuY29udmVydFRvPWZ1bmN0aW9uKCQpe3JldHVybiB0aGlzLmltb2QoJC51c2hsbih0aGlzLnNoaWZ0KSl9LHllLnByb3RvdHlwZS5jb252ZXJ0RnJvbT1mdW5jdGlvbigkKXt2YXIgbT10aGlzLmltb2QoJC5tdWwodGhpcy5yaW52KSk7cmV0dXJuIG0ucmVkPW51bGwsbX0seWUucHJvdG90eXBlLmltdWw9ZnVuY3Rpb24oJCxtKXtpZigkLmlzWmVybygpfHxtLmlzWmVybygpKXJldHVybiAkLndvcmRzWzBdPTAsJC5sZW5ndGg9MSwkO3ZhciBsPSQuaW11bChtKSx2PWwubWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubWludikuaW1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm0pLEU9bC5pc3ViKHYpLml1c2hybih0aGlzLnNoaWZ0KSxTPUU7cmV0dXJuIEUuY21wKHRoaXMubSk+PTA/Uz1FLmlzdWIodGhpcy5tKTpFLmNtcG4oMCk8MCYmKFM9RS5pYWRkKHRoaXMubSkpLFMuX2ZvcmNlUmVkKHRoaXMpfSx5ZS5wcm90b3R5cGUubXVsPWZ1bmN0aW9uKCQsbSl7aWYoJC5pc1plcm8oKXx8bS5pc1plcm8oKSlyZXR1cm4gbmV3IG8oMCkuX2ZvcmNlUmVkKHRoaXMpO3ZhciBsPSQubXVsKG0pLHY9bC5tYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5taW52KS5pbWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubSksRT1sLmlzdWIodikuaXVzaHJuKHRoaXMuc2hpZnQpLFM9RTtyZXR1cm4gRS5jbXAodGhpcy5tKT49MD9TPUUuaXN1Yih0aGlzLm0pOkUuY21wbigwKTwwJiYoUz1FLmlhZGQodGhpcy5tKSksUy5fZm9yY2VSZWQodGhpcyl9LHllLnByb3RvdHlwZS5pbnZtPWZ1bmN0aW9uKCQpe3ZhciBtPXRoaXMuaW1vZCgkLl9pbnZtcCh0aGlzLm0pLm11bCh0aGlzLnIyKSk7cmV0dXJuIG0uX2ZvcmNlUmVkKHRoaXMpfX0pKGUsY29tbW9uanNHbG9iYWwpfShibiQyKTt2YXIgYm5FeHBvcnRzJDI9Ym4kMi5leHBvcnRzLGJyb3JhbmQ9e2V4cG9ydHM6e319LGhhc1JlcXVpcmVkQnJvcmFuZDtmdW5jdGlvbiByZXF1aXJlQnJvcmFuZCgpe2lmKGhhc1JlcXVpcmVkQnJvcmFuZClyZXR1cm4gYnJvcmFuZC5leHBvcnRzO2hhc1JlcXVpcmVkQnJvcmFuZD0xO3ZhciBlO2Jyb3JhbmQuZXhwb3J0cz1mdW5jdGlvbih1KXtyZXR1cm4gZXx8KGU9bmV3IHQobnVsbCkpLGUuZ2VuZXJhdGUodSl9O2Z1bmN0aW9uIHQoYSl7dGhpcy5yYW5kPWF9aWYoYnJvcmFuZC5leHBvcnRzLlJhbmQ9dCx0LnByb3RvdHlwZS5nZW5lcmF0ZT1mdW5jdGlvbih1KXtyZXR1cm4gdGhpcy5fcmFuZCh1KX0sdC5wcm90b3R5cGUuX3JhbmQ9ZnVuY3Rpb24odSl7aWYodGhpcy5yYW5kLmdldEJ5dGVzKXJldHVybiB0aGlzLnJhbmQuZ2V0Qnl0ZXModSk7Zm9yKHZhciBvPW5ldyBVaW50OEFycmF5KHUpLGg9MDtoPG8ubGVuZ3RoO2grKylvW2hdPXRoaXMucmFuZC5nZXRCeXRlKCk7cmV0dXJuIG99LHR5cGVvZiBzZWxmPT0ib2JqZWN0IilzZWxmLmNyeXB0byYmc2VsZi5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzP3QucHJvdG90eXBlLl9yYW5kPWZ1bmN0aW9uKHUpe3ZhciBvPW5ldyBVaW50OEFycmF5KHUpO3JldHVybiBzZWxmLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobyksb306c2VsZi5tc0NyeXB0byYmc2VsZi5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXM/dC5wcm90b3R5cGUuX3JhbmQ9ZnVuY3Rpb24odSl7dmFyIG89bmV3IFVpbnQ4QXJyYXkodSk7cmV0dXJuIHNlbGYubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG8pLG99OnR5cGVvZiB3aW5kb3c9PSJvYmplY3QiJiYodC5wcm90b3R5cGUuX3JhbmQ9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCB5ZXQiKX0pO2Vsc2UgdHJ5e3ZhciBuPXJlcXVpcmVDcnlwdG9Ccm93c2VyaWZ5KCk7aWYodHlwZW9mIG4ucmFuZG9tQnl0ZXMhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJOb3Qgc3VwcG9ydGVkIik7dC5wcm90b3R5cGUuX3JhbmQ9ZnVuY3Rpb24odSl7cmV0dXJuIG4ucmFuZG9tQnl0ZXModSl9fWNhdGNoe31yZXR1cm4gYnJvcmFuZC5leHBvcnRzfXZhciBtcixoYXNSZXF1aXJlZE1yO2Z1bmN0aW9uIHJlcXVpcmVNcigpe2lmKGhhc1JlcXVpcmVkTXIpcmV0dXJuIG1yO2hhc1JlcXVpcmVkTXI9MTt2YXIgZT1ibkV4cG9ydHMkMix0PXJlcXVpcmVCcm9yYW5kKCk7ZnVuY3Rpb24gbihhKXt0aGlzLnJhbmQ9YXx8bmV3IHQuUmFuZH1yZXR1cm4gbXI9bixuLmNyZWF0ZT1mdW5jdGlvbih1KXtyZXR1cm4gbmV3IG4odSl9LG4ucHJvdG90eXBlLl9yYW5kYmVsb3c9ZnVuY3Rpb24odSl7dmFyIG89dS5iaXRMZW5ndGgoKSxoPU1hdGguY2VpbChvLzgpO2RvIHZhciBkPW5ldyBlKHRoaXMucmFuZC5nZW5lcmF0ZShoKSk7d2hpbGUoZC5jbXAodSk+PTApO3JldHVybiBkfSxuLnByb3RvdHlwZS5fcmFuZHJhbmdlPWZ1bmN0aW9uKHUsbyl7dmFyIGg9by5zdWIodSk7cmV0dXJuIHUuYWRkKHRoaXMuX3JhbmRiZWxvdyhoKSl9LG4ucHJvdG90eXBlLnRlc3Q9ZnVuY3Rpb24odSxvLGgpe3ZhciBkPXUuYml0TGVuZ3RoKCksdz1lLm1vbnQodSksXz1uZXcgZSgxKS50b1JlZCh3KTtvfHwobz1NYXRoLm1heCgxLGQvNDh8MCkpO2Zvcih2YXIgYj11LnN1Ym4oMSksTT0wOyFiLnRlc3RuKE0pO00rKyk7Zm9yKHZhciBPPXUuc2hybihNKSxUPWIudG9SZWQodyksUD0hMDtvPjA7by0tKXt2YXIgTD10aGlzLl9yYW5kcmFuZ2UobmV3IGUoMiksYik7aCYmaChMKTt2YXIgej1MLnRvUmVkKHcpLnJlZFBvdyhPKTtpZighKHouY21wKF8pPT09MHx8ei5jbXAoVCk9PT0wKSl7Zm9yKHZhciBIPTE7SDxNO0grKyl7aWYoej16LnJlZFNxcigpLHouY21wKF8pPT09MClyZXR1cm4hMTtpZih6LmNtcChUKT09PTApYnJlYWt9aWYoSD09PU0pcmV0dXJuITF9fXJldHVybiBQfSxuLnByb3RvdHlwZS5nZXREaXZpc29yPWZ1bmN0aW9uKHUsbyl7dmFyIGg9dS5iaXRMZW5ndGgoKSxkPWUubW9udCh1KSx3PW5ldyBlKDEpLnRvUmVkKGQpO298fChvPU1hdGgubWF4KDEsaC80OHwwKSk7Zm9yKHZhciBfPXUuc3VibigxKSxiPTA7IV8udGVzdG4oYik7YisrKTtmb3IodmFyIE09dS5zaHJuKGIpLE89Xy50b1JlZChkKTtvPjA7by0tKXt2YXIgVD10aGlzLl9yYW5kcmFuZ2UobmV3IGUoMiksXyksUD11LmdjZChUKTtpZihQLmNtcG4oMSkhPT0wKXJldHVybiBQO3ZhciBMPVQudG9SZWQoZCkucmVkUG93KE0pO2lmKCEoTC5jbXAodyk9PT0wfHxMLmNtcChPKT09PTApKXtmb3IodmFyIHo9MTt6PGI7eisrKXtpZihMPUwucmVkU3FyKCksTC5jbXAodyk9PT0wKXJldHVybiBMLmZyb21SZWQoKS5zdWJuKDEpLmdjZCh1KTtpZihMLmNtcChPKT09PTApYnJlYWt9aWYoej09PWIpcmV0dXJuIEw9TC5yZWRTcXIoKSxMLmZyb21SZWQoKS5zdWJuKDEpLmdjZCh1KX19cmV0dXJuITF9LG1yfXZhciBnZW5lcmF0ZVByaW1lLGhhc1JlcXVpcmVkR2VuZXJhdGVQcmltZTtmdW5jdGlvbiByZXF1aXJlR2VuZXJhdGVQcmltZSgpe2lmKGhhc1JlcXVpcmVkR2VuZXJhdGVQcmltZSlyZXR1cm4gZ2VuZXJhdGVQcmltZTtoYXNSZXF1aXJlZEdlbmVyYXRlUHJpbWU9MTt2YXIgZT1icm93c2VyRXhwb3J0cztnZW5lcmF0ZVByaW1lPXosei5zaW1wbGVTaWV2ZT1QLHouZmVybWF0VGVzdD1MO3ZhciB0PWJuRXhwb3J0cyQyLG49bmV3IHQoMjQpLGE9cmVxdWlyZU1yKCksdT1uZXcgYSxvPW5ldyB0KDEpLGg9bmV3IHQoMiksZD1uZXcgdCg1KTtuZXcgdCgxNiksbmV3IHQoOCk7dmFyIHc9bmV3IHQoMTApLF89bmV3IHQoMyk7bmV3IHQoNyk7dmFyIGI9bmV3IHQoMTEpLE09bmV3IHQoNCk7bmV3IHQoMTIpO3ZhciBPPW51bGw7ZnVuY3Rpb24gVCgpe2lmKE8hPT1udWxsKXJldHVybiBPO3ZhciBIPTEwNDg1NzYsVj1bXTtWWzBdPTI7Zm9yKHZhciBhZT0xLGllPTM7aWU8SDtpZSs9Mil7Zm9yKHZhciBRPU1hdGguY2VpbChNYXRoLnNxcnQoaWUpKSxyZT0wO3JlPGFlJiZWW3JlXTw9USYmaWUlVltyZV0hPT0wO3JlKyspO2FlIT09cmUmJlZbcmVdPD1RfHwoVlthZSsrXT1pZSl9cmV0dXJuIE89VixWfWZ1bmN0aW9uIFAoSCl7Zm9yKHZhciBWPVQoKSxhZT0wO2FlPFYubGVuZ3RoO2FlKyspaWYoSC5tb2RuKFZbYWVdKT09PTApcmV0dXJuIEguY21wbihWW2FlXSk9PT0wO3JldHVybiEwfWZ1bmN0aW9uIEwoSCl7dmFyIFY9dC5tb250KEgpO3JldHVybiBoLnRvUmVkKFYpLnJlZFBvdyhILnN1Ym4oMSkpLmZyb21SZWQoKS5jbXBuKDEpPT09MH1mdW5jdGlvbiB6KEgsVil7aWYoSDwxNilyZXR1cm4gVj09PTJ8fFY9PT01P25ldyB0KFsxNDAsMTIzXSk6bmV3IHQoWzE0MCwzOV0pO1Y9bmV3IHQoVik7Zm9yKHZhciBhZSxpZTs7KXtmb3IoYWU9bmV3IHQoZShNYXRoLmNlaWwoSC84KSkpO2FlLmJpdExlbmd0aCgpPkg7KWFlLmlzaHJuKDEpO2lmKGFlLmlzRXZlbigpJiZhZS5pYWRkKG8pLGFlLnRlc3RuKDEpfHxhZS5pYWRkKGgpLFYuY21wKGgpKXtpZighVi5jbXAoZCkpZm9yKDthZS5tb2QodykuY21wKF8pOylhZS5pYWRkKE0pfWVsc2UgZm9yKDthZS5tb2QobikuY21wKGIpOylhZS5pYWRkKE0pO2lmKGllPWFlLnNocm4oMSksUChpZSkmJlAoYWUpJiZMKGllKSYmTChhZSkmJnUudGVzdChpZSkmJnUudGVzdChhZSkpcmV0dXJuIGFlfX1yZXR1cm4gZ2VuZXJhdGVQcmltZX1jb25zdCBtb2RwMT17Z2VuOiIwMiIscHJpbWU6ImZmZmZmZmZmZmZmZmZmZmZjOTBmZGFhMjIxNjhjMjM0YzRjNjYyOGI4MGRjMWNkMTI5MDI0ZTA4OGE2N2NjNzQwMjBiYmVhNjNiMTM5YjIyNTE0YTA4Nzk4ZTM0MDRkZGVmOTUxOWIzY2QzYTQzMWIzMDJiMGE2ZGYyNWYxNDM3NGZlMTM1NmQ2ZDUxYzI0NWU0ODViNTc2NjI1ZTdlYzZmNDRjNDJlOWE2M2EzNjIwZmZmZmZmZmZmZmZmZmZmZiJ9LG1vZHAyPXtnZW46IjAyIixwcmltZToiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTY1MzgxZmZmZmZmZmZmZmZmZmZmZiJ9LG1vZHA1PXtnZW46IjAyIixwcmltZToiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTQ1YjNkYzIwMDdjYjhhMTYzYmYwNTk4ZGE0ODM2MWM1NWQzOWE2OTE2M2ZhOGZkMjRjZjVmODM2NTVkMjNkY2EzYWQ5NjFjNjJmMzU2MjA4NTUyYmI5ZWQ1MjkwNzcwOTY5NjZkNjcwYzM1NGU0YWJjOTgwNGYxNzQ2YzA4Y2EyMzczMjdmZmZmZmZmZmZmZmZmZmZmIn0sbW9kcDE0PXtnZW46IjAyIixwcmltZToiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTQ1YjNkYzIwMDdjYjhhMTYzYmYwNTk4ZGE0ODM2MWM1NWQzOWE2OTE2M2ZhOGZkMjRjZjVmODM2NTVkMjNkY2EzYWQ5NjFjNjJmMzU2MjA4NTUyYmI5ZWQ1MjkwNzcwOTY5NjZkNjcwYzM1NGU0YWJjOTgwNGYxNzQ2YzA4Y2ExODIxN2MzMjkwNWU0NjJlMzZjZTNiZTM5ZTc3MmMxODBlODYwMzliMjc4M2EyZWMwN2EyOGZiNWM1NWRmMDZmNGM1MmM5ZGUyYmNiZjY5NTU4MTcxODM5OTU0OTdjZWE5NTZhZTUxNWQyMjYxODk4ZmEwNTEwMTU3MjhlNWE4YWFjYWE2OGZmZmZmZmZmZmZmZmZmZmYifSxtb2RwMTU9e2dlbjoiMDIiLHByaW1lOiJmZmZmZmZmZmZmZmZmZmZmYzkwZmRhYTIyMTY4YzIzNGM0YzY2MjhiODBkYzFjZDEyOTAyNGUwODhhNjdjYzc0MDIwYmJlYTYzYjEzOWIyMjUxNGEwODc5OGUzNDA0ZGRlZjk1MTliM2NkM2E0MzFiMzAyYjBhNmRmMjVmMTQzNzRmZTEzNTZkNmQ1MWMyNDVlNDg1YjU3NjYyNWU3ZWM2ZjQ0YzQyZTlhNjM3ZWQ2YjBiZmY1Y2I2ZjQwNmI3ZWRlZTM4NmJmYjVhODk5ZmE1YWU5ZjI0MTE3YzRiMWZlNjQ5Mjg2NjUxZWNlNDViM2RjMjAwN2NiOGExNjNiZjA1OThkYTQ4MzYxYzU1ZDM5YTY5MTYzZmE4ZmQyNGNmNWY4MzY1NWQyM2RjYTNhZDk2MWM2MmYzNTYyMDg1NTJiYjllZDUyOTA3NzA5Njk2NmQ2NzBjMzU0ZTRhYmM5ODA0ZjE3NDZjMDhjYTE4MjE3YzMyOTA1ZTQ2MmUzNmNlM2JlMzllNzcyYzE4MGU4NjAzOWIyNzgzYTJlYzA3YTI4ZmI1YzU1ZGYwNmY0YzUyYzlkZTJiY2JmNjk1NTgxNzE4Mzk5NTQ5N2NlYTk1NmFlNTE1ZDIyNjE4OThmYTA1MTAxNTcyOGU1YThhYWFjNDJkYWQzMzE3MGQwNDUwN2EzM2E4NTUyMWFiZGYxY2JhNjRlY2ZiODUwNDU4ZGJlZjBhOGFlYTcxNTc1ZDA2MGM3ZGIzOTcwZjg1YTZlMWU0YzdhYmY1YWU4Y2RiMDkzM2Q3MWU4Yzk0ZTA0YTI1NjE5ZGNlZTNkMjI2MWFkMmVlNmJmMTJmZmEwNmQ5OGEwODY0ZDg3NjAyNzMzZWM4NmE2NDUyMWYyYjE4MTc3YjIwMGNiYmUxMTc1NzdhNjE1ZDZjNzcwOTg4YzBiYWQ5NDZlMjA4ZTI0ZmEwNzRlNWFiMzE0M2RiNWJmY2UwZmQxMDhlNGI4MmQxMjBhOTNhZDJjYWZmZmZmZmZmZmZmZmZmZmYifSxtb2RwMTY9e2dlbjoiMDIiLHByaW1lOiJmZmZmZmZmZmZmZmZmZmZmYzkwZmRhYTIyMTY4YzIzNGM0YzY2MjhiODBkYzFjZDEyOTAyNGUwODhhNjdjYzc0MDIwYmJlYTYzYjEzOWIyMjUxNGEwODc5OGUzNDA0ZGRlZjk1MTliM2NkM2E0MzFiMzAyYjBhNmRmMjVmMTQzNzRmZTEzNTZkNmQ1MWMyNDVlNDg1YjU3NjYyNWU3ZWM2ZjQ0YzQyZTlhNjM3ZWQ2YjBiZmY1Y2I2ZjQwNmI3ZWRlZTM4NmJmYjVhODk5ZmE1YWU5ZjI0MTE3YzRiMWZlNjQ5Mjg2NjUxZWNlNDViM2RjMjAwN2NiOGExNjNiZjA1OThkYTQ4MzYxYzU1ZDM5YTY5MTYzZmE4ZmQyNGNmNWY4MzY1NWQyM2RjYTNhZDk2MWM2MmYzNTYyMDg1NTJiYjllZDUyOTA3NzA5Njk2NmQ2NzBjMzU0ZTRhYmM5ODA0ZjE3NDZjMDhjYTE4MjE3YzMyOTA1ZTQ2MmUzNmNlM2JlMzllNzcyYzE4MGU4NjAzOWIyNzgzYTJlYzA3YTI4ZmI1YzU1ZGYwNmY0YzUyYzlkZTJiY2JmNjk1NTgxNzE4Mzk5NTQ5N2NlYTk1NmFlNTE1ZDIyNjE4OThmYTA1MTAxNTcyOGU1YThhYWFjNDJkYWQzMzE3MGQwNDUwN2EzM2E4NTUyMWFiZGYxY2JhNjRlY2ZiODUwNDU4ZGJlZjBhOGFlYTcxNTc1ZDA2MGM3ZGIzOTcwZjg1YTZlMWU0YzdhYmY1YWU4Y2RiMDkzM2Q3MWU4Yzk0ZTA0YTI1NjE5ZGNlZTNkMjI2MWFkMmVlNmJmMTJmZmEwNmQ5OGEwODY0ZDg3NjAyNzMzZWM4NmE2NDUyMWYyYjE4MTc3YjIwMGNiYmUxMTc1NzdhNjE1ZDZjNzcwOTg4YzBiYWQ5NDZlMjA4ZTI0ZmEwNzRlNWFiMzE0M2RiNWJmY2UwZmQxMDhlNGI4MmQxMjBhOTIxMDgwMTFhNzIzYzEyYTc4N2U2ZDc4ODcxOWExMGJkYmE1YjI2OTljMzI3MTg2YWY0ZTIzYzFhOTQ2ODM0YjYxNTBiZGEyNTgzZTljYTJhZDQ0Y2U4ZGJiYmMyZGIwNGRlOGVmOTJlOGVmYzE0MWZiZWNhYTYyODdjNTk0NzRlNmJjMDVkOTliMjk2NGZhMDkwYzNhMjIzM2JhMTg2NTE1YmU3ZWQxZjYxMjk3MGNlZTJkN2FmYjgxYmRkNzYyMTcwNDgxY2QwMDY5MTI3ZDViMDVhYTk5M2I0ZWE5ODhkOGZkZGMxODZmZmI3ZGM5MGE2YzA4ZjRkZjQzNWM5MzQwNjMxOTlmZmZmZmZmZmZmZmZmZmZmIn0sbW9kcDE3PXtnZW46IjAyIixwcmltZToiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTQ1YjNkYzIwMDdjYjhhMTYzYmYwNTk4ZGE0ODM2MWM1NWQzOWE2OTE2M2ZhOGZkMjRjZjVmODM2NTVkMjNkY2EzYWQ5NjFjNjJmMzU2MjA4NTUyYmI5ZWQ1MjkwNzcwOTY5NjZkNjcwYzM1NGU0YWJjOTgwNGYxNzQ2YzA4Y2ExODIxN2MzMjkwNWU0NjJlMzZjZTNiZTM5ZTc3MmMxODBlODYwMzliMjc4M2EyZWMwN2EyOGZiNWM1NWRmMDZmNGM1MmM5ZGUyYmNiZjY5NTU4MTcxODM5OTU0OTdjZWE5NTZhZTUxNWQyMjYxODk4ZmEwNTEwMTU3MjhlNWE4YWFhYzQyZGFkMzMxNzBkMDQ1MDdhMzNhODU1MjFhYmRmMWNiYTY0ZWNmYjg1MDQ1OGRiZWYwYThhZWE3MTU3NWQwNjBjN2RiMzk3MGY4NWE2ZTFlNGM3YWJmNWFlOGNkYjA5MzNkNzFlOGM5NGUwNGEyNTYxOWRjZWUzZDIyNjFhZDJlZTZiZjEyZmZhMDZkOThhMDg2NGQ4NzYwMjczM2VjODZhNjQ1MjFmMmIxODE3N2IyMDBjYmJlMTE3NTc3YTYxNWQ2Yzc3MDk4OGMwYmFkOTQ2ZTIwOGUyNGZhMDc0ZTVhYjMxNDNkYjViZmNlMGZkMTA4ZTRiODJkMTIwYTkyMTA4MDExYTcyM2MxMmE3ODdlNmQ3ODg3MTlhMTBiZGJhNWIyNjk5YzMyNzE4NmFmNGUyM2MxYTk0NjgzNGI2MTUwYmRhMjU4M2U5Y2EyYWQ0NGNlOGRiYmJjMmRiMDRkZThlZjkyZThlZmMxNDFmYmVjYWE2Mjg3YzU5NDc0ZTZiYzA1ZDk5YjI5NjRmYTA5MGMzYTIyMzNiYTE4NjUxNWJlN2VkMWY2MTI5NzBjZWUyZDdhZmI4MWJkZDc2MjE3MDQ4MWNkMDA2OTEyN2Q1YjA1YWE5OTNiNGVhOTg4ZDhmZGRjMTg2ZmZiN2RjOTBhNmMwOGY0ZGY0MzVjOTM0MDI4NDkyMzZjM2ZhYjRkMjdjNzAyNmMxZDRkY2IyNjAyNjQ2ZGVjOTc1MWU3NjNkYmEzN2JkZjhmZjk0MDZhZDllNTMwZWU1ZGIzODJmNDEzMDAxYWViMDZhNTNlZDkwMjdkODMxMTc5NzI3YjA4NjVhODkxOGRhM2VkYmViY2Y5YjE0ZWQ0NGNlNmNiYWNlZDRiYjFiZGI3ZjE0NDdlNmNjMjU0YjMzMjA1MTUxMmJkN2FmNDI2ZmI4ZjQwMTM3OGNkMmJmNTk4M2NhMDFjNjRiOTJlY2YwMzJlYTE1ZDE3MjFkMDNmNDgyZDdjZTZlNzRmZWY2ZDU1ZTcwMmY0Njk4MGM4MmI1YTg0MDMxOTAwYjFjOWU1OWU3Yzk3ZmJlYzdlOGYzMjNhOTdhN2UzNmNjODhiZTBmMWQ0NWI3ZmY1ODVhYzU0YmQ0MDdiMjJiNDE1NGFhY2M4ZjZkN2ViZjQ4ZTFkODE0Y2M1ZWQyMGY4MDM3ZTBhNzk3MTVlZWYyOWJlMzI4MDZhMWQ1OGJiN2M1ZGE3NmY1NTBhYTNkOGExZmJmZjBlYjE5Y2NiMWEzMTNkNTVjZGE1NmM5ZWMyZWYyOTYzMjM4N2ZlOGQ3NmUzYzA0NjgwNDNlOGY2NjNmNDg2MGVlMTJiZjJkNWIwYjc0NzRkNmU2OTRmOTFlNmRjYzQwMjRmZmZmZmZmZmZmZmZmZmZmIn0sbW9kcDE4PXtnZW46IjAyIixwcmltZToiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTQ1YjNkYzIwMDdjYjhhMTYzYmYwNTk4ZGE0ODM2MWM1NWQzOWE2OTE2M2ZhOGZkMjRjZjVmODM2NTVkMjNkY2EzYWQ5NjFjNjJmMzU2MjA4NTUyYmI5ZWQ1MjkwNzcwOTY5NjZkNjcwYzM1NGU0YWJjOTgwNGYxNzQ2YzA4Y2ExODIxN2MzMjkwNWU0NjJlMzZjZTNiZTM5ZTc3MmMxODBlODYwMzliMjc4M2EyZWMwN2EyOGZiNWM1NWRmMDZmNGM1MmM5ZGUyYmNiZjY5NTU4MTcxODM5OTU0OTdjZWE5NTZhZTUxNWQyMjYxODk4ZmEwNTEwMTU3MjhlNWE4YWFhYzQyZGFkMzMxNzBkMDQ1MDdhMzNhODU1MjFhYmRmMWNiYTY0ZWNmYjg1MDQ1OGRiZWYwYThhZWE3MTU3NWQwNjBjN2RiMzk3MGY4NWE2ZTFlNGM3YWJmNWFlOGNkYjA5MzNkNzFlOGM5NGUwNGEyNTYxOWRjZWUzZDIyNjFhZDJlZTZiZjEyZmZhMDZkOThhMDg2NGQ4NzYwMjczM2VjODZhNjQ1MjFmMmIxODE3N2IyMDBjYmJlMTE3NTc3YTYxNWQ2Yzc3MDk4OGMwYmFkOTQ2ZTIwOGUyNGZhMDc0ZTVhYjMxNDNkYjViZmNlMGZkMTA4ZTRiODJkMTIwYTkyMTA4MDExYTcyM2MxMmE3ODdlNmQ3ODg3MTlhMTBiZGJhNWIyNjk5YzMyNzE4NmFmNGUyM2MxYTk0NjgzNGI2MTUwYmRhMjU4M2U5Y2EyYWQ0NGNlOGRiYmJjMmRiMDRkZThlZjkyZThlZmMxNDFmYmVjYWE2Mjg3YzU5NDc0ZTZiYzA1ZDk5YjI5NjRmYTA5MGMzYTIyMzNiYTE4NjUxNWJlN2VkMWY2MTI5NzBjZWUyZDdhZmI4MWJkZDc2MjE3MDQ4MWNkMDA2OTEyN2Q1YjA1YWE5OTNiNGVhOTg4ZDhmZGRjMTg2ZmZiN2RjOTBhNmMwOGY0ZGY0MzVjOTM0MDI4NDkyMzZjM2ZhYjRkMjdjNzAyNmMxZDRkY2IyNjAyNjQ2ZGVjOTc1MWU3NjNkYmEzN2JkZjhmZjk0MDZhZDllNTMwZWU1ZGIzODJmNDEzMDAxYWViMDZhNTNlZDkwMjdkODMxMTc5NzI3YjA4NjVhODkxOGRhM2VkYmViY2Y5YjE0ZWQ0NGNlNmNiYWNlZDRiYjFiZGI3ZjE0NDdlNmNjMjU0YjMzMjA1MTUxMmJkN2FmNDI2ZmI4ZjQwMTM3OGNkMmJmNTk4M2NhMDFjNjRiOTJlY2YwMzJlYTE1ZDE3MjFkMDNmNDgyZDdjZTZlNzRmZWY2ZDU1ZTcwMmY0Njk4MGM4MmI1YTg0MDMxOTAwYjFjOWU1OWU3Yzk3ZmJlYzdlOGYzMjNhOTdhN2UzNmNjODhiZTBmMWQ0NWI3ZmY1ODVhYzU0YmQ0MDdiMjJiNDE1NGFhY2M4ZjZkN2ViZjQ4ZTFkODE0Y2M1ZWQyMGY4MDM3ZTBhNzk3MTVlZWYyOWJlMzI4MDZhMWQ1OGJiN2M1ZGE3NmY1NTBhYTNkOGExZmJmZjBlYjE5Y2NiMWEzMTNkNTVjZGE1NmM5ZWMyZWYyOTYzMjM4N2ZlOGQ3NmUzYzA0NjgwNDNlOGY2NjNmNDg2MGVlMTJiZjJkNWIwYjc0NzRkNmU2OTRmOTFlNmRiZTExNTk3NGEzOTI2ZjEyZmVlNWU0Mzg3NzdjYjZhOTMyZGY4Y2Q4YmVjNGQwNzNiOTMxYmEzYmM4MzJiNjhkOWRkMzAwNzQxZmE3YmY4YWZjNDdlZDI1NzZmNjkzNmJhNDI0NjYzYWFiNjM5YzVhZTRmNTY4MzQyM2I0NzQyYmYxYzk3ODIzOGYxNmNiZTM5ZDY1MmRlM2ZkYjhiZWZjODQ4YWQ5MjIyMjJlMDRhNDAzN2MwNzEzZWI1N2E4MWEyM2YwYzczNDczZmM2NDZjZWEzMDZiNGJjYmM4ODYyZjgzODVkZGZhOWQ0YjdmYTJjMDg3ZTg3OTY4MzMwM2VkNWJkZDNhMDYyYjNjZjViM2EyNzhhNjZkMmExM2Y4M2Y0NGY4MmRkZjMxMGVlMDc0YWI2YTM2NDU5N2U4OTlhMDI1NWRjMTY0ZjMxY2M1MDg0Njg1MWRmOWFiNDgxOTVkZWQ3ZWExYjFkNTEwYmQ3ZWU3NGQ3M2ZhZjM2YmMzMWVjZmEyNjgzNTkwNDZmNGViODc5ZjkyNDAwOTQzOGI0ODFjNmNkNzg4OWEwMDJlZDVlZTM4MmJjOTE5MGRhNmZjMDI2ZTQ3OTU1OGU0NDc1Njc3ZTlhYTllMzA1MGUyNzY1Njk0ZGZjODFmNTZlODgwYjk2ZTcxNjBjOTgwZGQ5OGVkZDNkZmZmZmZmZmZmZmZmZmZmZmYifTt2YXIgcmVxdWlyZSQkMSQxPXttb2RwMSxtb2RwMixtb2RwNSxtb2RwMTQsbW9kcDE1LG1vZHAxNixtb2RwMTcsbW9kcDE4fSxkaCxoYXNSZXF1aXJlZERoO2Z1bmN0aW9uIHJlcXVpcmVEaCgpe2lmKGhhc1JlcXVpcmVkRGgpcmV0dXJuIGRoO2hhc1JlcXVpcmVkRGg9MTt2YXIgZT1ibkV4cG9ydHMkMix0PXJlcXVpcmVNcigpLG49bmV3IHQsYT1uZXcgZSgyNCksdT1uZXcgZSgxMSksbz1uZXcgZSgxMCksaD1uZXcgZSgzKSxkPW5ldyBlKDcpLHc9cmVxdWlyZUdlbmVyYXRlUHJpbWUoKSxfPWJyb3dzZXJFeHBvcnRzO2RoPVA7ZnVuY3Rpb24gYih6LEgpe3JldHVybiBIPUh8fCJ1dGY4IixidWZmZXIkMi5CdWZmZXIuaXNCdWZmZXIoeil8fCh6PW5ldyBidWZmZXIkMi5CdWZmZXIoeixIKSksdGhpcy5fcHViPW5ldyBlKHopLHRoaXN9ZnVuY3Rpb24gTSh6LEgpe3JldHVybiBIPUh8fCJ1dGY4IixidWZmZXIkMi5CdWZmZXIuaXNCdWZmZXIoeil8fCh6PW5ldyBidWZmZXIkMi5CdWZmZXIoeixIKSksdGhpcy5fcHJpdj1uZXcgZSh6KSx0aGlzfXZhciBPPXt9O2Z1bmN0aW9uIFQoeixIKXt2YXIgVj1ILnRvU3RyaW5nKCJoZXgiKSxhZT1bVix6LnRvU3RyaW5nKDE2KV0uam9pbigiXyIpO2lmKGFlIGluIE8pcmV0dXJuIE9bYWVdO3ZhciBpZT0wO2lmKHouaXNFdmVuKCl8fCF3LnNpbXBsZVNpZXZlfHwhdy5mZXJtYXRUZXN0KHopfHwhbi50ZXN0KHopKXJldHVybiBpZSs9MSxWPT09IjAyInx8Vj09PSIwNSI/aWUrPTg6aWUrPTQsT1thZV09aWUsaWU7bi50ZXN0KHouc2hybigxKSl8fChpZSs9Mik7dmFyIFE7c3dpdGNoKFYpe2Nhc2UiMDIiOnoubW9kKGEpLmNtcCh1KSYmKGllKz04KTticmVhaztjYXNlIjA1IjpRPXoubW9kKG8pLFEuY21wKGgpJiZRLmNtcChkKSYmKGllKz04KTticmVhaztkZWZhdWx0OmllKz00fXJldHVybiBPW2FlXT1pZSxpZX1mdW5jdGlvbiBQKHosSCxWKXt0aGlzLnNldEdlbmVyYXRvcihIKSx0aGlzLl9fcHJpbWU9bmV3IGUoeiksdGhpcy5fcHJpbWU9ZS5tb250KHRoaXMuX19wcmltZSksdGhpcy5fcHJpbWVMZW49ei5sZW5ndGgsdGhpcy5fcHViPXZvaWQgMCx0aGlzLl9wcml2PXZvaWQgMCx0aGlzLl9wcmltZUNvZGU9dm9pZCAwLFY/KHRoaXMuc2V0UHVibGljS2V5PWIsdGhpcy5zZXRQcml2YXRlS2V5PU0pOnRoaXMuX3ByaW1lQ29kZT04fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShQLnByb3RvdHlwZSwidmVyaWZ5RXJyb3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0eXBlb2YgdGhpcy5fcHJpbWVDb2RlIT0ibnVtYmVyIiYmKHRoaXMuX3ByaW1lQ29kZT1UKHRoaXMuX19wcmltZSx0aGlzLl9fZ2VuKSksdGhpcy5fcHJpbWVDb2RlfX0pLFAucHJvdG90eXBlLmdlbmVyYXRlS2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcml2fHwodGhpcy5fcHJpdj1uZXcgZShfKHRoaXMuX3ByaW1lTGVuKSkpLHRoaXMuX3B1Yj10aGlzLl9nZW4udG9SZWQodGhpcy5fcHJpbWUpLnJlZFBvdyh0aGlzLl9wcml2KS5mcm9tUmVkKCksdGhpcy5nZXRQdWJsaWNLZXkoKX0sUC5wcm90b3R5cGUuY29tcHV0ZVNlY3JldD1mdW5jdGlvbih6KXt6PW5ldyBlKHopLHo9ei50b1JlZCh0aGlzLl9wcmltZSk7dmFyIEg9ei5yZWRQb3codGhpcy5fcHJpdikuZnJvbVJlZCgpLFY9bmV3IGJ1ZmZlciQyLkJ1ZmZlcihILnRvQXJyYXkoKSksYWU9dGhpcy5nZXRQcmltZSgpO2lmKFYubGVuZ3RoPGFlLmxlbmd0aCl7dmFyIGllPW5ldyBidWZmZXIkMi5CdWZmZXIoYWUubGVuZ3RoLVYubGVuZ3RoKTtpZS5maWxsKDApLFY9YnVmZmVyJDIuQnVmZmVyLmNvbmNhdChbaWUsVl0pfXJldHVybiBWfSxQLnByb3RvdHlwZS5nZXRQdWJsaWNLZXk9ZnVuY3Rpb24oSCl7cmV0dXJuIEwodGhpcy5fcHViLEgpfSxQLnByb3RvdHlwZS5nZXRQcml2YXRlS2V5PWZ1bmN0aW9uKEgpe3JldHVybiBMKHRoaXMuX3ByaXYsSCl9LFAucHJvdG90eXBlLmdldFByaW1lPWZ1bmN0aW9uKHope3JldHVybiBMKHRoaXMuX19wcmltZSx6KX0sUC5wcm90b3R5cGUuZ2V0R2VuZXJhdG9yPWZ1bmN0aW9uKHope3JldHVybiBMKHRoaXMuX2dlbix6KX0sUC5wcm90b3R5cGUuc2V0R2VuZXJhdG9yPWZ1bmN0aW9uKHosSCl7cmV0dXJuIEg9SHx8InV0ZjgiLGJ1ZmZlciQyLkJ1ZmZlci5pc0J1ZmZlcih6KXx8KHo9bmV3IGJ1ZmZlciQyLkJ1ZmZlcih6LEgpKSx0aGlzLl9fZ2VuPXosdGhpcy5fZ2VuPW5ldyBlKHopLHRoaXN9O2Z1bmN0aW9uIEwoeixIKXt2YXIgVj1uZXcgYnVmZmVyJDIuQnVmZmVyKHoudG9BcnJheSgpKTtyZXR1cm4gSD9WLnRvU3RyaW5nKEgpOlZ9cmV0dXJuIGRofXZhciBoYXNSZXF1aXJlZEJyb3dzZXIkMjtmdW5jdGlvbiByZXF1aXJlQnJvd3NlciQyKCl7aWYoaGFzUmVxdWlyZWRCcm93c2VyJDIpcmV0dXJuIGJyb3dzZXIkNDtoYXNSZXF1aXJlZEJyb3dzZXIkMj0xO3ZhciBlPXJlcXVpcmVHZW5lcmF0ZVByaW1lKCksdD1yZXF1aXJlJCQxJDEsbj1yZXF1aXJlRGgoKTtmdW5jdGlvbiBhKGgpe3ZhciBkPW5ldyBidWZmZXIkMi5CdWZmZXIodFtoXS5wcmltZSwiaGV4Iiksdz1uZXcgYnVmZmVyJDIuQnVmZmVyKHRbaF0uZ2VuLCJoZXgiKTtyZXR1cm4gbmV3IG4oZCx3KX12YXIgdT17YmluYXJ5OiEwLGhleDohMCxiYXNlNjQ6ITB9O2Z1bmN0aW9uIG8oaCxkLHcsXyl7cmV0dXJuIGJ1ZmZlciQyLkJ1ZmZlci5pc0J1ZmZlcihkKXx8dVtkXT09PXZvaWQgMD9vKGgsImJpbmFyeSIsZCx3KTooZD1kfHwiYmluYXJ5IixfPV98fCJiaW5hcnkiLHc9d3x8bmV3IGJ1ZmZlciQyLkJ1ZmZlcihbMl0pLGJ1ZmZlciQyLkJ1ZmZlci5pc0J1ZmZlcih3KXx8KHc9bmV3IGJ1ZmZlciQyLkJ1ZmZlcih3LF8pKSx0eXBlb2YgaD09Im51bWJlciI/bmV3IG4oZShoLHcpLHcsITApOihidWZmZXIkMi5CdWZmZXIuaXNCdWZmZXIoaCl8fChoPW5ldyBidWZmZXIkMi5CdWZmZXIoaCxkKSksbmV3IG4oaCx3LCEwKSkpfXJldHVybiBicm93c2VyJDQuRGlmZmllSGVsbG1hbkdyb3VwPWJyb3dzZXIkNC5jcmVhdGVEaWZmaWVIZWxsbWFuR3JvdXA9YnJvd3NlciQ0LmdldERpZmZpZUhlbGxtYW49YSxicm93c2VyJDQuY3JlYXRlRGlmZmllSGVsbG1hbj1icm93c2VyJDQuRGlmZmllSGVsbG1hbj1vLGJyb3dzZXIkNH12YXIgcmVhZGFibGVCcm93c2VyPXtleHBvcnRzOnt9fSxwcm9jZXNzTmV4dGlja0FyZ3M9e2V4cG9ydHM6e319O3R5cGVvZiBhcGkkMT4idSJ8fCFhcGkkMS52ZXJzaW9ufHxhcGkkMS52ZXJzaW9uLmluZGV4T2YoInYwLiIpPT09MHx8YXBpJDEudmVyc2lvbi5pbmRleE9mKCJ2MS4iKT09PTAmJmFwaSQxLnZlcnNpb24uaW5kZXhPZigidjEuOC4iKSE9PTA/cHJvY2Vzc05leHRpY2tBcmdzLmV4cG9ydHM9e25leHRUaWNrfTpwcm9jZXNzTmV4dGlja0FyZ3MuZXhwb3J0cz1hcGkkMTtmdW5jdGlvbiBuZXh0VGljayhlLHQsbixhKXtpZih0eXBlb2YgZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCciY2FsbGJhY2siIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3ZhciB1PWFyZ3VtZW50cy5sZW5ndGgsbyxoO3N3aXRjaCh1KXtjYXNlIDA6Y2FzZSAxOnJldHVybiBhcGkkMS5uZXh0VGljayhlKTtjYXNlIDI6cmV0dXJuIGFwaSQxLm5leHRUaWNrKGZ1bmN0aW9uKCl7ZS5jYWxsKG51bGwsdCl9KTtjYXNlIDM6cmV0dXJuIGFwaSQxLm5leHRUaWNrKGZ1bmN0aW9uKCl7ZS5jYWxsKG51bGwsdCxuKX0pO2Nhc2UgNDpyZXR1cm4gYXBpJDEubmV4dFRpY2soZnVuY3Rpb24oKXtlLmNhbGwobnVsbCx0LG4sYSl9KTtkZWZhdWx0OmZvcihvPW5ldyBBcnJheSh1LTEpLGg9MDtoPG8ubGVuZ3RoOylvW2grK109YXJndW1lbnRzW2hdO3JldHVybiBhcGkkMS5uZXh0VGljayhmdW5jdGlvbigpe2UuYXBwbHkobnVsbCxvKX0pfX12YXIgcHJvY2Vzc05leHRpY2tBcmdzRXhwb3J0cz1wcm9jZXNzTmV4dGlja0FyZ3MuZXhwb3J0cyx0b1N0cmluZyQzPXt9LnRvU3RyaW5nLGlzYXJyYXk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHRvU3RyaW5nJDMuY2FsbChlKT09IltvYmplY3QgQXJyYXldIn0sc3RyZWFtQnJvd3Nlcj1ldmVudHNFeHBvcnRzLkV2ZW50RW1pdHRlcixzYWZlQnVmZmVyJDE9e2V4cG9ydHM6e319OyhmdW5jdGlvbihlLHQpe3ZhciBuPWJ1ZmZlciQyLGE9bi5CdWZmZXI7ZnVuY3Rpb24gdShoLGQpe2Zvcih2YXIgdyBpbiBoKWRbd109aFt3XX1hLmZyb20mJmEuYWxsb2MmJmEuYWxsb2NVbnNhZmUmJmEuYWxsb2NVbnNhZmVTbG93P2UuZXhwb3J0cz1uOih1KG4sdCksdC5CdWZmZXI9byk7ZnVuY3Rpb24gbyhoLGQsdyl7cmV0dXJuIGEoaCxkLHcpfXUoYSxvKSxvLmZyb209ZnVuY3Rpb24oaCxkLHcpe2lmKHR5cGVvZiBoPT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlciIpO3JldHVybiBhKGgsZCx3KX0sby5hbGxvYz1mdW5jdGlvbihoLGQsdyl7aWYodHlwZW9mIGghPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIiKTt2YXIgXz1hKGgpO3JldHVybiBkIT09dm9pZCAwP3R5cGVvZiB3PT0ic3RyaW5nIj9fLmZpbGwoZCx3KTpfLmZpbGwoZCk6Xy5maWxsKDApLF99LG8uYWxsb2NVbnNhZmU9ZnVuY3Rpb24oaCl7aWYodHlwZW9mIGghPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIiKTtyZXR1cm4gYShoKX0sby5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oaCl7aWYodHlwZW9mIGghPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIiKTtyZXR1cm4gbi5TbG93QnVmZmVyKGgpfX0pKHNhZmVCdWZmZXIkMSxzYWZlQnVmZmVyJDEuZXhwb3J0cyk7dmFyIHNhZmVCdWZmZXJFeHBvcnRzPXNhZmVCdWZmZXIkMS5leHBvcnRzLHV0aWwkMj17fTtmdW5jdGlvbiBpc0FycmF5JDEoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheShlKTpvYmplY3RUb1N0cmluZyhlKT09PSJbb2JqZWN0IEFycmF5XSJ9dXRpbCQyLmlzQXJyYXk9aXNBcnJheSQxO2Z1bmN0aW9uIGlzQm9vbGVhbiQxKGUpe3JldHVybiB0eXBlb2YgZT09ImJvb2xlYW4ifXV0aWwkMi5pc0Jvb2xlYW49aXNCb29sZWFuJDE7ZnVuY3Rpb24gaXNOdWxsKGUpe3JldHVybiBlPT09bnVsbH11dGlsJDIuaXNOdWxsPWlzTnVsbDtmdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChlKXtyZXR1cm4gZT09bnVsbH11dGlsJDIuaXNOdWxsT3JVbmRlZmluZWQ9aXNOdWxsT3JVbmRlZmluZWQ7ZnVuY3Rpb24gaXNOdW1iZXIkMShlKXtyZXR1cm4gdHlwZW9mIGU9PSJudW1iZXIifXV0aWwkMi5pc051bWJlcj1pc051bWJlciQxO2Z1bmN0aW9uIGlzU3RyaW5nJDEoZSl7cmV0dXJuIHR5cGVvZiBlPT0ic3RyaW5nIn11dGlsJDIuaXNTdHJpbmc9aXNTdHJpbmckMTtmdW5jdGlvbiBpc1N5bWJvbChlKXtyZXR1cm4gdHlwZW9mIGU9PSJzeW1ib2wifXV0aWwkMi5pc1N5bWJvbD1pc1N5bWJvbDtmdW5jdGlvbiBpc1VuZGVmaW5lZCQxKGUpe3JldHVybiBlPT09dm9pZCAwfXV0aWwkMi5pc1VuZGVmaW5lZD1pc1VuZGVmaW5lZCQxO2Z1bmN0aW9uIGlzUmVnRXhwJDEoZSl7cmV0dXJuIG9iamVjdFRvU3RyaW5nKGUpPT09IltvYmplY3QgUmVnRXhwXSJ9dXRpbCQyLmlzUmVnRXhwPWlzUmVnRXhwJDE7ZnVuY3Rpb24gaXNPYmplY3QkMShlKXtyZXR1cm4gdHlwZW9mIGU9PSJvYmplY3QiJiZlIT09bnVsbH11dGlsJDIuaXNPYmplY3Q9aXNPYmplY3QkMTtmdW5jdGlvbiBpc0RhdGUkMShlKXtyZXR1cm4gb2JqZWN0VG9TdHJpbmcoZSk9PT0iW29iamVjdCBEYXRlXSJ9dXRpbCQyLmlzRGF0ZT1pc0RhdGUkMTtmdW5jdGlvbiBpc0Vycm9yKGUpe3JldHVybiBvYmplY3RUb1N0cmluZyhlKT09PSJbb2JqZWN0IEVycm9yXSJ8fGUgaW5zdGFuY2VvZiBFcnJvcn11dGlsJDIuaXNFcnJvcj1pc0Vycm9yO2Z1bmN0aW9uIGlzRnVuY3Rpb24kMShlKXtyZXR1cm4gdHlwZW9mIGU9PSJmdW5jdGlvbiJ9dXRpbCQyLmlzRnVuY3Rpb249aXNGdW5jdGlvbiQxO2Z1bmN0aW9uIGlzUHJpbWl0aXZlKGUpe3JldHVybiBlPT09bnVsbHx8dHlwZW9mIGU9PSJib29sZWFuInx8dHlwZW9mIGU9PSJudW1iZXIifHx0eXBlb2YgZT09InN0cmluZyJ8fHR5cGVvZiBlPT0ic3ltYm9sInx8dHlwZW9mIGU+InUifXV0aWwkMi5pc1ByaW1pdGl2ZT1pc1ByaW1pdGl2ZSx1dGlsJDIuaXNCdWZmZXI9YnVmZmVyJDIuQnVmZmVyLmlzQnVmZmVyO2Z1bmN0aW9uIG9iamVjdFRvU3RyaW5nKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9dmFyIEJ1ZmZlckxpc3Q9e2V4cG9ydHM6e319LGhhc1JlcXVpcmVkQnVmZmVyTGlzdDtmdW5jdGlvbiByZXF1aXJlQnVmZmVyTGlzdCgpe3JldHVybiBoYXNSZXF1aXJlZEJ1ZmZlckxpc3R8fChoYXNSZXF1aXJlZEJ1ZmZlckxpc3Q9MSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG8saCl7aWYoIShvIGluc3RhbmNlb2YgaCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9dmFyIG49c2FmZUJ1ZmZlckV4cG9ydHMuQnVmZmVyLGE9dXRpbCQzO2Z1bmN0aW9uIHUobyxoLGQpe28uY29weShoLGQpfWUuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIG8oKXt0KHRoaXMsbyksdGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH1yZXR1cm4gby5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihkKXt2YXIgdz17ZGF0YTpkLG5leHQ6bnVsbH07dGhpcy5sZW5ndGg+MD90aGlzLnRhaWwubmV4dD13OnRoaXMuaGVhZD13LHRoaXMudGFpbD13LCsrdGhpcy5sZW5ndGh9LG8ucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oZCl7dmFyIHc9e2RhdGE6ZCxuZXh0OnRoaXMuaGVhZH07dGhpcy5sZW5ndGg9PT0wJiYodGhpcy50YWlsPXcpLHRoaXMuaGVhZD13LCsrdGhpcy5sZW5ndGh9LG8ucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGghPT0wKXt2YXIgZD10aGlzLmhlYWQuZGF0YTtyZXR1cm4gdGhpcy5sZW5ndGg9PT0xP3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbDp0aGlzLmhlYWQ9dGhpcy5oZWFkLm5leHQsLS10aGlzLmxlbmd0aCxkfX0sby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH0sby5wcm90b3R5cGUuam9pbj1mdW5jdGlvbihkKXtpZih0aGlzLmxlbmd0aD09PTApcmV0dXJuIiI7Zm9yKHZhciB3PXRoaXMuaGVhZCxfPSIiK3cuZGF0YTt3PXcubmV4dDspXys9ZCt3LmRhdGE7cmV0dXJuIF99LG8ucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbihkKXtpZih0aGlzLmxlbmd0aD09PTApcmV0dXJuIG4uYWxsb2MoMCk7Zm9yKHZhciB3PW4uYWxsb2NVbnNhZmUoZD4+PjApLF89dGhpcy5oZWFkLGI9MDtfOyl1KF8uZGF0YSx3LGIpLGIrPV8uZGF0YS5sZW5ndGgsXz1fLm5leHQ7cmV0dXJuIHd9LG99KCksYSYmYS5pbnNwZWN0JiZhLmluc3BlY3QuY3VzdG9tJiYoZS5leHBvcnRzLnByb3RvdHlwZVthLmluc3BlY3QuY3VzdG9tXT1mdW5jdGlvbigpe3ZhciBvPWEuaW5zcGVjdCh7bGVuZ3RoOnRoaXMubGVuZ3RofSk7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZSsiICIrb30pfShCdWZmZXJMaXN0KSksQnVmZmVyTGlzdC5leHBvcnRzfXZhciBwbmE9cHJvY2Vzc05leHRpY2tBcmdzRXhwb3J0cztmdW5jdGlvbiBkZXN0cm95KGUsdCl7dmFyIG49dGhpcyxhPXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkLHU9dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7cmV0dXJuIGF8fHU/KHQ/dChlKTplJiYodGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZHx8KHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCx0aGlzLGUpKTpwbmEubmV4dFRpY2soZW1pdEVycm9yTlQsdGhpcyxlKSksdGhpcyk6KHRoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl9kZXN0cm95KGV8fG51bGwsZnVuY3Rpb24obyl7IXQmJm8/bi5fd3JpdGFibGVTdGF0ZT9uLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZHx8KG4uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCxuLG8pKTpwbmEubmV4dFRpY2soZW1pdEVycm9yTlQsbixvKTp0JiZ0KG8pfSksdGhpcyl9ZnVuY3Rpb24gdW5kZXN0cm95KCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGluZz0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMSksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5hbENhbGxlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLnByZWZpbmlzaGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITEpfWZ1bmN0aW9uIGVtaXRFcnJvck5UKGUsdCl7ZS5lbWl0KCJlcnJvciIsdCl9dmFyIGRlc3Ryb3lfMT17ZGVzdHJveSx1bmRlc3Ryb3l9LF9zdHJlYW1fd3JpdGFibGUsaGFzUmVxdWlyZWRfc3RyZWFtX3dyaXRhYmxlO2Z1bmN0aW9uIHJlcXVpcmVfc3RyZWFtX3dyaXRhYmxlKCl7aWYoaGFzUmVxdWlyZWRfc3RyZWFtX3dyaXRhYmxlKXJldHVybiBfc3RyZWFtX3dyaXRhYmxlO2hhc1JlcXVpcmVkX3N0cmVhbV93cml0YWJsZT0xO3ZhciBlPXByb2Nlc3NOZXh0aWNrQXJnc0V4cG9ydHM7X3N0cmVhbV93cml0YWJsZT1MO2Z1bmN0aW9uIHQoUyl7dmFyIEI9dGhpczt0aGlzLm5leHQ9bnVsbCx0aGlzLmVudHJ5PW51bGwsdGhpcy5maW5pc2g9ZnVuY3Rpb24oKXtFKEIsUyl9fXZhciBuPSFhcGkkMS5icm93c2VyJiZbInYwLjEwIiwidjAuOS4iXS5pbmRleE9mKGFwaSQxLnZlcnNpb24uc2xpY2UoMCw1KSk+LTE/c2V0SW1tZWRpYXRlOmUubmV4dFRpY2ssYTtMLldyaXRhYmxlU3RhdGU9VDt2YXIgdT1PYmplY3QuY3JlYXRlKHV0aWwkMik7dS5pbmhlcml0cz1pbmhlcml0c19icm93c2VyRXhwb3J0czt2YXIgbz17ZGVwcmVjYXRlOmJyb3dzZXIkYX0saD1zdHJlYW1Ccm93c2VyLGQ9c2FmZUJ1ZmZlckV4cG9ydHMuQnVmZmVyLHc9KHR5cGVvZiBjb21tb25qc0dsb2JhbDwidSI/Y29tbW9uanNHbG9iYWw6dHlwZW9mIHdpbmRvdzwidSI/d2luZG93OnR5cGVvZiBzZWxmPCJ1Ij9zZWxmOnt9KS5VaW50OEFycmF5fHxmdW5jdGlvbigpe307ZnVuY3Rpb24gXyhTKXtyZXR1cm4gZC5mcm9tKFMpfWZ1bmN0aW9uIGIoUyl7cmV0dXJuIGQuaXNCdWZmZXIoUyl8fFMgaW5zdGFuY2VvZiB3fXZhciBNPWRlc3Ryb3lfMTt1LmluaGVyaXRzKEwsaCk7ZnVuY3Rpb24gTygpe31mdW5jdGlvbiBUKFMsQil7YT1hfHxyZXF1aXJlX3N0cmVhbV9kdXBsZXgoKSxTPVN8fHt9O3ZhciBBPUIgaW5zdGFuY2VvZiBhO3RoaXMub2JqZWN0TW9kZT0hIVMub2JqZWN0TW9kZSxBJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISFTLndyaXRhYmxlT2JqZWN0TW9kZSk7dmFyIHk9Uy5oaWdoV2F0ZXJNYXJrLHg9Uy53cml0YWJsZUhpZ2hXYXRlck1hcmsscD10aGlzLm9iamVjdE1vZGU/MTY6MTYqMTAyNDt5fHx5PT09MD90aGlzLmhpZ2hXYXRlck1hcms9eTpBJiYoeHx8eD09PTApP3RoaXMuaGlnaFdhdGVyTWFyaz14OnRoaXMuaGlnaFdhdGVyTWFyaz1wLHRoaXMuaGlnaFdhdGVyTWFyaz1NYXRoLmZsb29yKHRoaXMuaGlnaFdhdGVyTWFyayksdGhpcy5maW5hbENhbGxlZD0hMSx0aGlzLm5lZWREcmFpbj0hMSx0aGlzLmVuZGluZz0hMSx0aGlzLmVuZGVkPSExLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITE7dmFyIEk9Uy5kZWNvZGVTdHJpbmdzPT09ITE7dGhpcy5kZWNvZGVTdHJpbmdzPSFJLHRoaXMuZGVmYXVsdEVuY29kaW5nPVMuZGVmYXVsdEVuY29kaW5nfHwidXRmOCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihlZSl7Y2UoQixlZSl9LHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVsZW49MCx0aGlzLmJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMucGVuZGluZ2NiPTAsdGhpcy5wcmVmaW5pc2hlZD0hMSx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50PTAsdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWU9bmV3IHQodGhpcyl9VC5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBCPXRoaXMuYnVmZmVyZWRSZXF1ZXN0LEE9W107QjspQS5wdXNoKEIpLEI9Qi5uZXh0O3JldHVybiBBfSxmdW5jdGlvbigpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoVC5wcm90b3R5cGUsImJ1ZmZlciIse2dldDpvLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJ1ZmZlcigpfSwiX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgaW5zdGVhZC4iLCJERVAwMDAzIil9KX1jYXRjaHt9fSgpO3ZhciBQO3R5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJlN5bWJvbC5oYXNJbnN0YW5jZSYmdHlwZW9mIEZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdPT0iZnVuY3Rpb24iPyhQPUZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMLFN5bWJvbC5oYXNJbnN0YW5jZSx7dmFsdWU6ZnVuY3Rpb24oUyl7cmV0dXJuIFAuY2FsbCh0aGlzLFMpPyEwOnRoaXMhPT1MPyExOlMmJlMuX3dyaXRhYmxlU3RhdGUgaW5zdGFuY2VvZiBUfX0pKTpQPWZ1bmN0aW9uKFMpe3JldHVybiBTIGluc3RhbmNlb2YgdGhpc307ZnVuY3Rpb24gTChTKXtpZihhPWF8fHJlcXVpcmVfc3RyZWFtX2R1cGxleCgpLCFQLmNhbGwoTCx0aGlzKSYmISh0aGlzIGluc3RhbmNlb2YgYSkpcmV0dXJuIG5ldyBMKFMpO3RoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IFQoUyx0aGlzKSx0aGlzLndyaXRhYmxlPSEwLFMmJih0eXBlb2YgUy53cml0ZT09ImZ1bmN0aW9uIiYmKHRoaXMuX3dyaXRlPVMud3JpdGUpLHR5cGVvZiBTLndyaXRldj09ImZ1bmN0aW9uIiYmKHRoaXMuX3dyaXRldj1TLndyaXRldiksdHlwZW9mIFMuZGVzdHJveT09ImZ1bmN0aW9uIiYmKHRoaXMuX2Rlc3Ryb3k9Uy5kZXN0cm95KSx0eXBlb2YgUy5maW5hbD09ImZ1bmN0aW9uIiYmKHRoaXMuX2ZpbmFsPVMuZmluYWwpKSxoLmNhbGwodGhpcyl9TC5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3RoaXMuZW1pdCgiZXJyb3IiLG5ldyBFcnJvcigiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZSIpKX07ZnVuY3Rpb24geihTLEIpe3ZhciBBPW5ldyBFcnJvcigid3JpdGUgYWZ0ZXIgZW5kIik7Uy5lbWl0KCJlcnJvciIsQSksZS5uZXh0VGljayhCLEEpfWZ1bmN0aW9uIEgoUyxCLEEseSl7dmFyIHg9ITAscD0hMTtyZXR1cm4gQT09PW51bGw/cD1uZXcgVHlwZUVycm9yKCJNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbSIpOnR5cGVvZiBBIT0ic3RyaW5nIiYmQSE9PXZvaWQgMCYmIUIub2JqZWN0TW9kZSYmKHA9bmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuayIpKSxwJiYoUy5lbWl0KCJlcnJvciIscCksZS5uZXh0VGljayh5LHApLHg9ITEpLHh9TC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oUyxCLEEpe3ZhciB5PXRoaXMuX3dyaXRhYmxlU3RhdGUseD0hMSxwPSF5Lm9iamVjdE1vZGUmJmIoUyk7cmV0dXJuIHAmJiFkLmlzQnVmZmVyKFMpJiYoUz1fKFMpKSx0eXBlb2YgQj09ImZ1bmN0aW9uIiYmKEE9QixCPW51bGwpLHA/Qj0iYnVmZmVyIjpCfHwoQj15LmRlZmF1bHRFbmNvZGluZyksdHlwZW9mIEEhPSJmdW5jdGlvbiImJihBPU8pLHkuZW5kZWQ/eih0aGlzLEEpOihwfHxIKHRoaXMseSxTLEEpKSYmKHkucGVuZGluZ2NiKysseD1hZSh0aGlzLHkscCxTLEIsQSkpLHh9LEwucHJvdG90eXBlLmNvcms9ZnVuY3Rpb24oKXt2YXIgUz10aGlzLl93cml0YWJsZVN0YXRlO1MuY29ya2VkKyt9LEwucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe3ZhciBTPXRoaXMuX3dyaXRhYmxlU3RhdGU7Uy5jb3JrZWQmJihTLmNvcmtlZC0tLCFTLndyaXRpbmcmJiFTLmNvcmtlZCYmIVMuYnVmZmVyUHJvY2Vzc2luZyYmUy5idWZmZXJlZFJlcXVlc3QmJnllKHRoaXMsUykpfSxMLnByb3RvdHlwZS5zZXREZWZhdWx0RW5jb2Rpbmc9ZnVuY3Rpb24oQil7aWYodHlwZW9mIEI9PSJzdHJpbmciJiYoQj1CLnRvTG93ZXJDYXNlKCkpLCEoWyJoZXgiLCJ1dGY4IiwidXRmLTgiLCJhc2NpaSIsImJpbmFyeSIsImJhc2U2NCIsInVjczIiLCJ1Y3MtMiIsInV0ZjE2bGUiLCJ1dGYtMTZsZSIsInJhdyJdLmluZGV4T2YoKEIrIiIpLnRvTG93ZXJDYXNlKCkpPi0xKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK0IpO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz1CLHRoaXN9O2Z1bmN0aW9uIFYoUyxCLEEpe3JldHVybiFTLm9iamVjdE1vZGUmJlMuZGVjb2RlU3RyaW5ncyE9PSExJiZ0eXBlb2YgQj09InN0cmluZyImJihCPWQuZnJvbShCLEEpKSxCfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShMLnByb3RvdHlwZSwid3JpdGFibGVIaWdoV2F0ZXJNYXJrIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0pO2Z1bmN0aW9uIGFlKFMsQixBLHkseCxwKXtpZighQSl7dmFyIEk9VihCLHkseCk7eSE9PUkmJihBPSEwLHg9ImJ1ZmZlciIseT1JKX12YXIgZWU9Qi5vYmplY3RNb2RlPzE6eS5sZW5ndGg7Qi5sZW5ndGgrPWVlO3ZhciBmZT1CLmxlbmd0aDxCLmhpZ2hXYXRlck1hcms7aWYoZmV8fChCLm5lZWREcmFpbj0hMCksQi53cml0aW5nfHxCLmNvcmtlZCl7dmFyIEo9Qi5sYXN0QnVmZmVyZWRSZXF1ZXN0O0IubGFzdEJ1ZmZlcmVkUmVxdWVzdD17Y2h1bms6eSxlbmNvZGluZzp4LGlzQnVmOkEsY2FsbGJhY2s6cCxuZXh0Om51bGx9LEo/Si5uZXh0PUIubGFzdEJ1ZmZlcmVkUmVxdWVzdDpCLmJ1ZmZlcmVkUmVxdWVzdD1CLmxhc3RCdWZmZXJlZFJlcXVlc3QsQi5idWZmZXJlZFJlcXVlc3RDb3VudCs9MX1lbHNlIGllKFMsQiwhMSxlZSx5LHgscCk7cmV0dXJuIGZlfWZ1bmN0aW9uIGllKFMsQixBLHkseCxwLEkpe0Iud3JpdGVsZW49eSxCLndyaXRlY2I9SSxCLndyaXRpbmc9ITAsQi5zeW5jPSEwLEE/Uy5fd3JpdGV2KHgsQi5vbndyaXRlKTpTLl93cml0ZSh4LHAsQi5vbndyaXRlKSxCLnN5bmM9ITF9ZnVuY3Rpb24gUShTLEIsQSx5LHgpey0tQi5wZW5kaW5nY2IsQT8oZS5uZXh0VGljayh4LHkpLGUubmV4dFRpY2sobCxTLEIpLFMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLFMuZW1pdCgiZXJyb3IiLHkpKTooeCh5KSxTLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCxTLmVtaXQoImVycm9yIix5KSxsKFMsQikpfWZ1bmN0aW9uIHJlKFMpe1Mud3JpdGluZz0hMSxTLndyaXRlY2I9bnVsbCxTLmxlbmd0aC09Uy53cml0ZWxlbixTLndyaXRlbGVuPTB9ZnVuY3Rpb24gY2UoUyxCKXt2YXIgQT1TLl93cml0YWJsZVN0YXRlLHk9QS5zeW5jLHg9QS53cml0ZWNiO2lmKHJlKEEpLEIpUShTLEEseSxCLHgpO2Vsc2V7dmFyIHA9WChBKTshcCYmIUEuY29ya2VkJiYhQS5idWZmZXJQcm9jZXNzaW5nJiZBLmJ1ZmZlcmVkUmVxdWVzdCYmeWUoUyxBKSx5P24obGUsUyxBLHAseCk6bGUoUyxBLHAseCl9fWZ1bmN0aW9uIGxlKFMsQixBLHkpe0F8fG9lKFMsQiksQi5wZW5kaW5nY2ItLSx5KCksbChTLEIpfWZ1bmN0aW9uIG9lKFMsQil7Qi5sZW5ndGg9PT0wJiZCLm5lZWREcmFpbiYmKEIubmVlZERyYWluPSExLFMuZW1pdCgiZHJhaW4iKSl9ZnVuY3Rpb24geWUoUyxCKXtCLmJ1ZmZlclByb2Nlc3Npbmc9ITA7dmFyIEE9Qi5idWZmZXJlZFJlcXVlc3Q7aWYoUy5fd3JpdGV2JiZBJiZBLm5leHQpe3ZhciB5PUIuYnVmZmVyZWRSZXF1ZXN0Q291bnQseD1uZXcgQXJyYXkoeSkscD1CLmNvcmtlZFJlcXVlc3RzRnJlZTtwLmVudHJ5PUE7Zm9yKHZhciBJPTAsZWU9ITA7QTspeFtJXT1BLEEuaXNCdWZ8fChlZT0hMSksQT1BLm5leHQsSSs9MTt4LmFsbEJ1ZmZlcnM9ZWUsaWUoUyxCLCEwLEIubGVuZ3RoLHgsIiIscC5maW5pc2gpLEIucGVuZGluZ2NiKyssQi5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwscC5uZXh0PyhCLmNvcmtlZFJlcXVlc3RzRnJlZT1wLm5leHQscC5uZXh0PW51bGwpOkIuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyB0KEIpLEIuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MH1lbHNle2Zvcig7QTspe3ZhciBmZT1BLmNodW5rLEo9QS5lbmNvZGluZyxrPUEuY2FsbGJhY2ssRD1CLm9iamVjdE1vZGU/MTpmZS5sZW5ndGg7aWYoaWUoUyxCLCExLEQsZmUsSixrKSxBPUEubmV4dCxCLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS0sQi53cml0aW5nKWJyZWFrfUE9PT1udWxsJiYoQi5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfUIuYnVmZmVyZWRSZXF1ZXN0PUEsQi5idWZmZXJQcm9jZXNzaW5nPSExfUwucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihTLEIsQSl7QShuZXcgRXJyb3IoIl93cml0ZSgpIGlzIG5vdCBpbXBsZW1lbnRlZCIpKX0sTC5wcm90b3R5cGUuX3dyaXRldj1udWxsLEwucHJvdG90eXBlLmVuZD1mdW5jdGlvbihTLEIsQSl7dmFyIHk9dGhpcy5fd3JpdGFibGVTdGF0ZTt0eXBlb2YgUz09ImZ1bmN0aW9uIj8oQT1TLFM9bnVsbCxCPW51bGwpOnR5cGVvZiBCPT0iZnVuY3Rpb24iJiYoQT1CLEI9bnVsbCksUyE9bnVsbCYmdGhpcy53cml0ZShTLEIpLHkuY29ya2VkJiYoeS5jb3JrZWQ9MSx0aGlzLnVuY29yaygpKSx5LmVuZGluZ3x8dih0aGlzLHksQSl9O2Z1bmN0aW9uIFgoUyl7cmV0dXJuIFMuZW5kaW5nJiZTLmxlbmd0aD09PTAmJlMuYnVmZmVyZWRSZXF1ZXN0PT09bnVsbCYmIVMuZmluaXNoZWQmJiFTLndyaXRpbmd9ZnVuY3Rpb24gJChTLEIpe1MuX2ZpbmFsKGZ1bmN0aW9uKEEpe0IucGVuZGluZ2NiLS0sQSYmUy5lbWl0KCJlcnJvciIsQSksQi5wcmVmaW5pc2hlZD0hMCxTLmVtaXQoInByZWZpbmlzaCIpLGwoUyxCKX0pfWZ1bmN0aW9uIG0oUyxCKXshQi5wcmVmaW5pc2hlZCYmIUIuZmluYWxDYWxsZWQmJih0eXBlb2YgUy5fZmluYWw9PSJmdW5jdGlvbiI/KEIucGVuZGluZ2NiKyssQi5maW5hbENhbGxlZD0hMCxlLm5leHRUaWNrKCQsUyxCKSk6KEIucHJlZmluaXNoZWQ9ITAsUy5lbWl0KCJwcmVmaW5pc2giKSkpfWZ1bmN0aW9uIGwoUyxCKXt2YXIgQT1YKEIpO3JldHVybiBBJiYobShTLEIpLEIucGVuZGluZ2NiPT09MCYmKEIuZmluaXNoZWQ9ITAsUy5lbWl0KCJmaW5pc2giKSkpLEF9ZnVuY3Rpb24gdihTLEIsQSl7Qi5lbmRpbmc9ITAsbChTLEIpLEEmJihCLmZpbmlzaGVkP2UubmV4dFRpY2soQSk6Uy5vbmNlKCJmaW5pc2giLEEpKSxCLmVuZGVkPSEwLFMud3JpdGFibGU9ITF9ZnVuY3Rpb24gRShTLEIsQSl7dmFyIHk9Uy5lbnRyeTtmb3IoUy5lbnRyeT1udWxsO3k7KXt2YXIgeD15LmNhbGxiYWNrO0IucGVuZGluZ2NiLS0seChBKSx5PXkubmV4dH1CLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PVN9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMLnByb3RvdHlwZSwiZGVzdHJveWVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU9PT12b2lkIDA/ITE6dGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldDpmdW5jdGlvbihTKXt0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9Uyl9fSksTC5wcm90b3R5cGUuZGVzdHJveT1NLmRlc3Ryb3ksTC5wcm90b3R5cGUuX3VuZGVzdHJveT1NLnVuZGVzdHJveSxMLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihTLEIpe3RoaXMuZW5kKCksQihTKX0sX3N0cmVhbV93cml0YWJsZX12YXIgX3N0cmVhbV9kdXBsZXgsaGFzUmVxdWlyZWRfc3RyZWFtX2R1cGxleDtmdW5jdGlvbiByZXF1aXJlX3N0cmVhbV9kdXBsZXgoKXtpZihoYXNSZXF1aXJlZF9zdHJlYW1fZHVwbGV4KXJldHVybiBfc3RyZWFtX2R1cGxleDtoYXNSZXF1aXJlZF9zdHJlYW1fZHVwbGV4PTE7dmFyIGU9cHJvY2Vzc05leHRpY2tBcmdzRXhwb3J0cyx0PU9iamVjdC5rZXlzfHxmdW5jdGlvbihNKXt2YXIgTz1bXTtmb3IodmFyIFQgaW4gTSlPLnB1c2goVCk7cmV0dXJuIE99O19zdHJlYW1fZHVwbGV4PXc7dmFyIG49T2JqZWN0LmNyZWF0ZSh1dGlsJDIpO24uaW5oZXJpdHM9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHM7dmFyIGE9cmVxdWlyZV9zdHJlYW1fcmVhZGFibGUoKSx1PXJlcXVpcmVfc3RyZWFtX3dyaXRhYmxlKCk7bi5pbmhlcml0cyh3LGEpO2Zvcih2YXIgbz10KHUucHJvdG90eXBlKSxoPTA7aDxvLmxlbmd0aDtoKyspe3ZhciBkPW9baF07dy5wcm90b3R5cGVbZF18fCh3LnByb3RvdHlwZVtkXT11LnByb3RvdHlwZVtkXSl9ZnVuY3Rpb24gdyhNKXtpZighKHRoaXMgaW5zdGFuY2VvZiB3KSlyZXR1cm4gbmV3IHcoTSk7YS5jYWxsKHRoaXMsTSksdS5jYWxsKHRoaXMsTSksTSYmTS5yZWFkYWJsZT09PSExJiYodGhpcy5yZWFkYWJsZT0hMSksTSYmTS53cml0YWJsZT09PSExJiYodGhpcy53cml0YWJsZT0hMSksdGhpcy5hbGxvd0hhbGZPcGVuPSEwLE0mJk0uYWxsb3dIYWxmT3Blbj09PSExJiYodGhpcy5hbGxvd0hhbGZPcGVuPSExKSx0aGlzLm9uY2UoImVuZCIsXyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHcucHJvdG90eXBlLCJ3cml0YWJsZUhpZ2hXYXRlck1hcmsiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSk7ZnVuY3Rpb24gXygpe3RoaXMuYWxsb3dIYWxmT3Blbnx8dGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZHx8ZS5uZXh0VGljayhiLHRoaXMpfWZ1bmN0aW9uIGIoTSl7TS5lbmQoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHcucHJvdG90eXBlLCJkZXN0cm95ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT09PXZvaWQgMHx8dGhpcy5fd3JpdGFibGVTdGF0ZT09PXZvaWQgMD8hMTp0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldDpmdW5jdGlvbihNKXt0aGlzLl9yZWFkYWJsZVN0YXRlPT09dm9pZCAwfHx0aGlzLl93cml0YWJsZVN0YXRlPT09dm9pZCAwfHwodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9TSx0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD1NKX19KSx3LnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihNLE8pe3RoaXMucHVzaChudWxsKSx0aGlzLmVuZCgpLGUubmV4dFRpY2soTyxNKX0sX3N0cmVhbV9kdXBsZXh9dmFyIF9zdHJlYW1fcmVhZGFibGUsaGFzUmVxdWlyZWRfc3RyZWFtX3JlYWRhYmxlO2Z1bmN0aW9uIHJlcXVpcmVfc3RyZWFtX3JlYWRhYmxlKCl7aWYoaGFzUmVxdWlyZWRfc3RyZWFtX3JlYWRhYmxlKXJldHVybiBfc3RyZWFtX3JlYWRhYmxlO2hhc1JlcXVpcmVkX3N0cmVhbV9yZWFkYWJsZT0xO3ZhciBlPXByb2Nlc3NOZXh0aWNrQXJnc0V4cG9ydHM7X3N0cmVhbV9yZWFkYWJsZT1WO3ZhciB0PWlzYXJyYXksbjtWLlJlYWRhYmxlU3RhdGU9SCxldmVudHNFeHBvcnRzLkV2ZW50RW1pdHRlcjt2YXIgYT1mdW5jdGlvbihrLEQpe3JldHVybiBrLmxpc3RlbmVycyhEKS5sZW5ndGh9LHU9c3RyZWFtQnJvd3NlcixvPXNhZmVCdWZmZXJFeHBvcnRzLkJ1ZmZlcixoPSh0eXBlb2YgY29tbW9uanNHbG9iYWw8InUiP2NvbW1vbmpzR2xvYmFsOnR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzp0eXBlb2Ygc2VsZjwidSI/c2VsZjp7fSkuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIGQoayl7cmV0dXJuIG8uZnJvbShrKX1mdW5jdGlvbiB3KGspe3JldHVybiBvLmlzQnVmZmVyKGspfHxrIGluc3RhbmNlb2YgaH12YXIgXz1PYmplY3QuY3JlYXRlKHV0aWwkMik7Xy5pbmhlcml0cz1pbmhlcml0c19icm93c2VyRXhwb3J0czt2YXIgYj11dGlsJDMsTT12b2lkIDA7YiYmYi5kZWJ1Z2xvZz9NPWIuZGVidWdsb2coInN0cmVhbSIpOk09ZnVuY3Rpb24oKXt9O3ZhciBPPXJlcXVpcmVCdWZmZXJMaXN0KCksVD1kZXN0cm95XzEsUDtfLmluaGVyaXRzKFYsdSk7dmFyIEw9WyJlcnJvciIsImNsb3NlIiwiZGVzdHJveSIsInBhdXNlIiwicmVzdW1lIl07ZnVuY3Rpb24geihrLEQsail7aWYodHlwZW9mIGsucHJlcGVuZExpc3RlbmVyPT0iZnVuY3Rpb24iKXJldHVybiBrLnByZXBlbmRMaXN0ZW5lcihELGopOyFrLl9ldmVudHN8fCFrLl9ldmVudHNbRF0/ay5vbihELGopOnQoay5fZXZlbnRzW0RdKT9rLl9ldmVudHNbRF0udW5zaGlmdChqKTprLl9ldmVudHNbRF09W2osay5fZXZlbnRzW0RdXX1mdW5jdGlvbiBIKGssRCl7bj1ufHxyZXF1aXJlX3N0cmVhbV9kdXBsZXgoKSxrPWt8fHt9O3ZhciBqPUQgaW5zdGFuY2VvZiBuO3RoaXMub2JqZWN0TW9kZT0hIWsub2JqZWN0TW9kZSxqJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISFrLnJlYWRhYmxlT2JqZWN0TW9kZSk7dmFyIHRlPWsuaGlnaFdhdGVyTWFyayxVPWsucmVhZGFibGVIaWdoV2F0ZXJNYXJrLEY9dGhpcy5vYmplY3RNb2RlPzE2OjE2KjEwMjQ7dGV8fHRlPT09MD90aGlzLmhpZ2hXYXRlck1hcms9dGU6aiYmKFV8fFU9PT0wKT90aGlzLmhpZ2hXYXRlck1hcms9VTp0aGlzLmhpZ2hXYXRlck1hcms9Rix0aGlzLmhpZ2hXYXRlck1hcms9TWF0aC5mbG9vcih0aGlzLmhpZ2hXYXRlck1hcmspLHRoaXMuYnVmZmVyPW5ldyBPLHRoaXMubGVuZ3RoPTAsdGhpcy5waXBlcz1udWxsLHRoaXMucGlwZXNDb3VudD0wLHRoaXMuZmxvd2luZz1udWxsLHRoaXMuZW5kZWQ9ITEsdGhpcy5lbmRFbWl0dGVkPSExLHRoaXMucmVhZGluZz0hMSx0aGlzLnN5bmM9ITAsdGhpcy5uZWVkUmVhZGFibGU9ITEsdGhpcy5lbWl0dGVkUmVhZGFibGU9ITEsdGhpcy5yZWFkYWJsZUxpc3RlbmluZz0hMSx0aGlzLnJlc3VtZVNjaGVkdWxlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLmRlZmF1bHRFbmNvZGluZz1rLmRlZmF1bHRFbmNvZGluZ3x8InV0ZjgiLHRoaXMuYXdhaXREcmFpbj0wLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLGsuZW5jb2RpbmcmJihQfHwoUD1zdHJpbmdfZGVjb2Rlci5TdHJpbmdEZWNvZGVyKSx0aGlzLmRlY29kZXI9bmV3IFAoay5lbmNvZGluZyksdGhpcy5lbmNvZGluZz1rLmVuY29kaW5nKX1mdW5jdGlvbiBWKGspe2lmKG49bnx8cmVxdWlyZV9zdHJlYW1fZHVwbGV4KCksISh0aGlzIGluc3RhbmNlb2YgVikpcmV0dXJuIG5ldyBWKGspO3RoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IEgoayx0aGlzKSx0aGlzLnJlYWRhYmxlPSEwLGsmJih0eXBlb2Ygay5yZWFkPT0iZnVuY3Rpb24iJiYodGhpcy5fcmVhZD1rLnJlYWQpLHR5cGVvZiBrLmRlc3Ryb3k9PSJmdW5jdGlvbiImJih0aGlzLl9kZXN0cm95PWsuZGVzdHJveSkpLHUuY2FsbCh0aGlzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoVi5wcm90b3R5cGUsImRlc3Ryb3llZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlPT09dm9pZCAwPyExOnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24oayl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPWspfX0pLFYucHJvdG90eXBlLmRlc3Ryb3k9VC5kZXN0cm95LFYucHJvdG90eXBlLl91bmRlc3Ryb3k9VC51bmRlc3Ryb3ksVi5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oayxEKXt0aGlzLnB1c2gobnVsbCksRChrKX0sVi5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihrLEQpe3ZhciBqPXRoaXMuX3JlYWRhYmxlU3RhdGUsdGU7cmV0dXJuIGoub2JqZWN0TW9kZT90ZT0hMDp0eXBlb2Ygaz09InN0cmluZyImJihEPUR8fGouZGVmYXVsdEVuY29kaW5nLEQhPT1qLmVuY29kaW5nJiYoaz1vLmZyb20oayxEKSxEPSIiKSx0ZT0hMCksYWUodGhpcyxrLEQsITEsdGUpfSxWLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGspe3JldHVybiBhZSh0aGlzLGssbnVsbCwhMCwhMSl9O2Z1bmN0aW9uIGFlKGssRCxqLHRlLFUpe3ZhciBGPWsuX3JlYWRhYmxlU3RhdGU7aWYoRD09PW51bGwpRi5yZWFkaW5nPSExLHllKGssRik7ZWxzZXt2YXIgdWU7VXx8KHVlPVEoRixEKSksdWU/ay5lbWl0KCJlcnJvciIsdWUpOkYub2JqZWN0TW9kZXx8RCYmRC5sZW5ndGg+MD8odHlwZW9mIEQhPSJzdHJpbmciJiYhRi5vYmplY3RNb2RlJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoRCkhPT1vLnByb3RvdHlwZSYmKEQ9ZChEKSksdGU/Ri5lbmRFbWl0dGVkP2suZW1pdCgiZXJyb3IiLG5ldyBFcnJvcigic3RyZWFtLnVuc2hpZnQoKSBhZnRlciBlbmQgZXZlbnQiKSk6aWUoayxGLEQsITApOkYuZW5kZWQ/ay5lbWl0KCJlcnJvciIsbmV3IEVycm9yKCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRiIpKTooRi5yZWFkaW5nPSExLEYuZGVjb2RlciYmIWo/KEQ9Ri5kZWNvZGVyLndyaXRlKEQpLEYub2JqZWN0TW9kZXx8RC5sZW5ndGghPT0wP2llKGssRixELCExKTptKGssRikpOmllKGssRixELCExKSkpOnRlfHwoRi5yZWFkaW5nPSExKX1yZXR1cm4gcmUoRil9ZnVuY3Rpb24gaWUoayxELGosdGUpe0QuZmxvd2luZyYmRC5sZW5ndGg9PT0wJiYhRC5zeW5jPyhrLmVtaXQoImRhdGEiLGopLGsucmVhZCgwKSk6KEQubGVuZ3RoKz1ELm9iamVjdE1vZGU/MTpqLmxlbmd0aCx0ZT9ELmJ1ZmZlci51bnNoaWZ0KGopOkQuYnVmZmVyLnB1c2goaiksRC5uZWVkUmVhZGFibGUmJlgoaykpLG0oayxEKX1mdW5jdGlvbiBRKGssRCl7dmFyIGo7cmV0dXJuIXcoRCkmJnR5cGVvZiBEIT0ic3RyaW5nIiYmRCE9PXZvaWQgMCYmIWsub2JqZWN0TW9kZSYmKGo9bmV3IFR5cGVFcnJvcigiSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuayIpKSxqfWZ1bmN0aW9uIHJlKGspe3JldHVybiFrLmVuZGVkJiYoay5uZWVkUmVhZGFibGV8fGsubGVuZ3RoPGsuaGlnaFdhdGVyTWFya3x8ay5sZW5ndGg9PT0wKX1WLnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9PT0hMX0sVi5wcm90b3R5cGUuc2V0RW5jb2Rpbmc9ZnVuY3Rpb24oayl7cmV0dXJuIFB8fChQPXN0cmluZ19kZWNvZGVyLlN0cmluZ0RlY29kZXIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj1uZXcgUChrKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nPWssdGhpc307dmFyIGNlPTgzODg2MDg7ZnVuY3Rpb24gbGUoayl7cmV0dXJuIGs+PWNlP2s9Y2U6KGstLSxrfD1rPj4+MSxrfD1rPj4+MixrfD1rPj4+NCxrfD1rPj4+OCxrfD1rPj4+MTYsaysrKSxrfWZ1bmN0aW9uIG9lKGssRCl7cmV0dXJuIGs8PTB8fEQubGVuZ3RoPT09MCYmRC5lbmRlZD8wOkQub2JqZWN0TW9kZT8xOmshPT1rP0QuZmxvd2luZyYmRC5sZW5ndGg/RC5idWZmZXIuaGVhZC5kYXRhLmxlbmd0aDpELmxlbmd0aDooaz5ELmhpZ2hXYXRlck1hcmsmJihELmhpZ2hXYXRlck1hcms9bGUoaykpLGs8PUQubGVuZ3RoP2s6RC5lbmRlZD9ELmxlbmd0aDooRC5uZWVkUmVhZGFibGU9ITAsMCkpfVYucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oayl7TSgicmVhZCIsayksaz1wYXJzZUludChrLDEwKTt2YXIgRD10aGlzLl9yZWFkYWJsZVN0YXRlLGo9aztpZihrIT09MCYmKEQuZW1pdHRlZFJlYWRhYmxlPSExKSxrPT09MCYmRC5uZWVkUmVhZGFibGUmJihELmxlbmd0aD49RC5oaWdoV2F0ZXJNYXJrfHxELmVuZGVkKSlyZXR1cm4gTSgicmVhZDogZW1pdFJlYWRhYmxlIixELmxlbmd0aCxELmVuZGVkKSxELmxlbmd0aD09PTAmJkQuZW5kZWQ/ZWUodGhpcyk6WCh0aGlzKSxudWxsO2lmKGs9b2UoayxEKSxrPT09MCYmRC5lbmRlZClyZXR1cm4gRC5sZW5ndGg9PT0wJiZlZSh0aGlzKSxudWxsO3ZhciB0ZT1ELm5lZWRSZWFkYWJsZTtNKCJuZWVkIHJlYWRhYmxlIix0ZSksKEQubGVuZ3RoPT09MHx8RC5sZW5ndGgtazxELmhpZ2hXYXRlck1hcmspJiYodGU9ITAsTSgibGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsiLHRlKSksRC5lbmRlZHx8RC5yZWFkaW5nPyh0ZT0hMSxNKCJyZWFkaW5nIG9yIGVuZGVkIix0ZSkpOnRlJiYoTSgiZG8gcmVhZCIpLEQucmVhZGluZz0hMCxELnN5bmM9ITAsRC5sZW5ndGg9PT0wJiYoRC5uZWVkUmVhZGFibGU9ITApLHRoaXMuX3JlYWQoRC5oaWdoV2F0ZXJNYXJrKSxELnN5bmM9ITEsRC5yZWFkaW5nfHwoaz1vZShqLEQpKSk7dmFyIFU7cmV0dXJuIGs+MD9VPXkoayxEKTpVPW51bGwsVT09PW51bGw/KEQubmVlZFJlYWRhYmxlPSEwLGs9MCk6RC5sZW5ndGgtPWssRC5sZW5ndGg9PT0wJiYoRC5lbmRlZHx8KEQubmVlZFJlYWRhYmxlPSEwKSxqIT09ayYmRC5lbmRlZCYmZWUodGhpcykpLFUhPT1udWxsJiZ0aGlzLmVtaXQoImRhdGEiLFUpLFV9O2Z1bmN0aW9uIHllKGssRCl7aWYoIUQuZW5kZWQpe2lmKEQuZGVjb2Rlcil7dmFyIGo9RC5kZWNvZGVyLmVuZCgpO2omJmoubGVuZ3RoJiYoRC5idWZmZXIucHVzaChqKSxELmxlbmd0aCs9RC5vYmplY3RNb2RlPzE6ai5sZW5ndGgpfUQuZW5kZWQ9ITAsWChrKX19ZnVuY3Rpb24gWChrKXt2YXIgRD1rLl9yZWFkYWJsZVN0YXRlO0QubmVlZFJlYWRhYmxlPSExLEQuZW1pdHRlZFJlYWRhYmxlfHwoTSgiZW1pdFJlYWRhYmxlIixELmZsb3dpbmcpLEQuZW1pdHRlZFJlYWRhYmxlPSEwLEQuc3luYz9lLm5leHRUaWNrKCQsayk6JChrKSl9ZnVuY3Rpb24gJChrKXtNKCJlbWl0IHJlYWRhYmxlIiksay5lbWl0KCJyZWFkYWJsZSIpLEEoayl9ZnVuY3Rpb24gbShrLEQpe0QucmVhZGluZ01vcmV8fChELnJlYWRpbmdNb3JlPSEwLGUubmV4dFRpY2sobCxrLEQpKX1mdW5jdGlvbiBsKGssRCl7Zm9yKHZhciBqPUQubGVuZ3RoOyFELnJlYWRpbmcmJiFELmZsb3dpbmcmJiFELmVuZGVkJiZELmxlbmd0aDxELmhpZ2hXYXRlck1hcmsmJihNKCJtYXliZVJlYWRNb3JlIHJlYWQgMCIpLGsucmVhZCgwKSxqIT09RC5sZW5ndGgpOylqPUQubGVuZ3RoO0QucmVhZGluZ01vcmU9ITF9Vi5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oayl7dGhpcy5lbWl0KCJlcnJvciIsbmV3IEVycm9yKCJfcmVhZCgpIGlzIG5vdCBpbXBsZW1lbnRlZCIpKX0sVi5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihrLEQpe3ZhciBqPXRoaXMsdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtzd2l0Y2godGUucGlwZXNDb3VudCl7Y2FzZSAwOnRlLnBpcGVzPWs7YnJlYWs7Y2FzZSAxOnRlLnBpcGVzPVt0ZS5waXBlcyxrXTticmVhaztkZWZhdWx0OnRlLnBpcGVzLnB1c2goayk7YnJlYWt9dGUucGlwZXNDb3VudCs9MSxNKCJwaXBlIGNvdW50PSVkIG9wdHM9JWoiLHRlLnBpcGVzQ291bnQsRCk7dmFyIFU9KCFEfHxELmVuZCE9PSExKSYmayE9PWFwaSQxLnN0ZG91dCYmayE9PWFwaSQxLnN0ZGVycixGPVU/cGU6d2U7dGUuZW5kRW1pdHRlZD9lLm5leHRUaWNrKEYpOmoub25jZSgiZW5kIixGKSxrLm9uKCJ1bnBpcGUiLHVlKTtmdW5jdGlvbiB1ZShuZSxoZSl7TSgib251bnBpcGUiKSxuZT09PWomJmhlJiZoZS5oYXNVbnBpcGVkPT09ITEmJihoZS5oYXNVbnBpcGVkPSEwLE4oKSl9ZnVuY3Rpb24gcGUoKXtNKCJvbmVuZCIpLGsuZW5kKCl9dmFyIF9lPXYoaik7ay5vbigiZHJhaW4iLF9lKTt2YXIgWT0hMTtmdW5jdGlvbiBOKCl7TSgiY2xlYW51cCIpLGsucmVtb3ZlTGlzdGVuZXIoImNsb3NlIixkZSksay5yZW1vdmVMaXN0ZW5lcigiZmluaXNoIixtZSksay5yZW1vdmVMaXN0ZW5lcigiZHJhaW4iLF9lKSxrLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsc2UpLGsucmVtb3ZlTGlzdGVuZXIoInVucGlwZSIsdWUpLGoucmVtb3ZlTGlzdGVuZXIoImVuZCIscGUpLGoucmVtb3ZlTGlzdGVuZXIoImVuZCIsd2UpLGoucmVtb3ZlTGlzdGVuZXIoImRhdGEiLFopLFk9ITAsdGUuYXdhaXREcmFpbiYmKCFrLl93cml0YWJsZVN0YXRlfHxrLl93cml0YWJsZVN0YXRlLm5lZWREcmFpbikmJl9lKCl9dmFyIEM9ITE7ai5vbigiZGF0YSIsWik7ZnVuY3Rpb24gWihuZSl7TSgib25kYXRhIiksQz0hMTt2YXIgaGU9ay53cml0ZShuZSk7aGU9PT0hMSYmIUMmJigodGUucGlwZXNDb3VudD09PTEmJnRlLnBpcGVzPT09a3x8dGUucGlwZXNDb3VudD4xJiZKKHRlLnBpcGVzLGspIT09LTEpJiYhWSYmKE0oImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZSIsdGUuYXdhaXREcmFpbiksdGUuYXdhaXREcmFpbisrLEM9ITApLGoucGF1c2UoKSl9ZnVuY3Rpb24gc2UobmUpe00oIm9uZXJyb3IiLG5lKSx3ZSgpLGsucmVtb3ZlTGlzdGVuZXIoImVycm9yIixzZSksYShrLCJlcnJvciIpPT09MCYmay5lbWl0KCJlcnJvciIsbmUpfXooaywiZXJyb3IiLHNlKTtmdW5jdGlvbiBkZSgpe2sucmVtb3ZlTGlzdGVuZXIoImZpbmlzaCIsbWUpLHdlKCl9ay5vbmNlKCJjbG9zZSIsZGUpO2Z1bmN0aW9uIG1lKCl7TSgib25maW5pc2giKSxrLnJlbW92ZUxpc3RlbmVyKCJjbG9zZSIsZGUpLHdlKCl9ay5vbmNlKCJmaW5pc2giLG1lKTtmdW5jdGlvbiB3ZSgpe00oInVucGlwZSIpLGoudW5waXBlKGspfXJldHVybiBrLmVtaXQoInBpcGUiLGopLHRlLmZsb3dpbmd8fChNKCJwaXBlIHJlc3VtZSIpLGoucmVzdW1lKCkpLGt9O2Z1bmN0aW9uIHYoayl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIEQ9ay5fcmVhZGFibGVTdGF0ZTtNKCJwaXBlT25EcmFpbiIsRC5hd2FpdERyYWluKSxELmF3YWl0RHJhaW4mJkQuYXdhaXREcmFpbi0tLEQuYXdhaXREcmFpbj09PTAmJmEoaywiZGF0YSIpJiYoRC5mbG93aW5nPSEwLEEoaykpfX1WLnByb3RvdHlwZS51bnBpcGU9ZnVuY3Rpb24oayl7dmFyIEQ9dGhpcy5fcmVhZGFibGVTdGF0ZSxqPXtoYXNVbnBpcGVkOiExfTtpZihELnBpcGVzQ291bnQ9PT0wKXJldHVybiB0aGlzO2lmKEQucGlwZXNDb3VudD09PTEpcmV0dXJuIGsmJmshPT1ELnBpcGVzP3RoaXM6KGt8fChrPUQucGlwZXMpLEQucGlwZXM9bnVsbCxELnBpcGVzQ291bnQ9MCxELmZsb3dpbmc9ITEsayYmay5lbWl0KCJ1bnBpcGUiLHRoaXMsaiksdGhpcyk7aWYoIWspe3ZhciB0ZT1ELnBpcGVzLFU9RC5waXBlc0NvdW50O0QucGlwZXM9bnVsbCxELnBpcGVzQ291bnQ9MCxELmZsb3dpbmc9ITE7Zm9yKHZhciBGPTA7RjxVO0YrKyl0ZVtGXS5lbWl0KCJ1bnBpcGUiLHRoaXMse2hhc1VucGlwZWQ6ITF9KTtyZXR1cm4gdGhpc312YXIgdWU9SihELnBpcGVzLGspO3JldHVybiB1ZT09PS0xP3RoaXM6KEQucGlwZXMuc3BsaWNlKHVlLDEpLEQucGlwZXNDb3VudC09MSxELnBpcGVzQ291bnQ9PT0xJiYoRC5waXBlcz1ELnBpcGVzWzBdKSxrLmVtaXQoInVucGlwZSIsdGhpcyxqKSx0aGlzKX0sVi5wcm90b3R5cGUub249ZnVuY3Rpb24oayxEKXt2YXIgaj11LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsayxEKTtpZihrPT09ImRhdGEiKXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyE9PSExJiZ0aGlzLnJlc3VtZSgpO2Vsc2UgaWYoaz09PSJyZWFkYWJsZSIpe3ZhciB0ZT10aGlzLl9yZWFkYWJsZVN0YXRlOyF0ZS5lbmRFbWl0dGVkJiYhdGUucmVhZGFibGVMaXN0ZW5pbmcmJih0ZS5yZWFkYWJsZUxpc3RlbmluZz10ZS5uZWVkUmVhZGFibGU9ITAsdGUuZW1pdHRlZFJlYWRhYmxlPSExLHRlLnJlYWRpbmc/dGUubGVuZ3RoJiZYKHRoaXMpOmUubmV4dFRpY2soRSx0aGlzKSl9cmV0dXJuIGp9LFYucHJvdG90eXBlLmFkZExpc3RlbmVyPVYucHJvdG90eXBlLm9uO2Z1bmN0aW9uIEUoayl7TSgicmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwIiksay5yZWFkKDApfVYucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3ZhciBrPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIGsuZmxvd2luZ3x8KE0oInJlc3VtZSIpLGsuZmxvd2luZz0hMCxTKHRoaXMsaykpLHRoaXN9O2Z1bmN0aW9uIFMoayxEKXtELnJlc3VtZVNjaGVkdWxlZHx8KEQucmVzdW1lU2NoZWR1bGVkPSEwLGUubmV4dFRpY2soQixrLEQpKX1mdW5jdGlvbiBCKGssRCl7RC5yZWFkaW5nfHwoTSgicmVzdW1lIHJlYWQgMCIpLGsucmVhZCgwKSksRC5yZXN1bWVTY2hlZHVsZWQ9ITEsRC5hd2FpdERyYWluPTAsay5lbWl0KCJyZXN1bWUiKSxBKGspLEQuZmxvd2luZyYmIUQucmVhZGluZyYmay5yZWFkKDApfVYucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIE0oImNhbGwgcGF1c2UgZmxvd2luZz0laiIsdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmchPT0hMSYmKE0oInBhdXNlIiksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPSExLHRoaXMuZW1pdCgicGF1c2UiKSksdGhpc307ZnVuY3Rpb24gQShrKXt2YXIgRD1rLl9yZWFkYWJsZVN0YXRlO2ZvcihNKCJmbG93IixELmZsb3dpbmcpO0QuZmxvd2luZyYmay5yZWFkKCkhPT1udWxsOyk7fVYucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oayl7dmFyIEQ9dGhpcyxqPXRoaXMuX3JlYWRhYmxlU3RhdGUsdGU9ITE7ay5vbigiZW5kIixmdW5jdGlvbigpe2lmKE0oIndyYXBwZWQgZW5kIiksai5kZWNvZGVyJiYhai5lbmRlZCl7dmFyIHVlPWouZGVjb2Rlci5lbmQoKTt1ZSYmdWUubGVuZ3RoJiZELnB1c2godWUpfUQucHVzaChudWxsKX0pLGsub24oImRhdGEiLGZ1bmN0aW9uKHVlKXtpZihNKCJ3cmFwcGVkIGRhdGEiKSxqLmRlY29kZXImJih1ZT1qLmRlY29kZXIud3JpdGUodWUpKSwhKGoub2JqZWN0TW9kZSYmdWU9PW51bGwpJiYhKCFqLm9iamVjdE1vZGUmJighdWV8fCF1ZS5sZW5ndGgpKSl7dmFyIHBlPUQucHVzaCh1ZSk7cGV8fCh0ZT0hMCxrLnBhdXNlKCkpfX0pO2Zvcih2YXIgVSBpbiBrKXRoaXNbVV09PT12b2lkIDAmJnR5cGVvZiBrW1VdPT0iZnVuY3Rpb24iJiYodGhpc1tVXT1mdW5jdGlvbih1ZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGtbdWVdLmFwcGx5KGssYXJndW1lbnRzKX19KFUpKTtmb3IodmFyIEY9MDtGPEwubGVuZ3RoO0YrKylrLm9uKExbRl0sdGhpcy5lbWl0LmJpbmQodGhpcyxMW0ZdKSk7cmV0dXJuIHRoaXMuX3JlYWQ9ZnVuY3Rpb24odWUpe00oIndyYXBwZWQgX3JlYWQiLHVlKSx0ZSYmKHRlPSExLGsucmVzdW1lKCkpfSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVi5wcm90b3R5cGUsInJlYWRhYmxlSGlnaFdhdGVyTWFyayIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxWLl9mcm9tTGlzdD15O2Z1bmN0aW9uIHkoayxEKXtpZihELmxlbmd0aD09PTApcmV0dXJuIG51bGw7dmFyIGo7cmV0dXJuIEQub2JqZWN0TW9kZT9qPUQuYnVmZmVyLnNoaWZ0KCk6IWt8fGs+PUQubGVuZ3RoPyhELmRlY29kZXI/aj1ELmJ1ZmZlci5qb2luKCIiKTpELmJ1ZmZlci5sZW5ndGg9PT0xP2o9RC5idWZmZXIuaGVhZC5kYXRhOmo9RC5idWZmZXIuY29uY2F0KEQubGVuZ3RoKSxELmJ1ZmZlci5jbGVhcigpKTpqPXgoayxELmJ1ZmZlcixELmRlY29kZXIpLGp9ZnVuY3Rpb24geChrLEQsail7dmFyIHRlO3JldHVybiBrPEQuaGVhZC5kYXRhLmxlbmd0aD8odGU9RC5oZWFkLmRhdGEuc2xpY2UoMCxrKSxELmhlYWQuZGF0YT1ELmhlYWQuZGF0YS5zbGljZShrKSk6az09PUQuaGVhZC5kYXRhLmxlbmd0aD90ZT1ELnNoaWZ0KCk6dGU9aj9wKGssRCk6SShrLEQpLHRlfWZ1bmN0aW9uIHAoayxEKXt2YXIgaj1ELmhlYWQsdGU9MSxVPWouZGF0YTtmb3Ioay09VS5sZW5ndGg7aj1qLm5leHQ7KXt2YXIgRj1qLmRhdGEsdWU9az5GLmxlbmd0aD9GLmxlbmd0aDprO2lmKHVlPT09Ri5sZW5ndGg/VSs9RjpVKz1GLnNsaWNlKDAsayksay09dWUsaz09PTApe3VlPT09Ri5sZW5ndGg/KCsrdGUsai5uZXh0P0QuaGVhZD1qLm5leHQ6RC5oZWFkPUQudGFpbD1udWxsKTooRC5oZWFkPWosai5kYXRhPUYuc2xpY2UodWUpKTticmVha30rK3RlfXJldHVybiBELmxlbmd0aC09dGUsVX1mdW5jdGlvbiBJKGssRCl7dmFyIGo9by5hbGxvY1Vuc2FmZShrKSx0ZT1ELmhlYWQsVT0xO2Zvcih0ZS5kYXRhLmNvcHkoaiksay09dGUuZGF0YS5sZW5ndGg7dGU9dGUubmV4dDspe3ZhciBGPXRlLmRhdGEsdWU9az5GLmxlbmd0aD9GLmxlbmd0aDprO2lmKEYuY29weShqLGoubGVuZ3RoLWssMCx1ZSksay09dWUsaz09PTApe3VlPT09Ri5sZW5ndGg/KCsrVSx0ZS5uZXh0P0QuaGVhZD10ZS5uZXh0OkQuaGVhZD1ELnRhaWw9bnVsbCk6KEQuaGVhZD10ZSx0ZS5kYXRhPUYuc2xpY2UodWUpKTticmVha30rK1V9cmV0dXJuIEQubGVuZ3RoLT1VLGp9ZnVuY3Rpb24gZWUoayl7dmFyIEQ9ay5fcmVhZGFibGVTdGF0ZTtpZihELmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcignImVuZFJlYWRhYmxlKCkiIGNhbGxlZCBvbiBub24tZW1wdHkgc3RyZWFtJyk7RC5lbmRFbWl0dGVkfHwoRC5lbmRlZD0hMCxlLm5leHRUaWNrKGZlLEQsaykpfWZ1bmN0aW9uIGZlKGssRCl7IWsuZW5kRW1pdHRlZCYmay5sZW5ndGg9PT0wJiYoay5lbmRFbWl0dGVkPSEwLEQucmVhZGFibGU9ITEsRC5lbWl0KCJlbmQiKSl9ZnVuY3Rpb24gSihrLEQpe2Zvcih2YXIgaj0wLHRlPWsubGVuZ3RoO2o8dGU7aisrKWlmKGtbal09PT1EKXJldHVybiBqO3JldHVybi0xfXJldHVybiBfc3RyZWFtX3JlYWRhYmxlfXZhciBfc3RyZWFtX3RyYW5zZm9ybT1UcmFuc2Zvcm0kMSxEdXBsZXg9cmVxdWlyZV9zdHJlYW1fZHVwbGV4KCksdXRpbCQxPU9iamVjdC5jcmVhdGUodXRpbCQyKTt1dGlsJDEuaW5oZXJpdHM9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMsdXRpbCQxLmluaGVyaXRzKFRyYW5zZm9ybSQxLER1cGxleCk7ZnVuY3Rpb24gYWZ0ZXJUcmFuc2Zvcm0oZSx0KXt2YXIgbj10aGlzLl90cmFuc2Zvcm1TdGF0ZTtuLnRyYW5zZm9ybWluZz0hMTt2YXIgYT1uLndyaXRlY2I7aWYoIWEpcmV0dXJuIHRoaXMuZW1pdCgiZXJyb3IiLG5ldyBFcnJvcigid3JpdGUgY2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzIikpO24ud3JpdGVjaHVuaz1udWxsLG4ud3JpdGVjYj1udWxsLHQhPW51bGwmJnRoaXMucHVzaCh0KSxhKGUpO3ZhciB1PXRoaXMuX3JlYWRhYmxlU3RhdGU7dS5yZWFkaW5nPSExLCh1Lm5lZWRSZWFkYWJsZXx8dS5sZW5ndGg8dS5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZCh1LmhpZ2hXYXRlck1hcmspfWZ1bmN0aW9uIFRyYW5zZm9ybSQxKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zZm9ybSQxKSlyZXR1cm4gbmV3IFRyYW5zZm9ybSQxKGUpO0R1cGxleC5jYWxsKHRoaXMsZSksdGhpcy5fdHJhbnNmb3JtU3RhdGU9e2FmdGVyVHJhbnNmb3JtOmFmdGVyVHJhbnNmb3JtLmJpbmQodGhpcyksbmVlZFRyYW5zZm9ybTohMSx0cmFuc2Zvcm1pbmc6ITEsd3JpdGVjYjpudWxsLHdyaXRlY2h1bms6bnVsbCx3cml0ZWVuY29kaW5nOm51bGx9LHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSxlJiYodHlwZW9mIGUudHJhbnNmb3JtPT0iZnVuY3Rpb24iJiYodGhpcy5fdHJhbnNmb3JtPWUudHJhbnNmb3JtKSx0eXBlb2YgZS5mbHVzaD09ImZ1bmN0aW9uIiYmKHRoaXMuX2ZsdXNoPWUuZmx1c2gpKSx0aGlzLm9uKCJwcmVmaW5pc2giLHByZWZpbmlzaCl9ZnVuY3Rpb24gcHJlZmluaXNoKCl7dmFyIGU9dGhpczt0eXBlb2YgdGhpcy5fZmx1c2g9PSJmdW5jdGlvbiI/dGhpcy5fZmx1c2goZnVuY3Rpb24odCxuKXtkb25lKGUsdCxuKX0pOmRvbmUodGhpcyxudWxsLG51bGwpfVRyYW5zZm9ybSQxLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm09ITEsRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxlLHQpfSxUcmFuc2Zvcm0kMS5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihlLHQsbil7dGhyb3cgbmV3IEVycm9yKCJfdHJhbnNmb3JtKCkgaXMgbm90IGltcGxlbWVudGVkIil9LFRyYW5zZm9ybSQxLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPXRoaXMuX3RyYW5zZm9ybVN0YXRlO2lmKGEud3JpdGVjYj1uLGEud3JpdGVjaHVuaz1lLGEud3JpdGVlbmNvZGluZz10LCFhLnRyYW5zZm9ybWluZyl7dmFyIHU9dGhpcy5fcmVhZGFibGVTdGF0ZTsoYS5uZWVkVHJhbnNmb3JtfHx1Lm5lZWRSZWFkYWJsZXx8dS5sZW5ndGg8dS5oaWdoV2F0ZXJNYXJrKSYmdGhpcy5fcmVhZCh1LmhpZ2hXYXRlck1hcmspfX0sVHJhbnNmb3JtJDEucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3RyYW5zZm9ybVN0YXRlO3Qud3JpdGVjaHVuayE9PW51bGwmJnQud3JpdGVjYiYmIXQudHJhbnNmb3JtaW5nPyh0LnRyYW5zZm9ybWluZz0hMCx0aGlzLl90cmFuc2Zvcm0odC53cml0ZWNodW5rLHQud3JpdGVlbmNvZGluZyx0LmFmdGVyVHJhbnNmb3JtKSk6dC5uZWVkVHJhbnNmb3JtPSEwfSxUcmFuc2Zvcm0kMS5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO0R1cGxleC5wcm90b3R5cGUuX2Rlc3Ryb3kuY2FsbCh0aGlzLGUsZnVuY3Rpb24oYSl7dChhKSxuLmVtaXQoImNsb3NlIil9KX07ZnVuY3Rpb24gZG9uZShlLHQsbil7aWYodClyZXR1cm4gZS5lbWl0KCJlcnJvciIsdCk7aWYobiE9bnVsbCYmZS5wdXNoKG4pLGUuX3dyaXRhYmxlU3RhdGUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwIik7aWYoZS5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKXRocm93IG5ldyBFcnJvcigiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZyIpO3JldHVybiBlLnB1c2gobnVsbCl9dmFyIF9zdHJlYW1fcGFzc3Rocm91Z2g9UGFzc1Rocm91Z2gsVHJhbnNmb3JtPV9zdHJlYW1fdHJhbnNmb3JtLHV0aWw9T2JqZWN0LmNyZWF0ZSh1dGlsJDIpO3V0aWwuaW5oZXJpdHM9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMsdXRpbC5pbmhlcml0cyhQYXNzVGhyb3VnaCxUcmFuc2Zvcm0pO2Z1bmN0aW9uIFBhc3NUaHJvdWdoKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSlyZXR1cm4gbmV3IFBhc3NUaHJvdWdoKGUpO1RyYW5zZm9ybS5jYWxsKHRoaXMsZSl9UGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oZSx0LG4pe24obnVsbCxlKX0sZnVuY3Rpb24oZSx0KXt0PWUuZXhwb3J0cz1yZXF1aXJlX3N0cmVhbV9yZWFkYWJsZSgpLHQuU3RyZWFtPXQsdC5SZWFkYWJsZT10LHQuV3JpdGFibGU9cmVxdWlyZV9zdHJlYW1fd3JpdGFibGUoKSx0LkR1cGxleD1yZXF1aXJlX3N0cmVhbV9kdXBsZXgoKSx0LlRyYW5zZm9ybT1fc3RyZWFtX3RyYW5zZm9ybSx0LlBhc3NUaHJvdWdoPV9zdHJlYW1fcGFzc3Rocm91Z2h9KHJlYWRhYmxlQnJvd3NlcixyZWFkYWJsZUJyb3dzZXIuZXhwb3J0cyk7dmFyIHJlYWRhYmxlQnJvd3NlckV4cG9ydHM9cmVhZGFibGVCcm93c2VyLmV4cG9ydHMsc2lnbj17ZXhwb3J0czp7fX0sYm4kMT17ZXhwb3J0czp7fX07Ym4kMS5leHBvcnRzLGZ1bmN0aW9uKGUpeyhmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGEobSxsKXtpZighbSl0aHJvdyBuZXcgRXJyb3IobHx8IkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiB1KG0sbCl7bS5zdXBlcl89bDt2YXIgdj1mdW5jdGlvbigpe307di5wcm90b3R5cGU9bC5wcm90b3R5cGUsbS5wcm90b3R5cGU9bmV3IHYsbS5wcm90b3R5cGUuY29uc3RydWN0b3I9bX1mdW5jdGlvbiBvKG0sbCx2KXtpZihvLmlzQk4obSkpcmV0dXJuIG07dGhpcy5uZWdhdGl2ZT0wLHRoaXMud29yZHM9bnVsbCx0aGlzLmxlbmd0aD0wLHRoaXMucmVkPW51bGwsbSE9PW51bGwmJigobD09PSJsZSJ8fGw9PT0iYmUiKSYmKHY9bCxsPTEwKSx0aGlzLl9pbml0KG18fDAsbHx8MTAsdnx8ImJlIikpfXR5cGVvZiB0PT0ib2JqZWN0Ij90LmV4cG9ydHM9bzpuLkJOPW8sby5CTj1vLG8ud29yZFNpemU9MjY7dmFyIGg7dHJ5e3R5cGVvZiB3aW5kb3c8InUiJiZ0eXBlb2Ygd2luZG93LkJ1ZmZlcjwidSI/aD13aW5kb3cuQnVmZmVyOmg9YnVmZmVyJDIuQnVmZmVyfWNhdGNoe31vLmlzQk49ZnVuY3Rpb24obCl7cmV0dXJuIGwgaW5zdGFuY2VvZiBvPyEwOmwhPT1udWxsJiZ0eXBlb2YgbD09Im9iamVjdCImJmwuY29uc3RydWN0b3Iud29yZFNpemU9PT1vLndvcmRTaXplJiZBcnJheS5pc0FycmF5KGwud29yZHMpfSxvLm1heD1mdW5jdGlvbihsLHYpe3JldHVybiBsLmNtcCh2KT4wP2w6dn0sby5taW49ZnVuY3Rpb24obCx2KXtyZXR1cm4gbC5jbXAodik8MD9sOnZ9LG8ucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKGwsdixFKXtpZih0eXBlb2YgbD09Im51bWJlciIpcmV0dXJuIHRoaXMuX2luaXROdW1iZXIobCx2LEUpO2lmKHR5cGVvZiBsPT0ib2JqZWN0IilyZXR1cm4gdGhpcy5faW5pdEFycmF5KGwsdixFKTt2PT09ImhleCImJih2PTE2KSxhKHY9PT0odnwwKSYmdj49MiYmdjw9MzYpLGw9bC50b1N0cmluZygpLnJlcGxhY2UoL1xzKy9nLCIiKTt2YXIgUz0wO2xbMF09PT0iLSImJihTKyssdGhpcy5uZWdhdGl2ZT0xKSxTPGwubGVuZ3RoJiYodj09PTE2P3RoaXMuX3BhcnNlSGV4KGwsUyxFKToodGhpcy5fcGFyc2VCYXNlKGwsdixTKSxFPT09ImxlIiYmdGhpcy5faW5pdEFycmF5KHRoaXMudG9BcnJheSgpLHYsRSkpKX0sby5wcm90b3R5cGUuX2luaXROdW1iZXI9ZnVuY3Rpb24obCx2LEUpe2w8MCYmKHRoaXMubmVnYXRpdmU9MSxsPS1sKSxsPDY3MTA4ODY0Pyh0aGlzLndvcmRzPVtsJjY3MTA4ODYzXSx0aGlzLmxlbmd0aD0xKTpsPDQ1MDM1OTk2MjczNzA0OTY/KHRoaXMud29yZHM9W2wmNjcxMDg4NjMsbC82NzEwODg2NCY2NzEwODg2M10sdGhpcy5sZW5ndGg9Mik6KGEobDw5MDA3MTk5MjU0NzQwOTkyKSx0aGlzLndvcmRzPVtsJjY3MTA4ODYzLGwvNjcxMDg4NjQmNjcxMDg4NjMsMV0sdGhpcy5sZW5ndGg9MyksRT09PSJsZSImJnRoaXMuX2luaXRBcnJheSh0aGlzLnRvQXJyYXkoKSx2LEUpfSxvLnByb3RvdHlwZS5faW5pdEFycmF5PWZ1bmN0aW9uKGwsdixFKXtpZihhKHR5cGVvZiBsLmxlbmd0aD09Im51bWJlciIpLGwubGVuZ3RoPD0wKXJldHVybiB0aGlzLndvcmRzPVswXSx0aGlzLmxlbmd0aD0xLHRoaXM7dGhpcy5sZW5ndGg9TWF0aC5jZWlsKGwubGVuZ3RoLzMpLHRoaXMud29yZHM9bmV3IEFycmF5KHRoaXMubGVuZ3RoKTtmb3IodmFyIFM9MDtTPHRoaXMubGVuZ3RoO1MrKyl0aGlzLndvcmRzW1NdPTA7dmFyIEIsQSx5PTA7aWYoRT09PSJiZSIpZm9yKFM9bC5sZW5ndGgtMSxCPTA7Uz49MDtTLT0zKUE9bFtTXXxsW1MtMV08PDh8bFtTLTJdPDwxNix0aGlzLndvcmRzW0JdfD1BPDx5JjY3MTA4ODYzLHRoaXMud29yZHNbQisxXT1BPj4+MjYteSY2NzEwODg2Myx5Kz0yNCx5Pj0yNiYmKHktPTI2LEIrKyk7ZWxzZSBpZihFPT09ImxlIilmb3IoUz0wLEI9MDtTPGwubGVuZ3RoO1MrPTMpQT1sW1NdfGxbUysxXTw8OHxsW1MrMl08PDE2LHRoaXMud29yZHNbQl18PUE8PHkmNjcxMDg4NjMsdGhpcy53b3Jkc1tCKzFdPUE+Pj4yNi15JjY3MTA4ODYzLHkrPTI0LHk+PTI2JiYoeS09MjYsQisrKTtyZXR1cm4gdGhpcy5fc3RyaXAoKX07ZnVuY3Rpb24gZChtLGwpe3ZhciB2PW0uY2hhckNvZGVBdChsKTtpZih2Pj00OCYmdjw9NTcpcmV0dXJuIHYtNDg7aWYodj49NjUmJnY8PTcwKXJldHVybiB2LTU1O2lmKHY+PTk3JiZ2PD0xMDIpcmV0dXJuIHYtODc7YSghMSwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gIittKX1mdW5jdGlvbiB3KG0sbCx2KXt2YXIgRT1kKG0sdik7cmV0dXJuIHYtMT49bCYmKEV8PWQobSx2LTEpPDw0KSxFfW8ucHJvdG90eXBlLl9wYXJzZUhleD1mdW5jdGlvbihsLHYsRSl7dGhpcy5sZW5ndGg9TWF0aC5jZWlsKChsLmxlbmd0aC12KS82KSx0aGlzLndvcmRzPW5ldyBBcnJheSh0aGlzLmxlbmd0aCk7Zm9yKHZhciBTPTA7Uzx0aGlzLmxlbmd0aDtTKyspdGhpcy53b3Jkc1tTXT0wO3ZhciBCPTAsQT0wLHk7aWYoRT09PSJiZSIpZm9yKFM9bC5sZW5ndGgtMTtTPj12O1MtPTIpeT13KGwsdixTKTw8Qix0aGlzLndvcmRzW0FdfD15JjY3MTA4ODYzLEI+PTE4PyhCLT0xOCxBKz0xLHRoaXMud29yZHNbQV18PXk+Pj4yNik6Qis9ODtlbHNle3ZhciB4PWwubGVuZ3RoLXY7Zm9yKFM9eCUyPT09MD92KzE6djtTPGwubGVuZ3RoO1MrPTIpeT13KGwsdixTKTw8Qix0aGlzLndvcmRzW0FdfD15JjY3MTA4ODYzLEI+PTE4PyhCLT0xOCxBKz0xLHRoaXMud29yZHNbQV18PXk+Pj4yNik6Qis9OH10aGlzLl9zdHJpcCgpfTtmdW5jdGlvbiBfKG0sbCx2LEUpe2Zvcih2YXIgUz0wLEI9MCxBPU1hdGgubWluKG0ubGVuZ3RoLHYpLHk9bDt5PEE7eSsrKXt2YXIgeD1tLmNoYXJDb2RlQXQoeSktNDg7Uyo9RSx4Pj00OT9CPXgtNDkrMTA6eD49MTc/Qj14LTE3KzEwOkI9eCxhKHg+PTAmJkI8RSwiSW52YWxpZCBjaGFyYWN0ZXIiKSxTKz1CfXJldHVybiBTfW8ucHJvdG90eXBlLl9wYXJzZUJhc2U9ZnVuY3Rpb24obCx2LEUpe3RoaXMud29yZHM9WzBdLHRoaXMubGVuZ3RoPTE7Zm9yKHZhciBTPTAsQj0xO0I8PTY3MTA4ODYzO0IqPXYpUysrO1MtLSxCPUIvdnwwO2Zvcih2YXIgQT1sLmxlbmd0aC1FLHk9QSVTLHg9TWF0aC5taW4oQSxBLXkpK0UscD0wLEk9RTtJPHg7SSs9UylwPV8obCxJLEkrUyx2KSx0aGlzLmltdWxuKEIpLHRoaXMud29yZHNbMF0rcDw2NzEwODg2ND90aGlzLndvcmRzWzBdKz1wOnRoaXMuX2lhZGRuKHApO2lmKHkhPT0wKXt2YXIgZWU9MTtmb3IocD1fKGwsSSxsLmxlbmd0aCx2KSxJPTA7STx5O0krKyllZSo9djt0aGlzLmltdWxuKGVlKSx0aGlzLndvcmRzWzBdK3A8NjcxMDg4NjQ/dGhpcy53b3Jkc1swXSs9cDp0aGlzLl9pYWRkbihwKX10aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGwpe2wud29yZHM9bmV3IEFycmF5KHRoaXMubGVuZ3RoKTtmb3IodmFyIHY9MDt2PHRoaXMubGVuZ3RoO3YrKylsLndvcmRzW3ZdPXRoaXMud29yZHNbdl07bC5sZW5ndGg9dGhpcy5sZW5ndGgsbC5uZWdhdGl2ZT10aGlzLm5lZ2F0aXZlLGwucmVkPXRoaXMucmVkfTtmdW5jdGlvbiBiKG0sbCl7bS53b3Jkcz1sLndvcmRzLG0ubGVuZ3RoPWwubGVuZ3RoLG0ubmVnYXRpdmU9bC5uZWdhdGl2ZSxtLnJlZD1sLnJlZH1pZihvLnByb3RvdHlwZS5fbW92ZT1mdW5jdGlvbihsKXtiKGwsdGhpcyl9LG8ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGw9bmV3IG8obnVsbCk7cmV0dXJuIHRoaXMuY29weShsKSxsfSxvLnByb3RvdHlwZS5fZXhwYW5kPWZ1bmN0aW9uKGwpe2Zvcig7dGhpcy5sZW5ndGg8bDspdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCsrXT0wO3JldHVybiB0aGlzfSxvLnByb3RvdHlwZS5fc3RyaXA9ZnVuY3Rpb24oKXtmb3IoO3RoaXMubGVuZ3RoPjEmJnRoaXMud29yZHNbdGhpcy5sZW5ndGgtMV09PT0wOyl0aGlzLmxlbmd0aC0tO3JldHVybiB0aGlzLl9ub3JtU2lnbigpfSxvLnByb3RvdHlwZS5fbm9ybVNpZ249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9PT0xJiZ0aGlzLndvcmRzWzBdPT09MCYmKHRoaXMubmVnYXRpdmU9MCksdGhpc30sdHlwZW9mIFN5bWJvbDwidSImJnR5cGVvZiBTeW1ib2wuZm9yPT0iZnVuY3Rpb24iKXRyeXtvLnByb3RvdHlwZVtTeW1ib2wuZm9yKCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbSIpXT1NfWNhdGNoe28ucHJvdG90eXBlLmluc3BlY3Q9TX1lbHNlIG8ucHJvdG90eXBlLmluc3BlY3Q9TTtmdW5jdGlvbiBNKCl7cmV0dXJuKHRoaXMucmVkPyI8Qk4tUjogIjoiPEJOOiAiKSt0aGlzLnRvU3RyaW5nKDE2KSsiPiJ9dmFyIE89WyIiLCIwIiwiMDAiLCIwMDAiLCIwMDAwIiwiMDAwMDAiLCIwMDAwMDAiLCIwMDAwMDAwIiwiMDAwMDAwMDAiLCIwMDAwMDAwMDAiLCIwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIiwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIl0sVD1bMCwwLDI1LDE2LDEyLDExLDEwLDksOCw4LDcsNyw3LDcsNiw2LDYsNiw2LDYsNiw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1XSxQPVswLDAsMzM1NTQ0MzIsNDMwNDY3MjEsMTY3NzcyMTYsNDg4MjgxMjUsNjA0NjYxNzYsNDAzNTM2MDcsMTY3NzcyMTYsNDMwNDY3MjEsMWU3LDE5NDg3MTcxLDM1ODMxODA4LDYyNzQ4NTE3LDc1Mjk1MzYsMTEzOTA2MjUsMTY3NzcyMTYsMjQxMzc1NjksMzQwMTIyMjQsNDcwNDU4ODEsNjRlNiw0MDg0MTAxLDUxNTM2MzIsNjQzNjM0Myw3OTYyNjI0LDk3NjU2MjUsMTE4ODEzNzYsMTQzNDg5MDcsMTcyMTAzNjgsMjA1MTExNDksMjQzZTUsMjg2MjkxNTEsMzM1NTQ0MzIsMzkxMzUzOTMsNDU0MzU0MjQsNTI1MjE4NzUsNjA0NjYxNzZdO28ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGwsdil7bD1sfHwxMCx2PXZ8MHx8MTt2YXIgRTtpZihsPT09MTZ8fGw9PT0iaGV4Iil7RT0iIjtmb3IodmFyIFM9MCxCPTAsQT0wO0E8dGhpcy5sZW5ndGg7QSsrKXt2YXIgeT10aGlzLndvcmRzW0FdLHg9KCh5PDxTfEIpJjE2Nzc3MjE1KS50b1N0cmluZygxNik7Qj15Pj4+MjQtUyYxNjc3NzIxNSxTKz0yLFM+PTI2JiYoUy09MjYsQS0tKSxCIT09MHx8QSE9PXRoaXMubGVuZ3RoLTE/RT1PWzYteC5sZW5ndGhdK3grRTpFPXgrRX1mb3IoQiE9PTAmJihFPUIudG9TdHJpbmcoMTYpK0UpO0UubGVuZ3RoJXYhPT0wOylFPSIwIitFO3JldHVybiB0aGlzLm5lZ2F0aXZlIT09MCYmKEU9Ii0iK0UpLEV9aWYobD09PShsfDApJiZsPj0yJiZsPD0zNil7dmFyIHA9VFtsXSxJPVBbbF07RT0iIjt2YXIgZWU9dGhpcy5jbG9uZSgpO2ZvcihlZS5uZWdhdGl2ZT0wOyFlZS5pc1plcm8oKTspe3ZhciBmZT1lZS5tb2RybihJKS50b1N0cmluZyhsKTtlZT1lZS5pZGl2bihJKSxlZS5pc1plcm8oKT9FPWZlK0U6RT1PW3AtZmUubGVuZ3RoXStmZStFfWZvcih0aGlzLmlzWmVybygpJiYoRT0iMCIrRSk7RS5sZW5ndGgldiE9PTA7KUU9IjAiK0U7cmV0dXJuIHRoaXMubmVnYXRpdmUhPT0wJiYoRT0iLSIrRSksRX1hKCExLCJCYXNlIHNob3VsZCBiZSBiZXR3ZWVuIDIgYW5kIDM2Iil9LG8ucHJvdG90eXBlLnRvTnVtYmVyPWZ1bmN0aW9uKCl7dmFyIGw9dGhpcy53b3Jkc1swXTtyZXR1cm4gdGhpcy5sZW5ndGg9PT0yP2wrPXRoaXMud29yZHNbMV0qNjcxMDg4NjQ6dGhpcy5sZW5ndGg9PT0zJiZ0aGlzLndvcmRzWzJdPT09MT9sKz00NTAzNTk5NjI3MzcwNDk2K3RoaXMud29yZHNbMV0qNjcxMDg4NjQ6dGhpcy5sZW5ndGg+MiYmYSghMSwiTnVtYmVyIGNhbiBvbmx5IHNhZmVseSBzdG9yZSB1cCB0byA1MyBiaXRzIiksdGhpcy5uZWdhdGl2ZSE9PTA/LWw6bH0sby5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoMTYsMil9LGgmJihvLnByb3RvdHlwZS50b0J1ZmZlcj1mdW5jdGlvbihsLHYpe3JldHVybiB0aGlzLnRvQXJyYXlMaWtlKGgsbCx2KX0pLG8ucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24obCx2KXtyZXR1cm4gdGhpcy50b0FycmF5TGlrZShBcnJheSxsLHYpfTt2YXIgTD1mdW5jdGlvbihsLHYpe3JldHVybiBsLmFsbG9jVW5zYWZlP2wuYWxsb2NVbnNhZmUodik6bmV3IGwodil9O28ucHJvdG90eXBlLnRvQXJyYXlMaWtlPWZ1bmN0aW9uKGwsdixFKXt0aGlzLl9zdHJpcCgpO3ZhciBTPXRoaXMuYnl0ZUxlbmd0aCgpLEI9RXx8TWF0aC5tYXgoMSxTKTthKFM8PUIsImJ5dGUgYXJyYXkgbG9uZ2VyIHRoYW4gZGVzaXJlZCBsZW5ndGgiKSxhKEI+MCwiUmVxdWVzdGVkIGFycmF5IGxlbmd0aCA8PSAwIik7dmFyIEE9TChsLEIpLHk9dj09PSJsZSI/IkxFIjoiQkUiO3JldHVybiB0aGlzWyJfdG9BcnJheUxpa2UiK3ldKEEsUyksQX0sby5wcm90b3R5cGUuX3RvQXJyYXlMaWtlTEU9ZnVuY3Rpb24obCx2KXtmb3IodmFyIEU9MCxTPTAsQj0wLEE9MDtCPHRoaXMubGVuZ3RoO0IrKyl7dmFyIHk9dGhpcy53b3Jkc1tCXTw8QXxTO2xbRSsrXT15JjI1NSxFPGwubGVuZ3RoJiYobFtFKytdPXk+PjgmMjU1KSxFPGwubGVuZ3RoJiYobFtFKytdPXk+PjE2JjI1NSksQT09PTY/KEU8bC5sZW5ndGgmJihsW0UrK109eT4+MjQmMjU1KSxTPTAsQT0wKTooUz15Pj4+MjQsQSs9Mil9aWYoRTxsLmxlbmd0aClmb3IobFtFKytdPVM7RTxsLmxlbmd0aDspbFtFKytdPTB9LG8ucHJvdG90eXBlLl90b0FycmF5TGlrZUJFPWZ1bmN0aW9uKGwsdil7Zm9yKHZhciBFPWwubGVuZ3RoLTEsUz0wLEI9MCxBPTA7Qjx0aGlzLmxlbmd0aDtCKyspe3ZhciB5PXRoaXMud29yZHNbQl08PEF8UztsW0UtLV09eSYyNTUsRT49MCYmKGxbRS0tXT15Pj44JjI1NSksRT49MCYmKGxbRS0tXT15Pj4xNiYyNTUpLEE9PT02PyhFPj0wJiYobFtFLS1dPXk+PjI0JjI1NSksUz0wLEE9MCk6KFM9eT4+PjI0LEErPTIpfWlmKEU+PTApZm9yKGxbRS0tXT1TO0U+PTA7KWxbRS0tXT0wfSxNYXRoLmNsejMyP28ucHJvdG90eXBlLl9jb3VudEJpdHM9ZnVuY3Rpb24obCl7cmV0dXJuIDMyLU1hdGguY2x6MzIobCl9Om8ucHJvdG90eXBlLl9jb3VudEJpdHM9ZnVuY3Rpb24obCl7dmFyIHY9bCxFPTA7cmV0dXJuIHY+PTQwOTYmJihFKz0xMyx2Pj4+PTEzKSx2Pj02NCYmKEUrPTcsdj4+Pj03KSx2Pj04JiYoRSs9NCx2Pj4+PTQpLHY+PTImJihFKz0yLHY+Pj49MiksRSt2fSxvLnByb3RvdHlwZS5femVyb0JpdHM9ZnVuY3Rpb24obCl7aWYobD09PTApcmV0dXJuIDI2O3ZhciB2PWwsRT0wO3JldHVybiB2JjgxOTF8fChFKz0xMyx2Pj4+PTEzKSx2JjEyN3x8KEUrPTcsdj4+Pj03KSx2JjE1fHwoRSs9NCx2Pj4+PTQpLHYmM3x8KEUrPTIsdj4+Pj0yKSx2JjF8fEUrKyxFfSxvLnByb3RvdHlwZS5iaXRMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgbD10aGlzLndvcmRzW3RoaXMubGVuZ3RoLTFdLHY9dGhpcy5fY291bnRCaXRzKGwpO3JldHVybih0aGlzLmxlbmd0aC0xKSoyNit2fTtmdW5jdGlvbiB6KG0pe2Zvcih2YXIgbD1uZXcgQXJyYXkobS5iaXRMZW5ndGgoKSksdj0wO3Y8bC5sZW5ndGg7disrKXt2YXIgRT12LzI2fDAsUz12JTI2O2xbdl09bS53b3Jkc1tFXT4+PlMmMX1yZXR1cm4gbH1vLnByb3RvdHlwZS56ZXJvQml0cz1mdW5jdGlvbigpe2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIDA7Zm9yKHZhciBsPTAsdj0wO3Y8dGhpcy5sZW5ndGg7disrKXt2YXIgRT10aGlzLl96ZXJvQml0cyh0aGlzLndvcmRzW3ZdKTtpZihsKz1FLEUhPT0yNilicmVha31yZXR1cm4gbH0sby5wcm90b3R5cGUuYnl0ZUxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmNlaWwodGhpcy5iaXRMZW5ndGgoKS84KX0sby5wcm90b3R5cGUudG9Ud29zPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLm5lZ2F0aXZlIT09MD90aGlzLmFicygpLmlub3RuKGwpLmlhZGRuKDEpOnRoaXMuY2xvbmUoKX0sby5wcm90b3R5cGUuZnJvbVR3b3M9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMudGVzdG4obC0xKT90aGlzLm5vdG4obCkuaWFkZG4oMSkuaW5lZygpOnRoaXMuY2xvbmUoKX0sby5wcm90b3R5cGUuaXNOZWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWdhdGl2ZSE9PTB9LG8ucHJvdG90eXBlLm5lZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuaW5lZygpfSxvLnByb3RvdHlwZS5pbmVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNaZXJvKCl8fCh0aGlzLm5lZ2F0aXZlXj0xKSx0aGlzfSxvLnByb3RvdHlwZS5pdW9yPWZ1bmN0aW9uKGwpe2Zvcig7dGhpcy5sZW5ndGg8bC5sZW5ndGg7KXRoaXMud29yZHNbdGhpcy5sZW5ndGgrK109MDtmb3IodmFyIHY9MDt2PGwubGVuZ3RoO3YrKyl0aGlzLndvcmRzW3ZdPXRoaXMud29yZHNbdl18bC53b3Jkc1t2XTtyZXR1cm4gdGhpcy5fc3RyaXAoKX0sby5wcm90b3R5cGUuaW9yPWZ1bmN0aW9uKGwpe3JldHVybiBhKCh0aGlzLm5lZ2F0aXZlfGwubmVnYXRpdmUpPT09MCksdGhpcy5pdW9yKGwpfSxvLnByb3RvdHlwZS5vcj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5sZW5ndGg+bC5sZW5ndGg/dGhpcy5jbG9uZSgpLmlvcihsKTpsLmNsb25lKCkuaW9yKHRoaXMpfSxvLnByb3RvdHlwZS51b3I9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMubGVuZ3RoPmwubGVuZ3RoP3RoaXMuY2xvbmUoKS5pdW9yKGwpOmwuY2xvbmUoKS5pdW9yKHRoaXMpfSxvLnByb3RvdHlwZS5pdWFuZD1mdW5jdGlvbihsKXt2YXIgdjt0aGlzLmxlbmd0aD5sLmxlbmd0aD92PWw6dj10aGlzO2Zvcih2YXIgRT0wO0U8di5sZW5ndGg7RSsrKXRoaXMud29yZHNbRV09dGhpcy53b3Jkc1tFXSZsLndvcmRzW0VdO3JldHVybiB0aGlzLmxlbmd0aD12Lmxlbmd0aCx0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5pYW5kPWZ1bmN0aW9uKGwpe3JldHVybiBhKCh0aGlzLm5lZ2F0aXZlfGwubmVnYXRpdmUpPT09MCksdGhpcy5pdWFuZChsKX0sby5wcm90b3R5cGUuYW5kPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmxlbmd0aD5sLmxlbmd0aD90aGlzLmNsb25lKCkuaWFuZChsKTpsLmNsb25lKCkuaWFuZCh0aGlzKX0sby5wcm90b3R5cGUudWFuZD1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5sZW5ndGg+bC5sZW5ndGg/dGhpcy5jbG9uZSgpLml1YW5kKGwpOmwuY2xvbmUoKS5pdWFuZCh0aGlzKX0sby5wcm90b3R5cGUuaXV4b3I9ZnVuY3Rpb24obCl7dmFyIHYsRTt0aGlzLmxlbmd0aD5sLmxlbmd0aD8odj10aGlzLEU9bCk6KHY9bCxFPXRoaXMpO2Zvcih2YXIgUz0wO1M8RS5sZW5ndGg7UysrKXRoaXMud29yZHNbU109di53b3Jkc1tTXV5FLndvcmRzW1NdO2lmKHRoaXMhPT12KWZvcig7Uzx2Lmxlbmd0aDtTKyspdGhpcy53b3Jkc1tTXT12LndvcmRzW1NdO3JldHVybiB0aGlzLmxlbmd0aD12Lmxlbmd0aCx0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5peG9yPWZ1bmN0aW9uKGwpe3JldHVybiBhKCh0aGlzLm5lZ2F0aXZlfGwubmVnYXRpdmUpPT09MCksdGhpcy5pdXhvcihsKX0sby5wcm90b3R5cGUueG9yPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmxlbmd0aD5sLmxlbmd0aD90aGlzLmNsb25lKCkuaXhvcihsKTpsLmNsb25lKCkuaXhvcih0aGlzKX0sby5wcm90b3R5cGUudXhvcj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5sZW5ndGg+bC5sZW5ndGg/dGhpcy5jbG9uZSgpLml1eG9yKGwpOmwuY2xvbmUoKS5pdXhvcih0aGlzKX0sby5wcm90b3R5cGUuaW5vdG49ZnVuY3Rpb24obCl7YSh0eXBlb2YgbD09Im51bWJlciImJmw+PTApO3ZhciB2PU1hdGguY2VpbChsLzI2KXwwLEU9bCUyNjt0aGlzLl9leHBhbmQodiksRT4wJiZ2LS07Zm9yKHZhciBTPTA7Uzx2O1MrKyl0aGlzLndvcmRzW1NdPX50aGlzLndvcmRzW1NdJjY3MTA4ODYzO3JldHVybiBFPjAmJih0aGlzLndvcmRzW1NdPX50aGlzLndvcmRzW1NdJjY3MTA4ODYzPj4yNi1FKSx0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5ub3RuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkuaW5vdG4obCl9LG8ucHJvdG90eXBlLnNldG49ZnVuY3Rpb24obCx2KXthKHR5cGVvZiBsPT0ibnVtYmVyIiYmbD49MCk7dmFyIEU9bC8yNnwwLFM9bCUyNjtyZXR1cm4gdGhpcy5fZXhwYW5kKEUrMSksdj90aGlzLndvcmRzW0VdPXRoaXMud29yZHNbRV18MTw8Uzp0aGlzLndvcmRzW0VdPXRoaXMud29yZHNbRV0mfigxPDxTKSx0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5pYWRkPWZ1bmN0aW9uKGwpe3ZhciB2O2lmKHRoaXMubmVnYXRpdmUhPT0wJiZsLm5lZ2F0aXZlPT09MClyZXR1cm4gdGhpcy5uZWdhdGl2ZT0wLHY9dGhpcy5pc3ViKGwpLHRoaXMubmVnYXRpdmVePTEsdGhpcy5fbm9ybVNpZ24oKTtpZih0aGlzLm5lZ2F0aXZlPT09MCYmbC5uZWdhdGl2ZSE9PTApcmV0dXJuIGwubmVnYXRpdmU9MCx2PXRoaXMuaXN1YihsKSxsLm5lZ2F0aXZlPTEsdi5fbm9ybVNpZ24oKTt2YXIgRSxTO3RoaXMubGVuZ3RoPmwubGVuZ3RoPyhFPXRoaXMsUz1sKTooRT1sLFM9dGhpcyk7Zm9yKHZhciBCPTAsQT0wO0E8Uy5sZW5ndGg7QSsrKXY9KEUud29yZHNbQV18MCkrKFMud29yZHNbQV18MCkrQix0aGlzLndvcmRzW0FdPXYmNjcxMDg4NjMsQj12Pj4+MjY7Zm9yKDtCIT09MCYmQTxFLmxlbmd0aDtBKyspdj0oRS53b3Jkc1tBXXwwKStCLHRoaXMud29yZHNbQV09diY2NzEwODg2MyxCPXY+Pj4yNjtpZih0aGlzLmxlbmd0aD1FLmxlbmd0aCxCIT09MCl0aGlzLndvcmRzW3RoaXMubGVuZ3RoXT1CLHRoaXMubGVuZ3RoKys7ZWxzZSBpZihFIT09dGhpcylmb3IoO0E8RS5sZW5ndGg7QSsrKXRoaXMud29yZHNbQV09RS53b3Jkc1tBXTtyZXR1cm4gdGhpc30sby5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGwpe3ZhciB2O3JldHVybiBsLm5lZ2F0aXZlIT09MCYmdGhpcy5uZWdhdGl2ZT09PTA/KGwubmVnYXRpdmU9MCx2PXRoaXMuc3ViKGwpLGwubmVnYXRpdmVePTEsdik6bC5uZWdhdGl2ZT09PTAmJnRoaXMubmVnYXRpdmUhPT0wPyh0aGlzLm5lZ2F0aXZlPTAsdj1sLnN1Yih0aGlzKSx0aGlzLm5lZ2F0aXZlPTEsdik6dGhpcy5sZW5ndGg+bC5sZW5ndGg/dGhpcy5jbG9uZSgpLmlhZGQobCk6bC5jbG9uZSgpLmlhZGQodGhpcyl9LG8ucHJvdG90eXBlLmlzdWI9ZnVuY3Rpb24obCl7aWYobC5uZWdhdGl2ZSE9PTApe2wubmVnYXRpdmU9MDt2YXIgdj10aGlzLmlhZGQobCk7cmV0dXJuIGwubmVnYXRpdmU9MSx2Ll9ub3JtU2lnbigpfWVsc2UgaWYodGhpcy5uZWdhdGl2ZSE9PTApcmV0dXJuIHRoaXMubmVnYXRpdmU9MCx0aGlzLmlhZGQobCksdGhpcy5uZWdhdGl2ZT0xLHRoaXMuX25vcm1TaWduKCk7dmFyIEU9dGhpcy5jbXAobCk7aWYoRT09PTApcmV0dXJuIHRoaXMubmVnYXRpdmU9MCx0aGlzLmxlbmd0aD0xLHRoaXMud29yZHNbMF09MCx0aGlzO3ZhciBTLEI7RT4wPyhTPXRoaXMsQj1sKTooUz1sLEI9dGhpcyk7Zm9yKHZhciBBPTAseT0wO3k8Qi5sZW5ndGg7eSsrKXY9KFMud29yZHNbeV18MCktKEIud29yZHNbeV18MCkrQSxBPXY+PjI2LHRoaXMud29yZHNbeV09diY2NzEwODg2Mztmb3IoO0EhPT0wJiZ5PFMubGVuZ3RoO3krKyl2PShTLndvcmRzW3ldfDApK0EsQT12Pj4yNix0aGlzLndvcmRzW3ldPXYmNjcxMDg4NjM7aWYoQT09PTAmJnk8Uy5sZW5ndGgmJlMhPT10aGlzKWZvcig7eTxTLmxlbmd0aDt5KyspdGhpcy53b3Jkc1t5XT1TLndvcmRzW3ldO3JldHVybiB0aGlzLmxlbmd0aD1NYXRoLm1heCh0aGlzLmxlbmd0aCx5KSxTIT09dGhpcyYmKHRoaXMubmVnYXRpdmU9MSksdGhpcy5fc3RyaXAoKX0sby5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkuaXN1YihsKX07ZnVuY3Rpb24gSChtLGwsdil7di5uZWdhdGl2ZT1sLm5lZ2F0aXZlXm0ubmVnYXRpdmU7dmFyIEU9bS5sZW5ndGgrbC5sZW5ndGh8MDt2Lmxlbmd0aD1FLEU9RS0xfDA7dmFyIFM9bS53b3Jkc1swXXwwLEI9bC53b3Jkc1swXXwwLEE9UypCLHk9QSY2NzEwODg2Myx4PUEvNjcxMDg4NjR8MDt2LndvcmRzWzBdPXk7Zm9yKHZhciBwPTE7cDxFO3ArKyl7Zm9yKHZhciBJPXg+Pj4yNixlZT14JjY3MTA4ODYzLGZlPU1hdGgubWluKHAsbC5sZW5ndGgtMSksSj1NYXRoLm1heCgwLHAtbS5sZW5ndGgrMSk7Sjw9ZmU7SisrKXt2YXIgaz1wLUp8MDtTPW0ud29yZHNba118MCxCPWwud29yZHNbSl18MCxBPVMqQitlZSxJKz1BLzY3MTA4ODY0fDAsZWU9QSY2NzEwODg2M312LndvcmRzW3BdPWVlfDAseD1JfDB9cmV0dXJuIHghPT0wP3Yud29yZHNbcF09eHwwOnYubGVuZ3RoLS0sdi5fc3RyaXAoKX12YXIgVj1mdW5jdGlvbihsLHYsRSl7dmFyIFM9bC53b3JkcyxCPXYud29yZHMsQT1FLndvcmRzLHk9MCx4LHAsSSxlZT1TWzBdfDAsZmU9ZWUmODE5MSxKPWVlPj4+MTMsaz1TWzFdfDAsRD1rJjgxOTEsaj1rPj4+MTMsdGU9U1syXXwwLFU9dGUmODE5MSxGPXRlPj4+MTMsdWU9U1szXXwwLHBlPXVlJjgxOTEsX2U9dWU+Pj4xMyxZPVNbNF18MCxOPVkmODE5MSxDPVk+Pj4xMyxaPVNbNV18MCxzZT1aJjgxOTEsZGU9Wj4+PjEzLG1lPVNbNl18MCx3ZT1tZSY4MTkxLG5lPW1lPj4+MTMsaGU9U1s3XXwwLGJlPWhlJjgxOTEsdmU9aGU+Pj4xMyxFZT1TWzhdfDAseGU9RWUmODE5MSxnZT1FZT4+PjEzLE5lPVNbOV18MCxTZT1OZSY4MTkxLCRlPU5lPj4+MTMsR2U9QlswXXwwLENlPUdlJjgxOTEsTWU9R2U+Pj4xMyxXZT1CWzFdfDAsUGU9V2UmODE5MSxBZT1XZT4+PjEzLFZlPUJbMl18MCxxZT1WZSY4MTkxLEJlPVZlPj4+MTMsWGU9QlszXXwwLEhlPVhlJjgxOTEsUmU9WGU+Pj4xMyxZZT1CWzRdfDAsVWU9WWUmODE5MSxUZT1ZZT4+PjEzLEplPUJbNV18MCxqZT1KZSY4MTkxLEllPUplPj4+MTMsUWU9Qls2XXwwLHplPVFlJjgxOTEsT2U9UWU+Pj4xMyxldD1CWzddfDAsWmU9ZXQmODE5MSxrZT1ldD4+PjEzLHR0PUJbOF18MCxLZT10dCY4MTkxLERlPXR0Pj4+MTMscnQ9Qls5XXwwLExlPXJ0JjgxOTEsRmU9cnQ+Pj4xMztFLm5lZ2F0aXZlPWwubmVnYXRpdmVedi5uZWdhdGl2ZSxFLmxlbmd0aD0xOSx4PU1hdGguaW11bChmZSxDZSkscD1NYXRoLmltdWwoZmUsTWUpLHA9cCtNYXRoLmltdWwoSixDZSl8MCxJPU1hdGguaW11bChKLE1lKTt2YXIgaXQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKGl0Pj4+MjYpfDAsaXQmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKEQsQ2UpLHA9TWF0aC5pbXVsKEQsTWUpLHA9cCtNYXRoLmltdWwoaixDZSl8MCxJPU1hdGguaW11bChqLE1lKSx4PXgrTWF0aC5pbXVsKGZlLFBlKXwwLHA9cCtNYXRoLmltdWwoZmUsQWUpfDAscD1wK01hdGguaW11bChKLFBlKXwwLEk9SStNYXRoLmltdWwoSixBZSl8MDt2YXIgbnQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKG50Pj4+MjYpfDAsbnQmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKFUsQ2UpLHA9TWF0aC5pbXVsKFUsTWUpLHA9cCtNYXRoLmltdWwoRixDZSl8MCxJPU1hdGguaW11bChGLE1lKSx4PXgrTWF0aC5pbXVsKEQsUGUpfDAscD1wK01hdGguaW11bChELEFlKXwwLHA9cCtNYXRoLmltdWwoaixQZSl8MCxJPUkrTWF0aC5pbXVsKGosQWUpfDAseD14K01hdGguaW11bChmZSxxZSl8MCxwPXArTWF0aC5pbXVsKGZlLEJlKXwwLHA9cCtNYXRoLmltdWwoSixxZSl8MCxJPUkrTWF0aC5pbXVsKEosQmUpfDA7dmFyIGF0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhhdD4+PjI2KXwwLGF0Jj02NzEwODg2Myx4PU1hdGguaW11bChwZSxDZSkscD1NYXRoLmltdWwocGUsTWUpLHA9cCtNYXRoLmltdWwoX2UsQ2UpfDAsST1NYXRoLmltdWwoX2UsTWUpLHg9eCtNYXRoLmltdWwoVSxQZSl8MCxwPXArTWF0aC5pbXVsKFUsQWUpfDAscD1wK01hdGguaW11bChGLFBlKXwwLEk9SStNYXRoLmltdWwoRixBZSl8MCx4PXgrTWF0aC5pbXVsKEQscWUpfDAscD1wK01hdGguaW11bChELEJlKXwwLHA9cCtNYXRoLmltdWwoaixxZSl8MCxJPUkrTWF0aC5pbXVsKGosQmUpfDAseD14K01hdGguaW11bChmZSxIZSl8MCxwPXArTWF0aC5pbXVsKGZlLFJlKXwwLHA9cCtNYXRoLmltdWwoSixIZSl8MCxJPUkrTWF0aC5pbXVsKEosUmUpfDA7dmFyIG90PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhvdD4+PjI2KXwwLG90Jj02NzEwODg2Myx4PU1hdGguaW11bChOLENlKSxwPU1hdGguaW11bChOLE1lKSxwPXArTWF0aC5pbXVsKEMsQ2UpfDAsST1NYXRoLmltdWwoQyxNZSkseD14K01hdGguaW11bChwZSxQZSl8MCxwPXArTWF0aC5pbXVsKHBlLEFlKXwwLHA9cCtNYXRoLmltdWwoX2UsUGUpfDAsST1JK01hdGguaW11bChfZSxBZSl8MCx4PXgrTWF0aC5pbXVsKFUscWUpfDAscD1wK01hdGguaW11bChVLEJlKXwwLHA9cCtNYXRoLmltdWwoRixxZSl8MCxJPUkrTWF0aC5pbXVsKEYsQmUpfDAseD14K01hdGguaW11bChELEhlKXwwLHA9cCtNYXRoLmltdWwoRCxSZSl8MCxwPXArTWF0aC5pbXVsKGosSGUpfDAsST1JK01hdGguaW11bChqLFJlKXwwLHg9eCtNYXRoLmltdWwoZmUsVWUpfDAscD1wK01hdGguaW11bChmZSxUZSl8MCxwPXArTWF0aC5pbXVsKEosVWUpfDAsST1JK01hdGguaW11bChKLFRlKXwwO3ZhciBzdD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsoc3Q+Pj4yNil8MCxzdCY9NjcxMDg4NjMseD1NYXRoLmltdWwoc2UsQ2UpLHA9TWF0aC5pbXVsKHNlLE1lKSxwPXArTWF0aC5pbXVsKGRlLENlKXwwLEk9TWF0aC5pbXVsKGRlLE1lKSx4PXgrTWF0aC5pbXVsKE4sUGUpfDAscD1wK01hdGguaW11bChOLEFlKXwwLHA9cCtNYXRoLmltdWwoQyxQZSl8MCxJPUkrTWF0aC5pbXVsKEMsQWUpfDAseD14K01hdGguaW11bChwZSxxZSl8MCxwPXArTWF0aC5pbXVsKHBlLEJlKXwwLHA9cCtNYXRoLmltdWwoX2UscWUpfDAsST1JK01hdGguaW11bChfZSxCZSl8MCx4PXgrTWF0aC5pbXVsKFUsSGUpfDAscD1wK01hdGguaW11bChVLFJlKXwwLHA9cCtNYXRoLmltdWwoRixIZSl8MCxJPUkrTWF0aC5pbXVsKEYsUmUpfDAseD14K01hdGguaW11bChELFVlKXwwLHA9cCtNYXRoLmltdWwoRCxUZSl8MCxwPXArTWF0aC5pbXVsKGosVWUpfDAsST1JK01hdGguaW11bChqLFRlKXwwLHg9eCtNYXRoLmltdWwoZmUsamUpfDAscD1wK01hdGguaW11bChmZSxJZSl8MCxwPXArTWF0aC5pbXVsKEosamUpfDAsST1JK01hdGguaW11bChKLEllKXwwO3ZhciB1dD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsodXQ+Pj4yNil8MCx1dCY9NjcxMDg4NjMseD1NYXRoLmltdWwod2UsQ2UpLHA9TWF0aC5pbXVsKHdlLE1lKSxwPXArTWF0aC5pbXVsKG5lLENlKXwwLEk9TWF0aC5pbXVsKG5lLE1lKSx4PXgrTWF0aC5pbXVsKHNlLFBlKXwwLHA9cCtNYXRoLmltdWwoc2UsQWUpfDAscD1wK01hdGguaW11bChkZSxQZSl8MCxJPUkrTWF0aC5pbXVsKGRlLEFlKXwwLHg9eCtNYXRoLmltdWwoTixxZSl8MCxwPXArTWF0aC5pbXVsKE4sQmUpfDAscD1wK01hdGguaW11bChDLHFlKXwwLEk9SStNYXRoLmltdWwoQyxCZSl8MCx4PXgrTWF0aC5pbXVsKHBlLEhlKXwwLHA9cCtNYXRoLmltdWwocGUsUmUpfDAscD1wK01hdGguaW11bChfZSxIZSl8MCxJPUkrTWF0aC5pbXVsKF9lLFJlKXwwLHg9eCtNYXRoLmltdWwoVSxVZSl8MCxwPXArTWF0aC5pbXVsKFUsVGUpfDAscD1wK01hdGguaW11bChGLFVlKXwwLEk9SStNYXRoLmltdWwoRixUZSl8MCx4PXgrTWF0aC5pbXVsKEQsamUpfDAscD1wK01hdGguaW11bChELEllKXwwLHA9cCtNYXRoLmltdWwoaixqZSl8MCxJPUkrTWF0aC5pbXVsKGosSWUpfDAseD14K01hdGguaW11bChmZSx6ZSl8MCxwPXArTWF0aC5pbXVsKGZlLE9lKXwwLHA9cCtNYXRoLmltdWwoSix6ZSl8MCxJPUkrTWF0aC5pbXVsKEosT2UpfDA7dmFyIGx0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhsdD4+PjI2KXwwLGx0Jj02NzEwODg2Myx4PU1hdGguaW11bChiZSxDZSkscD1NYXRoLmltdWwoYmUsTWUpLHA9cCtNYXRoLmltdWwodmUsQ2UpfDAsST1NYXRoLmltdWwodmUsTWUpLHg9eCtNYXRoLmltdWwod2UsUGUpfDAscD1wK01hdGguaW11bCh3ZSxBZSl8MCxwPXArTWF0aC5pbXVsKG5lLFBlKXwwLEk9SStNYXRoLmltdWwobmUsQWUpfDAseD14K01hdGguaW11bChzZSxxZSl8MCxwPXArTWF0aC5pbXVsKHNlLEJlKXwwLHA9cCtNYXRoLmltdWwoZGUscWUpfDAsST1JK01hdGguaW11bChkZSxCZSl8MCx4PXgrTWF0aC5pbXVsKE4sSGUpfDAscD1wK01hdGguaW11bChOLFJlKXwwLHA9cCtNYXRoLmltdWwoQyxIZSl8MCxJPUkrTWF0aC5pbXVsKEMsUmUpfDAseD14K01hdGguaW11bChwZSxVZSl8MCxwPXArTWF0aC5pbXVsKHBlLFRlKXwwLHA9cCtNYXRoLmltdWwoX2UsVWUpfDAsST1JK01hdGguaW11bChfZSxUZSl8MCx4PXgrTWF0aC5pbXVsKFUsamUpfDAscD1wK01hdGguaW11bChVLEllKXwwLHA9cCtNYXRoLmltdWwoRixqZSl8MCxJPUkrTWF0aC5pbXVsKEYsSWUpfDAseD14K01hdGguaW11bChELHplKXwwLHA9cCtNYXRoLmltdWwoRCxPZSl8MCxwPXArTWF0aC5pbXVsKGosemUpfDAsST1JK01hdGguaW11bChqLE9lKXwwLHg9eCtNYXRoLmltdWwoZmUsWmUpfDAscD1wK01hdGguaW11bChmZSxrZSl8MCxwPXArTWF0aC5pbXVsKEosWmUpfDAsST1JK01hdGguaW11bChKLGtlKXwwO3ZhciBodD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsoaHQ+Pj4yNil8MCxodCY9NjcxMDg4NjMseD1NYXRoLmltdWwoeGUsQ2UpLHA9TWF0aC5pbXVsKHhlLE1lKSxwPXArTWF0aC5pbXVsKGdlLENlKXwwLEk9TWF0aC5pbXVsKGdlLE1lKSx4PXgrTWF0aC5pbXVsKGJlLFBlKXwwLHA9cCtNYXRoLmltdWwoYmUsQWUpfDAscD1wK01hdGguaW11bCh2ZSxQZSl8MCxJPUkrTWF0aC5pbXVsKHZlLEFlKXwwLHg9eCtNYXRoLmltdWwod2UscWUpfDAscD1wK01hdGguaW11bCh3ZSxCZSl8MCxwPXArTWF0aC5pbXVsKG5lLHFlKXwwLEk9SStNYXRoLmltdWwobmUsQmUpfDAseD14K01hdGguaW11bChzZSxIZSl8MCxwPXArTWF0aC5pbXVsKHNlLFJlKXwwLHA9cCtNYXRoLmltdWwoZGUsSGUpfDAsST1JK01hdGguaW11bChkZSxSZSl8MCx4PXgrTWF0aC5pbXVsKE4sVWUpfDAscD1wK01hdGguaW11bChOLFRlKXwwLHA9cCtNYXRoLmltdWwoQyxVZSl8MCxJPUkrTWF0aC5pbXVsKEMsVGUpfDAseD14K01hdGguaW11bChwZSxqZSl8MCxwPXArTWF0aC5pbXVsKHBlLEllKXwwLHA9cCtNYXRoLmltdWwoX2UsamUpfDAsST1JK01hdGguaW11bChfZSxJZSl8MCx4PXgrTWF0aC5pbXVsKFUsemUpfDAscD1wK01hdGguaW11bChVLE9lKXwwLHA9cCtNYXRoLmltdWwoRix6ZSl8MCxJPUkrTWF0aC5pbXVsKEYsT2UpfDAseD14K01hdGguaW11bChELFplKXwwLHA9cCtNYXRoLmltdWwoRCxrZSl8MCxwPXArTWF0aC5pbXVsKGosWmUpfDAsST1JK01hdGguaW11bChqLGtlKXwwLHg9eCtNYXRoLmltdWwoZmUsS2UpfDAscD1wK01hdGguaW11bChmZSxEZSl8MCxwPXArTWF0aC5pbXVsKEosS2UpfDAsST1JK01hdGguaW11bChKLERlKXwwO3ZhciBjdD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsoY3Q+Pj4yNil8MCxjdCY9NjcxMDg4NjMseD1NYXRoLmltdWwoU2UsQ2UpLHA9TWF0aC5pbXVsKFNlLE1lKSxwPXArTWF0aC5pbXVsKCRlLENlKXwwLEk9TWF0aC5pbXVsKCRlLE1lKSx4PXgrTWF0aC5pbXVsKHhlLFBlKXwwLHA9cCtNYXRoLmltdWwoeGUsQWUpfDAscD1wK01hdGguaW11bChnZSxQZSl8MCxJPUkrTWF0aC5pbXVsKGdlLEFlKXwwLHg9eCtNYXRoLmltdWwoYmUscWUpfDAscD1wK01hdGguaW11bChiZSxCZSl8MCxwPXArTWF0aC5pbXVsKHZlLHFlKXwwLEk9SStNYXRoLmltdWwodmUsQmUpfDAseD14K01hdGguaW11bCh3ZSxIZSl8MCxwPXArTWF0aC5pbXVsKHdlLFJlKXwwLHA9cCtNYXRoLmltdWwobmUsSGUpfDAsST1JK01hdGguaW11bChuZSxSZSl8MCx4PXgrTWF0aC5pbXVsKHNlLFVlKXwwLHA9cCtNYXRoLmltdWwoc2UsVGUpfDAscD1wK01hdGguaW11bChkZSxVZSl8MCxJPUkrTWF0aC5pbXVsKGRlLFRlKXwwLHg9eCtNYXRoLmltdWwoTixqZSl8MCxwPXArTWF0aC5pbXVsKE4sSWUpfDAscD1wK01hdGguaW11bChDLGplKXwwLEk9SStNYXRoLmltdWwoQyxJZSl8MCx4PXgrTWF0aC5pbXVsKHBlLHplKXwwLHA9cCtNYXRoLmltdWwocGUsT2UpfDAscD1wK01hdGguaW11bChfZSx6ZSl8MCxJPUkrTWF0aC5pbXVsKF9lLE9lKXwwLHg9eCtNYXRoLmltdWwoVSxaZSl8MCxwPXArTWF0aC5pbXVsKFUsa2UpfDAscD1wK01hdGguaW11bChGLFplKXwwLEk9SStNYXRoLmltdWwoRixrZSl8MCx4PXgrTWF0aC5pbXVsKEQsS2UpfDAscD1wK01hdGguaW11bChELERlKXwwLHA9cCtNYXRoLmltdWwoaixLZSl8MCxJPUkrTWF0aC5pbXVsKGosRGUpfDAseD14K01hdGguaW11bChmZSxMZSl8MCxwPXArTWF0aC5pbXVsKGZlLEZlKXwwLHA9cCtNYXRoLmltdWwoSixMZSl8MCxJPUkrTWF0aC5pbXVsKEosRmUpfDA7dmFyIGR0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhkdD4+PjI2KXwwLGR0Jj02NzEwODg2Myx4PU1hdGguaW11bChTZSxQZSkscD1NYXRoLmltdWwoU2UsQWUpLHA9cCtNYXRoLmltdWwoJGUsUGUpfDAsST1NYXRoLmltdWwoJGUsQWUpLHg9eCtNYXRoLmltdWwoeGUscWUpfDAscD1wK01hdGguaW11bCh4ZSxCZSl8MCxwPXArTWF0aC5pbXVsKGdlLHFlKXwwLEk9SStNYXRoLmltdWwoZ2UsQmUpfDAseD14K01hdGguaW11bChiZSxIZSl8MCxwPXArTWF0aC5pbXVsKGJlLFJlKXwwLHA9cCtNYXRoLmltdWwodmUsSGUpfDAsST1JK01hdGguaW11bCh2ZSxSZSl8MCx4PXgrTWF0aC5pbXVsKHdlLFVlKXwwLHA9cCtNYXRoLmltdWwod2UsVGUpfDAscD1wK01hdGguaW11bChuZSxVZSl8MCxJPUkrTWF0aC5pbXVsKG5lLFRlKXwwLHg9eCtNYXRoLmltdWwoc2UsamUpfDAscD1wK01hdGguaW11bChzZSxJZSl8MCxwPXArTWF0aC5pbXVsKGRlLGplKXwwLEk9SStNYXRoLmltdWwoZGUsSWUpfDAseD14K01hdGguaW11bChOLHplKXwwLHA9cCtNYXRoLmltdWwoTixPZSl8MCxwPXArTWF0aC5pbXVsKEMsemUpfDAsST1JK01hdGguaW11bChDLE9lKXwwLHg9eCtNYXRoLmltdWwocGUsWmUpfDAscD1wK01hdGguaW11bChwZSxrZSl8MCxwPXArTWF0aC5pbXVsKF9lLFplKXwwLEk9SStNYXRoLmltdWwoX2Usa2UpfDAseD14K01hdGguaW11bChVLEtlKXwwLHA9cCtNYXRoLmltdWwoVSxEZSl8MCxwPXArTWF0aC5pbXVsKEYsS2UpfDAsST1JK01hdGguaW11bChGLERlKXwwLHg9eCtNYXRoLmltdWwoRCxMZSl8MCxwPXArTWF0aC5pbXVsKEQsRmUpfDAscD1wK01hdGguaW11bChqLExlKXwwLEk9SStNYXRoLmltdWwoaixGZSl8MDt2YXIgcHQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKHB0Pj4+MjYpfDAscHQmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKFNlLHFlKSxwPU1hdGguaW11bChTZSxCZSkscD1wK01hdGguaW11bCgkZSxxZSl8MCxJPU1hdGguaW11bCgkZSxCZSkseD14K01hdGguaW11bCh4ZSxIZSl8MCxwPXArTWF0aC5pbXVsKHhlLFJlKXwwLHA9cCtNYXRoLmltdWwoZ2UsSGUpfDAsST1JK01hdGguaW11bChnZSxSZSl8MCx4PXgrTWF0aC5pbXVsKGJlLFVlKXwwLHA9cCtNYXRoLmltdWwoYmUsVGUpfDAscD1wK01hdGguaW11bCh2ZSxVZSl8MCxJPUkrTWF0aC5pbXVsKHZlLFRlKXwwLHg9eCtNYXRoLmltdWwod2UsamUpfDAscD1wK01hdGguaW11bCh3ZSxJZSl8MCxwPXArTWF0aC5pbXVsKG5lLGplKXwwLEk9SStNYXRoLmltdWwobmUsSWUpfDAseD14K01hdGguaW11bChzZSx6ZSl8MCxwPXArTWF0aC5pbXVsKHNlLE9lKXwwLHA9cCtNYXRoLmltdWwoZGUsemUpfDAsST1JK01hdGguaW11bChkZSxPZSl8MCx4PXgrTWF0aC5pbXVsKE4sWmUpfDAscD1wK01hdGguaW11bChOLGtlKXwwLHA9cCtNYXRoLmltdWwoQyxaZSl8MCxJPUkrTWF0aC5pbXVsKEMsa2UpfDAseD14K01hdGguaW11bChwZSxLZSl8MCxwPXArTWF0aC5pbXVsKHBlLERlKXwwLHA9cCtNYXRoLmltdWwoX2UsS2UpfDAsST1JK01hdGguaW11bChfZSxEZSl8MCx4PXgrTWF0aC5pbXVsKFUsTGUpfDAscD1wK01hdGguaW11bChVLEZlKXwwLHA9cCtNYXRoLmltdWwoRixMZSl8MCxJPUkrTWF0aC5pbXVsKEYsRmUpfDA7dmFyIHZ0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyh2dD4+PjI2KXwwLHZ0Jj02NzEwODg2Myx4PU1hdGguaW11bChTZSxIZSkscD1NYXRoLmltdWwoU2UsUmUpLHA9cCtNYXRoLmltdWwoJGUsSGUpfDAsST1NYXRoLmltdWwoJGUsUmUpLHg9eCtNYXRoLmltdWwoeGUsVWUpfDAscD1wK01hdGguaW11bCh4ZSxUZSl8MCxwPXArTWF0aC5pbXVsKGdlLFVlKXwwLEk9SStNYXRoLmltdWwoZ2UsVGUpfDAseD14K01hdGguaW11bChiZSxqZSl8MCxwPXArTWF0aC5pbXVsKGJlLEllKXwwLHA9cCtNYXRoLmltdWwodmUsamUpfDAsST1JK01hdGguaW11bCh2ZSxJZSl8MCx4PXgrTWF0aC5pbXVsKHdlLHplKXwwLHA9cCtNYXRoLmltdWwod2UsT2UpfDAscD1wK01hdGguaW11bChuZSx6ZSl8MCxJPUkrTWF0aC5pbXVsKG5lLE9lKXwwLHg9eCtNYXRoLmltdWwoc2UsWmUpfDAscD1wK01hdGguaW11bChzZSxrZSl8MCxwPXArTWF0aC5pbXVsKGRlLFplKXwwLEk9SStNYXRoLmltdWwoZGUsa2UpfDAseD14K01hdGguaW11bChOLEtlKXwwLHA9cCtNYXRoLmltdWwoTixEZSl8MCxwPXArTWF0aC5pbXVsKEMsS2UpfDAsST1JK01hdGguaW11bChDLERlKXwwLHg9eCtNYXRoLmltdWwocGUsTGUpfDAscD1wK01hdGguaW11bChwZSxGZSl8MCxwPXArTWF0aC5pbXVsKF9lLExlKXwwLEk9SStNYXRoLmltdWwoX2UsRmUpfDA7dmFyIGJ0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhidD4+PjI2KXwwLGJ0Jj02NzEwODg2Myx4PU1hdGguaW11bChTZSxVZSkscD1NYXRoLmltdWwoU2UsVGUpLHA9cCtNYXRoLmltdWwoJGUsVWUpfDAsST1NYXRoLmltdWwoJGUsVGUpLHg9eCtNYXRoLmltdWwoeGUsamUpfDAscD1wK01hdGguaW11bCh4ZSxJZSl8MCxwPXArTWF0aC5pbXVsKGdlLGplKXwwLEk9SStNYXRoLmltdWwoZ2UsSWUpfDAseD14K01hdGguaW11bChiZSx6ZSl8MCxwPXArTWF0aC5pbXVsKGJlLE9lKXwwLHA9cCtNYXRoLmltdWwodmUsemUpfDAsST1JK01hdGguaW11bCh2ZSxPZSl8MCx4PXgrTWF0aC5pbXVsKHdlLFplKXwwLHA9cCtNYXRoLmltdWwod2Usa2UpfDAscD1wK01hdGguaW11bChuZSxaZSl8MCxJPUkrTWF0aC5pbXVsKG5lLGtlKXwwLHg9eCtNYXRoLmltdWwoc2UsS2UpfDAscD1wK01hdGguaW11bChzZSxEZSl8MCxwPXArTWF0aC5pbXVsKGRlLEtlKXwwLEk9SStNYXRoLmltdWwoZGUsRGUpfDAseD14K01hdGguaW11bChOLExlKXwwLHA9cCtNYXRoLmltdWwoTixGZSl8MCxwPXArTWF0aC5pbXVsKEMsTGUpfDAsST1JK01hdGguaW11bChDLEZlKXwwO3ZhciBtdD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsobXQ+Pj4yNil8MCxtdCY9NjcxMDg4NjMseD1NYXRoLmltdWwoU2UsamUpLHA9TWF0aC5pbXVsKFNlLEllKSxwPXArTWF0aC5pbXVsKCRlLGplKXwwLEk9TWF0aC5pbXVsKCRlLEllKSx4PXgrTWF0aC5pbXVsKHhlLHplKXwwLHA9cCtNYXRoLmltdWwoeGUsT2UpfDAscD1wK01hdGguaW11bChnZSx6ZSl8MCxJPUkrTWF0aC5pbXVsKGdlLE9lKXwwLHg9eCtNYXRoLmltdWwoYmUsWmUpfDAscD1wK01hdGguaW11bChiZSxrZSl8MCxwPXArTWF0aC5pbXVsKHZlLFplKXwwLEk9SStNYXRoLmltdWwodmUsa2UpfDAseD14K01hdGguaW11bCh3ZSxLZSl8MCxwPXArTWF0aC5pbXVsKHdlLERlKXwwLHA9cCtNYXRoLmltdWwobmUsS2UpfDAsST1JK01hdGguaW11bChuZSxEZSl8MCx4PXgrTWF0aC5pbXVsKHNlLExlKXwwLHA9cCtNYXRoLmltdWwoc2UsRmUpfDAscD1wK01hdGguaW11bChkZSxMZSl8MCxJPUkrTWF0aC5pbXVsKGRlLEZlKXwwO3ZhciB5dD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsoeXQ+Pj4yNil8MCx5dCY9NjcxMDg4NjMseD1NYXRoLmltdWwoU2UsemUpLHA9TWF0aC5pbXVsKFNlLE9lKSxwPXArTWF0aC5pbXVsKCRlLHplKXwwLEk9TWF0aC5pbXVsKCRlLE9lKSx4PXgrTWF0aC5pbXVsKHhlLFplKXwwLHA9cCtNYXRoLmltdWwoeGUsa2UpfDAscD1wK01hdGguaW11bChnZSxaZSl8MCxJPUkrTWF0aC5pbXVsKGdlLGtlKXwwLHg9eCtNYXRoLmltdWwoYmUsS2UpfDAscD1wK01hdGguaW11bChiZSxEZSl8MCxwPXArTWF0aC5pbXVsKHZlLEtlKXwwLEk9SStNYXRoLmltdWwodmUsRGUpfDAseD14K01hdGguaW11bCh3ZSxMZSl8MCxwPXArTWF0aC5pbXVsKHdlLEZlKXwwLHA9cCtNYXRoLmltdWwobmUsTGUpfDAsST1JK01hdGguaW11bChuZSxGZSl8MDt2YXIgX3Q9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKF90Pj4+MjYpfDAsX3QmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKFNlLFplKSxwPU1hdGguaW11bChTZSxrZSkscD1wK01hdGguaW11bCgkZSxaZSl8MCxJPU1hdGguaW11bCgkZSxrZSkseD14K01hdGguaW11bCh4ZSxLZSl8MCxwPXArTWF0aC5pbXVsKHhlLERlKXwwLHA9cCtNYXRoLmltdWwoZ2UsS2UpfDAsST1JK01hdGguaW11bChnZSxEZSl8MCx4PXgrTWF0aC5pbXVsKGJlLExlKXwwLHA9cCtNYXRoLmltdWwoYmUsRmUpfDAscD1wK01hdGguaW11bCh2ZSxMZSl8MCxJPUkrTWF0aC5pbXVsKHZlLEZlKXwwO3ZhciBndD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsoZ3Q+Pj4yNil8MCxndCY9NjcxMDg4NjMseD1NYXRoLmltdWwoU2UsS2UpLHA9TWF0aC5pbXVsKFNlLERlKSxwPXArTWF0aC5pbXVsKCRlLEtlKXwwLEk9TWF0aC5pbXVsKCRlLERlKSx4PXgrTWF0aC5pbXVsKHhlLExlKXwwLHA9cCtNYXRoLmltdWwoeGUsRmUpfDAscD1wK01hdGguaW11bChnZSxMZSl8MCxJPUkrTWF0aC5pbXVsKGdlLEZlKXwwO3ZhciB3dD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsod3Q+Pj4yNil8MCx3dCY9NjcxMDg4NjMseD1NYXRoLmltdWwoU2UsTGUpLHA9TWF0aC5pbXVsKFNlLEZlKSxwPXArTWF0aC5pbXVsKCRlLExlKXwwLEk9TWF0aC5pbXVsKCRlLEZlKTt2YXIgRXQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3JldHVybiB5PShJKyhwPj4+MTMpfDApKyhFdD4+PjI2KXwwLEV0Jj02NzEwODg2MyxBWzBdPWl0LEFbMV09bnQsQVsyXT1hdCxBWzNdPW90LEFbNF09c3QsQVs1XT11dCxBWzZdPWx0LEFbN109aHQsQVs4XT1jdCxBWzldPWR0LEFbMTBdPXB0LEFbMTFdPXZ0LEFbMTJdPWJ0LEFbMTNdPW10LEFbMTRdPXl0LEFbMTVdPV90LEFbMTZdPWd0LEFbMTddPXd0LEFbMThdPUV0LHkhPT0wJiYoQVsxOV09eSxFLmxlbmd0aCsrKSxFfTtNYXRoLmltdWx8fChWPUgpO2Z1bmN0aW9uIGFlKG0sbCx2KXt2Lm5lZ2F0aXZlPWwubmVnYXRpdmVebS5uZWdhdGl2ZSx2Lmxlbmd0aD1tLmxlbmd0aCtsLmxlbmd0aDtmb3IodmFyIEU9MCxTPTAsQj0wO0I8di5sZW5ndGgtMTtCKyspe3ZhciBBPVM7Uz0wO2Zvcih2YXIgeT1FJjY3MTA4ODYzLHg9TWF0aC5taW4oQixsLmxlbmd0aC0xKSxwPU1hdGgubWF4KDAsQi1tLmxlbmd0aCsxKTtwPD14O3ArKyl7dmFyIEk9Qi1wLGVlPW0ud29yZHNbSV18MCxmZT1sLndvcmRzW3BdfDAsSj1lZSpmZSxrPUomNjcxMDg4NjM7QT1BKyhKLzY3MTA4ODY0fDApfDAsaz1rK3l8MCx5PWsmNjcxMDg4NjMsQT1BKyhrPj4+MjYpfDAsUys9QT4+PjI2LEEmPTY3MTA4ODYzfXYud29yZHNbQl09eSxFPUEsQT1TfXJldHVybiBFIT09MD92LndvcmRzW0JdPUU6di5sZW5ndGgtLSx2Ll9zdHJpcCgpfWZ1bmN0aW9uIGllKG0sbCx2KXtyZXR1cm4gYWUobSxsLHYpfW8ucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKGwsdil7dmFyIEUsUz10aGlzLmxlbmd0aCtsLmxlbmd0aDtyZXR1cm4gdGhpcy5sZW5ndGg9PT0xMCYmbC5sZW5ndGg9PT0xMD9FPVYodGhpcyxsLHYpOlM8NjM/RT1IKHRoaXMsbCx2KTpTPDEwMjQ/RT1hZSh0aGlzLGwsdik6RT1pZSh0aGlzLGwsdiksRX0sby5wcm90b3R5cGUubXVsPWZ1bmN0aW9uKGwpe3ZhciB2PW5ldyBvKG51bGwpO3JldHVybiB2LndvcmRzPW5ldyBBcnJheSh0aGlzLmxlbmd0aCtsLmxlbmd0aCksdGhpcy5tdWxUbyhsLHYpfSxvLnByb3RvdHlwZS5tdWxmPWZ1bmN0aW9uKGwpe3ZhciB2PW5ldyBvKG51bGwpO3JldHVybiB2LndvcmRzPW5ldyBBcnJheSh0aGlzLmxlbmd0aCtsLmxlbmd0aCksaWUodGhpcyxsLHYpfSxvLnByb3RvdHlwZS5pbXVsPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkubXVsVG8obCx0aGlzKX0sby5wcm90b3R5cGUuaW11bG49ZnVuY3Rpb24obCl7dmFyIHY9bDwwO3YmJihsPS1sKSxhKHR5cGVvZiBsPT0ibnVtYmVyIiksYShsPDY3MTA4ODY0KTtmb3IodmFyIEU9MCxTPTA7Uzx0aGlzLmxlbmd0aDtTKyspe3ZhciBCPSh0aGlzLndvcmRzW1NdfDApKmwsQT0oQiY2NzEwODg2MykrKEUmNjcxMDg4NjMpO0U+Pj0yNixFKz1CLzY3MTA4ODY0fDAsRSs9QT4+PjI2LHRoaXMud29yZHNbU109QSY2NzEwODg2M31yZXR1cm4gRSE9PTAmJih0aGlzLndvcmRzW1NdPUUsdGhpcy5sZW5ndGgrKyksdj90aGlzLmluZWcoKTp0aGlzfSxvLnByb3RvdHlwZS5tdWxuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkuaW11bG4obCl9LG8ucHJvdG90eXBlLnNxcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm11bCh0aGlzKX0sby5wcm90b3R5cGUuaXNxcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmltdWwodGhpcy5jbG9uZSgpKX0sby5wcm90b3R5cGUucG93PWZ1bmN0aW9uKGwpe3ZhciB2PXoobCk7aWYodi5sZW5ndGg9PT0wKXJldHVybiBuZXcgbygxKTtmb3IodmFyIEU9dGhpcyxTPTA7Uzx2Lmxlbmd0aCYmdltTXT09PTA7UysrLEU9RS5zcXIoKSk7aWYoKytTPHYubGVuZ3RoKWZvcih2YXIgQj1FLnNxcigpO1M8di5sZW5ndGg7UysrLEI9Qi5zcXIoKSl2W1NdIT09MCYmKEU9RS5tdWwoQikpO3JldHVybiBFfSxvLnByb3RvdHlwZS5pdXNobG49ZnVuY3Rpb24obCl7YSh0eXBlb2YgbD09Im51bWJlciImJmw+PTApO3ZhciB2PWwlMjYsRT0obC12KS8yNixTPTY3MTA4ODYzPj4+MjYtdjw8MjYtdixCO2lmKHYhPT0wKXt2YXIgQT0wO2ZvcihCPTA7Qjx0aGlzLmxlbmd0aDtCKyspe3ZhciB5PXRoaXMud29yZHNbQl0mUyx4PSh0aGlzLndvcmRzW0JdfDApLXk8PHY7dGhpcy53b3Jkc1tCXT14fEEsQT15Pj4+MjYtdn1BJiYodGhpcy53b3Jkc1tCXT1BLHRoaXMubGVuZ3RoKyspfWlmKEUhPT0wKXtmb3IoQj10aGlzLmxlbmd0aC0xO0I+PTA7Qi0tKXRoaXMud29yZHNbQitFXT10aGlzLndvcmRzW0JdO2ZvcihCPTA7QjxFO0IrKyl0aGlzLndvcmRzW0JdPTA7dGhpcy5sZW5ndGgrPUV9cmV0dXJuIHRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLmlzaGxuPWZ1bmN0aW9uKGwpe3JldHVybiBhKHRoaXMubmVnYXRpdmU9PT0wKSx0aGlzLml1c2hsbihsKX0sby5wcm90b3R5cGUuaXVzaHJuPWZ1bmN0aW9uKGwsdixFKXthKHR5cGVvZiBsPT0ibnVtYmVyIiYmbD49MCk7dmFyIFM7dj9TPSh2LXYlMjYpLzI2OlM9MDt2YXIgQj1sJTI2LEE9TWF0aC5taW4oKGwtQikvMjYsdGhpcy5sZW5ndGgpLHk9NjcxMDg4NjNeNjcxMDg4NjM+Pj5CPDxCLHg9RTtpZihTLT1BLFM9TWF0aC5tYXgoMCxTKSx4KXtmb3IodmFyIHA9MDtwPEE7cCsrKXgud29yZHNbcF09dGhpcy53b3Jkc1twXTt4Lmxlbmd0aD1BfWlmKEEhPT0wKWlmKHRoaXMubGVuZ3RoPkEpZm9yKHRoaXMubGVuZ3RoLT1BLHA9MDtwPHRoaXMubGVuZ3RoO3ArKyl0aGlzLndvcmRzW3BdPXRoaXMud29yZHNbcCtBXTtlbHNlIHRoaXMud29yZHNbMF09MCx0aGlzLmxlbmd0aD0xO3ZhciBJPTA7Zm9yKHA9dGhpcy5sZW5ndGgtMTtwPj0wJiYoSSE9PTB8fHA+PVMpO3AtLSl7dmFyIGVlPXRoaXMud29yZHNbcF18MDt0aGlzLndvcmRzW3BdPUk8PDI2LUJ8ZWU+Pj5CLEk9ZWUmeX1yZXR1cm4geCYmSSE9PTAmJih4LndvcmRzW3gubGVuZ3RoKytdPUkpLHRoaXMubGVuZ3RoPT09MCYmKHRoaXMud29yZHNbMF09MCx0aGlzLmxlbmd0aD0xKSx0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5pc2hybj1mdW5jdGlvbihsLHYsRSl7cmV0dXJuIGEodGhpcy5uZWdhdGl2ZT09PTApLHRoaXMuaXVzaHJuKGwsdixFKX0sby5wcm90b3R5cGUuc2hsbj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmlzaGxuKGwpfSxvLnByb3RvdHlwZS51c2hsbj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbG9uZSgpLml1c2hsbihsKX0sby5wcm90b3R5cGUuc2hybj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmlzaHJuKGwpfSxvLnByb3RvdHlwZS51c2hybj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbG9uZSgpLml1c2hybihsKX0sby5wcm90b3R5cGUudGVzdG49ZnVuY3Rpb24obCl7YSh0eXBlb2YgbD09Im51bWJlciImJmw+PTApO3ZhciB2PWwlMjYsRT0obC12KS8yNixTPTE8PHY7aWYodGhpcy5sZW5ndGg8PUUpcmV0dXJuITE7dmFyIEI9dGhpcy53b3Jkc1tFXTtyZXR1cm4hIShCJlMpfSxvLnByb3RvdHlwZS5pbWFza249ZnVuY3Rpb24obCl7YSh0eXBlb2YgbD09Im51bWJlciImJmw+PTApO3ZhciB2PWwlMjYsRT0obC12KS8yNjtpZihhKHRoaXMubmVnYXRpdmU9PT0wLCJpbWFza24gd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlIG51bWJlcnMiKSx0aGlzLmxlbmd0aDw9RSlyZXR1cm4gdGhpcztpZih2IT09MCYmRSsrLHRoaXMubGVuZ3RoPU1hdGgubWluKEUsdGhpcy5sZW5ndGgpLHYhPT0wKXt2YXIgUz02NzEwODg2M142NzEwODg2Mz4+PnY8PHY7dGhpcy53b3Jkc1t0aGlzLmxlbmd0aC0xXSY9U31yZXR1cm4gdGhpcy5fc3RyaXAoKX0sby5wcm90b3R5cGUubWFza249ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pbWFza24obCl9LG8ucHJvdG90eXBlLmlhZGRuPWZ1bmN0aW9uKGwpe3JldHVybiBhKHR5cGVvZiBsPT0ibnVtYmVyIiksYShsPDY3MTA4ODY0KSxsPDA/dGhpcy5pc3VibigtbCk6dGhpcy5uZWdhdGl2ZSE9PTA/dGhpcy5sZW5ndGg9PT0xJiYodGhpcy53b3Jkc1swXXwwKTw9bD8odGhpcy53b3Jkc1swXT1sLSh0aGlzLndvcmRzWzBdfDApLHRoaXMubmVnYXRpdmU9MCx0aGlzKToodGhpcy5uZWdhdGl2ZT0wLHRoaXMuaXN1Ym4obCksdGhpcy5uZWdhdGl2ZT0xLHRoaXMpOnRoaXMuX2lhZGRuKGwpfSxvLnByb3RvdHlwZS5faWFkZG49ZnVuY3Rpb24obCl7dGhpcy53b3Jkc1swXSs9bDtmb3IodmFyIHY9MDt2PHRoaXMubGVuZ3RoJiZ0aGlzLndvcmRzW3ZdPj02NzEwODg2NDt2KyspdGhpcy53b3Jkc1t2XS09NjcxMDg4NjQsdj09PXRoaXMubGVuZ3RoLTE/dGhpcy53b3Jkc1t2KzFdPTE6dGhpcy53b3Jkc1t2KzFdKys7cmV0dXJuIHRoaXMubGVuZ3RoPU1hdGgubWF4KHRoaXMubGVuZ3RoLHYrMSksdGhpc30sby5wcm90b3R5cGUuaXN1Ym49ZnVuY3Rpb24obCl7aWYoYSh0eXBlb2YgbD09Im51bWJlciIpLGEobDw2NzEwODg2NCksbDwwKXJldHVybiB0aGlzLmlhZGRuKC1sKTtpZih0aGlzLm5lZ2F0aXZlIT09MClyZXR1cm4gdGhpcy5uZWdhdGl2ZT0wLHRoaXMuaWFkZG4obCksdGhpcy5uZWdhdGl2ZT0xLHRoaXM7aWYodGhpcy53b3Jkc1swXS09bCx0aGlzLmxlbmd0aD09PTEmJnRoaXMud29yZHNbMF08MCl0aGlzLndvcmRzWzBdPS10aGlzLndvcmRzWzBdLHRoaXMubmVnYXRpdmU9MTtlbHNlIGZvcih2YXIgdj0wO3Y8dGhpcy5sZW5ndGgmJnRoaXMud29yZHNbdl08MDt2KyspdGhpcy53b3Jkc1t2XSs9NjcxMDg4NjQsdGhpcy53b3Jkc1t2KzFdLT0xO3JldHVybiB0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5hZGRuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkuaWFkZG4obCl9LG8ucHJvdG90eXBlLnN1Ym49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pc3VibihsKX0sby5wcm90b3R5cGUuaWFicz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZ2F0aXZlPTAsdGhpc30sby5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pYWJzKCl9LG8ucHJvdG90eXBlLl9pc2hsbnN1Ym11bD1mdW5jdGlvbihsLHYsRSl7dmFyIFM9bC5sZW5ndGgrRSxCO3RoaXMuX2V4cGFuZChTKTt2YXIgQSx5PTA7Zm9yKEI9MDtCPGwubGVuZ3RoO0IrKyl7QT0odGhpcy53b3Jkc1tCK0VdfDApK3k7dmFyIHg9KGwud29yZHNbQl18MCkqdjtBLT14JjY3MTA4ODYzLHk9KEE+PjI2KS0oeC82NzEwODg2NHwwKSx0aGlzLndvcmRzW0IrRV09QSY2NzEwODg2M31mb3IoO0I8dGhpcy5sZW5ndGgtRTtCKyspQT0odGhpcy53b3Jkc1tCK0VdfDApK3kseT1BPj4yNix0aGlzLndvcmRzW0IrRV09QSY2NzEwODg2MztpZih5PT09MClyZXR1cm4gdGhpcy5fc3RyaXAoKTtmb3IoYSh5PT09LTEpLHk9MCxCPTA7Qjx0aGlzLmxlbmd0aDtCKyspQT0tKHRoaXMud29yZHNbQl18MCkreSx5PUE+PjI2LHRoaXMud29yZHNbQl09QSY2NzEwODg2MztyZXR1cm4gdGhpcy5uZWdhdGl2ZT0xLHRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLl93b3JkRGl2PWZ1bmN0aW9uKGwsdil7dmFyIEU9dGhpcy5sZW5ndGgtbC5sZW5ndGgsUz10aGlzLmNsb25lKCksQj1sLEE9Qi53b3Jkc1tCLmxlbmd0aC0xXXwwLHk9dGhpcy5fY291bnRCaXRzKEEpO0U9MjYteSxFIT09MCYmKEI9Qi51c2hsbihFKSxTLml1c2hsbihFKSxBPUIud29yZHNbQi5sZW5ndGgtMV18MCk7dmFyIHg9Uy5sZW5ndGgtQi5sZW5ndGgscDtpZih2IT09Im1vZCIpe3A9bmV3IG8obnVsbCkscC5sZW5ndGg9eCsxLHAud29yZHM9bmV3IEFycmF5KHAubGVuZ3RoKTtmb3IodmFyIEk9MDtJPHAubGVuZ3RoO0krKylwLndvcmRzW0ldPTB9dmFyIGVlPVMuY2xvbmUoKS5faXNobG5zdWJtdWwoQiwxLHgpO2VlLm5lZ2F0aXZlPT09MCYmKFM9ZWUscCYmKHAud29yZHNbeF09MSkpO2Zvcih2YXIgZmU9eC0xO2ZlPj0wO2ZlLS0pe3ZhciBKPShTLndvcmRzW0IubGVuZ3RoK2ZlXXwwKSo2NzEwODg2NCsoUy53b3Jkc1tCLmxlbmd0aCtmZS0xXXwwKTtmb3IoSj1NYXRoLm1pbihKL0F8MCw2NzEwODg2MyksUy5faXNobG5zdWJtdWwoQixKLGZlKTtTLm5lZ2F0aXZlIT09MDspSi0tLFMubmVnYXRpdmU9MCxTLl9pc2hsbnN1Ym11bChCLDEsZmUpLFMuaXNaZXJvKCl8fChTLm5lZ2F0aXZlXj0xKTtwJiYocC53b3Jkc1tmZV09Sil9cmV0dXJuIHAmJnAuX3N0cmlwKCksUy5fc3RyaXAoKSx2IT09ImRpdiImJkUhPT0wJiZTLml1c2hybihFKSx7ZGl2OnB8fG51bGwsbW9kOlN9fSxvLnByb3RvdHlwZS5kaXZtb2Q9ZnVuY3Rpb24obCx2LEUpe2lmKGEoIWwuaXNaZXJvKCkpLHRoaXMuaXNaZXJvKCkpcmV0dXJue2RpdjpuZXcgbygwKSxtb2Q6bmV3IG8oMCl9O3ZhciBTLEIsQTtyZXR1cm4gdGhpcy5uZWdhdGl2ZSE9PTAmJmwubmVnYXRpdmU9PT0wPyhBPXRoaXMubmVnKCkuZGl2bW9kKGwsdiksdiE9PSJtb2QiJiYoUz1BLmRpdi5uZWcoKSksdiE9PSJkaXYiJiYoQj1BLm1vZC5uZWcoKSxFJiZCLm5lZ2F0aXZlIT09MCYmQi5pYWRkKGwpKSx7ZGl2OlMsbW9kOkJ9KTp0aGlzLm5lZ2F0aXZlPT09MCYmbC5uZWdhdGl2ZSE9PTA/KEE9dGhpcy5kaXZtb2QobC5uZWcoKSx2KSx2IT09Im1vZCImJihTPUEuZGl2Lm5lZygpKSx7ZGl2OlMsbW9kOkEubW9kfSk6dGhpcy5uZWdhdGl2ZSZsLm5lZ2F0aXZlPyhBPXRoaXMubmVnKCkuZGl2bW9kKGwubmVnKCksdiksdiE9PSJkaXYiJiYoQj1BLm1vZC5uZWcoKSxFJiZCLm5lZ2F0aXZlIT09MCYmQi5pc3ViKGwpKSx7ZGl2OkEuZGl2LG1vZDpCfSk6bC5sZW5ndGg+dGhpcy5sZW5ndGh8fHRoaXMuY21wKGwpPDA/e2RpdjpuZXcgbygwKSxtb2Q6dGhpc306bC5sZW5ndGg9PT0xP3Y9PT0iZGl2Ij97ZGl2OnRoaXMuZGl2bihsLndvcmRzWzBdKSxtb2Q6bnVsbH06dj09PSJtb2QiP3tkaXY6bnVsbCxtb2Q6bmV3IG8odGhpcy5tb2RybihsLndvcmRzWzBdKSl9OntkaXY6dGhpcy5kaXZuKGwud29yZHNbMF0pLG1vZDpuZXcgbyh0aGlzLm1vZHJuKGwud29yZHNbMF0pKX06dGhpcy5fd29yZERpdihsLHYpfSxvLnByb3RvdHlwZS5kaXY9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuZGl2bW9kKGwsImRpdiIsITEpLmRpdn0sby5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmRpdm1vZChsLCJtb2QiLCExKS5tb2R9LG8ucHJvdG90eXBlLnVtb2Q9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuZGl2bW9kKGwsIm1vZCIsITApLm1vZH0sby5wcm90b3R5cGUuZGl2Um91bmQ9ZnVuY3Rpb24obCl7dmFyIHY9dGhpcy5kaXZtb2QobCk7aWYodi5tb2QuaXNaZXJvKCkpcmV0dXJuIHYuZGl2O3ZhciBFPXYuZGl2Lm5lZ2F0aXZlIT09MD92Lm1vZC5pc3ViKGwpOnYubW9kLFM9bC51c2hybigxKSxCPWwuYW5kbG4oMSksQT1FLmNtcChTKTtyZXR1cm4gQTwwfHxCPT09MSYmQT09PTA/di5kaXY6di5kaXYubmVnYXRpdmUhPT0wP3YuZGl2LmlzdWJuKDEpOnYuZGl2LmlhZGRuKDEpfSxvLnByb3RvdHlwZS5tb2Rybj1mdW5jdGlvbihsKXt2YXIgdj1sPDA7diYmKGw9LWwpLGEobDw9NjcxMDg4NjMpO2Zvcih2YXIgRT0oMTw8MjYpJWwsUz0wLEI9dGhpcy5sZW5ndGgtMTtCPj0wO0ItLSlTPShFKlMrKHRoaXMud29yZHNbQl18MCkpJWw7cmV0dXJuIHY/LVM6U30sby5wcm90b3R5cGUubW9kbj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5tb2RybihsKX0sby5wcm90b3R5cGUuaWRpdm49ZnVuY3Rpb24obCl7dmFyIHY9bDwwO3YmJihsPS1sKSxhKGw8PTY3MTA4ODYzKTtmb3IodmFyIEU9MCxTPXRoaXMubGVuZ3RoLTE7Uz49MDtTLS0pe3ZhciBCPSh0aGlzLndvcmRzW1NdfDApK0UqNjcxMDg4NjQ7dGhpcy53b3Jkc1tTXT1CL2x8MCxFPUIlbH1yZXR1cm4gdGhpcy5fc3RyaXAoKSx2P3RoaXMuaW5lZygpOnRoaXN9LG8ucHJvdG90eXBlLmRpdm49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pZGl2bihsKX0sby5wcm90b3R5cGUuZWdjZD1mdW5jdGlvbihsKXthKGwubmVnYXRpdmU9PT0wKSxhKCFsLmlzWmVybygpKTt2YXIgdj10aGlzLEU9bC5jbG9uZSgpO3YubmVnYXRpdmUhPT0wP3Y9di51bW9kKGwpOnY9di5jbG9uZSgpO2Zvcih2YXIgUz1uZXcgbygxKSxCPW5ldyBvKDApLEE9bmV3IG8oMCkseT1uZXcgbygxKSx4PTA7di5pc0V2ZW4oKSYmRS5pc0V2ZW4oKTspdi5pdXNocm4oMSksRS5pdXNocm4oMSksKyt4O2Zvcih2YXIgcD1FLmNsb25lKCksST12LmNsb25lKCk7IXYuaXNaZXJvKCk7KXtmb3IodmFyIGVlPTAsZmU9MTshKHYud29yZHNbMF0mZmUpJiZlZTwyNjsrK2VlLGZlPDw9MSk7aWYoZWU+MClmb3Iodi5pdXNocm4oZWUpO2VlLS0gPjA7KShTLmlzT2RkKCl8fEIuaXNPZGQoKSkmJihTLmlhZGQocCksQi5pc3ViKEkpKSxTLml1c2hybigxKSxCLml1c2hybigxKTtmb3IodmFyIEo9MCxrPTE7IShFLndvcmRzWzBdJmspJiZKPDI2OysrSixrPDw9MSk7aWYoSj4wKWZvcihFLml1c2hybihKKTtKLS0gPjA7KShBLmlzT2RkKCl8fHkuaXNPZGQoKSkmJihBLmlhZGQocCkseS5pc3ViKEkpKSxBLml1c2hybigxKSx5Lml1c2hybigxKTt2LmNtcChFKT49MD8odi5pc3ViKEUpLFMuaXN1YihBKSxCLmlzdWIoeSkpOihFLmlzdWIodiksQS5pc3ViKFMpLHkuaXN1YihCKSl9cmV0dXJue2E6QSxiOnksZ2NkOkUuaXVzaGxuKHgpfX0sby5wcm90b3R5cGUuX2ludm1wPWZ1bmN0aW9uKGwpe2EobC5uZWdhdGl2ZT09PTApLGEoIWwuaXNaZXJvKCkpO3ZhciB2PXRoaXMsRT1sLmNsb25lKCk7di5uZWdhdGl2ZSE9PTA/dj12LnVtb2QobCk6dj12LmNsb25lKCk7Zm9yKHZhciBTPW5ldyBvKDEpLEI9bmV3IG8oMCksQT1FLmNsb25lKCk7di5jbXBuKDEpPjAmJkUuY21wbigxKT4wOyl7Zm9yKHZhciB5PTAseD0xOyEodi53b3Jkc1swXSZ4KSYmeTwyNjsrK3kseDw8PTEpO2lmKHk+MClmb3Iodi5pdXNocm4oeSk7eS0tID4wOylTLmlzT2RkKCkmJlMuaWFkZChBKSxTLml1c2hybigxKTtmb3IodmFyIHA9MCxJPTE7IShFLndvcmRzWzBdJkkpJiZwPDI2OysrcCxJPDw9MSk7aWYocD4wKWZvcihFLml1c2hybihwKTtwLS0gPjA7KUIuaXNPZGQoKSYmQi5pYWRkKEEpLEIuaXVzaHJuKDEpO3YuY21wKEUpPj0wPyh2LmlzdWIoRSksUy5pc3ViKEIpKTooRS5pc3ViKHYpLEIuaXN1YihTKSl9dmFyIGVlO3JldHVybiB2LmNtcG4oMSk9PT0wP2VlPVM6ZWU9QixlZS5jbXBuKDApPDAmJmVlLmlhZGQobCksZWV9LG8ucHJvdG90eXBlLmdjZD1mdW5jdGlvbihsKXtpZih0aGlzLmlzWmVybygpKXJldHVybiBsLmFicygpO2lmKGwuaXNaZXJvKCkpcmV0dXJuIHRoaXMuYWJzKCk7dmFyIHY9dGhpcy5jbG9uZSgpLEU9bC5jbG9uZSgpO3YubmVnYXRpdmU9MCxFLm5lZ2F0aXZlPTA7Zm9yKHZhciBTPTA7di5pc0V2ZW4oKSYmRS5pc0V2ZW4oKTtTKyspdi5pdXNocm4oMSksRS5pdXNocm4oMSk7ZG97Zm9yKDt2LmlzRXZlbigpOyl2Lml1c2hybigxKTtmb3IoO0UuaXNFdmVuKCk7KUUuaXVzaHJuKDEpO3ZhciBCPXYuY21wKEUpO2lmKEI8MCl7dmFyIEE9djt2PUUsRT1BfWVsc2UgaWYoQj09PTB8fEUuY21wbigxKT09PTApYnJlYWs7di5pc3ViKEUpfXdoaWxlKCEwKTtyZXR1cm4gRS5pdXNobG4oUyl9LG8ucHJvdG90eXBlLmludm09ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuZWdjZChsKS5hLnVtb2QobCl9LG8ucHJvdG90eXBlLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybih0aGlzLndvcmRzWzBdJjEpPT09MH0sby5wcm90b3R5cGUuaXNPZGQ9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy53b3Jkc1swXSYxKT09PTF9LG8ucHJvdG90eXBlLmFuZGxuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLndvcmRzWzBdJmx9LG8ucHJvdG90eXBlLmJpbmNuPWZ1bmN0aW9uKGwpe2EodHlwZW9mIGw9PSJudW1iZXIiKTt2YXIgdj1sJTI2LEU9KGwtdikvMjYsUz0xPDx2O2lmKHRoaXMubGVuZ3RoPD1FKXJldHVybiB0aGlzLl9leHBhbmQoRSsxKSx0aGlzLndvcmRzW0VdfD1TLHRoaXM7Zm9yKHZhciBCPVMsQT1FO0IhPT0wJiZBPHRoaXMubGVuZ3RoO0ErKyl7dmFyIHk9dGhpcy53b3Jkc1tBXXwwO3krPUIsQj15Pj4+MjYseSY9NjcxMDg4NjMsdGhpcy53b3Jkc1tBXT15fXJldHVybiBCIT09MCYmKHRoaXMud29yZHNbQV09Qix0aGlzLmxlbmd0aCsrKSx0aGlzfSxvLnByb3RvdHlwZS5pc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9PT0xJiZ0aGlzLndvcmRzWzBdPT09MH0sby5wcm90b3R5cGUuY21wbj1mdW5jdGlvbihsKXt2YXIgdj1sPDA7aWYodGhpcy5uZWdhdGl2ZSE9PTAmJiF2KXJldHVybi0xO2lmKHRoaXMubmVnYXRpdmU9PT0wJiZ2KXJldHVybiAxO3RoaXMuX3N0cmlwKCk7dmFyIEU7aWYodGhpcy5sZW5ndGg+MSlFPTE7ZWxzZXt2JiYobD0tbCksYShsPD02NzEwODg2MywiTnVtYmVyIGlzIHRvbyBiaWciKTt2YXIgUz10aGlzLndvcmRzWzBdfDA7RT1TPT09bD8wOlM8bD8tMToxfXJldHVybiB0aGlzLm5lZ2F0aXZlIT09MD8tRXwwOkV9LG8ucHJvdG90eXBlLmNtcD1mdW5jdGlvbihsKXtpZih0aGlzLm5lZ2F0aXZlIT09MCYmbC5uZWdhdGl2ZT09PTApcmV0dXJuLTE7aWYodGhpcy5uZWdhdGl2ZT09PTAmJmwubmVnYXRpdmUhPT0wKXJldHVybiAxO3ZhciB2PXRoaXMudWNtcChsKTtyZXR1cm4gdGhpcy5uZWdhdGl2ZSE9PTA/LXZ8MDp2fSxvLnByb3RvdHlwZS51Y21wPWZ1bmN0aW9uKGwpe2lmKHRoaXMubGVuZ3RoPmwubGVuZ3RoKXJldHVybiAxO2lmKHRoaXMubGVuZ3RoPGwubGVuZ3RoKXJldHVybi0xO2Zvcih2YXIgdj0wLEU9dGhpcy5sZW5ndGgtMTtFPj0wO0UtLSl7dmFyIFM9dGhpcy53b3Jkc1tFXXwwLEI9bC53b3Jkc1tFXXwwO2lmKFMhPT1CKXtTPEI/dj0tMTpTPkImJih2PTEpO2JyZWFrfX1yZXR1cm4gdn0sby5wcm90b3R5cGUuZ3RuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcG4obCk9PT0xfSxvLnByb3RvdHlwZS5ndD1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbXAobCk9PT0xfSxvLnByb3RvdHlwZS5ndGVuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcG4obCk+PTB9LG8ucHJvdG90eXBlLmd0ZT1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbXAobCk+PTB9LG8ucHJvdG90eXBlLmx0bj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbXBuKGwpPT09LTF9LG8ucHJvdG90eXBlLmx0PWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcChsKT09PS0xfSxvLnByb3RvdHlwZS5sdGVuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcG4obCk8PTB9LG8ucHJvdG90eXBlLmx0ZT1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbXAobCk8PTB9LG8ucHJvdG90eXBlLmVxbj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbXBuKGwpPT09MH0sby5wcm90b3R5cGUuZXE9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY21wKGwpPT09MH0sby5yZWQ9ZnVuY3Rpb24obCl7cmV0dXJuIG5ldyBYKGwpfSxvLnByb3RvdHlwZS50b1JlZD1mdW5jdGlvbihsKXtyZXR1cm4gYSghdGhpcy5yZWQsIkFscmVhZHkgYSBudW1iZXIgaW4gcmVkdWN0aW9uIGNvbnRleHQiKSxhKHRoaXMubmVnYXRpdmU9PT0wLCJyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlcyIpLGwuY29udmVydFRvKHRoaXMpLl9mb3JjZVJlZChsKX0sby5wcm90b3R5cGUuZnJvbVJlZD1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMucmVkLCJmcm9tUmVkIHdvcmtzIG9ubHkgd2l0aCBudW1iZXJzIGluIHJlZHVjdGlvbiBjb250ZXh0IiksdGhpcy5yZWQuY29udmVydEZyb20odGhpcyl9LG8ucHJvdG90eXBlLl9mb3JjZVJlZD1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5yZWQ9bCx0aGlzfSxvLnByb3RvdHlwZS5mb3JjZVJlZD1mdW5jdGlvbihsKXtyZXR1cm4gYSghdGhpcy5yZWQsIkFscmVhZHkgYSBudW1iZXIgaW4gcmVkdWN0aW9uIGNvbnRleHQiKSx0aGlzLl9mb3JjZVJlZChsKX0sby5wcm90b3R5cGUucmVkQWRkPWZ1bmN0aW9uKGwpe3JldHVybiBhKHRoaXMucmVkLCJyZWRBZGQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuYWRkKHRoaXMsbCl9LG8ucHJvdG90eXBlLnJlZElBZGQ9ZnVuY3Rpb24obCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZElBZGQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuaWFkZCh0aGlzLGwpfSxvLnByb3RvdHlwZS5yZWRTdWI9ZnVuY3Rpb24obCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZFN1YiB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5zdWIodGhpcyxsKX0sby5wcm90b3R5cGUucmVkSVN1Yj1mdW5jdGlvbihsKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkSVN1YiB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5pc3ViKHRoaXMsbCl9LG8ucHJvdG90eXBlLnJlZFNobD1mdW5jdGlvbihsKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkU2hsIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLnNobCh0aGlzLGwpfSxvLnByb3RvdHlwZS5yZWRNdWw9ZnVuY3Rpb24obCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5fdmVyaWZ5Mih0aGlzLGwpLHRoaXMucmVkLm11bCh0aGlzLGwpfSxvLnByb3RvdHlwZS5yZWRJTXVsPWZ1bmN0aW9uKGwpe3JldHVybiBhKHRoaXMucmVkLCJyZWRNdWwgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuX3ZlcmlmeTIodGhpcyxsKSx0aGlzLnJlZC5pbXVsKHRoaXMsbCl9LG8ucHJvdG90eXBlLnJlZFNxcj1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMucmVkLCJyZWRTcXIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksdGhpcy5yZWQuc3FyKHRoaXMpfSxvLnByb3RvdHlwZS5yZWRJU3FyPWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZElTcXIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksdGhpcy5yZWQuaXNxcih0aGlzKX0sby5wcm90b3R5cGUucmVkU3FydD1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMucmVkLCJyZWRTcXJ0IHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLHRoaXMucmVkLnNxcnQodGhpcyl9LG8ucHJvdG90eXBlLnJlZEludm09ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkSW52bSB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSx0aGlzLnJlZC5pbnZtKHRoaXMpfSxvLnByb3RvdHlwZS5yZWROZWc9ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkTmVnIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLHRoaXMucmVkLm5lZyh0aGlzKX0sby5wcm90b3R5cGUucmVkUG93PWZ1bmN0aW9uKGwpe3JldHVybiBhKHRoaXMucmVkJiYhbC5yZWQsInJlZFBvdyhub3JtYWxOdW0pIiksdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksdGhpcy5yZWQucG93KHRoaXMsbCl9O3ZhciBRPXtrMjU2Om51bGwscDIyNDpudWxsLHAxOTI6bnVsbCxwMjU1MTk6bnVsbH07ZnVuY3Rpb24gcmUobSxsKXt0aGlzLm5hbWU9bSx0aGlzLnA9bmV3IG8obCwxNiksdGhpcy5uPXRoaXMucC5iaXRMZW5ndGgoKSx0aGlzLms9bmV3IG8oMSkuaXVzaGxuKHRoaXMubikuaXN1Yih0aGlzLnApLHRoaXMudG1wPXRoaXMuX3RtcCgpfXJlLnByb3RvdHlwZS5fdG1wPWZ1bmN0aW9uKCl7dmFyIGw9bmV3IG8obnVsbCk7cmV0dXJuIGwud29yZHM9bmV3IEFycmF5KE1hdGguY2VpbCh0aGlzLm4vMTMpKSxsfSxyZS5wcm90b3R5cGUuaXJlZHVjZT1mdW5jdGlvbihsKXt2YXIgdj1sLEU7ZG8gdGhpcy5zcGxpdCh2LHRoaXMudG1wKSx2PXRoaXMuaW11bEsodiksdj12LmlhZGQodGhpcy50bXApLEU9di5iaXRMZW5ndGgoKTt3aGlsZShFPnRoaXMubik7dmFyIFM9RTx0aGlzLm4/LTE6di51Y21wKHRoaXMucCk7cmV0dXJuIFM9PT0wPyh2LndvcmRzWzBdPTAsdi5sZW5ndGg9MSk6Uz4wP3YuaXN1Yih0aGlzLnApOnYuc3RyaXAhPT12b2lkIDA/di5zdHJpcCgpOnYuX3N0cmlwKCksdn0scmUucHJvdG90eXBlLnNwbGl0PWZ1bmN0aW9uKGwsdil7bC5pdXNocm4odGhpcy5uLDAsdil9LHJlLnByb3RvdHlwZS5pbXVsSz1mdW5jdGlvbihsKXtyZXR1cm4gbC5pbXVsKHRoaXMuayl9O2Z1bmN0aW9uIGNlKCl7cmUuY2FsbCh0aGlzLCJrMjU2IiwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZjMmYiKX11KGNlLHJlKSxjZS5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24obCx2KXtmb3IodmFyIEU9NDE5NDMwMyxTPU1hdGgubWluKGwubGVuZ3RoLDkpLEI9MDtCPFM7QisrKXYud29yZHNbQl09bC53b3Jkc1tCXTtpZih2Lmxlbmd0aD1TLGwubGVuZ3RoPD05KXtsLndvcmRzWzBdPTAsbC5sZW5ndGg9MTtyZXR1cm59dmFyIEE9bC53b3Jkc1s5XTtmb3Iodi53b3Jkc1t2Lmxlbmd0aCsrXT1BJkUsQj0xMDtCPGwubGVuZ3RoO0IrKyl7dmFyIHk9bC53b3Jkc1tCXXwwO2wud29yZHNbQi0xMF09KHkmRSk8PDR8QT4+PjIyLEE9eX1BPj4+PTIyLGwud29yZHNbQi0xMF09QSxBPT09MCYmbC5sZW5ndGg+MTA/bC5sZW5ndGgtPTEwOmwubGVuZ3RoLT05fSxjZS5wcm90b3R5cGUuaW11bEs9ZnVuY3Rpb24obCl7bC53b3Jkc1tsLmxlbmd0aF09MCxsLndvcmRzW2wubGVuZ3RoKzFdPTAsbC5sZW5ndGgrPTI7Zm9yKHZhciB2PTAsRT0wO0U8bC5sZW5ndGg7RSsrKXt2YXIgUz1sLndvcmRzW0VdfDA7dis9Uyo5NzcsbC53b3Jkc1tFXT12JjY3MTA4ODYzLHY9Uyo2NCsodi82NzEwODg2NHwwKX1yZXR1cm4gbC53b3Jkc1tsLmxlbmd0aC0xXT09PTAmJihsLmxlbmd0aC0tLGwud29yZHNbbC5sZW5ndGgtMV09PT0wJiZsLmxlbmd0aC0tKSxsfTtmdW5jdGlvbiBsZSgpe3JlLmNhbGwodGhpcywicDIyNCIsImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAxIil9dShsZSxyZSk7ZnVuY3Rpb24gb2UoKXtyZS5jYWxsKHRoaXMsInAxOTIiLCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZiIpfXUob2UscmUpO2Z1bmN0aW9uIHllKCl7cmUuY2FsbCh0aGlzLCIyNTUxOSIsIjdmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZWQiKX11KHllLHJlKSx5ZS5wcm90b3R5cGUuaW11bEs9ZnVuY3Rpb24obCl7Zm9yKHZhciB2PTAsRT0wO0U8bC5sZW5ndGg7RSsrKXt2YXIgUz0obC53b3Jkc1tFXXwwKSoxOSt2LEI9UyY2NzEwODg2MztTPj4+PTI2LGwud29yZHNbRV09Qix2PVN9cmV0dXJuIHYhPT0wJiYobC53b3Jkc1tsLmxlbmd0aCsrXT12KSxsfSxvLl9wcmltZT1mdW5jdGlvbihsKXtpZihRW2xdKXJldHVybiBRW2xdO3ZhciB2O2lmKGw9PT0iazI1NiIpdj1uZXcgY2U7ZWxzZSBpZihsPT09InAyMjQiKXY9bmV3IGxlO2Vsc2UgaWYobD09PSJwMTkyIil2PW5ldyBvZTtlbHNlIGlmKGw9PT0icDI1NTE5Iil2PW5ldyB5ZTtlbHNlIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBwcmltZSAiK2wpO3JldHVybiBRW2xdPXYsdn07ZnVuY3Rpb24gWChtKXtpZih0eXBlb2YgbT09InN0cmluZyIpe3ZhciBsPW8uX3ByaW1lKG0pO3RoaXMubT1sLnAsdGhpcy5wcmltZT1sfWVsc2UgYShtLmd0bigxKSwibW9kdWx1cyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAxIiksdGhpcy5tPW0sdGhpcy5wcmltZT1udWxsfVgucHJvdG90eXBlLl92ZXJpZnkxPWZ1bmN0aW9uKGwpe2EobC5uZWdhdGl2ZT09PTAsInJlZCB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmVzIiksYShsLnJlZCwicmVkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpfSxYLnByb3RvdHlwZS5fdmVyaWZ5Mj1mdW5jdGlvbihsLHYpe2EoKGwubmVnYXRpdmV8di5uZWdhdGl2ZSk9PT0wLCJyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlcyIpLGEobC5yZWQmJmwucmVkPT09di5yZWQsInJlZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKX0sWC5wcm90b3R5cGUuaW1vZD1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5wcmltZT90aGlzLnByaW1lLmlyZWR1Y2UobCkuX2ZvcmNlUmVkKHRoaXMpOihiKGwsbC51bW9kKHRoaXMubSkuX2ZvcmNlUmVkKHRoaXMpKSxsKX0sWC5wcm90b3R5cGUubmVnPWZ1bmN0aW9uKGwpe3JldHVybiBsLmlzWmVybygpP2wuY2xvbmUoKTp0aGlzLm0uc3ViKGwpLl9mb3JjZVJlZCh0aGlzKX0sWC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGwsdil7dGhpcy5fdmVyaWZ5MihsLHYpO3ZhciBFPWwuYWRkKHYpO3JldHVybiBFLmNtcCh0aGlzLm0pPj0wJiZFLmlzdWIodGhpcy5tKSxFLl9mb3JjZVJlZCh0aGlzKX0sWC5wcm90b3R5cGUuaWFkZD1mdW5jdGlvbihsLHYpe3RoaXMuX3ZlcmlmeTIobCx2KTt2YXIgRT1sLmlhZGQodik7cmV0dXJuIEUuY21wKHRoaXMubSk+PTAmJkUuaXN1Yih0aGlzLm0pLEV9LFgucHJvdG90eXBlLnN1Yj1mdW5jdGlvbihsLHYpe3RoaXMuX3ZlcmlmeTIobCx2KTt2YXIgRT1sLnN1Yih2KTtyZXR1cm4gRS5jbXBuKDApPDAmJkUuaWFkZCh0aGlzLm0pLEUuX2ZvcmNlUmVkKHRoaXMpfSxYLnByb3RvdHlwZS5pc3ViPWZ1bmN0aW9uKGwsdil7dGhpcy5fdmVyaWZ5MihsLHYpO3ZhciBFPWwuaXN1Yih2KTtyZXR1cm4gRS5jbXBuKDApPDAmJkUuaWFkZCh0aGlzLm0pLEV9LFgucHJvdG90eXBlLnNobD1mdW5jdGlvbihsLHYpe3JldHVybiB0aGlzLl92ZXJpZnkxKGwpLHRoaXMuaW1vZChsLnVzaGxuKHYpKX0sWC5wcm90b3R5cGUuaW11bD1mdW5jdGlvbihsLHYpe3JldHVybiB0aGlzLl92ZXJpZnkyKGwsdiksdGhpcy5pbW9kKGwuaW11bCh2KSl9LFgucHJvdG90eXBlLm11bD1mdW5jdGlvbihsLHYpe3JldHVybiB0aGlzLl92ZXJpZnkyKGwsdiksdGhpcy5pbW9kKGwubXVsKHYpKX0sWC5wcm90b3R5cGUuaXNxcj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5pbXVsKGwsbC5jbG9uZSgpKX0sWC5wcm90b3R5cGUuc3FyPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLm11bChsLGwpfSxYLnByb3RvdHlwZS5zcXJ0PWZ1bmN0aW9uKGwpe2lmKGwuaXNaZXJvKCkpcmV0dXJuIGwuY2xvbmUoKTt2YXIgdj10aGlzLm0uYW5kbG4oMyk7aWYoYSh2JTI9PT0xKSx2PT09Myl7dmFyIEU9dGhpcy5tLmFkZChuZXcgbygxKSkuaXVzaHJuKDIpO3JldHVybiB0aGlzLnBvdyhsLEUpfWZvcih2YXIgUz10aGlzLm0uc3VibigxKSxCPTA7IVMuaXNaZXJvKCkmJlMuYW5kbG4oMSk9PT0wOylCKyssUy5pdXNocm4oMSk7YSghUy5pc1plcm8oKSk7dmFyIEE9bmV3IG8oMSkudG9SZWQodGhpcykseT1BLnJlZE5lZygpLHg9dGhpcy5tLnN1Ym4oMSkuaXVzaHJuKDEpLHA9dGhpcy5tLmJpdExlbmd0aCgpO2ZvcihwPW5ldyBvKDIqcCpwKS50b1JlZCh0aGlzKTt0aGlzLnBvdyhwLHgpLmNtcCh5KSE9PTA7KXAucmVkSUFkZCh5KTtmb3IodmFyIEk9dGhpcy5wb3cocCxTKSxlZT10aGlzLnBvdyhsLFMuYWRkbigxKS5pdXNocm4oMSkpLGZlPXRoaXMucG93KGwsUyksSj1CO2ZlLmNtcChBKSE9PTA7KXtmb3IodmFyIGs9ZmUsRD0wO2suY21wKEEpIT09MDtEKyspaz1rLnJlZFNxcigpO2EoRDxKKTt2YXIgaj10aGlzLnBvdyhJLG5ldyBvKDEpLml1c2hsbihKLUQtMSkpO2VlPWVlLnJlZE11bChqKSxJPWoucmVkU3FyKCksZmU9ZmUucmVkTXVsKEkpLEo9RH1yZXR1cm4gZWV9LFgucHJvdG90eXBlLmludm09ZnVuY3Rpb24obCl7dmFyIHY9bC5faW52bXAodGhpcy5tKTtyZXR1cm4gdi5uZWdhdGl2ZSE9PTA/KHYubmVnYXRpdmU9MCx0aGlzLmltb2QodikucmVkTmVnKCkpOnRoaXMuaW1vZCh2KX0sWC5wcm90b3R5cGUucG93PWZ1bmN0aW9uKGwsdil7aWYodi5pc1plcm8oKSlyZXR1cm4gbmV3IG8oMSkudG9SZWQodGhpcyk7aWYodi5jbXBuKDEpPT09MClyZXR1cm4gbC5jbG9uZSgpO3ZhciBFPTQsUz1uZXcgQXJyYXkoMTw8RSk7U1swXT1uZXcgbygxKS50b1JlZCh0aGlzKSxTWzFdPWw7Zm9yKHZhciBCPTI7QjxTLmxlbmd0aDtCKyspU1tCXT10aGlzLm11bChTW0ItMV0sbCk7dmFyIEE9U1swXSx5PTAseD0wLHA9di5iaXRMZW5ndGgoKSUyNjtmb3IocD09PTAmJihwPTI2KSxCPXYubGVuZ3RoLTE7Qj49MDtCLS0pe2Zvcih2YXIgST12LndvcmRzW0JdLGVlPXAtMTtlZT49MDtlZS0tKXt2YXIgZmU9ST4+ZWUmMTtpZihBIT09U1swXSYmKEE9dGhpcy5zcXIoQSkpLGZlPT09MCYmeT09PTApe3g9MDtjb250aW51ZX15PDw9MSx5fD1mZSx4KyssISh4IT09RSYmKEIhPT0wfHxlZSE9PTApKSYmKEE9dGhpcy5tdWwoQSxTW3ldKSx4PTAseT0wKX1wPTI2fXJldHVybiBBfSxYLnByb3RvdHlwZS5jb252ZXJ0VG89ZnVuY3Rpb24obCl7dmFyIHY9bC51bW9kKHRoaXMubSk7cmV0dXJuIHY9PT1sP3YuY2xvbmUoKTp2fSxYLnByb3RvdHlwZS5jb252ZXJ0RnJvbT1mdW5jdGlvbihsKXt2YXIgdj1sLmNsb25lKCk7cmV0dXJuIHYucmVkPW51bGwsdn0sby5tb250PWZ1bmN0aW9uKGwpe3JldHVybiBuZXcgJChsKX07ZnVuY3Rpb24gJChtKXtYLmNhbGwodGhpcyxtKSx0aGlzLnNoaWZ0PXRoaXMubS5iaXRMZW5ndGgoKSx0aGlzLnNoaWZ0JTI2IT09MCYmKHRoaXMuc2hpZnQrPTI2LXRoaXMuc2hpZnQlMjYpLHRoaXMucj1uZXcgbygxKS5pdXNobG4odGhpcy5zaGlmdCksdGhpcy5yMj10aGlzLmltb2QodGhpcy5yLnNxcigpKSx0aGlzLnJpbnY9dGhpcy5yLl9pbnZtcCh0aGlzLm0pLHRoaXMubWludj10aGlzLnJpbnYubXVsKHRoaXMucikuaXN1Ym4oMSkuZGl2KHRoaXMubSksdGhpcy5taW52PXRoaXMubWludi51bW9kKHRoaXMuciksdGhpcy5taW52PXRoaXMuci5zdWIodGhpcy5taW52KX11KCQsWCksJC5wcm90b3R5cGUuY29udmVydFRvPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmltb2QobC51c2hsbih0aGlzLnNoaWZ0KSl9LCQucHJvdG90eXBlLmNvbnZlcnRGcm9tPWZ1bmN0aW9uKGwpe3ZhciB2PXRoaXMuaW1vZChsLm11bCh0aGlzLnJpbnYpKTtyZXR1cm4gdi5yZWQ9bnVsbCx2fSwkLnByb3RvdHlwZS5pbXVsPWZ1bmN0aW9uKGwsdil7aWYobC5pc1plcm8oKXx8di5pc1plcm8oKSlyZXR1cm4gbC53b3Jkc1swXT0wLGwubGVuZ3RoPTEsbDt2YXIgRT1sLmltdWwodiksUz1FLm1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm1pbnYpLmltYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5tKSxCPUUuaXN1YihTKS5pdXNocm4odGhpcy5zaGlmdCksQT1CO3JldHVybiBCLmNtcCh0aGlzLm0pPj0wP0E9Qi5pc3ViKHRoaXMubSk6Qi5jbXBuKDApPDAmJihBPUIuaWFkZCh0aGlzLm0pKSxBLl9mb3JjZVJlZCh0aGlzKX0sJC5wcm90b3R5cGUubXVsPWZ1bmN0aW9uKGwsdil7aWYobC5pc1plcm8oKXx8di5pc1plcm8oKSlyZXR1cm4gbmV3IG8oMCkuX2ZvcmNlUmVkKHRoaXMpO3ZhciBFPWwubXVsKHYpLFM9RS5tYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5taW52KS5pbWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubSksQj1FLmlzdWIoUykuaXVzaHJuKHRoaXMuc2hpZnQpLEE9QjtyZXR1cm4gQi5jbXAodGhpcy5tKT49MD9BPUIuaXN1Yih0aGlzLm0pOkIuY21wbigwKTwwJiYoQT1CLmlhZGQodGhpcy5tKSksQS5fZm9yY2VSZWQodGhpcyl9LCQucHJvdG90eXBlLmludm09ZnVuY3Rpb24obCl7dmFyIHY9dGhpcy5pbW9kKGwuX2ludm1wKHRoaXMubSkubXVsKHRoaXMucjIpKTtyZXR1cm4gdi5fZm9yY2VSZWQodGhpcyl9fSkoZSxjb21tb25qc0dsb2JhbCl9KGJuJDEpO3ZhciBibkV4cG9ydHMkMT1ibiQxLmV4cG9ydHMsQk4kYT1ibkV4cG9ydHMkMSxyYW5kb21CeXRlcyQxPWJyb3dzZXJFeHBvcnRzLEJ1ZmZlciQ3PXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyO2Z1bmN0aW9uIGdldHIoZSl7dmFyIHQ9ZS5tb2R1bHVzLmJ5dGVMZW5ndGgoKSxuO2RvIG49bmV3IEJOJGEocmFuZG9tQnl0ZXMkMSh0KSk7d2hpbGUobi5jbXAoZS5tb2R1bHVzKT49MHx8IW4udW1vZChlLnByaW1lMSl8fCFuLnVtb2QoZS5wcmltZTIpKTtyZXR1cm4gbn1mdW5jdGlvbiBibGluZChlKXt2YXIgdD1nZXRyKGUpLG49dC50b1JlZChCTiRhLm1vbnQoZS5tb2R1bHVzKSkucmVkUG93KG5ldyBCTiRhKGUucHVibGljRXhwb25lbnQpKS5mcm9tUmVkKCk7cmV0dXJue2JsaW5kZXI6bix1bmJsaW5kZXI6dC5pbnZtKGUubW9kdWx1cyl9fWZ1bmN0aW9uIGNydCQyKGUsdCl7dmFyIG49YmxpbmQodCksYT10Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpLHU9bmV3IEJOJGEoZSkubXVsKG4uYmxpbmRlcikudW1vZCh0Lm1vZHVsdXMpLG89dS50b1JlZChCTiRhLm1vbnQodC5wcmltZTEpKSxoPXUudG9SZWQoQk4kYS5tb250KHQucHJpbWUyKSksZD10LmNvZWZmaWNpZW50LHc9dC5wcmltZTEsXz10LnByaW1lMixiPW8ucmVkUG93KHQuZXhwb25lbnQxKS5mcm9tUmVkKCksTT1oLnJlZFBvdyh0LmV4cG9uZW50MikuZnJvbVJlZCgpLE89Yi5pc3ViKE0pLmltdWwoZCkudW1vZCh3KS5pbXVsKF8pO3JldHVybiBNLmlhZGQoTykuaW11bChuLnVuYmxpbmRlcikudW1vZCh0Lm1vZHVsdXMpLnRvQXJyYXlMaWtlKEJ1ZmZlciQ3LCJiZSIsYSl9Y3J0JDIuZ2V0cj1nZXRyO3ZhciBicm93c2VyaWZ5UnNhPWNydCQyLGVsbGlwdGljPXt9O2NvbnN0IG5hbWU9ImVsbGlwdGljIix2ZXJzaW9uPSI2LjYuMSIsZGVzY3JpcHRpb249IkVDIGNyeXB0b2dyYXBoeSIsbWFpbj0ibGliL2VsbGlwdGljLmpzIixmaWxlcz1bImxpYiJdLHNjcmlwdHM9e2xpbnQ6ImVzbGludCBsaWIgdGVzdCIsImxpbnQ6Zml4IjoibnBtIHJ1biBsaW50IC0tIC0tZml4Iix1bml0OiJpc3RhbmJ1bCB0ZXN0IF9tb2NoYSAtLXJlcG9ydGVyPXNwZWMgdGVzdC9pbmRleC5qcyIsdGVzdDoibnBtIHJ1biBsaW50ICYmIG5wbSBydW4gdW5pdCIsdmVyc2lvbjoiZ3J1bnQgZGlzdCAmJiBnaXQgYWRkIGRpc3QvIn0scmVwb3NpdG9yeT17dHlwZToiZ2l0Iix1cmw6ImdpdEBnaXRodWIuY29tOmluZHV0bnkvZWxsaXB0aWMifSxrZXl3b3Jkcz1bIkVDIiwiRWxsaXB0aWMiLCJjdXJ2ZSIsIkNyeXB0b2dyYXBoeSJdLGF1dGhvcj0iRmVkb3IgSW5kdXRueSA8ZmVkb3JAaW5kdXRueS5jb20+IixsaWNlbnNlPSJNSVQiLGJ1Z3M9e3VybDoiaHR0cHM6Ly9naXRodWIuY29tL2luZHV0bnkvZWxsaXB0aWMvaXNzdWVzIn0saG9tZXBhZ2U9Imh0dHBzOi8vZ2l0aHViLmNvbS9pbmR1dG55L2VsbGlwdGljIixkZXZEZXBlbmRlbmNpZXM9e2JyZnM6Il4yLjAuMiIsY292ZXJhbGxzOiJeMy4xLjAiLGVzbGludDoiXjcuNi4wIixncnVudDoiXjEuMi4xIiwiZ3J1bnQtYnJvd3NlcmlmeSI6Il41LjMuMCIsImdydW50LWNsaSI6Il4xLjMuMiIsImdydW50LWNvbnRyaWItY29ubmVjdCI6Il4zLjAuMCIsImdydW50LWNvbnRyaWItY29weSI6Il4xLjAuMCIsImdydW50LWNvbnRyaWItdWdsaWZ5IjoiXjUuMC4wIiwiZ3J1bnQtbW9jaGEtaXN0YW5idWwiOiJeNS4wLjIiLCJncnVudC1zYXVjZWxhYnMiOiJeOS4wLjEiLGlzdGFuYnVsOiJeMC40LjUiLG1vY2hhOiJeOC4wLjEifSxkZXBlbmRlbmNpZXM9eyJibi5qcyI6Il40LjExLjkiLGJyb3JhbmQ6Il4xLjEuMCIsImhhc2guanMiOiJeMS4wLjAiLCJobWFjLWRyYmciOiJeMS4wLjEiLGluaGVyaXRzOiJeMi4wLjQiLCJtaW5pbWFsaXN0aWMtYXNzZXJ0IjoiXjEuMC4xIiwibWluaW1hbGlzdGljLWNyeXB0by11dGlscyI6Il4xLjAuMSJ9O3ZhciByZXF1aXJlJCQwPXtuYW1lLHZlcnNpb24sZGVzY3JpcHRpb24sbWFpbixmaWxlcyxzY3JpcHRzLHJlcG9zaXRvcnksa2V5d29yZHMsYXV0aG9yLGxpY2Vuc2UsYnVncyxob21lcGFnZSxkZXZEZXBlbmRlbmNpZXMsZGVwZW5kZW5jaWVzfSx1dGlscyR1PXt9LHV0aWxzJHQ9e307KGZ1bmN0aW9uKGUpe3ZhciB0PWU7ZnVuY3Rpb24gbihvLGgpe2lmKEFycmF5LmlzQXJyYXkobykpcmV0dXJuIG8uc2xpY2UoKTtpZighbylyZXR1cm5bXTt2YXIgZD1bXTtpZih0eXBlb2YgbyE9InN0cmluZyIpe2Zvcih2YXIgdz0wO3c8by5sZW5ndGg7dysrKWRbd109b1t3XXwwO3JldHVybiBkfWlmKGg9PT0iaGV4Iil7bz1vLnJlcGxhY2UoL1teYS16MC05XSsvaWcsIiIpLG8ubGVuZ3RoJTIhPT0wJiYobz0iMCIrbyk7Zm9yKHZhciB3PTA7dzxvLmxlbmd0aDt3Kz0yKWQucHVzaChwYXJzZUludChvW3ddK29bdysxXSwxNikpfWVsc2UgZm9yKHZhciB3PTA7dzxvLmxlbmd0aDt3Kyspe3ZhciBfPW8uY2hhckNvZGVBdCh3KSxiPV8+PjgsTT1fJjI1NTtiP2QucHVzaChiLE0pOmQucHVzaChNKX1yZXR1cm4gZH10LnRvQXJyYXk9bjtmdW5jdGlvbiBhKG8pe3JldHVybiBvLmxlbmd0aD09PTE/IjAiK286b310Lnplcm8yPWE7ZnVuY3Rpb24gdShvKXtmb3IodmFyIGg9IiIsZD0wO2Q8by5sZW5ndGg7ZCsrKWgrPWEob1tkXS50b1N0cmluZygxNikpO3JldHVybiBofXQudG9IZXg9dSx0LmVuY29kZT1mdW5jdGlvbihoLGQpe3JldHVybiBkPT09ImhleCI/dShoKTpofX0pKHV0aWxzJHQpLGZ1bmN0aW9uKGUpe3ZhciB0PWUsbj1ibkV4cG9ydHMkMixhPW1pbmltYWxpc3RpY0Fzc2VydCx1PXV0aWxzJHQ7dC5hc3NlcnQ9YSx0LnRvQXJyYXk9dS50b0FycmF5LHQuemVybzI9dS56ZXJvMix0LnRvSGV4PXUudG9IZXgsdC5lbmNvZGU9dS5lbmNvZGU7ZnVuY3Rpb24gbyhiLE0sTyl7dmFyIFQ9bmV3IEFycmF5KE1hdGgubWF4KGIuYml0TGVuZ3RoKCksTykrMSksUDtmb3IoUD0wO1A8VC5sZW5ndGg7UCs9MSlUW1BdPTA7dmFyIEw9MTw8TSsxLHo9Yi5jbG9uZSgpO2ZvcihQPTA7UDxULmxlbmd0aDtQKyspe3ZhciBILFY9ei5hbmRsbihMLTEpO3ouaXNPZGQoKT8oVj4oTD4+MSktMT9IPShMPj4xKS1WOkg9Vix6LmlzdWJuKEgpKTpIPTAsVFtQXT1ILHouaXVzaHJuKDEpfXJldHVybiBUfXQuZ2V0TkFGPW87ZnVuY3Rpb24gaChiLE0pe3ZhciBPPVtbXSxbXV07Yj1iLmNsb25lKCksTT1NLmNsb25lKCk7Zm9yKHZhciBUPTAsUD0wLEw7Yi5jbXBuKC1UKT4wfHxNLmNtcG4oLVApPjA7KXt2YXIgej1iLmFuZGxuKDMpK1QmMyxIPU0uYW5kbG4oMykrUCYzO3o9PT0zJiYoej0tMSksSD09PTMmJihIPS0xKTt2YXIgVjt6JjE/KEw9Yi5hbmRsbig3KStUJjcsKEw9PT0zfHxMPT09NSkmJkg9PT0yP1Y9LXo6Vj16KTpWPTAsT1swXS5wdXNoKFYpO3ZhciBhZTtIJjE/KEw9TS5hbmRsbig3KStQJjcsKEw9PT0zfHxMPT09NSkmJno9PT0yP2FlPS1IOmFlPUgpOmFlPTAsT1sxXS5wdXNoKGFlKSwyKlQ9PT1WKzEmJihUPTEtVCksMipQPT09YWUrMSYmKFA9MS1QKSxiLml1c2hybigxKSxNLml1c2hybigxKX1yZXR1cm4gT310LmdldEpTRj1oO2Z1bmN0aW9uIGQoYixNLE8pe3ZhciBUPSJfIitNO2IucHJvdG90eXBlW01dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbVF0hPT12b2lkIDA/dGhpc1tUXTp0aGlzW1RdPU8uY2FsbCh0aGlzKX19dC5jYWNoZWRQcm9wZXJ0eT1kO2Z1bmN0aW9uIHcoYil7cmV0dXJuIHR5cGVvZiBiPT0ic3RyaW5nIj90LnRvQXJyYXkoYiwiaGV4Iik6Yn10LnBhcnNlQnl0ZXM9dztmdW5jdGlvbiBfKGIpe3JldHVybiBuZXcgbihiLCJoZXgiLCJsZSIpfXQuaW50RnJvbUxFPV99KHV0aWxzJHUpO3ZhciBjdXJ2ZT17fSxCTiQ5PWJuRXhwb3J0cyQyLHV0aWxzJHM9dXRpbHMkdSxnZXROQUY9dXRpbHMkcy5nZXROQUYsZ2V0SlNGPXV0aWxzJHMuZ2V0SlNGLGFzc2VydCRlPXV0aWxzJHMuYXNzZXJ0O2Z1bmN0aW9uIEJhc2VDdXJ2ZShlLHQpe3RoaXMudHlwZT1lLHRoaXMucD1uZXcgQk4kOSh0LnAsMTYpLHRoaXMucmVkPXQucHJpbWU/Qk4kOS5yZWQodC5wcmltZSk6Qk4kOS5tb250KHRoaXMucCksdGhpcy56ZXJvPW5ldyBCTiQ5KDApLnRvUmVkKHRoaXMucmVkKSx0aGlzLm9uZT1uZXcgQk4kOSgxKS50b1JlZCh0aGlzLnJlZCksdGhpcy50d289bmV3IEJOJDkoMikudG9SZWQodGhpcy5yZWQpLHRoaXMubj10Lm4mJm5ldyBCTiQ5KHQubiwxNiksdGhpcy5nPXQuZyYmdGhpcy5wb2ludEZyb21KU09OKHQuZyx0LmdSZWQpLHRoaXMuX3duYWZUMT1uZXcgQXJyYXkoNCksdGhpcy5fd25hZlQyPW5ldyBBcnJheSg0KSx0aGlzLl93bmFmVDM9bmV3IEFycmF5KDQpLHRoaXMuX3duYWZUND1uZXcgQXJyYXkoNCksdGhpcy5fYml0TGVuZ3RoPXRoaXMubj90aGlzLm4uYml0TGVuZ3RoKCk6MDt2YXIgbj10aGlzLm4mJnRoaXMucC5kaXYodGhpcy5uKTshbnx8bi5jbXBuKDEwMCk+MD90aGlzLnJlZE49bnVsbDoodGhpcy5fbWF4d2VsbFRyaWNrPSEwLHRoaXMucmVkTj10aGlzLm4udG9SZWQodGhpcy5yZWQpKX12YXIgYmFzZSQxPUJhc2VDdXJ2ZTtCYXNlQ3VydmUucHJvdG90eXBlLnBvaW50PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sQmFzZUN1cnZlLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9LEJhc2VDdXJ2ZS5wcm90b3R5cGUuX2ZpeGVkTmFmTXVsPWZ1bmN0aW9uKHQsbil7YXNzZXJ0JGUodC5wcmVjb21wdXRlZCk7dmFyIGE9dC5fZ2V0RG91YmxlcygpLHU9Z2V0TkFGKG4sMSx0aGlzLl9iaXRMZW5ndGgpLG89KDE8PGEuc3RlcCsxKS0oYS5zdGVwJTI9PT0wPzI6MSk7by89Mzt2YXIgaD1bXSxkLHc7Zm9yKGQ9MDtkPHUubGVuZ3RoO2QrPWEuc3RlcCl7dz0wO2Zvcih2YXIgXz1kK2Euc3RlcC0xO18+PWQ7Xy0tKXc9KHc8PDEpK3VbX107aC5wdXNoKHcpfWZvcih2YXIgYj10aGlzLmpwb2ludChudWxsLG51bGwsbnVsbCksTT10aGlzLmpwb2ludChudWxsLG51bGwsbnVsbCksTz1vO08+MDtPLS0pe2ZvcihkPTA7ZDxoLmxlbmd0aDtkKyspdz1oW2RdLHc9PT1PP009TS5taXhlZEFkZChhLnBvaW50c1tkXSk6dz09PS1PJiYoTT1NLm1peGVkQWRkKGEucG9pbnRzW2RdLm5lZygpKSk7Yj1iLmFkZChNKX1yZXR1cm4gYi50b1AoKX0sQmFzZUN1cnZlLnByb3RvdHlwZS5fd25hZk11bD1mdW5jdGlvbih0LG4pe3ZhciBhPTQsdT10Ll9nZXROQUZQb2ludHMoYSk7YT11LnduZDtmb3IodmFyIG89dS5wb2ludHMsaD1nZXROQUYobixhLHRoaXMuX2JpdExlbmd0aCksZD10aGlzLmpwb2ludChudWxsLG51bGwsbnVsbCksdz1oLmxlbmd0aC0xO3c+PTA7dy0tKXtmb3IodmFyIF89MDt3Pj0wJiZoW3ddPT09MDt3LS0pXysrO2lmKHc+PTAmJl8rKyxkPWQuZGJscChfKSx3PDApYnJlYWs7dmFyIGI9aFt3XTthc3NlcnQkZShiIT09MCksdC50eXBlPT09ImFmZmluZSI/Yj4wP2Q9ZC5taXhlZEFkZChvW2ItMT4+MV0pOmQ9ZC5taXhlZEFkZChvWy1iLTE+PjFdLm5lZygpKTpiPjA/ZD1kLmFkZChvW2ItMT4+MV0pOmQ9ZC5hZGQob1stYi0xPj4xXS5uZWcoKSl9cmV0dXJuIHQudHlwZT09PSJhZmZpbmUiP2QudG9QKCk6ZH0sQmFzZUN1cnZlLnByb3RvdHlwZS5fd25hZk11bEFkZD1mdW5jdGlvbih0LG4sYSx1LG8pe3ZhciBoPXRoaXMuX3duYWZUMSxkPXRoaXMuX3duYWZUMix3PXRoaXMuX3duYWZUMyxfPTAsYixNLE87Zm9yKGI9MDtiPHU7YisrKXtPPW5bYl07dmFyIFQ9Ty5fZ2V0TkFGUG9pbnRzKHQpO2hbYl09VC53bmQsZFtiXT1ULnBvaW50c31mb3IoYj11LTE7Yj49MTtiLT0yKXt2YXIgUD1iLTEsTD1iO2lmKGhbUF0hPT0xfHxoW0xdIT09MSl7d1tQXT1nZXROQUYoYVtQXSxoW1BdLHRoaXMuX2JpdExlbmd0aCksd1tMXT1nZXROQUYoYVtMXSxoW0xdLHRoaXMuX2JpdExlbmd0aCksXz1NYXRoLm1heCh3W1BdLmxlbmd0aCxfKSxfPU1hdGgubWF4KHdbTF0ubGVuZ3RoLF8pO2NvbnRpbnVlfXZhciB6PVtuW1BdLG51bGwsbnVsbCxuW0xdXTtuW1BdLnkuY21wKG5bTF0ueSk9PT0wPyh6WzFdPW5bUF0uYWRkKG5bTF0pLHpbMl09bltQXS50b0ooKS5taXhlZEFkZChuW0xdLm5lZygpKSk6bltQXS55LmNtcChuW0xdLnkucmVkTmVnKCkpPT09MD8oelsxXT1uW1BdLnRvSigpLm1peGVkQWRkKG5bTF0pLHpbMl09bltQXS5hZGQobltMXS5uZWcoKSkpOih6WzFdPW5bUF0udG9KKCkubWl4ZWRBZGQobltMXSkselsyXT1uW1BdLnRvSigpLm1peGVkQWRkKG5bTF0ubmVnKCkpKTt2YXIgSD1bLTMsLTEsLTUsLTcsMCw3LDUsMSwzXSxWPWdldEpTRihhW1BdLGFbTF0pO2ZvcihfPU1hdGgubWF4KFZbMF0ubGVuZ3RoLF8pLHdbUF09bmV3IEFycmF5KF8pLHdbTF09bmV3IEFycmF5KF8pLE09MDtNPF87TSsrKXt2YXIgYWU9VlswXVtNXXwwLGllPVZbMV1bTV18MDt3W1BdW01dPUhbKGFlKzEpKjMrKGllKzEpXSx3W0xdW01dPTAsZFtQXT16fX12YXIgUT10aGlzLmpwb2ludChudWxsLG51bGwsbnVsbCkscmU9dGhpcy5fd25hZlQ0O2ZvcihiPV87Yj49MDtiLS0pe2Zvcih2YXIgY2U9MDtiPj0wOyl7dmFyIGxlPSEwO2ZvcihNPTA7TTx1O00rKylyZVtNXT13W01dW2JdfDAscmVbTV0hPT0wJiYobGU9ITEpO2lmKCFsZSlicmVhaztjZSsrLGItLX1pZihiPj0wJiZjZSsrLFE9US5kYmxwKGNlKSxiPDApYnJlYWs7Zm9yKE09MDtNPHU7TSsrKXt2YXIgb2U9cmVbTV07b2UhPT0wJiYob2U+MD9PPWRbTV1bb2UtMT4+MV06b2U8MCYmKE89ZFtNXVstb2UtMT4+MV0ubmVnKCkpLE8udHlwZT09PSJhZmZpbmUiP1E9US5taXhlZEFkZChPKTpRPVEuYWRkKE8pKX19Zm9yKGI9MDtiPHU7YisrKWRbYl09bnVsbDtyZXR1cm4gbz9ROlEudG9QKCl9O2Z1bmN0aW9uIEJhc2VQb2ludChlLHQpe3RoaXMuY3VydmU9ZSx0aGlzLnR5cGU9dCx0aGlzLnByZWNvbXB1dGVkPW51bGx9QmFzZUN1cnZlLkJhc2VQb2ludD1CYXNlUG9pbnQsQmFzZVBvaW50LnByb3RvdHlwZS5lcT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIil9LEJhc2VQb2ludC5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJ2ZS52YWxpZGF0ZSh0aGlzKX0sQmFzZUN1cnZlLnByb3RvdHlwZS5kZWNvZGVQb2ludD1mdW5jdGlvbih0LG4pe3Q9dXRpbHMkcy50b0FycmF5KHQsbik7dmFyIGE9dGhpcy5wLmJ5dGVMZW5ndGgoKTtpZigodFswXT09PTR8fHRbMF09PT02fHx0WzBdPT09NykmJnQubGVuZ3RoLTE9PT0yKmEpe3RbMF09PT02P2Fzc2VydCRlKHRbdC5sZW5ndGgtMV0lMj09PTApOnRbMF09PT03JiZhc3NlcnQkZSh0W3QubGVuZ3RoLTFdJTI9PT0xKTt2YXIgdT10aGlzLnBvaW50KHQuc2xpY2UoMSwxK2EpLHQuc2xpY2UoMSthLDErMiphKSk7cmV0dXJuIHV9ZWxzZSBpZigodFswXT09PTJ8fHRbMF09PT0zKSYmdC5sZW5ndGgtMT09PWEpcmV0dXJuIHRoaXMucG9pbnRGcm9tWCh0LnNsaWNlKDEsMSthKSx0WzBdPT09Myk7dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHBvaW50IGZvcm1hdCIpfSxCYXNlUG9pbnQucHJvdG90eXBlLmVuY29kZUNvbXByZXNzZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZW5jb2RlKHQsITApfSxCYXNlUG9pbnQucHJvdG90eXBlLl9lbmNvZGU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5jdXJ2ZS5wLmJ5dGVMZW5ndGgoKSxhPXRoaXMuZ2V0WCgpLnRvQXJyYXkoImJlIixuKTtyZXR1cm4gdD9bdGhpcy5nZXRZKCkuaXNFdmVuKCk/MjozXS5jb25jYXQoYSk6WzRdLmNvbmNhdChhLHRoaXMuZ2V0WSgpLnRvQXJyYXkoImJlIixuKSl9LEJhc2VQb2ludC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHV0aWxzJHMuZW5jb2RlKHRoaXMuX2VuY29kZShuKSx0KX0sQmFzZVBvaW50LnByb3RvdHlwZS5wcmVjb21wdXRlPWZ1bmN0aW9uKHQpe2lmKHRoaXMucHJlY29tcHV0ZWQpcmV0dXJuIHRoaXM7dmFyIG49e2RvdWJsZXM6bnVsbCxuYWY6bnVsbCxiZXRhOm51bGx9O3JldHVybiBuLm5hZj10aGlzLl9nZXROQUZQb2ludHMoOCksbi5kb3VibGVzPXRoaXMuX2dldERvdWJsZXMoNCx0KSxuLmJldGE9dGhpcy5fZ2V0QmV0YSgpLHRoaXMucHJlY29tcHV0ZWQ9bix0aGlzfSxCYXNlUG9pbnQucHJvdG90eXBlLl9oYXNEb3VibGVzPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnByZWNvbXB1dGVkKXJldHVybiExO3ZhciBuPXRoaXMucHJlY29tcHV0ZWQuZG91YmxlcztyZXR1cm4gbj9uLnBvaW50cy5sZW5ndGg+PU1hdGguY2VpbCgodC5iaXRMZW5ndGgoKSsxKS9uLnN0ZXApOiExfSxCYXNlUG9pbnQucHJvdG90eXBlLl9nZXREb3VibGVzPWZ1bmN0aW9uKHQsbil7aWYodGhpcy5wcmVjb21wdXRlZCYmdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzKXJldHVybiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7Zm9yKHZhciBhPVt0aGlzXSx1PXRoaXMsbz0wO288bjtvKz10KXtmb3IodmFyIGg9MDtoPHQ7aCsrKXU9dS5kYmwoKTthLnB1c2godSl9cmV0dXJue3N0ZXA6dCxwb2ludHM6YX19LEJhc2VQb2ludC5wcm90b3R5cGUuX2dldE5BRlBvaW50cz1mdW5jdGlvbih0KXtpZih0aGlzLnByZWNvbXB1dGVkJiZ0aGlzLnByZWNvbXB1dGVkLm5hZilyZXR1cm4gdGhpcy5wcmVjb21wdXRlZC5uYWY7Zm9yKHZhciBuPVt0aGlzXSxhPSgxPDx0KS0xLHU9YT09PTE/bnVsbDp0aGlzLmRibCgpLG89MTtvPGE7bysrKW5bb109bltvLTFdLmFkZCh1KTtyZXR1cm57d25kOnQscG9pbnRzOm59fSxCYXNlUG9pbnQucHJvdG90eXBlLl9nZXRCZXRhPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LEJhc2VQb2ludC5wcm90b3R5cGUuZGJscD1mdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcyxhPTA7YTx0O2ErKyluPW4uZGJsKCk7cmV0dXJuIG59O3ZhciB1dGlscyRyPXV0aWxzJHUsQk4kOD1ibkV4cG9ydHMkMixpbmhlcml0cyQ1PWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLEJhc2UkMj1iYXNlJDEsYXNzZXJ0JGQ9dXRpbHMkci5hc3NlcnQ7ZnVuY3Rpb24gU2hvcnRDdXJ2ZShlKXtCYXNlJDIuY2FsbCh0aGlzLCJzaG9ydCIsZSksdGhpcy5hPW5ldyBCTiQ4KGUuYSwxNikudG9SZWQodGhpcy5yZWQpLHRoaXMuYj1uZXcgQk4kOChlLmIsMTYpLnRvUmVkKHRoaXMucmVkKSx0aGlzLnRpbnY9dGhpcy50d28ucmVkSW52bSgpLHRoaXMuemVyb0E9dGhpcy5hLmZyb21SZWQoKS5jbXBuKDApPT09MCx0aGlzLnRocmVlQT10aGlzLmEuZnJvbVJlZCgpLnN1Yih0aGlzLnApLmNtcG4oLTMpPT09MCx0aGlzLmVuZG89dGhpcy5fZ2V0RW5kb21vcnBoaXNtKGUpLHRoaXMuX2VuZG9XbmFmVDE9bmV3IEFycmF5KDQpLHRoaXMuX2VuZG9XbmFmVDI9bmV3IEFycmF5KDQpfWluaGVyaXRzJDUoU2hvcnRDdXJ2ZSxCYXNlJDIpO3ZhciBzaG9ydD1TaG9ydEN1cnZlO1Nob3J0Q3VydmUucHJvdG90eXBlLl9nZXRFbmRvbW9ycGhpc209ZnVuY3Rpb24odCl7aWYoISghdGhpcy56ZXJvQXx8IXRoaXMuZ3x8IXRoaXMubnx8dGhpcy5wLm1vZG4oMykhPT0xKSl7dmFyIG4sYTtpZih0LmJldGEpbj1uZXcgQk4kOCh0LmJldGEsMTYpLnRvUmVkKHRoaXMucmVkKTtlbHNle3ZhciB1PXRoaXMuX2dldEVuZG9Sb290cyh0aGlzLnApO249dVswXS5jbXAodVsxXSk8MD91WzBdOnVbMV0sbj1uLnRvUmVkKHRoaXMucmVkKX1pZih0LmxhbWJkYSlhPW5ldyBCTiQ4KHQubGFtYmRhLDE2KTtlbHNle3ZhciBvPXRoaXMuX2dldEVuZG9Sb290cyh0aGlzLm4pO3RoaXMuZy5tdWwob1swXSkueC5jbXAodGhpcy5nLngucmVkTXVsKG4pKT09PTA/YT1vWzBdOihhPW9bMV0sYXNzZXJ0JGQodGhpcy5nLm11bChhKS54LmNtcCh0aGlzLmcueC5yZWRNdWwobikpPT09MCkpfXZhciBoO3JldHVybiB0LmJhc2lzP2g9dC5iYXNpcy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJue2E6bmV3IEJOJDgoZC5hLDE2KSxiOm5ldyBCTiQ4KGQuYiwxNil9fSk6aD10aGlzLl9nZXRFbmRvQmFzaXMoYSkse2JldGE6bixsYW1iZGE6YSxiYXNpczpofX19LFNob3J0Q3VydmUucHJvdG90eXBlLl9nZXRFbmRvUm9vdHM9ZnVuY3Rpb24odCl7dmFyIG49dD09PXRoaXMucD90aGlzLnJlZDpCTiQ4Lm1vbnQodCksYT1uZXcgQk4kOCgyKS50b1JlZChuKS5yZWRJbnZtKCksdT1hLnJlZE5lZygpLG89bmV3IEJOJDgoMykudG9SZWQobikucmVkTmVnKCkucmVkU3FydCgpLnJlZE11bChhKSxoPXUucmVkQWRkKG8pLmZyb21SZWQoKSxkPXUucmVkU3ViKG8pLmZyb21SZWQoKTtyZXR1cm5baCxkXX0sU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2dldEVuZG9CYXNpcz1mdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcy5uLnVzaHJuKE1hdGguZmxvb3IodGhpcy5uLmJpdExlbmd0aCgpLzIpKSxhPXQsdT10aGlzLm4uY2xvbmUoKSxvPW5ldyBCTiQ4KDEpLGg9bmV3IEJOJDgoMCksZD1uZXcgQk4kOCgwKSx3PW5ldyBCTiQ4KDEpLF8sYixNLE8sVCxQLEwsej0wLEgsVjthLmNtcG4oMCkhPT0wOyl7dmFyIGFlPXUuZGl2KGEpO0g9dS5zdWIoYWUubXVsKGEpKSxWPWQuc3ViKGFlLm11bChvKSk7dmFyIGllPXcuc3ViKGFlLm11bChoKSk7aWYoIU0mJkguY21wKG4pPDApXz1MLm5lZygpLGI9byxNPUgubmVnKCksTz1WO2Vsc2UgaWYoTSYmKyt6PT09MilicmVhaztMPUgsdT1hLGE9SCxkPW8sbz1WLHc9aCxoPWllfVQ9SC5uZWcoKSxQPVY7dmFyIFE9TS5zcXIoKS5hZGQoTy5zcXIoKSkscmU9VC5zcXIoKS5hZGQoUC5zcXIoKSk7cmV0dXJuIHJlLmNtcChRKT49MCYmKFQ9XyxQPWIpLE0ubmVnYXRpdmUmJihNPU0ubmVnKCksTz1PLm5lZygpKSxULm5lZ2F0aXZlJiYoVD1ULm5lZygpLFA9UC5uZWcoKSksW3thOk0sYjpPfSx7YTpULGI6UH1dfSxTaG9ydEN1cnZlLnByb3RvdHlwZS5fZW5kb1NwbGl0PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZW5kby5iYXNpcyxhPW5bMF0sdT1uWzFdLG89dS5iLm11bCh0KS5kaXZSb3VuZCh0aGlzLm4pLGg9YS5iLm5lZygpLm11bCh0KS5kaXZSb3VuZCh0aGlzLm4pLGQ9by5tdWwoYS5hKSx3PWgubXVsKHUuYSksXz1vLm11bChhLmIpLGI9aC5tdWwodS5iKSxNPXQuc3ViKGQpLnN1Yih3KSxPPV8uYWRkKGIpLm5lZygpO3JldHVybntrMTpNLGsyOk99fSxTaG9ydEN1cnZlLnByb3RvdHlwZS5wb2ludEZyb21YPWZ1bmN0aW9uKHQsbil7dD1uZXcgQk4kOCh0LDE2KSx0LnJlZHx8KHQ9dC50b1JlZCh0aGlzLnJlZCkpO3ZhciBhPXQucmVkU3FyKCkucmVkTXVsKHQpLnJlZElBZGQodC5yZWRNdWwodGhpcy5hKSkucmVkSUFkZCh0aGlzLmIpLHU9YS5yZWRTcXJ0KCk7aWYodS5yZWRTcXIoKS5yZWRTdWIoYSkuY21wKHRoaXMuemVybykhPT0wKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBwb2ludCIpO3ZhciBvPXUuZnJvbVJlZCgpLmlzT2RkKCk7cmV0dXJuKG4mJiFvfHwhbiYmbykmJih1PXUucmVkTmVnKCkpLHRoaXMucG9pbnQodCx1KX0sU2hvcnRDdXJ2ZS5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24odCl7aWYodC5pbmYpcmV0dXJuITA7dmFyIG49dC54LGE9dC55LHU9dGhpcy5hLnJlZE11bChuKSxvPW4ucmVkU3FyKCkucmVkTXVsKG4pLnJlZElBZGQodSkucmVkSUFkZCh0aGlzLmIpO3JldHVybiBhLnJlZFNxcigpLnJlZElTdWIobykuY21wbigwKT09PTB9LFNob3J0Q3VydmUucHJvdG90eXBlLl9lbmRvV25hZk11bEFkZD1mdW5jdGlvbih0LG4sYSl7Zm9yKHZhciB1PXRoaXMuX2VuZG9XbmFmVDEsbz10aGlzLl9lbmRvV25hZlQyLGg9MDtoPHQubGVuZ3RoO2grKyl7dmFyIGQ9dGhpcy5fZW5kb1NwbGl0KG5baF0pLHc9dFtoXSxfPXcuX2dldEJldGEoKTtkLmsxLm5lZ2F0aXZlJiYoZC5rMS5pbmVnKCksdz13Lm5lZyghMCkpLGQuazIubmVnYXRpdmUmJihkLmsyLmluZWcoKSxfPV8ubmVnKCEwKSksdVtoKjJdPXcsdVtoKjIrMV09XyxvW2gqMl09ZC5rMSxvW2gqMisxXT1kLmsyfWZvcih2YXIgYj10aGlzLl93bmFmTXVsQWRkKDEsdSxvLGgqMixhKSxNPTA7TTxoKjI7TSsrKXVbTV09bnVsbCxvW01dPW51bGw7cmV0dXJuIGJ9O2Z1bmN0aW9uIFBvaW50JDIoZSx0LG4sYSl7QmFzZSQyLkJhc2VQb2ludC5jYWxsKHRoaXMsZSwiYWZmaW5lIiksdD09PW51bGwmJm49PT1udWxsPyh0aGlzLng9bnVsbCx0aGlzLnk9bnVsbCx0aGlzLmluZj0hMCk6KHRoaXMueD1uZXcgQk4kOCh0LDE2KSx0aGlzLnk9bmV3IEJOJDgobiwxNiksYSYmKHRoaXMueC5mb3JjZVJlZCh0aGlzLmN1cnZlLnJlZCksdGhpcy55LmZvcmNlUmVkKHRoaXMuY3VydmUucmVkKSksdGhpcy54LnJlZHx8KHRoaXMueD10aGlzLngudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSx0aGlzLnkucmVkfHwodGhpcy55PXRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCkpLHRoaXMuaW5mPSExKX1pbmhlcml0cyQ1KFBvaW50JDIsQmFzZSQyLkJhc2VQb2ludCksU2hvcnRDdXJ2ZS5wcm90b3R5cGUucG9pbnQ9ZnVuY3Rpb24odCxuLGEpe3JldHVybiBuZXcgUG9pbnQkMih0aGlzLHQsbixhKX0sU2hvcnRDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tSlNPTj1mdW5jdGlvbih0LG4pe3JldHVybiBQb2ludCQyLmZyb21KU09OKHRoaXMsdCxuKX0sUG9pbnQkMi5wcm90b3R5cGUuX2dldEJldGE9ZnVuY3Rpb24oKXtpZih0aGlzLmN1cnZlLmVuZG8pe3ZhciB0PXRoaXMucHJlY29tcHV0ZWQ7aWYodCYmdC5iZXRhKXJldHVybiB0LmJldGE7dmFyIG49dGhpcy5jdXJ2ZS5wb2ludCh0aGlzLngucmVkTXVsKHRoaXMuY3VydmUuZW5kby5iZXRhKSx0aGlzLnkpO2lmKHQpe3ZhciBhPXRoaXMuY3VydmUsdT1mdW5jdGlvbihvKXtyZXR1cm4gYS5wb2ludChvLngucmVkTXVsKGEuZW5kby5iZXRhKSxvLnkpfTt0LmJldGE9bixuLnByZWNvbXB1dGVkPXtiZXRhOm51bGwsbmFmOnQubmFmJiZ7d25kOnQubmFmLnduZCxwb2ludHM6dC5uYWYucG9pbnRzLm1hcCh1KX0sZG91Ymxlczp0LmRvdWJsZXMmJntzdGVwOnQuZG91Ymxlcy5zdGVwLHBvaW50czp0LmRvdWJsZXMucG9pbnRzLm1hcCh1KX19fXJldHVybiBufX0sUG9pbnQkMi5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJlY29tcHV0ZWQ/W3RoaXMueCx0aGlzLnksdGhpcy5wcmVjb21wdXRlZCYme2RvdWJsZXM6dGhpcy5wcmVjb21wdXRlZC5kb3VibGVzJiZ7c3RlcDp0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXMuc3RlcCxwb2ludHM6dGhpcy5wcmVjb21wdXRlZC5kb3VibGVzLnBvaW50cy5zbGljZSgxKX0sbmFmOnRoaXMucHJlY29tcHV0ZWQubmFmJiZ7d25kOnRoaXMucHJlY29tcHV0ZWQubmFmLnduZCxwb2ludHM6dGhpcy5wcmVjb21wdXRlZC5uYWYucG9pbnRzLnNsaWNlKDEpfX1dOlt0aGlzLngsdGhpcy55XX0sUG9pbnQkMi5mcm9tSlNPTj1mdW5jdGlvbih0LG4sYSl7dHlwZW9mIG49PSJzdHJpbmciJiYobj1KU09OLnBhcnNlKG4pKTt2YXIgdT10LnBvaW50KG5bMF0sblsxXSxhKTtpZighblsyXSlyZXR1cm4gdTtmdW5jdGlvbiBvKGQpe3JldHVybiB0LnBvaW50KGRbMF0sZFsxXSxhKX12YXIgaD1uWzJdO3JldHVybiB1LnByZWNvbXB1dGVkPXtiZXRhOm51bGwsZG91YmxlczpoLmRvdWJsZXMmJntzdGVwOmguZG91Ymxlcy5zdGVwLHBvaW50czpbdV0uY29uY2F0KGguZG91Ymxlcy5wb2ludHMubWFwKG8pKX0sbmFmOmgubmFmJiZ7d25kOmgubmFmLnduZCxwb2ludHM6W3VdLmNvbmNhdChoLm5hZi5wb2ludHMubWFwKG8pKX19LHV9LFBvaW50JDIucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luZmluaXR5KCk/IjxFQyBQb2ludCBJbmZpbml0eT4iOiI8RUMgUG9pbnQgeDogIit0aGlzLnguZnJvbVJlZCgpLnRvU3RyaW5nKDE2LDIpKyIgeTogIit0aGlzLnkuZnJvbVJlZCgpLnRvU3RyaW5nKDE2LDIpKyI+In0sUG9pbnQkMi5wcm90b3R5cGUuaXNJbmZpbml0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZn0sUG9pbnQkMi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaW5mKXJldHVybiB0O2lmKHQuaW5mKXJldHVybiB0aGlzO2lmKHRoaXMuZXEodCkpcmV0dXJuIHRoaXMuZGJsKCk7aWYodGhpcy5uZWcoKS5lcSh0KSlyZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLG51bGwpO2lmKHRoaXMueC5jbXAodC54KT09PTApcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobnVsbCxudWxsKTt2YXIgbj10aGlzLnkucmVkU3ViKHQueSk7bi5jbXBuKDApIT09MCYmKG49bi5yZWRNdWwodGhpcy54LnJlZFN1Yih0LngpLnJlZEludm0oKSkpO3ZhciBhPW4ucmVkU3FyKCkucmVkSVN1Yih0aGlzLngpLnJlZElTdWIodC54KSx1PW4ucmVkTXVsKHRoaXMueC5yZWRTdWIoYSkpLnJlZElTdWIodGhpcy55KTtyZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChhLHUpfSxQb2ludCQyLnByb3RvdHlwZS5kYmw9ZnVuY3Rpb24oKXtpZih0aGlzLmluZilyZXR1cm4gdGhpczt2YXIgdD10aGlzLnkucmVkQWRkKHRoaXMueSk7aWYodC5jbXBuKDApPT09MClyZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLG51bGwpO3ZhciBuPXRoaXMuY3VydmUuYSxhPXRoaXMueC5yZWRTcXIoKSx1PXQucmVkSW52bSgpLG89YS5yZWRBZGQoYSkucmVkSUFkZChhKS5yZWRJQWRkKG4pLnJlZE11bCh1KSxoPW8ucmVkU3FyKCkucmVkSVN1Yih0aGlzLngucmVkQWRkKHRoaXMueCkpLGQ9by5yZWRNdWwodGhpcy54LnJlZFN1YihoKSkucmVkSVN1Yih0aGlzLnkpO3JldHVybiB0aGlzLmN1cnZlLnBvaW50KGgsZCl9LFBvaW50JDIucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54LmZyb21SZWQoKX0sUG9pbnQkMi5wcm90b3R5cGUuZ2V0WT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnkuZnJvbVJlZCgpfSxQb2ludCQyLnByb3RvdHlwZS5tdWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bmV3IEJOJDgodCwxNiksdGhpcy5pc0luZmluaXR5KCk/dGhpczp0aGlzLl9oYXNEb3VibGVzKHQpP3RoaXMuY3VydmUuX2ZpeGVkTmFmTXVsKHRoaXMsdCk6dGhpcy5jdXJ2ZS5lbmRvP3RoaXMuY3VydmUuX2VuZG9XbmFmTXVsQWRkKFt0aGlzXSxbdF0pOnRoaXMuY3VydmUuX3duYWZNdWwodGhpcyx0KX0sUG9pbnQkMi5wcm90b3R5cGUubXVsQWRkPWZ1bmN0aW9uKHQsbixhKXt2YXIgdT1bdGhpcyxuXSxvPVt0LGFdO3JldHVybiB0aGlzLmN1cnZlLmVuZG8/dGhpcy5jdXJ2ZS5fZW5kb1duYWZNdWxBZGQodSxvKTp0aGlzLmN1cnZlLl93bmFmTXVsQWRkKDEsdSxvLDIpfSxQb2ludCQyLnByb3RvdHlwZS5qbXVsQWRkPWZ1bmN0aW9uKHQsbixhKXt2YXIgdT1bdGhpcyxuXSxvPVt0LGFdO3JldHVybiB0aGlzLmN1cnZlLmVuZG8/dGhpcy5jdXJ2ZS5fZW5kb1duYWZNdWxBZGQodSxvLCEwKTp0aGlzLmN1cnZlLl93bmFmTXVsQWRkKDEsdSxvLDIsITApfSxQb2ludCQyLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHRoaXMuaW5mPT09dC5pbmYmJih0aGlzLmluZnx8dGhpcy54LmNtcCh0LngpPT09MCYmdGhpcy55LmNtcCh0LnkpPT09MCl9LFBvaW50JDIucHJvdG90eXBlLm5lZz1mdW5jdGlvbih0KXtpZih0aGlzLmluZilyZXR1cm4gdGhpczt2YXIgbj10aGlzLmN1cnZlLnBvaW50KHRoaXMueCx0aGlzLnkucmVkTmVnKCkpO2lmKHQmJnRoaXMucHJlY29tcHV0ZWQpe3ZhciBhPXRoaXMucHJlY29tcHV0ZWQsdT1mdW5jdGlvbihvKXtyZXR1cm4gby5uZWcoKX07bi5wcmVjb21wdXRlZD17bmFmOmEubmFmJiZ7d25kOmEubmFmLnduZCxwb2ludHM6YS5uYWYucG9pbnRzLm1hcCh1KX0sZG91YmxlczphLmRvdWJsZXMmJntzdGVwOmEuZG91Ymxlcy5zdGVwLHBvaW50czphLmRvdWJsZXMucG9pbnRzLm1hcCh1KX19fXJldHVybiBufSxQb2ludCQyLnByb3RvdHlwZS50b0o9ZnVuY3Rpb24oKXtpZih0aGlzLmluZilyZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobnVsbCxudWxsLG51bGwpO3ZhciB0PXRoaXMuY3VydmUuanBvaW50KHRoaXMueCx0aGlzLnksdGhpcy5jdXJ2ZS5vbmUpO3JldHVybiB0fTtmdW5jdGlvbiBKUG9pbnQoZSx0LG4sYSl7QmFzZSQyLkJhc2VQb2ludC5jYWxsKHRoaXMsZSwiamFjb2JpYW4iKSx0PT09bnVsbCYmbj09PW51bGwmJmE9PT1udWxsPyh0aGlzLng9dGhpcy5jdXJ2ZS5vbmUsdGhpcy55PXRoaXMuY3VydmUub25lLHRoaXMuej1uZXcgQk4kOCgwKSk6KHRoaXMueD1uZXcgQk4kOCh0LDE2KSx0aGlzLnk9bmV3IEJOJDgobiwxNiksdGhpcy56PW5ldyBCTiQ4KGEsMTYpKSx0aGlzLngucmVkfHwodGhpcy54PXRoaXMueC50b1JlZCh0aGlzLmN1cnZlLnJlZCkpLHRoaXMueS5yZWR8fCh0aGlzLnk9dGhpcy55LnRvUmVkKHRoaXMuY3VydmUucmVkKSksdGhpcy56LnJlZHx8KHRoaXMuej10aGlzLnoudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSx0aGlzLnpPbmU9dGhpcy56PT09dGhpcy5jdXJ2ZS5vbmV9aW5oZXJpdHMkNShKUG9pbnQsQmFzZSQyLkJhc2VQb2ludCksU2hvcnRDdXJ2ZS5wcm90b3R5cGUuanBvaW50PWZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gbmV3IEpQb2ludCh0aGlzLHQsbixhKX0sSlBvaW50LnByb3RvdHlwZS50b1A9ZnVuY3Rpb24oKXtpZih0aGlzLmlzSW5maW5pdHkoKSlyZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLG51bGwpO3ZhciB0PXRoaXMuei5yZWRJbnZtKCksbj10LnJlZFNxcigpLGE9dGhpcy54LnJlZE11bChuKSx1PXRoaXMueS5yZWRNdWwobikucmVkTXVsKHQpO3JldHVybiB0aGlzLmN1cnZlLnBvaW50KGEsdSl9LEpQb2ludC5wcm90b3R5cGUubmVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VydmUuanBvaW50KHRoaXMueCx0aGlzLnkucmVkTmVnKCksdGhpcy56KX0sSlBvaW50LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHQ7aWYodC5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7dmFyIG49dC56LnJlZFNxcigpLGE9dGhpcy56LnJlZFNxcigpLHU9dGhpcy54LnJlZE11bChuKSxvPXQueC5yZWRNdWwoYSksaD10aGlzLnkucmVkTXVsKG4ucmVkTXVsKHQueikpLGQ9dC55LnJlZE11bChhLnJlZE11bCh0aGlzLnopKSx3PXUucmVkU3ViKG8pLF89aC5yZWRTdWIoZCk7aWYody5jbXBuKDApPT09MClyZXR1cm4gXy5jbXBuKDApIT09MD90aGlzLmN1cnZlLmpwb2ludChudWxsLG51bGwsbnVsbCk6dGhpcy5kYmwoKTt2YXIgYj13LnJlZFNxcigpLE09Yi5yZWRNdWwodyksTz11LnJlZE11bChiKSxUPV8ucmVkU3FyKCkucmVkSUFkZChNKS5yZWRJU3ViKE8pLnJlZElTdWIoTyksUD1fLnJlZE11bChPLnJlZElTdWIoVCkpLnJlZElTdWIoaC5yZWRNdWwoTSkpLEw9dGhpcy56LnJlZE11bCh0LnopLnJlZE11bCh3KTtyZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQoVCxQLEwpfSxKUG9pbnQucHJvdG90eXBlLm1peGVkQWRkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNJbmZpbml0eSgpKXJldHVybiB0LnRvSigpO2lmKHQuaXNJbmZpbml0eSgpKXJldHVybiB0aGlzO3ZhciBuPXRoaXMuei5yZWRTcXIoKSxhPXRoaXMueCx1PXQueC5yZWRNdWwobiksbz10aGlzLnksaD10LnkucmVkTXVsKG4pLnJlZE11bCh0aGlzLnopLGQ9YS5yZWRTdWIodSksdz1vLnJlZFN1YihoKTtpZihkLmNtcG4oMCk9PT0wKXJldHVybiB3LmNtcG4oMCkhPT0wP3RoaXMuY3VydmUuanBvaW50KG51bGwsbnVsbCxudWxsKTp0aGlzLmRibCgpO3ZhciBfPWQucmVkU3FyKCksYj1fLnJlZE11bChkKSxNPWEucmVkTXVsKF8pLE89dy5yZWRTcXIoKS5yZWRJQWRkKGIpLnJlZElTdWIoTSkucmVkSVN1YihNKSxUPXcucmVkTXVsKE0ucmVkSVN1YihPKSkucmVkSVN1YihvLnJlZE11bChiKSksUD10aGlzLnoucmVkTXVsKGQpO3JldHVybiB0aGlzLmN1cnZlLmpwb2ludChPLFQsUCl9LEpQb2ludC5wcm90b3R5cGUuZGJscD1mdW5jdGlvbih0KXtpZih0PT09MClyZXR1cm4gdGhpcztpZih0aGlzLmlzSW5maW5pdHkoKSlyZXR1cm4gdGhpcztpZighdClyZXR1cm4gdGhpcy5kYmwoKTt2YXIgbjtpZih0aGlzLmN1cnZlLnplcm9BfHx0aGlzLmN1cnZlLnRocmVlQSl7dmFyIGE9dGhpcztmb3Iobj0wO248dDtuKyspYT1hLmRibCgpO3JldHVybiBhfXZhciB1PXRoaXMuY3VydmUuYSxvPXRoaXMuY3VydmUudGludixoPXRoaXMueCxkPXRoaXMueSx3PXRoaXMueixfPXcucmVkU3FyKCkucmVkU3FyKCksYj1kLnJlZEFkZChkKTtmb3Iobj0wO248dDtuKyspe3ZhciBNPWgucmVkU3FyKCksTz1iLnJlZFNxcigpLFQ9Ty5yZWRTcXIoKSxQPU0ucmVkQWRkKE0pLnJlZElBZGQoTSkucmVkSUFkZCh1LnJlZE11bChfKSksTD1oLnJlZE11bChPKSx6PVAucmVkU3FyKCkucmVkSVN1YihMLnJlZEFkZChMKSksSD1MLnJlZElTdWIoeiksVj1QLnJlZE11bChIKTtWPVYucmVkSUFkZChWKS5yZWRJU3ViKFQpO3ZhciBhZT1iLnJlZE11bCh3KTtuKzE8dCYmKF89Xy5yZWRNdWwoVCkpLGg9eix3PWFlLGI9Vn1yZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQoaCxiLnJlZE11bChvKSx3KX0sSlBvaW50LnByb3RvdHlwZS5kYmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luZmluaXR5KCk/dGhpczp0aGlzLmN1cnZlLnplcm9BP3RoaXMuX3plcm9EYmwoKTp0aGlzLmN1cnZlLnRocmVlQT90aGlzLl90aHJlZURibCgpOnRoaXMuX2RibCgpfSxKUG9pbnQucHJvdG90eXBlLl96ZXJvRGJsPWZ1bmN0aW9uKCl7dmFyIHQsbixhO2lmKHRoaXMuek9uZSl7dmFyIHU9dGhpcy54LnJlZFNxcigpLG89dGhpcy55LnJlZFNxcigpLGg9by5yZWRTcXIoKSxkPXRoaXMueC5yZWRBZGQobykucmVkU3FyKCkucmVkSVN1Yih1KS5yZWRJU3ViKGgpO2Q9ZC5yZWRJQWRkKGQpO3ZhciB3PXUucmVkQWRkKHUpLnJlZElBZGQodSksXz13LnJlZFNxcigpLnJlZElTdWIoZCkucmVkSVN1YihkKSxiPWgucmVkSUFkZChoKTtiPWIucmVkSUFkZChiKSxiPWIucmVkSUFkZChiKSx0PV8sbj13LnJlZE11bChkLnJlZElTdWIoXykpLnJlZElTdWIoYiksYT10aGlzLnkucmVkQWRkKHRoaXMueSl9ZWxzZXt2YXIgTT10aGlzLngucmVkU3FyKCksTz10aGlzLnkucmVkU3FyKCksVD1PLnJlZFNxcigpLFA9dGhpcy54LnJlZEFkZChPKS5yZWRTcXIoKS5yZWRJU3ViKE0pLnJlZElTdWIoVCk7UD1QLnJlZElBZGQoUCk7dmFyIEw9TS5yZWRBZGQoTSkucmVkSUFkZChNKSx6PUwucmVkU3FyKCksSD1ULnJlZElBZGQoVCk7SD1ILnJlZElBZGQoSCksSD1ILnJlZElBZGQoSCksdD16LnJlZElTdWIoUCkucmVkSVN1YihQKSxuPUwucmVkTXVsKFAucmVkSVN1Yih0KSkucmVkSVN1YihIKSxhPXRoaXMueS5yZWRNdWwodGhpcy56KSxhPWEucmVkSUFkZChhKX1yZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQodCxuLGEpfSxKUG9pbnQucHJvdG90eXBlLl90aHJlZURibD1mdW5jdGlvbigpe3ZhciB0LG4sYTtpZih0aGlzLnpPbmUpe3ZhciB1PXRoaXMueC5yZWRTcXIoKSxvPXRoaXMueS5yZWRTcXIoKSxoPW8ucmVkU3FyKCksZD10aGlzLngucmVkQWRkKG8pLnJlZFNxcigpLnJlZElTdWIodSkucmVkSVN1YihoKTtkPWQucmVkSUFkZChkKTt2YXIgdz11LnJlZEFkZCh1KS5yZWRJQWRkKHUpLnJlZElBZGQodGhpcy5jdXJ2ZS5hKSxfPXcucmVkU3FyKCkucmVkSVN1YihkKS5yZWRJU3ViKGQpO3Q9Xzt2YXIgYj1oLnJlZElBZGQoaCk7Yj1iLnJlZElBZGQoYiksYj1iLnJlZElBZGQoYiksbj13LnJlZE11bChkLnJlZElTdWIoXykpLnJlZElTdWIoYiksYT10aGlzLnkucmVkQWRkKHRoaXMueSl9ZWxzZXt2YXIgTT10aGlzLnoucmVkU3FyKCksTz10aGlzLnkucmVkU3FyKCksVD10aGlzLngucmVkTXVsKE8pLFA9dGhpcy54LnJlZFN1YihNKS5yZWRNdWwodGhpcy54LnJlZEFkZChNKSk7UD1QLnJlZEFkZChQKS5yZWRJQWRkKFApO3ZhciBMPVQucmVkSUFkZChUKTtMPUwucmVkSUFkZChMKTt2YXIgej1MLnJlZEFkZChMKTt0PVAucmVkU3FyKCkucmVkSVN1Yih6KSxhPXRoaXMueS5yZWRBZGQodGhpcy56KS5yZWRTcXIoKS5yZWRJU3ViKE8pLnJlZElTdWIoTSk7dmFyIEg9Ty5yZWRTcXIoKTtIPUgucmVkSUFkZChIKSxIPUgucmVkSUFkZChIKSxIPUgucmVkSUFkZChIKSxuPVAucmVkTXVsKEwucmVkSVN1Yih0KSkucmVkSVN1YihIKX1yZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQodCxuLGEpfSxKUG9pbnQucHJvdG90eXBlLl9kYmw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmN1cnZlLmEsbj10aGlzLngsYT10aGlzLnksdT10aGlzLnosbz11LnJlZFNxcigpLnJlZFNxcigpLGg9bi5yZWRTcXIoKSxkPWEucmVkU3FyKCksdz1oLnJlZEFkZChoKS5yZWRJQWRkKGgpLnJlZElBZGQodC5yZWRNdWwobykpLF89bi5yZWRBZGQobik7Xz1fLnJlZElBZGQoXyk7dmFyIGI9Xy5yZWRNdWwoZCksTT13LnJlZFNxcigpLnJlZElTdWIoYi5yZWRBZGQoYikpLE89Yi5yZWRJU3ViKE0pLFQ9ZC5yZWRTcXIoKTtUPVQucmVkSUFkZChUKSxUPVQucmVkSUFkZChUKSxUPVQucmVkSUFkZChUKTt2YXIgUD13LnJlZE11bChPKS5yZWRJU3ViKFQpLEw9YS5yZWRBZGQoYSkucmVkTXVsKHUpO3JldHVybiB0aGlzLmN1cnZlLmpwb2ludChNLFAsTCl9LEpQb2ludC5wcm90b3R5cGUudHJwbD1mdW5jdGlvbigpe2lmKCF0aGlzLmN1cnZlLnplcm9BKXJldHVybiB0aGlzLmRibCgpLmFkZCh0aGlzKTt2YXIgdD10aGlzLngucmVkU3FyKCksbj10aGlzLnkucmVkU3FyKCksYT10aGlzLnoucmVkU3FyKCksdT1uLnJlZFNxcigpLG89dC5yZWRBZGQodCkucmVkSUFkZCh0KSxoPW8ucmVkU3FyKCksZD10aGlzLngucmVkQWRkKG4pLnJlZFNxcigpLnJlZElTdWIodCkucmVkSVN1Yih1KTtkPWQucmVkSUFkZChkKSxkPWQucmVkQWRkKGQpLnJlZElBZGQoZCksZD1kLnJlZElTdWIoaCk7dmFyIHc9ZC5yZWRTcXIoKSxfPXUucmVkSUFkZCh1KTtfPV8ucmVkSUFkZChfKSxfPV8ucmVkSUFkZChfKSxfPV8ucmVkSUFkZChfKTt2YXIgYj1vLnJlZElBZGQoZCkucmVkU3FyKCkucmVkSVN1YihoKS5yZWRJU3ViKHcpLnJlZElTdWIoXyksTT1uLnJlZE11bChiKTtNPU0ucmVkSUFkZChNKSxNPU0ucmVkSUFkZChNKTt2YXIgTz10aGlzLngucmVkTXVsKHcpLnJlZElTdWIoTSk7Tz1PLnJlZElBZGQoTyksTz1PLnJlZElBZGQoTyk7dmFyIFQ9dGhpcy55LnJlZE11bChiLnJlZE11bChfLnJlZElTdWIoYikpLnJlZElTdWIoZC5yZWRNdWwodykpKTtUPVQucmVkSUFkZChUKSxUPVQucmVkSUFkZChUKSxUPVQucmVkSUFkZChUKTt2YXIgUD10aGlzLnoucmVkQWRkKGQpLnJlZFNxcigpLnJlZElTdWIoYSkucmVkSVN1Yih3KTtyZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQoTyxULFApfSxKUG9pbnQucHJvdG90eXBlLm11bD1mdW5jdGlvbih0LG4pe3JldHVybiB0PW5ldyBCTiQ4KHQsbiksdGhpcy5jdXJ2ZS5fd25hZk11bCh0aGlzLHQpfSxKUG9pbnQucHJvdG90eXBlLmVxPWZ1bmN0aW9uKHQpe2lmKHQudHlwZT09PSJhZmZpbmUiKXJldHVybiB0aGlzLmVxKHQudG9KKCkpO2lmKHRoaXM9PT10KXJldHVybiEwO3ZhciBuPXRoaXMuei5yZWRTcXIoKSxhPXQuei5yZWRTcXIoKTtpZih0aGlzLngucmVkTXVsKGEpLnJlZElTdWIodC54LnJlZE11bChuKSkuY21wbigwKSE9PTApcmV0dXJuITE7dmFyIHU9bi5yZWRNdWwodGhpcy56KSxvPWEucmVkTXVsKHQueik7cmV0dXJuIHRoaXMueS5yZWRNdWwobykucmVkSVN1Yih0LnkucmVkTXVsKHUpKS5jbXBuKDApPT09MH0sSlBvaW50LnByb3RvdHlwZS5lcVhUb1A9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy56LnJlZFNxcigpLGE9dC50b1JlZCh0aGlzLmN1cnZlLnJlZCkucmVkTXVsKG4pO2lmKHRoaXMueC5jbXAoYSk9PT0wKXJldHVybiEwO2Zvcih2YXIgdT10LmNsb25lKCksbz10aGlzLmN1cnZlLnJlZE4ucmVkTXVsKG4pOzspe2lmKHUuaWFkZCh0aGlzLmN1cnZlLm4pLHUuY21wKHRoaXMuY3VydmUucCk+PTApcmV0dXJuITE7aWYoYS5yZWRJQWRkKG8pLHRoaXMueC5jbXAoYSk9PT0wKXJldHVybiEwfX0sSlBvaW50LnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNJbmZpbml0eSgpPyI8RUMgSlBvaW50IEluZmluaXR5PiI6IjxFQyBKUG9pbnQgeDogIit0aGlzLngudG9TdHJpbmcoMTYsMikrIiB5OiAiK3RoaXMueS50b1N0cmluZygxNiwyKSsiIHo6ICIrdGhpcy56LnRvU3RyaW5nKDE2LDIpKyI+In0sSlBvaW50LnByb3RvdHlwZS5pc0luZmluaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuei5jbXBuKDApPT09MH07dmFyIEJOJDc9Ym5FeHBvcnRzJDIsaW5oZXJpdHMkND1pbmhlcml0c19icm93c2VyRXhwb3J0cyxCYXNlJDE9YmFzZSQxLHV0aWxzJHE9dXRpbHMkdTtmdW5jdGlvbiBNb250Q3VydmUoZSl7QmFzZSQxLmNhbGwodGhpcywibW9udCIsZSksdGhpcy5hPW5ldyBCTiQ3KGUuYSwxNikudG9SZWQodGhpcy5yZWQpLHRoaXMuYj1uZXcgQk4kNyhlLmIsMTYpLnRvUmVkKHRoaXMucmVkKSx0aGlzLmk0PW5ldyBCTiQ3KDQpLnRvUmVkKHRoaXMucmVkKS5yZWRJbnZtKCksdGhpcy50d289bmV3IEJOJDcoMikudG9SZWQodGhpcy5yZWQpLHRoaXMuYTI0PXRoaXMuaTQucmVkTXVsKHRoaXMuYS5yZWRBZGQodGhpcy50d28pKX1pbmhlcml0cyQ0KE1vbnRDdXJ2ZSxCYXNlJDEpO3ZhciBtb250PU1vbnRDdXJ2ZTtNb250Q3VydmUucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKHQpe3ZhciBuPXQubm9ybWFsaXplKCkueCxhPW4ucmVkU3FyKCksdT1hLnJlZE11bChuKS5yZWRBZGQoYS5yZWRNdWwodGhpcy5hKSkucmVkQWRkKG4pLG89dS5yZWRTcXJ0KCk7cmV0dXJuIG8ucmVkU3FyKCkuY21wKHUpPT09MH07ZnVuY3Rpb24gUG9pbnQkMShlLHQsbil7QmFzZSQxLkJhc2VQb2ludC5jYWxsKHRoaXMsZSwicHJvamVjdGl2ZSIpLHQ9PT1udWxsJiZuPT09bnVsbD8odGhpcy54PXRoaXMuY3VydmUub25lLHRoaXMuej10aGlzLmN1cnZlLnplcm8pOih0aGlzLng9bmV3IEJOJDcodCwxNiksdGhpcy56PW5ldyBCTiQ3KG4sMTYpLHRoaXMueC5yZWR8fCh0aGlzLng9dGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKSksdGhpcy56LnJlZHx8KHRoaXMuej10aGlzLnoudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSl9aW5oZXJpdHMkNChQb2ludCQxLEJhc2UkMS5CYXNlUG9pbnQpLE1vbnRDdXJ2ZS5wcm90b3R5cGUuZGVjb2RlUG9pbnQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5wb2ludCh1dGlscyRxLnRvQXJyYXkodCxuKSwxKX0sTW9udEN1cnZlLnByb3RvdHlwZS5wb2ludD1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgUG9pbnQkMSh0aGlzLHQsbil9LE1vbnRDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gUG9pbnQkMS5mcm9tSlNPTih0aGlzLHQpfSxQb2ludCQxLnByb3RvdHlwZS5wcmVjb21wdXRlPWZ1bmN0aW9uKCl7fSxQb2ludCQxLnByb3RvdHlwZS5fZW5jb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WCgpLnRvQXJyYXkoImJlIix0aGlzLmN1cnZlLnAuYnl0ZUxlbmd0aCgpKX0sUG9pbnQkMS5mcm9tSlNPTj1mdW5jdGlvbih0LG4pe3JldHVybiBuZXcgUG9pbnQkMSh0LG5bMF0sblsxXXx8dC5vbmUpfSxQb2ludCQxLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNJbmZpbml0eSgpPyI8RUMgUG9pbnQgSW5maW5pdHk+IjoiPEVDIFBvaW50IHg6ICIrdGhpcy54LmZyb21SZWQoKS50b1N0cmluZygxNiwyKSsiIHo6ICIrdGhpcy56LmZyb21SZWQoKS50b1N0cmluZygxNiwyKSsiPiJ9LFBvaW50JDEucHJvdG90eXBlLmlzSW5maW5pdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56LmNtcG4oMCk9PT0wfSxQb2ludCQxLnByb3RvdHlwZS5kYmw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLngucmVkQWRkKHRoaXMueiksbj10LnJlZFNxcigpLGE9dGhpcy54LnJlZFN1Yih0aGlzLnopLHU9YS5yZWRTcXIoKSxvPW4ucmVkU3ViKHUpLGg9bi5yZWRNdWwodSksZD1vLnJlZE11bCh1LnJlZEFkZCh0aGlzLmN1cnZlLmEyNC5yZWRNdWwobykpKTtyZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChoLGQpfSxQb2ludCQxLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBzdXBwb3J0ZWQgb24gTW9udGdvbWVyeSBjdXJ2ZSIpfSxQb2ludCQxLnByb3RvdHlwZS5kaWZmQWRkPWZ1bmN0aW9uKHQsbil7dmFyIGE9dGhpcy54LnJlZEFkZCh0aGlzLnopLHU9dGhpcy54LnJlZFN1Yih0aGlzLnopLG89dC54LnJlZEFkZCh0LnopLGg9dC54LnJlZFN1Yih0LnopLGQ9aC5yZWRNdWwoYSksdz1vLnJlZE11bCh1KSxfPW4uei5yZWRNdWwoZC5yZWRBZGQodykucmVkU3FyKCkpLGI9bi54LnJlZE11bChkLnJlZElTdWIodykucmVkU3FyKCkpO3JldHVybiB0aGlzLmN1cnZlLnBvaW50KF8sYil9LFBvaW50JDEucHJvdG90eXBlLm11bD1mdW5jdGlvbih0KXtmb3IodmFyIG49dC5jbG9uZSgpLGE9dGhpcyx1PXRoaXMuY3VydmUucG9pbnQobnVsbCxudWxsKSxvPXRoaXMsaD1bXTtuLmNtcG4oMCkhPT0wO24uaXVzaHJuKDEpKWgucHVzaChuLmFuZGxuKDEpKTtmb3IodmFyIGQ9aC5sZW5ndGgtMTtkPj0wO2QtLSloW2RdPT09MD8oYT1hLmRpZmZBZGQodSxvKSx1PXUuZGJsKCkpOih1PWEuZGlmZkFkZCh1LG8pLGE9YS5kYmwoKSk7cmV0dXJuIHV9LFBvaW50JDEucHJvdG90eXBlLm11bEFkZD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiTm90IHN1cHBvcnRlZCBvbiBNb250Z29tZXJ5IGN1cnZlIil9LFBvaW50JDEucHJvdG90eXBlLmp1bWxBZGQ9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBzdXBwb3J0ZWQgb24gTW9udGdvbWVyeSBjdXJ2ZSIpfSxQb2ludCQxLnByb3RvdHlwZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRYKCkuY21wKHQuZ2V0WCgpKT09PTB9LFBvaW50JDEucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9dGhpcy54LnJlZE11bCh0aGlzLnoucmVkSW52bSgpKSx0aGlzLno9dGhpcy5jdXJ2ZS5vbmUsdGhpc30sUG9pbnQkMS5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpLHRoaXMueC5mcm9tUmVkKCl9O3ZhciB1dGlscyRwPXV0aWxzJHUsQk4kNj1ibkV4cG9ydHMkMixpbmhlcml0cyQzPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLEJhc2U9YmFzZSQxLGFzc2VydCRjPXV0aWxzJHAuYXNzZXJ0O2Z1bmN0aW9uIEVkd2FyZHNDdXJ2ZShlKXt0aGlzLnR3aXN0ZWQ9KGUuYXwwKSE9PTEsdGhpcy5tT25lQT10aGlzLnR3aXN0ZWQmJihlLmF8MCk9PT0tMSx0aGlzLmV4dGVuZGVkPXRoaXMubU9uZUEsQmFzZS5jYWxsKHRoaXMsImVkd2FyZHMiLGUpLHRoaXMuYT1uZXcgQk4kNihlLmEsMTYpLnVtb2QodGhpcy5yZWQubSksdGhpcy5hPXRoaXMuYS50b1JlZCh0aGlzLnJlZCksdGhpcy5jPW5ldyBCTiQ2KGUuYywxNikudG9SZWQodGhpcy5yZWQpLHRoaXMuYzI9dGhpcy5jLnJlZFNxcigpLHRoaXMuZD1uZXcgQk4kNihlLmQsMTYpLnRvUmVkKHRoaXMucmVkKSx0aGlzLmRkPXRoaXMuZC5yZWRBZGQodGhpcy5kKSxhc3NlcnQkYyghdGhpcy50d2lzdGVkfHx0aGlzLmMuZnJvbVJlZCgpLmNtcG4oMSk9PT0wKSx0aGlzLm9uZUM9KGUuY3wwKT09PTF9aW5oZXJpdHMkMyhFZHdhcmRzQ3VydmUsQmFzZSk7dmFyIGVkd2FyZHM9RWR3YXJkc0N1cnZlO0Vkd2FyZHNDdXJ2ZS5wcm90b3R5cGUuX211bEE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubU9uZUE/dC5yZWROZWcoKTp0aGlzLmEucmVkTXVsKHQpfSxFZHdhcmRzQ3VydmUucHJvdG90eXBlLl9tdWxDPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uZUM/dDp0aGlzLmMucmVkTXVsKHQpfSxFZHdhcmRzQ3VydmUucHJvdG90eXBlLmpwb2ludD1mdW5jdGlvbih0LG4sYSx1KXtyZXR1cm4gdGhpcy5wb2ludCh0LG4sYSx1KX0sRWR3YXJkc0N1cnZlLnByb3RvdHlwZS5wb2ludEZyb21YPWZ1bmN0aW9uKHQsbil7dD1uZXcgQk4kNih0LDE2KSx0LnJlZHx8KHQ9dC50b1JlZCh0aGlzLnJlZCkpO3ZhciBhPXQucmVkU3FyKCksdT10aGlzLmMyLnJlZFN1Yih0aGlzLmEucmVkTXVsKGEpKSxvPXRoaXMub25lLnJlZFN1Yih0aGlzLmMyLnJlZE11bCh0aGlzLmQpLnJlZE11bChhKSksaD11LnJlZE11bChvLnJlZEludm0oKSksZD1oLnJlZFNxcnQoKTtpZihkLnJlZFNxcigpLnJlZFN1YihoKS5jbXAodGhpcy56ZXJvKSE9PTApdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHBvaW50Iik7dmFyIHc9ZC5mcm9tUmVkKCkuaXNPZGQoKTtyZXR1cm4obiYmIXd8fCFuJiZ3KSYmKGQ9ZC5yZWROZWcoKSksdGhpcy5wb2ludCh0LGQpfSxFZHdhcmRzQ3VydmUucHJvdG90eXBlLnBvaW50RnJvbVk9ZnVuY3Rpb24odCxuKXt0PW5ldyBCTiQ2KHQsMTYpLHQucmVkfHwodD10LnRvUmVkKHRoaXMucmVkKSk7dmFyIGE9dC5yZWRTcXIoKSx1PWEucmVkU3ViKHRoaXMuYzIpLG89YS5yZWRNdWwodGhpcy5kKS5yZWRNdWwodGhpcy5jMikucmVkU3ViKHRoaXMuYSksaD11LnJlZE11bChvLnJlZEludm0oKSk7aWYoaC5jbXAodGhpcy56ZXJvKT09PTApe2lmKG4pdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHBvaW50Iik7cmV0dXJuIHRoaXMucG9pbnQodGhpcy56ZXJvLHQpfXZhciBkPWgucmVkU3FydCgpO2lmKGQucmVkU3FyKCkucmVkU3ViKGgpLmNtcCh0aGlzLnplcm8pIT09MCl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgcG9pbnQiKTtyZXR1cm4gZC5mcm9tUmVkKCkuaXNPZGQoKSE9PW4mJihkPWQucmVkTmVnKCkpLHRoaXMucG9pbnQoZCx0KX0sRWR3YXJkc0N1cnZlLnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbih0KXtpZih0LmlzSW5maW5pdHkoKSlyZXR1cm4hMDt0Lm5vcm1hbGl6ZSgpO3ZhciBuPXQueC5yZWRTcXIoKSxhPXQueS5yZWRTcXIoKSx1PW4ucmVkTXVsKHRoaXMuYSkucmVkQWRkKGEpLG89dGhpcy5jMi5yZWRNdWwodGhpcy5vbmUucmVkQWRkKHRoaXMuZC5yZWRNdWwobikucmVkTXVsKGEpKSk7cmV0dXJuIHUuY21wKG8pPT09MH07ZnVuY3Rpb24gUG9pbnQoZSx0LG4sYSx1KXtCYXNlLkJhc2VQb2ludC5jYWxsKHRoaXMsZSwicHJvamVjdGl2ZSIpLHQ9PT1udWxsJiZuPT09bnVsbCYmYT09PW51bGw/KHRoaXMueD10aGlzLmN1cnZlLnplcm8sdGhpcy55PXRoaXMuY3VydmUub25lLHRoaXMuej10aGlzLmN1cnZlLm9uZSx0aGlzLnQ9dGhpcy5jdXJ2ZS56ZXJvLHRoaXMuek9uZT0hMCk6KHRoaXMueD1uZXcgQk4kNih0LDE2KSx0aGlzLnk9bmV3IEJOJDYobiwxNiksdGhpcy56PWE/bmV3IEJOJDYoYSwxNik6dGhpcy5jdXJ2ZS5vbmUsdGhpcy50PXUmJm5ldyBCTiQ2KHUsMTYpLHRoaXMueC5yZWR8fCh0aGlzLng9dGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKSksdGhpcy55LnJlZHx8KHRoaXMueT10aGlzLnkudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSx0aGlzLnoucmVkfHwodGhpcy56PXRoaXMuei50b1JlZCh0aGlzLmN1cnZlLnJlZCkpLHRoaXMudCYmIXRoaXMudC5yZWQmJih0aGlzLnQ9dGhpcy50LnRvUmVkKHRoaXMuY3VydmUucmVkKSksdGhpcy56T25lPXRoaXMuej09PXRoaXMuY3VydmUub25lLHRoaXMuY3VydmUuZXh0ZW5kZWQmJiF0aGlzLnQmJih0aGlzLnQ9dGhpcy54LnJlZE11bCh0aGlzLnkpLHRoaXMuek9uZXx8KHRoaXMudD10aGlzLnQucmVkTXVsKHRoaXMuei5yZWRJbnZtKCkpKSkpfWluaGVyaXRzJDMoUG9pbnQsQmFzZS5CYXNlUG9pbnQpLEVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tSlNPTj1mdW5jdGlvbih0KXtyZXR1cm4gUG9pbnQuZnJvbUpTT04odGhpcyx0KX0sRWR3YXJkc0N1cnZlLnByb3RvdHlwZS5wb2ludD1mdW5jdGlvbih0LG4sYSx1KXtyZXR1cm4gbmV3IFBvaW50KHRoaXMsdCxuLGEsdSl9LFBvaW50LmZyb21KU09OPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBQb2ludCh0LG5bMF0sblsxXSxuWzJdKX0sUG9pbnQucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luZmluaXR5KCk/IjxFQyBQb2ludCBJbmZpbml0eT4iOiI8RUMgUG9pbnQgeDogIit0aGlzLnguZnJvbVJlZCgpLnRvU3RyaW5nKDE2LDIpKyIgeTogIit0aGlzLnkuZnJvbVJlZCgpLnRvU3RyaW5nKDE2LDIpKyIgejogIit0aGlzLnouZnJvbVJlZCgpLnRvU3RyaW5nKDE2LDIpKyI+In0sUG9pbnQucHJvdG90eXBlLmlzSW5maW5pdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54LmNtcG4oMCk9PT0wJiYodGhpcy55LmNtcCh0aGlzLnopPT09MHx8dGhpcy56T25lJiZ0aGlzLnkuY21wKHRoaXMuY3VydmUuYyk9PT0wKX0sUG9pbnQucHJvdG90eXBlLl9leHREYmw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLngucmVkU3FyKCksbj10aGlzLnkucmVkU3FyKCksYT10aGlzLnoucmVkU3FyKCk7YT1hLnJlZElBZGQoYSk7dmFyIHU9dGhpcy5jdXJ2ZS5fbXVsQSh0KSxvPXRoaXMueC5yZWRBZGQodGhpcy55KS5yZWRTcXIoKS5yZWRJU3ViKHQpLnJlZElTdWIobiksaD11LnJlZEFkZChuKSxkPWgucmVkU3ViKGEpLHc9dS5yZWRTdWIobiksXz1vLnJlZE11bChkKSxiPWgucmVkTXVsKHcpLE09by5yZWRNdWwodyksTz1kLnJlZE11bChoKTtyZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChfLGIsTyxNKX0sUG9pbnQucHJvdG90eXBlLl9wcm9qRGJsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy54LnJlZEFkZCh0aGlzLnkpLnJlZFNxcigpLG49dGhpcy54LnJlZFNxcigpLGE9dGhpcy55LnJlZFNxcigpLHUsbyxoLGQsdyxfO2lmKHRoaXMuY3VydmUudHdpc3RlZCl7ZD10aGlzLmN1cnZlLl9tdWxBKG4pO3ZhciBiPWQucmVkQWRkKGEpO3RoaXMuek9uZT8odT10LnJlZFN1YihuKS5yZWRTdWIoYSkucmVkTXVsKGIucmVkU3ViKHRoaXMuY3VydmUudHdvKSksbz1iLnJlZE11bChkLnJlZFN1YihhKSksaD1iLnJlZFNxcigpLnJlZFN1YihiKS5yZWRTdWIoYikpOih3PXRoaXMuei5yZWRTcXIoKSxfPWIucmVkU3ViKHcpLnJlZElTdWIodyksdT10LnJlZFN1YihuKS5yZWRJU3ViKGEpLnJlZE11bChfKSxvPWIucmVkTXVsKGQucmVkU3ViKGEpKSxoPWIucmVkTXVsKF8pKX1lbHNlIGQ9bi5yZWRBZGQoYSksdz10aGlzLmN1cnZlLl9tdWxDKHRoaXMueikucmVkU3FyKCksXz1kLnJlZFN1Yih3KS5yZWRTdWIodyksdT10aGlzLmN1cnZlLl9tdWxDKHQucmVkSVN1YihkKSkucmVkTXVsKF8pLG89dGhpcy5jdXJ2ZS5fbXVsQyhkKS5yZWRNdWwobi5yZWRJU3ViKGEpKSxoPWQucmVkTXVsKF8pO3JldHVybiB0aGlzLmN1cnZlLnBvaW50KHUsbyxoKX0sUG9pbnQucHJvdG90eXBlLmRibD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzSW5maW5pdHkoKT90aGlzOnRoaXMuY3VydmUuZXh0ZW5kZWQ/dGhpcy5fZXh0RGJsKCk6dGhpcy5fcHJvakRibCgpfSxQb2ludC5wcm90b3R5cGUuX2V4dEFkZD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLnkucmVkU3ViKHRoaXMueCkucmVkTXVsKHQueS5yZWRTdWIodC54KSksYT10aGlzLnkucmVkQWRkKHRoaXMueCkucmVkTXVsKHQueS5yZWRBZGQodC54KSksdT10aGlzLnQucmVkTXVsKHRoaXMuY3VydmUuZGQpLnJlZE11bCh0LnQpLG89dGhpcy56LnJlZE11bCh0LnoucmVkQWRkKHQueikpLGg9YS5yZWRTdWIobiksZD1vLnJlZFN1Yih1KSx3PW8ucmVkQWRkKHUpLF89YS5yZWRBZGQobiksYj1oLnJlZE11bChkKSxNPXcucmVkTXVsKF8pLE89aC5yZWRNdWwoXyksVD1kLnJlZE11bCh3KTtyZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChiLE0sVCxPKX0sUG9pbnQucHJvdG90eXBlLl9wcm9qQWRkPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuei5yZWRNdWwodC56KSxhPW4ucmVkU3FyKCksdT10aGlzLngucmVkTXVsKHQueCksbz10aGlzLnkucmVkTXVsKHQueSksaD10aGlzLmN1cnZlLmQucmVkTXVsKHUpLnJlZE11bChvKSxkPWEucmVkU3ViKGgpLHc9YS5yZWRBZGQoaCksXz10aGlzLngucmVkQWRkKHRoaXMueSkucmVkTXVsKHQueC5yZWRBZGQodC55KSkucmVkSVN1Yih1KS5yZWRJU3ViKG8pLGI9bi5yZWRNdWwoZCkucmVkTXVsKF8pLE0sTztyZXR1cm4gdGhpcy5jdXJ2ZS50d2lzdGVkPyhNPW4ucmVkTXVsKHcpLnJlZE11bChvLnJlZFN1Yih0aGlzLmN1cnZlLl9tdWxBKHUpKSksTz1kLnJlZE11bCh3KSk6KE09bi5yZWRNdWwodykucmVkTXVsKG8ucmVkU3ViKHUpKSxPPXRoaXMuY3VydmUuX211bEMoZCkucmVkTXVsKHcpKSx0aGlzLmN1cnZlLnBvaW50KGIsTSxPKX0sUG9pbnQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0luZmluaXR5KCk/dDp0LmlzSW5maW5pdHkoKT90aGlzOnRoaXMuY3VydmUuZXh0ZW5kZWQ/dGhpcy5fZXh0QWRkKHQpOnRoaXMuX3Byb2pBZGQodCl9LFBvaW50LnByb3RvdHlwZS5tdWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2hhc0RvdWJsZXModCk/dGhpcy5jdXJ2ZS5fZml4ZWROYWZNdWwodGhpcyx0KTp0aGlzLmN1cnZlLl93bmFmTXVsKHRoaXMsdCl9LFBvaW50LnByb3RvdHlwZS5tdWxBZGQ9ZnVuY3Rpb24odCxuLGEpe3JldHVybiB0aGlzLmN1cnZlLl93bmFmTXVsQWRkKDEsW3RoaXMsbl0sW3QsYV0sMiwhMSl9LFBvaW50LnByb3RvdHlwZS5qbXVsQWRkPWZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gdGhpcy5jdXJ2ZS5fd25hZk11bEFkZCgxLFt0aGlzLG5dLFt0LGFdLDIsITApfSxQb2ludC5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7aWYodGhpcy56T25lKXJldHVybiB0aGlzO3ZhciB0PXRoaXMuei5yZWRJbnZtKCk7cmV0dXJuIHRoaXMueD10aGlzLngucmVkTXVsKHQpLHRoaXMueT10aGlzLnkucmVkTXVsKHQpLHRoaXMudCYmKHRoaXMudD10aGlzLnQucmVkTXVsKHQpKSx0aGlzLno9dGhpcy5jdXJ2ZS5vbmUsdGhpcy56T25lPSEwLHRoaXN9LFBvaW50LnByb3RvdHlwZS5uZWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludCh0aGlzLngucmVkTmVnKCksdGhpcy55LHRoaXMueix0aGlzLnQmJnRoaXMudC5yZWROZWcoKSl9LFBvaW50LnByb3RvdHlwZS5nZXRYPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCksdGhpcy54LmZyb21SZWQoKX0sUG9pbnQucHJvdG90eXBlLmdldFk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKSx0aGlzLnkuZnJvbVJlZCgpfSxQb2ludC5wcm90b3R5cGUuZXE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0aGlzLmdldFgoKS5jbXAodC5nZXRYKCkpPT09MCYmdGhpcy5nZXRZKCkuY21wKHQuZ2V0WSgpKT09PTB9LFBvaW50LnByb3RvdHlwZS5lcVhUb1A9ZnVuY3Rpb24odCl7dmFyIG49dC50b1JlZCh0aGlzLmN1cnZlLnJlZCkucmVkTXVsKHRoaXMueik7aWYodGhpcy54LmNtcChuKT09PTApcmV0dXJuITA7Zm9yKHZhciBhPXQuY2xvbmUoKSx1PXRoaXMuY3VydmUucmVkTi5yZWRNdWwodGhpcy56KTs7KXtpZihhLmlhZGQodGhpcy5jdXJ2ZS5uKSxhLmNtcCh0aGlzLmN1cnZlLnApPj0wKXJldHVybiExO2lmKG4ucmVkSUFkZCh1KSx0aGlzLnguY21wKG4pPT09MClyZXR1cm4hMH19LFBvaW50LnByb3RvdHlwZS50b1A9UG9pbnQucHJvdG90eXBlLm5vcm1hbGl6ZSxQb2ludC5wcm90b3R5cGUubWl4ZWRBZGQ9UG9pbnQucHJvdG90eXBlLmFkZCxmdW5jdGlvbihlKXt2YXIgdD1lO3QuYmFzZT1iYXNlJDEsdC5zaG9ydD1zaG9ydCx0Lm1vbnQ9bW9udCx0LmVkd2FyZHM9ZWR3YXJkc30oY3VydmUpO3ZhciBjdXJ2ZXMkMT17fSxoYXNoJDI9e30sdXRpbHMkbz17fSxhc3NlcnQkYj1taW5pbWFsaXN0aWNBc3NlcnQsaW5oZXJpdHMkMj1pbmhlcml0c19icm93c2VyRXhwb3J0czt1dGlscyRvLmluaGVyaXRzPWluaGVyaXRzJDI7ZnVuY3Rpb24gaXNTdXJyb2dhdGVQYWlyKGUsdCl7cmV0dXJuKGUuY2hhckNvZGVBdCh0KSY2NDUxMikhPT01NTI5Nnx8dDwwfHx0KzE+PWUubGVuZ3RoPyExOihlLmNoYXJDb2RlQXQodCsxKSY2NDUxMik9PT01NjMyMH1mdW5jdGlvbiB0b0FycmF5JDEoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLnNsaWNlKCk7aWYoIWUpcmV0dXJuW107dmFyIG49W107aWYodHlwZW9mIGU9PSJzdHJpbmciKWlmKHQpe2lmKHQ9PT0iaGV4Iilmb3IoZT1lLnJlcGxhY2UoL1teYS16MC05XSsvaWcsIiIpLGUubGVuZ3RoJTIhPT0wJiYoZT0iMCIrZSksdT0wO3U8ZS5sZW5ndGg7dSs9MiluLnB1c2gocGFyc2VJbnQoZVt1XStlW3UrMV0sMTYpKX1lbHNlIGZvcih2YXIgYT0wLHU9MDt1PGUubGVuZ3RoO3UrKyl7dmFyIG89ZS5jaGFyQ29kZUF0KHUpO288MTI4P25bYSsrXT1vOm88MjA0OD8oblthKytdPW8+PjZ8MTkyLG5bYSsrXT1vJjYzfDEyOCk6aXNTdXJyb2dhdGVQYWlyKGUsdSk/KG89NjU1MzYrKChvJjEwMjMpPDwxMCkrKGUuY2hhckNvZGVBdCgrK3UpJjEwMjMpLG5bYSsrXT1vPj4xOHwyNDAsblthKytdPW8+PjEyJjYzfDEyOCxuW2ErK109bz4+NiY2M3wxMjgsblthKytdPW8mNjN8MTI4KTooblthKytdPW8+PjEyfDIyNCxuW2ErK109bz4+NiY2M3wxMjgsblthKytdPW8mNjN8MTI4KX1lbHNlIGZvcih1PTA7dTxlLmxlbmd0aDt1Kyspblt1XT1lW3VdfDA7cmV0dXJuIG59dXRpbHMkby50b0FycmF5PXRvQXJyYXkkMTtmdW5jdGlvbiB0b0hleChlKXtmb3IodmFyIHQ9IiIsbj0wO248ZS5sZW5ndGg7bisrKXQrPXplcm8yKGVbbl0udG9TdHJpbmcoMTYpKTtyZXR1cm4gdH11dGlscyRvLnRvSGV4PXRvSGV4O2Z1bmN0aW9uIGh0b25sKGUpe3ZhciB0PWU+Pj4yNHxlPj4+OCY2NTI4MHxlPDw4JjE2NzExNjgwfChlJjI1NSk8PDI0O3JldHVybiB0Pj4+MH11dGlscyRvLmh0b25sPWh0b25sO2Z1bmN0aW9uIHRvSGV4MzIoZSx0KXtmb3IodmFyIG49IiIsYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgdT1lW2FdO3Q9PT0ibGl0dGxlIiYmKHU9aHRvbmwodSkpLG4rPXplcm84KHUudG9TdHJpbmcoMTYpKX1yZXR1cm4gbn11dGlscyRvLnRvSGV4MzI9dG9IZXgzMjtmdW5jdGlvbiB6ZXJvMihlKXtyZXR1cm4gZS5sZW5ndGg9PT0xPyIwIitlOmV9dXRpbHMkby56ZXJvMj16ZXJvMjtmdW5jdGlvbiB6ZXJvOChlKXtyZXR1cm4gZS5sZW5ndGg9PT03PyIwIitlOmUubGVuZ3RoPT09Nj8iMDAiK2U6ZS5sZW5ndGg9PT01PyIwMDAiK2U6ZS5sZW5ndGg9PT00PyIwMDAwIitlOmUubGVuZ3RoPT09Mz8iMDAwMDAiK2U6ZS5sZW5ndGg9PT0yPyIwMDAwMDAiK2U6ZS5sZW5ndGg9PT0xPyIwMDAwMDAwIitlOmV9dXRpbHMkby56ZXJvOD16ZXJvODtmdW5jdGlvbiBqb2luMzIoZSx0LG4sYSl7dmFyIHU9bi10O2Fzc2VydCRiKHUlND09PTApO2Zvcih2YXIgbz1uZXcgQXJyYXkodS80KSxoPTAsZD10O2g8by5sZW5ndGg7aCsrLGQrPTQpe3ZhciB3O2E9PT0iYmlnIj93PWVbZF08PDI0fGVbZCsxXTw8MTZ8ZVtkKzJdPDw4fGVbZCszXTp3PWVbZCszXTw8MjR8ZVtkKzJdPDwxNnxlW2QrMV08PDh8ZVtkXSxvW2hdPXc+Pj4wfXJldHVybiBvfXV0aWxzJG8uam9pbjMyPWpvaW4zMjtmdW5jdGlvbiBzcGxpdDMyKGUsdCl7Zm9yKHZhciBuPW5ldyBBcnJheShlLmxlbmd0aCo0KSxhPTAsdT0wO2E8ZS5sZW5ndGg7YSsrLHUrPTQpe3ZhciBvPWVbYV07dD09PSJiaWciPyhuW3VdPW8+Pj4yNCxuW3UrMV09bz4+PjE2JjI1NSxuW3UrMl09bz4+PjgmMjU1LG5bdSszXT1vJjI1NSk6KG5bdSszXT1vPj4+MjQsblt1KzJdPW8+Pj4xNiYyNTUsblt1KzFdPW8+Pj44JjI1NSxuW3VdPW8mMjU1KX1yZXR1cm4gbn11dGlscyRvLnNwbGl0MzI9c3BsaXQzMjtmdW5jdGlvbiByb3RyMzIkMShlLHQpe3JldHVybiBlPj4+dHxlPDwzMi10fXV0aWxzJG8ucm90cjMyPXJvdHIzMiQxO2Z1bmN0aW9uIHJvdGwzMiQyKGUsdCl7cmV0dXJuIGU8PHR8ZT4+PjMyLXR9dXRpbHMkby5yb3RsMzI9cm90bDMyJDI7ZnVuY3Rpb24gc3VtMzIkMyhlLHQpe3JldHVybiBlK3Q+Pj4wfXV0aWxzJG8uc3VtMzI9c3VtMzIkMztmdW5jdGlvbiBzdW0zMl8zJDEoZSx0LG4pe3JldHVybiBlK3Qrbj4+PjB9dXRpbHMkby5zdW0zMl8zPXN1bTMyXzMkMTtmdW5jdGlvbiBzdW0zMl80JDIoZSx0LG4sYSl7cmV0dXJuIGUrdCtuK2E+Pj4wfXV0aWxzJG8uc3VtMzJfND1zdW0zMl80JDI7ZnVuY3Rpb24gc3VtMzJfNSQyKGUsdCxuLGEsdSl7cmV0dXJuIGUrdCtuK2ErdT4+PjB9dXRpbHMkby5zdW0zMl81PXN1bTMyXzUkMjtmdW5jdGlvbiBzdW02NCQxKGUsdCxuLGEpe3ZhciB1PWVbdF0sbz1lW3QrMV0saD1hK28+Pj4wLGQ9KGg8YT8xOjApK24rdTtlW3RdPWQ+Pj4wLGVbdCsxXT1ofXV0aWxzJG8uc3VtNjQ9c3VtNjQkMTtmdW5jdGlvbiBzdW02NF9oaSQxKGUsdCxuLGEpe3ZhciB1PXQrYT4+PjAsbz0odTx0PzE6MCkrZStuO3JldHVybiBvPj4+MH11dGlscyRvLnN1bTY0X2hpPXN1bTY0X2hpJDE7ZnVuY3Rpb24gc3VtNjRfbG8kMShlLHQsbixhKXt2YXIgdT10K2E7cmV0dXJuIHU+Pj4wfXV0aWxzJG8uc3VtNjRfbG89c3VtNjRfbG8kMTtmdW5jdGlvbiBzdW02NF80X2hpJDEoZSx0LG4sYSx1LG8saCxkKXt2YXIgdz0wLF89dDtfPV8rYT4+PjAsdys9Xzx0PzE6MCxfPV8rbz4+PjAsdys9XzxvPzE6MCxfPV8rZD4+PjAsdys9XzxkPzE6MDt2YXIgYj1lK24rdStoK3c7cmV0dXJuIGI+Pj4wfXV0aWxzJG8uc3VtNjRfNF9oaT1zdW02NF80X2hpJDE7ZnVuY3Rpb24gc3VtNjRfNF9sbyQxKGUsdCxuLGEsdSxvLGgsZCl7dmFyIHc9dCthK28rZDtyZXR1cm4gdz4+PjB9dXRpbHMkby5zdW02NF80X2xvPXN1bTY0XzRfbG8kMTtmdW5jdGlvbiBzdW02NF81X2hpJDEoZSx0LG4sYSx1LG8saCxkLHcsXyl7dmFyIGI9MCxNPXQ7TT1NK2E+Pj4wLGIrPU08dD8xOjAsTT1NK28+Pj4wLGIrPU08bz8xOjAsTT1NK2Q+Pj4wLGIrPU08ZD8xOjAsTT1NK18+Pj4wLGIrPU08Xz8xOjA7dmFyIE89ZStuK3UraCt3K2I7cmV0dXJuIE8+Pj4wfXV0aWxzJG8uc3VtNjRfNV9oaT1zdW02NF81X2hpJDE7ZnVuY3Rpb24gc3VtNjRfNV9sbyQxKGUsdCxuLGEsdSxvLGgsZCx3LF8pe3ZhciBiPXQrYStvK2QrXztyZXR1cm4gYj4+PjB9dXRpbHMkby5zdW02NF81X2xvPXN1bTY0XzVfbG8kMTtmdW5jdGlvbiByb3RyNjRfaGkkMShlLHQsbil7dmFyIGE9dDw8MzItbnxlPj4+bjtyZXR1cm4gYT4+PjB9dXRpbHMkby5yb3RyNjRfaGk9cm90cjY0X2hpJDE7ZnVuY3Rpb24gcm90cjY0X2xvJDEoZSx0LG4pe3ZhciBhPWU8PDMyLW58dD4+Pm47cmV0dXJuIGE+Pj4wfXV0aWxzJG8ucm90cjY0X2xvPXJvdHI2NF9sbyQxO2Z1bmN0aW9uIHNocjY0X2hpJDEoZSx0LG4pe3JldHVybiBlPj4+bn11dGlscyRvLnNocjY0X2hpPXNocjY0X2hpJDE7ZnVuY3Rpb24gc2hyNjRfbG8kMShlLHQsbil7dmFyIGE9ZTw8MzItbnx0Pj4+bjtyZXR1cm4gYT4+PjB9dXRpbHMkby5zaHI2NF9sbz1zaHI2NF9sbyQxO3ZhciBjb21tb24kNj17fSx1dGlscyRuPXV0aWxzJG8sYXNzZXJ0JGE9bWluaW1hbGlzdGljQXNzZXJ0O2Z1bmN0aW9uIEJsb2NrSGFzaCQ0KCl7dGhpcy5wZW5kaW5nPW51bGwsdGhpcy5wZW5kaW5nVG90YWw9MCx0aGlzLmJsb2NrU2l6ZT10aGlzLmNvbnN0cnVjdG9yLmJsb2NrU2l6ZSx0aGlzLm91dFNpemU9dGhpcy5jb25zdHJ1Y3Rvci5vdXRTaXplLHRoaXMuaG1hY1N0cmVuZ3RoPXRoaXMuY29uc3RydWN0b3IuaG1hY1N0cmVuZ3RoLHRoaXMucGFkTGVuZ3RoPXRoaXMuY29uc3RydWN0b3IucGFkTGVuZ3RoLzgsdGhpcy5lbmRpYW49ImJpZyIsdGhpcy5fZGVsdGE4PXRoaXMuYmxvY2tTaXplLzgsdGhpcy5fZGVsdGEzMj10aGlzLmJsb2NrU2l6ZS8zMn1jb21tb24kNi5CbG9ja0hhc2g9QmxvY2tIYXNoJDQsQmxvY2tIYXNoJDQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LG4pe2lmKHQ9dXRpbHMkbi50b0FycmF5KHQsbiksdGhpcy5wZW5kaW5nP3RoaXMucGVuZGluZz10aGlzLnBlbmRpbmcuY29uY2F0KHQpOnRoaXMucGVuZGluZz10LHRoaXMucGVuZGluZ1RvdGFsKz10Lmxlbmd0aCx0aGlzLnBlbmRpbmcubGVuZ3RoPj10aGlzLl9kZWx0YTgpe3Q9dGhpcy5wZW5kaW5nO3ZhciBhPXQubGVuZ3RoJXRoaXMuX2RlbHRhODt0aGlzLnBlbmRpbmc9dC5zbGljZSh0Lmxlbmd0aC1hLHQubGVuZ3RoKSx0aGlzLnBlbmRpbmcubGVuZ3RoPT09MCYmKHRoaXMucGVuZGluZz1udWxsKSx0PXV0aWxzJG4uam9pbjMyKHQsMCx0Lmxlbmd0aC1hLHRoaXMuZW5kaWFuKTtmb3IodmFyIHU9MDt1PHQubGVuZ3RoO3UrPXRoaXMuX2RlbHRhMzIpdGhpcy5fdXBkYXRlKHQsdSx1K3RoaXMuX2RlbHRhMzIpfXJldHVybiB0aGlzfSxCbG9ja0hhc2gkNC5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVwZGF0ZSh0aGlzLl9wYWQoKSksYXNzZXJ0JGEodGhpcy5wZW5kaW5nPT09bnVsbCksdGhpcy5fZGlnZXN0KHQpfSxCbG9ja0hhc2gkNC5wcm90b3R5cGUuX3BhZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGVuZGluZ1RvdGFsLG49dGhpcy5fZGVsdGE4LGE9bi0odCt0aGlzLnBhZExlbmd0aCklbix1PW5ldyBBcnJheShhK3RoaXMucGFkTGVuZ3RoKTt1WzBdPTEyODtmb3IodmFyIG89MTtvPGE7bysrKXVbb109MDtpZih0PDw9Myx0aGlzLmVuZGlhbj09PSJiaWciKXtmb3IodmFyIGg9ODtoPHRoaXMucGFkTGVuZ3RoO2grKyl1W28rK109MDt1W28rK109MCx1W28rK109MCx1W28rK109MCx1W28rK109MCx1W28rK109dD4+PjI0JjI1NSx1W28rK109dD4+PjE2JjI1NSx1W28rK109dD4+PjgmMjU1LHVbbysrXT10JjI1NX1lbHNlIGZvcih1W28rK109dCYyNTUsdVtvKytdPXQ+Pj44JjI1NSx1W28rK109dD4+PjE2JjI1NSx1W28rK109dD4+PjI0JjI1NSx1W28rK109MCx1W28rK109MCx1W28rK109MCx1W28rK109MCxoPTg7aDx0aGlzLnBhZExlbmd0aDtoKyspdVtvKytdPTA7cmV0dXJuIHV9O3ZhciBzaGE9e30sY29tbW9uJDU9e30sdXRpbHMkbT11dGlscyRvLHJvdHIzMj11dGlscyRtLnJvdHIzMjtmdW5jdGlvbiBmdF8xJDEoZSx0LG4sYSl7aWYoZT09PTApcmV0dXJuIGNoMzIkMSh0LG4sYSk7aWYoZT09PTF8fGU9PT0zKXJldHVybiBwMzIodCxuLGEpO2lmKGU9PT0yKXJldHVybiBtYWozMiQxKHQsbixhKX1jb21tb24kNS5mdF8xPWZ0XzEkMTtmdW5jdGlvbiBjaDMyJDEoZSx0LG4pe3JldHVybiBlJnRefmUmbn1jb21tb24kNS5jaDMyPWNoMzIkMTtmdW5jdGlvbiBtYWozMiQxKGUsdCxuKXtyZXR1cm4gZSZ0XmUmbl50Jm59Y29tbW9uJDUubWFqMzI9bWFqMzIkMTtmdW5jdGlvbiBwMzIoZSx0LG4pe3JldHVybiBlXnRebn1jb21tb24kNS5wMzI9cDMyO2Z1bmN0aW9uIHMwXzI1NiQxKGUpe3JldHVybiByb3RyMzIoZSwyKV5yb3RyMzIoZSwxMylecm90cjMyKGUsMjIpfWNvbW1vbiQ1LnMwXzI1Nj1zMF8yNTYkMTtmdW5jdGlvbiBzMV8yNTYkMShlKXtyZXR1cm4gcm90cjMyKGUsNilecm90cjMyKGUsMTEpXnJvdHIzMihlLDI1KX1jb21tb24kNS5zMV8yNTY9czFfMjU2JDE7ZnVuY3Rpb24gZzBfMjU2JDEoZSl7cmV0dXJuIHJvdHIzMihlLDcpXnJvdHIzMihlLDE4KV5lPj4+M31jb21tb24kNS5nMF8yNTY9ZzBfMjU2JDE7ZnVuY3Rpb24gZzFfMjU2JDEoZSl7cmV0dXJuIHJvdHIzMihlLDE3KV5yb3RyMzIoZSwxOSleZT4+PjEwfWNvbW1vbiQ1LmcxXzI1Nj1nMV8yNTYkMTt2YXIgdXRpbHMkbD11dGlscyRvLGNvbW1vbiQ0PWNvbW1vbiQ2LHNoYUNvbW1vbiQxPWNvbW1vbiQ1LHJvdGwzMiQxPXV0aWxzJGwucm90bDMyLHN1bTMyJDI9dXRpbHMkbC5zdW0zMixzdW0zMl81JDE9dXRpbHMkbC5zdW0zMl81LGZ0XzE9c2hhQ29tbW9uJDEuZnRfMSxCbG9ja0hhc2gkMz1jb21tb24kNC5CbG9ja0hhc2gsc2hhMV9LPVsxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsMjQwMDk1OTcwOCwzMzk1NDY5NzgyXTtmdW5jdGlvbiBTSEExKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgU0hBMSkpcmV0dXJuIG5ldyBTSEExO0Jsb2NrSGFzaCQzLmNhbGwodGhpcyksdGhpcy5oPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0sdGhpcy5XPW5ldyBBcnJheSg4MCl9dXRpbHMkbC5pbmhlcml0cyhTSEExLEJsb2NrSGFzaCQzKTt2YXIgXzE9U0hBMTtTSEExLmJsb2NrU2l6ZT01MTIsU0hBMS5vdXRTaXplPTE2MCxTSEExLmhtYWNTdHJlbmd0aD04MCxTSEExLnBhZExlbmd0aD02NCxTSEExLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKHQsbil7Zm9yKHZhciBhPXRoaXMuVyx1PTA7dTwxNjt1KyspYVt1XT10W24rdV07Zm9yKDt1PGEubGVuZ3RoO3UrKylhW3VdPXJvdGwzMiQxKGFbdS0zXV5hW3UtOF1eYVt1LTE0XV5hW3UtMTZdLDEpO3ZhciBvPXRoaXMuaFswXSxoPXRoaXMuaFsxXSxkPXRoaXMuaFsyXSx3PXRoaXMuaFszXSxfPXRoaXMuaFs0XTtmb3IodT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgYj1+fih1LzIwKSxNPXN1bTMyXzUkMShyb3RsMzIkMShvLDUpLGZ0XzEoYixoLGQsdyksXyxhW3VdLHNoYTFfS1tiXSk7Xz13LHc9ZCxkPXJvdGwzMiQxKGgsMzApLGg9byxvPU19dGhpcy5oWzBdPXN1bTMyJDIodGhpcy5oWzBdLG8pLHRoaXMuaFsxXT1zdW0zMiQyKHRoaXMuaFsxXSxoKSx0aGlzLmhbMl09c3VtMzIkMih0aGlzLmhbMl0sZCksdGhpcy5oWzNdPXN1bTMyJDIodGhpcy5oWzNdLHcpLHRoaXMuaFs0XT1zdW0zMiQyKHRoaXMuaFs0XSxfKX0sU0hBMS5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PSJoZXgiP3V0aWxzJGwudG9IZXgzMih0aGlzLmgsImJpZyIpOnV0aWxzJGwuc3BsaXQzMih0aGlzLmgsImJpZyIpfTt2YXIgdXRpbHMkaz11dGlscyRvLGNvbW1vbiQzPWNvbW1vbiQ2LHNoYUNvbW1vbj1jb21tb24kNSxhc3NlcnQkOT1taW5pbWFsaXN0aWNBc3NlcnQsc3VtMzIkMT11dGlscyRrLnN1bTMyLHN1bTMyXzQkMT11dGlscyRrLnN1bTMyXzQsc3VtMzJfNT11dGlscyRrLnN1bTMyXzUsY2gzMj1zaGFDb21tb24uY2gzMixtYWozMj1zaGFDb21tb24ubWFqMzIsczBfMjU2PXNoYUNvbW1vbi5zMF8yNTYsczFfMjU2PXNoYUNvbW1vbi5zMV8yNTYsZzBfMjU2PXNoYUNvbW1vbi5nMF8yNTYsZzFfMjU2PXNoYUNvbW1vbi5nMV8yNTYsQmxvY2tIYXNoJDI9Y29tbW9uJDMuQmxvY2tIYXNoLHNoYTI1Nl9LPVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdO2Z1bmN0aW9uIFNIQTI1NiQxKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgU0hBMjU2JDEpKXJldHVybiBuZXcgU0hBMjU2JDE7QmxvY2tIYXNoJDIuY2FsbCh0aGlzKSx0aGlzLmg9WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSx0aGlzLms9c2hhMjU2X0ssdGhpcy5XPW5ldyBBcnJheSg2NCl9dXRpbHMkay5pbmhlcml0cyhTSEEyNTYkMSxCbG9ja0hhc2gkMik7dmFyIF8yNTY9U0hBMjU2JDE7U0hBMjU2JDEuYmxvY2tTaXplPTUxMixTSEEyNTYkMS5vdXRTaXplPTI1NixTSEEyNTYkMS5obWFjU3RyZW5ndGg9MTkyLFNIQTI1NiQxLnBhZExlbmd0aD02NCxTSEEyNTYkMS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0LG4pe2Zvcih2YXIgYT10aGlzLlcsdT0wO3U8MTY7dSsrKWFbdV09dFtuK3VdO2Zvcig7dTxhLmxlbmd0aDt1KyspYVt1XT1zdW0zMl80JDEoZzFfMjU2KGFbdS0yXSksYVt1LTddLGcwXzI1NihhW3UtMTVdKSxhW3UtMTZdKTt2YXIgbz10aGlzLmhbMF0saD10aGlzLmhbMV0sZD10aGlzLmhbMl0sdz10aGlzLmhbM10sXz10aGlzLmhbNF0sYj10aGlzLmhbNV0sTT10aGlzLmhbNl0sTz10aGlzLmhbN107Zm9yKGFzc2VydCQ5KHRoaXMuay5sZW5ndGg9PT1hLmxlbmd0aCksdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgVD1zdW0zMl81KE8sczFfMjU2KF8pLGNoMzIoXyxiLE0pLHRoaXMua1t1XSxhW3VdKSxQPXN1bTMyJDEoczBfMjU2KG8pLG1hajMyKG8saCxkKSk7Tz1NLE09YixiPV8sXz1zdW0zMiQxKHcsVCksdz1kLGQ9aCxoPW8sbz1zdW0zMiQxKFQsUCl9dGhpcy5oWzBdPXN1bTMyJDEodGhpcy5oWzBdLG8pLHRoaXMuaFsxXT1zdW0zMiQxKHRoaXMuaFsxXSxoKSx0aGlzLmhbMl09c3VtMzIkMSh0aGlzLmhbMl0sZCksdGhpcy5oWzNdPXN1bTMyJDEodGhpcy5oWzNdLHcpLHRoaXMuaFs0XT1zdW0zMiQxKHRoaXMuaFs0XSxfKSx0aGlzLmhbNV09c3VtMzIkMSh0aGlzLmhbNV0sYiksdGhpcy5oWzZdPXN1bTMyJDEodGhpcy5oWzZdLE0pLHRoaXMuaFs3XT1zdW0zMiQxKHRoaXMuaFs3XSxPKX0sU0hBMjU2JDEucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0iaGV4Ij91dGlscyRrLnRvSGV4MzIodGhpcy5oLCJiaWciKTp1dGlscyRrLnNwbGl0MzIodGhpcy5oLCJiaWciKX07dmFyIHV0aWxzJGo9dXRpbHMkbyxTSEEyNTY9XzI1NjtmdW5jdGlvbiBTSEEyMjQoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBTSEEyMjQpKXJldHVybiBuZXcgU0hBMjI0O1NIQTI1Ni5jYWxsKHRoaXMpLHRoaXMuaD1bMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF19dXRpbHMkai5pbmhlcml0cyhTSEEyMjQsU0hBMjU2KTt2YXIgXzIyND1TSEEyMjQ7U0hBMjI0LmJsb2NrU2l6ZT01MTIsU0hBMjI0Lm91dFNpemU9MjI0LFNIQTIyNC5obWFjU3RyZW5ndGg9MTkyLFNIQTIyNC5wYWRMZW5ndGg9NjQsU0hBMjI0LnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0PT09ImhleCI/dXRpbHMkai50b0hleDMyKHRoaXMuaC5zbGljZSgwLDcpLCJiaWciKTp1dGlscyRqLnNwbGl0MzIodGhpcy5oLnNsaWNlKDAsNyksImJpZyIpfTt2YXIgdXRpbHMkaT11dGlscyRvLGNvbW1vbiQyPWNvbW1vbiQ2LGFzc2VydCQ4PW1pbmltYWxpc3RpY0Fzc2VydCxyb3RyNjRfaGk9dXRpbHMkaS5yb3RyNjRfaGkscm90cjY0X2xvPXV0aWxzJGkucm90cjY0X2xvLHNocjY0X2hpPXV0aWxzJGkuc2hyNjRfaGksc2hyNjRfbG89dXRpbHMkaS5zaHI2NF9sbyxzdW02ND11dGlscyRpLnN1bTY0LHN1bTY0X2hpPXV0aWxzJGkuc3VtNjRfaGksc3VtNjRfbG89dXRpbHMkaS5zdW02NF9sbyxzdW02NF80X2hpPXV0aWxzJGkuc3VtNjRfNF9oaSxzdW02NF80X2xvPXV0aWxzJGkuc3VtNjRfNF9sbyxzdW02NF81X2hpPXV0aWxzJGkuc3VtNjRfNV9oaSxzdW02NF81X2xvPXV0aWxzJGkuc3VtNjRfNV9sbyxCbG9ja0hhc2gkMT1jb21tb24kMi5CbG9ja0hhc2gsc2hhNTEyX0s9WzExMTYzNTI0MDgsMzYwOTc2NzQ1OCwxODk5NDQ3NDQxLDYwMjg5MTcyNSwzMDQ5MzIzNDcxLDM5NjQ0ODQzOTksMzkyMTAwOTU3MywyMTczMjk1NTQ4LDk2MTk4NzE2Myw0MDgxNjI4NDcyLDE1MDg5NzA5OTMsMzA1MzgzNDI2NSwyNDUzNjM1NzQ4LDI5Mzc2NzE1NzksMjg3MDc2MzIyMSwzNjY0NjA5NTYwLDM2MjQzODEwODAsMjczNDg4MzM5NCwzMTA1OTg0MDEsMTE2NDk5NjU0Miw2MDcyMjUyNzgsMTMyMzYxMDc2NCwxNDI2ODgxOTg3LDM1OTAzMDQ5OTQsMTkyNTA3ODM4OCw0MDY4MTgyMzgzLDIxNjIwNzgyMDYsOTkxMzM2MTEzLDI2MTQ4ODgxMDMsNjMzODAzMzE3LDMyNDgyMjI1ODAsMzQ3OTc3NDg2OCwzODM1MzkwNDAxLDI2NjY2MTM0NTgsNDAyMjIyNDc3NCw5NDQ3MTExMzksMjY0MzQ3MDc4LDIzNDEyNjI3NzMsNjA0ODA3NjI4LDIwMDc4MDA5MzMsNzcwMjU1OTgzLDE0OTU5OTA5MDEsMTI0OTE1MDEyMiwxODU2NDMxMjM1LDE1NTUwODE2OTIsMzE3NTIxODEzMiwxOTk2MDY0OTg2LDIxOTg5NTA4MzcsMjU1NDIyMDg4MiwzOTk5NzE5MzM5LDI4MjE4MzQzNDksNzY2Nzg0MDE2LDI5NTI5OTY4MDgsMjU2NjU5NDg3OSwzMjEwMzEzNjcxLDMyMDMzMzc5NTYsMzMzNjU3MTg5MSwxMDM0NDU3MDI2LDM1ODQ1Mjg3MTEsMjQ2Njk0ODkwMSwxMTM5MjY5OTMsMzc1ODMyNjM4MywzMzgyNDE4OTUsMTY4NzE3OTM2LDY2NjMwNzIwNSwxMTg4MTc5OTY0LDc3MzUyOTkxMiwxNTQ2MDQ1NzM0LDEyOTQ3NTczNzIsMTUyMjgwNTQ4NSwxMzk2MTgyMjkxLDI2NDM4MzM4MjMsMTY5NTE4MzcwMCwyMzQzNTI3MzkwLDE5ODY2NjEwNTEsMTAxNDQ3NzQ4MCwyMTc3MDI2MzUwLDEyMDY3NTkxNDIsMjQ1Njk1NjAzNywzNDQwNzc2MjcsMjczMDQ4NTkyMSwxMjkwODYzNDYwLDI4MjAzMDI0MTEsMzE1ODQ1NDI3MywzMjU5NzMwODAwLDM1MDU5NTI2NTcsMzM0NTc2NDc3MSwxMDYyMTcwMDgsMzUxNjA2NTgxNywzNjA2MDA4MzQ0LDM2MDAzNTI4MDQsMTQzMjcyNTc3Niw0MDk0NTcxOTA5LDE0NjcwMzE1OTQsMjc1NDIzMzQ0LDg1MTE2OTcyMCw0MzAyMjc3MzQsMzEwMDgyMzc1Miw1MDY5NDg2MTYsMTM2MzI1ODE5NSw2NTkwNjA1NTYsMzc1MDY4NTU5Myw4ODM5OTc4NzcsMzc4NTA1MDI4MCw5NTgxMzk1NzEsMzMxODMwNzQyNywxMzIyODIyMjE4LDM4MTI3MjM0MDMsMTUzNzAwMjA2MywyMDAzMDM0OTk1LDE3NDc4NzM3NzksMzYwMjAzNjg5OSwxOTU1NTYyMjIyLDE1NzU5OTAwMTIsMjAyNDEwNDgxNSwxMTI1NTkyOTI4LDIyMjc3MzA0NTIsMjcxNjkwNDMwNiwyMzYxODUyNDI0LDQ0Mjc3NjA0NCwyNDI4NDM2NDc0LDU5MzY5ODM0NCwyNzU2NzM0MTg3LDM3MzMxMTAyNDksMzIwNDAzMTQ3OSwyOTk5MzUxNTczLDMzMjkzMjUyOTgsMzgxNTkyMDQyNywzMzkxNTY5NjE0LDM5MjgzODM5MDAsMzUxNTI2NzI3MSw1NjYyODA3MTEsMzk0MDE4NzYwNiwzNDU0MDY5NTM0LDQxMTg2MzAyNzEsNDAwMDIzOTk5MiwxMTY0MTg0NzQsMTkxNDEzODU1NCwxNzQyOTI0MjEsMjczMTA1NTI3MCwyODkzODAzNTYsMzIwMzk5MzAwNiw0NjAzOTMyNjksMzIwNjIwMzE1LDY4NTQ3MTczMyw1ODc0OTY4MzYsODUyMTQyOTcxLDEwODY3OTI4NTEsMTAxNzAzNjI5OCwzNjU1NDMxMDAsMTEyNjAwMDU4MCwyNjE4Mjk3Njc2LDEyODgwMzM0NzAsMzQwOTg1NTE1OCwxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYsMTYwNzE2NzkxNSw5ODcxNjc0NjgsMTgxNjQwMjMxNiwxMjQ2MTg5NTkxXTtmdW5jdGlvbiBTSEE1MTIkMSgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFNIQTUxMiQxKSlyZXR1cm4gbmV3IFNIQTUxMiQxO0Jsb2NrSGFzaCQxLmNhbGwodGhpcyksdGhpcy5oPVsxNzc5MDMzNzAzLDQwODkyMzU3MjAsMzE0NDEzNDI3NywyMjI3ODczNTk1LDEwMTM5MDQyNDIsNDI3MTE3NTcyMywyNzczNDgwNzYyLDE1OTU3NTAxMjksMTM1OTg5MzExOSwyOTE3NTY1MTM3LDI2MDA4MjI5MjQsNzI1NTExMTk5LDUyODczNDYzNSw0MjE1Mzg5NTQ3LDE1NDE0NTkyMjUsMzI3MDMzMjA5XSx0aGlzLms9c2hhNTEyX0ssdGhpcy5XPW5ldyBBcnJheSgxNjApfXV0aWxzJGkuaW5oZXJpdHMoU0hBNTEyJDEsQmxvY2tIYXNoJDEpO3ZhciBfNTEyPVNIQTUxMiQxO1NIQTUxMiQxLmJsb2NrU2l6ZT0xMDI0LFNIQTUxMiQxLm91dFNpemU9NTEyLFNIQTUxMiQxLmhtYWNTdHJlbmd0aD0xOTIsU0hBNTEyJDEucGFkTGVuZ3RoPTEyOCxTSEE1MTIkMS5wcm90b3R5cGUuX3ByZXBhcmVCbG9jaz1mdW5jdGlvbih0LG4pe2Zvcih2YXIgYT10aGlzLlcsdT0wO3U8MzI7dSsrKWFbdV09dFtuK3VdO2Zvcig7dTxhLmxlbmd0aDt1Kz0yKXt2YXIgbz1nMV81MTJfaGkoYVt1LTRdLGFbdS0zXSksaD1nMV81MTJfbG8oYVt1LTRdLGFbdS0zXSksZD1hW3UtMTRdLHc9YVt1LTEzXSxfPWcwXzUxMl9oaShhW3UtMzBdLGFbdS0yOV0pLGI9ZzBfNTEyX2xvKGFbdS0zMF0sYVt1LTI5XSksTT1hW3UtMzJdLE89YVt1LTMxXTthW3VdPXN1bTY0XzRfaGkobyxoLGQsdyxfLGIsTSxPKSxhW3UrMV09c3VtNjRfNF9sbyhvLGgsZCx3LF8sYixNLE8pfX0sU0hBNTEyJDEucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24odCxuKXt0aGlzLl9wcmVwYXJlQmxvY2sodCxuKTt2YXIgYT10aGlzLlcsdT10aGlzLmhbMF0sbz10aGlzLmhbMV0saD10aGlzLmhbMl0sZD10aGlzLmhbM10sdz10aGlzLmhbNF0sXz10aGlzLmhbNV0sYj10aGlzLmhbNl0sTT10aGlzLmhbN10sTz10aGlzLmhbOF0sVD10aGlzLmhbOV0sUD10aGlzLmhbMTBdLEw9dGhpcy5oWzExXSx6PXRoaXMuaFsxMl0sSD10aGlzLmhbMTNdLFY9dGhpcy5oWzE0XSxhZT10aGlzLmhbMTVdO2Fzc2VydCQ4KHRoaXMuay5sZW5ndGg9PT1hLmxlbmd0aCk7Zm9yKHZhciBpZT0wO2llPGEubGVuZ3RoO2llKz0yKXt2YXIgUT1WLHJlPWFlLGNlPXMxXzUxMl9oaShPLFQpLGxlPXMxXzUxMl9sbyhPLFQpLG9lPWNoNjRfaGkoTyxULFAsTCx6KSx5ZT1jaDY0X2xvKE8sVCxQLEwseixIKSxYPXRoaXMua1tpZV0sJD10aGlzLmtbaWUrMV0sbT1hW2llXSxsPWFbaWUrMV0sdj1zdW02NF81X2hpKFEscmUsY2UsbGUsb2UseWUsWCwkLG0sbCksRT1zdW02NF81X2xvKFEscmUsY2UsbGUsb2UseWUsWCwkLG0sbCk7UT1zMF81MTJfaGkodSxvKSxyZT1zMF81MTJfbG8odSxvKSxjZT1tYWo2NF9oaSh1LG8saCxkLHcpLGxlPW1hajY0X2xvKHUsbyxoLGQsdyxfKTt2YXIgUz1zdW02NF9oaShRLHJlLGNlLGxlKSxCPXN1bTY0X2xvKFEscmUsY2UsbGUpO1Y9eixhZT1ILHo9UCxIPUwsUD1PLEw9VCxPPXN1bTY0X2hpKGIsTSx2LEUpLFQ9c3VtNjRfbG8oTSxNLHYsRSksYj13LE09Xyx3PWgsXz1kLGg9dSxkPW8sdT1zdW02NF9oaSh2LEUsUyxCKSxvPXN1bTY0X2xvKHYsRSxTLEIpfXN1bTY0KHRoaXMuaCwwLHUsbyksc3VtNjQodGhpcy5oLDIsaCxkKSxzdW02NCh0aGlzLmgsNCx3LF8pLHN1bTY0KHRoaXMuaCw2LGIsTSksc3VtNjQodGhpcy5oLDgsTyxUKSxzdW02NCh0aGlzLmgsMTAsUCxMKSxzdW02NCh0aGlzLmgsMTIseixIKSxzdW02NCh0aGlzLmgsMTQsVixhZSl9LFNIQTUxMiQxLnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0PT09ImhleCI/dXRpbHMkaS50b0hleDMyKHRoaXMuaCwiYmlnIik6dXRpbHMkaS5zcGxpdDMyKHRoaXMuaCwiYmlnIil9O2Z1bmN0aW9uIGNoNjRfaGkoZSx0LG4sYSx1KXt2YXIgbz1lJm5efmUmdTtyZXR1cm4gbzwwJiYobys9NDI5NDk2NzI5Niksb31mdW5jdGlvbiBjaDY0X2xvKGUsdCxuLGEsdSxvKXt2YXIgaD10JmFefnQmbztyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBtYWo2NF9oaShlLHQsbixhLHUpe3ZhciBvPWUmbl5lJnVebiZ1O3JldHVybiBvPDAmJihvKz00Mjk0OTY3Mjk2KSxvfWZ1bmN0aW9uIG1hajY0X2xvKGUsdCxuLGEsdSxvKXt2YXIgaD10JmFedCZvXmEmbztyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBzMF81MTJfaGkoZSx0KXt2YXIgbj1yb3RyNjRfaGkoZSx0LDI4KSxhPXJvdHI2NF9oaSh0LGUsMiksdT1yb3RyNjRfaGkodCxlLDcpLG89bl5hXnU7cmV0dXJuIG88MCYmKG8rPTQyOTQ5NjcyOTYpLG99ZnVuY3Rpb24gczBfNTEyX2xvKGUsdCl7dmFyIG49cm90cjY0X2xvKGUsdCwyOCksYT1yb3RyNjRfbG8odCxlLDIpLHU9cm90cjY0X2xvKHQsZSw3KSxvPW5eYV51O3JldHVybiBvPDAmJihvKz00Mjk0OTY3Mjk2KSxvfWZ1bmN0aW9uIHMxXzUxMl9oaShlLHQpe3ZhciBuPXJvdHI2NF9oaShlLHQsMTQpLGE9cm90cjY0X2hpKGUsdCwxOCksdT1yb3RyNjRfaGkodCxlLDkpLG89bl5hXnU7cmV0dXJuIG88MCYmKG8rPTQyOTQ5NjcyOTYpLG99ZnVuY3Rpb24gczFfNTEyX2xvKGUsdCl7dmFyIG49cm90cjY0X2xvKGUsdCwxNCksYT1yb3RyNjRfbG8oZSx0LDE4KSx1PXJvdHI2NF9sbyh0LGUsOSksbz1uXmFedTtyZXR1cm4gbzwwJiYobys9NDI5NDk2NzI5Niksb31mdW5jdGlvbiBnMF81MTJfaGkoZSx0KXt2YXIgbj1yb3RyNjRfaGkoZSx0LDEpLGE9cm90cjY0X2hpKGUsdCw4KSx1PXNocjY0X2hpKGUsdCw3KSxvPW5eYV51O3JldHVybiBvPDAmJihvKz00Mjk0OTY3Mjk2KSxvfWZ1bmN0aW9uIGcwXzUxMl9sbyhlLHQpe3ZhciBuPXJvdHI2NF9sbyhlLHQsMSksYT1yb3RyNjRfbG8oZSx0LDgpLHU9c2hyNjRfbG8oZSx0LDcpLG89bl5hXnU7cmV0dXJuIG88MCYmKG8rPTQyOTQ5NjcyOTYpLG99ZnVuY3Rpb24gZzFfNTEyX2hpKGUsdCl7dmFyIG49cm90cjY0X2hpKGUsdCwxOSksYT1yb3RyNjRfaGkodCxlLDI5KSx1PXNocjY0X2hpKGUsdCw2KSxvPW5eYV51O3JldHVybiBvPDAmJihvKz00Mjk0OTY3Mjk2KSxvfWZ1bmN0aW9uIGcxXzUxMl9sbyhlLHQpe3ZhciBuPXJvdHI2NF9sbyhlLHQsMTkpLGE9cm90cjY0X2xvKHQsZSwyOSksdT1zaHI2NF9sbyhlLHQsNiksbz1uXmFedTtyZXR1cm4gbzwwJiYobys9NDI5NDk2NzI5Niksb312YXIgdXRpbHMkaD11dGlscyRvLFNIQTUxMj1fNTEyO2Z1bmN0aW9uIFNIQTM4NCgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFNIQTM4NCkpcmV0dXJuIG5ldyBTSEEzODQ7U0hBNTEyLmNhbGwodGhpcyksdGhpcy5oPVszNDE4MDcwMzY1LDMyMzgzNzEwMzIsMTY1NDI3MDI1MCw5MTQxNTA2NjMsMjQzODUyOTM3MCw4MTI3MDI5OTksMzU1NDYyMzYwLDQxNDQ5MTI2OTcsMTczMTQwNTQxNSw0MjkwNzc1ODU3LDIzOTQxODAyMzEsMTc1MDYwMzAyNSwzNjc1MDA4NTI1LDE2OTQwNzY4MzksMTIwMzA2MjgxMywzMjA0MDc1NDI4XX11dGlscyRoLmluaGVyaXRzKFNIQTM4NCxTSEE1MTIpO3ZhciBfMzg0PVNIQTM4NDtTSEEzODQuYmxvY2tTaXplPTEwMjQsU0hBMzg0Lm91dFNpemU9Mzg0LFNIQTM4NC5obWFjU3RyZW5ndGg9MTkyLFNIQTM4NC5wYWRMZW5ndGg9MTI4LFNIQTM4NC5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PSJoZXgiP3V0aWxzJGgudG9IZXgzMih0aGlzLmguc2xpY2UoMCwxMiksImJpZyIpOnV0aWxzJGguc3BsaXQzMih0aGlzLmguc2xpY2UoMCwxMiksImJpZyIpfSxzaGEuc2hhMT1fMSxzaGEuc2hhMjI0PV8yMjQsc2hhLnNoYTI1Nj1fMjU2LHNoYS5zaGEzODQ9XzM4NCxzaGEuc2hhNTEyPV81MTI7dmFyIHJpcGVtZD17fSx1dGlscyRnPXV0aWxzJG8sY29tbW9uJDE9Y29tbW9uJDYscm90bDMyPXV0aWxzJGcucm90bDMyLHN1bTMyPXV0aWxzJGcuc3VtMzIsc3VtMzJfMz11dGlscyRnLnN1bTMyXzMsc3VtMzJfND11dGlscyRnLnN1bTMyXzQsQmxvY2tIYXNoPWNvbW1vbiQxLkJsb2NrSGFzaDtmdW5jdGlvbiBSSVBFTUQxNjAoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBSSVBFTUQxNjApKXJldHVybiBuZXcgUklQRU1EMTYwO0Jsb2NrSGFzaC5jYWxsKHRoaXMpLHRoaXMuaD1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdLHRoaXMuZW5kaWFuPSJsaXR0bGUifXV0aWxzJGcuaW5oZXJpdHMoUklQRU1EMTYwLEJsb2NrSGFzaCkscmlwZW1kLnJpcGVtZDE2MD1SSVBFTUQxNjAsUklQRU1EMTYwLmJsb2NrU2l6ZT01MTIsUklQRU1EMTYwLm91dFNpemU9MTYwLFJJUEVNRDE2MC5obWFjU3RyZW5ndGg9MTkyLFJJUEVNRDE2MC5wYWRMZW5ndGg9NjQsUklQRU1EMTYwLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKHQsbil7Zm9yKHZhciBhPXRoaXMuaFswXSx1PXRoaXMuaFsxXSxvPXRoaXMuaFsyXSxoPXRoaXMuaFszXSxkPXRoaXMuaFs0XSx3PWEsXz11LGI9byxNPWgsTz1kLFQ9MDtUPDgwO1QrKyl7dmFyIFA9c3VtMzIocm90bDMyKHN1bTMyXzQoYSxmKFQsdSxvLGgpLHRbcltUXStuXSxLKFQpKSxzW1RdKSxkKTthPWQsZD1oLGg9cm90bDMyKG8sMTApLG89dSx1PVAsUD1zdW0zMihyb3RsMzIoc3VtMzJfNCh3LGYoNzktVCxfLGIsTSksdFtyaFtUXStuXSxLaChUKSksc2hbVF0pLE8pLHc9TyxPPU0sTT1yb3RsMzIoYiwxMCksYj1fLF89UH1QPXN1bTMyXzModGhpcy5oWzFdLG8sTSksdGhpcy5oWzFdPXN1bTMyXzModGhpcy5oWzJdLGgsTyksdGhpcy5oWzJdPXN1bTMyXzModGhpcy5oWzNdLGQsdyksdGhpcy5oWzNdPXN1bTMyXzModGhpcy5oWzRdLGEsXyksdGhpcy5oWzRdPXN1bTMyXzModGhpcy5oWzBdLHUsYiksdGhpcy5oWzBdPVB9LFJJUEVNRDE2MC5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PSJoZXgiP3V0aWxzJGcudG9IZXgzMih0aGlzLmgsImxpdHRsZSIpOnV0aWxzJGcuc3BsaXQzMih0aGlzLmgsImxpdHRsZSIpfTtmdW5jdGlvbiBmKGUsdCxuLGEpe3JldHVybiBlPD0xNT90Xm5eYTplPD0zMT90Jm58fnQmYTplPD00Nz8odHx+bileYTplPD02Mz90JmF8biZ+YTp0XihufH5hKX1mdW5jdGlvbiBLKGUpe3JldHVybiBlPD0xNT8wOmU8PTMxPzE1MTg1MDAyNDk6ZTw9NDc/MTg1OTc3NTM5MzplPD02Mz8yNDAwOTU5NzA4OjI4NDA4NTM4Mzh9ZnVuY3Rpb24gS2goZSl7cmV0dXJuIGU8PTE1PzEzNTI4Mjk5MjY6ZTw9MzE/MTU0ODYwMzY4NDplPD00Nz8xODM2MDcyNjkxOmU8PTYzPzIwNTM5OTQyMTc6MH12YXIgcj1bMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSw3LDQsMTMsMSwxMCw2LDE1LDMsMTIsMCw5LDUsMiwxNCwxMSw4LDMsMTAsMTQsNCw5LDE1LDgsMSwyLDcsMCw2LDEzLDExLDUsMTIsMSw5LDExLDEwLDAsOCwxMiw0LDEzLDMsNywxNSwxNCw1LDYsMiw0LDAsNSw5LDcsMTIsMiwxMCwxNCwxLDMsOCwxMSw2LDE1LDEzXSxyaD1bNSwxNCw3LDAsOSwyLDExLDQsMTMsNiwxNSw4LDEsMTAsMywxMiw2LDExLDMsNywwLDEzLDUsMTAsMTQsMTUsOCwxMiw0LDksMSwyLDE1LDUsMSwzLDcsMTQsNiw5LDExLDgsMTIsMiwxMCwwLDQsMTMsOCw2LDQsMSwzLDExLDE1LDAsNSwxMiwyLDEzLDksNywxMCwxNCwxMiwxNSwxMCw0LDEsNSw4LDcsNiwyLDEzLDE0LDAsMyw5LDExXSxzPVsxMSwxNCwxNSwxMiw1LDgsNyw5LDExLDEzLDE0LDE1LDYsNyw5LDgsNyw2LDgsMTMsMTEsOSw3LDE1LDcsMTIsMTUsOSwxMSw3LDEzLDEyLDExLDEzLDYsNywxNCw5LDEzLDE1LDE0LDgsMTMsNiw1LDEyLDcsNSwxMSwxMiwxNCwxNSwxNCwxNSw5LDgsOSwxNCw1LDYsOCw2LDUsMTIsOSwxNSw1LDExLDYsOCwxMywxMiw1LDEyLDEzLDE0LDExLDgsNSw2XSxzaD1bOCw5LDksMTEsMTMsMTUsMTUsNSw3LDcsOCwxMSwxNCwxNCwxMiw2LDksMTMsMTUsNywxMiw4LDksMTEsNyw3LDEyLDcsNiwxNSwxMywxMSw5LDcsMTUsMTEsOCw2LDYsMTQsMTIsMTMsNSwxNCwxMywxMyw3LDUsMTUsNSw4LDExLDE0LDE0LDYsMTQsNiw5LDEyLDksMTIsNSwxNSw4LDgsNSwxMiw5LDEyLDUsMTQsNiw4LDEzLDYsNSwxNSwxMywxMSwxMV0sdXRpbHMkZj11dGlscyRvLGFzc2VydCQ3PW1pbmltYWxpc3RpY0Fzc2VydDtmdW5jdGlvbiBIbWFjKGUsdCxuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBIbWFjKSlyZXR1cm4gbmV3IEhtYWMoZSx0LG4pO3RoaXMuSGFzaD1lLHRoaXMuYmxvY2tTaXplPWUuYmxvY2tTaXplLzgsdGhpcy5vdXRTaXplPWUub3V0U2l6ZS84LHRoaXMuaW5uZXI9bnVsbCx0aGlzLm91dGVyPW51bGwsdGhpcy5faW5pdCh1dGlscyRmLnRvQXJyYXkodCxuKSl9dmFyIGhtYWM9SG1hYztIbWFjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0KXt0Lmxlbmd0aD50aGlzLmJsb2NrU2l6ZSYmKHQ9bmV3IHRoaXMuSGFzaCgpLnVwZGF0ZSh0KS5kaWdlc3QoKSksYXNzZXJ0JDcodC5sZW5ndGg8PXRoaXMuYmxvY2tTaXplKTtmb3IodmFyIG49dC5sZW5ndGg7bjx0aGlzLmJsb2NrU2l6ZTtuKyspdC5wdXNoKDApO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXV49NTQ7Zm9yKHRoaXMuaW5uZXI9bmV3IHRoaXMuSGFzaCgpLnVwZGF0ZSh0KSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXV49MTA2O3RoaXMub3V0ZXI9bmV3IHRoaXMuSGFzaCgpLnVwZGF0ZSh0KX0sSG1hYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMuaW5uZXIudXBkYXRlKHQsbiksdGhpc30sSG1hYy5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm91dGVyLnVwZGF0ZSh0aGlzLmlubmVyLmRpZ2VzdCgpKSx0aGlzLm91dGVyLmRpZ2VzdCh0KX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0LnV0aWxzPXV0aWxzJG8sdC5jb21tb249Y29tbW9uJDYsdC5zaGE9c2hhLHQucmlwZW1kPXJpcGVtZCx0LmhtYWM9aG1hYyx0LnNoYTE9dC5zaGEuc2hhMSx0LnNoYTI1Nj10LnNoYS5zaGEyNTYsdC5zaGEyMjQ9dC5zaGEuc2hhMjI0LHQuc2hhMzg0PXQuc2hhLnNoYTM4NCx0LnNoYTUxMj10LnNoYS5zaGE1MTIsdC5yaXBlbWQxNjA9dC5yaXBlbWQucmlwZW1kMTYwfShoYXNoJDIpO3ZhciBzZWNwMjU2azEsaGFzUmVxdWlyZWRTZWNwMjU2azE7ZnVuY3Rpb24gcmVxdWlyZVNlY3AyNTZrMSgpe3JldHVybiBoYXNSZXF1aXJlZFNlY3AyNTZrMXx8KGhhc1JlcXVpcmVkU2VjcDI1NmsxPTEsc2VjcDI1NmsxPXtkb3VibGVzOntzdGVwOjQscG9pbnRzOltbImU2MGZjZTkzYjU5ZTllYzUzMDExYWFiYzIxYzIzZTk3YjJhMzEzNjliODdhNWFlOWM0NGVlODllMmE2ZGVjMGEiLCJmN2UzNTA3Mzk5ZTU5NTkyOWRiOTlmMzRmNTc5MzcxMDEyOTY4OTFlNDRkMjNmMGJlMWYzMmNjZTY5NjE2ODIxIl0sWyI4MjgyMjYzMjEyYzYwOWQ5ZWEyYTZlM2UxNzJkZTIzOGQ4YzM5Y2FiZDVhYzFjYTEwNjQ2ZTIzZmQ1ZjUxNTA4IiwiMTFmOGE4MDk4NTU3ZGZlNDVlODI1NmU4MzBiNjBhY2U2MmQ2MTNhYzJmN2IxN2JlZDMxYjZlYWZmNmUyNmNhZiJdLFsiMTc1ZTE1OWY3MjhiODY1YTcyZjk5Y2M2YzZmYzg0NmRlMGI5MzgzM2ZkMjIyMmVkNzNmY2U1YjU1MWU1YjczOSIsImQzNTA2ZTBkOWUzYzc5ZWJhNGVmOTdhNTFmZjcxZjVlYWNiNTk1NWFkZDI0MzQ1YzZlZmE2ZmZlZTlmZWQ2OTUiXSxbIjM2M2Q5MGQ0NDdiMDBjOWM5OWNlYWMwNWI2MjYyZWUwNTM0NDFjN2U1NTU1MmZmZTUyNmJhZDhmODNmZjQ2NDAiLCI0ZTI3M2FkZmM3MzIyMjE5NTNiNDQ1Mzk3ZjMzNjMxNDViOWE4OTAwODE5OWVjYjYyMDAzYzdmM2JlZTlkZTkiXSxbIjhiNGI1ZjE2NWRmM2MyYmU4YzYyNDRiNWI3NDU2Mzg4NDNlNGE3ODFhMTViY2QxYjY5Zjc5YTU1ZGZmZGY4MGMiLCI0YWFkMGE2ZjY4ZDMwOGI0YjNmYmQ3ODEzYWIwZGEwNGY5ZTMzNjU0NjE2MmVlNTZiM2VmZjBjNjVmZDRmZDM2Il0sWyI3MjNjYmFhNmU1ZGI5OTZkNmJmNzcxYzAwYmQ1NDhjN2I3MDBkYmZmYTZjMGU3N2JjYjYxMTU5MjUyMzJmY2RhIiwiOTZlODY3YjU1OTVjYzQ5OGE5MjExMzc0ODg4MjRkNmUyNjYwYTA2NTM3Nzk0OTQ4MDFkYzA2OWQ5ZWIzOWY1ZiJdLFsiZWViZmE0ZDQ5M2JlYmY5OGJhNWZlZWM4MTJjMmQzYjUwOTQ3OTYxMjM3YTkxOTgzOWE1MzNlY2EwZTdkZDdmYSIsIjVkOWE4Y2EzOTcwZWYwZjI2OWVlN2VkYWYxNzgwODlkOWFlNGNkYzNhNzExZjcxMmRkZmQ0ZmRhZTFkZTg5OTkiXSxbIjEwMGY0NGRhNjk2ZTcxNjcyNzkxZDBhMDliN2JkZTQ1OWYxMjE1YTI5YjNjMDNiZmVmZDc4MzViMzlhNDhkYjAiLCJjZGQ5ZTEzMTkyYTAwYjc3MmVjOGYzMzAwYzA5MDY2NmI3ZmY0YTE4ZmY1MTk1YWMwZmJkNWNkNjJiYzY1YTA5Il0sWyJlMTAzMWJlMjYyYzdlZDFiMWRjOTIyN2E0YTA0YzAxN2E3N2Y4ZDQ0NjRmM2IzODUyYzhhY2RlNmU1MzRmZDJkIiwiOWQ3MDYxOTI4OTQwNDA1ZTZiYjZhNDE3NjU5NzUzNWFmMjkyZGQ0MTllMWNlZDc5YTQ0ZjE4ZjI5NDU2YTAwZCJdLFsiZmVlYTZjYWU0NmQ1NWI1MzBhYzI4MzlmMTQzYmQ3ZWM1Y2Y4YjI2NmE0MWQ2YWY1MmQ1ZTY4OGQ5MDk0Njk2ZCIsImU1N2M2YjZjOTdkY2UxYmFiMDZlNGUxMmJmM2VjZDVjOTgxYzg5NTdjYzQxNDQyZDMxNTVkZWJmMTgwOTAwODgiXSxbImRhNjdhOTFkOTEwNDljZGNiMzY3YmU0YmU2ZmZjYTNjZmVlZDY1N2Q4MDg1ODNkZTMzZmE5NzhiYzFlYzZjYjEiLCI5YmFjYWEzNTQ4MTY0MmJjNDFmNDYzZjdlYzk3ODBlNWRlYzdhZGM1MDhmNzQwYTE3ZTllYThlMjdhNjhiZTFkIl0sWyI1MzkwNGZhYTBiMzM0Y2RkYTZlMDAwOTM1ZWYyMjE1MWVjMDhkMGY3YmIxMTA2OWY1NzU0NWNjYzFhMzdiN2MwIiwiNWJjMDg3ZDBiYzgwMTA2ZDg4YzllY2NhYzIwZDNjMWMxMzk5OTk4MWUxNDQzNDY5OWRjYjA5NmIwMjI3NzFjOCJdLFsiOGU3YmNkMGJkMzU5ODNhNzcxOWNjYTc3NjRjYTkwNjc3OWI1M2EwNDNhOWI4YmNhZWZmOTU5ZjQzYWQ4NjA0NyIsIjEwYjc3NzBiMmEzZGE0YjM5NDAzMTA0MjBjYTk1MTQ1NzllODhlMmU0N2ZkNjhiM2VhMTAwNDdlODQ2MDM3MmEiXSxbIjM4NWVlZDM0YzFjZGZmMjFlNmQwODE4Njg5YjgxYmRlNzFhN2Y0ZjE4Mzk3ZTY2OTBhODQxZTE1OTljNDM4NjIiLCIyODNiZWJjM2U4ZWEyM2Y1NjcwMWRlMTllOWViZjQ1NzZiMzA0ZWVjMjA4NmRjOGNjMDQ1OGZlNTU0MmU1NDUzIl0sWyI2ZjlkOWI4MDNlY2YxOTE2MzdjNzNhNDQxM2RmYTE4MGZkZGY4NGE1OTQ3ZmJjOWM2MDZlZDg2YzNmYWMzYTciLCI3YzgwYzY4ZTYwMzA1OWJhNjliOGUyYTMwZTQ1YzRkNDdlYTRkZDJmNWMyODEwMDJkODY4OTA2MDNhODQyMTYwIl0sWyIzMzIyZDQwMTI0M2M0ZTI1ODJhMjE0N2MxMDRkNmVjYmY3NzRkMTYzZGIwZjVlNTMxM2I3ZTBlNzQyZDBlNmJkIiwiNTZlNzA3OTdlOTY2NGVmNWJmYjAxOWJjNGRkYWY5YjcyODA1ZjYzZWEyODczYWY2MjRmM2EyZTk2YzI4YjJhMCJdLFsiODU2NzJjN2QyZGUwYjdkYTJiZDE3NzBkODk2NjU4Njg3NDFiM2Y5YWY3NjQzMzk3NzIxZDc0ZDI4MTM0YWI4MyIsIjdjNDgxYjliNWI0M2IyZWI2Mzc0MDQ5YmZhNjJjMmU1ZTc3ZjE3ZmNjNTI5OGY0NGM4ZTMwOTRmNzkwMzEzYTYiXSxbIjk0OGJmODA5YjE5ODhhNDZiMDZjOWYxOTE5NDEzYjEwZjkyMjZjNjBmNjY4ODMyZmZkOTU5YWY2MGM4MmEwYSIsIjUzYTU2Mjg1NmRjYjY2NDZkYzZiNzRjNWQxYzM0MThjNmQ0ZGZmMDhjOTdjZDJiZWQ0Y2I3Zjg4ZDhjOGU1ODkiXSxbIjYyNjBjZTdmNDYxODAxYzM0ZjA2N2NlMGYwMjg3M2E4ZjFiMGU0NGRmYzY5NzUyYWNjZWNkODE5ZjM4ZmQ4ZTgiLCJiYzJkYTgyYjZmYTViNTcxYTdmMDkwNDk3NzZhMWVmN2VjZDI5MjIzODA1MWMxOThjMWE4NGU5NWIyYjRhZTE3Il0sWyJlNTAzN2RlMGFmYzFkOGQ0M2Q4MzQ4NDE0YmJmNDEwMzA0M2VjOGY1NzViZmRjNDMyOTUzY2M4ZDIwMzdmYTJkIiwiNDU3MTUzNGJhYTk0ZDNiNWY5Zjk4ZDA5ZmI5OTBiZGRiZDVmNWIwM2VjNDgxZjEwZTBlNWRjODQxZDc1NWJkYSJdLFsiZTA2MzcyYjBmNGEyMDdhZGY1ZWE5MDVlOGYxNzcxYjRlN2U4ZGJkMWM2YTZjNWI3MjU4NjZhMGFlNGZjZTcyNSIsIjdhOTA4OTc0YmNlMThjZmUxMmEyN2JiMmFkNWE0ODhjZDc0ODRhNzc4NzEwNDg3MGIyNzAzNGY5NGVlZTMxZGQiXSxbIjIxM2M3YTcxNWNkNWQ0NTM1OGQwYmJmOWRjMGNlMDIyMDRiMTBiZGRlMmEzZjU4NTQwYWQ2OTA4ZDA1NTk3NTQiLCI0YjZkYWQwYjVhZTQ2MjUwNzAxM2FkMDYyNDViYTE5MGJiNDg1MGY1ZjM2YTdlZWRkZmYyYzI3NTM0YjQ1OGYyIl0sWyI0ZTdjMjcyYTdhZjRiMzRlOGRiYjkzNTJhNTQxOWE4N2UyODM4YzcwYWRjNjJjZGRmMGNjM2EzYjA4ZmJkNTNjIiwiMTc3NDljNzY2YzlkMGIxOGUxNmZkMDlmNmRlZjY4MWI1MzBiOTYxNGJmZjdkZDMzZTBiMzk0MTgxN2RjYWFlNiJdLFsiZmVhNzRlM2RiZTc3OGIxYjEwZjIzOGFkNjE2ODZhYTVjNzZlM2RiMmJlNDMwNTc2MzI0MjdlMjg0MGZiMjdiNiIsIjZlMDU2OGRiOWIwYjEzMjk3Y2Y2NzRkZWNjYjZhZjkzMTI2YjU5NmI5NzNmN2I3NzcwMWQzZGI3ZjIzY2I5NmYiXSxbIjc2ZTY0MTEzZjY3N2NmMGUxMGEyNTcwZDU5OTk2OGQzMTU0NGUxNzliNzYwNDMyOTUyYzAyYTQ0MTdiZGRlMzkiLCJjOTBkZGY4ZGVlNGU5NWNmNTc3MDY2ZDcwNjgxZjBkMzVlMmEzM2QyYjU2ZDIwMzJiNGIxNzUyZDE5MDFhYzAxIl0sWyJjNzM4YzU2YjAzYjJhYmUxZTgyODFiYWE3NDNmOGY5YThmN2NjNjQzZGYyNmNiZWUzYWIxNTAyNDJiY2JiODkxIiwiODkzZmI1Nzg5NTFhZDI1MzdmNzE4ZjJlYWNiZmJiYmI4MjMxNGVlZjc4ODBjZmU5MTdlNzM1ZDk2OTlhODRjMyJdLFsiZDg5NTYyNjU0OGI2NWI4MWUyNjRjNzYzN2M5NzI4NzdkMWQ3MmU1ZjNhOTI1MDE0MzcyZTlmNjU4OGY2YzE0YiIsImZlYmZhYTM4ZjJiYzdlYWU3MjhlYzYwODE4YzM0MGViMDM0MjhkNjMyYmIwNjdlMTc5MzYzZWQ3NWQ3ZDk5MWYiXSxbImI4ZGE5NDAzMmE5NTc1MThlYjBmNjQzMzU3MWU4NzYxY2VmZmM3MzY5M2U4NGVkZDQ5MTUwYTU2NGY2NzZlMDMiLCIyODA0ZGZhNDQ4MDVhMWU0ZDdjOTljYzk3NjI4MDhiMDkyY2M1ODRkOTVmZjNiNTExNDg4ZTRlNzRlZmRmNmU3Il0sWyJlODBmZWExNDQ0MWZiMzNhN2Q4YWRhYjk0NzVkN2ZhYjIwMTllZmZiNTE1NmE3OTJmMWExMTc3OGUzYzBkZjVkIiwiZWVkMWRlN2Y2MzhlMDA3NzFlODk3NjhjYTNjYTk0NDcyZDE1NWU4MGFmMzIyZWE5ZmNiNDI5MWI2YWM5ZWM3OCJdLFsiYTMwMTY5N2JkZmNkNzA0MzEzYmE0OGU1MWQ1Njc1NDNmMmExODIwMzFlZmQ2OTE1ZGRjMDdiYmNjNGUxNjA3MCIsIjczNzBmOTFjZmI2N2U0ZjUwODE4MDlmYTI1ZDQwZjliMTczNWRiZjdjMGExMWExMzBjMGQxYTA0MWUxNzdlYTEiXSxbIjkwYWQ4NWIzODlkNmI5MzY0NjNmOWQwNTEyNjc4ZGUyMDhjYzMzMGIxMTMwN2ZmZmFiN2FjNjNlM2ZiMDRlZDQiLCJlNTA3YTM2MjBhMzgyNjFhZmZkY2JkOTQyNzIyMmI4MzlhZWZhYmUxNTgyODk0ZDk5MWQ0ZDQ4Y2I2ZWYxNTAiXSxbIjhmNjhiOWQyZjYzYjVmMzM5MjM5YzFhZDk4MWYxNjJlZTg4YzU2Nzg3MjNlYTMzNTFiN2I0NDRjOWVjNGMwZGEiLCI2NjJhOWYyZGJhMDYzOTg2ZGUxZDkwYzJiNmJlMjE1ZGJiZWEyY2ZlOTU1MTBiZmRmMjNjYmY3OTUwMWZmZjgyIl0sWyJlNGYzZmIwMTc2YWY4NWQ2NWZmOTlmZjkxOThjMzYwOTFmNDhlODY1MDM2ODFlM2U2Njg2ZmQ1MDUzMjMxZTExIiwiMWU2MzYzM2FkMGVmNGYxYzE2NjFhNmQwZWEwMmI3Mjg2Y2M3ZTc0ZWM5NTFkMWM5ODIyYzM4NTc2ZmViNzNiYyJdLFsiOGMwMGZhOWIxOGViZjMzMWViOTYxNTM3YTQ1YTQyNjZjNzAzNGYyZjBkNGUxZDA3MTZmYjZlYWUyMGVhZTI5ZSIsImVmYTQ3MjY3ZmVhNTIxYTFhOWRjMzQzYTM3MzZjOTc0YzJmYWRhZmE4MWUzNmM1NGU3ZDJhNGM2NjcwMjQxNGIiXSxbImU3YTI2Y2U2OWRkNDgyOWYzZTEwY2VjMGE5ZTk4ZWQzMTQzZDA4NGYzMDhiOTJjMDk5N2ZkZGZjNjBjYjNlNDEiLCIyYTc1OGUzMDBmYTc5ODRiNDcxYjAwNmExYWFmYmIxOGQwYTZiMmMwNDIwZTgzZTIwZThhOTQyMWNmMmNmZDUxIl0sWyJiNjQ1OWUwZWUzNjYyZWM4ZDIzNTQwYzIyM2JjYmRjNTcxY2JjYjk2N2Q3OTQyNGYzY2YyOWViM2RlNmI4MGVmIiwiNjdjODc2ZDA2ZjNlMDZkZTFkYWRmMTZlNTY2MWRiM2M0YjNhZTZkNDhlMzViMmZmMzBiZjBiNjFhNzFiYTQ1Il0sWyJkNjhhODBjODI4MGJiODQwNzkzMjM0YWExMThmMDYyMzFkNmYxZmM2N2U3M2M1YTVkZWRhMGY1YjQ5Njk0M2U4IiwiZGI4YmE5ZmZmNGI1ODZkMDBjNGIxZjkxNzdiMGUyOGI1YjBlN2I4Zjc4NDUyOTVhMjk0Yzg0MjY2YjEzMzEyMCJdLFsiMzI0YWVkN2RmNjVjODA0MjUyZGMwMjcwOTA3YTMwYjA5NjEyYWViOTczNDQ5Y2VhNDA5NTk4MGZjMjhkM2Q1ZCIsIjY0OGEzNjU3NzRiNjFmMmZmMTMwYzBjMzVhZWMxZjRmMTkyMTNiMGM3ZTMzMjg0Mzk2NzIyNGFmOTZhYjdjODQiXSxbIjRkZjljMTQ5MTljZGU2MWY2ZDUxZGZkYmU1ZmVlNWRjZWVjNDE0M2JhOGQxY2E4ODhlOGJkMzczZmQwNTRjOTYiLCIzNWVjNTEwOTJkODcyODA1MDk3NGMyM2ExZDg1ZDRiNWQ1MDZjZGMyODg0OTAxOTJlYmFjMDZjYWQxMGQ1ZCJdLFsiOWMzOTE5YTg0YTQ3NDg3MGZhZWQ4YTljMWNjNjYwMjE1MjM0ODkwNTRkN2YwMzA4Y2JmYzk5YzhhYzFmOThjZCIsImRkYjg0ZjBmNGE0ZGRkNTc1ODRmMDQ0YmYyNjBlNjQxOTA1MzI2Zjc2YzY0YzhlNmJlN2U1ZTAzZDRmYzU5OWQiXSxbIjYwNTcxNzBiMWRkMTJmZGY4ZGUwNWYyODFkOGUwNmJiOTFlMTQ5M2E4YjkxZDRjYzVhMjEzODIxMjBhOTU5ZTUiLCI5YTFhZjBiMjZhNmE0ODA3YWRkOWEyZGFmNzFkZjI2MjQ2NTE1MmJjM2VlMjRjNjVlODk5YmU5MzIzODVhMmE4Il0sWyJhNTc2ZGY4ZTIzYTA4NDExNDIxNDM5YTQ1MThkYTMxODgwY2VmMGZiYTdkNGRmMTJiMWE2OTczZWVjYjk0MjY2IiwiNDBhNmJmMjBlNzY2NDBiMmM5MmI5N2FmZTU4Y2Q4MmM0MzJlMTBhN2Y1MTRkOWYzZWU4YmUxMWFlMWIyOGVjOCJdLFsiNzc3OGE3OGMyOGRlYzNlMzBhMDVmZTk2MjlkZThjMzhiYjMwZDFmNWNmOWEzYTIwOGY3NjM4ODliZTU4YWQ3MSIsIjM0NjI2ZDlhYjVhNWIyMmZmNzA5OGUxMmYyZmY1ODAwODdiMzg0MTFmZjI0YWM1NjNiNTEzZmMxZmQ5ZjQzYWMiXSxbIjkyODk1NWVlNjM3YTg0NDYzNzI5ZmQzMGU3YWZkMmVkNWY5NjI3NGU1YWQ3ZTVjYjA5ZWRhOWMwNmQ5MDNhYyIsImMyNTYyMTAwM2QzZjQyYTgyN2I3OGExMzA5M2E5NWVlYWMzZDI2ZWZhOGE4ZDgzZmM1MTgwZTkzNWJjZDA5MWYiXSxbIjg1ZDBmZWYzZWM2ZGIxMDkzOTkwNjRmM2EwZTNiMjg1NTY0NWI0YTkwN2FkMzU0NTI3YWFlNzUxNjNkODI3NTEiLCIxZjAzNjQ4NDEzYTM4YzBiZTI5ZDQ5NmU1ODJjZjU2NjNlODc1MWU5Njg3NzMzMTU4MmMyMzdhMjRlYjFmOTYyIl0sWyJmZjJiMGRjZTk3ZWVjZTk3YzFjOWI2MDQxNzk4Yjg1ZGZkZmI2ZDg4ODJkYTIwMzA4ZjU0MDQ4MjQ1MjYwODdlIiwiNDkzZDEzZmVmNTI0YmExODhhZjRjNGRjNTRkMDc5MzZjN2I3ZWQ2ZmI5MGUyY2ViMmM5NTFlMDFmMGMyOTkwNyJdLFsiODI3ZmJiZTRiMWU4ODBlYTllZDJiMmU2MzAxYjIxMmI1N2YxZWUxNDhjZDZkZDI4NzgwZTVlMmNmODU2ZTI0MSIsImM2MGY5YzkyM2M3MjdiMGI3MWJlZjJjNjdkMWQxMjY4N2ZmN2E2MzE4NjkwMzE2NmQ2MDViNjhiYWVjMjkzZWMiXSxbImVhYTY0OWYyMWY1MWJkYmFlN2JlNGFlMzRjZTZlNTIxN2E1OGZkY2U3ZjQ3ZjlhYTdmM2I1OGZhMjEyMGUyYjMiLCJiZTMyNzllZDViYmJiMDNhYzY5YTgwZjg5ODc5YWE1YTAxYTZiOTY1ZjEzZjdlNTlkNDdhNTMwNWJhNWFkOTNkIl0sWyJlNGE0MmQ0M2M1Y2YxNjlkOTM5MWRmNmRlY2Y0MmVlNTQxYjZkOGYwYzlhMTM3NDAxZTIzNjMyZGRhMzRkMjRmIiwiNGQ5ZjkyZTcxNmQxYzczNTI2ZmM5OWNjZmI4YWQzNGNlODg2ZWVkZmE4ZDhlNGYxM2E3ZjcxMzFkZWJhOTQxNCJdLFsiMWVjODBmZWYzNjBjYmRkOTU0MTYwZmFkYWIzNTJiNmI5MmI1MzU3NmE4OGZlYTQ5NDcxNzNiOWQ0MzAwYmYxOSIsImFlZWZlOTM3NTZiNTM0MGQyZjNhNDk1OGE3YWJiZjVlMDE0NmU3N2Y2Mjk1YTA3YjY3MWNkYzFjYzEwN2NlZmQiXSxbIjE0NmE3NzhjMDQ2NzBjMmY5MWIwMGFmNDY4MGRmYThiY2UzNDkwNzE3ZDU4YmE4ODlkZGI1OTI4MzY2NjQyYmUiLCJiMzE4ZTBlYzMzNTQwMjhhZGQ2Njk4MjdmOWQ0YjI4NzBhYWE5NzFkMmY3ZTVlZDFkMGIyOTc0ODNkODNlZmQwIl0sWyJmYTUwYzBmNjFkMjJlNWYwN2UzYWNlYmIxYWEwN2IxMjhkMDAxMjIwOWEyOGI5Nzc2ZDc2YTg3OTMxODBlZWY5IiwiNmI4NGM2OTIyMzk3ZWJhOWI3MmNkMjg3MjI4MWE2OGE1ZTY4MzI5M2E1N2EyMTNiMzhjZDhkN2QzZjRmMjgxMSJdLFsiZGExZDYxZDBjYTcyMWExMWIxYTViZjZiN2Q4OGU4NDIxYTI4OGFiNWQ1YmJhNTIyMGU1M2QzMmI1ZjA2N2VjMiIsIjgxNTdmNTVhN2M5OTMwNmM3OWMwNzY2MTYxYzkxZTI5NjZhNzM4OTlkMjc5YjQ4YTY1NWZiYTBmMWFkODM2ZjEiXSxbImE4ZTI4MmZmMGM5NzA2OTA3MjE1ZmY5OGU4ZmQ0MTY2MTUzMTFkZTA0NDZmMWUwNjJhNzNiMDYxMGQwNjRlMTMiLCI3Zjk3MzU1YjhkYjgxYzA5YWJmYjdmM2M1YjI1MTU4ODhiNjc5YTNlNTBkZDZiZDZjZWY3YzczMTExZjRjYzBjIl0sWyIxNzRhNTNiOWM5YTI4NTg3MmQzOWU1NmU2OTEzY2FiMTVkNTliMWZhNTEyNTA4YzAyMmYzODJkZTgzMTk0OTdjIiwiY2NjOWRjMzdhYmZjOWMxNjU3YjQxNTVmMmM0N2Y5ZTY2NDZiM2ExZDhjYjk4NTQzODNkYTEzYWMwNzlhZmE3MyJdLFsiOTU5Mzk2OTgxOTQzNzg1YzNkM2U1N2VkZjUwMThjZGJlMDM5ZTczMGU0OTE4YjNkODg0ZmRmZjA5NDc1YjdiYSIsIjJlN2U1NTI4ODhjMzMxZGQ4YmEwMzg2YTRiOWNkNjg0OWM2NTNmNjRjODcwOTM4NWU5YjhhYmY4NzUyNGYyZmQiXSxbImQyYTYzYTUwYWU0MDFlNTZkNjQ1YTExNTNiMTA5YThmY2NhMGE0M2Q1NjFmYmEyZGJiNTEzNDBjOWQ4MmIxNTEiLCJlODJkODZmYjY0NDNmY2I3NTY1YWVlNThiMjk0ODIyMGE3MGY3NTBhZjQ4NGNhNTJkNDE0MjE3NGRjZjg5NDA1Il0sWyI2NDU4N2UyMzM1NDcxZWI4OTBlZTc4OTZkN2NmZGM4NjZiYWNiZGJkMzgzOTMxN2IzNDM2ZjliNDU2MTdlMDczIiwiZDk5ZmNkZDViZjY5MDJlMmFlOTZkZDY0NDdjMjk5YTE4NWI5MGEzOTEzM2FlYWIzNTgyOTllNWU5ZmFmNjU4OSJdLFsiODQ4MWJkZTBlNGU0ZDg4NWIzYTU0NmQzZTU0OWRlMDQyZjBhYTZjZWEyNTBlN2ZkMzU4ZDZjODZkZDQ1ZTQ1OCIsIjM4ZWU3YjhjYmE1NDA0ZGQ4NGEyNWJmMzljZWNiMmNhOTAwYTc5YzQyYjI2MmU1NTZkNjRiMWI1OTc3OTA1N2UiXSxbIjEzNDY0YTU3YTc4MTAyYWE2MmI2OTc5YWU4MTdmNDYzN2ZmY2ZlZDNjNGIxY2UzMGJjZDYzMDNmNmNhZjY2NmIiLCI2OWJlMTU5MDA0NjE0NTgwZWY3ZTQzMzQ1M2NjYjBjYTQ4ZjMwMGE4MWQwOTQyZTEzZjQ5NWE5MDdmNmVjYzI3Il0sWyJiYzRhOWRmNWI3MTNmZTJlOWFlZjQzMGJjYzFkYzk3YTBjZDljY2VkZTJmMjg1ODhjYWRhM2EwZDJkODNmMzY2IiwiZDNhODFjYTZlNzg1YzA2MzgzOTM3YWRmNGI3OThjYWE2ZThhOWZiZmE1NDdiMTZkNzU4ZDY2NjU4MWYzM2MxIl0sWyI4YzI4YTk3YmY4Mjk4YmMwZDIzZDhjNzQ5NDUyYTMyZTY5NGI2NWUzMGE5NDcyYTM5NTRhYjMwZmU1MzI0Y2FhIiwiNDBhMzA0NjNhMzMwNTE5MzM3OGZlZGYzMWY3Y2MwZWI3YWU3ODRmMDQ1MWNiOTQ1OWU3MWRjNzNjYmVmOTQ4MiJdLFsiOGVhOTY2NjEzOTUyN2E4YzFkZDk0Y2U0ZjA3MWZkMjNjOGIzNTBjNWE0YmIzMzc0OGM0YmExMTFmYWNjYWUwIiwiNjIwZWZhYmJjOGVlMjc4MmUyNGU3YzBjZmI5NWM1ZDczNWI3ODNiZTljZjBmOGU5NTVhZjM0YTMwZTYyYjk0NSJdLFsiZGQzNjI1ZmFlZjViYTA2MDc0NjY5NzE2YmJkMzc4OGQ4OWJkZGU4MTU5NTk5NjgwOTJmNzZjYzRlYjlhOTc4NyIsIjdhMTg4ZmEzNTIwZTMwZDQ2MWRhMjUwMTA0NTczMWNhOTQxNDYxOTgyODgzMzk1OTM3ZjY4ZDAwYzY0NGE1NzMiXSxbImY3MTBkNzlkOWViOTYyMjk3ZTRmNjIzMmI0MGU4ZjdmZWIyYmM2MzgxNDYxNGQ2OTJjMTJkZTc1MjQwODIyMWUiLCJlYTk4ZTY3MjMyZDNiMzI5NWQzYjUzNTUzMjExNWNjYWM4NjEyYzcyMTg1MTYxNzUyNmFlNDdhOWM3N2JmYzgyIl1dfSxuYWY6e3duZDo3LHBvaW50czpbWyJmOTMwOGEwMTkyNThjMzEwNDkzNDRmODVmODlkNTIyOWI1MzFjODQ1ODM2Zjk5YjA4NjAxZjExM2JjZTAzNmY5IiwiMzg4ZjdiMGY2MzJkZTgxNDBmZTMzN2U2MmEzN2YzNTY2NTAwYTk5OTM0YzIyMzFiNmNiOWZkNzU4NGI4ZTY3MiJdLFsiMmY4YmRlNGQxYTA3MjA5MzU1YjRhNzI1MGE1YzUxMjhlODhiODRiZGRjNjE5YWI3Y2JhOGQ1NjliMjQwZWZlNCIsImQ4YWMyMjI2MzZlNWUzZDZkNGRiYTlkZGE2YzljNDI2Zjc4ODI3MWJhYjBkNjg0MGRjYTg3ZDNhYTZhYzYyZDYiXSxbIjVjYmRmMDY0NmU1ZGI0ZWFhMzk4ZjM2NWYyZWE3YTBlM2Q0MTliN2UwMzMwZTM5Y2U5MmJkZGVkY2FjNGY5YmMiLCI2YWViY2E0MGJhMjU1OTYwYTMxNzhkNmQ4NjFhNTRkYmE4MTNkMGI4MTNmZGU3YjVhNTA4MjYyODA4NzI2NGRhIl0sWyJhY2Q0ODRlMmYwYzdmNjUzMDlhZDE3OGE5ZjU1OWFiZGUwOTc5Njk3NGM1N2U3MTRjMzVmMTEwZGZjMjdjY2JlIiwiY2MzMzg5MjFiMGE3ZDlmZDY0MzgwOTcxNzYzYjYxZTlhZGQ4ODhhNDM3NWY4ZTBmMDVjYzI2MmFjNjRmOWMzNyJdLFsiNzc0YWU3Zjg1OGE5NDExZTVlZjQyNDZiNzBjNjVhYWM1NjQ5OTgwYmU1YzE3ODkxYmJlYzE3ODk1ZGEwMDhjYiIsImQ5ODRhMDMyZWI2YjVlMTkwMjQzZGQ1NmQ3YjdiMzY1MzcyZGIxZTJkZmY5ZDZhODMwMWQ3NGM5Yzk1M2M2MWIiXSxbImYyODc3M2MyZDk3NTI4OGJjN2QxZDIwNWMzNzQ4NjUxYjA3NWZiYzY2MTBlNThjZGRlZWRkZjhmMTk0MDVhYTgiLCJhYjA5MDJlOGQ4ODBhODk3NTgyMTJlYjY1Y2RhZjQ3M2ExYTA2ZGE1MjFmYTkxZjI5YjVjYjUyZGIwM2VkODEiXSxbImQ3OTI0ZDRmN2Q0M2VhOTY1YTQ2NWFlMzA5NWZmNDExMzFlNTk0NmYzYzg1Zjc5ZTQ0YWRiY2Y4ZTI3ZTA4MGUiLCI1ODFlMjg3MmE4NmM3MmE2ODM4NDJlYzIyOGNjNmRlZmVhNDBhZjJiZDg5NmQzYTVjNTA0ZGM5ZmY2YTI2YjU4Il0sWyJkZWZkZWE0Y2RiNjc3NzUwYTQyMGZlZTgwN2VhY2YyMWViOTg5OGFlNzliOTc2ODc2NmU0ZmFhMDRhMmQ0YTM0IiwiNDIxMWFiMDY5NDYzNTE2OGU5OTdiMGVhZDJhOTNkYWVjZWQxZjRhMDRhOTVjMGY2Y2ZiMTk5ZjY5ZTU2ZWI3NyJdLFsiMmI0ZWEwYTc5N2E0NDNkMjkzZWY1Y2ZmNDQ0ZjQ5NzlmMDZhY2ZlYmQ3ZTg2ZDI3NzQ3NTY1NjEzODM4NWI2YyIsIjg1ZTg5YmMwMzc5NDVkOTNiMzQzMDgzYjVhMWM4NjEzMWEwMWY2MGM1MDI2OTc2M2I1NzBjODU0ZTVjMDliN2EiXSxbIjM1MmJiZjRhNGNkZDEyNTY0ZjkzZmEzMzJjZTMzMzMwMWQ5YWQ0MDI3MWY4MTA3MTgxMzQwYWVmMjViZTU5ZDUiLCIzMjFlYjQwNzUzNDhmNTM0ZDU5YzE4MjU5ZGRhM2UxZjRhMWIzYjJlNzFiMTAzOWM2N2JkM2Q4YmNmODE5OThjIl0sWyIyZmEyMTA0ZDZiMzhkMTFiMDIzMDAxMDU1OTg3OTEyNGU0MmFiOGRmZWZmNWZmMjlkYzljZGFkZDRlY2FjYzNmIiwiMmRlMTA2ODI5NWRkODY1YjY0NTY5MzM1YmQ1ZGQ4MDE4MWQ3MGVjZmM4ODI2NDg0MjNiYTc2YjUzMmI3ZDY3Il0sWyI5MjQ4Mjc5YjA5YjRkNjhkYWIyMWE5YjA2NmVkZGE4MzI2M2MzZDg0ZTA5NTcyZTI2OWNhMGNkN2Y1NDUzNzE0IiwiNzMwMTZmN2JmMjM0YWFkZTVkMWFhNzFiZGVhMmIxZmYzZmMwZGUyYTg4NzkxMmZmZTU0YTMyY2U5N2NiMzQwMiJdLFsiZGFlZDRmMmJlM2E4YmYyNzhlNzAxMzJmYjBiZWI3NTIyZjU3MGUxNDRiZjYxNWMwN2U5OTZkNDQzZGVlODcyOSIsImE2OWRjZTRhN2Q2Yzk4ZThkNGExYWNhODdlZjhkNzAwM2Y4M2MyMzBmM2FmYTcyNmFiNDBlNTIyOTBiZTFjNTUiXSxbImM0NGQxMmM3MDY1ZDgxMmU4YWNmMjhkN2NiYjE5ZjkwMTFlY2Q5ZTlmZGYyODFiMGU2YTNiNWU4N2QyMmU3ZGIiLCIyMTE5YTQ2MGNlMzI2Y2RjNzZjNDU5MjZjOTgyZmRhYzBlMTA2ZTg2MWVkZjYxYzVhMDM5MDYzZjBlMGU2NDgyIl0sWyI2YTI0NWJmNmRjNjk4NTA0Yzg5YTIwY2ZkZWQ2MDg1MzE1MmI2OTUzMzZjMjgwNjNiNjFjNjVjYmQyNjllNmI0IiwiZTAyMmNmNDJjMmJkNGE3MDhiM2Y1MTI2ZjE2YTI0YWQ4YjMzYmE0OGQwNDIzYjZlZmQ1ZTYzNDgxMDBkOGE4MiJdLFsiMTY5N2ZmYTZmZDlkZTYyN2MwNzdlM2QyZmU1NDEwODRjZTEzMzAwYjBiZWMxMTQ2Zjk1YWU1N2YwZDBiZDZhNSIsImI5YzM5OGYxODY4MDZmNWQyNzU2MTUwNmU0NTU3NDMzYTJjZjE1MDA5ZTQ5OGFlN2FkZWU5ZDYzZDAxYjIzOTYiXSxbIjYwNWJkYjAxOTk4MTcxOGI5ODZkMGYwN2U4MzRjYjBkOWRlYjgzNjBmZmI3ZjYxZGY5ODIzNDVlZjI3YTc0NzkiLCIyOTcyZDJkZTRmOGQyMDY4MWE3OGQ5M2VjOTZmZTIzYzI2YmZhZTg0ZmIxNGRiNDNiMDFlMWU5MDU2YjhjNDkiXSxbIjYyZDE0ZGFiNDE1MGJmNDk3NDAyZmRjNDVhMjE1ZTEwZGNiMDFjMzU0OTU5YjEwY2ZlMzFjN2U5ZDg3ZmYzM2QiLCI4MGZjMDZiZDhjYzViMDEwOTgwODhhMTk1MGVlZDBkYjAxYWExMzI5NjdhYjQ3MjIzNWY1NjQyNDgzYjI1ZWFmIl0sWyI4MGM2MGFkMDA0MGYyN2RhZGU1YjRiMDZjNDA4ZTU2YjJjNTBlOWY1NmI5YjhiNDI1ZTU1NWMyZjg2MzA4YjZmIiwiMWMzODMwM2YxY2M1YzMwZjI2ZTY2YmFkN2ZlNzJmNzBhNjVlZWQ0Y2JlNzAyNGViMWFhMDFmNTY0MzBiZDU3YSJdLFsiN2E5Mzc1YWQ2MTY3YWQ1NGFhNzRjNjM0OGNjNTRkMzQ0Y2M1ZGM5NDg3ZDg0NzA0OWQ1ZWFiYjBmYTAzYzhmYiIsImQwZTNmYTllY2E4NzI2OTA5NTU5ZTBkNzkyNjkwNDZiZGM1OWVhMTBjNzBjZTJiMDJkNDk5ZWMyMjRkYzdmNyJdLFsiZDUyOGVjZDliNjk2YjU0YzkwN2E5ZWQwNDU0NDdhNzliYjQwOGVjMzliNjhkZjUwNGJiNTFmNDU5YmMzZmZjOSIsImVlY2Y0MTI1MzEzNmU1Zjk5OTY2ZjIxODgxZmQ2NTZlYmM0MzQ1NDA1YzUyMGRiYzA2MzQ2NWI1MjE0MDk5MzMiXSxbIjQ5MzcwYTRiNWY0MzQxMmVhMjVmNTE0ZThlY2RhZDA1MjY2MTE1ZTRhN2VjYjEzODcyMzE4MDhmOGI0NTk2MyIsIjc1OGYzZjQxYWZkNmVkNDI4YjMwODFiMDUxMmZkNjJhNTRjM2YzYWZiYjViNjc2NGI2NTMwNTJhMTI5NDljOWEiXSxbIjc3ZjIzMDkzNmVlODhjYmJkNzNkZjkzMGQ2NDcwMmVmODgxZDgxMWUwZTE0OThlMmYxYzEzZWIxZmMzNDVkNzQiLCI5NThlZjQyYTc4ODZiNjQwMGEwODI2NmU5YmExYjM3ODk2Yzk1MzMwZDk3MDc3Y2JiZThlYjNjNzY3MWM2MGQ2Il0sWyJmMmRhYzk5MWNjNGNlNGI5ZWE0NDg4N2U1YzdjMGJjZTU4YzgwMDc0YWI5ZDRkYmFlYjI4NTMxYjc3MzlmNTMwIiwiZTBkZWRjOWIzYjJmOGRhZDRkYTFmMzJkZWMyNTMxZGY5ZWI1ZmJlYjA1OThlNGZkMWExMTdkYmE3MDNhM2MzNyJdLFsiNDYzYjNkOWY2NjI2MjFmYjFiNGJlOGZiYmUyNTIwMTI1YTIxNmNkZmM5ZGFlM2RlYmNiYTQ4NTBjNjkwZDQ1YiIsIjVlZDQzMGQ3OGMyOTZjMzU0MzExNDMwNmRkODYyMmQ3YzYyMmUyN2M5NzBhMWRlMzFjYjM3N2IwMWFmNzMwN2UiXSxbImYxNmY4MDQyNDRlNDZlMmEwOTIzMmQ0YWZmM2I1OTk3NmI5OGZhYzE0MzI4YTJkMWEzMjQ5NmI0OTk5OGYyNDciLCJjZWRhYmQ5YjgyMjAzZjdlMTNkMjA2ZmNkZjRlMzNkOTJhNmM1M2MyNmU1Y2NlMjZkNjU3OTk2MmM0ZTMxZGY2Il0sWyJjYWY3NTQyNzJkYzg0NTYzYjAzNTJiN2ExNDMxMWFmNTVkMjQ1MzE1YWNlMjdjNjUzNjllMTVmNzE1MWQ0MWQxIiwiY2I0NzQ2NjBlZjM1ZjVmMmE0MWI2NDNmYTVlNDYwNTc1ZjRmYTliNzk2MjIzMmE1YzMyZjkwODMxOGEwNDQ3NiJdLFsiMjYwMGNhNGIyODJjYjk4NmY4NWQwZjE3MDk5NzlkOGI0NGEwOWMwN2NiODZkN2MxMjQ0OTdiYzg2ZjA4MjEyMCIsIjQxMTliODg3NTNjMTViZDZhNjkzYjAzZmNkZGJiNDVkNWFjNmJlNzRhYjVmMGVmNDRiMGJlOTQ3NWE3ZTRiNDAiXSxbIjc2MzVjYTcyZDdlODQzMmMzMzhlYzUzY2QxMjIyMGJjMDFjNDg2ODVlMjRmN2RjOGM2MDJhNzc0Njk5OGU0MzUiLCI5MWI2NDk2MDk0ODlkNjEzZDFkNWU1OTBmNzhlNmQ3NGVjZmMwNjFkNTcwNDhiYWQ5ZTc2ZjMwMmM1YjljNjEiXSxbIjc1NGUzMjM5ZjMyNTU3MGNkYmJmNGE4N2RlZWU4YTY2YjdmMmIzMzQ3OWQ0NjhmYmMxYTUwNzQzYmY1NmNjMTgiLCI2NzNmYjg2ZTViZGEzMGZiM2NkMGVkMzA0ZWE0OWEwMjNlZTMzZDAxOTdhNjk1ZDBjNWQ5ODA5M2M1MzY2ODMiXSxbImUzZTZiZDEwNzFhMWU5NmFmZjU3ODU5YzgyZDU3MGYwMzMwODAwNjYxZDFjOTUyZjlmZTI2OTQ2OTFkOWI5ZTgiLCI1OWM5ZTBiYmEzOTRlNzZmNDBjMGFhNTgzNzlhM2NiNmE1YTIyODM5OTNlOTBjNDE2NzAwMmFmNDkyMGUzN2Y1Il0sWyIxODZiNDgzZDA1NmEwMzM4MjZhZTczZDg4ZjczMjk4NWM0Y2NiMWYzMmJhMzVmNGI0Y2M0N2ZkY2YwNGFhNmViIiwiM2I5NTJkMzJjNjdjZjc3ZTJlMTc0NDZlMjA0MTgwYWIyMWZiODA5MDg5NTEzOGI0YTRhNzk3Zjg2ZTgwODg4YiJdLFsiZGY5ZDcwYTZiOTg3NmNlNTQ0Yzk4NTYxZjRiZTRmNzI1NDQyZTZkMmI3MzdkOWM5MWE4MzIxNzI0Y2UwOTYzZiIsIjU1ZWIyZGFmZDg0ZDZjY2Q1Zjg2MmI3ODVkYzM5ZDRhYjE1NzIyMjcyMGVmOWRhMjE3YjhjNDVjZjJiYTI0MTciXSxbIjVlZGQ1Y2MyM2M1MWU4N2E0OTdjYTgxNWQ1ZGNlMGY4YWI1MjU1NGY4NDllZDg5OTVkZTY0YzVmMzRjZTcxNDMiLCJlZmFlOWM4ZGJjMTQxMzA2NjFlOGNlYzAzMGM4OWFkMGMxM2M2NmMwZDE3YTI5MDVjZGM3MDZhYjczOTlhODY4Il0sWyIyOTA3OThjMmI2NDc2ODMwZGExMmZlMDIyODdlOWU3NzdhYTNmYmExYzM1NWIxN2E3MjJkMzYyZjg0NjE0ZmJhIiwiZTM4ZGE3NmRjZDQ0MDYyMTk4OGQwMGJjZjc5YWYyNWQ1YjI5YzA5NGRiMmEyMzE0NmQwMDNhZmQ0MTk0M2U3YSJdLFsiYWYzYzQyM2E5NWQ5ZjViMzA1NDc1NGVmYTE1MGFjMzljZDI5NTUyZmUzNjAyNTczNjJkZmRlY2VmNDA1M2I0NSIsImY5OGEzZmQ4MzFlYjJiNzQ5YTkzYjBlNmYzNWNmYjQwYzhjZDVhYTY2N2ExNTU4MWJjMmZlZGVkNDk4ZmQ5YzYiXSxbIjc2NmRiYjI0ZDEzNGU3NDVjY2NhYTI4Yzk5YmYyNzQ5MDZiYjY2YjI2ZGNmOThkZjhkMmZlZDUwZDg4NDI0OWEiLCI3NDRiMTE1MmVhY2JlNWUzOGRjYzg4Nzk4MGRhMzhiODk3NTg0YTY1ZmEwNmNlZGQyYzkyNGY5N2NiYWM1OTk2Il0sWyI1OWRiZjQ2ZjhjOTQ3NTliYTIxMjc3YzMzNzg0ZjQxNjQ1ZjdiNDRmNmM1OTZhNThjZTkyZTY2NjE5MWFiZTNlIiwiYzUzNGFkNDQxNzVmYmMzMDBmNGVhNmNlNjQ4MzA5YTA0MmNlNzM5YTc5MTk3OThjZDg1ZTIxNmM0YTMwN2Y2ZSJdLFsiZjEzYWRhOTUxMDNjNDUzNzMwNWU2OTFlNzRlOWE0YThkZDY0N2U3MTFhOTVlNzNjYjYyZGM2MDE4Y2ZkODdiOCIsImUxMzgxN2I0NGVlMTRkZTY2M2JmNGJjODA4MzQxZjMyNjk0OWUyMWE2YTc1YzI1NzA3Nzg0MTliZGFmNTczM2QiXSxbIjc3NTRiNGZhMGU4YWNlZDA2ZDQxNjdhMmM1OWNjYTRjZGExODY5YzA2ZWJhZGZiNjQ4ODU1MDAxNWE4ODUyMmMiLCIzMGU5M2U4NjRlNjY5ZDgyMjI0Yjk2N2MzMDIwYjhmYThkMWU0ZTM1MGI2Y2JjYzUzN2E0OGI1Nzg0MTE2M2EyIl0sWyI5NDhkY2FkZjU5OTBlMDQ4YWEzODc0ZDQ2YWJlZjlkNzAxODU4Zjk1ZGU4MDQxZDJhNjgyOGM5OWUyMjYyNTE5IiwiZTQ5MWE0MjUzN2Y2ZTU5N2Q1ZDI4YTMyMjRiMWJjMjVkZjkxNTRlZmJkMmVmMWQyY2JiYTJjYWU1MzQ3ZDU3ZSJdLFsiNzk2MjQxNDQ1MGM3NmMxNjg5YzdiNDhmODIwMmVjMzdmYjIyNGNmNWFjMGJmYTE1NzAzMjhhOGEzZDdjNzdhYiIsIjEwMGI2MTBlYzRmZmI0NzYwZDVjMWZjMTMzZWY2ZjZiMTI1MDdhMDUxZjA0YWM1NzYwYWZhNWIyOWRiODM0MzciXSxbIjM1MTQwODc4MzQ5NjRiNTRiMTViMTYwNjQ0ZDkxNTQ4NWExNjk3NzIyNWI4ODQ3YmIwZGQwODUxMzdlYzQ3Y2EiLCJlZjBhZmJiMjA1NjIwNTQ0OGUxNjUyYzQ4ZTgxMjdmYzYwMzllNzdjMTVjMjM3OGI3ZTdkMTVhMGRlMjkzMzExIl0sWyJkM2NjMzBhZDZiNDgzZTRiYzc5Y2UyYzlkZDhiYzU0OTkzZTk0N2ViOGRmNzg3YjQ0Mjk0M2QzZjdiNTI3ZWFmIiwiOGIzNzhhMjJkODI3Mjc4ZDg5YzVlOWJlOGY5NTA4YWUzYzJhZDQ2MjkwMzU4NjMwYWZiMzRkYjA0ZWVkZTBhNCJdLFsiMTYyNGQ4NDc4MDczMjg2MGNlMWM3OGZjYmZlZmUwOGIyYjI5ODIzZGI5MTNmNjQ5Mzk3NWJhMGZmNDg0NzYxMCIsIjY4NjUxY2Y5YjZkYTkwM2UwOTE0NDQ4YzZjZDlkNGNhODk2ODc4ZjUyODJiZTRjOGNjMDZlMmE0MDQwNzg1NzUiXSxbIjczM2NlODBkYTk1NWE4YTI2OTAyYzk1NjMzZTYyYTk4NTE5MjQ3NGI1YWYyMDdkYTZkZjdiNGZkNWZjNjFjZDQiLCJmNTQzNWEyYmQyYmFkZjdkNDg1YTRkOGI4ZGI5ZmNjZTNlMWVmOGUwMjAxZTQ1NzhjNTQ2NzNiYzFkYzVlYTFkIl0sWyIxNWQ5NDQxMjU0OTQ1MDY0Y2YxYTFjMzNiYmQzYjQ5Zjg5NjZjNTA5MjE3MWU2OTllZjI1OGRmYWI4MWMwNDVjIiwiZDU2ZWIzMGI2OTQ2M2U3MjM0ZjUxMzdiNzNiODQxNzc0MzQ4MDBiYWNlYmZjNjg1ZmMzN2JiZTllZmU0MDcwZCJdLFsiYTFkMGZjZjJlYzlkZTY3NWI2MTIxMzZlNWNlNzBkMjcxYzIxNDE3YzlkMmI4YWFhYWMxMzg1OTlkMDcxNzk0MCIsImVkZDc3ZjUwYmNiNWEzY2FiMmU5MDczNzMwOTY2N2YyNjQxNDYyYTU0MDcwZjNkNTE5MjEyZDM5YzE5N2E2MjkiXSxbImUyMmZiZTE1YzBhZjhjY2M1NzgwYzA3MzVmODRkYmU5YTc5MGJhZGVlODI0NWMwNmM3Y2EzNzMzMWNiMzY5ODAiLCJhODU1YmFiYWQ1Y2Q2MGM4OGI0MzBhNjlmNTNhMWE3YTM4Mjg5MTU0OTY0Nzk5YmU0M2QwNmQ3N2QzMWRhMDYiXSxbIjMxMTA5MWRkOTg2MGU4ZTIwZWUxMzQ3M2MxMTU1ZjVmNjk2MzVlMzk0NzA0ZWFhNzQwMDk0NTIyNDZjZmE5YjMiLCI2NmRiNjU2Zjg3ZDFmMDRmZmZkMWYwNDc4OGMwNjgzMDg3MWVjNWE2NGZlZWU2ODViZDgwZjBiMTI4NmQ4Mzc0Il0sWyIzNGMxZmQwNGQzMDFiZTg5YjMxYzA0NDJkM2U2YWMyNDg4MzkyOGI0NWE5MzQwNzgxODY3ZDQyMzJlYzJkYmRmIiwiOTQxNDY4NWU5N2IxYjU5NTRiZDQ2ZjczMDE3NDEzNmQ1N2YxY2VlYjQ4NzQ0M2RjNTMyMTg1N2JhNzNhYmVlIl0sWyJmMjE5ZWE1ZDZiNTQ3MDFjMWMxNGRlNWI1NTdlYjQyYThkMTNmM2FiYmNkMDhhZmZjYzJhNWU2YjA0OWI4ZDYzIiwiNGNiOTU5NTdlODNkNDBiMGY3M2FmNDU0NGNjY2Y2YjFmNGIwOGQzYzA3YjI3ZmI4ZDhjMjk2MmE0MDA3NjZkMSJdLFsiZDdiODc0MGY3NGE4ZmJhYWIxZjY4M2RiOGY0NWRlMjY1NDNhNTQ5MGJjYTYyNzA4NzIzNjkxMjQ2OWEwYjQ0OCIsImZhNzc5NjgxMjhkOWM5MmVlMTAxMGYzMzdhZDQ3MTdlZmYxNWRiNWVkM2MwNDliMzQxMWUwMzE1ZWFhNDU5M2IiXSxbIjMyZDMxYzIyMmY4ZjZmMGVmODZmN2M5OGQzYTMzMzVlYWQ1YmNkMzJhYmRkOTQyODlmZTRkMzA5MWFhODI0YmYiLCI1ZjMwMzJmNTg5MjE1NmUzOWNjZDNkNzkxNWI5ZTFkYTJlNmRhYzllNmYyNmU5NjExMThkMTRiODQ2MmUxNjYxIl0sWyI3NDYxZjM3MTkxNGFiMzI2NzEwNDVhMTU1ZDk4MzFlYTg3OTNkNzdjZDU5NTkyYzQzNDBmODZjYmMxODM0N2I1IiwiOGVjMGJhMjM4Yjk2YmVjMGNiZGRkY2FlMGFhNDQyNTQyZWVlMWZmNTBjOTg2ZWE2YjM5ODQ3YjNjYzA5MmZmNiJdLFsiZWUwNzlhZGIxZGYxODYwMDc0MzU2YTI1YWEzODIwNmE2ZDcxNmIyYzNlNjc0NTNkMjg3Njk4YmFkN2IyYjJkNiIsIjhkYzI0MTJhYWZlM2JlNWM0YzVmMzdlMGVjYzVmOWY2YTQ0Njk4OWFmMDRjNGUyNWViYWFjNDc5ZWMxYzhjMWUiXSxbIjE2ZWM5M2U0NDdlYzgzZjA0NjdiMTgzMDJlZTYyMGY3ZTY1ZGUzMzE4NzRjOWRjNzJiZmQ4NjE2YmE5ZGE2YjUiLCI1ZTQ2MzExNTBlNjJmYjQwZDBlOGMyYTdjYTU4MDRhMzlkNTgxODZhNTBlNDk3MTM5NjI2Nzc4ZTI1YjA2NzRkIl0sWyJlYWE1Zjk4MGMyNDVmNmYwMzg5NzgyOTBhZmE3MGI2YmQ4ODU1ODk3Zjk4YjZhYTQ4NWI5NjA2NWQ1MzdiZDk5IiwiZjY1ZjVkM2UyOTJjMmUwODE5YTUyODM5MWM5OTQ2MjRkNzg0ODY5ZDdlNmVhNjdmYjE4MDQxMDI0ZWRjMDdkYyJdLFsiNzhjOTQwNzU0NGFjMTMyNjkyZWUxOTEwYTAyNDM5OTU4YWUwNDg3NzE1MTM0MmVhOTZjNGI2YjM1YTQ5ZjUxIiwiZjNlMDMxOTE2OWViOWI4NWQ1NDA0Nzk1NTM5YTVlNjhmYTFmYmQ1ODNjMDY0ZDI0NjJiNjc1ZjE5NGEzZGRiNCJdLFsiNDk0ZjRiZTIxOWExYTc3MDE2ZGNkODM4NDMxYWVhMDAwMWNkYzhhZTdhNmZjNjg4NzI2NTc4ZDk3MDI4NTdhNSIsIjQyMjQyYTk2OTI4M2E1ZjMzOWJhN2YwNzVlMzZiYTJhZjkyNWNlMzBkNzY3ZWQ2ZTU1ZjRiMDMxODgwZDU2MmMiXSxbImE1OThhODAzMGRhNmQ4NmM2YmM3ZjJmNTE0NGVhNTQ5ZDI4MjExZWE1OGZhYTcwZWJmNGMxZTY2NWMxZmU5YjUiLCIyMDRiNWQ2Zjg0ODIyYzMwN2U0YjRhNzE0MDczN2FlYzIzZmM2M2I2NWIzNWY4NmExMDAyNmRiZDJkODY0ZTZiIl0sWyJjNDE5MTYzNjVhYmIyYjVkMDkxOTJmNWYyZGJlYWZlYzIwOGYwMjBmMTI1NzBhMTg0ZGJhZGMzZTU4NTk1OTk3IiwiNGYxNDM1MWQwMDg3ZWZhNDlkMjQ1YjMyODk4NDk4OWQ1Y2FmOTQ1MGYzNGJmYzBlZDE2ZTk2YjU4ZmE5OTEzIl0sWyI4NDFkNjA2M2E1ODZmYTQ3NWE3MjQ2MDRkYTAzYmM1YjkyYTJlMGQyZTBhMzZhY2ZlNGM3M2E1NTE0NzQyODgxIiwiNzM4NjdmNTljMDY1OWU4MTkwNGY5YTFjNzU0MzY5OGU2MjU2MmQ2NzQ0YzE2OWNlN2EzNmRlMDFhOGQ2MTU0Il0sWyI1ZTk1YmIzOTlhNjk3MWQzNzYwMjY5NDdmODliZGUyZjI4MmIzMzgxMDkyOGJlNGRlZDExMmFjNGQ3MGUyMGQ1IiwiMzlmMjNmMzY2ODA5MDg1YmVlYmZjNzExODEzMTM3NzVhOTljOWFlZDdkOGJhMzhiMTYxMzg0Yzc0NjAxMjg2NSJdLFsiMzZlNDY0MWE1Mzk0OGZkNDc2YzM5ZjhhOTlmZDk3NGU1ZWMwNzU2NGI1MzE1ZDhiZjk5NDcxYmNhMGVmMmY2NiIsImQyNDI0YjFiMWFiZTRlYjgxNjQyMjdiMDg1YzlhYTk0NTZlYTEzNDkzZmQ1NjNlMDZmZDUxY2Y1Njk0Yzc4ZmMiXSxbIjMzNjU4MWVhN2JmYmJiMjkwYzE5MWEyZjUwN2E0MWNmNTY0Mzg0MjE3MGU5MTRmYWVhYjI3YzJjNTc5ZjcyNiIsImVhZDEyMTY4NTk1ZmUxYmU5OTI1MjEyOWI2ZTU2YjMzOTFmN2FiMTQxMGNkMWUwZWYzZGNkY2FiZDJmZGEyMjQiXSxbIjhhYjg5ODE2ZGFkZmQ2YjZhMWYyNjM0ZmNmMDBlYzg0MDM3ODEwMjVlZDY4OTBjNDg0OTc0MjcwNmJkNDNlZGUiLCI2ZmRjZWYwOWYyZjZkMGEwNDRlNjU0YWVmNjI0MTM2ZjUwM2Q0NTljM2U4OTg0NTg1OGE0N2E5MTI5Y2RkMjRlIl0sWyIxZTMzZjFhNzQ2YzljNTc3ODEzMzM0NGQ5Mjk5ZmNhYTIwYjA5MzhlOGFjZmYyNTQ0YmI0MDI4NGI4YzVmYjk0IiwiNjA2NjAyNTdkZDExYjNhYTljOGVkNjE4ZDI0ZWRmZjIzMDZkMzIwZjFkMDMwMTBlMzNhN2QyMDU3ZjNiM2I2Il0sWyI4NWI3YzFkY2IzY2VjMWI3ZWU3ZjMwZGVkNzlkZDIwYTBlZDFmNGNjMThjYmNmY2ZhNDEwMzYxZmQ4ZjA4ZjMxIiwiM2Q5OGE5Y2RkMDI2ZGQ0M2YzOTA0OGYyNWE4ODQ3ZjRmY2FmYWQxODk1ZDdhNjMzYzZmZWQzYzM1ZTk5OTUxMSJdLFsiMjlkZjlmYmQ4ZDllNDY1MDkyNzVmNGIxMjVkNmQ0NWQ3ZmJlOWEzYjg3OGE3YWY4NzJhMjgwMDY2MWFjNWY1MSIsImI0YzRmZTk5Yzc3NWE2MDZlMmQ4ODYyMTc5MTM5ZmZkYTYxZGM4NjFjMDE5ZTU1Y2QyODc2ZWIyYTI3ZDg0YiJdLFsiYTBiMWNhZTA2YjBhODQ3YTNmZWE2ZTY3MWFhZjhhZGZkZmU1OGNhMmY3NjgxMDVjODA4MmIyZTQ0OWZjZTI1MiIsImFlNDM0MTAyZWRkZTA5NThlYzRiMTlkOTE3YTZhMjhlNmI3MmRhMTgzNGFmZjBlNjUwZjA0OTUwM2EyOTZjZjIiXSxbIjRlOGNlYWZiOWIzZTlhMTM2ZGM3ZmY2N2U4NDAyOTViNDk5ZGZiM2IyMTMzZTRiYTExM2YyZTRjMGUxMjFlNSIsImNmMjE3NDExOGM4YjZkN2E0YjQ4ZjZkNTM0Y2U1Yzc5NDIyYzA4NmE2MzQ2MDUwMmI4MjdjZTYyYTMyNjY4M2MiXSxbImQyNGE0NGUwNDdlMTliNmY1YWZiODFjN2NhMmY2OTA4MGE1MDc2Njg5YTAxMDkxOWY0MjcyNWMyYjc4OWEzM2IiLCI2ZmI4ZDU1OTFiNDY2ZjhmYzYzZGI1MGYxYzBmMWM2OTAxM2Y5OTY4ODdiODI0NGQyY2RlYzQxN2FmZWE4ZmEzIl0sWyJlYTAxNjA2YTdhNmM5Y2RkMjQ5ZmRmY2ZhY2I5OTU4NDAwMWVkZDI4YWJiYWI3N2I1MTA0ZTk4ZThlM2IzNWQ0IiwiMzIyYWY0OTA4YzczMTJiMGNmYmZlMzY5ZjdhN2IzY2RiN2Q0NDk0YmMyODIzNzAwY2ZkNjUyMTg4YTNlYTk4ZCJdLFsiYWY4YWRkYmYyYjY2MWM4YTZjNjMyODY1NWViOTY2NTEyNTIwMDdkOGM1ZWEzMWJlNGFkMTk2ZGU4Y2UyMTMxZiIsIjY3NDllNjdjMDI5Yjg1ZjUyYTAzNGVhZmQwOTY4MzZiMjUyMDgxODY4MGUyNmFjOGYzZGZiY2RiNzE3NDk3MDAiXSxbImUzYWUxOTc0NTY2Y2EwNmNjNTE2ZDQ3ZTBmYjE2NWE2NzRhM2RhYmNmY2ExNWU3MjJmMGUzNDUwZjQ1ODg5IiwiMmFlYWJlN2U0NTMxNTEwMTE2MjE3ZjA3YmY0ZDA3MzAwZGU5N2U0ODc0ZjgxZjUzMzQyMGE3MmVlYjBiZDZhNCJdLFsiNTkxZWUzNTUzMTNkOTk3MjFjZjY5OTNmZmVkMWUzZTMwMTk5M2ZmM2VkMjU4ODAyMDc1ZWE4Y2VkMzk3ZTI0NiIsImIwZWE1NThhMTEzYzMwYmVhNjBmYzQ3NzU0NjBjNzkwMWZmMGIwNTNkMjVjYTJiZGVlZTk4ZjFhNGJlNWQxOTYiXSxbIjExMzk2ZDU1ZmRhNTRjNDlmMTlhYTk3MzE4ZDhkYTYxZmE4NTg0ZTQ3YjA4NDk0NTA3N2NmMDMyNTViNTI5ODQiLCI5OThjNzRhOGNkNDVhYzAxMjg5ZDU4MzNhN2JlYjQ3NDRmZjUzNmIwMWIyNTdiZTRjNTc2N2JlYTkzZWE1N2E0Il0sWyIzYzVkMmExYmEzOWM1YTE3OTAwMDA3MzhjOWUwYzQwYjhkY2RmZDU0Njg3NTRiNjQwNTU0MDE1N2UwMTdhYTdhIiwiYjIyODQyNzk5OTVhMzRlMmY5ZDRkZTczOTZmYzE4YjgwZjliOGI5ZmRkMjcwZjY2NjFmNzljYTRjODFiZDI1NyJdLFsiY2M4NzA0YjhhNjBhMGRlZmEzYTk5YTcyOTlmMmU5YzNmYmMzOTVhZmIwNGFjMDc4NDI1ZWY4YTE3OTNjYzAzMCIsImJkZDQ2MDM5ZmVlZDE3ODgxZDFlMDg2MmRiMzQ3ZjhjZjM5NWI3NGZjNGJjZGM0ZTk0MGI3NGUzYWMxZjFiMTMiXSxbImM1MzNlNGY3ZWE4NTU1YWFjZDk3NzdhYzVjYWQyOWI5N2RkNGRlZmNjYzUzZWU3ZWEyMDQxMTliMjg4OWIxOTciLCI2ZjBhMjU2YmM1ZWZkZjQyOWEyZmI2MjQyZjFhNDNhMmQ5YjkyNWJiNGE0YjNhMjZiYjhlMGY0NWViNTk2MDk2Il0sWyJjMTRmOGYyY2NiMjdkNmYxMDlmNmQwOGQwM2NjOTZhNjliYThjMzRlZWMwN2JiY2Y1NjZkNDhlMzNkYTY1OTMiLCJjMzU5ZDY5MjNiYjM5OGY3ZmQ0NDczZTE2ZmUxYzI4NDc1Yjc0MGRkMDk4MDc1ZTZjMGU4NjQ5MTEzZGMzYTM4Il0sWyJhNmNiYzMwNDZiYzZhNDUwYmFjMjQ3ODlmYTE3MTE1YTRjOTczOWVkNzVmOGYyMWNlNDQxZjcyZTBiOTBlNmVmIiwiMjFhZTdmNDY4MGU4ODliYjEzMDYxOWUyYzBmOTVhMzYwY2ViNTczYzcwNjAzMTM5ODYyYWZkNjE3ZmE5YjlmIl0sWyIzNDdkNmQ5YTAyYzQ4OTI3ZWJmYjg2YzEzNTliMWNhZjEzMGEzYzAyNjdkMTFjZTYzNDRiMzlmOTlkNDNjYzM4IiwiNjBlYTdmNjFhMzUzNTI0ZDFjOTg3ZjZlY2VjOTJmMDg2ZDU2NWFiNjg3ODcwY2IxMjY4OWZmMWUzMWM3NDQ0OCJdLFsiZGE2NTQ1ZDIxODFkYjhkOTgzZjdkY2IzNzVlZjU4NjZkNDdjNjdiMWJmMzFjOGNmODU1ZWY3NDM3YjcyNjU2YSIsIjQ5Yjk2NzE1YWI2ODc4YTc5ZTc4ZjA3Y2U1NjgwYzVkNjY3MzA1MWI0OTM1YmQ4OTdmZWE4MjRiNzdkYzIwOGEiXSxbImM0MDc0N2NjOWQwMTJjYjFhMTNiODE0ODMwOWM2ZGU3ZWMyNWQ2OTQ1ZDY1NzE0NmI5ZDU5OTRiOGZlYjExMTEiLCI1Y2E1NjA3NTNiZTJhMTJmYzZkZTZjYWYyY2I0ODk1NjVkYjkzNjE1NmI5NTE0ZTFiYjVlODMwMzdlMGZhMmQ0Il0sWyI0ZTQyYzhlYzgyYzk5Nzk4Y2NmM2E2MTBiZTg3MGU3ODMzOGM3ZjcxMzM0OGJkMzRjODIwM2VmNDAzN2YzNTAyIiwiNzU3MWQ3NGVlNWUwZmI5MmE3YThiMzNhMDc3ODMzNDFhNTQ5MjE0NGNjNTRiY2M0MGE5NDQ3MzY5MzYwNjQzNyJdLFsiMzc3NWFiNzA4OWJjNmFmODIzYWJhMmUxYWY3MGIyMzZkMjUxY2FkYjBjODY3NDMyODc1MjJhMWIzYjBkZWRlYSIsImJlNTJkMTA3YmNmYTA5ZDhiY2I5NzM2YTgyOGNmYTdmYWM4ZGIxN2JmN2E3NmEyYzQyYWQ5NjE0MDkwMThjZjciXSxbImNlZTMxY2JmN2UzNGVjMzc5ZDk0ZmI4MTRkM2Q3NzVhZDk1NDU5NWQxMzE0YmE4ODQ2OTU5ZTNlODJmNzRlMjYiLCI4ZmQ2NGExNGMwNmI1ODljMjZiOTQ3YWUyYmNmNmJmYTAxNDllZjBiZTE0ZWQ0ZDgwZjQ0OGEwMWM0M2IxYzZkIl0sWyJiNGY5ZWFlYTA5YjY5MTc2MTlmNmVhNmE0ZWI1NDY0ZWZkZGI1OGZkNDViMWViZWZjZGMxYTAxZDA4YjQ3OTg2IiwiMzllNWM5OTI1YjVhNTRiMDc0MzNhNGYxOGM2MTcyNmY4YmIxMzFjMDEyY2E1NDJlYjI0YThhYzA3MjAwNjgyYSJdLFsiZDQyNjNkZmMzZDJkZjkyM2EwMTc5YTQ4OTY2ZDMwY2U4NGUyNTE1YWZjM2RjY2MxYjc3OTA3NzkyZWJjYzYwZSIsIjYyZGZhZjA3YTBmNzhmZWIzMGUzMGQ2Mjk1ODUzY2UxODllMTI3NzYwYWQ2Y2Y3ZmFlMTY0ZTEyMmEyMDhkNTQiXSxbIjQ4NDU3NTI0ODIwZmE2NWE0ZjhkMzVlYjY5MzA4NTdjMDAzMmFjYzBhNGEyZGU0MjIyMzNlZWRhODk3NjEyYzQiLCIyNWE3NDhhYjM2Nzk3OWQ5ODczM2MzOGExZmExYzJlN2RjNmNjMDdkYjJkNjBhOWFlN2E3NmFhYTQ5YmQwZjc3Il0sWyJkZmVlZWYxODgxMTAxZjJjYjExNjQ0ZjNhMmFmZGZjMjA0NWUxOTkxOTE1MjkyM2YzNjdhMTc2N2MxMWNjZWRhIiwiZWNmYjcwNTZjZjFkZTA0MmY5NDIwYmFiMzk2NzkzYzBjMzkwYmRlNzRiNGJiZGZmMTZhODNhZTA5YTlhNzUxNyJdLFsiNmQ3ZWY2YjE3NTQzZjgzNzNjNTczZjQ0ZTFmMzg5ODM1ZDg5YmNiYzYwNjJjZWQzNmM4MmRmODNiOGZhZTg1OSIsImNkNDUwZWMzMzU0Mzg5ODZkZmVmYTEwYzU3ZmVhOWJjYzUyMWEwOTU5YjJkODBiYmY3NGIxOTBkY2E3MTJkMTAiXSxbImU3NTYwNWQ1OTEwMmE1YTI2ODQ1MDBkM2I5OTFmMmUzZjNjODhiOTMyMjU1NDcwMzVhZjI1YWY2NmUwNDU0MWYiLCJmNWM1NDc1NGE4ZjcxZWU1NDBiOWI0ODcyODQ3M2UzMTRmNzI5YWM1MzA4YjA2OTM4MzYwOTkwZTJiZmFkMTI1Il0sWyJlYjk4NjYwZjRjNGRmYWEwNmEyYmU0NTNkNTAyMGJjOTlhMGMyZTYwYWJlMzg4NDU3ZGQ0M2ZlZmIxZWQ2MjBjIiwiNmNiOWE4ODc2ZDljYjg1MjA2MDlhZjNhZGQyNmNkMjBhMGE3Y2Q4YTk0MTExMzFjZTg1ZjQ0MTAwMDk5MjIzZSJdLFsiMTNlODdiMDI3ZDg1MTRkMzU5MzlmMmU2ODkyYjE5OTIyMTU0NTk2OTQxODg4MzM2ZGMzNTYzZTNiOGRiYTk0MiIsImZlZjVhM2M2ODA1OWE2ZGVjNWQ2MjQxMTRiZjFlOTFhYWMyYjlkYTU2OGQ2YWJlYjI1NzBkNTU2NDZiOGFkZjEiXSxbImVlMTYzMDI2ZTlmZDZmZTAxN2MzOGYwNmE1YmU2ZmMxMjU0MjRiMzcxY2UyNzA4ZTdiZjQ0OTE2OTFlNTc2NGEiLCIxYWNiMjUwZjI1NWRkNjFjNDNkOTRjY2M2NzBkMGY1OGY0OWFlM2ZhMTViOTY2MjNlNTQzMGRhMGFkNmM2MmIyIl0sWyJiMjY4ZjVlZjlhZDUxZTRkNzhkZTNhNzUwYzJkYzg5YjFlNjI2ZDQzNTA1ODY3OTk5OTMyZTVkYjMzYWYzZDgwIiwiNWYzMTBkNGIzYzk5YjllYmIxOWY3N2Q0MWMxZGVlMDE4Y2YwZDM0ZmQ0MTkxNjE0MDAzZTk0NWExMjE2ZTQyMyJdLFsiZmYwN2YzMTE4YTlkZjAzNWU5ZmFkODVlYjZjN2JmZTQyYjAyZjAxY2E5OWNlZWEzYmY3ZmZkYmE5M2M0NzUwZCIsIjQzODEzNmQ2MDNlODU4YTNhNWM0NDBjMzhlY2NiYWRkYzFkMjk0MjExNGUyZWRkZDQ3NDBkMDk4Y2VkMWYwZDgiXSxbIjhkOGI5ODU1YzdjMDUyYTM0MTQ2ZmQyMGZmYjY1OGJlYTRiOWY2OWUwZDgyNWViZWMxNmU4YzNjZTJiNTI2YTEiLCJjZGI1NTllZWRjMmQ3OWY5MjZiYWY0NGZiODRlYTRkNDRiY2Y1MGZlZTUxZDdjZWIzMGUyZTdmNDYzMDM2NzU4Il0sWyI1MmRiMGI1Mzg0ZGZiZjA1YmZhOWQ0NzJkN2FlMjZkZmU0Yjg1MWNlY2E5MWIxZWJhNTQyNjMxODBkYTMyYjYzIiwiYzNiOTk3ZDA1MGVlNWQ0MjNlYmFmNjZhNmRiOWY1N2IzMTgwYzkwMjg3NTY3OWRlOTI0YjY5ZDg0YTdiMzc1Il0sWyJlNjJmOTQ5MGQzZDUxZGE2Mzk1ZWZkMjRlODA5MTljYzdkMGYyOWMzZjNmYTQ4YzZmZmY1NDNiZWNiZDQzMzUyIiwiNmQ4OWFkN2JhNDg3NmIwYjIyYzJjYTI4MGM2ODI4NjJmMzQyYzg1OTFmMWRhZjUxNzBlMDdiZmQ5Y2NhZmE3ZCJdLFsiN2YzMGVhMjQ3NmIzOTliNDk1NzUwOWM4OGY3N2QwMTkxYWZhMmZmNWNiN2IxNGZkNmQ4ZTdkNjVhYWFiMTE5MyIsImNhNWVmN2Q0YjIzMWM5NGMzYjE1Mzg5YTVmNjMxMWU5ZGFmZjdiYjY3YjEwM2U5ODgwZWY0YmZmNjM3YWNhZWMiXSxbIjUwOThmZjFlMWQ5ZjE0ZmI0NmEyMTBmYWRhNmM5MDNmZWYwZmI3YjRhMWRkMWQ5YWM2MGEwMzYxODAwYjdhMDAiLCI5NzMxMTQxZDgxZmM4ZjgwODRkMzdjNmU3NTQyMDA2YjNlZTFiNDBkNjBkZmU1MzYyYTViMTMyZmQxN2RkYzAiXSxbIjMyYjc4YzdkZTllZTUxMmE3Mjg5NWJlNmI5Y2JlZmE2ZTJmM2M0Y2NjZTQ0NWM5NmI5ZjJjODFlMjc3OGFkNTgiLCJlZTE4NDlmNTEzZGY3MWUzMmVmYzM4OTZlZTI4MjYwYzczYmI4MDU0N2FlMjI3NWJhNDk3MjM3Nzk0Yzg3NTNjIl0sWyJlMmNiNzRmZGRjOGU5ZmJjZDA3NmVlZjJhN2M3MmIwY2UzN2Q1MGYwODI2OWRmYzA3NGI1ODE1NTA1NDdhNGY3IiwiZDNhYTJlZDcxYzlkZDIyNDdhNjJkZjA2MjczNmViMGJhZGRlYTllMzYxMjJkMmJlODY0MWFiY2IwMDVjYzRhNCJdLFsiODQzODQ0NzU2NmQ0ZDdiZWRhZGMyOTk0OTZhYjM1NzQyNjAwOWEzNWYyMzVjYjE0MWJlMGQ5OWNkMTBhZTNhOCIsImM0ZTEwMjA5MTY5ODBhNGRhNWQwMWFjNWU2YWQzMzA3MzRlZjBkNzkwNjYzMWM0ZjIzOTA0MjZiMmVkZDc5MWYiXSxbIjQxNjJkNDg4Yjg5NDAyMDM5YjU4NGM2ZmM2YzMwODg3MDU4N2Q5YzQ2ZjY2MGI4NzhhYjY1YzgyYzcxMWQ2N2UiLCI2NzE2M2U5MDMyMzYyODlmNzc2ZjIyYzI1ZmI4YTNhZmMxNzMyZjJiODRiNGU5NWRiZGE0N2FlNWEwODUyNjQ5Il0sWyIzZmFkM2ZhODRjYWYwZjM0ZjBmODliZmQyZGNmNTRmYzE3NWQ3NjdhZWMzZTUwNjg0ZjNiYTRhNGJmNWY2ODNkIiwiY2QxYmM3Y2I2Y2M0MDdiYjJmMGNhNjQ3YzcxOGE3MzBjZjcxODcyZTdkMGQyYTUzZmEyMGVmY2RmZTYxODI2Il0sWyI2NzRmMjYwMGEzMDA3YTAwNTY4YzFhN2NlMDVkMDgxNmMxZmI4NGJmMTM3MDc5OGYxYzY5NTMyZmFlYjFhODZiIiwiMjk5ZDIxZjk0MTNmMzNiM2VkZjQzYjI1NzAwNDU4MGI3MGRiNTdkYTBiMTgyMjU5ZTA5ZWVjYzY5ZTBkMzhhNSJdLFsiZDMyZjRkYTU0YWRlNzRhYmI4MWI4MTVhZDFmYjNiMjYzZDgyZDZjNjkyNzE0YmNmZjg3ZDI5YmQ1ZWU5ZjA4ZiIsImY5NDI5ZTczOGI4ZTUzYjk2OGU5OTAxNmMwNTk3MDc3ODJlMTRmNDUzNTM1OWQ1ODJmYzQxNjkxMGIzZWVhODciXSxbIjMwZTRlNjcwNDM1Mzg1NTU2ZTU5MzY1NzEzNTg0NWQzNmZiYjY5MzFmNzJiMDhjYjFlZDk1NGYxZTNjZTNmZjYiLCI0NjJmOWJjZTYxOTg5ODYzODQ5OTM1MDExM2JiYzliMTBhODc4ZDM1ZGE3MDc0MGRjNjk1YTU1OWViODhkYjdiIl0sWyJiZTIwNjIwMDNjNTFjYzMwMDQ2ODI5MDQzMzBlNGRlZTdmM2RjZDEwYjAxZTU4MGJmMTk3MWIwNGQ0Y2FkMjk3IiwiNjIxODhiYzQ5ZDYxZTU0Mjg1NzNkNDhhNzRlMWM2NTViMWM2MTA5MDkwNTY4MmEwZDU1NThlZDcyZGNjYjliYyJdLFsiOTMxNDQ0MjNhY2UzNDUxZWQyOWUwZmI5YWMyYWYyMTFjYjZlODRhNjAxZGY1OTkzYzQxOTg1OWZmZjVkZjA0YSIsIjdjMTBkZmIxNjRjMzQyNWY1YzcxYTNmOWQ3OTkyMDM4ZjEwNjUyMjRmNzJiYjlkMWQ5MDJhNmQxMzAzN2I0N2MiXSxbImIwMTVmODA0NGY1ZmNiZGNmMjFjYTI2ZDZjMzRmYjgxOTc4MjkyMDVjN2I3ZDJhN2NiNjY0MThjMTU3YjExMmMiLCJhYjhjMWUwODZkMDRlODEzNzQ0YTY1NWIyZGY4ZDVmODNiM2NkYzZmYWEzMDg4YzFkM2FlYTE0NTRlM2ExZDVmIl0sWyJkNWU5ZTFkYTY0OWQ5N2Q4OWU0ODY4MTE3YTQ2NWEzYTRmOGExOGRlNTdhMTQwZDM2YjNmMmFmMzQxYTIxYjUyIiwiNGNiMDQ0MzdmMzkxZWQ3MzExMWExM2NjMWQ0ZGQwZGIxNjkzNDY1YzIyNDA0ODBkODk1NWU4NTkyZjI3NDQ3YSJdLFsiZDNhZTQxMDQ3ZGQ3Y2EwNjVkYmY4ZWQ3N2I5OTI0Mzk5ODMwMDVjZDcyZTE2ZDZmOTk2YTUzMTZkMzY5NjZiYiIsImJkMWFlYjIxYWQyMmViYjIyYTEwZjAzMDM0MTdjNmQ5NjRmOGNkZDdkZjBhY2E2MTRiMTBkYzE0ZDEyNWFjNDYiXSxbIjQ2M2UyNzYzZDg4NWY5NThmYzY2Y2RkMjI4MDBmMGE0ODcxOTdkMGE4MmUzNzdiNDlmODBhZjg3Yzg5N2IwNjUiLCJiZmVmYWNkYjBlNWQwZmQ3ZGYzYTMxMWE5NGRlMDYyYjI2YjgwYzYxZmJjOTc1MDhiNzk5OTI2NzFlZjdjYTdmIl0sWyI3OTg1ZmRmZDEyN2MwNTY3YzZmNTNlYzFiYjYzZWMzMTU4ZTU5N2M0MGJmZTc0N2M4M2NkZGZjOTEwNjQxOTE3IiwiNjAzYzEyZGFmM2Q5ODYyZWYyYjI1ZmUxZGUyODlhZWQyNGVkMjkxZTBlYzY3MDg3MDNhNWJkNTY3ZjMyZWQwMyJdLFsiNzRhMWFkNmI1Zjc2ZTM5ZGIyZGQyNDk0MTBlYWM3Zjk5ZTc0YzU5Y2I4M2QyZDBlZDVmZjE1NDNkYTc3MDNlOSIsImNjNjE1N2VmMThjOWM2M2NkNjE5M2Q4MzYzMWJiZWEwMDkzZTA5Njg5NDJlOGMzM2Q1NzM3ZmQ3OTBlMGRiMDgiXSxbIjMwNjgyYTUwNzAzMzc1ZjYwMmQ0MTY2NjRiYTE5YjdmYzliYWI0MmM3Mjc0NzQ2M2E3MWQwODk2YjIyZjZkYTMiLCI1NTNlMDRmNmIwMThiNGZhNmM4ZjM5ZTdmMzExZDMxNzYyOTBkMGUwZjE5Y2E3M2YxNzcxNGQ5OTc3YTIyZmY4Il0sWyI5ZTIxNThmMGQ3YzBkNWYyNmMzNzkxZWZlZmE3OTU5NzY1NGU3YTJiMjQ2NGY1MmIxZWU2YzEzNDc3NjllZjU3IiwiNzEyZmNkZDFiOTA1M2YwOTAwM2EzNDgxZmE3NzYyZTlmZmQ3YzhlZjM1YTM4NTA5ZTJmYmYyNjI5MDA4MzczIl0sWyIxNzZlMjY5ODlhNDNjOWNmZWJhNDAyOWMyMDI1MzhjMjgxNzJlNTY2ZTNjNGZjZTczMjI4NTdmM2JlMzI3ZDY2IiwiZWQ4Y2M5ZDA0YjI5ZWI4NzdkMjcwYjQ4NzhkYzQzYzE5YWVmZDMxZjRlZWUwOWVlN2I0NzgzNGMxZmE0YjFjMyJdLFsiNzVkNDZlZmVhMzc3MWU2ZTY4YWJiODlhMTNhZDc0N2VjZjE4OTIzOTNkZmM0ZjFiNzAwNDc4OGM1MDM3NGRhOCIsIjk4NTIzOTBhOTk1MDc2NzlmZDBiODZmZDJiMzlhODY4ZDdlZmMyMjE1MTM0NmUxYTNjYTQ3MjY1ODZhNmJlZDgiXSxbIjgwOWEyMGM2N2Q2NDkwMGZmYjY5OGM0YzgyNWY2ZDVmMjMxMGZiMDQ1MWM4NjkzNDViNzMxOWY2NDU2MDU3MjEiLCI5ZTk5NDk4MGQ5OTE3ZTIyYjc2YjA2MTkyN2ZhMDQxNDNkMDk2Y2NjNTQ5NjNlNmE1ZWJmYTVmM2Y4ZTI4NmMxIl0sWyIxYjM4OTAzYTQzZjdmMTE0ZWQ0NTAwYjRlYWM3MDgzZmRlZmVjZTFjZjI5YzYzNTI4ZDU2MzQ0NmY5NzJjMTgwIiwiNDAzNmVkYzkzMWE2MGFlODg5MzUzZjc3ZmQ1M2RlNGEyNzA4YjI2YjZmNWRhNzJhZDMzOTQxMTlkYWY0MDhmOSJdXX19KSxzZWNwMjU2azF9KGZ1bmN0aW9uKGUpe3ZhciB0PWUsbj1oYXNoJDIsYT1jdXJ2ZSx1PXV0aWxzJHUsbz11LmFzc2VydDtmdW5jdGlvbiBoKF8pe18udHlwZT09PSJzaG9ydCI/dGhpcy5jdXJ2ZT1uZXcgYS5zaG9ydChfKTpfLnR5cGU9PT0iZWR3YXJkcyI/dGhpcy5jdXJ2ZT1uZXcgYS5lZHdhcmRzKF8pOnRoaXMuY3VydmU9bmV3IGEubW9udChfKSx0aGlzLmc9dGhpcy5jdXJ2ZS5nLHRoaXMubj10aGlzLmN1cnZlLm4sdGhpcy5oYXNoPV8uaGFzaCxvKHRoaXMuZy52YWxpZGF0ZSgpLCJJbnZhbGlkIGN1cnZlIiksbyh0aGlzLmcubXVsKHRoaXMubikuaXNJbmZpbml0eSgpLCJJbnZhbGlkIGN1cnZlLCBHKk4gIT0gTyIpfXQuUHJlc2V0Q3VydmU9aDtmdW5jdGlvbiBkKF8sYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXyx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIE09bmV3IGgoYik7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LF8se2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOk19KSxNfX0pfWQoInAxOTIiLHt0eXBlOiJzaG9ydCIscHJpbWU6InAxOTIiLHA6ImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIGZmZmZmZmZmIixhOiJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmYyIsYjoiNjQyMTA1MTkgZTU5YzgwZTcgMGZhN2U5YWIgNzIyNDMwNDkgZmViOGRlZWMgYzE0NmI5YjEiLG46ImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIDk5ZGVmODM2IDE0NmJjOWIxIGI0ZDIyODMxIixoYXNoOm4uc2hhMjU2LGdSZWQ6ITEsZzpbIjE4OGRhODBlIGIwMzA5MGY2IDdjYmYyMGViIDQzYTE4ODAwIGY0ZmYwYWZkIDgyZmYxMDEyIiwiMDcxOTJiOTUgZmZjOGRhNzggNjMxMDExZWQgNmIyNGNkZDUgNzNmOTc3YTEgMWU3OTQ4MTEiXX0pLGQoInAyMjQiLHt0eXBlOiJzaG9ydCIscHJpbWU6InAyMjQiLHA6ImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAxIixhOiJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSIsYjoiYjQwNTBhODUgMGMwNGIzYWIgZjU0MTMyNTYgNTA0NGIwYjcgZDdiZmQ4YmEgMjcwYjM5NDMgMjM1NWZmYjQiLG46ImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmYxNmEyIGUwYjhmMDNlIDEzZGQyOTQ1IDVjNWMyYTNkIixoYXNoOm4uc2hhMjU2LGdSZWQ6ITEsZzpbImI3MGUwY2JkIDZiYjRiZjdmIDMyMTM5MGI5IDRhMDNjMWQzIDU2YzIxMTIyIDM0MzI4MGQ2IDExNWMxZDIxIiwiYmQzNzYzODggYjVmNzIzZmIgNGMyMmRmZTYgY2Q0Mzc1YTAgNWEwNzQ3NjQgNDRkNTgxOTkgODUwMDdlMzQiXX0pLGQoInAyNTYiLHt0eXBlOiJzaG9ydCIscHJpbWU6bnVsbCxwOiJmZmZmZmZmZiAwMDAwMDAwMSAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiIsYToiZmZmZmZmZmYgMDAwMDAwMDEgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmMiLGI6IjVhYzYzNWQ4IGFhM2E5M2U3IGIzZWJiZDU1IDc2OTg4NmJjIDY1MWQwNmIwIGNjNTNiMGY2IDNiY2UzYzNlIDI3ZDI2MDRiIixuOiJmZmZmZmZmZiAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBiY2U2ZmFhZCBhNzE3OWU4NCBmM2I5Y2FjMiBmYzYzMjU1MSIsaGFzaDpuLnNoYTI1NixnUmVkOiExLGc6WyI2YjE3ZDFmMiBlMTJjNDI0NyBmOGJjZTZlNSA2M2E0NDBmMiA3NzAzN2Q4MSAyZGViMzNhMCBmNGExMzk0NSBkODk4YzI5NiIsIjRmZTM0MmUyIGZlMWE3ZjliIDhlZTdlYjRhIDdjMGY5ZTE2IDJiY2UzMzU3IDZiMzE1ZWNlIGNiYjY0MDY4IDM3YmY1MWY1Il19KSxkKCJwMzg0Iix7dHlwZToic2hvcnQiLHByaW1lOm51bGwscDoiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmYiLGE6ImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIGZmZmZmZmZjIixiOiJiMzMxMmZhNyBlMjNlZTdlNCA5ODhlMDU2YiBlM2Y4MmQxOSAxODFkOWM2ZSBmZTgxNDExMiAwMzE0MDg4ZiA1MDEzODc1YSBjNjU2Mzk4ZCA4YTJlZDE5ZCAyYTg1YzhlZCBkM2VjMmFlZiIsbjoiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgYzc2MzRkODEgZjQzNzJkZGYgNTgxYTBkYjIgNDhiMGE3N2EgZWNlYzE5NmEgY2NjNTI5NzMiLGhhc2g6bi5zaGEzODQsZ1JlZDohMSxnOlsiYWE4N2NhMjIgYmU4YjA1MzcgOGViMWM3MWUgZjMyMGFkNzQgNmUxZDNiNjIgOGJhNzliOTggNTlmNzQxZTAgODI1NDJhMzggNTUwMmYyNWQgYmY1NTI5NmMgM2E1NDVlMzggNzI3NjBhYjciLCIzNjE3ZGU0YSA5NjI2MmM2ZiA1ZDllOThiZiA5MjkyZGMyOSBmOGY0MWRiZCAyODlhMTQ3YyBlOWRhMzExMyBiNWYwYjhjMCAwYTYwYjFjZSAxZDdlODE5ZCA3YTQzMWQ3YyA5MGVhMGU1ZiJdfSksZCgicDUyMSIse3R5cGU6InNob3J0IixwcmltZTpudWxsLHA6IjAwMDAwMWZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIixhOiIwMDAwMDFmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmYyIsYjoiMDAwMDAwNTEgOTUzZWI5NjEgOGUxYzlhMWYgOTI5YTIxYTAgYjY4NTQwZWUgYTJkYTcyNWIgOTliMzE1ZjMgYjhiNDg5OTEgOGVmMTA5ZTEgNTYxOTM5NTEgZWM3ZTkzN2IgMTY1MmMwYmQgM2JiMWJmMDcgMzU3M2RmODggM2QyYzM0ZjEgZWY0NTFmZDQgNmI1MDNmMDAiLG46IjAwMDAwMWZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZhIDUxODY4NzgzIGJmMmY5NjZiIDdmY2MwMTQ4IGY3MDlhNWQwIDNiYjVjOWI4IDg5OWM0N2FlIGJiNmZiNzFlIDkxMzg2NDA5IixoYXNoOm4uc2hhNTEyLGdSZWQ6ITEsZzpbIjAwMDAwMGM2IDg1OGUwNmI3IDA0MDRlOWNkIDllM2VjYjY2IDIzOTViNDQyIDljNjQ4MTM5IDA1M2ZiNTIxIGY4MjhhZjYwIDZiNGQzZGJhIGExNGI1ZTc3IGVmZTc1OTI4IGZlMWRjMTI3IGEyZmZhOGRlIDMzNDhiM2MxIDg1NmE0MjliIGY5N2U3ZTMxIGMyZTViZDY2IiwiMDAwMDAxMTggMzkyOTZhNzggOWEzYmMwMDQgNWM4YTVmYjQgMmM3ZDFiZDkgOThmNTQ0NDkgNTc5YjQ0NjggMTdhZmJkMTcgMjczZTY2MmMgOTdlZTcyOTkgNWVmNDI2NDAgYzU1MGI5MDEgM2ZhZDA3NjEgMzUzYzcwODYgYTI3MmMyNDAgODhiZTk0NzYgOWZkMTY2NTAiXX0pLGQoImN1cnZlMjU1MTkiLHt0eXBlOiJtb250IixwcmltZToicDI1NTE5IixwOiI3ZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmVkIixhOiI3NmQwNiIsYjoiMSIsbjoiMTAwMDAwMDAwMDAwMDAwMCAwMDAwMDAwMDAwMDAwMDAwIDE0ZGVmOWRlYTJmNzljZDYgNTgxMjYzMWE1Y2Y1ZDNlZCIsaGFzaDpuLnNoYTI1NixnUmVkOiExLGc6WyI5Il19KSxkKCJlZDI1NTE5Iix7dHlwZToiZWR3YXJkcyIscHJpbWU6InAyNTUxOSIscDoiN2ZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZlZCIsYToiLTEiLGM6IjEiLGQ6IjUyMDM2Y2VlMmI2ZmZlNzMgOGNjNzQwNzk3Nzc5ZTg5OCAwMDcwMGE0ZDQxNDFkOGFiIDc1ZWI0ZGNhMTM1OTc4YTMiLG46IjEwMDAwMDAwMDAwMDAwMDAgMDAwMDAwMDAwMDAwMDAwMCAxNGRlZjlkZWEyZjc5Y2Q2IDU4MTI2MzFhNWNmNWQzZWQiLGhhc2g6bi5zaGEyNTYsZ1JlZDohMSxnOlsiMjE2OTM2ZDNjZDZlNTNmZWMwYTRlMjMxZmRkNmRjNWM2OTJjYzc2MDk1MjVhN2IyYzk1NjJkNjA4ZjI1ZDUxYSIsIjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NTgiXX0pO3ZhciB3O3RyeXt3PXJlcXVpcmVTZWNwMjU2azEoKX1jYXRjaHt3PXZvaWQgMH1kKCJzZWNwMjU2azEiLHt0eXBlOiJzaG9ydCIscHJpbWU6ImsyNTYiLHA6ImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmYzJmIixhOiIwIixiOiI3IixuOiJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBiYWFlZGNlNiBhZjQ4YTAzYiBiZmQyNWU4YyBkMDM2NDE0MSIsaDoiMSIsaGFzaDpuLnNoYTI1NixiZXRhOiI3YWU5NmEyYjY1N2MwNzEwNmU2NDQ3OWVhYzM0MzRlOTljZjA0OTc1MTJmNTg5OTVjMTM5NmMyODcxOTUwMWVlIixsYW1iZGE6IjUzNjNhZDRjYzA1YzMwZTBhNTI2MWMwMjg4MTI2NDVhMTIyZTIyZWEyMDgxNjY3OGRmMDI5NjdjMWIyM2JkNzIiLGJhc2lzOlt7YToiMzA4NmQyMjFhN2Q0NmJjZGU4NmM5MGU0OTI4NGViMTUiLGI6Ii1lNDQzN2VkNjAxMGU4ODI4NmY1NDdmYTkwYWJmZTRjMyJ9LHthOiIxMTRjYTUwZjdhOGUyZjNmNjU3YzExMDhkOWQ0NGNmZDgiLGI6IjMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1In1dLGdSZWQ6ITEsZzpbIjc5YmU2NjdlZjlkY2JiYWM1NWEwNjI5NWNlODcwYjA3MDI5YmZjZGIyZGNlMjhkOTU5ZjI4MTViMTZmODE3OTgiLCI0ODNhZGE3NzI2YTNjNDY1NWRhNGZiZmMwZTExMDhhOGZkMTdiNDQ4YTY4NTU0MTk5YzQ3ZDA4ZmZiMTBkNGI4Iix3XX0pfSkoY3VydmVzJDEpO3ZhciBoYXNoJDE9aGFzaCQyLHV0aWxzJGU9dXRpbHMkdCxhc3NlcnQkNj1taW5pbWFsaXN0aWNBc3NlcnQ7ZnVuY3Rpb24gSG1hY0RSQkcoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgSG1hY0RSQkcpKXJldHVybiBuZXcgSG1hY0RSQkcoZSk7dGhpcy5oYXNoPWUuaGFzaCx0aGlzLnByZWRSZXNpc3Q9ISFlLnByZWRSZXNpc3QsdGhpcy5vdXRMZW49dGhpcy5oYXNoLm91dFNpemUsdGhpcy5taW5FbnRyb3B5PWUubWluRW50cm9weXx8dGhpcy5oYXNoLmhtYWNTdHJlbmd0aCx0aGlzLl9yZXNlZWQ9bnVsbCx0aGlzLnJlc2VlZEludGVydmFsPW51bGwsdGhpcy5LPW51bGwsdGhpcy5WPW51bGw7dmFyIHQ9dXRpbHMkZS50b0FycmF5KGUuZW50cm9weSxlLmVudHJvcHlFbmN8fCJoZXgiKSxuPXV0aWxzJGUudG9BcnJheShlLm5vbmNlLGUubm9uY2VFbmN8fCJoZXgiKSxhPXV0aWxzJGUudG9BcnJheShlLnBlcnMsZS5wZXJzRW5jfHwiaGV4Iik7YXNzZXJ0JDYodC5sZW5ndGg+PXRoaXMubWluRW50cm9weS84LCJOb3QgZW5vdWdoIGVudHJvcHkuIE1pbmltdW0gaXM6ICIrdGhpcy5taW5FbnRyb3B5KyIgYml0cyIpLHRoaXMuX2luaXQodCxuLGEpfXZhciBobWFjRHJiZz1IbWFjRFJCRztIbWFjRFJCRy5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCxuLGEpe3ZhciB1PXQuY29uY2F0KG4pLmNvbmNhdChhKTt0aGlzLks9bmV3IEFycmF5KHRoaXMub3V0TGVuLzgpLHRoaXMuVj1uZXcgQXJyYXkodGhpcy5vdXRMZW4vOCk7Zm9yKHZhciBvPTA7bzx0aGlzLlYubGVuZ3RoO28rKyl0aGlzLktbb109MCx0aGlzLlZbb109MTt0aGlzLl91cGRhdGUodSksdGhpcy5fcmVzZWVkPTEsdGhpcy5yZXNlZWRJbnRlcnZhbD0yODE0NzQ5NzY3MTA2NTZ9LEhtYWNEUkJHLnByb3RvdHlwZS5faG1hYz1mdW5jdGlvbigpe3JldHVybiBuZXcgaGFzaCQxLmhtYWModGhpcy5oYXNoLHRoaXMuSyl9LEhtYWNEUkJHLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS51cGRhdGUoWzBdKTt0JiYobj1uLnVwZGF0ZSh0KSksdGhpcy5LPW4uZGlnZXN0KCksdGhpcy5WPXRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS5kaWdlc3QoKSx0JiYodGhpcy5LPXRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS51cGRhdGUoWzFdKS51cGRhdGUodCkuZGlnZXN0KCksdGhpcy5WPXRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS5kaWdlc3QoKSl9LEhtYWNEUkJHLnByb3RvdHlwZS5yZXNlZWQ9ZnVuY3Rpb24odCxuLGEsdSl7dHlwZW9mIG4hPSJzdHJpbmciJiYodT1hLGE9bixuPW51bGwpLHQ9dXRpbHMkZS50b0FycmF5KHQsbiksYT11dGlscyRlLnRvQXJyYXkoYSx1KSxhc3NlcnQkNih0Lmxlbmd0aD49dGhpcy5taW5FbnRyb3B5LzgsIk5vdCBlbm91Z2ggZW50cm9weS4gTWluaW11bSBpczogIit0aGlzLm1pbkVudHJvcHkrIiBiaXRzIiksdGhpcy5fdXBkYXRlKHQuY29uY2F0KGF8fFtdKSksdGhpcy5fcmVzZWVkPTF9LEhtYWNEUkJHLnByb3RvdHlwZS5nZW5lcmF0ZT1mdW5jdGlvbih0LG4sYSx1KXtpZih0aGlzLl9yZXNlZWQ+dGhpcy5yZXNlZWRJbnRlcnZhbCl0aHJvdyBuZXcgRXJyb3IoIlJlc2VlZCBpcyByZXF1aXJlZCIpO3R5cGVvZiBuIT0ic3RyaW5nIiYmKHU9YSxhPW4sbj1udWxsKSxhJiYoYT11dGlscyRlLnRvQXJyYXkoYSx1fHwiaGV4IiksdGhpcy5fdXBkYXRlKGEpKTtmb3IodmFyIG89W107by5sZW5ndGg8dDspdGhpcy5WPXRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS5kaWdlc3QoKSxvPW8uY29uY2F0KHRoaXMuVik7dmFyIGg9by5zbGljZSgwLHQpO3JldHVybiB0aGlzLl91cGRhdGUoYSksdGhpcy5fcmVzZWVkKyssdXRpbHMkZS5lbmNvZGUoaCxuKX07dmFyIEJOJDU9Ym5FeHBvcnRzJDIsdXRpbHMkZD11dGlscyR1LGFzc2VydCQ1PXV0aWxzJGQuYXNzZXJ0O2Z1bmN0aW9uIEtleVBhaXIkMihlLHQpe3RoaXMuZWM9ZSx0aGlzLnByaXY9bnVsbCx0aGlzLnB1Yj1udWxsLHQucHJpdiYmdGhpcy5faW1wb3J0UHJpdmF0ZSh0LnByaXYsdC5wcml2RW5jKSx0LnB1YiYmdGhpcy5faW1wb3J0UHVibGljKHQucHViLHQucHViRW5jKX12YXIga2V5JDE9S2V5UGFpciQyO0tleVBhaXIkMi5mcm9tUHVibGljPWZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gbiBpbnN0YW5jZW9mIEtleVBhaXIkMj9uOm5ldyBLZXlQYWlyJDIodCx7cHViOm4scHViRW5jOmF9KX0sS2V5UGFpciQyLmZyb21Qcml2YXRlPWZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gbiBpbnN0YW5jZW9mIEtleVBhaXIkMj9uOm5ldyBLZXlQYWlyJDIodCx7cHJpdjpuLHByaXZFbmM6YX0pfSxLZXlQYWlyJDIucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQdWJsaWMoKTtyZXR1cm4gdC5pc0luZmluaXR5KCk/e3Jlc3VsdDohMSxyZWFzb246IkludmFsaWQgcHVibGljIGtleSJ9OnQudmFsaWRhdGUoKT90Lm11bCh0aGlzLmVjLmN1cnZlLm4pLmlzSW5maW5pdHkoKT97cmVzdWx0OiEwLHJlYXNvbjpudWxsfTp7cmVzdWx0OiExLHJlYXNvbjoiUHVibGljIGtleSAqIE4gIT0gTyJ9OntyZXN1bHQ6ITEscmVhc29uOiJQdWJsaWMga2V5IGlzIG5vdCBhIHBvaW50In19LEtleVBhaXIkMi5wcm90b3R5cGUuZ2V0UHVibGljPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHR5cGVvZiB0PT0ic3RyaW5nIiYmKG49dCx0PW51bGwpLHRoaXMucHVifHwodGhpcy5wdWI9dGhpcy5lYy5nLm11bCh0aGlzLnByaXYpKSxuP3RoaXMucHViLmVuY29kZShuLHQpOnRoaXMucHVifSxLZXlQYWlyJDIucHJvdG90eXBlLmdldFByaXZhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0iaGV4Ij90aGlzLnByaXYudG9TdHJpbmcoMTYsMik6dGhpcy5wcml2fSxLZXlQYWlyJDIucHJvdG90eXBlLl9pbXBvcnRQcml2YXRlPWZ1bmN0aW9uKHQsbil7dGhpcy5wcml2PW5ldyBCTiQ1KHQsbnx8MTYpLHRoaXMucHJpdj10aGlzLnByaXYudW1vZCh0aGlzLmVjLmN1cnZlLm4pfSxLZXlQYWlyJDIucHJvdG90eXBlLl9pbXBvcnRQdWJsaWM9ZnVuY3Rpb24odCxuKXtpZih0Lnh8fHQueSl7dGhpcy5lYy5jdXJ2ZS50eXBlPT09Im1vbnQiP2Fzc2VydCQ1KHQueCwiTmVlZCB4IGNvb3JkaW5hdGUiKToodGhpcy5lYy5jdXJ2ZS50eXBlPT09InNob3J0Inx8dGhpcy5lYy5jdXJ2ZS50eXBlPT09ImVkd2FyZHMiKSYmYXNzZXJ0JDUodC54JiZ0LnksIk5lZWQgYm90aCB4IGFuZCB5IGNvb3JkaW5hdGUiKSx0aGlzLnB1Yj10aGlzLmVjLmN1cnZlLnBvaW50KHQueCx0LnkpO3JldHVybn10aGlzLnB1Yj10aGlzLmVjLmN1cnZlLmRlY29kZVBvaW50KHQsbil9LEtleVBhaXIkMi5wcm90b3R5cGUuZGVyaXZlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbGlkYXRlKCl8fGFzc2VydCQ1KHQudmFsaWRhdGUoKSwicHVibGljIHBvaW50IG5vdCB2YWxpZGF0ZWQiKSx0Lm11bCh0aGlzLnByaXYpLmdldFgoKX0sS2V5UGFpciQyLnByb3RvdHlwZS5zaWduPWZ1bmN0aW9uKHQsbixhKXtyZXR1cm4gdGhpcy5lYy5zaWduKHQsdGhpcyxuLGEpfSxLZXlQYWlyJDIucHJvdG90eXBlLnZlcmlmeT1mdW5jdGlvbih0LG4sYSl7cmV0dXJuIHRoaXMuZWMudmVyaWZ5KHQsbix0aGlzLHZvaWQgMCxhKX0sS2V5UGFpciQyLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIjxLZXkgcHJpdjogIisodGhpcy5wcml2JiZ0aGlzLnByaXYudG9TdHJpbmcoMTYsMikpKyIgcHViOiAiKyh0aGlzLnB1YiYmdGhpcy5wdWIuaW5zcGVjdCgpKSsiID4ifTt2YXIgQk4kND1ibkV4cG9ydHMkMix1dGlscyRjPXV0aWxzJHUsYXNzZXJ0JDQ9dXRpbHMkYy5hc3NlcnQ7ZnVuY3Rpb24gU2lnbmF0dXJlJDIoZSx0KXtpZihlIGluc3RhbmNlb2YgU2lnbmF0dXJlJDIpcmV0dXJuIGU7dGhpcy5faW1wb3J0REVSKGUsdCl8fChhc3NlcnQkNChlLnImJmUucywiU2lnbmF0dXJlIHdpdGhvdXQgciBvciBzIiksdGhpcy5yPW5ldyBCTiQ0KGUuciwxNiksdGhpcy5zPW5ldyBCTiQ0KGUucywxNiksZS5yZWNvdmVyeVBhcmFtPT09dm9pZCAwP3RoaXMucmVjb3ZlcnlQYXJhbT1udWxsOnRoaXMucmVjb3ZlcnlQYXJhbT1lLnJlY292ZXJ5UGFyYW0pfXZhciBzaWduYXR1cmUkMT1TaWduYXR1cmUkMjtmdW5jdGlvbiBQb3NpdGlvbigpe3RoaXMucGxhY2U9MH1mdW5jdGlvbiBnZXRMZW5ndGgoZSx0KXt2YXIgbj1lW3QucGxhY2UrK107aWYoIShuJjEyOCkpcmV0dXJuIG47dmFyIGE9biYxNTtpZihhPT09MHx8YT40fHxlW3QucGxhY2VdPT09MClyZXR1cm4hMTtmb3IodmFyIHU9MCxvPTAsaD10LnBsYWNlO288YTtvKyssaCsrKXU8PD04LHV8PWVbaF0sdT4+Pj0wO3JldHVybiB1PD0xMjc/ITE6KHQucGxhY2U9aCx1KX1mdW5jdGlvbiBybVBhZGRpbmcoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aC0xOyFlW3RdJiYhKGVbdCsxXSYxMjgpJiZ0PG47KXQrKztyZXR1cm4gdD09PTA/ZTplLnNsaWNlKHQpfVNpZ25hdHVyZSQyLnByb3RvdHlwZS5faW1wb3J0REVSPWZ1bmN0aW9uKHQsbil7dD11dGlscyRjLnRvQXJyYXkodCxuKTt2YXIgYT1uZXcgUG9zaXRpb247aWYodFthLnBsYWNlKytdIT09NDgpcmV0dXJuITE7dmFyIHU9Z2V0TGVuZ3RoKHQsYSk7aWYodT09PSExfHx1K2EucGxhY2UhPT10Lmxlbmd0aHx8dFthLnBsYWNlKytdIT09MilyZXR1cm4hMTt2YXIgbz1nZXRMZW5ndGgodCxhKTtpZihvPT09ITF8fHRbYS5wbGFjZV0mMTI4KXJldHVybiExO3ZhciBoPXQuc2xpY2UoYS5wbGFjZSxvK2EucGxhY2UpO2lmKGEucGxhY2UrPW8sdFthLnBsYWNlKytdIT09MilyZXR1cm4hMTt2YXIgZD1nZXRMZW5ndGgodCxhKTtpZihkPT09ITF8fHQubGVuZ3RoIT09ZCthLnBsYWNlfHx0W2EucGxhY2VdJjEyOClyZXR1cm4hMTt2YXIgdz10LnNsaWNlKGEucGxhY2UsZCthLnBsYWNlKTtpZihoWzBdPT09MClpZihoWzFdJjEyOCloPWguc2xpY2UoMSk7ZWxzZSByZXR1cm4hMTtpZih3WzBdPT09MClpZih3WzFdJjEyOCl3PXcuc2xpY2UoMSk7ZWxzZSByZXR1cm4hMTtyZXR1cm4gdGhpcy5yPW5ldyBCTiQ0KGgpLHRoaXMucz1uZXcgQk4kNCh3KSx0aGlzLnJlY292ZXJ5UGFyYW09bnVsbCwhMH07ZnVuY3Rpb24gY29uc3RydWN0TGVuZ3RoKGUsdCl7aWYodDwxMjgpe2UucHVzaCh0KTtyZXR1cm59dmFyIG49MSsoTWF0aC5sb2codCkvTWF0aC5MTjI+Pj4zKTtmb3IoZS5wdXNoKG58MTI4KTstLW47KWUucHVzaCh0Pj4+KG48PDMpJjI1NSk7ZS5wdXNoKHQpfVNpZ25hdHVyZSQyLnByb3RvdHlwZS50b0RFUj1mdW5jdGlvbih0KXt2YXIgbj10aGlzLnIudG9BcnJheSgpLGE9dGhpcy5zLnRvQXJyYXkoKTtmb3IoblswXSYxMjgmJihuPVswXS5jb25jYXQobikpLGFbMF0mMTI4JiYoYT1bMF0uY29uY2F0KGEpKSxuPXJtUGFkZGluZyhuKSxhPXJtUGFkZGluZyhhKTshYVswXSYmIShhWzFdJjEyOCk7KWE9YS5zbGljZSgxKTt2YXIgdT1bMl07Y29uc3RydWN0TGVuZ3RoKHUsbi5sZW5ndGgpLHU9dS5jb25jYXQobiksdS5wdXNoKDIpLGNvbnN0cnVjdExlbmd0aCh1LGEubGVuZ3RoKTt2YXIgbz11LmNvbmNhdChhKSxoPVs0OF07cmV0dXJuIGNvbnN0cnVjdExlbmd0aChoLG8ubGVuZ3RoKSxoPWguY29uY2F0KG8pLHV0aWxzJGMuZW5jb2RlKGgsdCl9O3ZhciBlYyxoYXNSZXF1aXJlZEVjO2Z1bmN0aW9uIHJlcXVpcmVFYygpe2lmKGhhc1JlcXVpcmVkRWMpcmV0dXJuIGVjO2hhc1JlcXVpcmVkRWM9MTt2YXIgZT1ibkV4cG9ydHMkMix0PWhtYWNEcmJnLG49dXRpbHMkdSxhPWN1cnZlcyQxLHU9cmVxdWlyZUJyb3JhbmQoKSxvPW4uYXNzZXJ0LGg9a2V5JDEsZD1zaWduYXR1cmUkMTtmdW5jdGlvbiB3KF8pe2lmKCEodGhpcyBpbnN0YW5jZW9mIHcpKXJldHVybiBuZXcgdyhfKTt0eXBlb2YgXz09InN0cmluZyImJihvKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLF8pLCJVbmtub3duIGN1cnZlICIrXyksXz1hW19dKSxfIGluc3RhbmNlb2YgYS5QcmVzZXRDdXJ2ZSYmKF89e2N1cnZlOl99KSx0aGlzLmN1cnZlPV8uY3VydmUuY3VydmUsdGhpcy5uPXRoaXMuY3VydmUubix0aGlzLm5oPXRoaXMubi51c2hybigxKSx0aGlzLmc9dGhpcy5jdXJ2ZS5nLHRoaXMuZz1fLmN1cnZlLmcsdGhpcy5nLnByZWNvbXB1dGUoXy5jdXJ2ZS5uLmJpdExlbmd0aCgpKzEpLHRoaXMuaGFzaD1fLmhhc2h8fF8uY3VydmUuaGFzaH1yZXR1cm4gZWM9dyx3LnByb3RvdHlwZS5rZXlQYWlyPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgaCh0aGlzLGIpfSx3LnByb3RvdHlwZS5rZXlGcm9tUHJpdmF0ZT1mdW5jdGlvbihiLE0pe3JldHVybiBoLmZyb21Qcml2YXRlKHRoaXMsYixNKX0sdy5wcm90b3R5cGUua2V5RnJvbVB1YmxpYz1mdW5jdGlvbihiLE0pe3JldHVybiBoLmZyb21QdWJsaWModGhpcyxiLE0pfSx3LnByb3RvdHlwZS5nZW5LZXlQYWlyPWZ1bmN0aW9uKGIpe2J8fChiPXt9KTtmb3IodmFyIE09bmV3IHQoe2hhc2g6dGhpcy5oYXNoLHBlcnM6Yi5wZXJzLHBlcnNFbmM6Yi5wZXJzRW5jfHwidXRmOCIsZW50cm9weTpiLmVudHJvcHl8fHUodGhpcy5oYXNoLmhtYWNTdHJlbmd0aCksZW50cm9weUVuYzpiLmVudHJvcHkmJmIuZW50cm9weUVuY3x8InV0ZjgiLG5vbmNlOnRoaXMubi50b0FycmF5KCl9KSxPPXRoaXMubi5ieXRlTGVuZ3RoKCksVD10aGlzLm4uc3ViKG5ldyBlKDIpKTs7KXt2YXIgUD1uZXcgZShNLmdlbmVyYXRlKE8pKTtpZighKFAuY21wKFQpPjApKXJldHVybiBQLmlhZGRuKDEpLHRoaXMua2V5RnJvbVByaXZhdGUoUCl9fSx3LnByb3RvdHlwZS5fdHJ1bmNhdGVUb049ZnVuY3Rpb24oYixNLE8pe3ZhciBUO2lmKGUuaXNCTihiKXx8dHlwZW9mIGI9PSJudW1iZXIiKWI9bmV3IGUoYiwxNiksVD1iLmJ5dGVMZW5ndGgoKTtlbHNlIGlmKHR5cGVvZiBiPT0ib2JqZWN0IilUPWIubGVuZ3RoLGI9bmV3IGUoYiwxNik7ZWxzZXt2YXIgUD1iLnRvU3RyaW5nKCk7VD1QLmxlbmd0aCsxPj4+MSxiPW5ldyBlKFAsMTYpfXR5cGVvZiBPIT0ibnVtYmVyIiYmKE89VCo4KTt2YXIgTD1PLXRoaXMubi5iaXRMZW5ndGgoKTtyZXR1cm4gTD4wJiYoYj1iLnVzaHJuKEwpKSwhTSYmYi5jbXAodGhpcy5uKT49MD9iLnN1Yih0aGlzLm4pOmJ9LHcucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24oYixNLE8sVCl7aWYodHlwZW9mIE89PSJvYmplY3QiJiYoVD1PLE89bnVsbCksVHx8KFQ9e30pLHR5cGVvZiBiIT0ic3RyaW5nIiYmdHlwZW9mIGIhPSJudW1iZXIiJiYhZS5pc0JOKGIpKXtvKHR5cGVvZiBiPT0ib2JqZWN0IiYmYiYmdHlwZW9mIGIubGVuZ3RoPT0ibnVtYmVyIiwiRXhwZWN0ZWQgbWVzc2FnZSB0byBiZSBhbiBhcnJheS1saWtlLCBhIGhleCBzdHJpbmcsIG9yIGEgQk4gaW5zdGFuY2UiKSxvKGIubGVuZ3RoPj4+MD09PWIubGVuZ3RoKTtmb3IodmFyIFA9MDtQPGIubGVuZ3RoO1ArKylvKChiW1BdJjI1NSk9PT1iW1BdKX1NPXRoaXMua2V5RnJvbVByaXZhdGUoTSxPKSxiPXRoaXMuX3RydW5jYXRlVG9OKGIsITEsVC5tc2dCaXRMZW5ndGgpLG8oIWIuaXNOZWcoKSwiQ2FuIG5vdCBzaWduIGEgbmVnYXRpdmUgbWVzc2FnZSIpO3ZhciBMPXRoaXMubi5ieXRlTGVuZ3RoKCksej1NLmdldFByaXZhdGUoKS50b0FycmF5KCJiZSIsTCksSD1iLnRvQXJyYXkoImJlIixMKTtvKG5ldyBlKEgpLmVxKGIpLCJDYW4gbm90IHNpZ24gbWVzc2FnZSIpO2Zvcih2YXIgVj1uZXcgdCh7aGFzaDp0aGlzLmhhc2gsZW50cm9weTp6LG5vbmNlOkgscGVyczpULnBlcnMscGVyc0VuYzpULnBlcnNFbmN8fCJ1dGY4In0pLGFlPXRoaXMubi5zdWIobmV3IGUoMSkpLGllPTA7O2llKyspe3ZhciBRPVQuaz9ULmsoaWUpOm5ldyBlKFYuZ2VuZXJhdGUodGhpcy5uLmJ5dGVMZW5ndGgoKSkpO2lmKFE9dGhpcy5fdHJ1bmNhdGVUb04oUSwhMCksIShRLmNtcG4oMSk8PTB8fFEuY21wKGFlKT49MCkpe3ZhciByZT10aGlzLmcubXVsKFEpO2lmKCFyZS5pc0luZmluaXR5KCkpe3ZhciBjZT1yZS5nZXRYKCksbGU9Y2UudW1vZCh0aGlzLm4pO2lmKGxlLmNtcG4oMCkhPT0wKXt2YXIgb2U9US5pbnZtKHRoaXMubikubXVsKGxlLm11bChNLmdldFByaXZhdGUoKSkuaWFkZChiKSk7aWYob2U9b2UudW1vZCh0aGlzLm4pLG9lLmNtcG4oMCkhPT0wKXt2YXIgeWU9KHJlLmdldFkoKS5pc09kZCgpPzE6MCl8KGNlLmNtcChsZSkhPT0wPzI6MCk7cmV0dXJuIFQuY2Fub25pY2FsJiZvZS5jbXAodGhpcy5uaCk+MCYmKG9lPXRoaXMubi5zdWIob2UpLHllXj0xKSxuZXcgZCh7cjpsZSxzOm9lLHJlY292ZXJ5UGFyYW06eWV9KX19fX19fSx3LnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24oYixNLE8sVCxQKXtQfHwoUD17fSksYj10aGlzLl90cnVuY2F0ZVRvTihiLCExLFAubXNnQml0TGVuZ3RoKSxPPXRoaXMua2V5RnJvbVB1YmxpYyhPLFQpLE09bmV3IGQoTSwiaGV4Iik7dmFyIEw9TS5yLHo9TS5zO2lmKEwuY21wbigxKTwwfHxMLmNtcCh0aGlzLm4pPj0wfHx6LmNtcG4oMSk8MHx8ei5jbXAodGhpcy5uKT49MClyZXR1cm4hMTt2YXIgSD16Lmludm0odGhpcy5uKSxWPUgubXVsKGIpLnVtb2QodGhpcy5uKSxhZT1ILm11bChMKS51bW9kKHRoaXMubiksaWU7cmV0dXJuIHRoaXMuY3VydmUuX21heHdlbGxUcmljaz8oaWU9dGhpcy5nLmptdWxBZGQoVixPLmdldFB1YmxpYygpLGFlKSxpZS5pc0luZmluaXR5KCk/ITE6aWUuZXFYVG9QKEwpKTooaWU9dGhpcy5nLm11bEFkZChWLE8uZ2V0UHVibGljKCksYWUpLGllLmlzSW5maW5pdHkoKT8hMTppZS5nZXRYKCkudW1vZCh0aGlzLm4pLmNtcChMKT09PTApfSx3LnByb3RvdHlwZS5yZWNvdmVyUHViS2V5PWZ1bmN0aW9uKF8sYixNLE8pe28oKDMmTSk9PT1NLCJUaGUgcmVjb3ZlcnkgcGFyYW0gaXMgbW9yZSB0aGFuIHR3byBiaXRzIiksYj1uZXcgZChiLE8pO3ZhciBUPXRoaXMubixQPW5ldyBlKF8pLEw9Yi5yLHo9Yi5zLEg9TSYxLFY9TT4+MTtpZihMLmNtcCh0aGlzLmN1cnZlLnAudW1vZCh0aGlzLmN1cnZlLm4pKT49MCYmVil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBmaW5kIHNlbmNvbmQga2V5IGNhbmRpbmF0ZSIpO1Y/TD10aGlzLmN1cnZlLnBvaW50RnJvbVgoTC5hZGQodGhpcy5jdXJ2ZS5uKSxIKTpMPXRoaXMuY3VydmUucG9pbnRGcm9tWChMLEgpO3ZhciBhZT1iLnIuaW52bShUKSxpZT1ULnN1YihQKS5tdWwoYWUpLnVtb2QoVCksUT16Lm11bChhZSkudW1vZChUKTtyZXR1cm4gdGhpcy5nLm11bEFkZChpZSxMLFEpfSx3LnByb3RvdHlwZS5nZXRLZXlSZWNvdmVyeVBhcmFtPWZ1bmN0aW9uKF8sYixNLE8pe2lmKGI9bmV3IGQoYixPKSxiLnJlY292ZXJ5UGFyYW0hPT1udWxsKXJldHVybiBiLnJlY292ZXJ5UGFyYW07Zm9yKHZhciBUPTA7VDw0O1QrKyl7dmFyIFA7dHJ5e1A9dGhpcy5yZWNvdmVyUHViS2V5KF8sYixUKX1jYXRjaHtjb250aW51ZX1pZihQLmVxKE0pKXJldHVybiBUfXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGZpbmQgdmFsaWQgcmVjb3ZlcnkgZmFjdG9yIil9LGVjfXZhciB1dGlscyRiPXV0aWxzJHUsYXNzZXJ0JDM9dXRpbHMkYi5hc3NlcnQscGFyc2VCeXRlcyQyPXV0aWxzJGIucGFyc2VCeXRlcyxjYWNoZWRQcm9wZXJ0eSQxPXV0aWxzJGIuY2FjaGVkUHJvcGVydHk7ZnVuY3Rpb24gS2V5UGFpciQxKGUsdCl7dGhpcy5lZGRzYT1lLHRoaXMuX3NlY3JldD1wYXJzZUJ5dGVzJDIodC5zZWNyZXQpLGUuaXNQb2ludCh0LnB1Yik/dGhpcy5fcHViPXQucHViOnRoaXMuX3B1YkJ5dGVzPXBhcnNlQnl0ZXMkMih0LnB1Yil9S2V5UGFpciQxLmZyb21QdWJsaWM9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIEtleVBhaXIkMT9uOm5ldyBLZXlQYWlyJDEodCx7cHViOm59KX0sS2V5UGFpciQxLmZyb21TZWNyZXQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIEtleVBhaXIkMT9uOm5ldyBLZXlQYWlyJDEodCx7c2VjcmV0Om59KX0sS2V5UGFpciQxLnByb3RvdHlwZS5zZWNyZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VjcmV0fSxjYWNoZWRQcm9wZXJ0eSQxKEtleVBhaXIkMSwicHViQnl0ZXMiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRkc2EuZW5jb2RlUG9pbnQodGhpcy5wdWIoKSl9KSxjYWNoZWRQcm9wZXJ0eSQxKEtleVBhaXIkMSwicHViIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wdWJCeXRlcz90aGlzLmVkZHNhLmRlY29kZVBvaW50KHRoaXMuX3B1YkJ5dGVzKTp0aGlzLmVkZHNhLmcubXVsKHRoaXMucHJpdigpKX0pLGNhY2hlZFByb3BlcnR5JDEoS2V5UGFpciQxLCJwcml2Qnl0ZXMiLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lZGRzYSxuPXRoaXMuaGFzaCgpLGE9dC5lbmNvZGluZ0xlbmd0aC0xLHU9bi5zbGljZSgwLHQuZW5jb2RpbmdMZW5ndGgpO3JldHVybiB1WzBdJj0yNDgsdVthXSY9MTI3LHVbYV18PTY0LHV9KSxjYWNoZWRQcm9wZXJ0eSQxKEtleVBhaXIkMSwicHJpdiIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGRzYS5kZWNvZGVJbnQodGhpcy5wcml2Qnl0ZXMoKSl9KSxjYWNoZWRQcm9wZXJ0eSQxKEtleVBhaXIkMSwiaGFzaCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGRzYS5oYXNoKCkudXBkYXRlKHRoaXMuc2VjcmV0KCkpLmRpZ2VzdCgpfSksY2FjaGVkUHJvcGVydHkkMShLZXlQYWlyJDEsIm1lc3NhZ2VQcmVmaXgiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzaCgpLnNsaWNlKHRoaXMuZWRkc2EuZW5jb2RpbmdMZW5ndGgpfSksS2V5UGFpciQxLnByb3RvdHlwZS5zaWduPWZ1bmN0aW9uKHQpe3JldHVybiBhc3NlcnQkMyh0aGlzLl9zZWNyZXQsIktleVBhaXIgY2FuIG9ubHkgdmVyaWZ5IiksdGhpcy5lZGRzYS5zaWduKHQsdGhpcyl9LEtleVBhaXIkMS5wcm90b3R5cGUudmVyaWZ5PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHRoaXMuZWRkc2EudmVyaWZ5KHQsbix0aGlzKX0sS2V5UGFpciQxLnByb3RvdHlwZS5nZXRTZWNyZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFzc2VydCQzKHRoaXMuX3NlY3JldCwiS2V5UGFpciBpcyBwdWJsaWMgb25seSIpLHV0aWxzJGIuZW5jb2RlKHRoaXMuc2VjcmV0KCksdCl9LEtleVBhaXIkMS5wcm90b3R5cGUuZ2V0UHVibGljPWZ1bmN0aW9uKHQpe3JldHVybiB1dGlscyRiLmVuY29kZSh0aGlzLnB1YkJ5dGVzKCksdCl9O3ZhciBrZXk9S2V5UGFpciQxLEJOJDM9Ym5FeHBvcnRzJDIsdXRpbHMkYT11dGlscyR1LGFzc2VydCQyPXV0aWxzJGEuYXNzZXJ0LGNhY2hlZFByb3BlcnR5PXV0aWxzJGEuY2FjaGVkUHJvcGVydHkscGFyc2VCeXRlcyQxPXV0aWxzJGEucGFyc2VCeXRlcztmdW5jdGlvbiBTaWduYXR1cmUkMShlLHQpe3RoaXMuZWRkc2E9ZSx0eXBlb2YgdCE9Im9iamVjdCImJih0PXBhcnNlQnl0ZXMkMSh0KSksQXJyYXkuaXNBcnJheSh0KSYmKGFzc2VydCQyKHQubGVuZ3RoPT09ZS5lbmNvZGluZ0xlbmd0aCoyLCJTaWduYXR1cmUgaGFzIGludmFsaWQgc2l6ZSIpLHQ9e1I6dC5zbGljZSgwLGUuZW5jb2RpbmdMZW5ndGgpLFM6dC5zbGljZShlLmVuY29kaW5nTGVuZ3RoKX0pLGFzc2VydCQyKHQuUiYmdC5TLCJTaWduYXR1cmUgd2l0aG91dCBSIG9yIFMiKSxlLmlzUG9pbnQodC5SKSYmKHRoaXMuX1I9dC5SKSx0LlMgaW5zdGFuY2VvZiBCTiQzJiYodGhpcy5fUz10LlMpLHRoaXMuX1JlbmNvZGVkPUFycmF5LmlzQXJyYXkodC5SKT90LlI6dC5SZW5jb2RlZCx0aGlzLl9TZW5jb2RlZD1BcnJheS5pc0FycmF5KHQuUyk/dC5TOnQuU2VuY29kZWR9Y2FjaGVkUHJvcGVydHkoU2lnbmF0dXJlJDEsIlMiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRkc2EuZGVjb2RlSW50KHRoaXMuU2VuY29kZWQoKSl9KSxjYWNoZWRQcm9wZXJ0eShTaWduYXR1cmUkMSwiUiIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGRzYS5kZWNvZGVQb2ludCh0aGlzLlJlbmNvZGVkKCkpfSksY2FjaGVkUHJvcGVydHkoU2lnbmF0dXJlJDEsIlJlbmNvZGVkIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZHNhLmVuY29kZVBvaW50KHRoaXMuUigpKX0pLGNhY2hlZFByb3BlcnR5KFNpZ25hdHVyZSQxLCJTZW5jb2RlZCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGRzYS5lbmNvZGVJbnQodGhpcy5TKCkpfSksU2lnbmF0dXJlJDEucHJvdG90eXBlLnRvQnl0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SZW5jb2RlZCgpLmNvbmNhdCh0aGlzLlNlbmNvZGVkKCkpfSxTaWduYXR1cmUkMS5wcm90b3R5cGUudG9IZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdXRpbHMkYS5lbmNvZGUodGhpcy50b0J5dGVzKCksImhleCIpLnRvVXBwZXJDYXNlKCl9O3ZhciBzaWduYXR1cmU9U2lnbmF0dXJlJDEsaGFzaD1oYXNoJDIsY3VydmVzPWN1cnZlcyQxLHV0aWxzJDk9dXRpbHMkdSxhc3NlcnQkMT11dGlscyQ5LmFzc2VydCxwYXJzZUJ5dGVzPXV0aWxzJDkucGFyc2VCeXRlcyxLZXlQYWlyPWtleSxTaWduYXR1cmU9c2lnbmF0dXJlO2Z1bmN0aW9uIEVERFNBKGUpe2lmKGFzc2VydCQxKGU9PT0iZWQyNTUxOSIsIm9ubHkgdGVzdGVkIHdpdGggZWQyNTUxOSBzbyBmYXIiKSwhKHRoaXMgaW5zdGFuY2VvZiBFRERTQSkpcmV0dXJuIG5ldyBFRERTQShlKTtlPWN1cnZlc1tlXS5jdXJ2ZSx0aGlzLmN1cnZlPWUsdGhpcy5nPWUuZyx0aGlzLmcucHJlY29tcHV0ZShlLm4uYml0TGVuZ3RoKCkrMSksdGhpcy5wb2ludENsYXNzPWUucG9pbnQoKS5jb25zdHJ1Y3Rvcix0aGlzLmVuY29kaW5nTGVuZ3RoPU1hdGguY2VpbChlLm4uYml0TGVuZ3RoKCkvOCksdGhpcy5oYXNoPWhhc2guc2hhNTEyfXZhciBlZGRzYT1FRERTQTtFRERTQS5wcm90b3R5cGUuc2lnbj1mdW5jdGlvbih0LG4pe3Q9cGFyc2VCeXRlcyh0KTt2YXIgYT10aGlzLmtleUZyb21TZWNyZXQobiksdT10aGlzLmhhc2hJbnQoYS5tZXNzYWdlUHJlZml4KCksdCksbz10aGlzLmcubXVsKHUpLGg9dGhpcy5lbmNvZGVQb2ludChvKSxkPXRoaXMuaGFzaEludChoLGEucHViQnl0ZXMoKSx0KS5tdWwoYS5wcml2KCkpLHc9dS5hZGQoZCkudW1vZCh0aGlzLmN1cnZlLm4pO3JldHVybiB0aGlzLm1ha2VTaWduYXR1cmUoe1I6byxTOncsUmVuY29kZWQ6aH0pfSxFRERTQS5wcm90b3R5cGUudmVyaWZ5PWZ1bmN0aW9uKHQsbixhKXtpZih0PXBhcnNlQnl0ZXModCksbj10aGlzLm1ha2VTaWduYXR1cmUobiksbi5TKCkuZ3RlKG4uZWRkc2EuY3VydmUubil8fG4uUygpLmlzTmVnKCkpcmV0dXJuITE7dmFyIHU9dGhpcy5rZXlGcm9tUHVibGljKGEpLG89dGhpcy5oYXNoSW50KG4uUmVuY29kZWQoKSx1LnB1YkJ5dGVzKCksdCksaD10aGlzLmcubXVsKG4uUygpKSxkPW4uUigpLmFkZCh1LnB1YigpLm11bChvKSk7cmV0dXJuIGQuZXEoaCl9LEVERFNBLnByb3RvdHlwZS5oYXNoSW50PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuaGFzaCgpLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQudXBkYXRlKGFyZ3VtZW50c1tuXSk7cmV0dXJuIHV0aWxzJDkuaW50RnJvbUxFKHQuZGlnZXN0KCkpLnVtb2QodGhpcy5jdXJ2ZS5uKX0sRUREU0EucHJvdG90eXBlLmtleUZyb21QdWJsaWM9ZnVuY3Rpb24odCl7cmV0dXJuIEtleVBhaXIuZnJvbVB1YmxpYyh0aGlzLHQpfSxFRERTQS5wcm90b3R5cGUua2V5RnJvbVNlY3JldD1mdW5jdGlvbih0KXtyZXR1cm4gS2V5UGFpci5mcm9tU2VjcmV0KHRoaXMsdCl9LEVERFNBLnByb3RvdHlwZS5tYWtlU2lnbmF0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgU2lnbmF0dXJlP3Q6bmV3IFNpZ25hdHVyZSh0aGlzLHQpfSxFRERTQS5wcm90b3R5cGUuZW5jb2RlUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIG49dC5nZXRZKCkudG9BcnJheSgibGUiLHRoaXMuZW5jb2RpbmdMZW5ndGgpO3JldHVybiBuW3RoaXMuZW5jb2RpbmdMZW5ndGgtMV18PXQuZ2V0WCgpLmlzT2RkKCk/MTI4OjAsbn0sRUREU0EucHJvdG90eXBlLmRlY29kZVBvaW50PWZ1bmN0aW9uKHQpe3Q9dXRpbHMkOS5wYXJzZUJ5dGVzKHQpO3ZhciBuPXQubGVuZ3RoLTEsYT10LnNsaWNlKDAsbikuY29uY2F0KHRbbl0mLTEyOSksdT0odFtuXSYxMjgpIT09MCxvPXV0aWxzJDkuaW50RnJvbUxFKGEpO3JldHVybiB0aGlzLmN1cnZlLnBvaW50RnJvbVkobyx1KX0sRUREU0EucHJvdG90eXBlLmVuY29kZUludD1mdW5jdGlvbih0KXtyZXR1cm4gdC50b0FycmF5KCJsZSIsdGhpcy5lbmNvZGluZ0xlbmd0aCl9LEVERFNBLnByb3RvdHlwZS5kZWNvZGVJbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHV0aWxzJDkuaW50RnJvbUxFKHQpfSxFRERTQS5wcm90b3R5cGUuaXNQb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHRoaXMucG9pbnRDbGFzc307dmFyIGhhc1JlcXVpcmVkRWxsaXB0aWM7ZnVuY3Rpb24gcmVxdWlyZUVsbGlwdGljKCl7cmV0dXJuIGhhc1JlcXVpcmVkRWxsaXB0aWN8fChoYXNSZXF1aXJlZEVsbGlwdGljPTEsZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0LnZlcnNpb249cmVxdWlyZSQkMC52ZXJzaW9uLHQudXRpbHM9dXRpbHMkdSx0LnJhbmQ9cmVxdWlyZUJyb3JhbmQoKSx0LmN1cnZlPWN1cnZlLHQuY3VydmVzPWN1cnZlcyQxLHQuZWM9cmVxdWlyZUVjKCksdC5lZGRzYT1lZGRzYX0oZWxsaXB0aWMpKSxlbGxpcHRpY312YXIgYm49e2V4cG9ydHM6e319O2JuLmV4cG9ydHMsZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gYShtLGwpe2lmKCFtKXRocm93IG5ldyBFcnJvcihsfHwiQXNzZXJ0aW9uIGZhaWxlZCIpfWZ1bmN0aW9uIHUobSxsKXttLnN1cGVyXz1sO3ZhciB2PWZ1bmN0aW9uKCl7fTt2LnByb3RvdHlwZT1sLnByb3RvdHlwZSxtLnByb3RvdHlwZT1uZXcgdixtLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1tfWZ1bmN0aW9uIG8obSxsLHYpe2lmKG8uaXNCTihtKSlyZXR1cm4gbTt0aGlzLm5lZ2F0aXZlPTAsdGhpcy53b3Jkcz1udWxsLHRoaXMubGVuZ3RoPTAsdGhpcy5yZWQ9bnVsbCxtIT09bnVsbCYmKChsPT09ImxlInx8bD09PSJiZSIpJiYodj1sLGw9MTApLHRoaXMuX2luaXQobXx8MCxsfHwxMCx2fHwiYmUiKSl9dHlwZW9mIHQ9PSJvYmplY3QiP3QuZXhwb3J0cz1vOm4uQk49byxvLkJOPW8sby53b3JkU2l6ZT0yNjt2YXIgaDt0cnl7dHlwZW9mIHdpbmRvdzwidSImJnR5cGVvZiB3aW5kb3cuQnVmZmVyPCJ1Ij9oPXdpbmRvdy5CdWZmZXI6aD1idWZmZXIkMi5CdWZmZXJ9Y2F0Y2h7fW8uaXNCTj1mdW5jdGlvbihsKXtyZXR1cm4gbCBpbnN0YW5jZW9mIG8/ITA6bCE9PW51bGwmJnR5cGVvZiBsPT0ib2JqZWN0IiYmbC5jb25zdHJ1Y3Rvci53b3JkU2l6ZT09PW8ud29yZFNpemUmJkFycmF5LmlzQXJyYXkobC53b3Jkcyl9LG8ubWF4PWZ1bmN0aW9uKGwsdil7cmV0dXJuIGwuY21wKHYpPjA/bDp2fSxvLm1pbj1mdW5jdGlvbihsLHYpe3JldHVybiBsLmNtcCh2KTwwP2w6dn0sby5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24obCx2LEUpe2lmKHR5cGVvZiBsPT0ibnVtYmVyIilyZXR1cm4gdGhpcy5faW5pdE51bWJlcihsLHYsRSk7aWYodHlwZW9mIGw9PSJvYmplY3QiKXJldHVybiB0aGlzLl9pbml0QXJyYXkobCx2LEUpO3Y9PT0iaGV4IiYmKHY9MTYpLGEodj09PSh2fDApJiZ2Pj0yJiZ2PD0zNiksbD1sLnRvU3RyaW5nKCkucmVwbGFjZSgvXHMrL2csIiIpO3ZhciBTPTA7bFswXT09PSItIiYmKFMrKyx0aGlzLm5lZ2F0aXZlPTEpLFM8bC5sZW5ndGgmJih2PT09MTY/dGhpcy5fcGFyc2VIZXgobCxTLEUpOih0aGlzLl9wYXJzZUJhc2UobCx2LFMpLEU9PT0ibGUiJiZ0aGlzLl9pbml0QXJyYXkodGhpcy50b0FycmF5KCksdixFKSkpfSxvLnByb3RvdHlwZS5faW5pdE51bWJlcj1mdW5jdGlvbihsLHYsRSl7bDwwJiYodGhpcy5uZWdhdGl2ZT0xLGw9LWwpLGw8NjcxMDg4NjQ/KHRoaXMud29yZHM9W2wmNjcxMDg4NjNdLHRoaXMubGVuZ3RoPTEpOmw8NDUwMzU5OTYyNzM3MDQ5Nj8odGhpcy53b3Jkcz1bbCY2NzEwODg2MyxsLzY3MTA4ODY0JjY3MTA4ODYzXSx0aGlzLmxlbmd0aD0yKTooYShsPDkwMDcxOTkyNTQ3NDA5OTIpLHRoaXMud29yZHM9W2wmNjcxMDg4NjMsbC82NzEwODg2NCY2NzEwODg2MywxXSx0aGlzLmxlbmd0aD0zKSxFPT09ImxlIiYmdGhpcy5faW5pdEFycmF5KHRoaXMudG9BcnJheSgpLHYsRSl9LG8ucHJvdG90eXBlLl9pbml0QXJyYXk9ZnVuY3Rpb24obCx2LEUpe2lmKGEodHlwZW9mIGwubGVuZ3RoPT0ibnVtYmVyIiksbC5sZW5ndGg8PTApcmV0dXJuIHRoaXMud29yZHM9WzBdLHRoaXMubGVuZ3RoPTEsdGhpczt0aGlzLmxlbmd0aD1NYXRoLmNlaWwobC5sZW5ndGgvMyksdGhpcy53b3Jkcz1uZXcgQXJyYXkodGhpcy5sZW5ndGgpO2Zvcih2YXIgUz0wO1M8dGhpcy5sZW5ndGg7UysrKXRoaXMud29yZHNbU109MDt2YXIgQixBLHk9MDtpZihFPT09ImJlIilmb3IoUz1sLmxlbmd0aC0xLEI9MDtTPj0wO1MtPTMpQT1sW1NdfGxbUy0xXTw8OHxsW1MtMl08PDE2LHRoaXMud29yZHNbQl18PUE8PHkmNjcxMDg4NjMsdGhpcy53b3Jkc1tCKzFdPUE+Pj4yNi15JjY3MTA4ODYzLHkrPTI0LHk+PTI2JiYoeS09MjYsQisrKTtlbHNlIGlmKEU9PT0ibGUiKWZvcihTPTAsQj0wO1M8bC5sZW5ndGg7Uys9MylBPWxbU118bFtTKzFdPDw4fGxbUysyXTw8MTYsdGhpcy53b3Jkc1tCXXw9QTw8eSY2NzEwODg2Myx0aGlzLndvcmRzW0IrMV09QT4+PjI2LXkmNjcxMDg4NjMseSs9MjQseT49MjYmJih5LT0yNixCKyspO3JldHVybiB0aGlzLl9zdHJpcCgpfTtmdW5jdGlvbiBkKG0sbCl7dmFyIHY9bS5jaGFyQ29kZUF0KGwpO2lmKHY+PTQ4JiZ2PD01NylyZXR1cm4gdi00ODtpZih2Pj02NSYmdjw9NzApcmV0dXJuIHYtNTU7aWYodj49OTcmJnY8PTEwMilyZXR1cm4gdi04NzthKCExLCJJbnZhbGlkIGNoYXJhY3RlciBpbiAiK20pfWZ1bmN0aW9uIHcobSxsLHYpe3ZhciBFPWQobSx2KTtyZXR1cm4gdi0xPj1sJiYoRXw9ZChtLHYtMSk8PDQpLEV9by5wcm90b3R5cGUuX3BhcnNlSGV4PWZ1bmN0aW9uKGwsdixFKXt0aGlzLmxlbmd0aD1NYXRoLmNlaWwoKGwubGVuZ3RoLXYpLzYpLHRoaXMud29yZHM9bmV3IEFycmF5KHRoaXMubGVuZ3RoKTtmb3IodmFyIFM9MDtTPHRoaXMubGVuZ3RoO1MrKyl0aGlzLndvcmRzW1NdPTA7dmFyIEI9MCxBPTAseTtpZihFPT09ImJlIilmb3IoUz1sLmxlbmd0aC0xO1M+PXY7Uy09Mil5PXcobCx2LFMpPDxCLHRoaXMud29yZHNbQV18PXkmNjcxMDg4NjMsQj49MTg/KEItPTE4LEErPTEsdGhpcy53b3Jkc1tBXXw9eT4+PjI2KTpCKz04O2Vsc2V7dmFyIHg9bC5sZW5ndGgtdjtmb3IoUz14JTI9PT0wP3YrMTp2O1M8bC5sZW5ndGg7Uys9Mil5PXcobCx2LFMpPDxCLHRoaXMud29yZHNbQV18PXkmNjcxMDg4NjMsQj49MTg/KEItPTE4LEErPTEsdGhpcy53b3Jkc1tBXXw9eT4+PjI2KTpCKz04fXRoaXMuX3N0cmlwKCl9O2Z1bmN0aW9uIF8obSxsLHYsRSl7Zm9yKHZhciBTPTAsQj0wLEE9TWF0aC5taW4obS5sZW5ndGgsdikseT1sO3k8QTt5Kyspe3ZhciB4PW0uY2hhckNvZGVBdCh5KS00ODtTKj1FLHg+PTQ5P0I9eC00OSsxMDp4Pj0xNz9CPXgtMTcrMTA6Qj14LGEoeD49MCYmQjxFLCJJbnZhbGlkIGNoYXJhY3RlciIpLFMrPUJ9cmV0dXJuIFN9by5wcm90b3R5cGUuX3BhcnNlQmFzZT1mdW5jdGlvbihsLHYsRSl7dGhpcy53b3Jkcz1bMF0sdGhpcy5sZW5ndGg9MTtmb3IodmFyIFM9MCxCPTE7Qjw9NjcxMDg4NjM7Qio9dilTKys7Uy0tLEI9Qi92fDA7Zm9yKHZhciBBPWwubGVuZ3RoLUUseT1BJVMseD1NYXRoLm1pbihBLEEteSkrRSxwPTAsST1FO0k8eDtJKz1TKXA9XyhsLEksSStTLHYpLHRoaXMuaW11bG4oQiksdGhpcy53b3Jkc1swXStwPDY3MTA4ODY0P3RoaXMud29yZHNbMF0rPXA6dGhpcy5faWFkZG4ocCk7aWYoeSE9PTApe3ZhciBlZT0xO2ZvcihwPV8obCxJLGwubGVuZ3RoLHYpLEk9MDtJPHk7SSsrKWVlKj12O3RoaXMuaW11bG4oZWUpLHRoaXMud29yZHNbMF0rcDw2NzEwODg2ND90aGlzLndvcmRzWzBdKz1wOnRoaXMuX2lhZGRuKHApfXRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24obCl7bC53b3Jkcz1uZXcgQXJyYXkodGhpcy5sZW5ndGgpO2Zvcih2YXIgdj0wO3Y8dGhpcy5sZW5ndGg7disrKWwud29yZHNbdl09dGhpcy53b3Jkc1t2XTtsLmxlbmd0aD10aGlzLmxlbmd0aCxsLm5lZ2F0aXZlPXRoaXMubmVnYXRpdmUsbC5yZWQ9dGhpcy5yZWR9O2Z1bmN0aW9uIGIobSxsKXttLndvcmRzPWwud29yZHMsbS5sZW5ndGg9bC5sZW5ndGgsbS5uZWdhdGl2ZT1sLm5lZ2F0aXZlLG0ucmVkPWwucmVkfWlmKG8ucHJvdG90eXBlLl9tb3ZlPWZ1bmN0aW9uKGwpe2IobCx0aGlzKX0sby5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgbD1uZXcgbyhudWxsKTtyZXR1cm4gdGhpcy5jb3B5KGwpLGx9LG8ucHJvdG90eXBlLl9leHBhbmQ9ZnVuY3Rpb24obCl7Zm9yKDt0aGlzLmxlbmd0aDxsOyl0aGlzLndvcmRzW3RoaXMubGVuZ3RoKytdPTA7cmV0dXJuIHRoaXN9LG8ucHJvdG90eXBlLl9zdHJpcD1mdW5jdGlvbigpe2Zvcig7dGhpcy5sZW5ndGg+MSYmdGhpcy53b3Jkc1t0aGlzLmxlbmd0aC0xXT09PTA7KXRoaXMubGVuZ3RoLS07cmV0dXJuIHRoaXMuX25vcm1TaWduKCl9LG8ucHJvdG90eXBlLl9ub3JtU2lnbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD09PTEmJnRoaXMud29yZHNbMF09PT0wJiYodGhpcy5uZWdhdGl2ZT0wKSx0aGlzfSx0eXBlb2YgU3ltYm9sPCJ1IiYmdHlwZW9mIFN5bWJvbC5mb3I9PSJmdW5jdGlvbiIpdHJ5e28ucHJvdG90eXBlW1N5bWJvbC5mb3IoIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tIildPU19Y2F0Y2h7by5wcm90b3R5cGUuaW5zcGVjdD1NfWVsc2Ugby5wcm90b3R5cGUuaW5zcGVjdD1NO2Z1bmN0aW9uIE0oKXtyZXR1cm4odGhpcy5yZWQ/IjxCTi1SOiAiOiI8Qk46ICIpK3RoaXMudG9TdHJpbmcoMTYpKyI+In12YXIgTz1bIiIsIjAiLCIwMCIsIjAwMCIsIjAwMDAiLCIwMDAwMCIsIjAwMDAwMCIsIjAwMDAwMDAiLCIwMDAwMDAwMCIsIjAwMDAwMDAwMCIsIjAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAiLCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCIsIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAiXSxUPVswLDAsMjUsMTYsMTIsMTEsMTAsOSw4LDgsNyw3LDcsNyw2LDYsNiw2LDYsNiw2LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDVdLFA9WzAsMCwzMzU1NDQzMiw0MzA0NjcyMSwxNjc3NzIxNiw0ODgyODEyNSw2MDQ2NjE3Niw0MDM1MzYwNywxNjc3NzIxNiw0MzA0NjcyMSwxZTcsMTk0ODcxNzEsMzU4MzE4MDgsNjI3NDg1MTcsNzUyOTUzNiwxMTM5MDYyNSwxNjc3NzIxNiwyNDEzNzU2OSwzNDAxMjIyNCw0NzA0NTg4MSw2NGU2LDQwODQxMDEsNTE1MzYzMiw2NDM2MzQzLDc5NjI2MjQsOTc2NTYyNSwxMTg4MTM3NiwxNDM0ODkwNywxNzIxMDM2OCwyMDUxMTE0OSwyNDNlNSwyODYyOTE1MSwzMzU1NDQzMiwzOTEzNTM5Myw0NTQzNTQyNCw1MjUyMTg3NSw2MDQ2NjE3Nl07by5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24obCx2KXtsPWx8fDEwLHY9dnwwfHwxO3ZhciBFO2lmKGw9PT0xNnx8bD09PSJoZXgiKXtFPSIiO2Zvcih2YXIgUz0wLEI9MCxBPTA7QTx0aGlzLmxlbmd0aDtBKyspe3ZhciB5PXRoaXMud29yZHNbQV0seD0oKHk8PFN8QikmMTY3NzcyMTUpLnRvU3RyaW5nKDE2KTtCPXk+Pj4yNC1TJjE2Nzc3MjE1LFMrPTIsUz49MjYmJihTLT0yNixBLS0pLEIhPT0wfHxBIT09dGhpcy5sZW5ndGgtMT9FPU9bNi14Lmxlbmd0aF0reCtFOkU9eCtFfWZvcihCIT09MCYmKEU9Qi50b1N0cmluZygxNikrRSk7RS5sZW5ndGgldiE9PTA7KUU9IjAiK0U7cmV0dXJuIHRoaXMubmVnYXRpdmUhPT0wJiYoRT0iLSIrRSksRX1pZihsPT09KGx8MCkmJmw+PTImJmw8PTM2KXt2YXIgcD1UW2xdLEk9UFtsXTtFPSIiO3ZhciBlZT10aGlzLmNsb25lKCk7Zm9yKGVlLm5lZ2F0aXZlPTA7IWVlLmlzWmVybygpOyl7dmFyIGZlPWVlLm1vZHJuKEkpLnRvU3RyaW5nKGwpO2VlPWVlLmlkaXZuKEkpLGVlLmlzWmVybygpP0U9ZmUrRTpFPU9bcC1mZS5sZW5ndGhdK2ZlK0V9Zm9yKHRoaXMuaXNaZXJvKCkmJihFPSIwIitFKTtFLmxlbmd0aCV2IT09MDspRT0iMCIrRTtyZXR1cm4gdGhpcy5uZWdhdGl2ZSE9PTAmJihFPSItIitFKSxFfWEoITEsIkJhc2Ugc2hvdWxkIGJlIGJldHdlZW4gMiBhbmQgMzYiKX0sby5wcm90b3R5cGUudG9OdW1iZXI9ZnVuY3Rpb24oKXt2YXIgbD10aGlzLndvcmRzWzBdO3JldHVybiB0aGlzLmxlbmd0aD09PTI/bCs9dGhpcy53b3Jkc1sxXSo2NzEwODg2NDp0aGlzLmxlbmd0aD09PTMmJnRoaXMud29yZHNbMl09PT0xP2wrPTQ1MDM1OTk2MjczNzA0OTYrdGhpcy53b3Jkc1sxXSo2NzEwODg2NDp0aGlzLmxlbmd0aD4yJiZhKCExLCJOdW1iZXIgY2FuIG9ubHkgc2FmZWx5IHN0b3JlIHVwIHRvIDUzIGJpdHMiKSx0aGlzLm5lZ2F0aXZlIT09MD8tbDpsfSxvLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygxNiwyKX0saCYmKG8ucHJvdG90eXBlLnRvQnVmZmVyPWZ1bmN0aW9uKGwsdil7cmV0dXJuIHRoaXMudG9BcnJheUxpa2UoaCxsLHYpfSksby5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbihsLHYpe3JldHVybiB0aGlzLnRvQXJyYXlMaWtlKEFycmF5LGwsdil9O3ZhciBMPWZ1bmN0aW9uKGwsdil7cmV0dXJuIGwuYWxsb2NVbnNhZmU/bC5hbGxvY1Vuc2FmZSh2KTpuZXcgbCh2KX07by5wcm90b3R5cGUudG9BcnJheUxpa2U9ZnVuY3Rpb24obCx2LEUpe3RoaXMuX3N0cmlwKCk7dmFyIFM9dGhpcy5ieXRlTGVuZ3RoKCksQj1FfHxNYXRoLm1heCgxLFMpO2EoUzw9QiwiYnl0ZSBhcnJheSBsb25nZXIgdGhhbiBkZXNpcmVkIGxlbmd0aCIpLGEoQj4wLCJSZXF1ZXN0ZWQgYXJyYXkgbGVuZ3RoIDw9IDAiKTt2YXIgQT1MKGwsQikseT12PT09ImxlIj8iTEUiOiJCRSI7cmV0dXJuIHRoaXNbIl90b0FycmF5TGlrZSIreV0oQSxTKSxBfSxvLnByb3RvdHlwZS5fdG9BcnJheUxpa2VMRT1mdW5jdGlvbihsLHYpe2Zvcih2YXIgRT0wLFM9MCxCPTAsQT0wO0I8dGhpcy5sZW5ndGg7QisrKXt2YXIgeT10aGlzLndvcmRzW0JdPDxBfFM7bFtFKytdPXkmMjU1LEU8bC5sZW5ndGgmJihsW0UrK109eT4+OCYyNTUpLEU8bC5sZW5ndGgmJihsW0UrK109eT4+MTYmMjU1KSxBPT09Nj8oRTxsLmxlbmd0aCYmKGxbRSsrXT15Pj4yNCYyNTUpLFM9MCxBPTApOihTPXk+Pj4yNCxBKz0yKX1pZihFPGwubGVuZ3RoKWZvcihsW0UrK109UztFPGwubGVuZ3RoOylsW0UrK109MH0sby5wcm90b3R5cGUuX3RvQXJyYXlMaWtlQkU9ZnVuY3Rpb24obCx2KXtmb3IodmFyIEU9bC5sZW5ndGgtMSxTPTAsQj0wLEE9MDtCPHRoaXMubGVuZ3RoO0IrKyl7dmFyIHk9dGhpcy53b3Jkc1tCXTw8QXxTO2xbRS0tXT15JjI1NSxFPj0wJiYobFtFLS1dPXk+PjgmMjU1KSxFPj0wJiYobFtFLS1dPXk+PjE2JjI1NSksQT09PTY/KEU+PTAmJihsW0UtLV09eT4+MjQmMjU1KSxTPTAsQT0wKTooUz15Pj4+MjQsQSs9Mil9aWYoRT49MClmb3IobFtFLS1dPVM7RT49MDspbFtFLS1dPTB9LE1hdGguY2x6MzI/by5wcm90b3R5cGUuX2NvdW50Qml0cz1mdW5jdGlvbihsKXtyZXR1cm4gMzItTWF0aC5jbHozMihsKX06by5wcm90b3R5cGUuX2NvdW50Qml0cz1mdW5jdGlvbihsKXt2YXIgdj1sLEU9MDtyZXR1cm4gdj49NDA5NiYmKEUrPTEzLHY+Pj49MTMpLHY+PTY0JiYoRSs9Nyx2Pj4+PTcpLHY+PTgmJihFKz00LHY+Pj49NCksdj49MiYmKEUrPTIsdj4+Pj0yKSxFK3Z9LG8ucHJvdG90eXBlLl96ZXJvQml0cz1mdW5jdGlvbihsKXtpZihsPT09MClyZXR1cm4gMjY7dmFyIHY9bCxFPTA7cmV0dXJuIHYmODE5MXx8KEUrPTEzLHY+Pj49MTMpLHYmMTI3fHwoRSs9Nyx2Pj4+PTcpLHYmMTV8fChFKz00LHY+Pj49NCksdiYzfHwoRSs9Mix2Pj4+PTIpLHYmMXx8RSsrLEV9LG8ucHJvdG90eXBlLmJpdExlbmd0aD1mdW5jdGlvbigpe3ZhciBsPXRoaXMud29yZHNbdGhpcy5sZW5ndGgtMV0sdj10aGlzLl9jb3VudEJpdHMobCk7cmV0dXJuKHRoaXMubGVuZ3RoLTEpKjI2K3Z9O2Z1bmN0aW9uIHoobSl7Zm9yKHZhciBsPW5ldyBBcnJheShtLmJpdExlbmd0aCgpKSx2PTA7djxsLmxlbmd0aDt2Kyspe3ZhciBFPXYvMjZ8MCxTPXYlMjY7bFt2XT1tLndvcmRzW0VdPj4+UyYxfXJldHVybiBsfW8ucHJvdG90eXBlLnplcm9CaXRzPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1plcm8oKSlyZXR1cm4gMDtmb3IodmFyIGw9MCx2PTA7djx0aGlzLmxlbmd0aDt2Kyspe3ZhciBFPXRoaXMuX3plcm9CaXRzKHRoaXMud29yZHNbdl0pO2lmKGwrPUUsRSE9PTI2KWJyZWFrfXJldHVybiBsfSxvLnByb3RvdHlwZS5ieXRlTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguY2VpbCh0aGlzLmJpdExlbmd0aCgpLzgpfSxvLnByb3RvdHlwZS50b1R3b3M9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMubmVnYXRpdmUhPT0wP3RoaXMuYWJzKCkuaW5vdG4obCkuaWFkZG4oMSk6dGhpcy5jbG9uZSgpfSxvLnByb3RvdHlwZS5mcm9tVHdvcz1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy50ZXN0bihsLTEpP3RoaXMubm90bihsKS5pYWRkbigxKS5pbmVnKCk6dGhpcy5jbG9uZSgpfSxvLnByb3RvdHlwZS5pc05lZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZ2F0aXZlIT09MH0sby5wcm90b3R5cGUubmVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pbmVnKCl9LG8ucHJvdG90eXBlLmluZWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1plcm8oKXx8KHRoaXMubmVnYXRpdmVePTEpLHRoaXN9LG8ucHJvdG90eXBlLml1b3I9ZnVuY3Rpb24obCl7Zm9yKDt0aGlzLmxlbmd0aDxsLmxlbmd0aDspdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCsrXT0wO2Zvcih2YXIgdj0wO3Y8bC5sZW5ndGg7disrKXRoaXMud29yZHNbdl09dGhpcy53b3Jkc1t2XXxsLndvcmRzW3ZdO3JldHVybiB0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5pb3I9ZnVuY3Rpb24obCl7cmV0dXJuIGEoKHRoaXMubmVnYXRpdmV8bC5uZWdhdGl2ZSk9PT0wKSx0aGlzLml1b3IobCl9LG8ucHJvdG90eXBlLm9yPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmxlbmd0aD5sLmxlbmd0aD90aGlzLmNsb25lKCkuaW9yKGwpOmwuY2xvbmUoKS5pb3IodGhpcyl9LG8ucHJvdG90eXBlLnVvcj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5sZW5ndGg+bC5sZW5ndGg/dGhpcy5jbG9uZSgpLml1b3IobCk6bC5jbG9uZSgpLml1b3IodGhpcyl9LG8ucHJvdG90eXBlLml1YW5kPWZ1bmN0aW9uKGwpe3ZhciB2O3RoaXMubGVuZ3RoPmwubGVuZ3RoP3Y9bDp2PXRoaXM7Zm9yKHZhciBFPTA7RTx2Lmxlbmd0aDtFKyspdGhpcy53b3Jkc1tFXT10aGlzLndvcmRzW0VdJmwud29yZHNbRV07cmV0dXJuIHRoaXMubGVuZ3RoPXYubGVuZ3RoLHRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLmlhbmQ9ZnVuY3Rpb24obCl7cmV0dXJuIGEoKHRoaXMubmVnYXRpdmV8bC5uZWdhdGl2ZSk9PT0wKSx0aGlzLml1YW5kKGwpfSxvLnByb3RvdHlwZS5hbmQ9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMubGVuZ3RoPmwubGVuZ3RoP3RoaXMuY2xvbmUoKS5pYW5kKGwpOmwuY2xvbmUoKS5pYW5kKHRoaXMpfSxvLnByb3RvdHlwZS51YW5kPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmxlbmd0aD5sLmxlbmd0aD90aGlzLmNsb25lKCkuaXVhbmQobCk6bC5jbG9uZSgpLml1YW5kKHRoaXMpfSxvLnByb3RvdHlwZS5pdXhvcj1mdW5jdGlvbihsKXt2YXIgdixFO3RoaXMubGVuZ3RoPmwubGVuZ3RoPyh2PXRoaXMsRT1sKToodj1sLEU9dGhpcyk7Zm9yKHZhciBTPTA7UzxFLmxlbmd0aDtTKyspdGhpcy53b3Jkc1tTXT12LndvcmRzW1NdXkUud29yZHNbU107aWYodGhpcyE9PXYpZm9yKDtTPHYubGVuZ3RoO1MrKyl0aGlzLndvcmRzW1NdPXYud29yZHNbU107cmV0dXJuIHRoaXMubGVuZ3RoPXYubGVuZ3RoLHRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLml4b3I9ZnVuY3Rpb24obCl7cmV0dXJuIGEoKHRoaXMubmVnYXRpdmV8bC5uZWdhdGl2ZSk9PT0wKSx0aGlzLml1eG9yKGwpfSxvLnByb3RvdHlwZS54b3I9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMubGVuZ3RoPmwubGVuZ3RoP3RoaXMuY2xvbmUoKS5peG9yKGwpOmwuY2xvbmUoKS5peG9yKHRoaXMpfSxvLnByb3RvdHlwZS51eG9yPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmxlbmd0aD5sLmxlbmd0aD90aGlzLmNsb25lKCkuaXV4b3IobCk6bC5jbG9uZSgpLml1eG9yKHRoaXMpfSxvLnByb3RvdHlwZS5pbm90bj1mdW5jdGlvbihsKXthKHR5cGVvZiBsPT0ibnVtYmVyIiYmbD49MCk7dmFyIHY9TWF0aC5jZWlsKGwvMjYpfDAsRT1sJTI2O3RoaXMuX2V4cGFuZCh2KSxFPjAmJnYtLTtmb3IodmFyIFM9MDtTPHY7UysrKXRoaXMud29yZHNbU109fnRoaXMud29yZHNbU10mNjcxMDg4NjM7cmV0dXJuIEU+MCYmKHRoaXMud29yZHNbU109fnRoaXMud29yZHNbU10mNjcxMDg4NjM+PjI2LUUpLHRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLm5vdG49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pbm90bihsKX0sby5wcm90b3R5cGUuc2V0bj1mdW5jdGlvbihsLHYpe2EodHlwZW9mIGw9PSJudW1iZXIiJiZsPj0wKTt2YXIgRT1sLzI2fDAsUz1sJTI2O3JldHVybiB0aGlzLl9leHBhbmQoRSsxKSx2P3RoaXMud29yZHNbRV09dGhpcy53b3Jkc1tFXXwxPDxTOnRoaXMud29yZHNbRV09dGhpcy53b3Jkc1tFXSZ+KDE8PFMpLHRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLmlhZGQ9ZnVuY3Rpb24obCl7dmFyIHY7aWYodGhpcy5uZWdhdGl2ZSE9PTAmJmwubmVnYXRpdmU9PT0wKXJldHVybiB0aGlzLm5lZ2F0aXZlPTAsdj10aGlzLmlzdWIobCksdGhpcy5uZWdhdGl2ZV49MSx0aGlzLl9ub3JtU2lnbigpO2lmKHRoaXMubmVnYXRpdmU9PT0wJiZsLm5lZ2F0aXZlIT09MClyZXR1cm4gbC5uZWdhdGl2ZT0wLHY9dGhpcy5pc3ViKGwpLGwubmVnYXRpdmU9MSx2Ll9ub3JtU2lnbigpO3ZhciBFLFM7dGhpcy5sZW5ndGg+bC5sZW5ndGg/KEU9dGhpcyxTPWwpOihFPWwsUz10aGlzKTtmb3IodmFyIEI9MCxBPTA7QTxTLmxlbmd0aDtBKyspdj0oRS53b3Jkc1tBXXwwKSsoUy53b3Jkc1tBXXwwKStCLHRoaXMud29yZHNbQV09diY2NzEwODg2MyxCPXY+Pj4yNjtmb3IoO0IhPT0wJiZBPEUubGVuZ3RoO0ErKyl2PShFLndvcmRzW0FdfDApK0IsdGhpcy53b3Jkc1tBXT12JjY3MTA4ODYzLEI9dj4+PjI2O2lmKHRoaXMubGVuZ3RoPUUubGVuZ3RoLEIhPT0wKXRoaXMud29yZHNbdGhpcy5sZW5ndGhdPUIsdGhpcy5sZW5ndGgrKztlbHNlIGlmKEUhPT10aGlzKWZvcig7QTxFLmxlbmd0aDtBKyspdGhpcy53b3Jkc1tBXT1FLndvcmRzW0FdO3JldHVybiB0aGlzfSxvLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24obCl7dmFyIHY7cmV0dXJuIGwubmVnYXRpdmUhPT0wJiZ0aGlzLm5lZ2F0aXZlPT09MD8obC5uZWdhdGl2ZT0wLHY9dGhpcy5zdWIobCksbC5uZWdhdGl2ZV49MSx2KTpsLm5lZ2F0aXZlPT09MCYmdGhpcy5uZWdhdGl2ZSE9PTA/KHRoaXMubmVnYXRpdmU9MCx2PWwuc3ViKHRoaXMpLHRoaXMubmVnYXRpdmU9MSx2KTp0aGlzLmxlbmd0aD5sLmxlbmd0aD90aGlzLmNsb25lKCkuaWFkZChsKTpsLmNsb25lKCkuaWFkZCh0aGlzKX0sby5wcm90b3R5cGUuaXN1Yj1mdW5jdGlvbihsKXtpZihsLm5lZ2F0aXZlIT09MCl7bC5uZWdhdGl2ZT0wO3ZhciB2PXRoaXMuaWFkZChsKTtyZXR1cm4gbC5uZWdhdGl2ZT0xLHYuX25vcm1TaWduKCl9ZWxzZSBpZih0aGlzLm5lZ2F0aXZlIT09MClyZXR1cm4gdGhpcy5uZWdhdGl2ZT0wLHRoaXMuaWFkZChsKSx0aGlzLm5lZ2F0aXZlPTEsdGhpcy5fbm9ybVNpZ24oKTt2YXIgRT10aGlzLmNtcChsKTtpZihFPT09MClyZXR1cm4gdGhpcy5uZWdhdGl2ZT0wLHRoaXMubGVuZ3RoPTEsdGhpcy53b3Jkc1swXT0wLHRoaXM7dmFyIFMsQjtFPjA/KFM9dGhpcyxCPWwpOihTPWwsQj10aGlzKTtmb3IodmFyIEE9MCx5PTA7eTxCLmxlbmd0aDt5Kyspdj0oUy53b3Jkc1t5XXwwKS0oQi53b3Jkc1t5XXwwKStBLEE9dj4+MjYsdGhpcy53b3Jkc1t5XT12JjY3MTA4ODYzO2Zvcig7QSE9PTAmJnk8Uy5sZW5ndGg7eSsrKXY9KFMud29yZHNbeV18MCkrQSxBPXY+PjI2LHRoaXMud29yZHNbeV09diY2NzEwODg2MztpZihBPT09MCYmeTxTLmxlbmd0aCYmUyE9PXRoaXMpZm9yKDt5PFMubGVuZ3RoO3krKyl0aGlzLndvcmRzW3ldPVMud29yZHNbeV07cmV0dXJuIHRoaXMubGVuZ3RoPU1hdGgubWF4KHRoaXMubGVuZ3RoLHkpLFMhPT10aGlzJiYodGhpcy5uZWdhdGl2ZT0xKSx0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pc3ViKGwpfTtmdW5jdGlvbiBIKG0sbCx2KXt2Lm5lZ2F0aXZlPWwubmVnYXRpdmVebS5uZWdhdGl2ZTt2YXIgRT1tLmxlbmd0aCtsLmxlbmd0aHwwO3YubGVuZ3RoPUUsRT1FLTF8MDt2YXIgUz1tLndvcmRzWzBdfDAsQj1sLndvcmRzWzBdfDAsQT1TKkIseT1BJjY3MTA4ODYzLHg9QS82NzEwODg2NHwwO3Yud29yZHNbMF09eTtmb3IodmFyIHA9MTtwPEU7cCsrKXtmb3IodmFyIEk9eD4+PjI2LGVlPXgmNjcxMDg4NjMsZmU9TWF0aC5taW4ocCxsLmxlbmd0aC0xKSxKPU1hdGgubWF4KDAscC1tLmxlbmd0aCsxKTtKPD1mZTtKKyspe3ZhciBrPXAtSnwwO1M9bS53b3Jkc1trXXwwLEI9bC53b3Jkc1tKXXwwLEE9UypCK2VlLEkrPUEvNjcxMDg4NjR8MCxlZT1BJjY3MTA4ODYzfXYud29yZHNbcF09ZWV8MCx4PUl8MH1yZXR1cm4geCE9PTA/di53b3Jkc1twXT14fDA6di5sZW5ndGgtLSx2Ll9zdHJpcCgpfXZhciBWPWZ1bmN0aW9uKGwsdixFKXt2YXIgUz1sLndvcmRzLEI9di53b3JkcyxBPUUud29yZHMseT0wLHgscCxJLGVlPVNbMF18MCxmZT1lZSY4MTkxLEo9ZWU+Pj4xMyxrPVNbMV18MCxEPWsmODE5MSxqPWs+Pj4xMyx0ZT1TWzJdfDAsVT10ZSY4MTkxLEY9dGU+Pj4xMyx1ZT1TWzNdfDAscGU9dWUmODE5MSxfZT11ZT4+PjEzLFk9U1s0XXwwLE49WSY4MTkxLEM9WT4+PjEzLFo9U1s1XXwwLHNlPVomODE5MSxkZT1aPj4+MTMsbWU9U1s2XXwwLHdlPW1lJjgxOTEsbmU9bWU+Pj4xMyxoZT1TWzddfDAsYmU9aGUmODE5MSx2ZT1oZT4+PjEzLEVlPVNbOF18MCx4ZT1FZSY4MTkxLGdlPUVlPj4+MTMsTmU9U1s5XXwwLFNlPU5lJjgxOTEsJGU9TmU+Pj4xMyxHZT1CWzBdfDAsQ2U9R2UmODE5MSxNZT1HZT4+PjEzLFdlPUJbMV18MCxQZT1XZSY4MTkxLEFlPVdlPj4+MTMsVmU9QlsyXXwwLHFlPVZlJjgxOTEsQmU9VmU+Pj4xMyxYZT1CWzNdfDAsSGU9WGUmODE5MSxSZT1YZT4+PjEzLFllPUJbNF18MCxVZT1ZZSY4MTkxLFRlPVllPj4+MTMsSmU9Qls1XXwwLGplPUplJjgxOTEsSWU9SmU+Pj4xMyxRZT1CWzZdfDAsemU9UWUmODE5MSxPZT1RZT4+PjEzLGV0PUJbN118MCxaZT1ldCY4MTkxLGtlPWV0Pj4+MTMsdHQ9Qls4XXwwLEtlPXR0JjgxOTEsRGU9dHQ+Pj4xMyxydD1CWzldfDAsTGU9cnQmODE5MSxGZT1ydD4+PjEzO0UubmVnYXRpdmU9bC5uZWdhdGl2ZV52Lm5lZ2F0aXZlLEUubGVuZ3RoPTE5LHg9TWF0aC5pbXVsKGZlLENlKSxwPU1hdGguaW11bChmZSxNZSkscD1wK01hdGguaW11bChKLENlKXwwLEk9TWF0aC5pbXVsKEosTWUpO3ZhciBpdD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsoaXQ+Pj4yNil8MCxpdCY9NjcxMDg4NjMseD1NYXRoLmltdWwoRCxDZSkscD1NYXRoLmltdWwoRCxNZSkscD1wK01hdGguaW11bChqLENlKXwwLEk9TWF0aC5pbXVsKGosTWUpLHg9eCtNYXRoLmltdWwoZmUsUGUpfDAscD1wK01hdGguaW11bChmZSxBZSl8MCxwPXArTWF0aC5pbXVsKEosUGUpfDAsST1JK01hdGguaW11bChKLEFlKXwwO3ZhciBudD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsobnQ+Pj4yNil8MCxudCY9NjcxMDg4NjMseD1NYXRoLmltdWwoVSxDZSkscD1NYXRoLmltdWwoVSxNZSkscD1wK01hdGguaW11bChGLENlKXwwLEk9TWF0aC5pbXVsKEYsTWUpLHg9eCtNYXRoLmltdWwoRCxQZSl8MCxwPXArTWF0aC5pbXVsKEQsQWUpfDAscD1wK01hdGguaW11bChqLFBlKXwwLEk9SStNYXRoLmltdWwoaixBZSl8MCx4PXgrTWF0aC5pbXVsKGZlLHFlKXwwLHA9cCtNYXRoLmltdWwoZmUsQmUpfDAscD1wK01hdGguaW11bChKLHFlKXwwLEk9SStNYXRoLmltdWwoSixCZSl8MDt2YXIgYXQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKGF0Pj4+MjYpfDAsYXQmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKHBlLENlKSxwPU1hdGguaW11bChwZSxNZSkscD1wK01hdGguaW11bChfZSxDZSl8MCxJPU1hdGguaW11bChfZSxNZSkseD14K01hdGguaW11bChVLFBlKXwwLHA9cCtNYXRoLmltdWwoVSxBZSl8MCxwPXArTWF0aC5pbXVsKEYsUGUpfDAsST1JK01hdGguaW11bChGLEFlKXwwLHg9eCtNYXRoLmltdWwoRCxxZSl8MCxwPXArTWF0aC5pbXVsKEQsQmUpfDAscD1wK01hdGguaW11bChqLHFlKXwwLEk9SStNYXRoLmltdWwoaixCZSl8MCx4PXgrTWF0aC5pbXVsKGZlLEhlKXwwLHA9cCtNYXRoLmltdWwoZmUsUmUpfDAscD1wK01hdGguaW11bChKLEhlKXwwLEk9SStNYXRoLmltdWwoSixSZSl8MDt2YXIgb3Q9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKG90Pj4+MjYpfDAsb3QmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKE4sQ2UpLHA9TWF0aC5pbXVsKE4sTWUpLHA9cCtNYXRoLmltdWwoQyxDZSl8MCxJPU1hdGguaW11bChDLE1lKSx4PXgrTWF0aC5pbXVsKHBlLFBlKXwwLHA9cCtNYXRoLmltdWwocGUsQWUpfDAscD1wK01hdGguaW11bChfZSxQZSl8MCxJPUkrTWF0aC5pbXVsKF9lLEFlKXwwLHg9eCtNYXRoLmltdWwoVSxxZSl8MCxwPXArTWF0aC5pbXVsKFUsQmUpfDAscD1wK01hdGguaW11bChGLHFlKXwwLEk9SStNYXRoLmltdWwoRixCZSl8MCx4PXgrTWF0aC5pbXVsKEQsSGUpfDAscD1wK01hdGguaW11bChELFJlKXwwLHA9cCtNYXRoLmltdWwoaixIZSl8MCxJPUkrTWF0aC5pbXVsKGosUmUpfDAseD14K01hdGguaW11bChmZSxVZSl8MCxwPXArTWF0aC5pbXVsKGZlLFRlKXwwLHA9cCtNYXRoLmltdWwoSixVZSl8MCxJPUkrTWF0aC5pbXVsKEosVGUpfDA7dmFyIHN0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhzdD4+PjI2KXwwLHN0Jj02NzEwODg2Myx4PU1hdGguaW11bChzZSxDZSkscD1NYXRoLmltdWwoc2UsTWUpLHA9cCtNYXRoLmltdWwoZGUsQ2UpfDAsST1NYXRoLmltdWwoZGUsTWUpLHg9eCtNYXRoLmltdWwoTixQZSl8MCxwPXArTWF0aC5pbXVsKE4sQWUpfDAscD1wK01hdGguaW11bChDLFBlKXwwLEk9SStNYXRoLmltdWwoQyxBZSl8MCx4PXgrTWF0aC5pbXVsKHBlLHFlKXwwLHA9cCtNYXRoLmltdWwocGUsQmUpfDAscD1wK01hdGguaW11bChfZSxxZSl8MCxJPUkrTWF0aC5pbXVsKF9lLEJlKXwwLHg9eCtNYXRoLmltdWwoVSxIZSl8MCxwPXArTWF0aC5pbXVsKFUsUmUpfDAscD1wK01hdGguaW11bChGLEhlKXwwLEk9SStNYXRoLmltdWwoRixSZSl8MCx4PXgrTWF0aC5pbXVsKEQsVWUpfDAscD1wK01hdGguaW11bChELFRlKXwwLHA9cCtNYXRoLmltdWwoaixVZSl8MCxJPUkrTWF0aC5pbXVsKGosVGUpfDAseD14K01hdGguaW11bChmZSxqZSl8MCxwPXArTWF0aC5pbXVsKGZlLEllKXwwLHA9cCtNYXRoLmltdWwoSixqZSl8MCxJPUkrTWF0aC5pbXVsKEosSWUpfDA7dmFyIHV0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyh1dD4+PjI2KXwwLHV0Jj02NzEwODg2Myx4PU1hdGguaW11bCh3ZSxDZSkscD1NYXRoLmltdWwod2UsTWUpLHA9cCtNYXRoLmltdWwobmUsQ2UpfDAsST1NYXRoLmltdWwobmUsTWUpLHg9eCtNYXRoLmltdWwoc2UsUGUpfDAscD1wK01hdGguaW11bChzZSxBZSl8MCxwPXArTWF0aC5pbXVsKGRlLFBlKXwwLEk9SStNYXRoLmltdWwoZGUsQWUpfDAseD14K01hdGguaW11bChOLHFlKXwwLHA9cCtNYXRoLmltdWwoTixCZSl8MCxwPXArTWF0aC5pbXVsKEMscWUpfDAsST1JK01hdGguaW11bChDLEJlKXwwLHg9eCtNYXRoLmltdWwocGUsSGUpfDAscD1wK01hdGguaW11bChwZSxSZSl8MCxwPXArTWF0aC5pbXVsKF9lLEhlKXwwLEk9SStNYXRoLmltdWwoX2UsUmUpfDAseD14K01hdGguaW11bChVLFVlKXwwLHA9cCtNYXRoLmltdWwoVSxUZSl8MCxwPXArTWF0aC5pbXVsKEYsVWUpfDAsST1JK01hdGguaW11bChGLFRlKXwwLHg9eCtNYXRoLmltdWwoRCxqZSl8MCxwPXArTWF0aC5pbXVsKEQsSWUpfDAscD1wK01hdGguaW11bChqLGplKXwwLEk9SStNYXRoLmltdWwoaixJZSl8MCx4PXgrTWF0aC5pbXVsKGZlLHplKXwwLHA9cCtNYXRoLmltdWwoZmUsT2UpfDAscD1wK01hdGguaW11bChKLHplKXwwLEk9SStNYXRoLmltdWwoSixPZSl8MDt2YXIgbHQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKGx0Pj4+MjYpfDAsbHQmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKGJlLENlKSxwPU1hdGguaW11bChiZSxNZSkscD1wK01hdGguaW11bCh2ZSxDZSl8MCxJPU1hdGguaW11bCh2ZSxNZSkseD14K01hdGguaW11bCh3ZSxQZSl8MCxwPXArTWF0aC5pbXVsKHdlLEFlKXwwLHA9cCtNYXRoLmltdWwobmUsUGUpfDAsST1JK01hdGguaW11bChuZSxBZSl8MCx4PXgrTWF0aC5pbXVsKHNlLHFlKXwwLHA9cCtNYXRoLmltdWwoc2UsQmUpfDAscD1wK01hdGguaW11bChkZSxxZSl8MCxJPUkrTWF0aC5pbXVsKGRlLEJlKXwwLHg9eCtNYXRoLmltdWwoTixIZSl8MCxwPXArTWF0aC5pbXVsKE4sUmUpfDAscD1wK01hdGguaW11bChDLEhlKXwwLEk9SStNYXRoLmltdWwoQyxSZSl8MCx4PXgrTWF0aC5pbXVsKHBlLFVlKXwwLHA9cCtNYXRoLmltdWwocGUsVGUpfDAscD1wK01hdGguaW11bChfZSxVZSl8MCxJPUkrTWF0aC5pbXVsKF9lLFRlKXwwLHg9eCtNYXRoLmltdWwoVSxqZSl8MCxwPXArTWF0aC5pbXVsKFUsSWUpfDAscD1wK01hdGguaW11bChGLGplKXwwLEk9SStNYXRoLmltdWwoRixJZSl8MCx4PXgrTWF0aC5pbXVsKEQsemUpfDAscD1wK01hdGguaW11bChELE9lKXwwLHA9cCtNYXRoLmltdWwoaix6ZSl8MCxJPUkrTWF0aC5pbXVsKGosT2UpfDAseD14K01hdGguaW11bChmZSxaZSl8MCxwPXArTWF0aC5pbXVsKGZlLGtlKXwwLHA9cCtNYXRoLmltdWwoSixaZSl8MCxJPUkrTWF0aC5pbXVsKEosa2UpfDA7dmFyIGh0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhodD4+PjI2KXwwLGh0Jj02NzEwODg2Myx4PU1hdGguaW11bCh4ZSxDZSkscD1NYXRoLmltdWwoeGUsTWUpLHA9cCtNYXRoLmltdWwoZ2UsQ2UpfDAsST1NYXRoLmltdWwoZ2UsTWUpLHg9eCtNYXRoLmltdWwoYmUsUGUpfDAscD1wK01hdGguaW11bChiZSxBZSl8MCxwPXArTWF0aC5pbXVsKHZlLFBlKXwwLEk9SStNYXRoLmltdWwodmUsQWUpfDAseD14K01hdGguaW11bCh3ZSxxZSl8MCxwPXArTWF0aC5pbXVsKHdlLEJlKXwwLHA9cCtNYXRoLmltdWwobmUscWUpfDAsST1JK01hdGguaW11bChuZSxCZSl8MCx4PXgrTWF0aC5pbXVsKHNlLEhlKXwwLHA9cCtNYXRoLmltdWwoc2UsUmUpfDAscD1wK01hdGguaW11bChkZSxIZSl8MCxJPUkrTWF0aC5pbXVsKGRlLFJlKXwwLHg9eCtNYXRoLmltdWwoTixVZSl8MCxwPXArTWF0aC5pbXVsKE4sVGUpfDAscD1wK01hdGguaW11bChDLFVlKXwwLEk9SStNYXRoLmltdWwoQyxUZSl8MCx4PXgrTWF0aC5pbXVsKHBlLGplKXwwLHA9cCtNYXRoLmltdWwocGUsSWUpfDAscD1wK01hdGguaW11bChfZSxqZSl8MCxJPUkrTWF0aC5pbXVsKF9lLEllKXwwLHg9eCtNYXRoLmltdWwoVSx6ZSl8MCxwPXArTWF0aC5pbXVsKFUsT2UpfDAscD1wK01hdGguaW11bChGLHplKXwwLEk9SStNYXRoLmltdWwoRixPZSl8MCx4PXgrTWF0aC5pbXVsKEQsWmUpfDAscD1wK01hdGguaW11bChELGtlKXwwLHA9cCtNYXRoLmltdWwoaixaZSl8MCxJPUkrTWF0aC5pbXVsKGosa2UpfDAseD14K01hdGguaW11bChmZSxLZSl8MCxwPXArTWF0aC5pbXVsKGZlLERlKXwwLHA9cCtNYXRoLmltdWwoSixLZSl8MCxJPUkrTWF0aC5pbXVsKEosRGUpfDA7dmFyIGN0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhjdD4+PjI2KXwwLGN0Jj02NzEwODg2Myx4PU1hdGguaW11bChTZSxDZSkscD1NYXRoLmltdWwoU2UsTWUpLHA9cCtNYXRoLmltdWwoJGUsQ2UpfDAsST1NYXRoLmltdWwoJGUsTWUpLHg9eCtNYXRoLmltdWwoeGUsUGUpfDAscD1wK01hdGguaW11bCh4ZSxBZSl8MCxwPXArTWF0aC5pbXVsKGdlLFBlKXwwLEk9SStNYXRoLmltdWwoZ2UsQWUpfDAseD14K01hdGguaW11bChiZSxxZSl8MCxwPXArTWF0aC5pbXVsKGJlLEJlKXwwLHA9cCtNYXRoLmltdWwodmUscWUpfDAsST1JK01hdGguaW11bCh2ZSxCZSl8MCx4PXgrTWF0aC5pbXVsKHdlLEhlKXwwLHA9cCtNYXRoLmltdWwod2UsUmUpfDAscD1wK01hdGguaW11bChuZSxIZSl8MCxJPUkrTWF0aC5pbXVsKG5lLFJlKXwwLHg9eCtNYXRoLmltdWwoc2UsVWUpfDAscD1wK01hdGguaW11bChzZSxUZSl8MCxwPXArTWF0aC5pbXVsKGRlLFVlKXwwLEk9SStNYXRoLmltdWwoZGUsVGUpfDAseD14K01hdGguaW11bChOLGplKXwwLHA9cCtNYXRoLmltdWwoTixJZSl8MCxwPXArTWF0aC5pbXVsKEMsamUpfDAsST1JK01hdGguaW11bChDLEllKXwwLHg9eCtNYXRoLmltdWwocGUsemUpfDAscD1wK01hdGguaW11bChwZSxPZSl8MCxwPXArTWF0aC5pbXVsKF9lLHplKXwwLEk9SStNYXRoLmltdWwoX2UsT2UpfDAseD14K01hdGguaW11bChVLFplKXwwLHA9cCtNYXRoLmltdWwoVSxrZSl8MCxwPXArTWF0aC5pbXVsKEYsWmUpfDAsST1JK01hdGguaW11bChGLGtlKXwwLHg9eCtNYXRoLmltdWwoRCxLZSl8MCxwPXArTWF0aC5pbXVsKEQsRGUpfDAscD1wK01hdGguaW11bChqLEtlKXwwLEk9SStNYXRoLmltdWwoaixEZSl8MCx4PXgrTWF0aC5pbXVsKGZlLExlKXwwLHA9cCtNYXRoLmltdWwoZmUsRmUpfDAscD1wK01hdGguaW11bChKLExlKXwwLEk9SStNYXRoLmltdWwoSixGZSl8MDt2YXIgZHQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKGR0Pj4+MjYpfDAsZHQmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKFNlLFBlKSxwPU1hdGguaW11bChTZSxBZSkscD1wK01hdGguaW11bCgkZSxQZSl8MCxJPU1hdGguaW11bCgkZSxBZSkseD14K01hdGguaW11bCh4ZSxxZSl8MCxwPXArTWF0aC5pbXVsKHhlLEJlKXwwLHA9cCtNYXRoLmltdWwoZ2UscWUpfDAsST1JK01hdGguaW11bChnZSxCZSl8MCx4PXgrTWF0aC5pbXVsKGJlLEhlKXwwLHA9cCtNYXRoLmltdWwoYmUsUmUpfDAscD1wK01hdGguaW11bCh2ZSxIZSl8MCxJPUkrTWF0aC5pbXVsKHZlLFJlKXwwLHg9eCtNYXRoLmltdWwod2UsVWUpfDAscD1wK01hdGguaW11bCh3ZSxUZSl8MCxwPXArTWF0aC5pbXVsKG5lLFVlKXwwLEk9SStNYXRoLmltdWwobmUsVGUpfDAseD14K01hdGguaW11bChzZSxqZSl8MCxwPXArTWF0aC5pbXVsKHNlLEllKXwwLHA9cCtNYXRoLmltdWwoZGUsamUpfDAsST1JK01hdGguaW11bChkZSxJZSl8MCx4PXgrTWF0aC5pbXVsKE4semUpfDAscD1wK01hdGguaW11bChOLE9lKXwwLHA9cCtNYXRoLmltdWwoQyx6ZSl8MCxJPUkrTWF0aC5pbXVsKEMsT2UpfDAseD14K01hdGguaW11bChwZSxaZSl8MCxwPXArTWF0aC5pbXVsKHBlLGtlKXwwLHA9cCtNYXRoLmltdWwoX2UsWmUpfDAsST1JK01hdGguaW11bChfZSxrZSl8MCx4PXgrTWF0aC5pbXVsKFUsS2UpfDAscD1wK01hdGguaW11bChVLERlKXwwLHA9cCtNYXRoLmltdWwoRixLZSl8MCxJPUkrTWF0aC5pbXVsKEYsRGUpfDAseD14K01hdGguaW11bChELExlKXwwLHA9cCtNYXRoLmltdWwoRCxGZSl8MCxwPXArTWF0aC5pbXVsKGosTGUpfDAsST1JK01hdGguaW11bChqLEZlKXwwO3ZhciBwdD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsocHQ+Pj4yNil8MCxwdCY9NjcxMDg4NjMseD1NYXRoLmltdWwoU2UscWUpLHA9TWF0aC5pbXVsKFNlLEJlKSxwPXArTWF0aC5pbXVsKCRlLHFlKXwwLEk9TWF0aC5pbXVsKCRlLEJlKSx4PXgrTWF0aC5pbXVsKHhlLEhlKXwwLHA9cCtNYXRoLmltdWwoeGUsUmUpfDAscD1wK01hdGguaW11bChnZSxIZSl8MCxJPUkrTWF0aC5pbXVsKGdlLFJlKXwwLHg9eCtNYXRoLmltdWwoYmUsVWUpfDAscD1wK01hdGguaW11bChiZSxUZSl8MCxwPXArTWF0aC5pbXVsKHZlLFVlKXwwLEk9SStNYXRoLmltdWwodmUsVGUpfDAseD14K01hdGguaW11bCh3ZSxqZSl8MCxwPXArTWF0aC5pbXVsKHdlLEllKXwwLHA9cCtNYXRoLmltdWwobmUsamUpfDAsST1JK01hdGguaW11bChuZSxJZSl8MCx4PXgrTWF0aC5pbXVsKHNlLHplKXwwLHA9cCtNYXRoLmltdWwoc2UsT2UpfDAscD1wK01hdGguaW11bChkZSx6ZSl8MCxJPUkrTWF0aC5pbXVsKGRlLE9lKXwwLHg9eCtNYXRoLmltdWwoTixaZSl8MCxwPXArTWF0aC5pbXVsKE4sa2UpfDAscD1wK01hdGguaW11bChDLFplKXwwLEk9SStNYXRoLmltdWwoQyxrZSl8MCx4PXgrTWF0aC5pbXVsKHBlLEtlKXwwLHA9cCtNYXRoLmltdWwocGUsRGUpfDAscD1wK01hdGguaW11bChfZSxLZSl8MCxJPUkrTWF0aC5pbXVsKF9lLERlKXwwLHg9eCtNYXRoLmltdWwoVSxMZSl8MCxwPXArTWF0aC5pbXVsKFUsRmUpfDAscD1wK01hdGguaW11bChGLExlKXwwLEk9SStNYXRoLmltdWwoRixGZSl8MDt2YXIgdnQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKHZ0Pj4+MjYpfDAsdnQmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKFNlLEhlKSxwPU1hdGguaW11bChTZSxSZSkscD1wK01hdGguaW11bCgkZSxIZSl8MCxJPU1hdGguaW11bCgkZSxSZSkseD14K01hdGguaW11bCh4ZSxVZSl8MCxwPXArTWF0aC5pbXVsKHhlLFRlKXwwLHA9cCtNYXRoLmltdWwoZ2UsVWUpfDAsST1JK01hdGguaW11bChnZSxUZSl8MCx4PXgrTWF0aC5pbXVsKGJlLGplKXwwLHA9cCtNYXRoLmltdWwoYmUsSWUpfDAscD1wK01hdGguaW11bCh2ZSxqZSl8MCxJPUkrTWF0aC5pbXVsKHZlLEllKXwwLHg9eCtNYXRoLmltdWwod2UsemUpfDAscD1wK01hdGguaW11bCh3ZSxPZSl8MCxwPXArTWF0aC5pbXVsKG5lLHplKXwwLEk9SStNYXRoLmltdWwobmUsT2UpfDAseD14K01hdGguaW11bChzZSxaZSl8MCxwPXArTWF0aC5pbXVsKHNlLGtlKXwwLHA9cCtNYXRoLmltdWwoZGUsWmUpfDAsST1JK01hdGguaW11bChkZSxrZSl8MCx4PXgrTWF0aC5pbXVsKE4sS2UpfDAscD1wK01hdGguaW11bChOLERlKXwwLHA9cCtNYXRoLmltdWwoQyxLZSl8MCxJPUkrTWF0aC5pbXVsKEMsRGUpfDAseD14K01hdGguaW11bChwZSxMZSl8MCxwPXArTWF0aC5pbXVsKHBlLEZlKXwwLHA9cCtNYXRoLmltdWwoX2UsTGUpfDAsST1JK01hdGguaW11bChfZSxGZSl8MDt2YXIgYnQ9KHkreHwwKSsoKHAmODE5MSk8PDEzKXwwO3k9KEkrKHA+Pj4xMyl8MCkrKGJ0Pj4+MjYpfDAsYnQmPTY3MTA4ODYzLHg9TWF0aC5pbXVsKFNlLFVlKSxwPU1hdGguaW11bChTZSxUZSkscD1wK01hdGguaW11bCgkZSxVZSl8MCxJPU1hdGguaW11bCgkZSxUZSkseD14K01hdGguaW11bCh4ZSxqZSl8MCxwPXArTWF0aC5pbXVsKHhlLEllKXwwLHA9cCtNYXRoLmltdWwoZ2UsamUpfDAsST1JK01hdGguaW11bChnZSxJZSl8MCx4PXgrTWF0aC5pbXVsKGJlLHplKXwwLHA9cCtNYXRoLmltdWwoYmUsT2UpfDAscD1wK01hdGguaW11bCh2ZSx6ZSl8MCxJPUkrTWF0aC5pbXVsKHZlLE9lKXwwLHg9eCtNYXRoLmltdWwod2UsWmUpfDAscD1wK01hdGguaW11bCh3ZSxrZSl8MCxwPXArTWF0aC5pbXVsKG5lLFplKXwwLEk9SStNYXRoLmltdWwobmUsa2UpfDAseD14K01hdGguaW11bChzZSxLZSl8MCxwPXArTWF0aC5pbXVsKHNlLERlKXwwLHA9cCtNYXRoLmltdWwoZGUsS2UpfDAsST1JK01hdGguaW11bChkZSxEZSl8MCx4PXgrTWF0aC5pbXVsKE4sTGUpfDAscD1wK01hdGguaW11bChOLEZlKXwwLHA9cCtNYXRoLmltdWwoQyxMZSl8MCxJPUkrTWF0aC5pbXVsKEMsRmUpfDA7dmFyIG10PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhtdD4+PjI2KXwwLG10Jj02NzEwODg2Myx4PU1hdGguaW11bChTZSxqZSkscD1NYXRoLmltdWwoU2UsSWUpLHA9cCtNYXRoLmltdWwoJGUsamUpfDAsST1NYXRoLmltdWwoJGUsSWUpLHg9eCtNYXRoLmltdWwoeGUsemUpfDAscD1wK01hdGguaW11bCh4ZSxPZSl8MCxwPXArTWF0aC5pbXVsKGdlLHplKXwwLEk9SStNYXRoLmltdWwoZ2UsT2UpfDAseD14K01hdGguaW11bChiZSxaZSl8MCxwPXArTWF0aC5pbXVsKGJlLGtlKXwwLHA9cCtNYXRoLmltdWwodmUsWmUpfDAsST1JK01hdGguaW11bCh2ZSxrZSl8MCx4PXgrTWF0aC5pbXVsKHdlLEtlKXwwLHA9cCtNYXRoLmltdWwod2UsRGUpfDAscD1wK01hdGguaW11bChuZSxLZSl8MCxJPUkrTWF0aC5pbXVsKG5lLERlKXwwLHg9eCtNYXRoLmltdWwoc2UsTGUpfDAscD1wK01hdGguaW11bChzZSxGZSl8MCxwPXArTWF0aC5pbXVsKGRlLExlKXwwLEk9SStNYXRoLmltdWwoZGUsRmUpfDA7dmFyIHl0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyh5dD4+PjI2KXwwLHl0Jj02NzEwODg2Myx4PU1hdGguaW11bChTZSx6ZSkscD1NYXRoLmltdWwoU2UsT2UpLHA9cCtNYXRoLmltdWwoJGUsemUpfDAsST1NYXRoLmltdWwoJGUsT2UpLHg9eCtNYXRoLmltdWwoeGUsWmUpfDAscD1wK01hdGguaW11bCh4ZSxrZSl8MCxwPXArTWF0aC5pbXVsKGdlLFplKXwwLEk9SStNYXRoLmltdWwoZ2Usa2UpfDAseD14K01hdGguaW11bChiZSxLZSl8MCxwPXArTWF0aC5pbXVsKGJlLERlKXwwLHA9cCtNYXRoLmltdWwodmUsS2UpfDAsST1JK01hdGguaW11bCh2ZSxEZSl8MCx4PXgrTWF0aC5pbXVsKHdlLExlKXwwLHA9cCtNYXRoLmltdWwod2UsRmUpfDAscD1wK01hdGguaW11bChuZSxMZSl8MCxJPUkrTWF0aC5pbXVsKG5lLEZlKXwwO3ZhciBfdD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7eT0oSSsocD4+PjEzKXwwKSsoX3Q+Pj4yNil8MCxfdCY9NjcxMDg4NjMseD1NYXRoLmltdWwoU2UsWmUpLHA9TWF0aC5pbXVsKFNlLGtlKSxwPXArTWF0aC5pbXVsKCRlLFplKXwwLEk9TWF0aC5pbXVsKCRlLGtlKSx4PXgrTWF0aC5pbXVsKHhlLEtlKXwwLHA9cCtNYXRoLmltdWwoeGUsRGUpfDAscD1wK01hdGguaW11bChnZSxLZSl8MCxJPUkrTWF0aC5pbXVsKGdlLERlKXwwLHg9eCtNYXRoLmltdWwoYmUsTGUpfDAscD1wK01hdGguaW11bChiZSxGZSl8MCxwPXArTWF0aC5pbXVsKHZlLExlKXwwLEk9SStNYXRoLmltdWwodmUsRmUpfDA7dmFyIGd0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyhndD4+PjI2KXwwLGd0Jj02NzEwODg2Myx4PU1hdGguaW11bChTZSxLZSkscD1NYXRoLmltdWwoU2UsRGUpLHA9cCtNYXRoLmltdWwoJGUsS2UpfDAsST1NYXRoLmltdWwoJGUsRGUpLHg9eCtNYXRoLmltdWwoeGUsTGUpfDAscD1wK01hdGguaW11bCh4ZSxGZSl8MCxwPXArTWF0aC5pbXVsKGdlLExlKXwwLEk9SStNYXRoLmltdWwoZ2UsRmUpfDA7dmFyIHd0PSh5K3h8MCkrKChwJjgxOTEpPDwxMyl8MDt5PShJKyhwPj4+MTMpfDApKyh3dD4+PjI2KXwwLHd0Jj02NzEwODg2Myx4PU1hdGguaW11bChTZSxMZSkscD1NYXRoLmltdWwoU2UsRmUpLHA9cCtNYXRoLmltdWwoJGUsTGUpfDAsST1NYXRoLmltdWwoJGUsRmUpO3ZhciBFdD0oeSt4fDApKygocCY4MTkxKTw8MTMpfDA7cmV0dXJuIHk9KEkrKHA+Pj4xMyl8MCkrKEV0Pj4+MjYpfDAsRXQmPTY3MTA4ODYzLEFbMF09aXQsQVsxXT1udCxBWzJdPWF0LEFbM109b3QsQVs0XT1zdCxBWzVdPXV0LEFbNl09bHQsQVs3XT1odCxBWzhdPWN0LEFbOV09ZHQsQVsxMF09cHQsQVsxMV09dnQsQVsxMl09YnQsQVsxM109bXQsQVsxNF09eXQsQVsxNV09X3QsQVsxNl09Z3QsQVsxN109d3QsQVsxOF09RXQseSE9PTAmJihBWzE5XT15LEUubGVuZ3RoKyspLEV9O01hdGguaW11bHx8KFY9SCk7ZnVuY3Rpb24gYWUobSxsLHYpe3YubmVnYXRpdmU9bC5uZWdhdGl2ZV5tLm5lZ2F0aXZlLHYubGVuZ3RoPW0ubGVuZ3RoK2wubGVuZ3RoO2Zvcih2YXIgRT0wLFM9MCxCPTA7Qjx2Lmxlbmd0aC0xO0IrKyl7dmFyIEE9UztTPTA7Zm9yKHZhciB5PUUmNjcxMDg4NjMseD1NYXRoLm1pbihCLGwubGVuZ3RoLTEpLHA9TWF0aC5tYXgoMCxCLW0ubGVuZ3RoKzEpO3A8PXg7cCsrKXt2YXIgST1CLXAsZWU9bS53b3Jkc1tJXXwwLGZlPWwud29yZHNbcF18MCxKPWVlKmZlLGs9SiY2NzEwODg2MztBPUErKEovNjcxMDg4NjR8MCl8MCxrPWsreXwwLHk9ayY2NzEwODg2MyxBPUErKGs+Pj4yNil8MCxTKz1BPj4+MjYsQSY9NjcxMDg4NjN9di53b3Jkc1tCXT15LEU9QSxBPVN9cmV0dXJuIEUhPT0wP3Yud29yZHNbQl09RTp2Lmxlbmd0aC0tLHYuX3N0cmlwKCl9ZnVuY3Rpb24gaWUobSxsLHYpe3JldHVybiBhZShtLGwsdil9by5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24obCx2KXt2YXIgRSxTPXRoaXMubGVuZ3RoK2wubGVuZ3RoO3JldHVybiB0aGlzLmxlbmd0aD09PTEwJiZsLmxlbmd0aD09PTEwP0U9Vih0aGlzLGwsdik6Uzw2Mz9FPUgodGhpcyxsLHYpOlM8MTAyND9FPWFlKHRoaXMsbCx2KTpFPWllKHRoaXMsbCx2KSxFfSxvLnByb3RvdHlwZS5tdWw9ZnVuY3Rpb24obCl7dmFyIHY9bmV3IG8obnVsbCk7cmV0dXJuIHYud29yZHM9bmV3IEFycmF5KHRoaXMubGVuZ3RoK2wubGVuZ3RoKSx0aGlzLm11bFRvKGwsdil9LG8ucHJvdG90eXBlLm11bGY9ZnVuY3Rpb24obCl7dmFyIHY9bmV3IG8obnVsbCk7cmV0dXJuIHYud29yZHM9bmV3IEFycmF5KHRoaXMubGVuZ3RoK2wubGVuZ3RoKSxpZSh0aGlzLGwsdil9LG8ucHJvdG90eXBlLmltdWw9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5tdWxUbyhsLHRoaXMpfSxvLnByb3RvdHlwZS5pbXVsbj1mdW5jdGlvbihsKXt2YXIgdj1sPDA7diYmKGw9LWwpLGEodHlwZW9mIGw9PSJudW1iZXIiKSxhKGw8NjcxMDg4NjQpO2Zvcih2YXIgRT0wLFM9MDtTPHRoaXMubGVuZ3RoO1MrKyl7dmFyIEI9KHRoaXMud29yZHNbU118MCkqbCxBPShCJjY3MTA4ODYzKSsoRSY2NzEwODg2Myk7RT4+PTI2LEUrPUIvNjcxMDg4NjR8MCxFKz1BPj4+MjYsdGhpcy53b3Jkc1tTXT1BJjY3MTA4ODYzfXJldHVybiBFIT09MCYmKHRoaXMud29yZHNbU109RSx0aGlzLmxlbmd0aCsrKSx2P3RoaXMuaW5lZygpOnRoaXN9LG8ucHJvdG90eXBlLm11bG49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pbXVsbihsKX0sby5wcm90b3R5cGUuc3FyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXVsKHRoaXMpfSxvLnByb3RvdHlwZS5pc3FyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW11bCh0aGlzLmNsb25lKCkpfSxvLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24obCl7dmFyIHY9eihsKTtpZih2Lmxlbmd0aD09PTApcmV0dXJuIG5ldyBvKDEpO2Zvcih2YXIgRT10aGlzLFM9MDtTPHYubGVuZ3RoJiZ2W1NdPT09MDtTKyssRT1FLnNxcigpKTtpZigrK1M8di5sZW5ndGgpZm9yKHZhciBCPUUuc3FyKCk7Uzx2Lmxlbmd0aDtTKyssQj1CLnNxcigpKXZbU10hPT0wJiYoRT1FLm11bChCKSk7cmV0dXJuIEV9LG8ucHJvdG90eXBlLml1c2hsbj1mdW5jdGlvbihsKXthKHR5cGVvZiBsPT0ibnVtYmVyIiYmbD49MCk7dmFyIHY9bCUyNixFPShsLXYpLzI2LFM9NjcxMDg4NjM+Pj4yNi12PDwyNi12LEI7aWYodiE9PTApe3ZhciBBPTA7Zm9yKEI9MDtCPHRoaXMubGVuZ3RoO0IrKyl7dmFyIHk9dGhpcy53b3Jkc1tCXSZTLHg9KHRoaXMud29yZHNbQl18MCkteTw8djt0aGlzLndvcmRzW0JdPXh8QSxBPXk+Pj4yNi12fUEmJih0aGlzLndvcmRzW0JdPUEsdGhpcy5sZW5ndGgrKyl9aWYoRSE9PTApe2ZvcihCPXRoaXMubGVuZ3RoLTE7Qj49MDtCLS0pdGhpcy53b3Jkc1tCK0VdPXRoaXMud29yZHNbQl07Zm9yKEI9MDtCPEU7QisrKXRoaXMud29yZHNbQl09MDt0aGlzLmxlbmd0aCs9RX1yZXR1cm4gdGhpcy5fc3RyaXAoKX0sby5wcm90b3R5cGUuaXNobG49ZnVuY3Rpb24obCl7cmV0dXJuIGEodGhpcy5uZWdhdGl2ZT09PTApLHRoaXMuaXVzaGxuKGwpfSxvLnByb3RvdHlwZS5pdXNocm49ZnVuY3Rpb24obCx2LEUpe2EodHlwZW9mIGw9PSJudW1iZXIiJiZsPj0wKTt2YXIgUzt2P1M9KHYtdiUyNikvMjY6Uz0wO3ZhciBCPWwlMjYsQT1NYXRoLm1pbigobC1CKS8yNix0aGlzLmxlbmd0aCkseT02NzEwODg2M142NzEwODg2Mz4+PkI8PEIseD1FO2lmKFMtPUEsUz1NYXRoLm1heCgwLFMpLHgpe2Zvcih2YXIgcD0wO3A8QTtwKyspeC53b3Jkc1twXT10aGlzLndvcmRzW3BdO3gubGVuZ3RoPUF9aWYoQSE9PTApaWYodGhpcy5sZW5ndGg+QSlmb3IodGhpcy5sZW5ndGgtPUEscD0wO3A8dGhpcy5sZW5ndGg7cCsrKXRoaXMud29yZHNbcF09dGhpcy53b3Jkc1twK0FdO2Vsc2UgdGhpcy53b3Jkc1swXT0wLHRoaXMubGVuZ3RoPTE7dmFyIEk9MDtmb3IocD10aGlzLmxlbmd0aC0xO3A+PTAmJihJIT09MHx8cD49Uyk7cC0tKXt2YXIgZWU9dGhpcy53b3Jkc1twXXwwO3RoaXMud29yZHNbcF09STw8MjYtQnxlZT4+PkIsST1lZSZ5fXJldHVybiB4JiZJIT09MCYmKHgud29yZHNbeC5sZW5ndGgrK109SSksdGhpcy5sZW5ndGg9PT0wJiYodGhpcy53b3Jkc1swXT0wLHRoaXMubGVuZ3RoPTEpLHRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLmlzaHJuPWZ1bmN0aW9uKGwsdixFKXtyZXR1cm4gYSh0aGlzLm5lZ2F0aXZlPT09MCksdGhpcy5pdXNocm4obCx2LEUpfSxvLnByb3RvdHlwZS5zaGxuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkuaXNobG4obCl9LG8ucHJvdG90eXBlLnVzaGxuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkuaXVzaGxuKGwpfSxvLnByb3RvdHlwZS5zaHJuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkuaXNocm4obCl9LG8ucHJvdG90eXBlLnVzaHJuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNsb25lKCkuaXVzaHJuKGwpfSxvLnByb3RvdHlwZS50ZXN0bj1mdW5jdGlvbihsKXthKHR5cGVvZiBsPT0ibnVtYmVyIiYmbD49MCk7dmFyIHY9bCUyNixFPShsLXYpLzI2LFM9MTw8djtpZih0aGlzLmxlbmd0aDw9RSlyZXR1cm4hMTt2YXIgQj10aGlzLndvcmRzW0VdO3JldHVybiEhKEImUyl9LG8ucHJvdG90eXBlLmltYXNrbj1mdW5jdGlvbihsKXthKHR5cGVvZiBsPT0ibnVtYmVyIiYmbD49MCk7dmFyIHY9bCUyNixFPShsLXYpLzI2O2lmKGEodGhpcy5uZWdhdGl2ZT09PTAsImltYXNrbiB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmUgbnVtYmVycyIpLHRoaXMubGVuZ3RoPD1FKXJldHVybiB0aGlzO2lmKHYhPT0wJiZFKyssdGhpcy5sZW5ndGg9TWF0aC5taW4oRSx0aGlzLmxlbmd0aCksdiE9PTApe3ZhciBTPTY3MTA4ODYzXjY3MTA4ODYzPj4+djw8djt0aGlzLndvcmRzW3RoaXMubGVuZ3RoLTFdJj1TfXJldHVybiB0aGlzLl9zdHJpcCgpfSxvLnByb3RvdHlwZS5tYXNrbj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmltYXNrbihsKX0sby5wcm90b3R5cGUuaWFkZG49ZnVuY3Rpb24obCl7cmV0dXJuIGEodHlwZW9mIGw9PSJudW1iZXIiKSxhKGw8NjcxMDg4NjQpLGw8MD90aGlzLmlzdWJuKC1sKTp0aGlzLm5lZ2F0aXZlIT09MD90aGlzLmxlbmd0aD09PTEmJih0aGlzLndvcmRzWzBdfDApPD1sPyh0aGlzLndvcmRzWzBdPWwtKHRoaXMud29yZHNbMF18MCksdGhpcy5uZWdhdGl2ZT0wLHRoaXMpOih0aGlzLm5lZ2F0aXZlPTAsdGhpcy5pc3VibihsKSx0aGlzLm5lZ2F0aXZlPTEsdGhpcyk6dGhpcy5faWFkZG4obCl9LG8ucHJvdG90eXBlLl9pYWRkbj1mdW5jdGlvbihsKXt0aGlzLndvcmRzWzBdKz1sO2Zvcih2YXIgdj0wO3Y8dGhpcy5sZW5ndGgmJnRoaXMud29yZHNbdl0+PTY3MTA4ODY0O3YrKyl0aGlzLndvcmRzW3ZdLT02NzEwODg2NCx2PT09dGhpcy5sZW5ndGgtMT90aGlzLndvcmRzW3YrMV09MTp0aGlzLndvcmRzW3YrMV0rKztyZXR1cm4gdGhpcy5sZW5ndGg9TWF0aC5tYXgodGhpcy5sZW5ndGgsdisxKSx0aGlzfSxvLnByb3RvdHlwZS5pc3Vibj1mdW5jdGlvbihsKXtpZihhKHR5cGVvZiBsPT0ibnVtYmVyIiksYShsPDY3MTA4ODY0KSxsPDApcmV0dXJuIHRoaXMuaWFkZG4oLWwpO2lmKHRoaXMubmVnYXRpdmUhPT0wKXJldHVybiB0aGlzLm5lZ2F0aXZlPTAsdGhpcy5pYWRkbihsKSx0aGlzLm5lZ2F0aXZlPTEsdGhpcztpZih0aGlzLndvcmRzWzBdLT1sLHRoaXMubGVuZ3RoPT09MSYmdGhpcy53b3Jkc1swXTwwKXRoaXMud29yZHNbMF09LXRoaXMud29yZHNbMF0sdGhpcy5uZWdhdGl2ZT0xO2Vsc2UgZm9yKHZhciB2PTA7djx0aGlzLmxlbmd0aCYmdGhpcy53b3Jkc1t2XTwwO3YrKyl0aGlzLndvcmRzW3ZdKz02NzEwODg2NCx0aGlzLndvcmRzW3YrMV0tPTE7cmV0dXJuIHRoaXMuX3N0cmlwKCl9LG8ucHJvdG90eXBlLmFkZG49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5pYWRkbihsKX0sby5wcm90b3R5cGUuc3Vibj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmlzdWJuKGwpfSxvLnByb3RvdHlwZS5pYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVnYXRpdmU9MCx0aGlzfSxvLnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmlhYnMoKX0sby5wcm90b3R5cGUuX2lzaGxuc3VibXVsPWZ1bmN0aW9uKGwsdixFKXt2YXIgUz1sLmxlbmd0aCtFLEI7dGhpcy5fZXhwYW5kKFMpO3ZhciBBLHk9MDtmb3IoQj0wO0I8bC5sZW5ndGg7QisrKXtBPSh0aGlzLndvcmRzW0IrRV18MCkreTt2YXIgeD0obC53b3Jkc1tCXXwwKSp2O0EtPXgmNjcxMDg4NjMseT0oQT4+MjYpLSh4LzY3MTA4ODY0fDApLHRoaXMud29yZHNbQitFXT1BJjY3MTA4ODYzfWZvcig7Qjx0aGlzLmxlbmd0aC1FO0IrKylBPSh0aGlzLndvcmRzW0IrRV18MCkreSx5PUE+PjI2LHRoaXMud29yZHNbQitFXT1BJjY3MTA4ODYzO2lmKHk9PT0wKXJldHVybiB0aGlzLl9zdHJpcCgpO2ZvcihhKHk9PT0tMSkseT0wLEI9MDtCPHRoaXMubGVuZ3RoO0IrKylBPS0odGhpcy53b3Jkc1tCXXwwKSt5LHk9QT4+MjYsdGhpcy53b3Jkc1tCXT1BJjY3MTA4ODYzO3JldHVybiB0aGlzLm5lZ2F0aXZlPTEsdGhpcy5fc3RyaXAoKX0sby5wcm90b3R5cGUuX3dvcmREaXY9ZnVuY3Rpb24obCx2KXt2YXIgRT10aGlzLmxlbmd0aC1sLmxlbmd0aCxTPXRoaXMuY2xvbmUoKSxCPWwsQT1CLndvcmRzW0IubGVuZ3RoLTFdfDAseT10aGlzLl9jb3VudEJpdHMoQSk7RT0yNi15LEUhPT0wJiYoQj1CLnVzaGxuKEUpLFMuaXVzaGxuKEUpLEE9Qi53b3Jkc1tCLmxlbmd0aC0xXXwwKTt2YXIgeD1TLmxlbmd0aC1CLmxlbmd0aCxwO2lmKHYhPT0ibW9kIil7cD1uZXcgbyhudWxsKSxwLmxlbmd0aD14KzEscC53b3Jkcz1uZXcgQXJyYXkocC5sZW5ndGgpO2Zvcih2YXIgST0wO0k8cC5sZW5ndGg7SSsrKXAud29yZHNbSV09MH12YXIgZWU9Uy5jbG9uZSgpLl9pc2hsbnN1Ym11bChCLDEseCk7ZWUubmVnYXRpdmU9PT0wJiYoUz1lZSxwJiYocC53b3Jkc1t4XT0xKSk7Zm9yKHZhciBmZT14LTE7ZmU+PTA7ZmUtLSl7dmFyIEo9KFMud29yZHNbQi5sZW5ndGgrZmVdfDApKjY3MTA4ODY0KyhTLndvcmRzW0IubGVuZ3RoK2ZlLTFdfDApO2ZvcihKPU1hdGgubWluKEovQXwwLDY3MTA4ODYzKSxTLl9pc2hsbnN1Ym11bChCLEosZmUpO1MubmVnYXRpdmUhPT0wOylKLS0sUy5uZWdhdGl2ZT0wLFMuX2lzaGxuc3VibXVsKEIsMSxmZSksUy5pc1plcm8oKXx8KFMubmVnYXRpdmVePTEpO3AmJihwLndvcmRzW2ZlXT1KKX1yZXR1cm4gcCYmcC5fc3RyaXAoKSxTLl9zdHJpcCgpLHYhPT0iZGl2IiYmRSE9PTAmJlMuaXVzaHJuKEUpLHtkaXY6cHx8bnVsbCxtb2Q6U319LG8ucHJvdG90eXBlLmRpdm1vZD1mdW5jdGlvbihsLHYsRSl7aWYoYSghbC5pc1plcm8oKSksdGhpcy5pc1plcm8oKSlyZXR1cm57ZGl2Om5ldyBvKDApLG1vZDpuZXcgbygwKX07dmFyIFMsQixBO3JldHVybiB0aGlzLm5lZ2F0aXZlIT09MCYmbC5uZWdhdGl2ZT09PTA/KEE9dGhpcy5uZWcoKS5kaXZtb2QobCx2KSx2IT09Im1vZCImJihTPUEuZGl2Lm5lZygpKSx2IT09ImRpdiImJihCPUEubW9kLm5lZygpLEUmJkIubmVnYXRpdmUhPT0wJiZCLmlhZGQobCkpLHtkaXY6Uyxtb2Q6Qn0pOnRoaXMubmVnYXRpdmU9PT0wJiZsLm5lZ2F0aXZlIT09MD8oQT10aGlzLmRpdm1vZChsLm5lZygpLHYpLHYhPT0ibW9kIiYmKFM9QS5kaXYubmVnKCkpLHtkaXY6Uyxtb2Q6QS5tb2R9KTp0aGlzLm5lZ2F0aXZlJmwubmVnYXRpdmU/KEE9dGhpcy5uZWcoKS5kaXZtb2QobC5uZWcoKSx2KSx2IT09ImRpdiImJihCPUEubW9kLm5lZygpLEUmJkIubmVnYXRpdmUhPT0wJiZCLmlzdWIobCkpLHtkaXY6QS5kaXYsbW9kOkJ9KTpsLmxlbmd0aD50aGlzLmxlbmd0aHx8dGhpcy5jbXAobCk8MD97ZGl2Om5ldyBvKDApLG1vZDp0aGlzfTpsLmxlbmd0aD09PTE/dj09PSJkaXYiP3tkaXY6dGhpcy5kaXZuKGwud29yZHNbMF0pLG1vZDpudWxsfTp2PT09Im1vZCI/e2RpdjpudWxsLG1vZDpuZXcgbyh0aGlzLm1vZHJuKGwud29yZHNbMF0pKX06e2Rpdjp0aGlzLmRpdm4obC53b3Jkc1swXSksbW9kOm5ldyBvKHRoaXMubW9kcm4obC53b3Jkc1swXSkpfTp0aGlzLl93b3JkRGl2KGwsdil9LG8ucHJvdG90eXBlLmRpdj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5kaXZtb2QobCwiZGl2IiwhMSkuZGl2fSxvLnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuZGl2bW9kKGwsIm1vZCIsITEpLm1vZH0sby5wcm90b3R5cGUudW1vZD1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5kaXZtb2QobCwibW9kIiwhMCkubW9kfSxvLnByb3RvdHlwZS5kaXZSb3VuZD1mdW5jdGlvbihsKXt2YXIgdj10aGlzLmRpdm1vZChsKTtpZih2Lm1vZC5pc1plcm8oKSlyZXR1cm4gdi5kaXY7dmFyIEU9di5kaXYubmVnYXRpdmUhPT0wP3YubW9kLmlzdWIobCk6di5tb2QsUz1sLnVzaHJuKDEpLEI9bC5hbmRsbigxKSxBPUUuY21wKFMpO3JldHVybiBBPDB8fEI9PT0xJiZBPT09MD92LmRpdjp2LmRpdi5uZWdhdGl2ZSE9PTA/di5kaXYuaXN1Ym4oMSk6di5kaXYuaWFkZG4oMSl9LG8ucHJvdG90eXBlLm1vZHJuPWZ1bmN0aW9uKGwpe3ZhciB2PWw8MDt2JiYobD0tbCksYShsPD02NzEwODg2Myk7Zm9yKHZhciBFPSgxPDwyNiklbCxTPTAsQj10aGlzLmxlbmd0aC0xO0I+PTA7Qi0tKVM9KEUqUysodGhpcy53b3Jkc1tCXXwwKSklbDtyZXR1cm4gdj8tUzpTfSxvLnByb3RvdHlwZS5tb2RuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLm1vZHJuKGwpfSxvLnByb3RvdHlwZS5pZGl2bj1mdW5jdGlvbihsKXt2YXIgdj1sPDA7diYmKGw9LWwpLGEobDw9NjcxMDg4NjMpO2Zvcih2YXIgRT0wLFM9dGhpcy5sZW5ndGgtMTtTPj0wO1MtLSl7dmFyIEI9KHRoaXMud29yZHNbU118MCkrRSo2NzEwODg2NDt0aGlzLndvcmRzW1NdPUIvbHwwLEU9QiVsfXJldHVybiB0aGlzLl9zdHJpcCgpLHY/dGhpcy5pbmVnKCk6dGhpc30sby5wcm90b3R5cGUuZGl2bj1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmlkaXZuKGwpfSxvLnByb3RvdHlwZS5lZ2NkPWZ1bmN0aW9uKGwpe2EobC5uZWdhdGl2ZT09PTApLGEoIWwuaXNaZXJvKCkpO3ZhciB2PXRoaXMsRT1sLmNsb25lKCk7di5uZWdhdGl2ZSE9PTA/dj12LnVtb2QobCk6dj12LmNsb25lKCk7Zm9yKHZhciBTPW5ldyBvKDEpLEI9bmV3IG8oMCksQT1uZXcgbygwKSx5PW5ldyBvKDEpLHg9MDt2LmlzRXZlbigpJiZFLmlzRXZlbigpOyl2Lml1c2hybigxKSxFLml1c2hybigxKSwrK3g7Zm9yKHZhciBwPUUuY2xvbmUoKSxJPXYuY2xvbmUoKTshdi5pc1plcm8oKTspe2Zvcih2YXIgZWU9MCxmZT0xOyEodi53b3Jkc1swXSZmZSkmJmVlPDI2OysrZWUsZmU8PD0xKTtpZihlZT4wKWZvcih2Lml1c2hybihlZSk7ZWUtLSA+MDspKFMuaXNPZGQoKXx8Qi5pc09kZCgpKSYmKFMuaWFkZChwKSxCLmlzdWIoSSkpLFMuaXVzaHJuKDEpLEIuaXVzaHJuKDEpO2Zvcih2YXIgSj0wLGs9MTshKEUud29yZHNbMF0maykmJko8MjY7KytKLGs8PD0xKTtpZihKPjApZm9yKEUuaXVzaHJuKEopO0otLSA+MDspKEEuaXNPZGQoKXx8eS5pc09kZCgpKSYmKEEuaWFkZChwKSx5LmlzdWIoSSkpLEEuaXVzaHJuKDEpLHkuaXVzaHJuKDEpO3YuY21wKEUpPj0wPyh2LmlzdWIoRSksUy5pc3ViKEEpLEIuaXN1Yih5KSk6KEUuaXN1Yih2KSxBLmlzdWIoUykseS5pc3ViKEIpKX1yZXR1cm57YTpBLGI6eSxnY2Q6RS5pdXNobG4oeCl9fSxvLnByb3RvdHlwZS5faW52bXA9ZnVuY3Rpb24obCl7YShsLm5lZ2F0aXZlPT09MCksYSghbC5pc1plcm8oKSk7dmFyIHY9dGhpcyxFPWwuY2xvbmUoKTt2Lm5lZ2F0aXZlIT09MD92PXYudW1vZChsKTp2PXYuY2xvbmUoKTtmb3IodmFyIFM9bmV3IG8oMSksQj1uZXcgbygwKSxBPUUuY2xvbmUoKTt2LmNtcG4oMSk+MCYmRS5jbXBuKDEpPjA7KXtmb3IodmFyIHk9MCx4PTE7ISh2LndvcmRzWzBdJngpJiZ5PDI2OysreSx4PDw9MSk7aWYoeT4wKWZvcih2Lml1c2hybih5KTt5LS0gPjA7KVMuaXNPZGQoKSYmUy5pYWRkKEEpLFMuaXVzaHJuKDEpO2Zvcih2YXIgcD0wLEk9MTshKEUud29yZHNbMF0mSSkmJnA8MjY7KytwLEk8PD0xKTtpZihwPjApZm9yKEUuaXVzaHJuKHApO3AtLSA+MDspQi5pc09kZCgpJiZCLmlhZGQoQSksQi5pdXNocm4oMSk7di5jbXAoRSk+PTA/KHYuaXN1YihFKSxTLmlzdWIoQikpOihFLmlzdWIodiksQi5pc3ViKFMpKX12YXIgZWU7cmV0dXJuIHYuY21wbigxKT09PTA/ZWU9UzplZT1CLGVlLmNtcG4oMCk8MCYmZWUuaWFkZChsKSxlZX0sby5wcm90b3R5cGUuZ2NkPWZ1bmN0aW9uKGwpe2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIGwuYWJzKCk7aWYobC5pc1plcm8oKSlyZXR1cm4gdGhpcy5hYnMoKTt2YXIgdj10aGlzLmNsb25lKCksRT1sLmNsb25lKCk7di5uZWdhdGl2ZT0wLEUubmVnYXRpdmU9MDtmb3IodmFyIFM9MDt2LmlzRXZlbigpJiZFLmlzRXZlbigpO1MrKyl2Lml1c2hybigxKSxFLml1c2hybigxKTtkb3tmb3IoO3YuaXNFdmVuKCk7KXYuaXVzaHJuKDEpO2Zvcig7RS5pc0V2ZW4oKTspRS5pdXNocm4oMSk7dmFyIEI9di5jbXAoRSk7aWYoQjwwKXt2YXIgQT12O3Y9RSxFPUF9ZWxzZSBpZihCPT09MHx8RS5jbXBuKDEpPT09MClicmVhazt2LmlzdWIoRSl9d2hpbGUoITApO3JldHVybiBFLml1c2hsbihTKX0sby5wcm90b3R5cGUuaW52bT1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5lZ2NkKGwpLmEudW1vZChsKX0sby5wcm90b3R5cGUuaXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMud29yZHNbMF0mMSk9PT0wfSxvLnByb3RvdHlwZS5pc09kZD1mdW5jdGlvbigpe3JldHVybih0aGlzLndvcmRzWzBdJjEpPT09MX0sby5wcm90b3R5cGUuYW5kbG49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMud29yZHNbMF0mbH0sby5wcm90b3R5cGUuYmluY249ZnVuY3Rpb24obCl7YSh0eXBlb2YgbD09Im51bWJlciIpO3ZhciB2PWwlMjYsRT0obC12KS8yNixTPTE8PHY7aWYodGhpcy5sZW5ndGg8PUUpcmV0dXJuIHRoaXMuX2V4cGFuZChFKzEpLHRoaXMud29yZHNbRV18PVMsdGhpcztmb3IodmFyIEI9UyxBPUU7QiE9PTAmJkE8dGhpcy5sZW5ndGg7QSsrKXt2YXIgeT10aGlzLndvcmRzW0FdfDA7eSs9QixCPXk+Pj4yNix5Jj02NzEwODg2Myx0aGlzLndvcmRzW0FdPXl9cmV0dXJuIEIhPT0wJiYodGhpcy53b3Jkc1tBXT1CLHRoaXMubGVuZ3RoKyspLHRoaXN9LG8ucHJvdG90eXBlLmlzWmVybz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD09PTEmJnRoaXMud29yZHNbMF09PT0wfSxvLnByb3RvdHlwZS5jbXBuPWZ1bmN0aW9uKGwpe3ZhciB2PWw8MDtpZih0aGlzLm5lZ2F0aXZlIT09MCYmIXYpcmV0dXJuLTE7aWYodGhpcy5uZWdhdGl2ZT09PTAmJnYpcmV0dXJuIDE7dGhpcy5fc3RyaXAoKTt2YXIgRTtpZih0aGlzLmxlbmd0aD4xKUU9MTtlbHNle3YmJihsPS1sKSxhKGw8PTY3MTA4ODYzLCJOdW1iZXIgaXMgdG9vIGJpZyIpO3ZhciBTPXRoaXMud29yZHNbMF18MDtFPVM9PT1sPzA6UzxsPy0xOjF9cmV0dXJuIHRoaXMubmVnYXRpdmUhPT0wPy1FfDA6RX0sby5wcm90b3R5cGUuY21wPWZ1bmN0aW9uKGwpe2lmKHRoaXMubmVnYXRpdmUhPT0wJiZsLm5lZ2F0aXZlPT09MClyZXR1cm4tMTtpZih0aGlzLm5lZ2F0aXZlPT09MCYmbC5uZWdhdGl2ZSE9PTApcmV0dXJuIDE7dmFyIHY9dGhpcy51Y21wKGwpO3JldHVybiB0aGlzLm5lZ2F0aXZlIT09MD8tdnwwOnZ9LG8ucHJvdG90eXBlLnVjbXA9ZnVuY3Rpb24obCl7aWYodGhpcy5sZW5ndGg+bC5sZW5ndGgpcmV0dXJuIDE7aWYodGhpcy5sZW5ndGg8bC5sZW5ndGgpcmV0dXJuLTE7Zm9yKHZhciB2PTAsRT10aGlzLmxlbmd0aC0xO0U+PTA7RS0tKXt2YXIgUz10aGlzLndvcmRzW0VdfDAsQj1sLndvcmRzW0VdfDA7aWYoUyE9PUIpe1M8Qj92PS0xOlM+QiYmKHY9MSk7YnJlYWt9fXJldHVybiB2fSxvLnByb3RvdHlwZS5ndG49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY21wbihsKT09PTF9LG8ucHJvdG90eXBlLmd0PWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcChsKT09PTF9LG8ucHJvdG90eXBlLmd0ZW49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY21wbihsKT49MH0sby5wcm90b3R5cGUuZ3RlPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcChsKT49MH0sby5wcm90b3R5cGUubHRuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcG4obCk9PT0tMX0sby5wcm90b3R5cGUubHQ9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY21wKGwpPT09LTF9LG8ucHJvdG90eXBlLmx0ZW49ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuY21wbihsKTw9MH0sby5wcm90b3R5cGUubHRlPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcChsKTw9MH0sby5wcm90b3R5cGUuZXFuPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmNtcG4obCk9PT0wfSxvLnByb3RvdHlwZS5lcT1mdW5jdGlvbihsKXtyZXR1cm4gdGhpcy5jbXAobCk9PT0wfSxvLnJlZD1mdW5jdGlvbihsKXtyZXR1cm4gbmV3IFgobCl9LG8ucHJvdG90eXBlLnRvUmVkPWZ1bmN0aW9uKGwpe3JldHVybiBhKCF0aGlzLnJlZCwiQWxyZWFkeSBhIG51bWJlciBpbiByZWR1Y3Rpb24gY29udGV4dCIpLGEodGhpcy5uZWdhdGl2ZT09PTAsInJlZCB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmVzIiksbC5jb252ZXJ0VG8odGhpcykuX2ZvcmNlUmVkKGwpfSxvLnByb3RvdHlwZS5mcm9tUmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5yZWQsImZyb21SZWQgd29ya3Mgb25seSB3aXRoIG51bWJlcnMgaW4gcmVkdWN0aW9uIGNvbnRleHQiKSx0aGlzLnJlZC5jb252ZXJ0RnJvbSh0aGlzKX0sby5wcm90b3R5cGUuX2ZvcmNlUmVkPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLnJlZD1sLHRoaXN9LG8ucHJvdG90eXBlLmZvcmNlUmVkPWZ1bmN0aW9uKGwpe3JldHVybiBhKCF0aGlzLnJlZCwiQWxyZWFkeSBhIG51bWJlciBpbiByZWR1Y3Rpb24gY29udGV4dCIpLHRoaXMuX2ZvcmNlUmVkKGwpfSxvLnByb3RvdHlwZS5yZWRBZGQ9ZnVuY3Rpb24obCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZEFkZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5hZGQodGhpcyxsKX0sby5wcm90b3R5cGUucmVkSUFkZD1mdW5jdGlvbihsKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkSUFkZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5pYWRkKHRoaXMsbCl9LG8ucHJvdG90eXBlLnJlZFN1Yj1mdW5jdGlvbihsKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkU3ViIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLnN1Yih0aGlzLGwpfSxvLnByb3RvdHlwZS5yZWRJU3ViPWZ1bmN0aW9uKGwpe3JldHVybiBhKHRoaXMucmVkLCJyZWRJU3ViIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLmlzdWIodGhpcyxsKX0sby5wcm90b3R5cGUucmVkU2hsPWZ1bmN0aW9uKGwpe3JldHVybiBhKHRoaXMucmVkLCJyZWRTaGwgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuc2hsKHRoaXMsbCl9LG8ucHJvdG90eXBlLnJlZE11bD1mdW5jdGlvbihsKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkTXVsIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLl92ZXJpZnkyKHRoaXMsbCksdGhpcy5yZWQubXVsKHRoaXMsbCl9LG8ucHJvdG90eXBlLnJlZElNdWw9ZnVuY3Rpb24obCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5fdmVyaWZ5Mih0aGlzLGwpLHRoaXMucmVkLmltdWwodGhpcyxsKX0sby5wcm90b3R5cGUucmVkU3FyPWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZFNxciB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSx0aGlzLnJlZC5zcXIodGhpcyl9LG8ucHJvdG90eXBlLnJlZElTcXI9ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLnJlZCwicmVkSVNxciB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMiKSx0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSx0aGlzLnJlZC5pc3FyKHRoaXMpfSxvLnByb3RvdHlwZS5yZWRTcXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5yZWQsInJlZFNxcnQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksdGhpcy5yZWQuc3FydCh0aGlzKX0sby5wcm90b3R5cGUucmVkSW52bT1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMucmVkLCJyZWRJbnZtIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpLHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLHRoaXMucmVkLmludm0odGhpcyl9LG8ucHJvdG90eXBlLnJlZE5lZz1mdW5jdGlvbigpe3JldHVybiBhKHRoaXMucmVkLCJyZWROZWcgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIiksdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksdGhpcy5yZWQubmVnKHRoaXMpfSxvLnByb3RvdHlwZS5yZWRQb3c9ZnVuY3Rpb24obCl7cmV0dXJuIGEodGhpcy5yZWQmJiFsLnJlZCwicmVkUG93KG5vcm1hbE51bSkiKSx0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSx0aGlzLnJlZC5wb3codGhpcyxsKX07dmFyIFE9e2syNTY6bnVsbCxwMjI0Om51bGwscDE5MjpudWxsLHAyNTUxOTpudWxsfTtmdW5jdGlvbiByZShtLGwpe3RoaXMubmFtZT1tLHRoaXMucD1uZXcgbyhsLDE2KSx0aGlzLm49dGhpcy5wLmJpdExlbmd0aCgpLHRoaXMuaz1uZXcgbygxKS5pdXNobG4odGhpcy5uKS5pc3ViKHRoaXMucCksdGhpcy50bXA9dGhpcy5fdG1wKCl9cmUucHJvdG90eXBlLl90bXA9ZnVuY3Rpb24oKXt2YXIgbD1uZXcgbyhudWxsKTtyZXR1cm4gbC53b3Jkcz1uZXcgQXJyYXkoTWF0aC5jZWlsKHRoaXMubi8xMykpLGx9LHJlLnByb3RvdHlwZS5pcmVkdWNlPWZ1bmN0aW9uKGwpe3ZhciB2PWwsRTtkbyB0aGlzLnNwbGl0KHYsdGhpcy50bXApLHY9dGhpcy5pbXVsSyh2KSx2PXYuaWFkZCh0aGlzLnRtcCksRT12LmJpdExlbmd0aCgpO3doaWxlKEU+dGhpcy5uKTt2YXIgUz1FPHRoaXMubj8tMTp2LnVjbXAodGhpcy5wKTtyZXR1cm4gUz09PTA/KHYud29yZHNbMF09MCx2Lmxlbmd0aD0xKTpTPjA/di5pc3ViKHRoaXMucCk6di5zdHJpcCE9PXZvaWQgMD92LnN0cmlwKCk6di5fc3RyaXAoKSx2fSxyZS5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24obCx2KXtsLml1c2hybih0aGlzLm4sMCx2KX0scmUucHJvdG90eXBlLmltdWxLPWZ1bmN0aW9uKGwpe3JldHVybiBsLmltdWwodGhpcy5rKX07ZnVuY3Rpb24gY2UoKXtyZS5jYWxsKHRoaXMsImsyNTYiLCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmMyZiIpfXUoY2UscmUpLGNlLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbihsLHYpe2Zvcih2YXIgRT00MTk0MzAzLFM9TWF0aC5taW4obC5sZW5ndGgsOSksQj0wO0I8UztCKyspdi53b3Jkc1tCXT1sLndvcmRzW0JdO2lmKHYubGVuZ3RoPVMsbC5sZW5ndGg8PTkpe2wud29yZHNbMF09MCxsLmxlbmd0aD0xO3JldHVybn12YXIgQT1sLndvcmRzWzldO2Zvcih2LndvcmRzW3YubGVuZ3RoKytdPUEmRSxCPTEwO0I8bC5sZW5ndGg7QisrKXt2YXIgeT1sLndvcmRzW0JdfDA7bC53b3Jkc1tCLTEwXT0oeSZFKTw8NHxBPj4+MjIsQT15fUE+Pj49MjIsbC53b3Jkc1tCLTEwXT1BLEE9PT0wJiZsLmxlbmd0aD4xMD9sLmxlbmd0aC09MTA6bC5sZW5ndGgtPTl9LGNlLnByb3RvdHlwZS5pbXVsSz1mdW5jdGlvbihsKXtsLndvcmRzW2wubGVuZ3RoXT0wLGwud29yZHNbbC5sZW5ndGgrMV09MCxsLmxlbmd0aCs9Mjtmb3IodmFyIHY9MCxFPTA7RTxsLmxlbmd0aDtFKyspe3ZhciBTPWwud29yZHNbRV18MDt2Kz1TKjk3NyxsLndvcmRzW0VdPXYmNjcxMDg4NjMsdj1TKjY0Kyh2LzY3MTA4ODY0fDApfXJldHVybiBsLndvcmRzW2wubGVuZ3RoLTFdPT09MCYmKGwubGVuZ3RoLS0sbC53b3Jkc1tsLmxlbmd0aC0xXT09PTAmJmwubGVuZ3RoLS0pLGx9O2Z1bmN0aW9uIGxlKCl7cmUuY2FsbCh0aGlzLCJwMjI0IiwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDEiKX11KGxlLHJlKTtmdW5jdGlvbiBvZSgpe3JlLmNhbGwodGhpcywicDE5MiIsImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIGZmZmZmZmZmIil9dShvZSxyZSk7ZnVuY3Rpb24geWUoKXtyZS5jYWxsKHRoaXMsIjI1NTE5IiwiN2ZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZlZCIpfXUoeWUscmUpLHllLnByb3RvdHlwZS5pbXVsSz1mdW5jdGlvbihsKXtmb3IodmFyIHY9MCxFPTA7RTxsLmxlbmd0aDtFKyspe3ZhciBTPShsLndvcmRzW0VdfDApKjE5K3YsQj1TJjY3MTA4ODYzO1M+Pj49MjYsbC53b3Jkc1tFXT1CLHY9U31yZXR1cm4gdiE9PTAmJihsLndvcmRzW2wubGVuZ3RoKytdPXYpLGx9LG8uX3ByaW1lPWZ1bmN0aW9uKGwpe2lmKFFbbF0pcmV0dXJuIFFbbF07dmFyIHY7aWYobD09PSJrMjU2Iil2PW5ldyBjZTtlbHNlIGlmKGw9PT0icDIyNCIpdj1uZXcgbGU7ZWxzZSBpZihsPT09InAxOTIiKXY9bmV3IG9lO2Vsc2UgaWYobD09PSJwMjU1MTkiKXY9bmV3IHllO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByaW1lICIrbCk7cmV0dXJuIFFbbF09dix2fTtmdW5jdGlvbiBYKG0pe2lmKHR5cGVvZiBtPT0ic3RyaW5nIil7dmFyIGw9by5fcHJpbWUobSk7dGhpcy5tPWwucCx0aGlzLnByaW1lPWx9ZWxzZSBhKG0uZ3RuKDEpLCJtb2R1bHVzIG11c3QgYmUgZ3JlYXRlciB0aGFuIDEiKSx0aGlzLm09bSx0aGlzLnByaW1lPW51bGx9WC5wcm90b3R5cGUuX3ZlcmlmeTE9ZnVuY3Rpb24obCl7YShsLm5lZ2F0aXZlPT09MCwicmVkIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZXMiKSxhKGwucmVkLCJyZWQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzIil9LFgucHJvdG90eXBlLl92ZXJpZnkyPWZ1bmN0aW9uKGwsdil7YSgobC5uZWdhdGl2ZXx2Lm5lZ2F0aXZlKT09PTAsInJlZCB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmVzIiksYShsLnJlZCYmbC5yZWQ9PT12LnJlZCwicmVkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycyIpfSxYLnByb3RvdHlwZS5pbW9kPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLnByaW1lP3RoaXMucHJpbWUuaXJlZHVjZShsKS5fZm9yY2VSZWQodGhpcyk6KGIobCxsLnVtb2QodGhpcy5tKS5fZm9yY2VSZWQodGhpcykpLGwpfSxYLnByb3RvdHlwZS5uZWc9ZnVuY3Rpb24obCl7cmV0dXJuIGwuaXNaZXJvKCk/bC5jbG9uZSgpOnRoaXMubS5zdWIobCkuX2ZvcmNlUmVkKHRoaXMpfSxYLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24obCx2KXt0aGlzLl92ZXJpZnkyKGwsdik7dmFyIEU9bC5hZGQodik7cmV0dXJuIEUuY21wKHRoaXMubSk+PTAmJkUuaXN1Yih0aGlzLm0pLEUuX2ZvcmNlUmVkKHRoaXMpfSxYLnByb3RvdHlwZS5pYWRkPWZ1bmN0aW9uKGwsdil7dGhpcy5fdmVyaWZ5MihsLHYpO3ZhciBFPWwuaWFkZCh2KTtyZXR1cm4gRS5jbXAodGhpcy5tKT49MCYmRS5pc3ViKHRoaXMubSksRX0sWC5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKGwsdil7dGhpcy5fdmVyaWZ5MihsLHYpO3ZhciBFPWwuc3ViKHYpO3JldHVybiBFLmNtcG4oMCk8MCYmRS5pYWRkKHRoaXMubSksRS5fZm9yY2VSZWQodGhpcyl9LFgucHJvdG90eXBlLmlzdWI9ZnVuY3Rpb24obCx2KXt0aGlzLl92ZXJpZnkyKGwsdik7dmFyIEU9bC5pc3ViKHYpO3JldHVybiBFLmNtcG4oMCk8MCYmRS5pYWRkKHRoaXMubSksRX0sWC5wcm90b3R5cGUuc2hsPWZ1bmN0aW9uKGwsdil7cmV0dXJuIHRoaXMuX3ZlcmlmeTEobCksdGhpcy5pbW9kKGwudXNobG4odikpfSxYLnByb3RvdHlwZS5pbXVsPWZ1bmN0aW9uKGwsdil7cmV0dXJuIHRoaXMuX3ZlcmlmeTIobCx2KSx0aGlzLmltb2QobC5pbXVsKHYpKX0sWC5wcm90b3R5cGUubXVsPWZ1bmN0aW9uKGwsdil7cmV0dXJuIHRoaXMuX3ZlcmlmeTIobCx2KSx0aGlzLmltb2QobC5tdWwodikpfSxYLnByb3RvdHlwZS5pc3FyPWZ1bmN0aW9uKGwpe3JldHVybiB0aGlzLmltdWwobCxsLmNsb25lKCkpfSxYLnByb3RvdHlwZS5zcXI9ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMubXVsKGwsbCl9LFgucHJvdG90eXBlLnNxcnQ9ZnVuY3Rpb24obCl7aWYobC5pc1plcm8oKSlyZXR1cm4gbC5jbG9uZSgpO3ZhciB2PXRoaXMubS5hbmRsbigzKTtpZihhKHYlMj09PTEpLHY9PT0zKXt2YXIgRT10aGlzLm0uYWRkKG5ldyBvKDEpKS5pdXNocm4oMik7cmV0dXJuIHRoaXMucG93KGwsRSl9Zm9yKHZhciBTPXRoaXMubS5zdWJuKDEpLEI9MDshUy5pc1plcm8oKSYmUy5hbmRsbigxKT09PTA7KUIrKyxTLml1c2hybigxKTthKCFTLmlzWmVybygpKTt2YXIgQT1uZXcgbygxKS50b1JlZCh0aGlzKSx5PUEucmVkTmVnKCkseD10aGlzLm0uc3VibigxKS5pdXNocm4oMSkscD10aGlzLm0uYml0TGVuZ3RoKCk7Zm9yKHA9bmV3IG8oMipwKnApLnRvUmVkKHRoaXMpO3RoaXMucG93KHAseCkuY21wKHkpIT09MDspcC5yZWRJQWRkKHkpO2Zvcih2YXIgST10aGlzLnBvdyhwLFMpLGVlPXRoaXMucG93KGwsUy5hZGRuKDEpLml1c2hybigxKSksZmU9dGhpcy5wb3cobCxTKSxKPUI7ZmUuY21wKEEpIT09MDspe2Zvcih2YXIgaz1mZSxEPTA7ay5jbXAoQSkhPT0wO0QrKylrPWsucmVkU3FyKCk7YShEPEopO3ZhciBqPXRoaXMucG93KEksbmV3IG8oMSkuaXVzaGxuKEotRC0xKSk7ZWU9ZWUucmVkTXVsKGopLEk9ai5yZWRTcXIoKSxmZT1mZS5yZWRNdWwoSSksSj1EfXJldHVybiBlZX0sWC5wcm90b3R5cGUuaW52bT1mdW5jdGlvbihsKXt2YXIgdj1sLl9pbnZtcCh0aGlzLm0pO3JldHVybiB2Lm5lZ2F0aXZlIT09MD8odi5uZWdhdGl2ZT0wLHRoaXMuaW1vZCh2KS5yZWROZWcoKSk6dGhpcy5pbW9kKHYpfSxYLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24obCx2KXtpZih2LmlzWmVybygpKXJldHVybiBuZXcgbygxKS50b1JlZCh0aGlzKTtpZih2LmNtcG4oMSk9PT0wKXJldHVybiBsLmNsb25lKCk7dmFyIEU9NCxTPW5ldyBBcnJheSgxPDxFKTtTWzBdPW5ldyBvKDEpLnRvUmVkKHRoaXMpLFNbMV09bDtmb3IodmFyIEI9MjtCPFMubGVuZ3RoO0IrKylTW0JdPXRoaXMubXVsKFNbQi0xXSxsKTt2YXIgQT1TWzBdLHk9MCx4PTAscD12LmJpdExlbmd0aCgpJTI2O2ZvcihwPT09MCYmKHA9MjYpLEI9di5sZW5ndGgtMTtCPj0wO0ItLSl7Zm9yKHZhciBJPXYud29yZHNbQl0sZWU9cC0xO2VlPj0wO2VlLS0pe3ZhciBmZT1JPj5lZSYxO2lmKEEhPT1TWzBdJiYoQT10aGlzLnNxcihBKSksZmU9PT0wJiZ5PT09MCl7eD0wO2NvbnRpbnVlfXk8PD0xLHl8PWZlLHgrKywhKHghPT1FJiYoQiE9PTB8fGVlIT09MCkpJiYoQT10aGlzLm11bChBLFNbeV0pLHg9MCx5PTApfXA9MjZ9cmV0dXJuIEF9LFgucHJvdG90eXBlLmNvbnZlcnRUbz1mdW5jdGlvbihsKXt2YXIgdj1sLnVtb2QodGhpcy5tKTtyZXR1cm4gdj09PWw/di5jbG9uZSgpOnZ9LFgucHJvdG90eXBlLmNvbnZlcnRGcm9tPWZ1bmN0aW9uKGwpe3ZhciB2PWwuY2xvbmUoKTtyZXR1cm4gdi5yZWQ9bnVsbCx2fSxvLm1vbnQ9ZnVuY3Rpb24obCl7cmV0dXJuIG5ldyAkKGwpfTtmdW5jdGlvbiAkKG0pe1guY2FsbCh0aGlzLG0pLHRoaXMuc2hpZnQ9dGhpcy5tLmJpdExlbmd0aCgpLHRoaXMuc2hpZnQlMjYhPT0wJiYodGhpcy5zaGlmdCs9MjYtdGhpcy5zaGlmdCUyNiksdGhpcy5yPW5ldyBvKDEpLml1c2hsbih0aGlzLnNoaWZ0KSx0aGlzLnIyPXRoaXMuaW1vZCh0aGlzLnIuc3FyKCkpLHRoaXMucmludj10aGlzLnIuX2ludm1wKHRoaXMubSksdGhpcy5taW52PXRoaXMucmludi5tdWwodGhpcy5yKS5pc3VibigxKS5kaXYodGhpcy5tKSx0aGlzLm1pbnY9dGhpcy5taW52LnVtb2QodGhpcy5yKSx0aGlzLm1pbnY9dGhpcy5yLnN1Yih0aGlzLm1pbnYpfXUoJCxYKSwkLnByb3RvdHlwZS5jb252ZXJ0VG89ZnVuY3Rpb24obCl7cmV0dXJuIHRoaXMuaW1vZChsLnVzaGxuKHRoaXMuc2hpZnQpKX0sJC5wcm90b3R5cGUuY29udmVydEZyb209ZnVuY3Rpb24obCl7dmFyIHY9dGhpcy5pbW9kKGwubXVsKHRoaXMucmludikpO3JldHVybiB2LnJlZD1udWxsLHZ9LCQucHJvdG90eXBlLmltdWw9ZnVuY3Rpb24obCx2KXtpZihsLmlzWmVybygpfHx2LmlzWmVybygpKXJldHVybiBsLndvcmRzWzBdPTAsbC5sZW5ndGg9MSxsO3ZhciBFPWwuaW11bCh2KSxTPUUubWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubWludikuaW1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm0pLEI9RS5pc3ViKFMpLml1c2hybih0aGlzLnNoaWZ0KSxBPUI7cmV0dXJuIEIuY21wKHRoaXMubSk+PTA/QT1CLmlzdWIodGhpcy5tKTpCLmNtcG4oMCk8MCYmKEE9Qi5pYWRkKHRoaXMubSkpLEEuX2ZvcmNlUmVkKHRoaXMpfSwkLnByb3RvdHlwZS5tdWw9ZnVuY3Rpb24obCx2KXtpZihsLmlzWmVybygpfHx2LmlzWmVybygpKXJldHVybiBuZXcgbygwKS5fZm9yY2VSZWQodGhpcyk7dmFyIEU9bC5tdWwodiksUz1FLm1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm1pbnYpLmltYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5tKSxCPUUuaXN1YihTKS5pdXNocm4odGhpcy5zaGlmdCksQT1CO3JldHVybiBCLmNtcCh0aGlzLm0pPj0wP0E9Qi5pc3ViKHRoaXMubSk6Qi5jbXBuKDApPDAmJihBPUIuaWFkZCh0aGlzLm0pKSxBLl9mb3JjZVJlZCh0aGlzKX0sJC5wcm90b3R5cGUuaW52bT1mdW5jdGlvbihsKXt2YXIgdj10aGlzLmltb2QobC5faW52bXAodGhpcy5tKS5tdWwodGhpcy5yMikpO3JldHVybiB2Ll9mb3JjZVJlZCh0aGlzKX19KShlLGNvbW1vbmpzR2xvYmFsKX0oYm4pO3ZhciBibkV4cG9ydHM9Ym4uZXhwb3J0cyxhc24xJDM9e30sYXNuMSQyPXt9LGFwaT17fSx2bUJyb3dzZXJpZnk9e30saGFzUmVxdWlyZWRWbUJyb3dzZXJpZnk7ZnVuY3Rpb24gcmVxdWlyZVZtQnJvd3NlcmlmeSgpe3JldHVybiBoYXNSZXF1aXJlZFZtQnJvd3NlcmlmeXx8KGhhc1JlcXVpcmVkVm1Ccm93c2VyaWZ5PTEsZnVuY3Rpb24oZXhwb3J0cyl7dmFyIGluZGV4T2Y9ZnVuY3Rpb24oZSx0KXtpZihlLmluZGV4T2YpcmV0dXJuIGUuaW5kZXhPZih0KTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sT2JqZWN0X2tleXM9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0LmtleXMpcmV0dXJuIE9iamVjdC5rZXlzKGUpO3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKTtyZXR1cm4gdH0sZm9yRWFjaD1mdW5jdGlvbihlLHQpe2lmKGUuZm9yRWFjaClyZXR1cm4gZS5mb3JFYWNoKHQpO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQoZVtuXSxuLGUpfSxkZWZpbmVQcm9wPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIl8iLHt9KSxmdW5jdGlvbihlLHQsbil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7d3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsdmFsdWU6bn0pfX1jYXRjaHtyZXR1cm4gZnVuY3Rpb24odCxuLGEpe3Rbbl09YX19fSgpLGdsb2JhbHM9WyJBcnJheSIsIkJvb2xlYW4iLCJEYXRlIiwiRXJyb3IiLCJFdmFsRXJyb3IiLCJGdW5jdGlvbiIsIkluZmluaXR5IiwiSlNPTiIsIk1hdGgiLCJOYU4iLCJOdW1iZXIiLCJPYmplY3QiLCJSYW5nZUVycm9yIiwiUmVmZXJlbmNlRXJyb3IiLCJSZWdFeHAiLCJTdHJpbmciLCJTeW50YXhFcnJvciIsIlR5cGVFcnJvciIsIlVSSUVycm9yIiwiZGVjb2RlVVJJIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlVVJJIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwiZXZhbCIsImlzRmluaXRlIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwicGFyc2VJbnQiLCJ1bmRlZmluZWQiLCJ1bmVzY2FwZSJdO2Z1bmN0aW9uIENvbnRleHQoKXt9Q29udGV4dC5wcm90b3R5cGU9e307dmFyIFNjcmlwdD1leHBvcnRzLlNjcmlwdD1mdW5jdGlvbih0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTY3JpcHQpKXJldHVybiBuZXcgU2NyaXB0KHQpO3RoaXMuY29kZT10fTtTY3JpcHQucHJvdG90eXBlLnJ1bkluQ29udGV4dD1mdW5jdGlvbihlKXtpZighKGUgaW5zdGFuY2VvZiBDb250ZXh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJuZWVkcyBhICdjb250ZXh0JyBhcmd1bWVudC4iKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTt0LnN0eWxlfHwodC5zdHlsZT17fSksdC5zdHlsZS5kaXNwbGF5PSJub25lIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpO3ZhciBuPXQuY29udGVudFdpbmRvdyxhPW4uZXZhbCx1PW4uZXhlY1NjcmlwdDshYSYmdSYmKHUuY2FsbChuLCJudWxsIiksYT1uLmV2YWwpLGZvckVhY2goT2JqZWN0X2tleXMoZSksZnVuY3Rpb24oZCl7bltkXT1lW2RdfSksZm9yRWFjaChnbG9iYWxzLGZ1bmN0aW9uKGQpe2VbZF0mJihuW2RdPWVbZF0pfSk7dmFyIG89T2JqZWN0X2tleXMobiksaD1hLmNhbGwobix0aGlzLmNvZGUpO3JldHVybiBmb3JFYWNoKE9iamVjdF9rZXlzKG4pLGZ1bmN0aW9uKGQpeyhkIGluIGV8fGluZGV4T2YobyxkKT09PS0xKSYmKGVbZF09bltkXSl9KSxmb3JFYWNoKGdsb2JhbHMsZnVuY3Rpb24oZCl7ZCBpbiBlfHxkZWZpbmVQcm9wKGUsZCxuW2RdKX0pLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCksaH0sU2NyaXB0LnByb3RvdHlwZS5ydW5JblRoaXNDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGV2YWwodGhpcy5jb2RlKX0sU2NyaXB0LnByb3RvdHlwZS5ydW5Jbk5ld0NvbnRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9U2NyaXB0LmNyZWF0ZUNvbnRleHQoZSksbj10aGlzLnJ1bkluQ29udGV4dCh0KTtyZXR1cm4gZSYmZm9yRWFjaChPYmplY3Rfa2V5cyh0KSxmdW5jdGlvbihhKXtlW2FdPXRbYV19KSxufSxmb3JFYWNoKE9iamVjdF9rZXlzKFNjcmlwdC5wcm90b3R5cGUpLGZ1bmN0aW9uKGUpe2V4cG9ydHNbZV09U2NyaXB0W2VdPWZ1bmN0aW9uKHQpe3ZhciBuPVNjcmlwdCh0KTtyZXR1cm4gbltlXS5hcHBseShuLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX19KSxleHBvcnRzLmlzQ29udGV4dD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIENvbnRleHR9LGV4cG9ydHMuY3JlYXRlU2NyaXB0PWZ1bmN0aW9uKGUpe3JldHVybiBleHBvcnRzLlNjcmlwdChlKX0sZXhwb3J0cy5jcmVhdGVDb250ZXh0PVNjcmlwdC5jcmVhdGVDb250ZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBDb250ZXh0O3JldHVybiB0eXBlb2YgZT09Im9iamVjdCImJmZvckVhY2goT2JqZWN0X2tleXMoZSksZnVuY3Rpb24obil7dFtuXT1lW25dfSksdH19KHZtQnJvd3NlcmlmeSkpLHZtQnJvd3NlcmlmeX12YXIgaGFzUmVxdWlyZWRBcGk7ZnVuY3Rpb24gcmVxdWlyZUFwaSgpe3JldHVybiBoYXNSZXF1aXJlZEFwaXx8KGhhc1JlcXVpcmVkQXBpPTEsZnVuY3Rpb24oZSl7dmFyIHQ9cmVxdWlyZUFzbjEoKSxuPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLGE9ZTthLmRlZmluZT1mdW5jdGlvbihoLGQpe3JldHVybiBuZXcgdShoLGQpfTtmdW5jdGlvbiB1KG8saCl7dGhpcy5uYW1lPW8sdGhpcy5ib2R5PWgsdGhpcy5kZWNvZGVycz17fSx0aGlzLmVuY29kZXJzPXt9fXUucHJvdG90eXBlLl9jcmVhdGVOYW1lZD1mdW5jdGlvbihoKXt2YXIgZDt0cnl7ZD1yZXF1aXJlVm1Ccm93c2VyaWZ5KCkucnVuSW5UaGlzQ29udGV4dCgiKGZ1bmN0aW9uICIrdGhpcy5uYW1lK2AoZW50aXR5KSB7CiAgdGhpcy5faW5pdE5hbWVkKGVudGl0eSk7Cn0pYCl9Y2F0Y2h7ZD1mdW5jdGlvbihfKXt0aGlzLl9pbml0TmFtZWQoXyl9fXJldHVybiBuKGQsaCksZC5wcm90b3R5cGUuX2luaXROYW1lZD1mdW5jdGlvbihfKXtoLmNhbGwodGhpcyxfKX0sbmV3IGQodGhpcyl9LHUucHJvdG90eXBlLl9nZXREZWNvZGVyPWZ1bmN0aW9uKGgpe3JldHVybiBoPWh8fCJkZXIiLHRoaXMuZGVjb2RlcnMuaGFzT3duUHJvcGVydHkoaCl8fCh0aGlzLmRlY29kZXJzW2hdPXRoaXMuX2NyZWF0ZU5hbWVkKHQuZGVjb2RlcnNbaF0pKSx0aGlzLmRlY29kZXJzW2hdfSx1LnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oaCxkLHcpe3JldHVybiB0aGlzLl9nZXREZWNvZGVyKGQpLmRlY29kZShoLHcpfSx1LnByb3RvdHlwZS5fZ2V0RW5jb2Rlcj1mdW5jdGlvbihoKXtyZXR1cm4gaD1ofHwiZGVyIix0aGlzLmVuY29kZXJzLmhhc093blByb3BlcnR5KGgpfHwodGhpcy5lbmNvZGVyc1toXT10aGlzLl9jcmVhdGVOYW1lZCh0LmVuY29kZXJzW2hdKSksdGhpcy5lbmNvZGVyc1toXX0sdS5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKGgsZCx3KXtyZXR1cm4gdGhpcy5fZ2V0RW5jb2RlcihkKS5lbmNvZGUoaCx3KX19KGFwaSkpLGFwaX12YXIgYmFzZT17fSxyZXBvcnRlcj17fSxpbmhlcml0cyQxPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzO2Z1bmN0aW9uIFJlcG9ydGVyKGUpe3RoaXMuX3JlcG9ydGVyU3RhdGU9e29iajpudWxsLHBhdGg6W10sb3B0aW9uczplfHx7fSxlcnJvcnM6W119fXJlcG9ydGVyLlJlcG9ydGVyPVJlcG9ydGVyLFJlcG9ydGVyLnByb3RvdHlwZS5pc0Vycm9yPWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBSZXBvcnRlckVycm9yfSxSZXBvcnRlci5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbiBlKCl7dmFyIHQ9dGhpcy5fcmVwb3J0ZXJTdGF0ZTtyZXR1cm57b2JqOnQub2JqLHBhdGhMZW46dC5wYXRoLmxlbmd0aH19LFJlcG9ydGVyLnByb3RvdHlwZS5yZXN0b3JlPWZ1bmN0aW9uIGUodCl7dmFyIG49dGhpcy5fcmVwb3J0ZXJTdGF0ZTtuLm9iaj10Lm9iaixuLnBhdGg9bi5wYXRoLnNsaWNlKDAsdC5wYXRoTGVuKX0sUmVwb3J0ZXIucHJvdG90eXBlLmVudGVyS2V5PWZ1bmN0aW9uIGUodCl7cmV0dXJuIHRoaXMuX3JlcG9ydGVyU3RhdGUucGF0aC5wdXNoKHQpfSxSZXBvcnRlci5wcm90b3R5cGUuZXhpdEtleT1mdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXMuX3JlcG9ydGVyU3RhdGU7bi5wYXRoPW4ucGF0aC5zbGljZSgwLHQtMSl9LFJlcG9ydGVyLnByb3RvdHlwZS5sZWF2ZUtleT1mdW5jdGlvbiBlKHQsbixhKXt2YXIgdT10aGlzLl9yZXBvcnRlclN0YXRlO3RoaXMuZXhpdEtleSh0KSx1Lm9iaiE9PW51bGwmJih1Lm9ialtuXT1hKX0sUmVwb3J0ZXIucHJvdG90eXBlLnBhdGg9ZnVuY3Rpb24gZSgpe3JldHVybiB0aGlzLl9yZXBvcnRlclN0YXRlLnBhdGguam9pbigiLyIpfSxSZXBvcnRlci5wcm90b3R5cGUuZW50ZXJPYmplY3Q9ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXMuX3JlcG9ydGVyU3RhdGUsbj10Lm9iajtyZXR1cm4gdC5vYmo9e30sbn0sUmVwb3J0ZXIucHJvdG90eXBlLmxlYXZlT2JqZWN0PWZ1bmN0aW9uIGUodCl7dmFyIG49dGhpcy5fcmVwb3J0ZXJTdGF0ZSxhPW4ub2JqO3JldHVybiBuLm9iaj10LGF9LFJlcG9ydGVyLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbiBlKHQpe3ZhciBuLGE9dGhpcy5fcmVwb3J0ZXJTdGF0ZSx1PXQgaW5zdGFuY2VvZiBSZXBvcnRlckVycm9yO2lmKHU/bj10Om49bmV3IFJlcG9ydGVyRXJyb3IoYS5wYXRoLm1hcChmdW5jdGlvbihvKXtyZXR1cm4iWyIrSlNPTi5zdHJpbmdpZnkobykrIl0ifSkuam9pbigiIiksdC5tZXNzYWdlfHx0LHQuc3RhY2spLCFhLm9wdGlvbnMucGFydGlhbCl0aHJvdyBuO3JldHVybiB1fHxhLmVycm9ycy5wdXNoKG4pLG59LFJlcG9ydGVyLnByb3RvdHlwZS53cmFwUmVzdWx0PWZ1bmN0aW9uIGUodCl7dmFyIG49dGhpcy5fcmVwb3J0ZXJTdGF0ZTtyZXR1cm4gbi5vcHRpb25zLnBhcnRpYWw/e3Jlc3VsdDp0aGlzLmlzRXJyb3IodCk/bnVsbDp0LGVycm9yczpuLmVycm9yc306dH07ZnVuY3Rpb24gUmVwb3J0ZXJFcnJvcihlLHQpe3RoaXMucGF0aD1lLHRoaXMucmV0aHJvdyh0KX1pbmhlcml0cyQxKFJlcG9ydGVyRXJyb3IsRXJyb3IpLFJlcG9ydGVyRXJyb3IucHJvdG90eXBlLnJldGhyb3c9ZnVuY3Rpb24gZSh0KXtpZih0aGlzLm1lc3NhZ2U9dCsiIGF0OiAiKyh0aGlzLnBhdGh8fCIoc2hhbGxvdykiKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxSZXBvcnRlckVycm9yKSwhdGhpcy5zdGFjayl0cnl7dGhyb3cgbmV3IEVycm9yKHRoaXMubWVzc2FnZSl9Y2F0Y2gobil7dGhpcy5zdGFjaz1uLnN0YWNrfXJldHVybiB0aGlzfTt2YXIgYnVmZmVyPXt9LGhhc1JlcXVpcmVkQnVmZmVyO2Z1bmN0aW9uIHJlcXVpcmVCdWZmZXIoKXtpZihoYXNSZXF1aXJlZEJ1ZmZlcilyZXR1cm4gYnVmZmVyO2hhc1JlcXVpcmVkQnVmZmVyPTE7dmFyIGU9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHMsdD1yZXF1aXJlQmFzZSgpLlJlcG9ydGVyLG49YnVmZmVyJDIuQnVmZmVyO2Z1bmN0aW9uIGEobyxoKXtpZih0LmNhbGwodGhpcyxoKSwhbi5pc0J1ZmZlcihvKSl7dGhpcy5lcnJvcigiSW5wdXQgbm90IEJ1ZmZlciIpO3JldHVybn10aGlzLmJhc2U9byx0aGlzLm9mZnNldD0wLHRoaXMubGVuZ3RoPW8ubGVuZ3RofWUoYSx0KSxidWZmZXIuRGVjb2RlckJ1ZmZlcj1hLGEucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oKXtyZXR1cm57b2Zmc2V0OnRoaXMub2Zmc2V0LHJlcG9ydGVyOnQucHJvdG90eXBlLnNhdmUuY2FsbCh0aGlzKX19LGEucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oaCl7dmFyIGQ9bmV3IGEodGhpcy5iYXNlKTtyZXR1cm4gZC5vZmZzZXQ9aC5vZmZzZXQsZC5sZW5ndGg9dGhpcy5vZmZzZXQsdGhpcy5vZmZzZXQ9aC5vZmZzZXQsdC5wcm90b3R5cGUucmVzdG9yZS5jYWxsKHRoaXMsaC5yZXBvcnRlciksZH0sYS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9mZnNldD09PXRoaXMubGVuZ3RofSxhLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oaCl7cmV0dXJuIHRoaXMub2Zmc2V0KzE8PXRoaXMubGVuZ3RoP3RoaXMuYmFzZS5yZWFkVUludDgodGhpcy5vZmZzZXQrKywhMCk6dGhpcy5lcnJvcihofHwiRGVjb2RlckJ1ZmZlciBvdmVycnVuIil9LGEucHJvdG90eXBlLnNraXA9ZnVuY3Rpb24oaCxkKXtpZighKHRoaXMub2Zmc2V0K2g8PXRoaXMubGVuZ3RoKSlyZXR1cm4gdGhpcy5lcnJvcihkfHwiRGVjb2RlckJ1ZmZlciBvdmVycnVuIik7dmFyIHc9bmV3IGEodGhpcy5iYXNlKTtyZXR1cm4gdy5fcmVwb3J0ZXJTdGF0ZT10aGlzLl9yZXBvcnRlclN0YXRlLHcub2Zmc2V0PXRoaXMub2Zmc2V0LHcubGVuZ3RoPXRoaXMub2Zmc2V0K2gsdGhpcy5vZmZzZXQrPWgsd30sYS5wcm90b3R5cGUucmF3PWZ1bmN0aW9uKGgpe3JldHVybiB0aGlzLmJhc2Uuc2xpY2UoaD9oLm9mZnNldDp0aGlzLm9mZnNldCx0aGlzLmxlbmd0aCl9O2Z1bmN0aW9uIHUobyxoKXtpZihBcnJheS5pc0FycmF5KG8pKXRoaXMubGVuZ3RoPTAsdGhpcy52YWx1ZT1vLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gZCBpbnN0YW5jZW9mIHV8fChkPW5ldyB1KGQsaCkpLHRoaXMubGVuZ3RoKz1kLmxlbmd0aCxkfSx0aGlzKTtlbHNlIGlmKHR5cGVvZiBvPT0ibnVtYmVyIil7aWYoISgwPD1vJiZvPD0yNTUpKXJldHVybiBoLmVycm9yKCJub24tYnl0ZSBFbmNvZGVyQnVmZmVyIHZhbHVlIik7dGhpcy52YWx1ZT1vLHRoaXMubGVuZ3RoPTF9ZWxzZSBpZih0eXBlb2Ygbz09InN0cmluZyIpdGhpcy52YWx1ZT1vLHRoaXMubGVuZ3RoPW4uYnl0ZUxlbmd0aChvKTtlbHNlIGlmKG4uaXNCdWZmZXIobykpdGhpcy52YWx1ZT1vLHRoaXMubGVuZ3RoPW8ubGVuZ3RoO2Vsc2UgcmV0dXJuIGguZXJyb3IoIlVuc3VwcG9ydGVkIHR5cGU6ICIrdHlwZW9mIG8pfXJldHVybiBidWZmZXIuRW5jb2RlckJ1ZmZlcj11LHUucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24oaCxkKXtyZXR1cm4gaHx8KGg9bmV3IG4odGhpcy5sZW5ndGgpKSxkfHwoZD0wKSx0aGlzLmxlbmd0aD09PTB8fChBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpP3RoaXMudmFsdWUuZm9yRWFjaChmdW5jdGlvbih3KXt3LmpvaW4oaCxkKSxkKz13Lmxlbmd0aH0pOih0eXBlb2YgdGhpcy52YWx1ZT09Im51bWJlciI/aFtkXT10aGlzLnZhbHVlOnR5cGVvZiB0aGlzLnZhbHVlPT0ic3RyaW5nIj9oLndyaXRlKHRoaXMudmFsdWUsZCk6bi5pc0J1ZmZlcih0aGlzLnZhbHVlKSYmdGhpcy52YWx1ZS5jb3B5KGgsZCksZCs9dGhpcy5sZW5ndGgpKSxofSxidWZmZXJ9dmFyIG5vZGUsaGFzUmVxdWlyZWROb2RlO2Z1bmN0aW9uIHJlcXVpcmVOb2RlKCl7aWYoaGFzUmVxdWlyZWROb2RlKXJldHVybiBub2RlO2hhc1JlcXVpcmVkTm9kZT0xO3ZhciBlPXJlcXVpcmVCYXNlKCkuUmVwb3J0ZXIsdD1yZXF1aXJlQmFzZSgpLkVuY29kZXJCdWZmZXIsbj1yZXF1aXJlQmFzZSgpLkRlY29kZXJCdWZmZXIsYT1taW5pbWFsaXN0aWNBc3NlcnQsdT1bInNlcSIsInNlcW9mIiwic2V0Iiwic2V0b2YiLCJvYmppZCIsImJvb2wiLCJnZW50aW1lIiwidXRjdGltZSIsIm51bGxfIiwiZW51bSIsImludCIsIm9iakRlc2MiLCJiaXRzdHIiLCJibXBzdHIiLCJjaGFyc3RyIiwiZ2Vuc3RyIiwiZ3JhcGhzdHIiLCJpYTVzdHIiLCJpc282NDZzdHIiLCJudW1zdHIiLCJvY3RzdHIiLCJwcmludHN0ciIsInQ2MXN0ciIsInVuaXN0ciIsInV0ZjhzdHIiLCJ2aWRlb3N0ciJdLG89WyJrZXkiLCJvYmoiLCJ1c2UiLCJvcHRpb25hbCIsImV4cGxpY2l0IiwiaW1wbGljaXQiLCJkZWYiLCJjaG9pY2UiLCJhbnkiLCJjb250YWlucyJdLmNvbmNhdCh1KSxoPVsiX3BlZWtUYWciLCJfZGVjb2RlVGFnIiwiX3VzZSIsIl9kZWNvZGVTdHIiLCJfZGVjb2RlT2JqaWQiLCJfZGVjb2RlVGltZSIsIl9kZWNvZGVOdWxsIiwiX2RlY29kZUludCIsIl9kZWNvZGVCb29sIiwiX2RlY29kZUxpc3QiLCJfZW5jb2RlQ29tcG9zaXRlIiwiX2VuY29kZVN0ciIsIl9lbmNvZGVPYmppZCIsIl9lbmNvZGVUaW1lIiwiX2VuY29kZU51bGwiLCJfZW5jb2RlSW50IiwiX2VuY29kZUJvb2wiXTtmdW5jdGlvbiBkKF8sYil7dmFyIE09e307dGhpcy5fYmFzZVN0YXRlPU0sTS5lbmM9XyxNLnBhcmVudD1ifHxudWxsLE0uY2hpbGRyZW49bnVsbCxNLnRhZz1udWxsLE0uYXJncz1udWxsLE0ucmV2ZXJzZUFyZ3M9bnVsbCxNLmNob2ljZT1udWxsLE0ub3B0aW9uYWw9ITEsTS5hbnk9ITEsTS5vYmo9ITEsTS51c2U9bnVsbCxNLnVzZURlY29kZXI9bnVsbCxNLmtleT1udWxsLE0uZGVmYXVsdD1udWxsLE0uZXhwbGljaXQ9bnVsbCxNLmltcGxpY2l0PW51bGwsTS5jb250YWlucz1udWxsLE0ucGFyZW50fHwoTS5jaGlsZHJlbj1bXSx0aGlzLl93cmFwKCkpfW5vZGU9ZDt2YXIgdz1bImVuYyIsInBhcmVudCIsImNoaWxkcmVuIiwidGFnIiwiYXJncyIsInJldmVyc2VBcmdzIiwiY2hvaWNlIiwib3B0aW9uYWwiLCJhbnkiLCJvYmoiLCJ1c2UiLCJhbHRlcmVkVXNlIiwia2V5IiwiZGVmYXVsdCIsImV4cGxpY2l0IiwiaW1wbGljaXQiLCJjb250YWlucyJdO3JldHVybiBkLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBiPXRoaXMuX2Jhc2VTdGF0ZSxNPXt9O3cuZm9yRWFjaChmdW5jdGlvbihUKXtNW1RdPWJbVF19KTt2YXIgTz1uZXcgdGhpcy5jb25zdHJ1Y3RvcihNLnBhcmVudCk7cmV0dXJuIE8uX2Jhc2VTdGF0ZT1NLE99LGQucHJvdG90eXBlLl93cmFwPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fYmFzZVN0YXRlO28uZm9yRWFjaChmdW5jdGlvbihNKXt0aGlzW01dPWZ1bmN0aW9uKCl7dmFyIFQ9bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyk7cmV0dXJuIGIuY2hpbGRyZW4ucHVzaChUKSxUW01dLmFwcGx5KFQsYXJndW1lbnRzKX19LHRoaXMpfSxkLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbihiKXt2YXIgTT10aGlzLl9iYXNlU3RhdGU7YShNLnBhcmVudD09PW51bGwpLGIuY2FsbCh0aGlzKSxNLmNoaWxkcmVuPU0uY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uKE8pe3JldHVybiBPLl9iYXNlU3RhdGUucGFyZW50PT09dGhpc30sdGhpcyksYS5lcXVhbChNLmNoaWxkcmVuLmxlbmd0aCwxLCJSb290IG5vZGUgY2FuIGhhdmUgb25seSBvbmUgY2hpbGQiKX0sZC5wcm90b3R5cGUuX3VzZUFyZ3M9ZnVuY3Rpb24oYil7dmFyIE09dGhpcy5fYmFzZVN0YXRlLE89Yi5maWx0ZXIoZnVuY3Rpb24oVCl7cmV0dXJuIFQgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yfSx0aGlzKTtiPWIuZmlsdGVyKGZ1bmN0aW9uKFQpe3JldHVybiEoVCBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpfSx0aGlzKSxPLmxlbmd0aCE9PTAmJihhKE0uY2hpbGRyZW49PT1udWxsKSxNLmNoaWxkcmVuPU8sTy5mb3JFYWNoKGZ1bmN0aW9uKFQpe1QuX2Jhc2VTdGF0ZS5wYXJlbnQ9dGhpc30sdGhpcykpLGIubGVuZ3RoIT09MCYmKGEoTS5hcmdzPT09bnVsbCksTS5hcmdzPWIsTS5yZXZlcnNlQXJncz1iLm1hcChmdW5jdGlvbihUKXtpZih0eXBlb2YgVCE9Im9iamVjdCJ8fFQuY29uc3RydWN0b3IhPT1PYmplY3QpcmV0dXJuIFQ7dmFyIFA9e307cmV0dXJuIE9iamVjdC5rZXlzKFQpLmZvckVhY2goZnVuY3Rpb24oTCl7TD09KEx8MCkmJihMfD0wKTt2YXIgej1UW0xdO1Bbel09TH0pLFB9KSl9LGguZm9yRWFjaChmdW5jdGlvbihfKXtkLnByb3RvdHlwZVtfXT1mdW5jdGlvbigpe3ZhciBNPXRoaXMuX2Jhc2VTdGF0ZTt0aHJvdyBuZXcgRXJyb3IoXysiIG5vdCBpbXBsZW1lbnRlZCBmb3IgZW5jb2Rpbmc6ICIrTS5lbmMpfX0pLHUuZm9yRWFjaChmdW5jdGlvbihfKXtkLnByb3RvdHlwZVtfXT1mdW5jdGlvbigpe3ZhciBNPXRoaXMuX2Jhc2VTdGF0ZSxPPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGEoTS50YWc9PT1udWxsKSxNLnRhZz1fLHRoaXMuX3VzZUFyZ3MoTyksdGhpc319KSxkLnByb3RvdHlwZS51c2U9ZnVuY3Rpb24oYil7YShiKTt2YXIgTT10aGlzLl9iYXNlU3RhdGU7cmV0dXJuIGEoTS51c2U9PT1udWxsKSxNLnVzZT1iLHRoaXN9LGQucHJvdG90eXBlLm9wdGlvbmFsPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5fYmFzZVN0YXRlO3JldHVybiBiLm9wdGlvbmFsPSEwLHRoaXN9LGQucHJvdG90eXBlLmRlZj1mdW5jdGlvbihiKXt2YXIgTT10aGlzLl9iYXNlU3RhdGU7cmV0dXJuIGEoTS5kZWZhdWx0PT09bnVsbCksTS5kZWZhdWx0PWIsTS5vcHRpb25hbD0hMCx0aGlzfSxkLnByb3RvdHlwZS5leHBsaWNpdD1mdW5jdGlvbihiKXt2YXIgTT10aGlzLl9iYXNlU3RhdGU7cmV0dXJuIGEoTS5leHBsaWNpdD09PW51bGwmJk0uaW1wbGljaXQ9PT1udWxsKSxNLmV4cGxpY2l0PWIsdGhpc30sZC5wcm90b3R5cGUuaW1wbGljaXQ9ZnVuY3Rpb24oYil7dmFyIE09dGhpcy5fYmFzZVN0YXRlO3JldHVybiBhKE0uZXhwbGljaXQ9PT1udWxsJiZNLmltcGxpY2l0PT09bnVsbCksTS5pbXBsaWNpdD1iLHRoaXN9LGQucHJvdG90eXBlLm9iaj1mdW5jdGlvbigpe3ZhciBiPXRoaXMuX2Jhc2VTdGF0ZSxNPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGIub2JqPSEwLE0ubGVuZ3RoIT09MCYmdGhpcy5fdXNlQXJncyhNKSx0aGlzfSxkLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oYil7dmFyIE09dGhpcy5fYmFzZVN0YXRlO3JldHVybiBhKE0ua2V5PT09bnVsbCksTS5rZXk9Yix0aGlzfSxkLnByb3RvdHlwZS5hbnk9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9iYXNlU3RhdGU7cmV0dXJuIGIuYW55PSEwLHRoaXN9LGQucHJvdG90eXBlLmNob2ljZT1mdW5jdGlvbihiKXt2YXIgTT10aGlzLl9iYXNlU3RhdGU7cmV0dXJuIGEoTS5jaG9pY2U9PT1udWxsKSxNLmNob2ljZT1iLHRoaXMuX3VzZUFyZ3MoT2JqZWN0LmtleXMoYikubWFwKGZ1bmN0aW9uKE8pe3JldHVybiBiW09dfSkpLHRoaXN9LGQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGIpe3ZhciBNPXRoaXMuX2Jhc2VTdGF0ZTtyZXR1cm4gYShNLnVzZT09PW51bGwpLE0uY29udGFpbnM9Yix0aGlzfSxkLnByb3RvdHlwZS5fZGVjb2RlPWZ1bmN0aW9uKGIsTSl7dmFyIE89dGhpcy5fYmFzZVN0YXRlO2lmKE8ucGFyZW50PT09bnVsbClyZXR1cm4gYi53cmFwUmVzdWx0KE8uY2hpbGRyZW5bMF0uX2RlY29kZShiLE0pKTt2YXIgVD1PLmRlZmF1bHQsUD0hMCxMPW51bGw7aWYoTy5rZXkhPT1udWxsJiYoTD1iLmVudGVyS2V5KE8ua2V5KSksTy5vcHRpb25hbCl7dmFyIHo9bnVsbDtpZihPLmV4cGxpY2l0IT09bnVsbD96PU8uZXhwbGljaXQ6Ty5pbXBsaWNpdCE9PW51bGw/ej1PLmltcGxpY2l0Ok8udGFnIT09bnVsbCYmKHo9Ty50YWcpLHo9PT1udWxsJiYhTy5hbnkpe3ZhciBIPWIuc2F2ZSgpO3RyeXtPLmNob2ljZT09PW51bGw/dGhpcy5fZGVjb2RlR2VuZXJpYyhPLnRhZyxiLE0pOnRoaXMuX2RlY29kZUNob2ljZShiLE0pLFA9ITB9Y2F0Y2h7UD0hMX1iLnJlc3RvcmUoSCl9ZWxzZSBpZihQPXRoaXMuX3BlZWtUYWcoYix6LE8uYW55KSxiLmlzRXJyb3IoUCkpcmV0dXJuIFB9dmFyIFY7aWYoTy5vYmomJlAmJihWPWIuZW50ZXJPYmplY3QoKSksUCl7aWYoTy5leHBsaWNpdCE9PW51bGwpe3ZhciBhZT10aGlzLl9kZWNvZGVUYWcoYixPLmV4cGxpY2l0KTtpZihiLmlzRXJyb3IoYWUpKXJldHVybiBhZTtiPWFlfXZhciBpZT1iLm9mZnNldDtpZihPLnVzZT09PW51bGwmJk8uY2hvaWNlPT09bnVsbCl7aWYoTy5hbnkpdmFyIEg9Yi5zYXZlKCk7dmFyIFE9dGhpcy5fZGVjb2RlVGFnKGIsTy5pbXBsaWNpdCE9PW51bGw/Ty5pbXBsaWNpdDpPLnRhZyxPLmFueSk7aWYoYi5pc0Vycm9yKFEpKXJldHVybiBRO08uYW55P1Q9Yi5yYXcoSCk6Yj1RfWlmKE0mJk0udHJhY2smJk8udGFnIT09bnVsbCYmTS50cmFjayhiLnBhdGgoKSxpZSxiLmxlbmd0aCwidGFnZ2VkIiksTSYmTS50cmFjayYmTy50YWchPT1udWxsJiZNLnRyYWNrKGIucGF0aCgpLGIub2Zmc2V0LGIubGVuZ3RoLCJjb250ZW50IiksTy5hbnk/VD1UOk8uY2hvaWNlPT09bnVsbD9UPXRoaXMuX2RlY29kZUdlbmVyaWMoTy50YWcsYixNKTpUPXRoaXMuX2RlY29kZUNob2ljZShiLE0pLGIuaXNFcnJvcihUKSlyZXR1cm4gVDtpZighTy5hbnkmJk8uY2hvaWNlPT09bnVsbCYmTy5jaGlsZHJlbiE9PW51bGwmJk8uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihsZSl7bGUuX2RlY29kZShiLE0pfSksTy5jb250YWlucyYmKE8udGFnPT09Im9jdHN0ciJ8fE8udGFnPT09ImJpdHN0ciIpKXt2YXIgcmU9bmV3IG4oVCk7VD10aGlzLl9nZXRVc2UoTy5jb250YWlucyxiLl9yZXBvcnRlclN0YXRlLm9iaikuX2RlY29kZShyZSxNKX19cmV0dXJuIE8ub2JqJiZQJiYoVD1iLmxlYXZlT2JqZWN0KFYpKSxPLmtleSE9PW51bGwmJihUIT09bnVsbHx8UD09PSEwKT9iLmxlYXZlS2V5KEwsTy5rZXksVCk6TCE9PW51bGwmJmIuZXhpdEtleShMKSxUfSxkLnByb3RvdHlwZS5fZGVjb2RlR2VuZXJpYz1mdW5jdGlvbihiLE0sTyl7dmFyIFQ9dGhpcy5fYmFzZVN0YXRlO3JldHVybiBiPT09InNlcSJ8fGI9PT0ic2V0Ij9udWxsOmI9PT0ic2Vxb2YifHxiPT09InNldG9mIj90aGlzLl9kZWNvZGVMaXN0KE0sYixULmFyZ3NbMF0sTyk6L3N0ciQvLnRlc3QoYik/dGhpcy5fZGVjb2RlU3RyKE0sYixPKTpiPT09Im9iamlkIiYmVC5hcmdzP3RoaXMuX2RlY29kZU9iamlkKE0sVC5hcmdzWzBdLFQuYXJnc1sxXSxPKTpiPT09Im9iamlkIj90aGlzLl9kZWNvZGVPYmppZChNLG51bGwsbnVsbCxPKTpiPT09ImdlbnRpbWUifHxiPT09InV0Y3RpbWUiP3RoaXMuX2RlY29kZVRpbWUoTSxiLE8pOmI9PT0ibnVsbF8iP3RoaXMuX2RlY29kZU51bGwoTSxPKTpiPT09ImJvb2wiP3RoaXMuX2RlY29kZUJvb2woTSxPKTpiPT09Im9iakRlc2MiP3RoaXMuX2RlY29kZVN0cihNLGIsTyk6Yj09PSJpbnQifHxiPT09ImVudW0iP3RoaXMuX2RlY29kZUludChNLFQuYXJncyYmVC5hcmdzWzBdLE8pOlQudXNlIT09bnVsbD90aGlzLl9nZXRVc2UoVC51c2UsTS5fcmVwb3J0ZXJTdGF0ZS5vYmopLl9kZWNvZGUoTSxPKTpNLmVycm9yKCJ1bmtub3duIHRhZzogIitiKX0sZC5wcm90b3R5cGUuX2dldFVzZT1mdW5jdGlvbihiLE0pe3ZhciBPPXRoaXMuX2Jhc2VTdGF0ZTtyZXR1cm4gTy51c2VEZWNvZGVyPXRoaXMuX3VzZShiLE0pLGEoTy51c2VEZWNvZGVyLl9iYXNlU3RhdGUucGFyZW50PT09bnVsbCksTy51c2VEZWNvZGVyPU8udXNlRGVjb2Rlci5fYmFzZVN0YXRlLmNoaWxkcmVuWzBdLE8uaW1wbGljaXQhPT1PLnVzZURlY29kZXIuX2Jhc2VTdGF0ZS5pbXBsaWNpdCYmKE8udXNlRGVjb2Rlcj1PLnVzZURlY29kZXIuY2xvbmUoKSxPLnVzZURlY29kZXIuX2Jhc2VTdGF0ZS5pbXBsaWNpdD1PLmltcGxpY2l0KSxPLnVzZURlY29kZXJ9LGQucHJvdG90eXBlLl9kZWNvZGVDaG9pY2U9ZnVuY3Rpb24oYixNKXt2YXIgTz10aGlzLl9iYXNlU3RhdGUsVD1udWxsLFA9ITE7cmV0dXJuIE9iamVjdC5rZXlzKE8uY2hvaWNlKS5zb21lKGZ1bmN0aW9uKEwpe3ZhciB6PWIuc2F2ZSgpLEg9Ty5jaG9pY2VbTF07dHJ5e3ZhciBWPUguX2RlY29kZShiLE0pO2lmKGIuaXNFcnJvcihWKSlyZXR1cm4hMTtUPXt0eXBlOkwsdmFsdWU6Vn0sUD0hMH1jYXRjaHtyZXR1cm4gYi5yZXN0b3JlKHopLCExfXJldHVybiEwfSx0aGlzKSxQP1Q6Yi5lcnJvcigiQ2hvaWNlIG5vdCBtYXRjaGVkIil9LGQucHJvdG90eXBlLl9jcmVhdGVFbmNvZGVyQnVmZmVyPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgdChiLHRoaXMucmVwb3J0ZXIpfSxkLnByb3RvdHlwZS5fZW5jb2RlPWZ1bmN0aW9uKGIsTSxPKXt2YXIgVD10aGlzLl9iYXNlU3RhdGU7aWYoIShULmRlZmF1bHQhPT1udWxsJiZULmRlZmF1bHQ9PT1iKSl7dmFyIFA9dGhpcy5fZW5jb2RlVmFsdWUoYixNLE8pO2lmKFAhPT12b2lkIDAmJiF0aGlzLl9za2lwRGVmYXVsdChQLE0sTykpcmV0dXJuIFB9fSxkLnByb3RvdHlwZS5fZW5jb2RlVmFsdWU9ZnVuY3Rpb24oYixNLE8pe3ZhciBUPXRoaXMuX2Jhc2VTdGF0ZTtpZihULnBhcmVudD09PW51bGwpcmV0dXJuIFQuY2hpbGRyZW5bMF0uX2VuY29kZShiLE18fG5ldyBlKTt2YXIgSD1udWxsO2lmKHRoaXMucmVwb3J0ZXI9TSxULm9wdGlvbmFsJiZiPT09dm9pZCAwKWlmKFQuZGVmYXVsdCE9PW51bGwpYj1ULmRlZmF1bHQ7ZWxzZSByZXR1cm47dmFyIFA9bnVsbCxMPSExO2lmKFQuYW55KUg9dGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihiKTtlbHNlIGlmKFQuY2hvaWNlKUg9dGhpcy5fZW5jb2RlQ2hvaWNlKGIsTSk7ZWxzZSBpZihULmNvbnRhaW5zKVA9dGhpcy5fZ2V0VXNlKFQuY29udGFpbnMsTykuX2VuY29kZShiLE0pLEw9ITA7ZWxzZSBpZihULmNoaWxkcmVuKVA9VC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oaWUpe2lmKGllLl9iYXNlU3RhdGUudGFnPT09Im51bGxfIilyZXR1cm4gaWUuX2VuY29kZShudWxsLE0sYik7aWYoaWUuX2Jhc2VTdGF0ZS5rZXk9PT1udWxsKXJldHVybiBNLmVycm9yKCJDaGlsZCBzaG91bGQgaGF2ZSBhIGtleSIpO3ZhciBRPU0uZW50ZXJLZXkoaWUuX2Jhc2VTdGF0ZS5rZXkpO2lmKHR5cGVvZiBiIT0ib2JqZWN0IilyZXR1cm4gTS5lcnJvcigiQ2hpbGQgZXhwZWN0ZWQsIGJ1dCBpbnB1dCBpcyBub3Qgb2JqZWN0Iik7dmFyIHJlPWllLl9lbmNvZGUoYltpZS5fYmFzZVN0YXRlLmtleV0sTSxiKTtyZXR1cm4gTS5sZWF2ZUtleShRKSxyZX0sdGhpcykuZmlsdGVyKGZ1bmN0aW9uKGllKXtyZXR1cm4gaWV9KSxQPXRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoUCk7ZWxzZSBpZihULnRhZz09PSJzZXFvZiJ8fFQudGFnPT09InNldG9mIil7aWYoIShULmFyZ3MmJlQuYXJncy5sZW5ndGg9PT0xKSlyZXR1cm4gTS5lcnJvcigiVG9vIG1hbnkgYXJncyBmb3IgOiAiK1QudGFnKTtpZighQXJyYXkuaXNBcnJheShiKSlyZXR1cm4gTS5lcnJvcigic2Vxb2Yvc2V0b2YsIGJ1dCBkYXRhIGlzIG5vdCBBcnJheSIpO3ZhciB6PXRoaXMuY2xvbmUoKTt6Ll9iYXNlU3RhdGUuaW1wbGljaXQ9bnVsbCxQPXRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoYi5tYXAoZnVuY3Rpb24oaWUpe3ZhciBRPXRoaXMuX2Jhc2VTdGF0ZTtyZXR1cm4gdGhpcy5fZ2V0VXNlKFEuYXJnc1swXSxiKS5fZW5jb2RlKGllLE0pfSx6KSl9ZWxzZSBULnVzZSE9PW51bGw/SD10aGlzLl9nZXRVc2UoVC51c2UsTykuX2VuY29kZShiLE0pOihQPXRoaXMuX2VuY29kZVByaW1pdGl2ZShULnRhZyxiKSxMPSEwKTt2YXIgSDtpZighVC5hbnkmJlQuY2hvaWNlPT09bnVsbCl7dmFyIFY9VC5pbXBsaWNpdCE9PW51bGw/VC5pbXBsaWNpdDpULnRhZyxhZT1ULmltcGxpY2l0PT09bnVsbD8idW5pdmVyc2FsIjoiY29udGV4dCI7Vj09PW51bGw/VC51c2U9PT1udWxsJiZNLmVycm9yKCJUYWcgY291bGQgYmUgb21pdHRlZCBvbmx5IGZvciAudXNlKCkiKTpULnVzZT09PW51bGwmJihIPXRoaXMuX2VuY29kZUNvbXBvc2l0ZShWLEwsYWUsUCkpfXJldHVybiBULmV4cGxpY2l0IT09bnVsbCYmKEg9dGhpcy5fZW5jb2RlQ29tcG9zaXRlKFQuZXhwbGljaXQsITEsImNvbnRleHQiLEgpKSxIfSxkLnByb3RvdHlwZS5fZW5jb2RlQ2hvaWNlPWZ1bmN0aW9uKGIsTSl7dmFyIE89dGhpcy5fYmFzZVN0YXRlLFQ9Ty5jaG9pY2VbYi50eXBlXTtyZXR1cm4gVHx8YSghMSxiLnR5cGUrIiBub3QgZm91bmQgaW4gIitKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhPLmNob2ljZSkpKSxULl9lbmNvZGUoYi52YWx1ZSxNKX0sZC5wcm90b3R5cGUuX2VuY29kZVByaW1pdGl2ZT1mdW5jdGlvbihiLE0pe3ZhciBPPXRoaXMuX2Jhc2VTdGF0ZTtpZigvc3RyJC8udGVzdChiKSlyZXR1cm4gdGhpcy5fZW5jb2RlU3RyKE0sYik7aWYoYj09PSJvYmppZCImJk8uYXJncylyZXR1cm4gdGhpcy5fZW5jb2RlT2JqaWQoTSxPLnJldmVyc2VBcmdzWzBdLE8uYXJnc1sxXSk7aWYoYj09PSJvYmppZCIpcmV0dXJuIHRoaXMuX2VuY29kZU9iamlkKE0sbnVsbCxudWxsKTtpZihiPT09ImdlbnRpbWUifHxiPT09InV0Y3RpbWUiKXJldHVybiB0aGlzLl9lbmNvZGVUaW1lKE0sYik7aWYoYj09PSJudWxsXyIpcmV0dXJuIHRoaXMuX2VuY29kZU51bGwoKTtpZihiPT09ImludCJ8fGI9PT0iZW51bSIpcmV0dXJuIHRoaXMuX2VuY29kZUludChNLE8uYXJncyYmTy5yZXZlcnNlQXJnc1swXSk7aWYoYj09PSJib29sIilyZXR1cm4gdGhpcy5fZW5jb2RlQm9vbChNKTtpZihiPT09Im9iakRlc2MiKXJldHVybiB0aGlzLl9lbmNvZGVTdHIoTSxiKTt0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIHRhZzogIitiKX0sZC5wcm90b3R5cGUuX2lzTnVtc3RyPWZ1bmN0aW9uKGIpe3JldHVybi9eWzAtOSBdKiQvLnRlc3QoYil9LGQucHJvdG90eXBlLl9pc1ByaW50c3RyPWZ1bmN0aW9uKGIpe3JldHVybi9eW0EtWmEtejAtOSAnXChcKVwrLFwtXC5cLzo9XD9dKiQvLnRlc3QoYil9LG5vZGV9dmFyIGhhc1JlcXVpcmVkQmFzZTtmdW5jdGlvbiByZXF1aXJlQmFzZSgpe3JldHVybiBoYXNSZXF1aXJlZEJhc2V8fChoYXNSZXF1aXJlZEJhc2U9MSxmdW5jdGlvbihlKXt2YXIgdD1lO3QuUmVwb3J0ZXI9cmVwb3J0ZXIuUmVwb3J0ZXIsdC5EZWNvZGVyQnVmZmVyPXJlcXVpcmVCdWZmZXIoKS5EZWNvZGVyQnVmZmVyLHQuRW5jb2RlckJ1ZmZlcj1yZXF1aXJlQnVmZmVyKCkuRW5jb2RlckJ1ZmZlcix0Lk5vZGU9cmVxdWlyZU5vZGUoKX0oYmFzZSkpLGJhc2V9dmFyIGNvbnN0YW50cyQyPXt9LGRlcj17fSxoYXNSZXF1aXJlZERlciQyO2Z1bmN0aW9uIHJlcXVpcmVEZXIkMigpe3JldHVybiBoYXNSZXF1aXJlZERlciQyfHwoaGFzUmVxdWlyZWREZXIkMj0xLGZ1bmN0aW9uKGUpe3ZhciB0PXJlcXVpcmVDb25zdGFudHMoKTtlLnRhZ0NsYXNzPXswOiJ1bml2ZXJzYWwiLDE6ImFwcGxpY2F0aW9uIiwyOiJjb250ZXh0IiwzOiJwcml2YXRlIn0sZS50YWdDbGFzc0J5TmFtZT10Ll9yZXZlcnNlKGUudGFnQ2xhc3MpLGUudGFnPXswOiJlbmQiLDE6ImJvb2wiLDI6ImludCIsMzoiYml0c3RyIiw0OiJvY3RzdHIiLDU6Im51bGxfIiw2OiJvYmppZCIsNzoib2JqRGVzYyIsODoiZXh0ZXJuYWwiLDk6InJlYWwiLDEwOiJlbnVtIiwxMToiZW1iZWQiLDEyOiJ1dGY4c3RyIiwxMzoicmVsYXRpdmVPaWQiLDE2OiJzZXEiLDE3OiJzZXQiLDE4OiJudW1zdHIiLDE5OiJwcmludHN0ciIsMjA6InQ2MXN0ciIsMjE6InZpZGVvc3RyIiwyMjoiaWE1c3RyIiwyMzoidXRjdGltZSIsMjQ6ImdlbnRpbWUiLDI1OiJncmFwaHN0ciIsMjY6ImlzbzY0NnN0ciIsMjc6ImdlbnN0ciIsMjg6InVuaXN0ciIsMjk6ImNoYXJzdHIiLDMwOiJibXBzdHIifSxlLnRhZ0J5TmFtZT10Ll9yZXZlcnNlKGUudGFnKX0oZGVyKSksZGVyfXZhciBoYXNSZXF1aXJlZENvbnN0YW50cztmdW5jdGlvbiByZXF1aXJlQ29uc3RhbnRzKCl7cmV0dXJuIGhhc1JlcXVpcmVkQ29uc3RhbnRzfHwoaGFzUmVxdWlyZWRDb25zdGFudHM9MSxmdW5jdGlvbihlKXt2YXIgdD1lO3QuX3JldmVyc2U9ZnVuY3Rpb24oYSl7dmFyIHU9e307cmV0dXJuIE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24obyl7KG98MCk9PW8mJihvPW98MCk7dmFyIGg9YVtvXTt1W2hdPW99KSx1fSx0LmRlcj1yZXF1aXJlRGVyJDIoKX0oY29uc3RhbnRzJDIpKSxjb25zdGFudHMkMn12YXIgZGVjb2RlcnM9e30sZGVyXzEkMSxoYXNSZXF1aXJlZERlciQxO2Z1bmN0aW9uIHJlcXVpcmVEZXIkMSgpe2lmKGhhc1JlcXVpcmVkRGVyJDEpcmV0dXJuIGRlcl8xJDE7aGFzUmVxdWlyZWREZXIkMT0xO3ZhciBlPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLHQ9cmVxdWlyZUFzbjEoKSxuPXQuYmFzZSxhPXQuYmlnbnVtLHU9dC5jb25zdGFudHMuZGVyO2Z1bmN0aW9uIG8oXyl7dGhpcy5lbmM9ImRlciIsdGhpcy5uYW1lPV8ubmFtZSx0aGlzLmVudGl0eT1fLHRoaXMudHJlZT1uZXcgaCx0aGlzLnRyZWUuX2luaXQoXy5ib2R5KX1kZXJfMSQxPW8sby5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGIsTSl7cmV0dXJuIGIgaW5zdGFuY2VvZiBuLkRlY29kZXJCdWZmZXJ8fChiPW5ldyBuLkRlY29kZXJCdWZmZXIoYixNKSksdGhpcy50cmVlLl9kZWNvZGUoYixNKX07ZnVuY3Rpb24gaChfKXtuLk5vZGUuY2FsbCh0aGlzLCJkZXIiLF8pfWUoaCxuLk5vZGUpLGgucHJvdG90eXBlLl9wZWVrVGFnPWZ1bmN0aW9uKGIsTSxPKXtpZihiLmlzRW1wdHkoKSlyZXR1cm4hMTt2YXIgVD1iLnNhdmUoKSxQPWQoYiwnRmFpbGVkIHRvIHBlZWsgdGFnOiAiJytNKyciJyk7cmV0dXJuIGIuaXNFcnJvcihQKT9QOihiLnJlc3RvcmUoVCksUC50YWc9PT1NfHxQLnRhZ1N0cj09PU18fFAudGFnU3RyKyJvZiI9PT1NfHxPKX0saC5wcm90b3R5cGUuX2RlY29kZVRhZz1mdW5jdGlvbihiLE0sTyl7dmFyIFQ9ZChiLCdGYWlsZWQgdG8gZGVjb2RlIHRhZyBvZiAiJytNKyciJyk7aWYoYi5pc0Vycm9yKFQpKXJldHVybiBUO3ZhciBQPXcoYixULnByaW1pdGl2ZSwnRmFpbGVkIHRvIGdldCBsZW5ndGggb2YgIicrTSsnIicpO2lmKGIuaXNFcnJvcihQKSlyZXR1cm4gUDtpZighTyYmVC50YWchPT1NJiZULnRhZ1N0ciE9PU0mJlQudGFnU3RyKyJvZiIhPT1NKXJldHVybiBiLmVycm9yKCdGYWlsZWQgdG8gbWF0Y2ggdGFnOiAiJytNKyciJyk7aWYoVC5wcmltaXRpdmV8fFAhPT1udWxsKXJldHVybiBiLnNraXAoUCwnRmFpbGVkIHRvIG1hdGNoIGJvZHkgb2Y6ICInK00rJyInKTt2YXIgTD1iLnNhdmUoKSx6PXRoaXMuX3NraXBVbnRpbEVuZChiLCdGYWlsZWQgdG8gc2tpcCBpbmRlZmluaXRlIGxlbmd0aCBib2R5OiAiJyt0aGlzLnRhZysnIicpO3JldHVybiBiLmlzRXJyb3Ioeik/ejooUD1iLm9mZnNldC1MLm9mZnNldCxiLnJlc3RvcmUoTCksYi5za2lwKFAsJ0ZhaWxlZCB0byBtYXRjaCBib2R5IG9mOiAiJytNKyciJykpfSxoLnByb3RvdHlwZS5fc2tpcFVudGlsRW5kPWZ1bmN0aW9uKGIsTSl7Zm9yKDs7KXt2YXIgTz1kKGIsTSk7aWYoYi5pc0Vycm9yKE8pKXJldHVybiBPO3ZhciBUPXcoYixPLnByaW1pdGl2ZSxNKTtpZihiLmlzRXJyb3IoVCkpcmV0dXJuIFQ7dmFyIFA7aWYoTy5wcmltaXRpdmV8fFQhPT1udWxsP1A9Yi5za2lwKFQpOlA9dGhpcy5fc2tpcFVudGlsRW5kKGIsTSksYi5pc0Vycm9yKFApKXJldHVybiBQO2lmKE8udGFnU3RyPT09ImVuZCIpYnJlYWt9fSxoLnByb3RvdHlwZS5fZGVjb2RlTGlzdD1mdW5jdGlvbihiLE0sTyxUKXtmb3IodmFyIFA9W107IWIuaXNFbXB0eSgpOyl7dmFyIEw9dGhpcy5fcGVla1RhZyhiLCJlbmQiKTtpZihiLmlzRXJyb3IoTCkpcmV0dXJuIEw7dmFyIHo9Ty5kZWNvZGUoYiwiZGVyIixUKTtpZihiLmlzRXJyb3IoeikmJkwpYnJlYWs7UC5wdXNoKHopfXJldHVybiBQfSxoLnByb3RvdHlwZS5fZGVjb2RlU3RyPWZ1bmN0aW9uKGIsTSl7aWYoTT09PSJiaXRzdHIiKXt2YXIgTz1iLnJlYWRVSW50OCgpO3JldHVybiBiLmlzRXJyb3IoTyk/Tzp7dW51c2VkOk8sZGF0YTpiLnJhdygpfX1lbHNlIGlmKE09PT0iYm1wc3RyIil7dmFyIFQ9Yi5yYXcoKTtpZihULmxlbmd0aCUyPT09MSlyZXR1cm4gYi5lcnJvcigiRGVjb2Rpbmcgb2Ygc3RyaW5nIHR5cGU6IGJtcHN0ciBsZW5ndGggbWlzbWF0Y2giKTtmb3IodmFyIFA9IiIsTD0wO0w8VC5sZW5ndGgvMjtMKyspUCs9U3RyaW5nLmZyb21DaGFyQ29kZShULnJlYWRVSW50MTZCRShMKjIpKTtyZXR1cm4gUH1lbHNlIGlmKE09PT0ibnVtc3RyIil7dmFyIHo9Yi5yYXcoKS50b1N0cmluZygiYXNjaWkiKTtyZXR1cm4gdGhpcy5faXNOdW1zdHIoeik/ejpiLmVycm9yKCJEZWNvZGluZyBvZiBzdHJpbmcgdHlwZTogbnVtc3RyIHVuc3VwcG9ydGVkIGNoYXJhY3RlcnMiKX1lbHNle2lmKE09PT0ib2N0c3RyIilyZXR1cm4gYi5yYXcoKTtpZihNPT09Im9iakRlc2MiKXJldHVybiBiLnJhdygpO2lmKE09PT0icHJpbnRzdHIiKXt2YXIgSD1iLnJhdygpLnRvU3RyaW5nKCJhc2NpaSIpO3JldHVybiB0aGlzLl9pc1ByaW50c3RyKEgpP0g6Yi5lcnJvcigiRGVjb2Rpbmcgb2Ygc3RyaW5nIHR5cGU6IHByaW50c3RyIHVuc3VwcG9ydGVkIGNoYXJhY3RlcnMiKX1lbHNlIHJldHVybi9zdHIkLy50ZXN0KE0pP2IucmF3KCkudG9TdHJpbmcoKTpiLmVycm9yKCJEZWNvZGluZyBvZiBzdHJpbmcgdHlwZTogIitNKyIgdW5zdXBwb3J0ZWQiKX19LGgucHJvdG90eXBlLl9kZWNvZGVPYmppZD1mdW5jdGlvbihiLE0sTyl7Zm9yKHZhciBULFA9W10sTD0wOyFiLmlzRW1wdHkoKTspe3ZhciB6PWIucmVhZFVJbnQ4KCk7TDw8PTcsTHw9eiYxMjcseiYxMjh8fChQLnB1c2goTCksTD0wKX16JjEyOCYmUC5wdXNoKEwpO3ZhciBIPVBbMF0vNDB8MCxWPVBbMF0lNDA7aWYoTz9UPVA6VD1bSCxWXS5jb25jYXQoUC5zbGljZSgxKSksTSl7dmFyIGFlPU1bVC5qb2luKCIgIildO2FlPT09dm9pZCAwJiYoYWU9TVtULmpvaW4oIi4iKV0pLGFlIT09dm9pZCAwJiYoVD1hZSl9cmV0dXJuIFR9LGgucHJvdG90eXBlLl9kZWNvZGVUaW1lPWZ1bmN0aW9uKGIsTSl7dmFyIE89Yi5yYXcoKS50b1N0cmluZygpO2lmKE09PT0iZ2VudGltZSIpdmFyIFQ9Ty5zbGljZSgwLDQpfDAsUD1PLnNsaWNlKDQsNil8MCxMPU8uc2xpY2UoNiw4KXwwLHo9Ty5zbGljZSg4LDEwKXwwLEg9Ty5zbGljZSgxMCwxMil8MCxWPU8uc2xpY2UoMTIsMTQpfDA7ZWxzZSBpZihNPT09InV0Y3RpbWUiKXt2YXIgVD1PLnNsaWNlKDAsMil8MCxQPU8uc2xpY2UoMiw0KXwwLEw9Ty5zbGljZSg0LDYpfDAsej1PLnNsaWNlKDYsOCl8MCxIPU8uc2xpY2UoOCwxMCl8MCxWPU8uc2xpY2UoMTAsMTIpfDA7VDw3MD9UPTJlMytUOlQ9MTkwMCtUfWVsc2UgcmV0dXJuIGIuZXJyb3IoIkRlY29kaW5nICIrTSsiIHRpbWUgaXMgbm90IHN1cHBvcnRlZCB5ZXQiKTtyZXR1cm4gRGF0ZS5VVEMoVCxQLTEsTCx6LEgsViwwKX0saC5wcm90b3R5cGUuX2RlY29kZU51bGw9ZnVuY3Rpb24oYil7cmV0dXJuIG51bGx9LGgucHJvdG90eXBlLl9kZWNvZGVCb29sPWZ1bmN0aW9uKGIpe3ZhciBNPWIucmVhZFVJbnQ4KCk7cmV0dXJuIGIuaXNFcnJvcihNKT9NOk0hPT0wfSxoLnByb3RvdHlwZS5fZGVjb2RlSW50PWZ1bmN0aW9uKGIsTSl7dmFyIE89Yi5yYXcoKSxUPW5ldyBhKE8pO3JldHVybiBNJiYoVD1NW1QudG9TdHJpbmcoMTApXXx8VCksVH0saC5wcm90b3R5cGUuX3VzZT1mdW5jdGlvbihiLE0pe3JldHVybiB0eXBlb2YgYj09ImZ1bmN0aW9uIiYmKGI9YihNKSksYi5fZ2V0RGVjb2RlcigiZGVyIikudHJlZX07ZnVuY3Rpb24gZChfLGIpe3ZhciBNPV8ucmVhZFVJbnQ4KGIpO2lmKF8uaXNFcnJvcihNKSlyZXR1cm4gTTt2YXIgTz11LnRhZ0NsYXNzW00+PjZdLFQ9KE0mMzIpPT09MDtpZigoTSYzMSk9PT0zMSl7dmFyIFA9TTtmb3IoTT0wOyhQJjEyOCk9PT0xMjg7KXtpZihQPV8ucmVhZFVJbnQ4KGIpLF8uaXNFcnJvcihQKSlyZXR1cm4gUDtNPDw9NyxNfD1QJjEyN319ZWxzZSBNJj0zMTt2YXIgTD11LnRhZ1tNXTtyZXR1cm57Y2xzOk8scHJpbWl0aXZlOlQsdGFnOk0sdGFnU3RyOkx9fWZ1bmN0aW9uIHcoXyxiLE0pe3ZhciBPPV8ucmVhZFVJbnQ4KE0pO2lmKF8uaXNFcnJvcihPKSlyZXR1cm4gTztpZighYiYmTz09PTEyOClyZXR1cm4gbnVsbDtpZighKE8mMTI4KSlyZXR1cm4gTzt2YXIgVD1PJjEyNztpZihUPjQpcmV0dXJuIF8uZXJyb3IoImxlbmd0aCBvY3RlY3QgaXMgdG9vIGxvbmciKTtPPTA7Zm9yKHZhciBQPTA7UDxUO1ArKyl7Tzw8PTg7dmFyIEw9Xy5yZWFkVUludDgoTSk7aWYoXy5pc0Vycm9yKEwpKXJldHVybiBMO098PUx9cmV0dXJuIE99cmV0dXJuIGRlcl8xJDF9dmFyIHBlbSQxLGhhc1JlcXVpcmVkUGVtJDE7ZnVuY3Rpb24gcmVxdWlyZVBlbSQxKCl7aWYoaGFzUmVxdWlyZWRQZW0kMSlyZXR1cm4gcGVtJDE7aGFzUmVxdWlyZWRQZW0kMT0xO3ZhciBlPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLHQ9YnVmZmVyJDIuQnVmZmVyLG49cmVxdWlyZURlciQxKCk7ZnVuY3Rpb24gYSh1KXtuLmNhbGwodGhpcyx1KSx0aGlzLmVuYz0icGVtIn1yZXR1cm4gZShhLG4pLHBlbSQxPWEsYS5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKG8saCl7Zm9yKHZhciBkPW8udG9TdHJpbmcoKS5zcGxpdCgvW1xyXG5dKy9nKSx3PWgubGFiZWwudG9VcHBlckNhc2UoKSxfPS9eLS0tLS0oQkVHSU58RU5EKSAoW14tXSspLS0tLS0kLyxiPS0xLE09LTEsTz0wO088ZC5sZW5ndGg7TysrKXt2YXIgVD1kW09dLm1hdGNoKF8pO2lmKFQhPT1udWxsJiZUWzJdPT09dylpZihiPT09LTEpe2lmKFRbMV0hPT0iQkVHSU4iKWJyZWFrO2I9T31lbHNle2lmKFRbMV0hPT0iRU5EIilicmVhaztNPU87YnJlYWt9fWlmKGI9PT0tMXx8TT09PS0xKXRocm93IG5ldyBFcnJvcigiUEVNIHNlY3Rpb24gbm90IGZvdW5kIGZvcjogIit3KTt2YXIgUD1kLnNsaWNlKGIrMSxNKS5qb2luKCIiKTtQLnJlcGxhY2UoL1teYS16MC05XCtcLz1dKy9naSwiIik7dmFyIEw9bmV3IHQoUCwiYmFzZTY0Iik7cmV0dXJuIG4ucHJvdG90eXBlLmRlY29kZS5jYWxsKHRoaXMsTCxoKX0scGVtJDF9dmFyIGhhc1JlcXVpcmVkRGVjb2RlcnM7ZnVuY3Rpb24gcmVxdWlyZURlY29kZXJzKCl7cmV0dXJuIGhhc1JlcXVpcmVkRGVjb2RlcnN8fChoYXNSZXF1aXJlZERlY29kZXJzPTEsZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0LmRlcj1yZXF1aXJlRGVyJDEoKSx0LnBlbT1yZXF1aXJlUGVtJDEoKX0oZGVjb2RlcnMpKSxkZWNvZGVyc312YXIgZW5jb2RlcnM9e30sZGVyXzEsaGFzUmVxdWlyZWREZXI7ZnVuY3Rpb24gcmVxdWlyZURlcigpe2lmKGhhc1JlcXVpcmVkRGVyKXJldHVybiBkZXJfMTtoYXNSZXF1aXJlZERlcj0xO3ZhciBlPWluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzLHQ9YnVmZmVyJDIuQnVmZmVyLG49cmVxdWlyZUFzbjEoKSxhPW4uYmFzZSx1PW4uY29uc3RhbnRzLmRlcjtmdW5jdGlvbiBvKF8pe3RoaXMuZW5jPSJkZXIiLHRoaXMubmFtZT1fLm5hbWUsdGhpcy5lbnRpdHk9Xyx0aGlzLnRyZWU9bmV3IGgsdGhpcy50cmVlLl9pbml0KF8uYm9keSl9ZGVyXzE9byxvLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oYixNKXtyZXR1cm4gdGhpcy50cmVlLl9lbmNvZGUoYixNKS5qb2luKCl9O2Z1bmN0aW9uIGgoXyl7YS5Ob2RlLmNhbGwodGhpcywiZGVyIixfKX1lKGgsYS5Ob2RlKSxoLnByb3RvdHlwZS5fZW5jb2RlQ29tcG9zaXRlPWZ1bmN0aW9uKGIsTSxPLFQpe3ZhciBQPXcoYixNLE8sdGhpcy5yZXBvcnRlcik7aWYoVC5sZW5ndGg8MTI4KXt2YXIgSD1uZXcgdCgyKTtyZXR1cm4gSFswXT1QLEhbMV09VC5sZW5ndGgsdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihbSCxUXSl9Zm9yKHZhciBMPTEsej1ULmxlbmd0aDt6Pj0yNTY7ej4+PTgpTCsrO3ZhciBIPW5ldyB0KDErMStMKTtIWzBdPVAsSFsxXT0xMjh8TDtmb3IodmFyIHo9MStMLFY9VC5sZW5ndGg7Vj4wO3otLSxWPj49OClIW3pdPVYmMjU1O3JldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKFtILFRdKX0saC5wcm90b3R5cGUuX2VuY29kZVN0cj1mdW5jdGlvbihiLE0pe2lmKE09PT0iYml0c3RyIilyZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihbYi51bnVzZWR8MCxiLmRhdGFdKTtpZihNPT09ImJtcHN0ciIpe2Zvcih2YXIgTz1uZXcgdChiLmxlbmd0aCoyKSxUPTA7VDxiLmxlbmd0aDtUKyspTy53cml0ZVVJbnQxNkJFKGIuY2hhckNvZGVBdChUKSxUKjIpO3JldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKE8pfWVsc2UgcmV0dXJuIE09PT0ibnVtc3RyIj90aGlzLl9pc051bXN0cihiKT90aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKGIpOnRoaXMucmVwb3J0ZXIuZXJyb3IoIkVuY29kaW5nIG9mIHN0cmluZyB0eXBlOiBudW1zdHIgc3VwcG9ydHMgb25seSBkaWdpdHMgYW5kIHNwYWNlIik6TT09PSJwcmludHN0ciI/dGhpcy5faXNQcmludHN0cihiKT90aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKGIpOnRoaXMucmVwb3J0ZXIuZXJyb3IoIkVuY29kaW5nIG9mIHN0cmluZyB0eXBlOiBwcmludHN0ciBzdXBwb3J0cyBvbmx5IGxhdGluIHVwcGVyIGFuZCBsb3dlciBjYXNlIGxldHRlcnMsIGRpZ2l0cywgc3BhY2UsIGFwb3N0cm9waGUsIGxlZnQgYW5kIHJpZ3RoIHBhcmVudGhlc2lzLCBwbHVzIHNpZ24sIGNvbW1hLCBoeXBoZW4sIGRvdCwgc2xhc2gsIGNvbG9uLCBlcXVhbCBzaWduLCBxdWVzdGlvbiBtYXJrIik6L3N0ciQvLnRlc3QoTSk/dGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihiKTpNPT09Im9iakRlc2MiP3RoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoYik6dGhpcy5yZXBvcnRlci5lcnJvcigiRW5jb2Rpbmcgb2Ygc3RyaW5nIHR5cGU6ICIrTSsiIHVuc3VwcG9ydGVkIil9LGgucHJvdG90eXBlLl9lbmNvZGVPYmppZD1mdW5jdGlvbihiLE0sTyl7aWYodHlwZW9mIGI9PSJzdHJpbmciKXtpZighTSlyZXR1cm4gdGhpcy5yZXBvcnRlci5lcnJvcigic3RyaW5nIG9iamlkIGdpdmVuLCBidXQgbm8gdmFsdWVzIG1hcCBmb3VuZCIpO2lmKCFNLmhhc093blByb3BlcnR5KGIpKXJldHVybiB0aGlzLnJlcG9ydGVyLmVycm9yKCJvYmppZCBub3QgZm91bmQgaW4gdmFsdWVzIG1hcCIpO2I9TVtiXS5zcGxpdCgvW1xzXC5dKy9nKTtmb3IodmFyIFQ9MDtUPGIubGVuZ3RoO1QrKyliW1RdfD0wfWVsc2UgaWYoQXJyYXkuaXNBcnJheShiKSl7Yj1iLnNsaWNlKCk7Zm9yKHZhciBUPTA7VDxiLmxlbmd0aDtUKyspYltUXXw9MH1pZighQXJyYXkuaXNBcnJheShiKSlyZXR1cm4gdGhpcy5yZXBvcnRlci5lcnJvcigib2JqaWQoKSBzaG91bGQgYmUgZWl0aGVyIGFycmF5IG9yIHN0cmluZywgZ290OiAiK0pTT04uc3RyaW5naWZ5KGIpKTtpZighTyl7aWYoYlsxXT49NDApcmV0dXJuIHRoaXMucmVwb3J0ZXIuZXJyb3IoIlNlY29uZCBvYmppZCBpZGVudGlmaWVyIE9PQiIpO2Iuc3BsaWNlKDAsMixiWzBdKjQwK2JbMV0pfWZvcih2YXIgUD0wLFQ9MDtUPGIubGVuZ3RoO1QrKyl7dmFyIEw9YltUXTtmb3IoUCsrO0w+PTEyODtMPj49NylQKyt9Zm9yKHZhciB6PW5ldyB0KFApLEg9ei5sZW5ndGgtMSxUPWIubGVuZ3RoLTE7VD49MDtULS0pe3ZhciBMPWJbVF07Zm9yKHpbSC0tXT1MJjEyNzsoTD4+PTcpPjA7KXpbSC0tXT0xMjh8TCYxMjd9cmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoeil9O2Z1bmN0aW9uIGQoXyl7cmV0dXJuIF88MTA/IjAiK186X31oLnByb3RvdHlwZS5fZW5jb2RlVGltZT1mdW5jdGlvbihiLE0pe3ZhciBPLFQ9bmV3IERhdGUoYik7cmV0dXJuIE09PT0iZ2VudGltZSI/Tz1bZChULmdldEZ1bGxZZWFyKCkpLGQoVC5nZXRVVENNb250aCgpKzEpLGQoVC5nZXRVVENEYXRlKCkpLGQoVC5nZXRVVENIb3VycygpKSxkKFQuZ2V0VVRDTWludXRlcygpKSxkKFQuZ2V0VVRDU2Vjb25kcygpKSwiWiJdLmpvaW4oIiIpOk09PT0idXRjdGltZSI/Tz1bZChULmdldEZ1bGxZZWFyKCklMTAwKSxkKFQuZ2V0VVRDTW9udGgoKSsxKSxkKFQuZ2V0VVRDRGF0ZSgpKSxkKFQuZ2V0VVRDSG91cnMoKSksZChULmdldFVUQ01pbnV0ZXMoKSksZChULmdldFVUQ1NlY29uZHMoKSksIloiXS5qb2luKCIiKTp0aGlzLnJlcG9ydGVyLmVycm9yKCJFbmNvZGluZyAiK00rIiB0aW1lIGlzIG5vdCBzdXBwb3J0ZWQgeWV0IiksdGhpcy5fZW5jb2RlU3RyKE8sIm9jdHN0ciIpfSxoLnByb3RvdHlwZS5fZW5jb2RlTnVsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKCIiKX0saC5wcm90b3R5cGUuX2VuY29kZUludD1mdW5jdGlvbihiLE0pe2lmKHR5cGVvZiBiPT0ic3RyaW5nIil7aWYoIU0pcmV0dXJuIHRoaXMucmVwb3J0ZXIuZXJyb3IoIlN0cmluZyBpbnQgb3IgZW51bSBnaXZlbiwgYnV0IG5vIHZhbHVlcyBtYXAiKTtpZighTS5oYXNPd25Qcm9wZXJ0eShiKSlyZXR1cm4gdGhpcy5yZXBvcnRlci5lcnJvcigiVmFsdWVzIG1hcCBkb2Vzbid0IGNvbnRhaW46ICIrSlNPTi5zdHJpbmdpZnkoYikpO2I9TVtiXX1pZih0eXBlb2YgYiE9Im51bWJlciImJiF0LmlzQnVmZmVyKGIpKXt2YXIgTz1iLnRvQXJyYXkoKTshYi5zaWduJiZPWzBdJjEyOCYmTy51bnNoaWZ0KDApLGI9bmV3IHQoTyl9aWYodC5pc0J1ZmZlcihiKSl7dmFyIFQ9Yi5sZW5ndGg7Yi5sZW5ndGg9PT0wJiZUKys7dmFyIEw9bmV3IHQoVCk7cmV0dXJuIGIuY29weShMKSxiLmxlbmd0aD09PTAmJihMWzBdPTApLHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoTCl9aWYoYjwxMjgpcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoYik7aWYoYjwyNTYpcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoWzAsYl0pO2Zvcih2YXIgVD0xLFA9YjtQPj0yNTY7UD4+PTgpVCsrO2Zvcih2YXIgTD1uZXcgQXJyYXkoVCksUD1MLmxlbmd0aC0xO1A+PTA7UC0tKUxbUF09YiYyNTUsYj4+PTg7cmV0dXJuIExbMF0mMTI4JiZMLnVuc2hpZnQoMCksdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihuZXcgdChMKSl9LGgucHJvdG90eXBlLl9lbmNvZGVCb29sPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKGI/MjU1OjApfSxoLnByb3RvdHlwZS5fdXNlPWZ1bmN0aW9uKGIsTSl7cmV0dXJuIHR5cGVvZiBiPT0iZnVuY3Rpb24iJiYoYj1iKE0pKSxiLl9nZXRFbmNvZGVyKCJkZXIiKS50cmVlfSxoLnByb3RvdHlwZS5fc2tpcERlZmF1bHQ9ZnVuY3Rpb24oYixNLE8pe3ZhciBUPXRoaXMuX2Jhc2VTdGF0ZSxQO2lmKFQuZGVmYXVsdD09PW51bGwpcmV0dXJuITE7dmFyIEw9Yi5qb2luKCk7aWYoVC5kZWZhdWx0QnVmZmVyPT09dm9pZCAwJiYoVC5kZWZhdWx0QnVmZmVyPXRoaXMuX2VuY29kZVZhbHVlKFQuZGVmYXVsdCxNLE8pLmpvaW4oKSksTC5sZW5ndGghPT1ULmRlZmF1bHRCdWZmZXIubGVuZ3RoKXJldHVybiExO2ZvcihQPTA7UDxMLmxlbmd0aDtQKyspaWYoTFtQXSE9PVQuZGVmYXVsdEJ1ZmZlcltQXSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gdyhfLGIsTSxPKXt2YXIgVDtpZihfPT09InNlcW9mIj9fPSJzZXEiOl89PT0ic2V0b2YiJiYoXz0ic2V0IiksdS50YWdCeU5hbWUuaGFzT3duUHJvcGVydHkoXykpVD11LnRhZ0J5TmFtZVtfXTtlbHNlIGlmKHR5cGVvZiBfPT0ibnVtYmVyIiYmKF98MCk9PT1fKVQ9XztlbHNlIHJldHVybiBPLmVycm9yKCJVbmtub3duIHRhZzogIitfKTtyZXR1cm4gVD49MzE/Ty5lcnJvcigiTXVsdGktb2N0ZXQgdGFnIGVuY29kaW5nIHVuc3VwcG9ydGVkIik6KGJ8fChUfD0zMiksVHw9dS50YWdDbGFzc0J5TmFtZVtNfHwidW5pdmVyc2FsIl08PDYsVCl9cmV0dXJuIGRlcl8xfXZhciBwZW0saGFzUmVxdWlyZWRQZW07ZnVuY3Rpb24gcmVxdWlyZVBlbSgpe2lmKGhhc1JlcXVpcmVkUGVtKXJldHVybiBwZW07aGFzUmVxdWlyZWRQZW09MTt2YXIgZT1pbmhlcml0c19icm93c2VyRXhwb3J0cyx0PXJlcXVpcmVEZXIoKTtmdW5jdGlvbiBuKGEpe3QuY2FsbCh0aGlzLGEpLHRoaXMuZW5jPSJwZW0ifXJldHVybiBlKG4sdCkscGVtPW4sbi5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHUsbyl7Zm9yKHZhciBoPXQucHJvdG90eXBlLmVuY29kZS5jYWxsKHRoaXMsdSksZD1oLnRvU3RyaW5nKCJiYXNlNjQiKSx3PVsiLS0tLS1CRUdJTiAiK28ubGFiZWwrIi0tLS0tIl0sXz0wO188ZC5sZW5ndGg7Xys9NjQpdy5wdXNoKGQuc2xpY2UoXyxfKzY0KSk7cmV0dXJuIHcucHVzaCgiLS0tLS1FTkQgIitvLmxhYmVsKyItLS0tLSIpLHcuam9pbihgCmApfSxwZW19dmFyIGhhc1JlcXVpcmVkRW5jb2RlcnM7ZnVuY3Rpb24gcmVxdWlyZUVuY29kZXJzKCl7cmV0dXJuIGhhc1JlcXVpcmVkRW5jb2RlcnN8fChoYXNSZXF1aXJlZEVuY29kZXJzPTEsZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0LmRlcj1yZXF1aXJlRGVyKCksdC5wZW09cmVxdWlyZVBlbSgpfShlbmNvZGVycykpLGVuY29kZXJzfXZhciBoYXNSZXF1aXJlZEFzbjE7ZnVuY3Rpb24gcmVxdWlyZUFzbjEoKXtyZXR1cm4gaGFzUmVxdWlyZWRBc24xfHwoaGFzUmVxdWlyZWRBc24xPTEsZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0LmJpZ251bT1ibkV4cG9ydHMkMix0LmRlZmluZT1yZXF1aXJlQXBpKCkuZGVmaW5lLHQuYmFzZT1yZXF1aXJlQmFzZSgpLHQuY29uc3RhbnRzPXJlcXVpcmVDb25zdGFudHMoKSx0LmRlY29kZXJzPXJlcXVpcmVEZWNvZGVycygpLHQuZW5jb2RlcnM9cmVxdWlyZUVuY29kZXJzKCl9KGFzbjEkMikpLGFzbjEkMn12YXIgYXNuPXJlcXVpcmVBc24xKCksVGltZT1hc24uZGVmaW5lKCJUaW1lIixmdW5jdGlvbigpe3RoaXMuY2hvaWNlKHt1dGNUaW1lOnRoaXMudXRjdGltZSgpLGdlbmVyYWxUaW1lOnRoaXMuZ2VudGltZSgpfSl9KSxBdHRyaWJ1dGVUeXBlVmFsdWU9YXNuLmRlZmluZSgiQXR0cmlidXRlVHlwZVZhbHVlIixmdW5jdGlvbigpe3RoaXMuc2VxKCkub2JqKHRoaXMua2V5KCJ0eXBlIikub2JqaWQoKSx0aGlzLmtleSgidmFsdWUiKS5hbnkoKSl9KSxBbGdvcml0aG1JZGVudGlmaWVyJDE9YXNuLmRlZmluZSgiQWxnb3JpdGhtSWRlbnRpZmllciIsZnVuY3Rpb24oKXt0aGlzLnNlcSgpLm9iaih0aGlzLmtleSgiYWxnb3JpdGhtIikub2JqaWQoKSx0aGlzLmtleSgicGFyYW1ldGVycyIpLm9wdGlvbmFsKCksdGhpcy5rZXkoImN1cnZlIikub2JqaWQoKS5vcHRpb25hbCgpKX0pLFN1YmplY3RQdWJsaWNLZXlJbmZvPWFzbi5kZWZpbmUoIlN1YmplY3RQdWJsaWNLZXlJbmZvIixmdW5jdGlvbigpe3RoaXMuc2VxKCkub2JqKHRoaXMua2V5KCJhbGdvcml0aG0iKS51c2UoQWxnb3JpdGhtSWRlbnRpZmllciQxKSx0aGlzLmtleSgic3ViamVjdFB1YmxpY0tleSIpLmJpdHN0cigpKX0pLFJlbGF0aXZlRGlzdGluZ3Vpc2hlZE5hbWU9YXNuLmRlZmluZSgiUmVsYXRpdmVEaXN0aW5ndWlzaGVkTmFtZSIsZnVuY3Rpb24oKXt0aGlzLnNldG9mKEF0dHJpYnV0ZVR5cGVWYWx1ZSl9KSxSRE5TZXF1ZW5jZT1hc24uZGVmaW5lKCJSRE5TZXF1ZW5jZSIsZnVuY3Rpb24oKXt0aGlzLnNlcW9mKFJlbGF0aXZlRGlzdGluZ3Vpc2hlZE5hbWUpfSksTmFtZT1hc24uZGVmaW5lKCJOYW1lIixmdW5jdGlvbigpe3RoaXMuY2hvaWNlKHtyZG5TZXF1ZW5jZTp0aGlzLnVzZShSRE5TZXF1ZW5jZSl9KX0pLFZhbGlkaXR5PWFzbi5kZWZpbmUoIlZhbGlkaXR5IixmdW5jdGlvbigpe3RoaXMuc2VxKCkub2JqKHRoaXMua2V5KCJub3RCZWZvcmUiKS51c2UoVGltZSksdGhpcy5rZXkoIm5vdEFmdGVyIikudXNlKFRpbWUpKX0pLEV4dGVuc2lvbj1hc24uZGVmaW5lKCJFeHRlbnNpb24iLGZ1bmN0aW9uKCl7dGhpcy5zZXEoKS5vYmoodGhpcy5rZXkoImV4dG5JRCIpLm9iamlkKCksdGhpcy5rZXkoImNyaXRpY2FsIikuYm9vbCgpLmRlZighMSksdGhpcy5rZXkoImV4dG5WYWx1ZSIpLm9jdHN0cigpKX0pLFRCU0NlcnRpZmljYXRlPWFzbi5kZWZpbmUoIlRCU0NlcnRpZmljYXRlIixmdW5jdGlvbigpe3RoaXMuc2VxKCkub2JqKHRoaXMua2V5KCJ2ZXJzaW9uIikuZXhwbGljaXQoMCkuaW50KCkub3B0aW9uYWwoKSx0aGlzLmtleSgic2VyaWFsTnVtYmVyIikuaW50KCksdGhpcy5rZXkoInNpZ25hdHVyZSIpLnVzZShBbGdvcml0aG1JZGVudGlmaWVyJDEpLHRoaXMua2V5KCJpc3N1ZXIiKS51c2UoTmFtZSksdGhpcy5rZXkoInZhbGlkaXR5IikudXNlKFZhbGlkaXR5KSx0aGlzLmtleSgic3ViamVjdCIpLnVzZShOYW1lKSx0aGlzLmtleSgic3ViamVjdFB1YmxpY0tleUluZm8iKS51c2UoU3ViamVjdFB1YmxpY0tleUluZm8pLHRoaXMua2V5KCJpc3N1ZXJVbmlxdWVJRCIpLmltcGxpY2l0KDEpLmJpdHN0cigpLm9wdGlvbmFsKCksdGhpcy5rZXkoInN1YmplY3RVbmlxdWVJRCIpLmltcGxpY2l0KDIpLmJpdHN0cigpLm9wdGlvbmFsKCksdGhpcy5rZXkoImV4dGVuc2lvbnMiKS5leHBsaWNpdCgzKS5zZXFvZihFeHRlbnNpb24pLm9wdGlvbmFsKCkpfSksWDUwOUNlcnRpZmljYXRlPWFzbi5kZWZpbmUoIlg1MDlDZXJ0aWZpY2F0ZSIsZnVuY3Rpb24oKXt0aGlzLnNlcSgpLm9iaih0aGlzLmtleSgidGJzQ2VydGlmaWNhdGUiKS51c2UoVEJTQ2VydGlmaWNhdGUpLHRoaXMua2V5KCJzaWduYXR1cmVBbGdvcml0aG0iKS51c2UoQWxnb3JpdGhtSWRlbnRpZmllciQxKSx0aGlzLmtleSgic2lnbmF0dXJlVmFsdWUiKS5iaXRzdHIoKSl9KSxjZXJ0aWZpY2F0ZT1YNTA5Q2VydGlmaWNhdGUsYXNuMSQxPXJlcXVpcmVBc24xKCk7YXNuMSQzLmNlcnRpZmljYXRlPWNlcnRpZmljYXRlO3ZhciBSU0FQcml2YXRlS2V5PWFzbjEkMS5kZWZpbmUoIlJTQVByaXZhdGVLZXkiLGZ1bmN0aW9uKCl7dGhpcy5zZXEoKS5vYmoodGhpcy5rZXkoInZlcnNpb24iKS5pbnQoKSx0aGlzLmtleSgibW9kdWx1cyIpLmludCgpLHRoaXMua2V5KCJwdWJsaWNFeHBvbmVudCIpLmludCgpLHRoaXMua2V5KCJwcml2YXRlRXhwb25lbnQiKS5pbnQoKSx0aGlzLmtleSgicHJpbWUxIikuaW50KCksdGhpcy5rZXkoInByaW1lMiIpLmludCgpLHRoaXMua2V5KCJleHBvbmVudDEiKS5pbnQoKSx0aGlzLmtleSgiZXhwb25lbnQyIikuaW50KCksdGhpcy5rZXkoImNvZWZmaWNpZW50IikuaW50KCkpfSk7YXNuMSQzLlJTQVByaXZhdGVLZXk9UlNBUHJpdmF0ZUtleTt2YXIgUlNBUHVibGljS2V5PWFzbjEkMS5kZWZpbmUoIlJTQVB1YmxpY0tleSIsZnVuY3Rpb24oKXt0aGlzLnNlcSgpLm9iaih0aGlzLmtleSgibW9kdWx1cyIpLmludCgpLHRoaXMua2V5KCJwdWJsaWNFeHBvbmVudCIpLmludCgpKX0pO2FzbjEkMy5SU0FQdWJsaWNLZXk9UlNBUHVibGljS2V5O3ZhciBBbGdvcml0aG1JZGVudGlmaWVyPWFzbjEkMS5kZWZpbmUoIkFsZ29yaXRobUlkZW50aWZpZXIiLGZ1bmN0aW9uKCl7dGhpcy5zZXEoKS5vYmoodGhpcy5rZXkoImFsZ29yaXRobSIpLm9iamlkKCksdGhpcy5rZXkoIm5vbmUiKS5udWxsXygpLm9wdGlvbmFsKCksdGhpcy5rZXkoImN1cnZlIikub2JqaWQoKS5vcHRpb25hbCgpLHRoaXMua2V5KCJwYXJhbXMiKS5zZXEoKS5vYmoodGhpcy5rZXkoInAiKS5pbnQoKSx0aGlzLmtleSgicSIpLmludCgpLHRoaXMua2V5KCJnIikuaW50KCkpLm9wdGlvbmFsKCkpfSksUHVibGljS2V5PWFzbjEkMS5kZWZpbmUoIlN1YmplY3RQdWJsaWNLZXlJbmZvIixmdW5jdGlvbigpe3RoaXMuc2VxKCkub2JqKHRoaXMua2V5KCJhbGdvcml0aG0iKS51c2UoQWxnb3JpdGhtSWRlbnRpZmllciksdGhpcy5rZXkoInN1YmplY3RQdWJsaWNLZXkiKS5iaXRzdHIoKSl9KTthc24xJDMuUHVibGljS2V5PVB1YmxpY0tleTt2YXIgUHJpdmF0ZUtleUluZm89YXNuMSQxLmRlZmluZSgiUHJpdmF0ZUtleUluZm8iLGZ1bmN0aW9uKCl7dGhpcy5zZXEoKS5vYmoodGhpcy5rZXkoInZlcnNpb24iKS5pbnQoKSx0aGlzLmtleSgiYWxnb3JpdGhtIikudXNlKEFsZ29yaXRobUlkZW50aWZpZXIpLHRoaXMua2V5KCJzdWJqZWN0UHJpdmF0ZUtleSIpLm9jdHN0cigpKX0pO2FzbjEkMy5Qcml2YXRlS2V5PVByaXZhdGVLZXlJbmZvO3ZhciBFbmNyeXB0ZWRQcml2YXRlS2V5SW5mbz1hc24xJDEuZGVmaW5lKCJFbmNyeXB0ZWRQcml2YXRlS2V5SW5mbyIsZnVuY3Rpb24oKXt0aGlzLnNlcSgpLm9iaih0aGlzLmtleSgiYWxnb3JpdGhtIikuc2VxKCkub2JqKHRoaXMua2V5KCJpZCIpLm9iamlkKCksdGhpcy5rZXkoImRlY3J5cHQiKS5zZXEoKS5vYmoodGhpcy5rZXkoImtkZSIpLnNlcSgpLm9iaih0aGlzLmtleSgiaWQiKS5vYmppZCgpLHRoaXMua2V5KCJrZGVwYXJhbXMiKS5zZXEoKS5vYmoodGhpcy5rZXkoInNhbHQiKS5vY3RzdHIoKSx0aGlzLmtleSgiaXRlcnMiKS5pbnQoKSkpLHRoaXMua2V5KCJjaXBoZXIiKS5zZXEoKS5vYmoodGhpcy5rZXkoImFsZ28iKS5vYmppZCgpLHRoaXMua2V5KCJpdiIpLm9jdHN0cigpKSkpLHRoaXMua2V5KCJzdWJqZWN0UHJpdmF0ZUtleSIpLm9jdHN0cigpKX0pO2FzbjEkMy5FbmNyeXB0ZWRQcml2YXRlS2V5PUVuY3J5cHRlZFByaXZhdGVLZXlJbmZvO3ZhciBEU0FQcml2YXRlS2V5PWFzbjEkMS5kZWZpbmUoIkRTQVByaXZhdGVLZXkiLGZ1bmN0aW9uKCl7dGhpcy5zZXEoKS5vYmoodGhpcy5rZXkoInZlcnNpb24iKS5pbnQoKSx0aGlzLmtleSgicCIpLmludCgpLHRoaXMua2V5KCJxIikuaW50KCksdGhpcy5rZXkoImciKS5pbnQoKSx0aGlzLmtleSgicHViX2tleSIpLmludCgpLHRoaXMua2V5KCJwcml2X2tleSIpLmludCgpKX0pO2FzbjEkMy5EU0FQcml2YXRlS2V5PURTQVByaXZhdGVLZXksYXNuMSQzLkRTQXBhcmFtPWFzbjEkMS5kZWZpbmUoIkRTQXBhcmFtIixmdW5jdGlvbigpe3RoaXMuaW50KCl9KTt2YXIgRUNQYXJhbWV0ZXJzPWFzbjEkMS5kZWZpbmUoIkVDUGFyYW1ldGVycyIsZnVuY3Rpb24oKXt0aGlzLmNob2ljZSh7bmFtZWRDdXJ2ZTp0aGlzLm9iamlkKCl9KX0pLEVDUHJpdmF0ZUtleT1hc24xJDEuZGVmaW5lKCJFQ1ByaXZhdGVLZXkiLGZ1bmN0aW9uKCl7dGhpcy5zZXEoKS5vYmoodGhpcy5rZXkoInZlcnNpb24iKS5pbnQoKSx0aGlzLmtleSgicHJpdmF0ZUtleSIpLm9jdHN0cigpLHRoaXMua2V5KCJwYXJhbWV0ZXJzIikub3B0aW9uYWwoKS5leHBsaWNpdCgwKS51c2UoRUNQYXJhbWV0ZXJzKSx0aGlzLmtleSgicHVibGljS2V5Iikub3B0aW9uYWwoKS5leHBsaWNpdCgxKS5iaXRzdHIoKSl9KTthc24xJDMuRUNQcml2YXRlS2V5PUVDUHJpdmF0ZUtleSxhc24xJDMuc2lnbmF0dXJlPWFzbjEkMS5kZWZpbmUoInNpZ25hdHVyZSIsZnVuY3Rpb24oKXt0aGlzLnNlcSgpLm9iaih0aGlzLmtleSgiciIpLmludCgpLHRoaXMua2V5KCJzIikuaW50KCkpfSk7dmFyIHJlcXVpcmUkJDE9eyIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4xIjoiYWVzLTEyOC1lY2IiLCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4yIjoiYWVzLTEyOC1jYmMiLCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4zIjoiYWVzLTEyOC1vZmIiLCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS40IjoiYWVzLTEyOC1jZmIiLCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4yMSI6ImFlcy0xOTItZWNiIiwiMi4xNi44NDAuMS4xMDEuMy40LjEuMjIiOiJhZXMtMTkyLWNiYyIsIjIuMTYuODQwLjEuMTAxLjMuNC4xLjIzIjoiYWVzLTE5Mi1vZmIiLCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4yNCI6ImFlcy0xOTItY2ZiIiwiMi4xNi44NDAuMS4xMDEuMy40LjEuNDEiOiJhZXMtMjU2LWVjYiIsIjIuMTYuODQwLjEuMTAxLjMuNC4xLjQyIjoiYWVzLTI1Ni1jYmMiLCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS40MyI6ImFlcy0yNTYtb2ZiIiwiMi4xNi44NDAuMS4xMDEuMy40LjEuNDQiOiJhZXMtMjU2LWNmYiJ9LGZpbmRQcm9jPS9Qcm9jLVR5cGU6IDQsRU5DUllQVEVEW1xuXHJdK0RFSy1JbmZvOiBBRVMtKCg/OjEyOCl8KD86MTkyKXwoPzoyNTYpKS1DQkMsKFswLTlBLUhdKylbXG5ccl0rKFswLTlBLXpcblxyKy89XSspW1xuXHJdKy9tLHN0YXJ0UmVnZXg9L14tLS0tLUJFR0lOICgoPzouKj8gS0VZKXxDRVJUSUZJQ0FURSktLS0tLS9tLGZ1bGxSZWdleD0vXi0tLS0tQkVHSU4gKCg/Oi4qPyBLRVkpfENFUlRJRklDQVRFKS0tLS0tKFswLTlBLXpcblxyKy89XSspLS0tLS1FTkQgXDEtLS0tLSQvbSxldnA9ZXZwX2J5dGVzdG9rZXksY2lwaGVycyQxPWJyb3dzZXIkNSxCdWZmZXIkNj1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixmaXhQcm9jJDE9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnRvU3RyaW5nKCksYT1uLm1hdGNoKGZpbmRQcm9jKSx1O2lmKGEpe3ZhciBoPSJhZXMiK2FbMV0sZD1CdWZmZXIkNi5mcm9tKGFbMl0sImhleCIpLHc9QnVmZmVyJDYuZnJvbShhWzNdLnJlcGxhY2UoL1tcclxuXS9nLCIiKSwiYmFzZTY0IiksXz1ldnAodCxkLnNsaWNlKDAsOCkscGFyc2VJbnQoYVsxXSwxMCkpLmtleSxiPVtdLE09Y2lwaGVycyQxLmNyZWF0ZURlY2lwaGVyaXYoaCxfLGQpO2IucHVzaChNLnVwZGF0ZSh3KSksYi5wdXNoKE0uZmluYWwoKSksdT1CdWZmZXIkNi5jb25jYXQoYil9ZWxzZXt2YXIgbz1uLm1hdGNoKGZ1bGxSZWdleCk7dT1CdWZmZXIkNi5mcm9tKG9bMl0ucmVwbGFjZSgvW1xyXG5dL2csIiIpLCJiYXNlNjQiKX12YXIgTz1uLm1hdGNoKHN0YXJ0UmVnZXgpWzFdO3JldHVybnt0YWc6TyxkYXRhOnV9fSxhc24xPWFzbjEkMyxhZXNpZD1yZXF1aXJlJCQxLGZpeFByb2M9Zml4UHJvYyQxLGNpcGhlcnM9YnJvd3NlciQ1LGNvbXBhdD1icm93c2VyJDcsQnVmZmVyJDU9c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXI7ZnVuY3Rpb24gZGVjcnlwdChlLHQpe3ZhciBuPWUuYWxnb3JpdGhtLmRlY3J5cHQua2RlLmtkZXBhcmFtcy5zYWx0LGE9cGFyc2VJbnQoZS5hbGdvcml0aG0uZGVjcnlwdC5rZGUua2RlcGFyYW1zLml0ZXJzLnRvU3RyaW5nKCksMTApLHU9YWVzaWRbZS5hbGdvcml0aG0uZGVjcnlwdC5jaXBoZXIuYWxnby5qb2luKCIuIildLG89ZS5hbGdvcml0aG0uZGVjcnlwdC5jaXBoZXIuaXYsaD1lLnN1YmplY3RQcml2YXRlS2V5LGQ9cGFyc2VJbnQodS5zcGxpdCgiLSIpWzFdLDEwKS84LHc9Y29tcGF0LnBia2RmMlN5bmModCxuLGEsZCwic2hhMSIpLF89Y2lwaGVycy5jcmVhdGVEZWNpcGhlcml2KHUsdyxvKSxiPVtdO3JldHVybiBiLnB1c2goXy51cGRhdGUoaCkpLGIucHVzaChfLmZpbmFsKCkpLEJ1ZmZlciQ1LmNvbmNhdChiKX1mdW5jdGlvbiBwYXJzZUtleXMkMihlKXt2YXIgdDt0eXBlb2YgZT09Im9iamVjdCImJiFCdWZmZXIkNS5pc0J1ZmZlcihlKSYmKHQ9ZS5wYXNzcGhyYXNlLGU9ZS5rZXkpLHR5cGVvZiBlPT0ic3RyaW5nIiYmKGU9QnVmZmVyJDUuZnJvbShlKSk7dmFyIG49Zml4UHJvYyhlLHQpLGE9bi50YWcsdT1uLmRhdGEsbyxoO3N3aXRjaChhKXtjYXNlIkNFUlRJRklDQVRFIjpoPWFzbjEuY2VydGlmaWNhdGUuZGVjb2RlKHUsImRlciIpLnRic0NlcnRpZmljYXRlLnN1YmplY3RQdWJsaWNLZXlJbmZvO2Nhc2UiUFVCTElDIEtFWSI6c3dpdGNoKGh8fChoPWFzbjEuUHVibGljS2V5LmRlY29kZSh1LCJkZXIiKSksbz1oLmFsZ29yaXRobS5hbGdvcml0aG0uam9pbigiLiIpLG8pe2Nhc2UiMS4yLjg0MC4xMTM1NDkuMS4xLjEiOnJldHVybiBhc24xLlJTQVB1YmxpY0tleS5kZWNvZGUoaC5zdWJqZWN0UHVibGljS2V5LmRhdGEsImRlciIpO2Nhc2UiMS4yLjg0MC4xMDA0NS4yLjEiOnJldHVybiBoLnN1YmplY3RQcml2YXRlS2V5PWguc3ViamVjdFB1YmxpY0tleSx7dHlwZToiZWMiLGRhdGE6aH07Y2FzZSIxLjIuODQwLjEwMDQwLjQuMSI6cmV0dXJuIGguYWxnb3JpdGhtLnBhcmFtcy5wdWJfa2V5PWFzbjEuRFNBcGFyYW0uZGVjb2RlKGguc3ViamVjdFB1YmxpY0tleS5kYXRhLCJkZXIiKSx7dHlwZToiZHNhIixkYXRhOmguYWxnb3JpdGhtLnBhcmFtc307ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInVua25vd24ga2V5IGlkICIrbyl9Y2FzZSJFTkNSWVBURUQgUFJJVkFURSBLRVkiOnU9YXNuMS5FbmNyeXB0ZWRQcml2YXRlS2V5LmRlY29kZSh1LCJkZXIiKSx1PWRlY3J5cHQodSx0KTtjYXNlIlBSSVZBVEUgS0VZIjpzd2l0Y2goaD1hc24xLlByaXZhdGVLZXkuZGVjb2RlKHUsImRlciIpLG89aC5hbGdvcml0aG0uYWxnb3JpdGhtLmpvaW4oIi4iKSxvKXtjYXNlIjEuMi44NDAuMTEzNTQ5LjEuMS4xIjpyZXR1cm4gYXNuMS5SU0FQcml2YXRlS2V5LmRlY29kZShoLnN1YmplY3RQcml2YXRlS2V5LCJkZXIiKTtjYXNlIjEuMi44NDAuMTAwNDUuMi4xIjpyZXR1cm57Y3VydmU6aC5hbGdvcml0aG0uY3VydmUscHJpdmF0ZUtleTphc24xLkVDUHJpdmF0ZUtleS5kZWNvZGUoaC5zdWJqZWN0UHJpdmF0ZUtleSwiZGVyIikucHJpdmF0ZUtleX07Y2FzZSIxLjIuODQwLjEwMDQwLjQuMSI6cmV0dXJuIGguYWxnb3JpdGhtLnBhcmFtcy5wcml2X2tleT1hc24xLkRTQXBhcmFtLmRlY29kZShoLnN1YmplY3RQcml2YXRlS2V5LCJkZXIiKSx7dHlwZToiZHNhIixwYXJhbXM6aC5hbGdvcml0aG0ucGFyYW1zfTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigidW5rbm93biBrZXkgaWQgIitvKX1jYXNlIlJTQSBQVUJMSUMgS0VZIjpyZXR1cm4gYXNuMS5SU0FQdWJsaWNLZXkuZGVjb2RlKHUsImRlciIpO2Nhc2UiUlNBIFBSSVZBVEUgS0VZIjpyZXR1cm4gYXNuMS5SU0FQcml2YXRlS2V5LmRlY29kZSh1LCJkZXIiKTtjYXNlIkRTQSBQUklWQVRFIEtFWSI6cmV0dXJue3R5cGU6ImRzYSIscGFyYW1zOmFzbjEuRFNBUHJpdmF0ZUtleS5kZWNvZGUodSwiZGVyIil9O2Nhc2UiRUMgUFJJVkFURSBLRVkiOnJldHVybiB1PWFzbjEuRUNQcml2YXRlS2V5LmRlY29kZSh1LCJkZXIiKSx7Y3VydmU6dS5wYXJhbWV0ZXJzLnZhbHVlLHByaXZhdGVLZXk6dS5wcml2YXRlS2V5fTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigidW5rbm93biBrZXkgdHlwZSAiK2EpfX1wYXJzZUtleXMkMi5zaWduYXR1cmU9YXNuMS5zaWduYXR1cmU7dmFyIHBhcnNlQXNuMT1wYXJzZUtleXMkMixyZXF1aXJlJCQ0PXsiMS4zLjEzMi4wLjEwIjoic2VjcDI1NmsxIiwiMS4zLjEzMi4wLjMzIjoicDIyNCIsIjEuMi44NDAuMTAwNDUuMy4xLjEiOiJwMTkyIiwiMS4yLjg0MC4xMDA0NS4zLjEuNyI6InAyNTYiLCIxLjMuMTMyLjAuMzQiOiJwMzg0IiwiMS4zLjEzMi4wLjM1IjoicDUyMSJ9LGhhc1JlcXVpcmVkU2lnbjtmdW5jdGlvbiByZXF1aXJlU2lnbigpe2lmKGhhc1JlcXVpcmVkU2lnbilyZXR1cm4gc2lnbi5leHBvcnRzO2hhc1JlcXVpcmVkU2lnbj0xO3ZhciBlPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLHQ9YnJvd3NlciQ4LG49YnJvd3NlcmlmeVJzYSxhPXJlcXVpcmVFbGxpcHRpYygpLmVjLHU9Ym5FeHBvcnRzLG89cGFyc2VBc24xLGg9cmVxdWlyZSQkNCxkPTE7ZnVuY3Rpb24gdyhILFYsYWUsaWUsUSl7dmFyIHJlPW8oVik7aWYocmUuY3VydmUpe2lmKGllIT09ImVjZHNhIiYmaWUhPT0iZWNkc2EvcnNhIil0aHJvdyBuZXcgRXJyb3IoIndyb25nIHByaXZhdGUga2V5IHR5cGUiKTtyZXR1cm4gXyhILHJlKX1lbHNlIGlmKHJlLnR5cGU9PT0iZHNhIil7aWYoaWUhPT0iZHNhIil0aHJvdyBuZXcgRXJyb3IoIndyb25nIHByaXZhdGUga2V5IHR5cGUiKTtyZXR1cm4gYihILHJlLGFlKX1pZihpZSE9PSJyc2EiJiZpZSE9PSJlY2RzYS9yc2EiKXRocm93IG5ldyBFcnJvcigid3JvbmcgcHJpdmF0ZSBrZXkgdHlwZSIpO2lmKFYucGFkZGluZyE9PXZvaWQgMCYmVi5wYWRkaW5nIT09ZCl0aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgb3IgdW5zdXBwb3J0ZWQgcGFkZGluZyBtb2RlIik7SD1lLmNvbmNhdChbUSxIXSk7Zm9yKHZhciBjZT1yZS5tb2R1bHVzLmJ5dGVMZW5ndGgoKSxsZT1bMCwxXTtILmxlbmd0aCtsZS5sZW5ndGgrMTxjZTspbGUucHVzaCgyNTUpO2xlLnB1c2goMCk7Zm9yKHZhciBvZT0tMTsrK29lPEgubGVuZ3RoOylsZS5wdXNoKEhbb2VdKTt2YXIgeWU9bihsZSxyZSk7cmV0dXJuIHllfWZ1bmN0aW9uIF8oSCxWKXt2YXIgYWU9aFtWLmN1cnZlLmpvaW4oIi4iKV07aWYoIWFlKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjdXJ2ZSAiK1YuY3VydmUuam9pbigiLiIpKTt2YXIgaWU9bmV3IGEoYWUpLFE9aWUua2V5RnJvbVByaXZhdGUoVi5wcml2YXRlS2V5KSxyZT1RLnNpZ24oSCk7cmV0dXJuIGUuZnJvbShyZS50b0RFUigpKX1mdW5jdGlvbiBiKEgsVixhZSl7Zm9yKHZhciBpZT1WLnBhcmFtcy5wcml2X2tleSxRPVYucGFyYW1zLnAscmU9Vi5wYXJhbXMucSxjZT1WLnBhcmFtcy5nLGxlPW5ldyB1KDApLG9lLHllPVQoSCxyZSkubW9kKHJlKSxYPSExLCQ9TyhpZSxyZSxILGFlKTtYPT09ITE7KW9lPUwocmUsJCxhZSksbGU9eihjZSxvZSxRLHJlKSxYPW9lLmludm0ocmUpLmltdWwoeWUuYWRkKGllLm11bChsZSkpKS5tb2QocmUpLFguY21wbigwKT09PTAmJihYPSExLGxlPW5ldyB1KDApKTtyZXR1cm4gTShsZSxYKX1mdW5jdGlvbiBNKEgsVil7SD1ILnRvQXJyYXkoKSxWPVYudG9BcnJheSgpLEhbMF0mMTI4JiYoSD1bMF0uY29uY2F0KEgpKSxWWzBdJjEyOCYmKFY9WzBdLmNvbmNhdChWKSk7dmFyIGFlPUgubGVuZ3RoK1YubGVuZ3RoKzQsaWU9WzQ4LGFlLDIsSC5sZW5ndGhdO3JldHVybiBpZT1pZS5jb25jYXQoSCxbMixWLmxlbmd0aF0sViksZS5mcm9tKGllKX1mdW5jdGlvbiBPKEgsVixhZSxpZSl7aWYoSD1lLmZyb20oSC50b0FycmF5KCkpLEgubGVuZ3RoPFYuYnl0ZUxlbmd0aCgpKXt2YXIgUT1lLmFsbG9jKFYuYnl0ZUxlbmd0aCgpLUgubGVuZ3RoKTtIPWUuY29uY2F0KFtRLEhdKX12YXIgcmU9YWUubGVuZ3RoLGNlPVAoYWUsViksbGU9ZS5hbGxvYyhyZSk7bGUuZmlsbCgxKTt2YXIgb2U9ZS5hbGxvYyhyZSk7cmV0dXJuIG9lPXQoaWUsb2UpLnVwZGF0ZShsZSkudXBkYXRlKGUuZnJvbShbMF0pKS51cGRhdGUoSCkudXBkYXRlKGNlKS5kaWdlc3QoKSxsZT10KGllLG9lKS51cGRhdGUobGUpLmRpZ2VzdCgpLG9lPXQoaWUsb2UpLnVwZGF0ZShsZSkudXBkYXRlKGUuZnJvbShbMV0pKS51cGRhdGUoSCkudXBkYXRlKGNlKS5kaWdlc3QoKSxsZT10KGllLG9lKS51cGRhdGUobGUpLmRpZ2VzdCgpLHtrOm9lLHY6bGV9fWZ1bmN0aW9uIFQoSCxWKXt2YXIgYWU9bmV3IHUoSCksaWU9KEgubGVuZ3RoPDwzKS1WLmJpdExlbmd0aCgpO3JldHVybiBpZT4wJiZhZS5pc2hybihpZSksYWV9ZnVuY3Rpb24gUChILFYpe0g9VChILFYpLEg9SC5tb2QoVik7dmFyIGFlPWUuZnJvbShILnRvQXJyYXkoKSk7aWYoYWUubGVuZ3RoPFYuYnl0ZUxlbmd0aCgpKXt2YXIgaWU9ZS5hbGxvYyhWLmJ5dGVMZW5ndGgoKS1hZS5sZW5ndGgpO2FlPWUuY29uY2F0KFtpZSxhZV0pfXJldHVybiBhZX1mdW5jdGlvbiBMKEgsVixhZSl7dmFyIGllLFE7ZG97Zm9yKGllPWUuYWxsb2MoMCk7aWUubGVuZ3RoKjg8SC5iaXRMZW5ndGgoKTspVi52PXQoYWUsVi5rKS51cGRhdGUoVi52KS5kaWdlc3QoKSxpZT1lLmNvbmNhdChbaWUsVi52XSk7UT1UKGllLEgpLFYuaz10KGFlLFYuaykudXBkYXRlKFYudikudXBkYXRlKGUuZnJvbShbMF0pKS5kaWdlc3QoKSxWLnY9dChhZSxWLmspLnVwZGF0ZShWLnYpLmRpZ2VzdCgpfXdoaWxlKFEuY21wKEgpIT09LTEpO3JldHVybiBRfWZ1bmN0aW9uIHooSCxWLGFlLGllKXtyZXR1cm4gSC50b1JlZCh1Lm1vbnQoYWUpKS5yZWRQb3coVikuZnJvbVJlZCgpLm1vZChpZSl9cmV0dXJuIHNpZ24uZXhwb3J0cz13LHNpZ24uZXhwb3J0cy5nZXRLZXk9TyxzaWduLmV4cG9ydHMubWFrZUtleT1MLHNpZ24uZXhwb3J0c312YXIgdmVyaWZ5XzEsaGFzUmVxdWlyZWRWZXJpZnk7ZnVuY3Rpb24gcmVxdWlyZVZlcmlmeSgpe2lmKGhhc1JlcXVpcmVkVmVyaWZ5KXJldHVybiB2ZXJpZnlfMTtoYXNSZXF1aXJlZFZlcmlmeT0xO3ZhciBlPXNhZmVCdWZmZXJFeHBvcnRzJDEuQnVmZmVyLHQ9Ym5FeHBvcnRzLG49cmVxdWlyZUVsbGlwdGljKCkuZWMsYT1wYXJzZUFzbjEsdT1yZXF1aXJlJCQ0O2Z1bmN0aW9uIG8oXyxiLE0sTyxUKXt2YXIgUD1hKE0pO2lmKFAudHlwZT09PSJlYyIpe2lmKE8hPT0iZWNkc2EiJiZPIT09ImVjZHNhL3JzYSIpdGhyb3cgbmV3IEVycm9yKCJ3cm9uZyBwdWJsaWMga2V5IHR5cGUiKTtyZXR1cm4gaChfLGIsUCl9ZWxzZSBpZihQLnR5cGU9PT0iZHNhIil7aWYoTyE9PSJkc2EiKXRocm93IG5ldyBFcnJvcigid3JvbmcgcHVibGljIGtleSB0eXBlIik7cmV0dXJuIGQoXyxiLFApfWlmKE8hPT0icnNhIiYmTyE9PSJlY2RzYS9yc2EiKXRocm93IG5ldyBFcnJvcigid3JvbmcgcHVibGljIGtleSB0eXBlIik7Yj1lLmNvbmNhdChbVCxiXSk7Zm9yKHZhciBMPVAubW9kdWx1cy5ieXRlTGVuZ3RoKCksej1bMV0sSD0wO2IubGVuZ3RoK3oubGVuZ3RoKzI8TDspei5wdXNoKDI1NSksSCs9MTt6LnB1c2goMCk7Zm9yKHZhciBWPS0xOysrVjxiLmxlbmd0aDspei5wdXNoKGJbVl0pO3o9ZS5mcm9tKHopO3ZhciBhZT10Lm1vbnQoUC5tb2R1bHVzKTtfPW5ldyB0KF8pLnRvUmVkKGFlKSxfPV8ucmVkUG93KG5ldyB0KFAucHVibGljRXhwb25lbnQpKSxfPWUuZnJvbShfLmZyb21SZWQoKS50b0FycmF5KCkpO3ZhciBpZT1IPDg/MTowO2ZvcihMPU1hdGgubWluKF8ubGVuZ3RoLHoubGVuZ3RoKSxfLmxlbmd0aCE9PXoubGVuZ3RoJiYoaWU9MSksVj0tMTsrK1Y8TDspaWV8PV9bVl1eeltWXTtyZXR1cm4gaWU9PT0wfWZ1bmN0aW9uIGgoXyxiLE0pe3ZhciBPPXVbTS5kYXRhLmFsZ29yaXRobS5jdXJ2ZS5qb2luKCIuIildO2lmKCFPKXRocm93IG5ldyBFcnJvcigidW5rbm93biBjdXJ2ZSAiK00uZGF0YS5hbGdvcml0aG0uY3VydmUuam9pbigiLiIpKTt2YXIgVD1uZXcgbihPKSxQPU0uZGF0YS5zdWJqZWN0UHJpdmF0ZUtleS5kYXRhO3JldHVybiBULnZlcmlmeShiLF8sUCl9ZnVuY3Rpb24gZChfLGIsTSl7dmFyIE89TS5kYXRhLnAsVD1NLmRhdGEucSxQPU0uZGF0YS5nLEw9TS5kYXRhLnB1Yl9rZXksej1hLnNpZ25hdHVyZS5kZWNvZGUoXywiZGVyIiksSD16LnMsVj16LnI7dyhILFQpLHcoVixUKTt2YXIgYWU9dC5tb250KE8pLGllPUguaW52bShUKSxRPVAudG9SZWQoYWUpLnJlZFBvdyhuZXcgdChiKS5tdWwoaWUpLm1vZChUKSkuZnJvbVJlZCgpLm11bChMLnRvUmVkKGFlKS5yZWRQb3coVi5tdWwoaWUpLm1vZChUKSkuZnJvbVJlZCgpKS5tb2QoTykubW9kKFQpO3JldHVybiBRLmNtcChWKT09PTB9ZnVuY3Rpb24gdyhfLGIpe2lmKF8uY21wbigwKTw9MCl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgc2lnIik7aWYoXy5jbXAoYik+PTApdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNpZyIpfXJldHVybiB2ZXJpZnlfMT1vLHZlcmlmeV8xfXZhciBicm93c2VyJDMsaGFzUmVxdWlyZWRCcm93c2VyJDE7ZnVuY3Rpb24gcmVxdWlyZUJyb3dzZXIkMSgpe2lmKGhhc1JlcXVpcmVkQnJvd3NlciQxKXJldHVybiBicm93c2VyJDM7aGFzUmVxdWlyZWRCcm93c2VyJDE9MTt2YXIgZT1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcix0PWJyb3dzZXIkOSxuPXJlYWRhYmxlQnJvd3NlckV4cG9ydHMsYT1pbmhlcml0c19icm93c2VyRXhwb3J0cyx1PXJlcXVpcmVTaWduKCksbz1yZXF1aXJlVmVyaWZ5KCksaD1yZXF1aXJlJCQ2O09iamVjdC5rZXlzKGgpLmZvckVhY2goZnVuY3Rpb24oTSl7aFtNXS5pZD1lLmZyb20oaFtNXS5pZCwiaGV4IiksaFtNLnRvTG93ZXJDYXNlKCldPWhbTV19KTtmdW5jdGlvbiBkKE0pe24uV3JpdGFibGUuY2FsbCh0aGlzKTt2YXIgTz1oW01dO2lmKCFPKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBtZXNzYWdlIGRpZ2VzdCIpO3RoaXMuX2hhc2hUeXBlPU8uaGFzaCx0aGlzLl9oYXNoPXQoTy5oYXNoKSx0aGlzLl90YWc9Ty5pZCx0aGlzLl9zaWduVHlwZT1PLnNpZ259YShkLG4uV3JpdGFibGUpLGQucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihPLFQsUCl7dGhpcy5faGFzaC51cGRhdGUoTyksUCgpfSxkLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oTyxUKXtyZXR1cm4gdGhpcy5faGFzaC51cGRhdGUodHlwZW9mIE89PSJzdHJpbmciP2UuZnJvbShPLFQpOk8pLHRoaXN9LGQucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24oTyxUKXt0aGlzLmVuZCgpO3ZhciBQPXRoaXMuX2hhc2guZGlnZXN0KCksTD11KFAsTyx0aGlzLl9oYXNoVHlwZSx0aGlzLl9zaWduVHlwZSx0aGlzLl90YWcpO3JldHVybiBUP0wudG9TdHJpbmcoVCk6TH07ZnVuY3Rpb24gdyhNKXtuLldyaXRhYmxlLmNhbGwodGhpcyk7dmFyIE89aFtNXTtpZighTyl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbWVzc2FnZSBkaWdlc3QiKTt0aGlzLl9oYXNoPXQoTy5oYXNoKSx0aGlzLl90YWc9Ty5pZCx0aGlzLl9zaWduVHlwZT1PLnNpZ259YSh3LG4uV3JpdGFibGUpLHcucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihPLFQsUCl7dGhpcy5faGFzaC51cGRhdGUoTyksUCgpfSx3LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oTyxUKXtyZXR1cm4gdGhpcy5faGFzaC51cGRhdGUodHlwZW9mIE89PSJzdHJpbmciP2UuZnJvbShPLFQpOk8pLHRoaXN9LHcucHJvdG90eXBlLnZlcmlmeT1mdW5jdGlvbihPLFQsUCl7dmFyIEw9dHlwZW9mIFQ9PSJzdHJpbmciP2UuZnJvbShULFApOlQ7dGhpcy5lbmQoKTt2YXIgej10aGlzLl9oYXNoLmRpZ2VzdCgpO3JldHVybiBvKEwseixPLHRoaXMuX3NpZ25UeXBlLHRoaXMuX3RhZyl9O2Z1bmN0aW9uIF8oTSl7cmV0dXJuIG5ldyBkKE0pfWZ1bmN0aW9uIGIoTSl7cmV0dXJuIG5ldyB3KE0pfXJldHVybiBicm93c2VyJDM9e1NpZ246XyxWZXJpZnk6YixjcmVhdGVTaWduOl8sY3JlYXRlVmVyaWZ5OmJ9LGJyb3dzZXIkM312YXIgYnJvd3NlciQyLGhhc1JlcXVpcmVkQnJvd3NlcjtmdW5jdGlvbiByZXF1aXJlQnJvd3Nlcigpe2lmKGhhc1JlcXVpcmVkQnJvd3NlcilyZXR1cm4gYnJvd3NlciQyO2hhc1JlcXVpcmVkQnJvd3Nlcj0xO3ZhciBlPXJlcXVpcmVFbGxpcHRpYygpLHQ9Ym5FeHBvcnRzJDI7YnJvd3NlciQyPWZ1bmN0aW9uKGgpe3JldHVybiBuZXcgYShoKX07dmFyIG49e3NlY3AyNTZrMTp7bmFtZToic2VjcDI1NmsxIixieXRlTGVuZ3RoOjMyfSxzZWNwMjI0cjE6e25hbWU6InAyMjQiLGJ5dGVMZW5ndGg6Mjh9LHByaW1lMjU2djE6e25hbWU6InAyNTYiLGJ5dGVMZW5ndGg6MzJ9LHByaW1lMTkydjE6e25hbWU6InAxOTIiLGJ5dGVMZW5ndGg6MjR9LGVkMjU1MTk6e25hbWU6ImVkMjU1MTkiLGJ5dGVMZW5ndGg6MzJ9LHNlY3AzODRyMTp7bmFtZToicDM4NCIsYnl0ZUxlbmd0aDo0OH0sc2VjcDUyMXIxOntuYW1lOiJwNTIxIixieXRlTGVuZ3RoOjY2fX07bi5wMjI0PW4uc2VjcDIyNHIxLG4ucDI1Nj1uLnNlY3AyNTZyMT1uLnByaW1lMjU2djEsbi5wMTkyPW4uc2VjcDE5MnIxPW4ucHJpbWUxOTJ2MSxuLnAzODQ9bi5zZWNwMzg0cjEsbi5wNTIxPW4uc2VjcDUyMXIxO2Z1bmN0aW9uIGEobyl7dGhpcy5jdXJ2ZVR5cGU9bltvXSx0aGlzLmN1cnZlVHlwZXx8KHRoaXMuY3VydmVUeXBlPXtuYW1lOm99KSx0aGlzLmN1cnZlPW5ldyBlLmVjKHRoaXMuY3VydmVUeXBlLm5hbWUpLHRoaXMua2V5cz12b2lkIDB9YS5wcm90b3R5cGUuZ2VuZXJhdGVLZXlzPWZ1bmN0aW9uKG8saCl7cmV0dXJuIHRoaXMua2V5cz10aGlzLmN1cnZlLmdlbktleVBhaXIoKSx0aGlzLmdldFB1YmxpY0tleShvLGgpfSxhLnByb3RvdHlwZS5jb21wdXRlU2VjcmV0PWZ1bmN0aW9uKG8saCxkKXtoPWh8fCJ1dGY4IixidWZmZXIkMi5CdWZmZXIuaXNCdWZmZXIobyl8fChvPW5ldyBidWZmZXIkMi5CdWZmZXIobyxoKSk7dmFyIHc9dGhpcy5jdXJ2ZS5rZXlGcm9tUHVibGljKG8pLmdldFB1YmxpYygpLF89dy5tdWwodGhpcy5rZXlzLmdldFByaXZhdGUoKSkuZ2V0WCgpO3JldHVybiB1KF8sZCx0aGlzLmN1cnZlVHlwZS5ieXRlTGVuZ3RoKX0sYS5wcm90b3R5cGUuZ2V0UHVibGljS2V5PWZ1bmN0aW9uKG8saCl7dmFyIGQ9dGhpcy5rZXlzLmdldFB1YmxpYyhoPT09ImNvbXByZXNzZWQiLCEwKTtyZXR1cm4gaD09PSJoeWJyaWQiJiYoZFtkLmxlbmd0aC0xXSUyP2RbMF09NzpkWzBdPTYpLHUoZCxvKX0sYS5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleT1mdW5jdGlvbihvKXtyZXR1cm4gdSh0aGlzLmtleXMuZ2V0UHJpdmF0ZSgpLG8pfSxhLnByb3RvdHlwZS5zZXRQdWJsaWNLZXk9ZnVuY3Rpb24obyxoKXtyZXR1cm4gaD1ofHwidXRmOCIsYnVmZmVyJDIuQnVmZmVyLmlzQnVmZmVyKG8pfHwobz1uZXcgYnVmZmVyJDIuQnVmZmVyKG8saCkpLHRoaXMua2V5cy5faW1wb3J0UHVibGljKG8pLHRoaXN9LGEucHJvdG90eXBlLnNldFByaXZhdGVLZXk9ZnVuY3Rpb24obyxoKXtoPWh8fCJ1dGY4IixidWZmZXIkMi5CdWZmZXIuaXNCdWZmZXIobyl8fChvPW5ldyBidWZmZXIkMi5CdWZmZXIobyxoKSk7dmFyIGQ9bmV3IHQobyk7cmV0dXJuIGQ9ZC50b1N0cmluZygxNiksdGhpcy5rZXlzPXRoaXMuY3VydmUuZ2VuS2V5UGFpcigpLHRoaXMua2V5cy5faW1wb3J0UHJpdmF0ZShkKSx0aGlzfTtmdW5jdGlvbiB1KG8saCxkKXtBcnJheS5pc0FycmF5KG8pfHwobz1vLnRvQXJyYXkoKSk7dmFyIHc9bmV3IGJ1ZmZlciQyLkJ1ZmZlcihvKTtpZihkJiZ3Lmxlbmd0aDxkKXt2YXIgXz1uZXcgYnVmZmVyJDIuQnVmZmVyKGQtdy5sZW5ndGgpO18uZmlsbCgwKSx3PWJ1ZmZlciQyLkJ1ZmZlci5jb25jYXQoW18sd10pfXJldHVybiBoP3cudG9TdHJpbmcoaCk6d31yZXR1cm4gYnJvd3NlciQyfXZhciBicm93c2VyJDE9e30sY3JlYXRlSGFzaCQyPWJyb3dzZXIkOSxCdWZmZXIkND1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixtZ2YkMj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1CdWZmZXIkNC5hbGxvYygwKSxhPTAsdTtuLmxlbmd0aDx0Oyl1PWkyb3BzKGErKyksbj1CdWZmZXIkNC5jb25jYXQoW24sY3JlYXRlSGFzaCQyKCJzaGExIikudXBkYXRlKGUpLnVwZGF0ZSh1KS5kaWdlc3QoKV0pO3JldHVybiBuLnNsaWNlKDAsdCl9O2Z1bmN0aW9uIGkyb3BzKGUpe3ZhciB0PUJ1ZmZlciQ0LmFsbG9jVW5zYWZlKDQpO3JldHVybiB0LndyaXRlVUludDMyQkUoZSwwKSx0fXZhciB4b3IkMj1mdW5jdGlvbiBlKHQsbil7Zm9yKHZhciBhPXQubGVuZ3RoLHU9LTE7Kyt1PGE7KXRbdV1ePW5bdV07cmV0dXJuIHR9LEJOJDI9Ym5FeHBvcnRzJDIsQnVmZmVyJDM9c2FmZUJ1ZmZlckV4cG9ydHMkMS5CdWZmZXI7ZnVuY3Rpb24gd2l0aFB1YmxpYyQyKGUsdCl7cmV0dXJuIEJ1ZmZlciQzLmZyb20oZS50b1JlZChCTiQyLm1vbnQodC5tb2R1bHVzKSkucmVkUG93KG5ldyBCTiQyKHQucHVibGljRXhwb25lbnQpKS5mcm9tUmVkKCkudG9BcnJheSgpKX12YXIgd2l0aFB1YmxpY18xPXdpdGhQdWJsaWMkMixwYXJzZUtleXMkMT1wYXJzZUFzbjEscmFuZG9tQnl0ZXM9YnJvd3NlckV4cG9ydHMsY3JlYXRlSGFzaCQxPWJyb3dzZXIkOSxtZ2YkMT1tZ2YkMix4b3IkMT14b3IkMixCTiQxPWJuRXhwb3J0cyQyLHdpdGhQdWJsaWMkMT13aXRoUHVibGljXzEsY3J0JDE9YnJvd3NlcmlmeVJzYSxCdWZmZXIkMj1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixwdWJsaWNFbmNyeXB0PWZ1bmN0aW9uIGUodCxuLGEpe3ZhciB1O3QucGFkZGluZz91PXQucGFkZGluZzphP3U9MTp1PTQ7dmFyIG89cGFyc2VLZXlzJDEodCksaDtpZih1PT09NCloPW9hZXAkMShvLG4pO2Vsc2UgaWYodT09PTEpaD1wa2NzMSQxKG8sbixhKTtlbHNlIGlmKHU9PT0zKXtpZihoPW5ldyBCTiQxKG4pLGguY21wKG8ubW9kdWx1cyk+PTApdGhyb3cgbmV3IEVycm9yKCJkYXRhIHRvbyBsb25nIGZvciBtb2R1bHVzIil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoInVua25vd24gcGFkZGluZyIpO3JldHVybiBhP2NydCQxKGgsbyk6d2l0aFB1YmxpYyQxKGgsbyl9O2Z1bmN0aW9uIG9hZXAkMShlLHQpe3ZhciBuPWUubW9kdWx1cy5ieXRlTGVuZ3RoKCksYT10Lmxlbmd0aCx1PWNyZWF0ZUhhc2gkMSgic2hhMSIpLnVwZGF0ZShCdWZmZXIkMi5hbGxvYygwKSkuZGlnZXN0KCksbz11Lmxlbmd0aCxoPTIqbztpZihhPm4taC0yKXRocm93IG5ldyBFcnJvcigibWVzc2FnZSB0b28gbG9uZyIpO3ZhciBkPUJ1ZmZlciQyLmFsbG9jKG4tYS1oLTIpLHc9bi1vLTEsXz1yYW5kb21CeXRlcyhvKSxiPXhvciQxKEJ1ZmZlciQyLmNvbmNhdChbdSxkLEJ1ZmZlciQyLmFsbG9jKDEsMSksdF0sdyksbWdmJDEoXyx3KSksTT14b3IkMShfLG1nZiQxKGIsbykpO3JldHVybiBuZXcgQk4kMShCdWZmZXIkMi5jb25jYXQoW0J1ZmZlciQyLmFsbG9jKDEpLE0sYl0sbikpfWZ1bmN0aW9uIHBrY3MxJDEoZSx0LG4pe3ZhciBhPXQubGVuZ3RoLHU9ZS5tb2R1bHVzLmJ5dGVMZW5ndGgoKTtpZihhPnUtMTEpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlIHRvbyBsb25nIik7dmFyIG87cmV0dXJuIG4/bz1CdWZmZXIkMi5hbGxvYyh1LWEtMywyNTUpOm89bm9uWmVybyh1LWEtMyksbmV3IEJOJDEoQnVmZmVyJDIuY29uY2F0KFtCdWZmZXIkMi5mcm9tKFswLG4/MToyXSksbyxCdWZmZXIkMi5hbGxvYygxKSx0XSx1KSl9ZnVuY3Rpb24gbm9uWmVybyhlKXtmb3IodmFyIHQ9QnVmZmVyJDIuYWxsb2NVbnNhZmUoZSksbj0wLGE9cmFuZG9tQnl0ZXMoZSoyKSx1PTAsbztuPGU7KXU9PT1hLmxlbmd0aCYmKGE9cmFuZG9tQnl0ZXMoZSoyKSx1PTApLG89YVt1KytdLG8mJih0W24rK109byk7cmV0dXJuIHR9dmFyIHBhcnNlS2V5cz1wYXJzZUFzbjEsbWdmPW1nZiQyLHhvcj14b3IkMixCTj1ibkV4cG9ydHMkMixjcnQ9YnJvd3NlcmlmeVJzYSxjcmVhdGVIYXNoPWJyb3dzZXIkOSx3aXRoUHVibGljPXdpdGhQdWJsaWNfMSxCdWZmZXIkMT1zYWZlQnVmZmVyRXhwb3J0cyQxLkJ1ZmZlcixwcml2YXRlRGVjcnlwdD1mdW5jdGlvbiBlKHQsbixhKXt2YXIgdTt0LnBhZGRpbmc/dT10LnBhZGRpbmc6YT91PTE6dT00O3ZhciBvPXBhcnNlS2V5cyh0KSxoPW8ubW9kdWx1cy5ieXRlTGVuZ3RoKCk7aWYobi5sZW5ndGg+aHx8bmV3IEJOKG4pLmNtcChvLm1vZHVsdXMpPj0wKXRocm93IG5ldyBFcnJvcigiZGVjcnlwdGlvbiBlcnJvciIpO3ZhciBkO2E/ZD13aXRoUHVibGljKG5ldyBCTihuKSxvKTpkPWNydChuLG8pO3ZhciB3PUJ1ZmZlciQxLmFsbG9jKGgtZC5sZW5ndGgpO2lmKGQ9QnVmZmVyJDEuY29uY2F0KFt3LGRdLGgpLHU9PT00KXJldHVybiBvYWVwKG8sZCk7aWYodT09PTEpcmV0dXJuIHBrY3MxKG8sZCxhKTtpZih1PT09MylyZXR1cm4gZDt0aHJvdyBuZXcgRXJyb3IoInVua25vd24gcGFkZGluZyIpfTtmdW5jdGlvbiBvYWVwKGUsdCl7dmFyIG49ZS5tb2R1bHVzLmJ5dGVMZW5ndGgoKSxhPWNyZWF0ZUhhc2goInNoYTEiKS51cGRhdGUoQnVmZmVyJDEuYWxsb2MoMCkpLmRpZ2VzdCgpLHU9YS5sZW5ndGg7aWYodFswXSE9PTApdGhyb3cgbmV3IEVycm9yKCJkZWNyeXB0aW9uIGVycm9yIik7dmFyIG89dC5zbGljZSgxLHUrMSksaD10LnNsaWNlKHUrMSksZD14b3IobyxtZ2YoaCx1KSksdz14b3IoaCxtZ2YoZCxuLXUtMSkpO2lmKGNvbXBhcmUoYSx3LnNsaWNlKDAsdSkpKXRocm93IG5ldyBFcnJvcigiZGVjcnlwdGlvbiBlcnJvciIpO2Zvcih2YXIgXz11O3dbX109PT0wOylfKys7aWYod1tfKytdIT09MSl0aHJvdyBuZXcgRXJyb3IoImRlY3J5cHRpb24gZXJyb3IiKTtyZXR1cm4gdy5zbGljZShfKX1mdW5jdGlvbiBwa2NzMShlLHQsbil7Zm9yKHZhciBhPXQuc2xpY2UoMCwyKSx1PTIsbz0wO3RbdSsrXSE9PTA7KWlmKHU+PXQubGVuZ3RoKXtvKys7YnJlYWt9dmFyIGg9dC5zbGljZSgyLHUtMSk7aWYoKGEudG9TdHJpbmcoImhleCIpIT09IjAwMDIiJiYhbnx8YS50b1N0cmluZygiaGV4IikhPT0iMDAwMSImJm4pJiZvKyssaC5sZW5ndGg8OCYmbysrLG8pdGhyb3cgbmV3IEVycm9yKCJkZWNyeXB0aW9uIGVycm9yIik7cmV0dXJuIHQuc2xpY2UodSl9ZnVuY3Rpb24gY29tcGFyZShlLHQpe2U9QnVmZmVyJDEuZnJvbShlKSx0PUJ1ZmZlciQxLmZyb20odCk7dmFyIG49MCxhPWUubGVuZ3RoO2UubGVuZ3RoIT09dC5sZW5ndGgmJihuKyssYT1NYXRoLm1pbihlLmxlbmd0aCx0Lmxlbmd0aCkpO2Zvcih2YXIgdT0tMTsrK3U8YTspbis9ZVt1XV50W3VdO3JldHVybiBufShmdW5jdGlvbihlKXtlLnB1YmxpY0VuY3J5cHQ9cHVibGljRW5jcnlwdCxlLnByaXZhdGVEZWNyeXB0PXByaXZhdGVEZWNyeXB0LGUucHJpdmF0ZUVuY3J5cHQ9ZnVuY3Rpb24obixhKXtyZXR1cm4gZS5wdWJsaWNFbmNyeXB0KG4sYSwhMCl9LGUucHVibGljRGVjcnlwdD1mdW5jdGlvbihuLGEpe3JldHVybiBlLnByaXZhdGVEZWNyeXB0KG4sYSwhMCl9fSkoYnJvd3NlciQxKTt2YXIgYnJvd3Nlcj17fTtmdW5jdGlvbiBvbGRCcm93c2VyKCl7dGhyb3cgbmV3IEVycm9yKGBzZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyCnVzZSBjaHJvbWUsIEZpcmVGb3ggb3IgSW50ZXJuZXQgRXhwbG9yZXIgMTFgKX12YXIgc2FmZUJ1ZmZlcj1zYWZlQnVmZmVyRXhwb3J0cyQxLHJhbmRvbWJ5dGVzPWJyb3dzZXJFeHBvcnRzLEJ1ZmZlcj1zYWZlQnVmZmVyLkJ1ZmZlcixrQnVmZmVyTWF4TGVuZ3RoPXNhZmVCdWZmZXIua01heExlbmd0aCxjcnlwdG8kMT1jb21tb25qc0dsb2JhbC5jcnlwdG98fGNvbW1vbmpzR2xvYmFsLm1zQ3J5cHRvLGtNYXhVaW50MzI9TWF0aC5wb3coMiwzMiktMTtmdW5jdGlvbiBhc3NlcnRPZmZzZXQoZSx0KXtpZih0eXBlb2YgZSE9Im51bWJlciJ8fGUhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoIm9mZnNldCBtdXN0IGJlIGEgbnVtYmVyIik7aWYoZT5rTWF4VWludDMyfHxlPDApdGhyb3cgbmV3IFR5cGVFcnJvcigib2Zmc2V0IG11c3QgYmUgYSB1aW50MzIiKTtpZihlPmtCdWZmZXJNYXhMZW5ndGh8fGU+dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib2Zmc2V0IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIGFzc2VydFNpemUoZSx0LG4pe2lmKHR5cGVvZiBlIT0ibnVtYmVyInx8ZSE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigic2l6ZSBtdXN0IGJlIGEgbnVtYmVyIik7aWYoZT5rTWF4VWludDMyfHxlPDApdGhyb3cgbmV3IFR5cGVFcnJvcigic2l6ZSBtdXN0IGJlIGEgdWludDMyIik7aWYoZSt0Pm58fGU+a0J1ZmZlck1heExlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiYnVmZmVyIHRvbyBzbWFsbCIpfWNyeXB0byQxJiZjcnlwdG8kMS5nZXRSYW5kb21WYWx1ZXN8fCFhcGkkMS5icm93c2VyPyhicm93c2VyLnJhbmRvbUZpbGw9cmFuZG9tRmlsbCxicm93c2VyLnJhbmRvbUZpbGxTeW5jPXJhbmRvbUZpbGxTeW5jKTooYnJvd3Nlci5yYW5kb21GaWxsPW9sZEJyb3dzZXIsYnJvd3Nlci5yYW5kb21GaWxsU3luYz1vbGRCcm93c2VyKTtmdW5jdGlvbiByYW5kb21GaWxsKGUsdCxuLGEpe2lmKCFCdWZmZXIuaXNCdWZmZXIoZSkmJiEoZSBpbnN0YW5jZW9mIGNvbW1vbmpzR2xvYmFsLlVpbnQ4QXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJidWYiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgb3IgVWludDhBcnJheScpO2lmKHR5cGVvZiB0PT0iZnVuY3Rpb24iKWE9dCx0PTAsbj1lLmxlbmd0aDtlbHNlIGlmKHR5cGVvZiBuPT0iZnVuY3Rpb24iKWE9bixuPWUubGVuZ3RoLXQ7ZWxzZSBpZih0eXBlb2YgYSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCciY2IiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3JldHVybiBhc3NlcnRPZmZzZXQodCxlLmxlbmd0aCksYXNzZXJ0U2l6ZShuLHQsZS5sZW5ndGgpLGFjdHVhbEZpbGwoZSx0LG4sYSl9ZnVuY3Rpb24gYWN0dWFsRmlsbChlLHQsbixhKXtpZihhcGkkMS5icm93c2VyKXt2YXIgdT1lLmJ1ZmZlcixvPW5ldyBVaW50OEFycmF5KHUsdCxuKTtpZihjcnlwdG8kMS5nZXRSYW5kb21WYWx1ZXMobyksYSl7YXBpJDEubmV4dFRpY2soZnVuY3Rpb24oKXthKG51bGwsZSl9KTtyZXR1cm59cmV0dXJuIGV9aWYoYSl7cmFuZG9tYnl0ZXMobixmdW5jdGlvbihkLHcpe2lmKGQpcmV0dXJuIGEoZCk7dy5jb3B5KGUsdCksYShudWxsLGUpfSk7cmV0dXJufXZhciBoPXJhbmRvbWJ5dGVzKG4pO3JldHVybiBoLmNvcHkoZSx0KSxlfWZ1bmN0aW9uIHJhbmRvbUZpbGxTeW5jKGUsdCxuKXtpZih0eXBlb2YgdD4idSImJih0PTApLCFCdWZmZXIuaXNCdWZmZXIoZSkmJiEoZSBpbnN0YW5jZW9mIGNvbW1vbmpzR2xvYmFsLlVpbnQ4QXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJidWYiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgb3IgVWludDhBcnJheScpO3JldHVybiBhc3NlcnRPZmZzZXQodCxlLmxlbmd0aCksbj09PXZvaWQgMCYmKG49ZS5sZW5ndGgtdCksYXNzZXJ0U2l6ZShuLHQsZS5sZW5ndGgpLGFjdHVhbEZpbGwoZSx0LG4pfXZhciBoYXNSZXF1aXJlZENyeXB0b0Jyb3dzZXJpZnk7ZnVuY3Rpb24gcmVxdWlyZUNyeXB0b0Jyb3dzZXJpZnkoKXtpZihoYXNSZXF1aXJlZENyeXB0b0Jyb3dzZXJpZnkpcmV0dXJuIGNyeXB0b0Jyb3dzZXJpZnk7aGFzUmVxdWlyZWRDcnlwdG9Ccm93c2VyaWZ5PTEsY3J5cHRvQnJvd3NlcmlmeS5yYW5kb21CeXRlcz1jcnlwdG9Ccm93c2VyaWZ5LnJuZz1jcnlwdG9Ccm93c2VyaWZ5LnBzZXVkb1JhbmRvbUJ5dGVzPWNyeXB0b0Jyb3dzZXJpZnkucHJuZz1icm93c2VyRXhwb3J0cyxjcnlwdG9Ccm93c2VyaWZ5LmNyZWF0ZUhhc2g9Y3J5cHRvQnJvd3NlcmlmeS5IYXNoPWJyb3dzZXIkOSxjcnlwdG9Ccm93c2VyaWZ5LmNyZWF0ZUhtYWM9Y3J5cHRvQnJvd3NlcmlmeS5IbWFjPWJyb3dzZXIkODt2YXIgZT1hbGdvcyx0PU9iamVjdC5rZXlzKGUpLG49WyJzaGExIiwic2hhMjI0Iiwic2hhMjU2Iiwic2hhMzg0Iiwic2hhNTEyIiwibWQ1Iiwicm1kMTYwIl0uY29uY2F0KHQpO2NyeXB0b0Jyb3dzZXJpZnkuZ2V0SGFzaGVzPWZ1bmN0aW9uKCl7cmV0dXJuIG59O3ZhciBhPWJyb3dzZXIkNztjcnlwdG9Ccm93c2VyaWZ5LnBia2RmMj1hLnBia2RmMixjcnlwdG9Ccm93c2VyaWZ5LnBia2RmMlN5bmM9YS5wYmtkZjJTeW5jO3ZhciB1PWJyb3dzZXIkNjtjcnlwdG9Ccm93c2VyaWZ5LkNpcGhlcj11LkNpcGhlcixjcnlwdG9Ccm93c2VyaWZ5LmNyZWF0ZUNpcGhlcj11LmNyZWF0ZUNpcGhlcixjcnlwdG9Ccm93c2VyaWZ5LkNpcGhlcml2PXUuQ2lwaGVyaXYsY3J5cHRvQnJvd3NlcmlmeS5jcmVhdGVDaXBoZXJpdj11LmNyZWF0ZUNpcGhlcml2LGNyeXB0b0Jyb3dzZXJpZnkuRGVjaXBoZXI9dS5EZWNpcGhlcixjcnlwdG9Ccm93c2VyaWZ5LmNyZWF0ZURlY2lwaGVyPXUuY3JlYXRlRGVjaXBoZXIsY3J5cHRvQnJvd3NlcmlmeS5EZWNpcGhlcml2PXUuRGVjaXBoZXJpdixjcnlwdG9Ccm93c2VyaWZ5LmNyZWF0ZURlY2lwaGVyaXY9dS5jcmVhdGVEZWNpcGhlcml2LGNyeXB0b0Jyb3dzZXJpZnkuZ2V0Q2lwaGVycz11LmdldENpcGhlcnMsY3J5cHRvQnJvd3NlcmlmeS5saXN0Q2lwaGVycz11Lmxpc3RDaXBoZXJzO3ZhciBvPXJlcXVpcmVCcm93c2VyJDIoKTtjcnlwdG9Ccm93c2VyaWZ5LkRpZmZpZUhlbGxtYW5Hcm91cD1vLkRpZmZpZUhlbGxtYW5Hcm91cCxjcnlwdG9Ccm93c2VyaWZ5LmNyZWF0ZURpZmZpZUhlbGxtYW5Hcm91cD1vLmNyZWF0ZURpZmZpZUhlbGxtYW5Hcm91cCxjcnlwdG9Ccm93c2VyaWZ5LmdldERpZmZpZUhlbGxtYW49by5nZXREaWZmaWVIZWxsbWFuLGNyeXB0b0Jyb3dzZXJpZnkuY3JlYXRlRGlmZmllSGVsbG1hbj1vLmNyZWF0ZURpZmZpZUhlbGxtYW4sY3J5cHRvQnJvd3NlcmlmeS5EaWZmaWVIZWxsbWFuPW8uRGlmZmllSGVsbG1hbjt2YXIgaD1yZXF1aXJlQnJvd3NlciQxKCk7Y3J5cHRvQnJvd3NlcmlmeS5jcmVhdGVTaWduPWguY3JlYXRlU2lnbixjcnlwdG9Ccm93c2VyaWZ5LlNpZ249aC5TaWduLGNyeXB0b0Jyb3dzZXJpZnkuY3JlYXRlVmVyaWZ5PWguY3JlYXRlVmVyaWZ5LGNyeXB0b0Jyb3dzZXJpZnkuVmVyaWZ5PWguVmVyaWZ5LGNyeXB0b0Jyb3dzZXJpZnkuY3JlYXRlRUNESD1yZXF1aXJlQnJvd3NlcigpO3ZhciBkPWJyb3dzZXIkMTtjcnlwdG9Ccm93c2VyaWZ5LnB1YmxpY0VuY3J5cHQ9ZC5wdWJsaWNFbmNyeXB0LGNyeXB0b0Jyb3dzZXJpZnkucHJpdmF0ZUVuY3J5cHQ9ZC5wcml2YXRlRW5jcnlwdCxjcnlwdG9Ccm93c2VyaWZ5LnB1YmxpY0RlY3J5cHQ9ZC5wdWJsaWNEZWNyeXB0LGNyeXB0b0Jyb3dzZXJpZnkucHJpdmF0ZURlY3J5cHQ9ZC5wcml2YXRlRGVjcnlwdDt2YXIgdz1icm93c2VyO3JldHVybiBjcnlwdG9Ccm93c2VyaWZ5LnJhbmRvbUZpbGw9dy5yYW5kb21GaWxsLGNyeXB0b0Jyb3dzZXJpZnkucmFuZG9tRmlsbFN5bmM9dy5yYW5kb21GaWxsU3luYyxjcnlwdG9Ccm93c2VyaWZ5LmNyZWF0ZUNyZWRlbnRpYWxzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKGBzb3JyeSwgY3JlYXRlQ3JlZGVudGlhbHMgaXMgbm90IGltcGxlbWVudGVkIHlldAp3ZSBhY2NlcHQgcHVsbCByZXF1ZXN0cwpodHRwczovL2dpdGh1Yi5jb20vYnJvd3NlcmlmeS9jcnlwdG8tYnJvd3NlcmlmeWApfSxjcnlwdG9Ccm93c2VyaWZ5LmNvbnN0YW50cz17REhfQ0hFQ0tfUF9OT1RfU0FGRV9QUklNRToyLERIX0NIRUNLX1BfTk9UX1BSSU1FOjEsREhfVU5BQkxFX1RPX0NIRUNLX0dFTkVSQVRPUjo0LERIX05PVF9TVUlUQUJMRV9HRU5FUkFUT1I6OCxOUE5fRU5BQkxFRDoxLEFMUE5fRU5BQkxFRDoxLFJTQV9QS0NTMV9QQURESU5HOjEsUlNBX1NTTFYyM19QQURESU5HOjIsUlNBX05PX1BBRERJTkc6MyxSU0FfUEtDUzFfT0FFUF9QQURESU5HOjQsUlNBX1g5MzFfUEFERElORzo1LFJTQV9QS0NTMV9QU1NfUEFERElORzo2LFBPSU5UX0NPTlZFUlNJT05fQ09NUFJFU1NFRDoyLFBPSU5UX0NPTlZFUlNJT05fVU5DT01QUkVTU0VEOjQsUE9JTlRfQ09OVkVSU0lPTl9IWUJSSUQ6Nn0sY3J5cHRvQnJvd3NlcmlmeX12YXIgY3J5cHRvQnJvd3NlcmlmeUV4cG9ydHM9cmVxdWlyZUNyeXB0b0Jyb3dzZXJpZnkoKSxjcnlwdG89Z2V0RGVmYXVsdEV4cG9ydEZyb21DanMoY3J5cHRvQnJvd3NlcmlmeUV4cG9ydHMpO2xldCByZXZlcnRhbnRfbXV0YXRpb25zX3NldD1udWxsLGNhY2hlZENoaWxkcmVuQXJyYXk9bnVsbDtjb25zdCBnZXROdW1lcmljRmlsdGVyRnVuY3Rpb249KGUsdCk9PntpZihlPT09Ij09IilyZXR1cm4gbj0+bj09PXQ7aWYoZT09PSI+IilyZXR1cm4gbj0+bj50O2lmKGU9PT0iPCIpcmV0dXJuIG49Pm48dDtpZihlPT09Ij49IilyZXR1cm4gbj0+bj49dDtpZihlPT09Ijw9IilyZXR1cm4gbj0+bjw9dDt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbnVtYmVyX21ldGhvZDogIitlKX0sZ2V0UmV2ZXJ0YW50TXV0YXRpb25zU2V0PShlLHQsbik9Pntjb25zdCBhPWUuZmluZCh3PT53Lm5vZGVfaWQ9PT13LnBhcmVudF9pZCksdT10W2Eubm9kZV9pZF0sbz1bLi4ubmV3IFNldChuLm1hcCh3PT53LmdlbmUpKV0saD1PYmplY3QuZnJvbUVudHJpZXMoby5tYXAodz0+W3cse31dKSk7dS5mb3JFYWNoKHc9Pntjb25zdCBfPW5bd107aFtfLmdlbmVdW18ucmVzaWR1ZV9wb3NdPV8ubmV3X3Jlc2lkdWV9KTtjb25zdCBkPW4uZmlsdGVyKHc9PncuZ2VuZSBpbiBoJiZoW3cuZ2VuZV1bdy5yZXNpZHVlX3Bvc109PT13Lm5ld19yZXNpZHVlJiZ3Lm5ld19yZXNpZHVlIT09dy5wcmV2aW91c19yZXNpZHVlKTtyZXR1cm4gbmV3IFNldChkLm1hcCh3PT53Lm11dGF0aW9uX2lkKSl9LGNvdW50X3Blcl9oYXNoPXt9LHJlZHVjZU92ZXJQbG90dGluZz0oZSx0LG4sYSk9Pntjb25zdCB1PXt9O3JldHVybiB0PXQvNSxjb25zb2xlLmxvZygiUkVEVUNJTkcyMCIsInByZWNpc2lvblg6Iix0LCJwcmVjaXNpb25ZOiIsbiksZS5maWx0ZXIoaD0+e2NvbnN0IGQ9TWF0aC5yb3VuZChoW2FdKnQpL3Qsdz1NYXRoLnJvdW5kKGgueSpuKS9uO3JldHVybiB1W2RdP3VbZF1bd10/ITE6KHVbZF1bd109MSwhMCk6KHVbZF09e1t3XToxfSwhMCl9KX07ZnVuY3Rpb24gYmluYXJ5X3NlYXJjaF9mb3JfaW5zZXJ0aW9uX3BvaW50KGUsdCl7bGV0IG49MCxhPWUubGVuZ3RoLTE7Zm9yKDtuPD1hOyl7Y29uc3QgdT1NYXRoLmZsb29yKChuK2EpLzIpO2lmKGVbdV08dCluPXUrMTtlbHNlIGlmKGVbdV0+dClhPXUtMTtlbHNlIHJldHVybiB1fXJldHVybiBufWZ1bmN0aW9uIGZpbHRlcihlLHQsbixhKXtjb25zdCB1PWJpbmFyeV9zZWFyY2hfZm9yX2luc2VydGlvbl9wb2ludCh0LG4pLG89YmluYXJ5X3NlYXJjaF9mb3JfaW5zZXJ0aW9uX3BvaW50KHQsYSk7cmV0dXJuIGNvbnNvbGUubG9nKCJtaW5feV9pbmRleDoiLHUpLGNvbnNvbGUubG9nKCJtYXhfeV9pbmRleDoiLG8pLGUuc2xpY2UodSxvKzEpfWZ1bmN0aW9uIHNlYXJjaCQxKGUsdCl7fWNvbnN0IGFkZFBhcmVudHM9KGUsdCk9Pntjb25zdCBuPURhdGUubm93KCksYT10Lm1hcCh3PT53Lm5vZGVfaWQpLHU9bmV3IFNldChhKSxvPXQubGVuZ3RoO2ZvcihsZXQgdz0wO3c8YS5sZW5ndGg7dysrKXtjb25zdCBfPWFbd10sYj1lW19dLnBhcmVudF9pZDt1LmhhcyhiKXx8KHUuYWRkKGIpLGEucHVzaChiKSl9Y29uc3QgaD1lLmZpbHRlcih3PT51Lmhhcyh3Lm5vZGVfaWQpKSxkPWgubGVuZ3RoO3JldHVybiBjb25zb2xlLmxvZygiQWRkaW5nIHBhcmVudHMgdG9vayAiKyhEYXRlLm5vdygpLW4pKyJtcy4iKSxjb25zb2xlLmxvZygiV2VudCBmcm9tICIrbysiIHRvICIrZCsiIG5vZGVzLiIpLGh9O2Z1bmN0aW9uIGdldFByZWNpc2lvbihlLHQpe3JldHVybiAyZTMvKHQtZSl9ZnVuY3Rpb24gZ2V0Tm9kZXMoZSx0LG4sYSx1LG8saCl7Y29uc29sZS5sb2coIkdFVE5PREVTIixuLGEsdSxvLGgpO2NvbnN0IGQ9RGF0ZS5ub3coKSx3PW4hPT12b2lkIDA/ZmlsdGVyKGUsdCxuLGEpOmUsXz1EYXRlLm5vdygpO2NvbnNvbGUubG9nKCJGaWx0ZXJpbmcgdG9vayAiKyhfLWQpKyJtcy4iKSxjb25zb2xlLmxvZygiTWluX3k6IixuLCJNYXhfeToiLGEpO2NvbnN0IGI9cmVkdWNlT3ZlclBsb3R0aW5nKHcuZmlsdGVyKFQ9PlQubnVtX3RpcHM9PTEpLGdldFByZWNpc2lvbih1LG8pLGdldFByZWNpc2lvbihuLGEpLGgpLE09RGF0ZS5ub3coKTtyZXR1cm4gY29uc29sZS5sb2coIlJlZHVjaW5nIHRvb2sgIisoTS1fKSsibXMuIiksYWRkUGFyZW50cyhlLGIpfWZ1bmN0aW9uIHNlYXJjaEZpbHRlcmluZyh7ZGF0YTplLHNwZWM6dCxtdXRhdGlvbnM6bixub2RlX3RvX211dDphLGFsbF9kYXRhOnUsY2FjaGVfaGVscGVyOm99KXtjb25zdCBoPXsuLi50fTtoLmtleT0iY2FjaGUiO2NvbnN0IGQ9Y3J5cHRvLmNyZWF0ZUhhc2goIm1kNSIpLnVwZGF0ZShKU09OLnN0cmluZ2lmeShoKSkuZGlnZXN0KCJoZXgiKS5zbGljZSgwLDgpO2lmKG8mJm8ucmV0cmlldmVfZnJvbV9jYWNoZSl7Y29uc3QgXz1vLnJldHJpZXZlX2Zyb21fY2FjaGUoZCk7aWYoXyE9PXZvaWQgMClyZXR1cm4gY29uc29sZS5sb2coIkZvdW5kIGNhY2hlZCBkYXRhIiksXy5tYXAoYj0+dVtiXSl9Y29uc3Qgdz1zZWFyY2hGaWx0ZXJpbmdJZlVuY2FjaGVkKHtkYXRhOmUsc3BlYzp0LG11dGF0aW9uczpuLG5vZGVfdG9fbXV0OmEsYWxsX2RhdGE6dSxjYWNoZV9oZWxwZXI6b30pO3JldHVybiBvJiZvLnN0b3JlX2luX2NhY2hlJiZvLnN0b3JlX2luX2NhY2hlKGQsdy5tYXAoXz0+Xy5ub2RlX2lkKSksd31mdW5jdGlvbiBzZWFyY2hGaWx0ZXJpbmdJZlVuY2FjaGVkKHtkYXRhOmUsc3BlYzp0LG11dGF0aW9uczpuLG5vZGVfdG9fbXV0OmEsYWxsX2RhdGE6dSxjYWNoZV9oZWxwZXI6b30pe2lmKHQudHlwZT09ImJvb2xlYW4iKXtpZih0LmJvb2xlYW5fbWV0aG9kPT0iYW5kIil7aWYodC5zdWJzcGVjcy5sZW5ndGg9PTApcmV0dXJuW107bGV0IGQ9ZTtyZXR1cm4gdC5zdWJzcGVjcy5mb3JFYWNoKHc9Pntjb25zdCBfPW5ldyBTZXQoc2VhcmNoRmlsdGVyaW5nKHtkYXRhOnUsc3BlYzp3LG11dGF0aW9uczpuLG5vZGVfdG9fbXV0OmEsYWxsX2RhdGE6dSxjYWNoZV9oZWxwZXI6b30pKTtkPWQuZmlsdGVyKGI9Pl8uaGFzKGIpKX0pLGR9aWYodC5ib29sZWFuX21ldGhvZD09Im9yIil7aWYodC5zdWJzcGVjcy5sZW5ndGg9PTApcmV0dXJuW107bGV0IGQ9bmV3IFNldDtyZXR1cm4gdC5zdWJzcGVjcy5mb3JFYWNoKHc9Pntjb25zdCBfPXNlYXJjaEZpbHRlcmluZyh7ZGF0YTp1LHNwZWM6dyxtdXRhdGlvbnM6bixub2RlX3RvX211dDphLGFsbF9kYXRhOnUsY2FjaGVfaGVscGVyOm99KTtkPW5ldyBTZXQoWy4uLmQsLi4uX10pfSksQXJyYXkuZnJvbShkKX1pZih0LmJvb2xlYW5fbWV0aG9kPT0ibm90Iil7bGV0IGQ9bmV3IFNldDtyZXR1cm4gdC5zdWJzcGVjcy5mb3JFYWNoKHc9Pntjb25zdCBfPXNlYXJjaEZpbHRlcmluZyh7ZGF0YTp1LHNwZWM6dyxtdXRhdGlvbnM6bixub2RlX3RvX211dDphLGFsbF9kYXRhOnUsY2FjaGVfaGVscGVyOm99KTtkPW5ldyBTZXQoWy4uLmQsLi4uX10pfSksZS5maWx0ZXIodz0+IWQuaGFzKHcpKX19Y29uc29sZS5sb2codCk7bGV0IGg7aWYoWyJ0ZXh0X21hdGNoIiwidGV4dF9leGFjdCJdLmluY2x1ZGVzKHQubWV0aG9kKSYmdC50ZXh0PT09IiIpcmV0dXJuW107aWYodC5wb3NpdGlvbiYmKHQucG9zaXRpb249cGFyc2VJbnQodC5wb3NpdGlvbikpLHQubWV0aG9kPT09InRleHRfbWF0Y2giKXJldHVybiB0LnRleHQ9dC50ZXh0LnRvTG93ZXJDYXNlKCksaD1lLmZpbHRlcihkPT5kW3QudHlwZV0mJmRbdC50eXBlXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHQudGV4dCkpLGg7aWYodC5tZXRob2Q9PT0idGV4dF9leGFjdCIpcmV0dXJuIHQudGV4dD10LnRleHQudG9Mb3dlckNhc2UoKSxoPWUuZmlsdGVyKGQ9PmRbdC50eXBlXSYmZFt0LnR5cGVdLnRvTG93ZXJDYXNlKCk9PT10LnRleHQpLGg7aWYodC5tZXRob2Q9PT0idGV4dF9wZXJfbGluZSIpe2NvbnN0IGQ9bmV3IFNldCh0LnRleHQudG9Mb3dlckNhc2UoKS5zcGxpdChgCmApLm1hcCh3PT53LnRyaW0oKSkuZmlsdGVyKHc9PnchPT0iIikpO3JldHVybiBoPWUuZmlsdGVyKHc9PntpZih3W3QudHlwZV0pe2NvbnN0IF89d1t0LnR5cGVdLnRvTG93ZXJDYXNlKCkudHJpbSgpO3JldHVybiBkLmhhcyhfKX1lbHNlIHJldHVybiExfSksaH1lbHNlIGlmKHQubWV0aG9kPT09Im11dGF0aW9uIil7Y29uc3QgZD1uLmZpbHRlcihfPT5fJiZfLmdlbmU9PT10LmdlbmUmJl8ucmVzaWR1ZV9wb3M9PT10LnBvc2l0aW9uJiYodC5uZXdfcmVzaWR1ZT09PSJhbnkifHxfLm5ld19yZXNpZHVlPT09dC5uZXdfcmVzaWR1ZSkpLm1hcChfPT5fLm11dGF0aW9uX2lkKTtjb25zb2xlLmxvZygicmVsZXZhbnRfbXV0YXRpb25zOiIsZCk7Y29uc3Qgdz1uZXcgU2V0KGQpO3JldHVybiBoPWUuZmlsdGVyKF89PmFbXy5ub2RlX2lkXS5zb21lKGI9PncuaGFzKGIpKSYmXy5udW1fdGlwcz50Lm1pbl90aXBzKSxofWVsc2V7aWYodC5tZXRob2Q9PT0icmV2ZXJ0YW50IilyZXR1cm4gdXx8KHU9ZSkscmV2ZXJ0YW50X211dGF0aW9uc19zZXQ9PT1udWxsJiYocmV2ZXJ0YW50X211dGF0aW9uc19zZXQ9Z2V0UmV2ZXJ0YW50TXV0YXRpb25zU2V0KHUsYSxuKSksaD1lLmZpbHRlcihkPT5kLm51bV90aXBzPnQubWluX3RpcHMmJmFbZC5ub2RlX2lkXS5zb21lKHc9PnJldmVydGFudF9tdXRhdGlvbnNfc2V0Lmhhcyh3KSkpLGg7aWYodC5tZXRob2Q9PT0iZ2Vub3R5cGUiKXtjb25zdCBkPXtnZW5lOnQuZ2VuZSxwb3NpdGlvbjp0LnBvc2l0aW9uLG5ld19yZXNpZHVlOnQubmV3X3Jlc2lkdWV9O3JldHVybiBmaWx0ZXJCeUdlbm90eXBlKGUsZCxuLGEsdSl9ZWxzZSBpZih0Lm1ldGhvZD09PSJudW1iZXIiKXtpZih0Lm51bWJlcj09IiIpcmV0dXJuW107Y29uc3QgZD1wYXJzZUZsb2F0KHQubnVtYmVyKSx3PWdldE51bWVyaWNGaWx0ZXJGdW5jdGlvbih0Lm51bWJlcl9tZXRob2QsZCk7cmV0dXJuIGg9ZS5maWx0ZXIoXz0+dyhfW3QudHlwZV0pKSxofX1yZXR1cm5bXX1mdW5jdGlvbiBzaW5nbGVTZWFyY2goe2RhdGE6ZSxzcGVjOnQsbWluX3k6bixtYXhfeTphLHlfcG9zaXRpb25zOnUsbXV0YXRpb25zOm8sbm9kZV90b19tdXQ6aCx4VHlwZTpkLG1pbl94OncsbWF4X3g6XyxjYWNoZV9oZWxwZXI6Yn0pe2NvbnN0IE09SlNPTi5zdHJpbmdpZnkodCksTz0xZTQsVD1jcnlwdG8uY3JlYXRlSGFzaCgibWQ1IikudXBkYXRlKE0pLmRpZ2VzdCgiaGV4Iikuc2xpY2UoMCw4KTtsZXQgUD1udWxsO2NvdW50X3Blcl9oYXNoW1RdPT09dm9pZCAwJiYoUD1zZWFyY2hGaWx0ZXJpbmcoe2RhdGE6ZSxzcGVjOnQsbXV0YXRpb25zOm8sbm9kZV90b19tdXQ6aCxhbGxfZGF0YTplLGNhY2hlX2hlbHBlcjpifSksY291bnRfcGVyX2hhc2hbVF09UC5sZW5ndGgpO2NvbnN0IEw9Y291bnRfcGVyX2hhc2hbVF07bGV0IHo7aWYoTD5PKXtjb25zdCBWPXNlYXJjaEZpbHRlcmluZyh7ZGF0YTplLHNwZWM6dCxtdXRhdGlvbnM6byxub2RlX3RvX211dDpoLGFsbF9kYXRhOmUsY2FjaGVfaGVscGVyOmJ9KS5maWx0ZXIoaWU9PmllLnk8YSYmaWUueT5uKTtjb25zb2xlLmxvZygibGVuZ3RoIG9mIGZpbHRlcmVkX2N1dDoiLFYubGVuZ3RoKSxjb25zb2xlLmxvZygibWluX3k6IixuLCJtYXhfeToiLGEpLHo9e3R5cGU6ImZpbHRlcmVkIixkYXRhOnJlZHVjZU92ZXJQbG90dGluZyhWLGdldFByZWNpc2lvbih3LF8pLGdldFByZWNpc2lvbihuLGEpLGQpLHRvdGFsX2NvdW50Okx9fWVsc2UgUD09PW51bGwmJihQPXNlYXJjaEZpbHRlcmluZyh7ZGF0YTplLHNwZWM6dCxtdXRhdGlvbnM6byxub2RlX3RvX211dDpoLGFsbF9kYXRhOmUsY2FjaGVfaGVscGVyOmJ9KSksej17dHlwZToiY29tcGxldGUiLGRhdGE6UCx0b3RhbF9jb3VudDpMfTtyZXR1cm4gen1mdW5jdGlvbiBhZGRNdXRhdGlvbnMoZSx0LG4pe2NvbnN0IGE9bmV3IERhdGUsdT1lLm1hcChvPT4oey4uLm8sbXV0YXRpb25zOm5bby5ub2RlX2lkXX0pKTtyZXR1cm4gY29uc29sZS5sb2coImFkZE11dGF0aW9uczoiLG5ldyBEYXRlLWEpLHV9ZnVuY3Rpb24gZ2V0Q2hpbGRyZW5BcnJheShlKXtpZihjYWNoZWRDaGlsZHJlbkFycmF5KXJldHVybiBjYWNoZWRDaGlsZHJlbkFycmF5O2NvbnN0IHQ9bmV3IERhdGUsbj1lLm1hcChhPT5bXSk7cmV0dXJuIGUuZm9yRWFjaChhPT57YS5wYXJlbnRfaWQhPT1hLm5vZGVfaWQmJm5bYS5wYXJlbnRfaWRdLnB1c2goYS5ub2RlX2lkKX0pLGNvbnNvbGUubG9nKCJnZXRDaGlsZHJlbkFycmF5OiIsbmV3IERhdGUtdCksY2FjaGVkQ2hpbGRyZW5BcnJheT1uLG59Y29uc3QgcHJlT3JkZXI9KGUsdCk9Pntjb25zdCBuPVtdLGE9Z2V0Q2hpbGRyZW5BcnJheShlKSx1PVt0XTtmb3IoO3UubGVuZ3RoPjA7KXtjb25zdCBvPXUucG9wKCk7bi5wdXNoKG8pLGFbb10uZm9yRWFjaChoPT57dS5wdXNoKGgpfSl9cmV0dXJuIG59LGdldFRpcEF0dHM9KGUsdCxuKT0+e2NvbnN0IGE9Z2V0Q2hpbGRyZW5BcnJheShlKTtyZXR1cm4gcHJlT3JkZXIoZSx0KS5maWx0ZXIoZD0+YVtkXS5sZW5ndGg9PT0wKS5tYXAoZD0+ZVtkXVtuXSl9LGZpbHRlckJ5R2Vub3R5cGU9KGUsdCxuLGEsdSk9Pntjb25zdCBvPXt9LHtnZW5lOmgscG9zaXRpb246ZCxuZXdfcmVzaWR1ZTp3fT10LF89bi5maWx0ZXIoVD0+VCYmVC5nZW5lPT09aCYmVC5yZXNpZHVlX3Bvcz09PWQpLGI9bmV3IFNldChfLmZpbHRlcihUPT5ULm5ld19yZXNpZHVlPT09dykubWFwKFQ9PlQubXV0YXRpb25faWQpKTtpZihiLnNpemU9PT0wKXJldHVybltdO2NvbnN0IE09bmV3IFNldChfLmZpbHRlcihUPT5ULm5ld19yZXNpZHVlIT09dykubWFwKFQ9PlQubXV0YXRpb25faWQpKTtyZXR1cm4gZS5maWx0ZXIoVD0+e2xldCBQPVQ7Y29uc3QgTD1bXTtmb3IoOzspe0wucHVzaChQLm5vZGVfaWQpO2NvbnN0IHo9b1tQLm5vZGVfaWRdO2lmKHo9PT0hMHx8YVtQLm5vZGVfaWRdLnNvbWUoYWU9PmIuaGFzKGFlKSkpcmV0dXJuIEwuZm9yRWFjaChhZT0+e29bYWVdPSEwfSksITA7aWYoej09PSExfHxhW1Aubm9kZV9pZF0uc29tZShhZT0+TS5oYXMoYWUpKSlyZXR1cm4gTC5mb3JFYWNoKGFlPT57b1thZV09ITF9KSwhMTtpZihQLnBhcmVudF9pZD09PVAubm9kZV9pZClicmVhaztQPXVbUC5wYXJlbnRfaWRdfXJldHVybiExfSl9O3ZhciBmaWx0ZXJpbmc9e3JlZHVjZU92ZXJQbG90dGluZyxmaWx0ZXIsc2VhcmNoOnNlYXJjaCQxLGFkZFBhcmVudHMsZ2V0Tm9kZXMsc2luZ2xlU2VhcmNoLGFkZE11dGF0aW9ucyxnZXRUaXBBdHRzfTtjb25zdCBhZGRBQW11dHM9KGUsdCk9Pntjb25zdCBuPVtdO2UuZm9yRWFjaChhPT57bi5pbmNsdWRlcyhhLmdlbmUpP3QuYnJhbmNoX2F0dHJzLm11dGF0aW9uc1thLmdlbmVdLnB1c2goYCR7YS5wcmV2aW91c19yZXNpZHVlfSR7YS5yZXNpZHVlX3Bvc30ke2EubmV3X3Jlc2lkdWV9YCk6KHQuYnJhbmNoX2F0dHJzLm11dGF0aW9uc1thLmdlbmVdPVtgJHthLnByZXZpb3VzX3Jlc2lkdWV9JHthLnJlc2lkdWVfcG9zfSR7YS5uZXdfcmVzaWR1ZX1gXSxuLnB1c2goYS5nZW5lKSl9KX0sYWRkTnVjTXV0cz0oZSx0KT0+e3QuYnJhbmNoX2F0dHJzLm11dGF0aW9ucy5udWM9ZS5tYXAobj0+YCR7bi5wcmV2aW91c19yZXNpZHVlfSR7bi5yZXNpZHVlX3Bvc30ke24ubmV3X3Jlc2lkdWV9YCl9LGdldE5leHRzdHJhaW5TdWJ0cmVlSnNvbj1hc3luYyhlLHQsbixhKT0+e2NvbnN0IHU9dC5maW5kKFA9PlAubm9kZV9pZD09PWUpLG89e30saD17fTtmb3IoY29uc3QgUCBvZiB0KWhbUC5ub2RlX2lkXT1QLFAucGFyZW50X2lkIT09bnVsbCYmKG9bUC5wYXJlbnRfaWRdPT09dm9pZCAwJiYob1tQLnBhcmVudF9pZF09W10pLG9bUC5wYXJlbnRfaWRdLnB1c2goUC5ub2RlX2lkKSk7bGV0IGQ9dS5tdXRhdGlvbnMubWFwKFA9PmFbUF0pO2NvbnN0IHc9ZC5maWx0ZXIoUD0+UC50eXBlPT09Im50IiksXz1kLmZpbHRlcihQPT5QLnR5cGU9PT0iYWEiKSxiPXtuYW1lOnUubmFtZSxub2RlX2lkOnUubm9kZV9pZCxub2RlX2F0dHJzOntkaXY6MH0sYnJhbmNoX2F0dHJzOnttdXRhdGlvbnM6e319fTthZGRBQW11dHMoXyxiKSxhZGROdWNNdXRzKHcsYiksT2JqZWN0LmtleXModSkuZmlsdGVyKFA9PlAuc3RhcnRzV2l0aCgibWV0YV8iKSkubWFwKFA9Pih7W1Auc2xpY2UoNSldOnt2YWx1ZTp1W1BdfX0pKS5mb3JFYWNoKFA9PntPYmplY3QuYXNzaWduKGIubm9kZV9hdHRycyxQKX0pO2NvbnN0IE09W2JdLE89bmV3IFNldDtmb3IoO00ubGVuZ3RoPjA7KXtjb25zdCBQPU0ucG9wKCksTD1QLm5vZGVfYXR0cnMuZGl2LHo9b1tQLm5vZGVfaWRdLEg9W107aWYoeiE9PXZvaWQgMClmb3IoY29uc3QgViBvZiB6KXtjb25zdCBhZT1oW1ZdO2xldCBpZT1hZS5tdXRhdGlvbnMubWFwKG9lPT5hW29lXSk7Y29uc3QgUT1pZS5maWx0ZXIob2U9Pm9lLnR5cGU9PT0ibnQiKSxyZT1pZS5maWx0ZXIob2U9Pm9lLnR5cGU9PT0iYWEiKSxjZT1RLmZpbHRlcihvZT0+b2UubmV3X3Jlc2lkdWUhPSItIiYmb2UucHJldmlvdXNfcmVzaWR1ZSE9Ii0iKSxsZT17bmFtZTphZS5uYW1lLG5vZGVfaWQ6YWUubm9kZV9pZCxub2RlX2F0dHJzOntkaXY6TCtjZS5sZW5ndGh9LGJyYW5jaF9hdHRyczp7bXV0YXRpb25zOnt9fX07YWRkQUFtdXRzKHJlLGxlKSxhZGROdWNNdXRzKFEsbGUpLE9iamVjdC5rZXlzKGFlKS5maWx0ZXIob2U9Pm9lLnN0YXJ0c1dpdGgoIm1ldGFfIikpLm1hcChvZT0+KHtbb2Uuc2xpY2UoNSldOnt2YWx1ZTphZVtvZV19fSkpLmZvckVhY2gob2U9PntPLmFkZChPYmplY3Qua2V5cyhvZSlbMF0pLE9iamVjdC5hc3NpZ24obGUubm9kZV9hdHRycyxvZSl9KSxILnB1c2gobGUpLE0ucHVzaChsZSl9SC5sZW5ndGg+MCYmKFAuY2hpbGRyZW49SCl9cmV0dXJue21ldGE6e2Rlc2NyaXB0aW9uOiJKU09OIGV4cG9ydGVkIGZyb20gVGF4b25pdW0uIixwYW5lbHM6WyJ0cmVlIl0sdGl0bGU6bi50aXRsZSxkZXNjcmlwdGlvbjoiU291cmNlOiAiK24uc291cmNlLGRpc3BsYXlfZGVmYXVsdHM6e2Rpc3RhbmNlX21lYXN1cmU6ImRpdiIsY29sb3JfYnk6T1swXX0sY29sb3JpbmdzOkFycmF5LmZyb20oTykubWFwKFA9Pih7a2V5OlAsdGl0bGU6UCx0eXBlOiJjYXRlZ29yaWNhbCJ9KSl9LHRyZWU6Yix2ZXJzaW9uOiJ2MiJ9fTt2YXIgbGliJDE9e30sYmluZGluZz17fSxhc3NlcnQ9e2V4cG9ydHM6e319LGVycm9ycz17fSxoYXNSZXF1aXJlZEVycm9ycztmdW5jdGlvbiByZXF1aXJlRXJyb3JzKCl7aWYoaGFzUmVxdWlyZWRFcnJvcnMpcmV0dXJuIGVycm9ycztoYXNSZXF1aXJlZEVycm9ycz0xO2Z1bmN0aW9uIGUoUSl7IkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjtyZXR1cm4gZT10eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT0ic3ltYm9sIj9mdW5jdGlvbihyZSl7cmV0dXJuIHR5cGVvZiByZX06ZnVuY3Rpb24ocmUpe3JldHVybiByZSYmdHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmcmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJnJlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgcmV9LGUoUSl9ZnVuY3Rpb24gdChRLHJlKXtmb3IodmFyIGNlPTA7Y2U8cmUubGVuZ3RoO2NlKyspe3ZhciBsZT1yZVtjZV07bGUuZW51bWVyYWJsZT1sZS5lbnVtZXJhYmxlfHwhMSxsZS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGxlJiYobGUud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRLGEobGUua2V5KSxsZSl9fWZ1bmN0aW9uIG4oUSxyZSxjZSl7cmV0dXJuIHJlJiZ0KFEucHJvdG90eXBlLHJlKSxjZSYmdChRLGNlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxRfWZ1bmN0aW9uIGEoUSl7dmFyIHJlPXUoUSwic3RyaW5nIik7cmV0dXJuIGUocmUpPT09InN5bWJvbCI/cmU6U3RyaW5nKHJlKX1mdW5jdGlvbiB1KFEscmUpe2lmKGUoUSkhPT0ib2JqZWN0Inx8UT09PW51bGwpcmV0dXJuIFE7dmFyIGNlPVFbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZihjZSE9PXZvaWQgMCl7dmFyIGxlPWNlLmNhbGwoUSxyZXx8ImRlZmF1bHQiKTtpZihlKGxlKSE9PSJvYmplY3QiKXJldHVybiBsZTt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybihyZT09PSJzdHJpbmciP1N0cmluZzpOdW1iZXIpKFEpfWZ1bmN0aW9uIG8oUSxyZSl7aWYoIShRIGluc3RhbmNlb2YgcmUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGgoUSxyZSl7aWYodHlwZW9mIHJlIT0iZnVuY3Rpb24iJiZyZSE9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtRLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHJlJiZyZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpRLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxyZSYmZChRLHJlKX1mdW5jdGlvbiBkKFEscmUpe3JldHVybiBkPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGxlLG9lKXtyZXR1cm4gbGUuX19wcm90b19fPW9lLGxlfSxkKFEscmUpfWZ1bmN0aW9uIHcoUSl7dmFyIHJlPU0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbGU9TyhRKSxvZTtpZihyZSl7dmFyIHllPU8odGhpcykuY29uc3RydWN0b3I7b2U9UmVmbGVjdC5jb25zdHJ1Y3QobGUsYXJndW1lbnRzLHllKX1lbHNlIG9lPWxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gXyh0aGlzLG9lKX19ZnVuY3Rpb24gXyhRLHJlKXtpZihyZSYmKGUocmUpPT09Im9iamVjdCJ8fHR5cGVvZiByZT09ImZ1bmN0aW9uIikpcmV0dXJuIHJlO2lmKHJlIT09dm9pZCAwKXRocm93IG5ldyBUeXBlRXJyb3IoIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkIik7cmV0dXJuIGIoUSl9ZnVuY3Rpb24gYihRKXtpZihRPT09dm9pZCAwKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIFF9ZnVuY3Rpb24gTSgpe2lmKHR5cGVvZiBSZWZsZWN0PiJ1Inx8IVJlZmxlY3QuY29uc3RydWN0fHxSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKHR5cGVvZiBQcm94eT09ImZ1bmN0aW9uIilyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLGZ1bmN0aW9uKCl7fSkpLCEwfWNhdGNoe3JldHVybiExfX1mdW5jdGlvbiBPKFEpe3JldHVybiBPPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGNlKXtyZXR1cm4gY2UuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2UpfSxPKFEpfXZhciBUPXt9LFAsTDtmdW5jdGlvbiB6KFEscmUsY2Upe2NlfHwoY2U9RXJyb3IpO2Z1bmN0aW9uIGxlKHllLFgsJCl7cmV0dXJuIHR5cGVvZiByZT09InN0cmluZyI/cmU6cmUoeWUsWCwkKX12YXIgb2U9ZnVuY3Rpb24oeWUpe2goJCx5ZSk7dmFyIFg9dygkKTtmdW5jdGlvbiAkKG0sbCx2KXt2YXIgRTtyZXR1cm4gbyh0aGlzLCQpLEU9WC5jYWxsKHRoaXMsbGUobSxsLHYpKSxFLmNvZGU9USxFfXJldHVybiBuKCQpfShjZSk7VFtRXT1vZX1mdW5jdGlvbiBIKFEscmUpe2lmKEFycmF5LmlzQXJyYXkoUSkpe3ZhciBjZT1RLmxlbmd0aDtyZXR1cm4gUT1RLm1hcChmdW5jdGlvbihsZSl7cmV0dXJuIFN0cmluZyhsZSl9KSxjZT4yPyJvbmUgb2YgIi5jb25jYXQocmUsIiAiKS5jb25jYXQoUS5zbGljZSgwLGNlLTEpLmpvaW4oIiwgIiksIiwgb3IgIikrUVtjZS0xXTpjZT09PTI/Im9uZSBvZiAiLmNvbmNhdChyZSwiICIpLmNvbmNhdChRWzBdLCIgb3IgIikuY29uY2F0KFFbMV0pOiJvZiAiLmNvbmNhdChyZSwiICIpLmNvbmNhdChRWzBdKX1lbHNlIHJldHVybiJvZiAiLmNvbmNhdChyZSwiICIpLmNvbmNhdChTdHJpbmcoUSkpfWZ1bmN0aW9uIFYoUSxyZSxjZSl7cmV0dXJuIFEuc3Vic3RyKCFjZXx8Y2U8MD8wOitjZSxyZS5sZW5ndGgpPT09cmV9ZnVuY3Rpb24gYWUoUSxyZSxjZSl7cmV0dXJuKGNlPT09dm9pZCAwfHxjZT5RLmxlbmd0aCkmJihjZT1RLmxlbmd0aCksUS5zdWJzdHJpbmcoY2UtcmUubGVuZ3RoLGNlKT09PXJlfWZ1bmN0aW9uIGllKFEscmUsY2Upe3JldHVybiB0eXBlb2YgY2UhPSJudW1iZXIiJiYoY2U9MCksY2UrcmUubGVuZ3RoPlEubGVuZ3RoPyExOlEuaW5kZXhPZihyZSxjZSkhPT0tMX1yZXR1cm4geigiRVJSX0FNQklHVU9VU19BUkdVTUVOVCIsJ1RoZSAiJXMiIGFyZ3VtZW50IGlzIGFtYmlndW91cy4gJXMnLFR5cGVFcnJvcikseigiRVJSX0lOVkFMSURfQVJHX1RZUEUiLGZ1bmN0aW9uKFEscmUsY2Upe1A9PT12b2lkIDAmJihQPXJlcXVpcmVBc3NlcnQoKSksUCh0eXBlb2YgUT09InN0cmluZyIsIiduYW1lJyBtdXN0IGJlIGEgc3RyaW5nIik7dmFyIGxlO3R5cGVvZiByZT09InN0cmluZyImJlYocmUsIm5vdCAiKT8obGU9Im11c3Qgbm90IGJlIixyZT1yZS5yZXBsYWNlKC9ebm90IC8sIiIpKTpsZT0ibXVzdCBiZSI7dmFyIG9lO2lmKGFlKFEsIiBhcmd1bWVudCIpKW9lPSJUaGUgIi5jb25jYXQoUSwiICIpLmNvbmNhdChsZSwiICIpLmNvbmNhdChIKHJlLCJ0eXBlIikpO2Vsc2V7dmFyIHllPWllKFEsIi4iKT8icHJvcGVydHkiOiJhcmd1bWVudCI7b2U9J1RoZSAiJy5jb25jYXQoUSwnIiAnKS5jb25jYXQoeWUsIiAiKS5jb25jYXQobGUsIiAiKS5jb25jYXQoSChyZSwidHlwZSIpKX1yZXR1cm4gb2UrPSIuIFJlY2VpdmVkIHR5cGUgIi5jb25jYXQoZShjZSkpLG9lfSxUeXBlRXJyb3IpLHooIkVSUl9JTlZBTElEX0FSR19WQUxVRSIsZnVuY3Rpb24oUSxyZSl7dmFyIGNlPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXToiaXMgaW52YWxpZCI7TD09PXZvaWQgMCYmKEw9dXRpbCQzKTt2YXIgbGU9TC5pbnNwZWN0KHJlKTtyZXR1cm4gbGUubGVuZ3RoPjEyOCYmKGxlPSIiLmNvbmNhdChsZS5zbGljZSgwLDEyOCksIi4uLiIpKSwiVGhlIGFyZ3VtZW50ICciLmNvbmNhdChRLCInICIpLmNvbmNhdChjZSwiLiBSZWNlaXZlZCAiKS5jb25jYXQobGUpfSxUeXBlRXJyb3IpLHooIkVSUl9JTlZBTElEX1JFVFVSTl9WQUxVRSIsZnVuY3Rpb24oUSxyZSxjZSl7dmFyIGxlO3JldHVybiBjZSYmY2UuY29uc3RydWN0b3ImJmNlLmNvbnN0cnVjdG9yLm5hbWU/bGU9Imluc3RhbmNlIG9mICIuY29uY2F0KGNlLmNvbnN0cnVjdG9yLm5hbWUpOmxlPSJ0eXBlICIuY29uY2F0KGUoY2UpKSwiRXhwZWN0ZWQgIi5jb25jYXQoUSwnIHRvIGJlIHJldHVybmVkIGZyb20gdGhlICInKS5jb25jYXQocmUsJyInKSsiIGZ1bmN0aW9uIGJ1dCBnb3QgIi5jb25jYXQobGUsIi4iKX0sVHlwZUVycm9yKSx6KCJFUlJfTUlTU0lOR19BUkdTIixmdW5jdGlvbigpe2Zvcih2YXIgUT1hcmd1bWVudHMubGVuZ3RoLHJlPW5ldyBBcnJheShRKSxjZT0wO2NlPFE7Y2UrKylyZVtjZV09YXJndW1lbnRzW2NlXTtQPT09dm9pZCAwJiYoUD1yZXF1aXJlQXNzZXJ0KCkpLFAocmUubGVuZ3RoPjAsIkF0IGxlYXN0IG9uZSBhcmcgbmVlZHMgdG8gYmUgc3BlY2lmaWVkIik7dmFyIGxlPSJUaGUgIixvZT1yZS5sZW5ndGg7c3dpdGNoKHJlPXJlLm1hcChmdW5jdGlvbih5ZSl7cmV0dXJuJyInLmNvbmNhdCh5ZSwnIicpfSksb2Upe2Nhc2UgMTpsZSs9IiIuY29uY2F0KHJlWzBdLCIgYXJndW1lbnQiKTticmVhaztjYXNlIDI6bGUrPSIiLmNvbmNhdChyZVswXSwiIGFuZCAiKS5jb25jYXQocmVbMV0sIiBhcmd1bWVudHMiKTticmVhaztkZWZhdWx0OmxlKz1yZS5zbGljZSgwLG9lLTEpLmpvaW4oIiwgIiksbGUrPSIsIGFuZCAiLmNvbmNhdChyZVtvZS0xXSwiIGFyZ3VtZW50cyIpO2JyZWFrfXJldHVybiIiLmNvbmNhdChsZSwiIG11c3QgYmUgc3BlY2lmaWVkIil9LFR5cGVFcnJvciksZXJyb3JzLmNvZGVzPVQsZXJyb3JzfXZhciBhc3NlcnRpb25fZXJyb3IsaGFzUmVxdWlyZWRBc3NlcnRpb25fZXJyb3I7ZnVuY3Rpb24gcmVxdWlyZUFzc2VydGlvbl9lcnJvcigpe2lmKGhhc1JlcXVpcmVkQXNzZXJ0aW9uX2Vycm9yKXJldHVybiBhc3NlcnRpb25fZXJyb3I7aGFzUmVxdWlyZWRBc3NlcnRpb25fZXJyb3I9MTtmdW5jdGlvbiBlKEEseSl7dmFyIHg9T2JqZWN0LmtleXMoQSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHA9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhBKTt5JiYocD1wLmZpbHRlcihmdW5jdGlvbihJKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihBLEkpLmVudW1lcmFibGV9KSkseC5wdXNoLmFwcGx5KHgscCl9cmV0dXJuIHh9ZnVuY3Rpb24gdChBKXtmb3IodmFyIHk9MTt5PGFyZ3VtZW50cy5sZW5ndGg7eSsrKXt2YXIgeD1hcmd1bWVudHNbeV0hPW51bGw/YXJndW1lbnRzW3ldOnt9O3klMj9lKE9iamVjdCh4KSwhMCkuZm9yRWFjaChmdW5jdGlvbihwKXtuKEEscCx4W3BdKX0pOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEEsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoeCkpOmUoT2JqZWN0KHgpKS5mb3JFYWNoKGZ1bmN0aW9uKHApe09iamVjdC5kZWZpbmVQcm9wZXJ0eShBLHAsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih4LHApKX0pfXJldHVybiBBfWZ1bmN0aW9uIG4oQSx5LHgpe3JldHVybiB5PWgoeSkseSBpbiBBP09iamVjdC5kZWZpbmVQcm9wZXJ0eShBLHkse3ZhbHVlOngsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpBW3ldPXgsQX1mdW5jdGlvbiBhKEEseSl7aWYoIShBIGluc3RhbmNlb2YgeSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gdShBLHkpe2Zvcih2YXIgeD0wO3g8eS5sZW5ndGg7eCsrKXt2YXIgcD15W3hdO3AuZW51bWVyYWJsZT1wLmVudW1lcmFibGV8fCExLHAuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBwJiYocC53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KEEsaChwLmtleSkscCl9fWZ1bmN0aW9uIG8oQSx5LHgpe3JldHVybiB5JiZ1KEEucHJvdG90eXBlLHkpLHgmJnUoQSx4KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSxBfWZ1bmN0aW9uIGgoQSl7dmFyIHk9ZChBLCJzdHJpbmciKTtyZXR1cm4gVih5KT09PSJzeW1ib2wiP3k6U3RyaW5nKHkpfWZ1bmN0aW9uIGQoQSx5KXtpZihWKEEpIT09Im9iamVjdCJ8fEE9PT1udWxsKXJldHVybiBBO3ZhciB4PUFbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih4IT09dm9pZCAwKXt2YXIgcD14LmNhbGwoQSx5fHwiZGVmYXVsdCIpO2lmKFYocCkhPT0ib2JqZWN0IilyZXR1cm4gcDt0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpfXJldHVybih5PT09InN0cmluZyI/U3RyaW5nOk51bWJlcikoQSl9ZnVuY3Rpb24gdyhBLHkpe2lmKHR5cGVvZiB5IT0iZnVuY3Rpb24iJiZ5IT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpO0EucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeSYmeS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpBLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQSwicHJvdG90eXBlIix7d3JpdGFibGU6ITF9KSx5JiZ6KEEseSl9ZnVuY3Rpb24gXyhBKXt2YXIgeT1QKCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHA9SChBKSxJO2lmKHkpe3ZhciBlZT1IKHRoaXMpLmNvbnN0cnVjdG9yO0k9UmVmbGVjdC5jb25zdHJ1Y3QocCxhcmd1bWVudHMsZWUpfWVsc2UgST1wLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYih0aGlzLEkpfX1mdW5jdGlvbiBiKEEseSl7aWYoeSYmKFYoeSk9PT0ib2JqZWN0Inx8dHlwZW9mIHk9PSJmdW5jdGlvbiIpKXJldHVybiB5O2lmKHkhPT12b2lkIDApdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTtyZXR1cm4gTShBKX1mdW5jdGlvbiBNKEEpe2lmKEE9PT12b2lkIDApdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gQX1mdW5jdGlvbiBPKEEpe3ZhciB5PXR5cGVvZiBNYXA9PSJmdW5jdGlvbiI/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIE89ZnVuY3Rpb24ocCl7aWYocD09PW51bGx8fCFMKHApKXJldHVybiBwO2lmKHR5cGVvZiBwIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7aWYodHlwZW9mIHk8InUiKXtpZih5LmhhcyhwKSlyZXR1cm4geS5nZXQocCk7eS5zZXQocCxJKX1mdW5jdGlvbiBJKCl7cmV0dXJuIFQocCxhcmd1bWVudHMsSCh0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIEkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpJLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHooSSxwKX0sTyhBKX1mdW5jdGlvbiBUKEEseSx4KXtyZXR1cm4gUCgpP1Q9UmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpOlQ9ZnVuY3Rpb24oSSxlZSxmZSl7dmFyIEo9W251bGxdO0oucHVzaC5hcHBseShKLGVlKTt2YXIgaz1GdW5jdGlvbi5iaW5kLmFwcGx5KEksSiksRD1uZXcgaztyZXR1cm4gZmUmJnooRCxmZS5wcm90b3R5cGUpLER9LFQuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIFAoKXtpZih0eXBlb2YgUmVmbGVjdD4idSJ8fCFSZWZsZWN0LmNvbnN0cnVjdHx8UmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZih0eXBlb2YgUHJveHk9PSJmdW5jdGlvbiIpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSxmdW5jdGlvbigpe30pKSwhMH1jYXRjaHtyZXR1cm4hMX19ZnVuY3Rpb24gTChBKXtyZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChBKS5pbmRleE9mKCJbbmF0aXZlIGNvZGVdIikhPT0tMX1mdW5jdGlvbiB6KEEseSl7cmV0dXJuIHo9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24ocCxJKXtyZXR1cm4gcC5fX3Byb3RvX189SSxwfSx6KEEseSl9ZnVuY3Rpb24gSChBKXtyZXR1cm4gSD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih4KXtyZXR1cm4geC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih4KX0sSChBKX1mdW5jdGlvbiBWKEEpeyJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7cmV0dXJuIFY9dHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmdHlwZW9mIFN5bWJvbC5pdGVyYXRvcj09InN5bWJvbCI/ZnVuY3Rpb24oeSl7cmV0dXJuIHR5cGVvZiB5fTpmdW5jdGlvbih5KXtyZXR1cm4geSYmdHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmeS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmeSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIHl9LFYoQSl9dmFyIGFlPXV0aWwkMyxpZT1hZS5pbnNwZWN0LFE9cmVxdWlyZUVycm9ycygpLHJlPVEuY29kZXMuRVJSX0lOVkFMSURfQVJHX1RZUEU7ZnVuY3Rpb24gY2UoQSx5LHgpe3JldHVybih4PT09dm9pZCAwfHx4PkEubGVuZ3RoKSYmKHg9QS5sZW5ndGgpLEEuc3Vic3RyaW5nKHgteS5sZW5ndGgseCk9PT15fWZ1bmN0aW9uIGxlKEEseSl7aWYoeT1NYXRoLmZsb29yKHkpLEEubGVuZ3RoPT0wfHx5PT0wKXJldHVybiIiO3ZhciB4PUEubGVuZ3RoKnk7Zm9yKHk9TWF0aC5mbG9vcihNYXRoLmxvZyh5KS9NYXRoLmxvZygyKSk7eTspQSs9QSx5LS07cmV0dXJuIEErPUEuc3Vic3RyaW5nKDAseC1BLmxlbmd0aCksQX12YXIgb2U9IiIseWU9IiIsWD0iIiwkPSIiLG09e2RlZXBTdHJpY3RFcXVhbDoiRXhwZWN0ZWQgdmFsdWVzIHRvIGJlIHN0cmljdGx5IGRlZXAtZXF1YWw6IixzdHJpY3RFcXVhbDoiRXhwZWN0ZWQgdmFsdWVzIHRvIGJlIHN0cmljdGx5IGVxdWFsOiIsc3RyaWN0RXF1YWxPYmplY3Q6J0V4cGVjdGVkICJhY3R1YWwiIHRvIGJlIHJlZmVyZW5jZS1lcXVhbCB0byAiZXhwZWN0ZWQiOicsZGVlcEVxdWFsOiJFeHBlY3RlZCB2YWx1ZXMgdG8gYmUgbG9vc2VseSBkZWVwLWVxdWFsOiIsZXF1YWw6IkV4cGVjdGVkIHZhbHVlcyB0byBiZSBsb29zZWx5IGVxdWFsOiIsbm90RGVlcFN0cmljdEVxdWFsOidFeHBlY3RlZCAiYWN0dWFsIiBub3QgdG8gYmUgc3RyaWN0bHkgZGVlcC1lcXVhbCB0bzonLG5vdFN0cmljdEVxdWFsOidFeHBlY3RlZCAiYWN0dWFsIiB0byBiZSBzdHJpY3RseSB1bmVxdWFsIHRvOicsbm90U3RyaWN0RXF1YWxPYmplY3Q6J0V4cGVjdGVkICJhY3R1YWwiIG5vdCB0byBiZSByZWZlcmVuY2UtZXF1YWwgdG8gImV4cGVjdGVkIjonLG5vdERlZXBFcXVhbDonRXhwZWN0ZWQgImFjdHVhbCIgbm90IHRvIGJlIGxvb3NlbHkgZGVlcC1lcXVhbCB0bzonLG5vdEVxdWFsOidFeHBlY3RlZCAiYWN0dWFsIiB0byBiZSBsb29zZWx5IHVuZXF1YWwgdG86Jyxub3RJZGVudGljYWw6IlZhbHVlcyBpZGVudGljYWwgYnV0IG5vdCByZWZlcmVuY2UtZXF1YWw6In0sbD0xMDtmdW5jdGlvbiB2KEEpe3ZhciB5PU9iamVjdC5rZXlzKEEpLHg9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YoQSkpO3JldHVybiB5LmZvckVhY2goZnVuY3Rpb24ocCl7eFtwXT1BW3BdfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHgsIm1lc3NhZ2UiLHt2YWx1ZTpBLm1lc3NhZ2V9KSx4fWZ1bmN0aW9uIEUoQSl7cmV0dXJuIGllKEEse2NvbXBhY3Q6ITEsY3VzdG9tSW5zcGVjdDohMSxkZXB0aDoxZTMsbWF4QXJyYXlMZW5ndGg6MS8wLHNob3dIaWRkZW46ITEsYnJlYWtMZW5ndGg6MS8wLHNob3dQcm94eTohMSxzb3J0ZWQ6ITAsZ2V0dGVyczohMH0pfWZ1bmN0aW9uIFMoQSx5LHgpe3ZhciBwPSIiLEk9IiIsZWU9MCxmZT0iIixKPSExLGs9RShBKSxEPWsuc3BsaXQoYApgKSxqPUUoeSkuc3BsaXQoYApgKSx0ZT0wLFU9IiI7aWYoeD09PSJzdHJpY3RFcXVhbCImJlYoQSk9PT0ib2JqZWN0IiYmVih5KT09PSJvYmplY3QiJiZBIT09bnVsbCYmeSE9PW51bGwmJih4PSJzdHJpY3RFcXVhbE9iamVjdCIpLEQubGVuZ3RoPT09MSYmai5sZW5ndGg9PT0xJiZEWzBdIT09alswXSl7dmFyIEY9RFswXS5sZW5ndGgralswXS5sZW5ndGg7aWYoRjw9bCl7aWYoKFYoQSkhPT0ib2JqZWN0Inx8QT09PW51bGwpJiYoVih5KSE9PSJvYmplY3QifHx5PT09bnVsbCkmJihBIT09MHx8eSE9PTApKXJldHVybiIiLmNvbmNhdChtW3hdLGAKCmApKyIiLmNvbmNhdChEWzBdLCIgIT09ICIpLmNvbmNhdChqWzBdLGAKYCl9ZWxzZSBpZih4IT09InN0cmljdEVxdWFsT2JqZWN0Iil7dmFyIHVlPWFwaSQxLnN0ZGVyciYmYXBpJDEuc3RkZXJyLmlzVFRZP2FwaSQxLnN0ZGVyci5jb2x1bW5zOjgwO2lmKEY8dWUpe2Zvcig7RFswXVt0ZV09PT1qWzBdW3RlXTspdGUrKzt0ZT4yJiYoVT1gCiAgYC5jb25jYXQobGUoIiAiLHRlKSwiXiIpLHRlPTApfX19Zm9yKHZhciBwZT1EW0QubGVuZ3RoLTFdLF9lPWpbai5sZW5ndGgtMV07cGU9PT1fZSYmKHRlKys8Mj9mZT1gCiAgYC5jb25jYXQocGUpLmNvbmNhdChmZSk6cD1wZSxELnBvcCgpLGoucG9wKCksIShELmxlbmd0aD09PTB8fGoubGVuZ3RoPT09MCkpOylwZT1EW0QubGVuZ3RoLTFdLF9lPWpbai5sZW5ndGgtMV07dmFyIFk9TWF0aC5tYXgoRC5sZW5ndGgsai5sZW5ndGgpO2lmKFk9PT0wKXt2YXIgTj1rLnNwbGl0KGAKYCk7aWYoTi5sZW5ndGg+MzApZm9yKE5bMjZdPSIiLmNvbmNhdChvZSwiLi4uIikuY29uY2F0KCQpO04ubGVuZ3RoPjI3OylOLnBvcCgpO3JldHVybiIiLmNvbmNhdChtLm5vdElkZW50aWNhbCxgCgpgKS5jb25jYXQoTi5qb2luKGAKYCksYApgKX10ZT4zJiYoZmU9YApgLmNvbmNhdChvZSwiLi4uIikuY29uY2F0KCQpLmNvbmNhdChmZSksSj0hMCkscCE9PSIiJiYoZmU9YAogIGAuY29uY2F0KHApLmNvbmNhdChmZSkscD0iIik7dmFyIEM9MCxaPW1beF0rYApgLmNvbmNhdCh5ZSwiKyBhY3R1YWwiKS5jb25jYXQoJCwiICIpLmNvbmNhdChYLCItIGV4cGVjdGVkIikuY29uY2F0KCQpLHNlPSIgIi5jb25jYXQob2UsIi4uLiIpLmNvbmNhdCgkLCIgTGluZXMgc2tpcHBlZCIpO2Zvcih0ZT0wO3RlPFk7dGUrKyl7dmFyIGRlPXRlLWVlO2lmKEQubGVuZ3RoPHRlKzEpZGU+MSYmdGU+MiYmKGRlPjQ/KEkrPWAKYC5jb25jYXQob2UsIi4uLiIpLmNvbmNhdCgkKSxKPSEwKTpkZT4zJiYoSSs9YAogIGAuY29uY2F0KGpbdGUtMl0pLEMrKyksSSs9YAogIGAuY29uY2F0KGpbdGUtMV0pLEMrKyksZWU9dGUscCs9YApgLmNvbmNhdChYLCItIikuY29uY2F0KCQsIiAiKS5jb25jYXQoalt0ZV0pLEMrKztlbHNlIGlmKGoubGVuZ3RoPHRlKzEpZGU+MSYmdGU+MiYmKGRlPjQ/KEkrPWAKYC5jb25jYXQob2UsIi4uLiIpLmNvbmNhdCgkKSxKPSEwKTpkZT4zJiYoSSs9YAogIGAuY29uY2F0KERbdGUtMl0pLEMrKyksSSs9YAogIGAuY29uY2F0KERbdGUtMV0pLEMrKyksZWU9dGUsSSs9YApgLmNvbmNhdCh5ZSwiKyIpLmNvbmNhdCgkLCIgIikuY29uY2F0KERbdGVdKSxDKys7ZWxzZXt2YXIgbWU9alt0ZV0sd2U9RFt0ZV0sbmU9d2UhPT1tZSYmKCFjZSh3ZSwiLCIpfHx3ZS5zbGljZSgwLC0xKSE9PW1lKTtuZSYmY2UobWUsIiwiKSYmbWUuc2xpY2UoMCwtMSk9PT13ZSYmKG5lPSExLHdlKz0iLCIpLG5lPyhkZT4xJiZ0ZT4yJiYoZGU+ND8oSSs9YApgLmNvbmNhdChvZSwiLi4uIikuY29uY2F0KCQpLEo9ITApOmRlPjMmJihJKz1gCiAgYC5jb25jYXQoRFt0ZS0yXSksQysrKSxJKz1gCiAgYC5jb25jYXQoRFt0ZS0xXSksQysrKSxlZT10ZSxJKz1gCmAuY29uY2F0KHllLCIrIikuY29uY2F0KCQsIiAiKS5jb25jYXQod2UpLHArPWAKYC5jb25jYXQoWCwiLSIpLmNvbmNhdCgkLCIgIikuY29uY2F0KG1lKSxDKz0yKTooSSs9cCxwPSIiLChkZT09PTF8fHRlPT09MCkmJihJKz1gCiAgYC5jb25jYXQod2UpLEMrKykpfWlmKEM+MjAmJnRlPFktMilyZXR1cm4iIi5jb25jYXQoWikuY29uY2F0KHNlLGAKYCkuY29uY2F0KEksYApgKS5jb25jYXQob2UsIi4uLiIpLmNvbmNhdCgkKS5jb25jYXQocCxgCmApKyIiLmNvbmNhdChvZSwiLi4uIikuY29uY2F0KCQpfXJldHVybiIiLmNvbmNhdChaKS5jb25jYXQoSj9zZToiIixgCmApLmNvbmNhdChJKS5jb25jYXQocCkuY29uY2F0KGZlKS5jb25jYXQoVSl9dmFyIEI9ZnVuY3Rpb24oQSx5KXt3KHAsQSk7dmFyIHg9XyhwKTtmdW5jdGlvbiBwKEkpe3ZhciBlZTtpZihhKHRoaXMscCksVihJKSE9PSJvYmplY3QifHxJPT09bnVsbCl0aHJvdyBuZXcgcmUoIm9wdGlvbnMiLCJPYmplY3QiLEkpO3ZhciBmZT1JLm1lc3NhZ2UsSj1JLm9wZXJhdG9yLGs9SS5zdGFja1N0YXJ0Rm4sRD1JLmFjdHVhbCxqPUkuZXhwZWN0ZWQsdGU9RXJyb3Iuc3RhY2tUcmFjZUxpbWl0O2lmKEVycm9yLnN0YWNrVHJhY2VMaW1pdD0wLGZlIT1udWxsKWVlPXguY2FsbCh0aGlzLFN0cmluZyhmZSkpO2Vsc2UgaWYoYXBpJDEuc3RkZXJyJiZhcGkkMS5zdGRlcnIuaXNUVFkmJihhcGkkMS5zdGRlcnImJmFwaSQxLnN0ZGVyci5nZXRDb2xvckRlcHRoJiZhcGkkMS5zdGRlcnIuZ2V0Q29sb3JEZXB0aCgpIT09MT8ob2U9Ilx4MUJbMzRtIix5ZT0iXHgxQlszMm0iLCQ9Ilx4MUJbMzltIixYPSJceDFCWzMxbSIpOihvZT0iIix5ZT0iIiwkPSIiLFg9IiIpKSxWKEQpPT09Im9iamVjdCImJkQhPT1udWxsJiZWKGopPT09Im9iamVjdCImJmohPT1udWxsJiYic3RhY2siaW4gRCYmRCBpbnN0YW5jZW9mIEVycm9yJiYic3RhY2siaW4gaiYmaiBpbnN0YW5jZW9mIEVycm9yJiYoRD12KEQpLGo9dihqKSksSj09PSJkZWVwU3RyaWN0RXF1YWwifHxKPT09InN0cmljdEVxdWFsIillZT14LmNhbGwodGhpcyxTKEQsaixKKSk7ZWxzZSBpZihKPT09Im5vdERlZXBTdHJpY3RFcXVhbCJ8fEo9PT0ibm90U3RyaWN0RXF1YWwiKXt2YXIgVT1tW0pdLEY9RShEKS5zcGxpdChgCmApO2lmKEo9PT0ibm90U3RyaWN0RXF1YWwiJiZWKEQpPT09Im9iamVjdCImJkQhPT1udWxsJiYoVT1tLm5vdFN0cmljdEVxdWFsT2JqZWN0KSxGLmxlbmd0aD4zMClmb3IoRlsyNl09IiIuY29uY2F0KG9lLCIuLi4iKS5jb25jYXQoJCk7Ri5sZW5ndGg+Mjc7KUYucG9wKCk7Ri5sZW5ndGg9PT0xP2VlPXguY2FsbCh0aGlzLCIiLmNvbmNhdChVLCIgIikuY29uY2F0KEZbMF0pKTplZT14LmNhbGwodGhpcywiIi5jb25jYXQoVSxgCgpgKS5jb25jYXQoRi5qb2luKGAKYCksYApgKSl9ZWxzZXt2YXIgdWU9RShEKSxwZT0iIixfZT1tW0pdO0o9PT0ibm90RGVlcEVxdWFsInx8Sj09PSJub3RFcXVhbCI/KHVlPSIiLmNvbmNhdChtW0pdLGAKCmApLmNvbmNhdCh1ZSksdWUubGVuZ3RoPjEwMjQmJih1ZT0iIi5jb25jYXQodWUuc2xpY2UoMCwxMDIxKSwiLi4uIikpKToocGU9IiIuY29uY2F0KEUoaikpLHVlLmxlbmd0aD41MTImJih1ZT0iIi5jb25jYXQodWUuc2xpY2UoMCw1MDkpLCIuLi4iKSkscGUubGVuZ3RoPjUxMiYmKHBlPSIiLmNvbmNhdChwZS5zbGljZSgwLDUwOSksIi4uLiIpKSxKPT09ImRlZXBFcXVhbCJ8fEo9PT0iZXF1YWwiP3VlPSIiLmNvbmNhdChfZSxgCgpgKS5jb25jYXQodWUsYAoKc2hvdWxkIGVxdWFsCgpgKTpwZT0iICIuY29uY2F0KEosIiAiKS5jb25jYXQocGUpKSxlZT14LmNhbGwodGhpcywiIi5jb25jYXQodWUpLmNvbmNhdChwZSkpfXJldHVybiBFcnJvci5zdGFja1RyYWNlTGltaXQ9dGUsZWUuZ2VuZXJhdGVkTWVzc2FnZT0hZmUsT2JqZWN0LmRlZmluZVByb3BlcnR5KE0oZWUpLCJuYW1lIix7dmFsdWU6IkFzc2VydGlvbkVycm9yIFtFUlJfQVNTRVJUSU9OXSIsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlZS5jb2RlPSJFUlJfQVNTRVJUSU9OIixlZS5hY3R1YWw9RCxlZS5leHBlY3RlZD1qLGVlLm9wZXJhdG9yPUosRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKE0oZWUpLGspLGVlLnN0YWNrLGVlLm5hbWU9IkFzc2VydGlvbkVycm9yIixiKGVlKX1yZXR1cm4gbyhwLFt7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iIi5jb25jYXQodGhpcy5uYW1lLCIgWyIpLmNvbmNhdCh0aGlzLmNvZGUsIl06ICIpLmNvbmNhdCh0aGlzLm1lc3NhZ2UpfX0se2tleTp5LHZhbHVlOmZ1bmN0aW9uKGVlLGZlKXtyZXR1cm4gaWUodGhpcyx0KHQoe30sZmUpLHt9LHtjdXN0b21JbnNwZWN0OiExLGRlcHRoOjB9KSl9fV0pLHB9KE8oRXJyb3IpLGllLmN1c3RvbSk7cmV0dXJuIGFzc2VydGlvbl9lcnJvcj1CLGFzc2VydGlvbl9lcnJvcn12YXIgdG9TdHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxpc0FyZ3VtZW50cz1mdW5jdGlvbiBlKHQpe3ZhciBuPXRvU3RyLmNhbGwodCksYT1uPT09IltvYmplY3QgQXJndW1lbnRzXSI7cmV0dXJuIGF8fChhPW4hPT0iW29iamVjdCBBcnJheV0iJiZ0IT09bnVsbCYmdHlwZW9mIHQ9PSJvYmplY3QiJiZ0eXBlb2YgdC5sZW5ndGg9PSJudW1iZXIiJiZ0Lmxlbmd0aD49MCYmdG9TdHIuY2FsbCh0LmNhbGxlZSk9PT0iW29iamVjdCBGdW5jdGlvbl0iKSxhfSxpbXBsZW1lbnRhdGlvbiQ1LGhhc1JlcXVpcmVkSW1wbGVtZW50YXRpb24kMTtmdW5jdGlvbiByZXF1aXJlSW1wbGVtZW50YXRpb24kMSgpe2lmKGhhc1JlcXVpcmVkSW1wbGVtZW50YXRpb24kMSlyZXR1cm4gaW1wbGVtZW50YXRpb24kNTtoYXNSZXF1aXJlZEltcGxlbWVudGF0aW9uJDE9MTt2YXIgZTtpZighT2JqZWN0LmtleXMpe3ZhciB0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGE9aXNBcmd1bWVudHMsdT1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLG89IXUuY2FsbCh7dG9TdHJpbmc6bnVsbH0sInRvU3RyaW5nIiksaD11LmNhbGwoZnVuY3Rpb24oKXt9LCJwcm90b3R5cGUiKSxkPVsidG9TdHJpbmciLCJ0b0xvY2FsZVN0cmluZyIsInZhbHVlT2YiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsImNvbnN0cnVjdG9yIl0sdz1mdW5jdGlvbihPKXt2YXIgVD1PLmNvbnN0cnVjdG9yO3JldHVybiBUJiZULnByb3RvdHlwZT09PU99LF89eyRhcHBsaWNhdGlvbkNhY2hlOiEwLCRjb25zb2xlOiEwLCRleHRlcm5hbDohMCwkZnJhbWU6ITAsJGZyYW1lRWxlbWVudDohMCwkZnJhbWVzOiEwLCRpbm5lckhlaWdodDohMCwkaW5uZXJXaWR0aDohMCwkb25tb3pmdWxsc2NyZWVuY2hhbmdlOiEwLCRvbm1vemZ1bGxzY3JlZW5lcnJvcjohMCwkb3V0ZXJIZWlnaHQ6ITAsJG91dGVyV2lkdGg6ITAsJHBhZ2VYT2Zmc2V0OiEwLCRwYWdlWU9mZnNldDohMCwkcGFyZW50OiEwLCRzY3JvbGxMZWZ0OiEwLCRzY3JvbGxUb3A6ITAsJHNjcm9sbFg6ITAsJHNjcm9sbFk6ITAsJHNlbGY6ITAsJHdlYmtpdEluZGV4ZWREQjohMCwkd2Via2l0U3RvcmFnZUluZm86ITAsJHdpbmRvdzohMH0sYj1mdW5jdGlvbigpe2lmKHR5cGVvZiB3aW5kb3c+InUiKXJldHVybiExO2Zvcih2YXIgTyBpbiB3aW5kb3cpdHJ5e2lmKCFfWyIkIitPXSYmdC5jYWxsKHdpbmRvdyxPKSYmd2luZG93W09dIT09bnVsbCYmdHlwZW9mIHdpbmRvd1tPXT09Im9iamVjdCIpdHJ5e3cod2luZG93W09dKX1jYXRjaHtyZXR1cm4hMH19Y2F0Y2h7cmV0dXJuITB9cmV0dXJuITF9KCksTT1mdW5jdGlvbihPKXtpZih0eXBlb2Ygd2luZG93PiJ1Inx8IWIpcmV0dXJuIHcoTyk7dHJ5e3JldHVybiB3KE8pfWNhdGNoe3JldHVybiExfX07ZT1mdW5jdGlvbihUKXt2YXIgUD1UIT09bnVsbCYmdHlwZW9mIFQ9PSJvYmplY3QiLEw9bi5jYWxsKFQpPT09IltvYmplY3QgRnVuY3Rpb25dIix6PWEoVCksSD1QJiZuLmNhbGwoVCk9PT0iW29iamVjdCBTdHJpbmddIixWPVtdO2lmKCFQJiYhTCYmIXopdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCIpO3ZhciBhZT1oJiZMO2lmKEgmJlQubGVuZ3RoPjAmJiF0LmNhbGwoVCwwKSlmb3IodmFyIGllPTA7aWU8VC5sZW5ndGg7KytpZSlWLnB1c2goU3RyaW5nKGllKSk7aWYoeiYmVC5sZW5ndGg+MClmb3IodmFyIFE9MDtRPFQubGVuZ3RoOysrUSlWLnB1c2goU3RyaW5nKFEpKTtlbHNlIGZvcih2YXIgcmUgaW4gVCkhKGFlJiZyZT09PSJwcm90b3R5cGUiKSYmdC5jYWxsKFQscmUpJiZWLnB1c2goU3RyaW5nKHJlKSk7aWYobylmb3IodmFyIGNlPU0oVCksbGU9MDtsZTxkLmxlbmd0aDsrK2xlKSEoY2UmJmRbbGVdPT09ImNvbnN0cnVjdG9yIikmJnQuY2FsbChULGRbbGVdKSYmVi5wdXNoKGRbbGVdKTtyZXR1cm4gVn19cmV0dXJuIGltcGxlbWVudGF0aW9uJDU9ZSxpbXBsZW1lbnRhdGlvbiQ1fXZhciBzbGljZT1BcnJheS5wcm90b3R5cGUuc2xpY2UsaXNBcmdzPWlzQXJndW1lbnRzLG9yaWdLZXlzPU9iamVjdC5rZXlzLGtleXNTaGltPW9yaWdLZXlzP2Z1bmN0aW9uIGUodCl7cmV0dXJuIG9yaWdLZXlzKHQpfTpyZXF1aXJlSW1wbGVtZW50YXRpb24kMSgpLG9yaWdpbmFsS2V5cz1PYmplY3Qua2V5cztrZXlzU2hpbS5zaGltPWZ1bmN0aW9uIGUoKXtpZihPYmplY3Qua2V5cyl7dmFyIHQ9ZnVuY3Rpb24oKXt2YXIgbj1PYmplY3Qua2V5cyhhcmd1bWVudHMpO3JldHVybiBuJiZuLmxlbmd0aD09PWFyZ3VtZW50cy5sZW5ndGh9KDEsMik7dHx8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKGEpe3JldHVybiBpc0FyZ3MoYSk/b3JpZ2luYWxLZXlzKHNsaWNlLmNhbGwoYSkpOm9yaWdpbmFsS2V5cyhhKX0pfWVsc2UgT2JqZWN0LmtleXM9a2V5c1NoaW07cmV0dXJuIE9iamVjdC5rZXlzfHxrZXlzU2hpbX07dmFyIG9iamVjdEtleXMkMT1rZXlzU2hpbSxvYmplY3RLZXlzPW9iamVjdEtleXMkMSxoYXNTeW1ib2xzPXNoYW1zJDEoKSxjYWxsQm91bmQkMT1jYWxsQm91bmQkNCwkT2JqZWN0PWVzT2JqZWN0QXRvbXMsJHB1c2g9Y2FsbEJvdW5kJDEoIkFycmF5LnByb3RvdHlwZS5wdXNoIiksJHByb3BJc0VudW1lcmFibGU9Y2FsbEJvdW5kJDEoIk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUiKSxvcmlnaW5hbEdldFN5bWJvbHM9aGFzU3ltYm9scz8kT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczpudWxsLGltcGxlbWVudGF0aW9uJDQ9ZnVuY3Rpb24gZSh0LG4pe2lmKHQ9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigidGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Iik7dmFyIGE9JE9iamVjdCh0KTtpZihhcmd1bWVudHMubGVuZ3RoPT09MSlyZXR1cm4gYTtmb3IodmFyIHU9MTt1PGFyZ3VtZW50cy5sZW5ndGg7Kyt1KXt2YXIgbz0kT2JqZWN0KGFyZ3VtZW50c1t1XSksaD1vYmplY3RLZXlzKG8pLGQ9aGFzU3ltYm9scyYmKCRPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfHxvcmlnaW5hbEdldFN5bWJvbHMpO2lmKGQpZm9yKHZhciB3PWQobyksXz0wO188dy5sZW5ndGg7KytfKXt2YXIgYj13W19dOyRwcm9wSXNFbnVtZXJhYmxlKG8sYikmJiRwdXNoKGgsYil9Zm9yKHZhciBNPTA7TTxoLmxlbmd0aDsrK00pe3ZhciBPPWhbTV07aWYoJHByb3BJc0VudW1lcmFibGUobyxPKSl7dmFyIFQ9b1tPXTthW09dPVR9fX1yZXR1cm4gYX0saW1wbGVtZW50YXRpb24kMz1pbXBsZW1lbnRhdGlvbiQ0LGxhY2tzUHJvcGVyRW51bWVyYXRpb25PcmRlcj1mdW5jdGlvbigpe2lmKCFPYmplY3QuYXNzaWduKXJldHVybiExO2Zvcih2YXIgZT0iYWJjZGVmZ2hpamtsbW5vcHFyc3QiLHQ9ZS5zcGxpdCgiIiksbj17fSxhPTA7YTx0Lmxlbmd0aDsrK2Epblt0W2FdXT10W2FdO3ZhciB1PU9iamVjdC5hc3NpZ24oe30sbiksbz0iIjtmb3IodmFyIGggaW4gdSlvKz1oO3JldHVybiBlIT09b30sYXNzaWduSGFzUGVuZGluZ0V4Y2VwdGlvbnM9ZnVuY3Rpb24oKXtpZighT2JqZWN0LmFzc2lnbnx8IU9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucylyZXR1cm4hMTt2YXIgZT1PYmplY3QucHJldmVudEV4dGVuc2lvbnMoezE6Mn0pO3RyeXtPYmplY3QuYXNzaWduKGUsInh5Iil9Y2F0Y2h7cmV0dXJuIGVbMV09PT0ieSJ9cmV0dXJuITF9LHBvbHlmaWxsJDI9ZnVuY3Rpb24gZSgpe3JldHVybiFPYmplY3QuYXNzaWdufHxsYWNrc1Byb3BlckVudW1lcmF0aW9uT3JkZXIoKXx8YXNzaWduSGFzUGVuZGluZ0V4Y2VwdGlvbnMoKT9pbXBsZW1lbnRhdGlvbiQzOk9iamVjdC5hc3NpZ259LG51bWJlcklzTmFOPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09ZX0saW1wbGVtZW50YXRpb24kMj1mdW5jdGlvbiBlKHQsbil7cmV0dXJuIHQ9PT0wJiZuPT09MD8xL3Q9PT0xL246ISEodD09PW58fG51bWJlcklzTmFOKHQpJiZudW1iZXJJc05hTihuKSl9LGltcGxlbWVudGF0aW9uJDE9aW1wbGVtZW50YXRpb24kMixwb2x5ZmlsbCQxPWZ1bmN0aW9uIGUoKXtyZXR1cm4gdHlwZW9mIE9iamVjdC5pcz09ImZ1bmN0aW9uIj9PYmplY3QuaXM6aW1wbGVtZW50YXRpb24kMX0sR2V0SW50cmluc2ljPWdldEludHJpbnNpYyxjYWxsQmluZD1jYWxsQmluZEV4cG9ydHMsJGluZGV4T2Y9Y2FsbEJpbmQoR2V0SW50cmluc2ljKCJTdHJpbmcucHJvdG90eXBlLmluZGV4T2YiKSksY2FsbEJvdW5kPWZ1bmN0aW9uIGUodCxuKXt2YXIgYT1HZXRJbnRyaW5zaWModCwhIW4pO3JldHVybiB0eXBlb2YgYT09ImZ1bmN0aW9uIiYmJGluZGV4T2YodCwiLnByb3RvdHlwZS4iKT4tMT9jYWxsQmluZChhKTphfSxkZWZpbmVQcm9wZXJ0aWVzXzEsaGFzUmVxdWlyZWREZWZpbmVQcm9wZXJ0aWVzO2Z1bmN0aW9uIHJlcXVpcmVEZWZpbmVQcm9wZXJ0aWVzKCl7aWYoaGFzUmVxdWlyZWREZWZpbmVQcm9wZXJ0aWVzKXJldHVybiBkZWZpbmVQcm9wZXJ0aWVzXzE7aGFzUmVxdWlyZWREZWZpbmVQcm9wZXJ0aWVzPTE7dmFyIGU9b2JqZWN0S2V5cyQxLHQ9dHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmdHlwZW9mIFN5bWJvbCgiZm9vIik9PSJzeW1ib2wiLG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxhPUFycmF5LnByb3RvdHlwZS5jb25jYXQsdT1kZWZpbmVEYXRhUHJvcGVydHksbz1mdW5jdGlvbihfKXtyZXR1cm4gdHlwZW9mIF89PSJmdW5jdGlvbiImJm4uY2FsbChfKT09PSJbb2JqZWN0IEZ1bmN0aW9uXSJ9LGg9aGFzUHJvcGVydHlEZXNjcmlwdG9yc18xKCksZD1mdW5jdGlvbihfLGIsTSxPKXtpZihiIGluIF8pe2lmKE89PT0hMCl7aWYoX1tiXT09PU0pcmV0dXJufWVsc2UgaWYoIW8oTyl8fCFPKCkpcmV0dXJufWg/dShfLGIsTSwhMCk6dShfLGIsTSl9LHc9ZnVuY3Rpb24oXyxiKXt2YXIgTT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnt9LE89ZShiKTt0JiYoTz1hLmNhbGwoTyxPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGIpKSk7Zm9yKHZhciBUPTA7VDxPLmxlbmd0aDtUKz0xKWQoXyxPW1RdLGJbT1tUXV0sTVtPW1RdXSl9O3JldHVybiB3LnN1cHBvcnRzRGVzY3JpcHRvcnM9ISFoLGRlZmluZVByb3BlcnRpZXNfMT13LGRlZmluZVByb3BlcnRpZXNfMX12YXIgc2hpbSQxLGhhc1JlcXVpcmVkU2hpbSQxO2Z1bmN0aW9uIHJlcXVpcmVTaGltJDEoKXtpZihoYXNSZXF1aXJlZFNoaW0kMSlyZXR1cm4gc2hpbSQxO2hhc1JlcXVpcmVkU2hpbSQxPTE7dmFyIGU9cG9seWZpbGwkMSx0PXJlcXVpcmVEZWZpbmVQcm9wZXJ0aWVzKCk7cmV0dXJuIHNoaW0kMT1mdW5jdGlvbigpe3ZhciBhPWUoKTtyZXR1cm4gdChPYmplY3Qse2lzOmF9LHtpczpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXMhPT1hfX0pLGF9LHNoaW0kMX12YXIgb2JqZWN0SXMsaGFzUmVxdWlyZWRPYmplY3RJcztmdW5jdGlvbiByZXF1aXJlT2JqZWN0SXMoKXtpZihoYXNSZXF1aXJlZE9iamVjdElzKXJldHVybiBvYmplY3RJcztoYXNSZXF1aXJlZE9iamVjdElzPTE7dmFyIGU9cmVxdWlyZURlZmluZVByb3BlcnRpZXMoKSx0PWNhbGxCaW5kRXhwb3J0cyxuPWltcGxlbWVudGF0aW9uJDIsYT1wb2x5ZmlsbCQxLHU9cmVxdWlyZVNoaW0kMSgpLG89dChhKCksT2JqZWN0KTtyZXR1cm4gZShvLHtnZXRQb2x5ZmlsbDphLGltcGxlbWVudGF0aW9uOm4sc2hpbTp1fSksb2JqZWN0SXM9byxvYmplY3RJc312YXIgaW1wbGVtZW50YXRpb24saGFzUmVxdWlyZWRJbXBsZW1lbnRhdGlvbjtmdW5jdGlvbiByZXF1aXJlSW1wbGVtZW50YXRpb24oKXtyZXR1cm4gaGFzUmVxdWlyZWRJbXBsZW1lbnRhdGlvbnx8KGhhc1JlcXVpcmVkSW1wbGVtZW50YXRpb249MSxpbXBsZW1lbnRhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXR9KSxpbXBsZW1lbnRhdGlvbn12YXIgcG9seWZpbGwsaGFzUmVxdWlyZWRQb2x5ZmlsbDtmdW5jdGlvbiByZXF1aXJlUG9seWZpbGwoKXtpZihoYXNSZXF1aXJlZFBvbHlmaWxsKXJldHVybiBwb2x5ZmlsbDtoYXNSZXF1aXJlZFBvbHlmaWxsPTE7dmFyIGU9cmVxdWlyZUltcGxlbWVudGF0aW9uKCk7cmV0dXJuIHBvbHlmaWxsPWZ1bmN0aW9uKCl7cmV0dXJuIE51bWJlci5pc05hTiYmTnVtYmVyLmlzTmFOKE5hTikmJiFOdW1iZXIuaXNOYU4oImEiKT9OdW1iZXIuaXNOYU46ZX0scG9seWZpbGx9dmFyIHNoaW0saGFzUmVxdWlyZWRTaGltO2Z1bmN0aW9uIHJlcXVpcmVTaGltKCl7aWYoaGFzUmVxdWlyZWRTaGltKXJldHVybiBzaGltO2hhc1JlcXVpcmVkU2hpbT0xO3ZhciBlPXJlcXVpcmVEZWZpbmVQcm9wZXJ0aWVzKCksdD1yZXF1aXJlUG9seWZpbGwoKTtyZXR1cm4gc2hpbT1mdW5jdGlvbigpe3ZhciBhPXQoKTtyZXR1cm4gZShOdW1iZXIse2lzTmFOOmF9LHtpc05hTjpmdW5jdGlvbigpe3JldHVybiBOdW1iZXIuaXNOYU4hPT1hfX0pLGF9LHNoaW19dmFyIGlzTmFuLGhhc1JlcXVpcmVkSXNOYW47ZnVuY3Rpb24gcmVxdWlyZUlzTmFuKCl7aWYoaGFzUmVxdWlyZWRJc05hbilyZXR1cm4gaXNOYW47aGFzUmVxdWlyZWRJc05hbj0xO3ZhciBlPWNhbGxCaW5kRXhwb3J0cyx0PXJlcXVpcmVEZWZpbmVQcm9wZXJ0aWVzKCksbj1yZXF1aXJlSW1wbGVtZW50YXRpb24oKSxhPXJlcXVpcmVQb2x5ZmlsbCgpLHU9cmVxdWlyZVNoaW0oKSxvPWUoYSgpLE51bWJlcik7cmV0dXJuIHQobyx7Z2V0UG9seWZpbGw6YSxpbXBsZW1lbnRhdGlvbjpuLHNoaW06dX0pLGlzTmFuPW8saXNOYW59dmFyIGNvbXBhcmlzb25zLGhhc1JlcXVpcmVkQ29tcGFyaXNvbnM7ZnVuY3Rpb24gcmVxdWlyZUNvbXBhcmlzb25zKCl7aWYoaGFzUmVxdWlyZWRDb21wYXJpc29ucylyZXR1cm4gY29tcGFyaXNvbnM7aGFzUmVxdWlyZWRDb21wYXJpc29ucz0xO2Z1bmN0aW9uIGUobmUsaGUpe3JldHVybiBvKG5lKXx8dShuZSxoZSl8fG4obmUsaGUpfHx0KCl9ZnVuY3Rpb24gdCgpe3Rocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuCkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5gKX1mdW5jdGlvbiBuKG5lLGhlKXtpZihuZSl7aWYodHlwZW9mIG5lPT0ic3RyaW5nIilyZXR1cm4gYShuZSxoZSk7dmFyIGJlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZSkuc2xpY2UoOCwtMSk7aWYoYmU9PT0iT2JqZWN0IiYmbmUuY29uc3RydWN0b3ImJihiZT1uZS5jb25zdHJ1Y3Rvci5uYW1lKSxiZT09PSJNYXAifHxiZT09PSJTZXQiKXJldHVybiBBcnJheS5mcm9tKG5lKTtpZihiZT09PSJBcmd1bWVudHMifHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChiZSkpcmV0dXJuIGEobmUsaGUpfX1mdW5jdGlvbiBhKG5lLGhlKXsoaGU9PW51bGx8fGhlPm5lLmxlbmd0aCkmJihoZT1uZS5sZW5ndGgpO2Zvcih2YXIgYmU9MCx2ZT1uZXcgQXJyYXkoaGUpO2JlPGhlO2JlKyspdmVbYmVdPW5lW2JlXTtyZXR1cm4gdmV9ZnVuY3Rpb24gdShuZSxoZSl7dmFyIGJlPW5lPT1udWxsP251bGw6dHlwZW9mIFN5bWJvbDwidSImJm5lW1N5bWJvbC5pdGVyYXRvcl18fG5lWyJAQGl0ZXJhdG9yIl07aWYoYmUhPW51bGwpe3ZhciB2ZSxFZSx4ZSxnZSxOZT1bXSxTZT0hMCwkZT0hMTt0cnl7aWYoeGU9KGJlPWJlLmNhbGwobmUpKS5uZXh0LGhlPT09MCl7aWYoT2JqZWN0KGJlKSE9PWJlKXJldHVybjtTZT0hMX1lbHNlIGZvcig7IShTZT0odmU9eGUuY2FsbChiZSkpLmRvbmUpJiYoTmUucHVzaCh2ZS52YWx1ZSksTmUubGVuZ3RoIT09aGUpO1NlPSEwKTt9Y2F0Y2goR2UpeyRlPSEwLEVlPUdlfWZpbmFsbHl7dHJ5e2lmKCFTZSYmYmUucmV0dXJuIT1udWxsJiYoZ2U9YmUucmV0dXJuKCksT2JqZWN0KGdlKSE9PWdlKSlyZXR1cm59ZmluYWxseXtpZigkZSl0aHJvdyBFZX19cmV0dXJuIE5lfX1mdW5jdGlvbiBvKG5lKXtpZihBcnJheS5pc0FycmF5KG5lKSlyZXR1cm4gbmV9ZnVuY3Rpb24gaChuZSl7IkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjtyZXR1cm4gaD10eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT0ic3ltYm9sIj9mdW5jdGlvbihoZSl7cmV0dXJuIHR5cGVvZiBoZX06ZnVuY3Rpb24oaGUpe3JldHVybiBoZSYmdHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmaGUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmhlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgaGV9LGgobmUpfXZhciBkPS9hL2cuZmxhZ3MhPT12b2lkIDAsdz1mdW5jdGlvbihoZSl7dmFyIGJlPVtdO3JldHVybiBoZS5mb3JFYWNoKGZ1bmN0aW9uKHZlKXtyZXR1cm4gYmUucHVzaCh2ZSl9KSxiZX0sXz1mdW5jdGlvbihoZSl7dmFyIGJlPVtdO3JldHVybiBoZS5mb3JFYWNoKGZ1bmN0aW9uKHZlLEVlKXtyZXR1cm4gYmUucHVzaChbRWUsdmVdKX0pLGJlfSxiPU9iamVjdC5pcz9PYmplY3QuaXM6cmVxdWlyZU9iamVjdElzKCksTT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sTz1OdW1iZXIuaXNOYU4/TnVtYmVyLmlzTmFOOnJlcXVpcmVJc05hbigpO2Z1bmN0aW9uIFQobmUpe3JldHVybiBuZS5jYWxsLmJpbmQobmUpfXZhciBQPVQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSksTD1UKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUpLHo9VChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSxIPXV0aWwkMy50eXBlcyxWPUguaXNBbnlBcnJheUJ1ZmZlcixhZT1ILmlzQXJyYXlCdWZmZXJWaWV3LGllPUguaXNEYXRlLFE9SC5pc01hcCxyZT1ILmlzUmVnRXhwLGNlPUguaXNTZXQsbGU9SC5pc05hdGl2ZUVycm9yLG9lPUguaXNCb3hlZFByaW1pdGl2ZSx5ZT1ILmlzTnVtYmVyT2JqZWN0LFg9SC5pc1N0cmluZ09iamVjdCwkPUguaXNCb29sZWFuT2JqZWN0LG09SC5pc0JpZ0ludE9iamVjdCxsPUguaXNTeW1ib2xPYmplY3Qsdj1ILmlzRmxvYXQzMkFycmF5LEU9SC5pc0Zsb2F0NjRBcnJheTtmdW5jdGlvbiBTKG5lKXtpZihuZS5sZW5ndGg9PT0wfHxuZS5sZW5ndGg+MTApcmV0dXJuITA7Zm9yKHZhciBoZT0wO2hlPG5lLmxlbmd0aDtoZSsrKXt2YXIgYmU9bmUuY2hhckNvZGVBdChoZSk7aWYoYmU8NDh8fGJlPjU3KXJldHVybiEwfXJldHVybiBuZS5sZW5ndGg9PT0xMCYmbmU+PU1hdGgucG93KDIsMzIpfWZ1bmN0aW9uIEIobmUpe3JldHVybiBPYmplY3Qua2V5cyhuZSkuZmlsdGVyKFMpLmNvbmNhdChNKG5lKS5maWx0ZXIoT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5iaW5kKG5lKSkpfS8qIQogKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci4KICoKICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+CiAqIEBsaWNlbnNlICBNSVQKICovZnVuY3Rpb24gQShuZSxoZSl7aWYobmU9PT1oZSlyZXR1cm4gMDtmb3IodmFyIGJlPW5lLmxlbmd0aCx2ZT1oZS5sZW5ndGgsRWU9MCx4ZT1NYXRoLm1pbihiZSx2ZSk7RWU8eGU7KytFZSlpZihuZVtFZV0hPT1oZVtFZV0pe2JlPW5lW0VlXSx2ZT1oZVtFZV07YnJlYWt9cmV0dXJuIGJlPHZlPy0xOnZlPGJlPzE6MH12YXIgeT0hMCx4PSExLHA9MCxJPTEsZWU9MixmZT0zO2Z1bmN0aW9uIEoobmUsaGUpe3JldHVybiBkP25lLnNvdXJjZT09PWhlLnNvdXJjZSYmbmUuZmxhZ3M9PT1oZS5mbGFnczpSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmUpPT09UmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGhlKX1mdW5jdGlvbiBrKG5lLGhlKXtpZihuZS5ieXRlTGVuZ3RoIT09aGUuYnl0ZUxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGJlPTA7YmU8bmUuYnl0ZUxlbmd0aDtiZSsrKWlmKG5lW2JlXSE9PWhlW2JlXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBEKG5lLGhlKXtyZXR1cm4gbmUuYnl0ZUxlbmd0aCE9PWhlLmJ5dGVMZW5ndGg/ITE6QShuZXcgVWludDhBcnJheShuZS5idWZmZXIsbmUuYnl0ZU9mZnNldCxuZS5ieXRlTGVuZ3RoKSxuZXcgVWludDhBcnJheShoZS5idWZmZXIsaGUuYnl0ZU9mZnNldCxoZS5ieXRlTGVuZ3RoKSk9PT0wfWZ1bmN0aW9uIGoobmUsaGUpe3JldHVybiBuZS5ieXRlTGVuZ3RoPT09aGUuYnl0ZUxlbmd0aCYmQShuZXcgVWludDhBcnJheShuZSksbmV3IFVpbnQ4QXJyYXkoaGUpKT09PTB9ZnVuY3Rpb24gdGUobmUsaGUpe3JldHVybiB5ZShuZSk/eWUoaGUpJiZiKE51bWJlci5wcm90b3R5cGUudmFsdWVPZi5jYWxsKG5lKSxOdW1iZXIucHJvdG90eXBlLnZhbHVlT2YuY2FsbChoZSkpOlgobmUpP1goaGUpJiZTdHJpbmcucHJvdG90eXBlLnZhbHVlT2YuY2FsbChuZSk9PT1TdHJpbmcucHJvdG90eXBlLnZhbHVlT2YuY2FsbChoZSk6JChuZSk/JChoZSkmJkJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChuZSk9PT1Cb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoaGUpOm0obmUpP20oaGUpJiZCaWdJbnQucHJvdG90eXBlLnZhbHVlT2YuY2FsbChuZSk9PT1CaWdJbnQucHJvdG90eXBlLnZhbHVlT2YuY2FsbChoZSk6bChoZSkmJlN5bWJvbC5wcm90b3R5cGUudmFsdWVPZi5jYWxsKG5lKT09PVN5bWJvbC5wcm90b3R5cGUudmFsdWVPZi5jYWxsKGhlKX1mdW5jdGlvbiBVKG5lLGhlLGJlLHZlKXtpZihuZT09PWhlKXJldHVybiBuZSE9PTA/ITA6YmU/YihuZSxoZSk6ITA7aWYoYmUpe2lmKGgobmUpIT09Im9iamVjdCIpcmV0dXJuIHR5cGVvZiBuZT09Im51bWJlciImJk8obmUpJiZPKGhlKTtpZihoKGhlKSE9PSJvYmplY3QifHxuZT09PW51bGx8fGhlPT09bnVsbHx8T2JqZWN0LmdldFByb3RvdHlwZU9mKG5lKSE9PU9iamVjdC5nZXRQcm90b3R5cGVPZihoZSkpcmV0dXJuITF9ZWxzZXtpZihuZT09PW51bGx8fGgobmUpIT09Im9iamVjdCIpcmV0dXJuIGhlPT09bnVsbHx8aChoZSkhPT0ib2JqZWN0Ij9uZT09aGU6ITE7aWYoaGU9PT1udWxsfHxoKGhlKSE9PSJvYmplY3QiKXJldHVybiExfXZhciBFZT16KG5lKSx4ZT16KGhlKTtpZihFZSE9PXhlKXJldHVybiExO2lmKEFycmF5LmlzQXJyYXkobmUpKXtpZihuZS5sZW5ndGghPT1oZS5sZW5ndGgpcmV0dXJuITE7dmFyIGdlPUIobmUpLE5lPUIoaGUpO3JldHVybiBnZS5sZW5ndGghPT1OZS5sZW5ndGg/ITE6dWUobmUsaGUsYmUsdmUsSSxnZSl9aWYoRWU9PT0iW29iamVjdCBPYmplY3RdIiYmKCFRKG5lKSYmUShoZSl8fCFjZShuZSkmJmNlKGhlKSkpcmV0dXJuITE7aWYoaWUobmUpKXtpZighaWUoaGUpfHxEYXRlLnByb3RvdHlwZS5nZXRUaW1lLmNhbGwobmUpIT09RGF0ZS5wcm90b3R5cGUuZ2V0VGltZS5jYWxsKGhlKSlyZXR1cm4hMX1lbHNlIGlmKHJlKG5lKSl7aWYoIXJlKGhlKXx8IUoobmUsaGUpKXJldHVybiExfWVsc2UgaWYobGUobmUpfHxuZSBpbnN0YW5jZW9mIEVycm9yKXtpZihuZS5tZXNzYWdlIT09aGUubWVzc2FnZXx8bmUubmFtZSE9PWhlLm5hbWUpcmV0dXJuITF9ZWxzZSBpZihhZShuZSkpe2lmKCFiZSYmKHYobmUpfHxFKG5lKSkpe2lmKCFrKG5lLGhlKSlyZXR1cm4hMX1lbHNlIGlmKCFEKG5lLGhlKSlyZXR1cm4hMTt2YXIgU2U9QihuZSksJGU9QihoZSk7cmV0dXJuIFNlLmxlbmd0aCE9PSRlLmxlbmd0aD8hMTp1ZShuZSxoZSxiZSx2ZSxwLFNlKX1lbHNle2lmKGNlKG5lKSlyZXR1cm4hY2UoaGUpfHxuZS5zaXplIT09aGUuc2l6ZT8hMTp1ZShuZSxoZSxiZSx2ZSxlZSk7aWYoUShuZSkpcmV0dXJuIVEoaGUpfHxuZS5zaXplIT09aGUuc2l6ZT8hMTp1ZShuZSxoZSxiZSx2ZSxmZSk7aWYoVihuZSkpe2lmKCFqKG5lLGhlKSlyZXR1cm4hMX1lbHNlIGlmKG9lKG5lKSYmIXRlKG5lLGhlKSlyZXR1cm4hMX1yZXR1cm4gdWUobmUsaGUsYmUsdmUscCl9ZnVuY3Rpb24gRihuZSxoZSl7cmV0dXJuIGhlLmZpbHRlcihmdW5jdGlvbihiZSl7cmV0dXJuIEwobmUsYmUpfSl9ZnVuY3Rpb24gdWUobmUsaGUsYmUsdmUsRWUseGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT01KXt4ZT1PYmplY3Qua2V5cyhuZSk7dmFyIGdlPU9iamVjdC5rZXlzKGhlKTtpZih4ZS5sZW5ndGghPT1nZS5sZW5ndGgpcmV0dXJuITF9Zm9yKHZhciBOZT0wO05lPHhlLmxlbmd0aDtOZSsrKWlmKCFQKGhlLHhlW05lXSkpcmV0dXJuITE7aWYoYmUmJmFyZ3VtZW50cy5sZW5ndGg9PT01KXt2YXIgU2U9TShuZSk7aWYoU2UubGVuZ3RoIT09MCl7dmFyICRlPTA7Zm9yKE5lPTA7TmU8U2UubGVuZ3RoO05lKyspe3ZhciBHZT1TZVtOZV07aWYoTChuZSxHZSkpe2lmKCFMKGhlLEdlKSlyZXR1cm4hMTt4ZS5wdXNoKEdlKSwkZSsrfWVsc2UgaWYoTChoZSxHZSkpcmV0dXJuITF9dmFyIENlPU0oaGUpO2lmKFNlLmxlbmd0aCE9PUNlLmxlbmd0aCYmRihoZSxDZSkubGVuZ3RoIT09JGUpcmV0dXJuITF9ZWxzZXt2YXIgTWU9TShoZSk7aWYoTWUubGVuZ3RoIT09MCYmRihoZSxNZSkubGVuZ3RoIT09MClyZXR1cm4hMX19aWYoeGUubGVuZ3RoPT09MCYmKEVlPT09cHx8RWU9PT1JJiZuZS5sZW5ndGg9PT0wfHxuZS5zaXplPT09MCkpcmV0dXJuITA7aWYodmU9PT12b2lkIDApdmU9e3ZhbDE6bmV3IE1hcCx2YWwyOm5ldyBNYXAscG9zaXRpb246MH07ZWxzZXt2YXIgV2U9dmUudmFsMS5nZXQobmUpO2lmKFdlIT09dm9pZCAwKXt2YXIgUGU9dmUudmFsMi5nZXQoaGUpO2lmKFBlIT09dm9pZCAwKXJldHVybiBXZT09PVBlfXZlLnBvc2l0aW9uKyt9dmUudmFsMS5zZXQobmUsdmUucG9zaXRpb24pLHZlLnZhbDIuc2V0KGhlLHZlLnBvc2l0aW9uKTt2YXIgQWU9ZGUobmUsaGUsYmUseGUsdmUsRWUpO3JldHVybiB2ZS52YWwxLmRlbGV0ZShuZSksdmUudmFsMi5kZWxldGUoaGUpLEFlfWZ1bmN0aW9uIHBlKG5lLGhlLGJlLHZlKXtmb3IodmFyIEVlPXcobmUpLHhlPTA7eGU8RWUubGVuZ3RoO3hlKyspe3ZhciBnZT1FZVt4ZV07aWYoVShoZSxnZSxiZSx2ZSkpcmV0dXJuIG5lLmRlbGV0ZShnZSksITB9cmV0dXJuITF9ZnVuY3Rpb24gX2UobmUpe3N3aXRjaChoKG5lKSl7Y2FzZSJ1bmRlZmluZWQiOnJldHVybiBudWxsO2Nhc2Uib2JqZWN0IjpyZXR1cm47Y2FzZSJzeW1ib2wiOnJldHVybiExO2Nhc2Uic3RyaW5nIjpuZT0rbmU7Y2FzZSJudW1iZXIiOmlmKE8obmUpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIFkobmUsaGUsYmUpe3ZhciB2ZT1fZShiZSk7cmV0dXJuIHZlPz8oaGUuaGFzKHZlKSYmIW5lLmhhcyh2ZSkpfWZ1bmN0aW9uIE4obmUsaGUsYmUsdmUsRWUpe3ZhciB4ZT1fZShiZSk7aWYoeGUhPW51bGwpcmV0dXJuIHhlO3ZhciBnZT1oZS5nZXQoeGUpO3JldHVybiBnZT09PXZvaWQgMCYmIWhlLmhhcyh4ZSl8fCFVKHZlLGdlLCExLEVlKT8hMTohbmUuaGFzKHhlKSYmVSh2ZSxnZSwhMSxFZSl9ZnVuY3Rpb24gQyhuZSxoZSxiZSx2ZSl7Zm9yKHZhciBFZT1udWxsLHhlPXcobmUpLGdlPTA7Z2U8eGUubGVuZ3RoO2dlKyspe3ZhciBOZT14ZVtnZV07aWYoaChOZSk9PT0ib2JqZWN0IiYmTmUhPT1udWxsKUVlPT09bnVsbCYmKEVlPW5ldyBTZXQpLEVlLmFkZChOZSk7ZWxzZSBpZighaGUuaGFzKE5lKSl7aWYoYmV8fCFZKG5lLGhlLE5lKSlyZXR1cm4hMTtFZT09PW51bGwmJihFZT1uZXcgU2V0KSxFZS5hZGQoTmUpfX1pZihFZSE9PW51bGwpe2Zvcih2YXIgU2U9dyhoZSksJGU9MDskZTxTZS5sZW5ndGg7JGUrKyl7dmFyIEdlPVNlWyRlXTtpZihoKEdlKT09PSJvYmplY3QiJiZHZSE9PW51bGwpe2lmKCFwZShFZSxHZSxiZSx2ZSkpcmV0dXJuITF9ZWxzZSBpZighYmUmJiFuZS5oYXMoR2UpJiYhcGUoRWUsR2UsYmUsdmUpKXJldHVybiExfXJldHVybiBFZS5zaXplPT09MH1yZXR1cm4hMH1mdW5jdGlvbiBaKG5lLGhlLGJlLHZlLEVlLHhlKXtmb3IodmFyIGdlPXcobmUpLE5lPTA7TmU8Z2UubGVuZ3RoO05lKyspe3ZhciBTZT1nZVtOZV07aWYoVShiZSxTZSxFZSx4ZSkmJlUodmUsaGUuZ2V0KFNlKSxFZSx4ZSkpcmV0dXJuIG5lLmRlbGV0ZShTZSksITB9cmV0dXJuITF9ZnVuY3Rpb24gc2UobmUsaGUsYmUsdmUpe2Zvcih2YXIgRWU9bnVsbCx4ZT1fKG5lKSxnZT0wO2dlPHhlLmxlbmd0aDtnZSsrKXt2YXIgTmU9ZSh4ZVtnZV0sMiksU2U9TmVbMF0sJGU9TmVbMV07aWYoaChTZSk9PT0ib2JqZWN0IiYmU2UhPT1udWxsKUVlPT09bnVsbCYmKEVlPW5ldyBTZXQpLEVlLmFkZChTZSk7ZWxzZXt2YXIgR2U9aGUuZ2V0KFNlKTtpZihHZT09PXZvaWQgMCYmIWhlLmhhcyhTZSl8fCFVKCRlLEdlLGJlLHZlKSl7aWYoYmV8fCFOKG5lLGhlLFNlLCRlLHZlKSlyZXR1cm4hMTtFZT09PW51bGwmJihFZT1uZXcgU2V0KSxFZS5hZGQoU2UpfX19aWYoRWUhPT1udWxsKXtmb3IodmFyIENlPV8oaGUpLE1lPTA7TWU8Q2UubGVuZ3RoO01lKyspe3ZhciBXZT1lKENlW01lXSwyKSxQZT1XZVswXSxBZT1XZVsxXTtpZihoKFBlKT09PSJvYmplY3QiJiZQZSE9PW51bGwpe2lmKCFaKEVlLG5lLFBlLEFlLGJlLHZlKSlyZXR1cm4hMX1lbHNlIGlmKCFiZSYmKCFuZS5oYXMoUGUpfHwhVShuZS5nZXQoUGUpLEFlLCExLHZlKSkmJiFaKEVlLG5lLFBlLEFlLCExLHZlKSlyZXR1cm4hMX1yZXR1cm4gRWUuc2l6ZT09PTB9cmV0dXJuITB9ZnVuY3Rpb24gZGUobmUsaGUsYmUsdmUsRWUseGUpe3ZhciBnZT0wO2lmKHhlPT09ZWUpe2lmKCFDKG5lLGhlLGJlLEVlKSlyZXR1cm4hMX1lbHNlIGlmKHhlPT09ZmUpe2lmKCFzZShuZSxoZSxiZSxFZSkpcmV0dXJuITF9ZWxzZSBpZih4ZT09PUkpZm9yKDtnZTxuZS5sZW5ndGg7Z2UrKylpZihQKG5lLGdlKSl7aWYoIVAoaGUsZ2UpfHwhVShuZVtnZV0saGVbZ2VdLGJlLEVlKSlyZXR1cm4hMX1lbHNle2lmKFAoaGUsZ2UpKXJldHVybiExO2Zvcih2YXIgTmU9T2JqZWN0LmtleXMobmUpO2dlPE5lLmxlbmd0aDtnZSsrKXt2YXIgU2U9TmVbZ2VdO2lmKCFQKGhlLFNlKXx8IVUobmVbU2VdLGhlW1NlXSxiZSxFZSkpcmV0dXJuITF9cmV0dXJuIE5lLmxlbmd0aD09PU9iamVjdC5rZXlzKGhlKS5sZW5ndGh9Zm9yKGdlPTA7Z2U8dmUubGVuZ3RoO2dlKyspe3ZhciAkZT12ZVtnZV07aWYoIVUobmVbJGVdLGhlWyRlXSxiZSxFZSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gbWUobmUsaGUpe3JldHVybiBVKG5lLGhlLHgpfWZ1bmN0aW9uIHdlKG5lLGhlKXtyZXR1cm4gVShuZSxoZSx5KX1yZXR1cm4gY29tcGFyaXNvbnM9e2lzRGVlcEVxdWFsOm1lLGlzRGVlcFN0cmljdEVxdWFsOndlfSxjb21wYXJpc29uc312YXIgaGFzUmVxdWlyZWRBc3NlcnQ7ZnVuY3Rpb24gcmVxdWlyZUFzc2VydCgpe2lmKGhhc1JlcXVpcmVkQXNzZXJ0KXJldHVybiBhc3NlcnQuZXhwb3J0cztoYXNSZXF1aXJlZEFzc2VydD0xO2Z1bmN0aW9uIGUoayl7IkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjtyZXR1cm4gZT10eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT0ic3ltYm9sIj9mdW5jdGlvbihEKXtyZXR1cm4gdHlwZW9mIER9OmZ1bmN0aW9uKEQpe3JldHVybiBEJiZ0eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZELmNvbnN0cnVjdG9yPT09U3ltYm9sJiZEIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgRH0sZShrKX1mdW5jdGlvbiB0KGssRCl7Zm9yKHZhciBqPTA7ajxELmxlbmd0aDtqKyspe3ZhciB0ZT1EW2pdO3RlLmVudW1lcmFibGU9dGUuZW51bWVyYWJsZXx8ITEsdGUuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiB0ZSYmKHRlLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoayxhKHRlLmtleSksdGUpfX1mdW5jdGlvbiBuKGssRCxqKXtyZXR1cm4gRCYmdChrLnByb3RvdHlwZSxEKSxqJiZ0KGssaiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGssInByb3RvdHlwZSIse3dyaXRhYmxlOiExfSksa31mdW5jdGlvbiBhKGspe3ZhciBEPXUoaywic3RyaW5nIik7cmV0dXJuIGUoRCk9PT0ic3ltYm9sIj9EOlN0cmluZyhEKX1mdW5jdGlvbiB1KGssRCl7aWYoZShrKSE9PSJvYmplY3QifHxrPT09bnVsbClyZXR1cm4gazt2YXIgaj1rW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYoaiE9PXZvaWQgMCl7dmFyIHRlPWouY2FsbChrLER8fCJkZWZhdWx0Iik7aWYoZSh0ZSkhPT0ib2JqZWN0IilyZXR1cm4gdGU7dGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKX1yZXR1cm4oRD09PSJzdHJpbmciP1N0cmluZzpOdW1iZXIpKGspfWZ1bmN0aW9uIG8oayxEKXtpZighKGsgaW5zdGFuY2VvZiBEKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX12YXIgaD1yZXF1aXJlRXJyb3JzKCksZD1oLmNvZGVzLHc9ZC5FUlJfQU1CSUdVT1VTX0FSR1VNRU5ULF89ZC5FUlJfSU5WQUxJRF9BUkdfVFlQRSxiPWQuRVJSX0lOVkFMSURfQVJHX1ZBTFVFLE09ZC5FUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUUsTz1kLkVSUl9NSVNTSU5HX0FSR1MsVD1yZXF1aXJlQXNzZXJ0aW9uX2Vycm9yKCksUD11dGlsJDMsTD1QLmluc3BlY3Qsej11dGlsJDMudHlwZXMsSD16LmlzUHJvbWlzZSxWPXouaXNSZWdFeHAsYWU9cG9seWZpbGwkMigpLGllPXBvbHlmaWxsJDEoKSxRPWNhbGxCb3VuZCgiUmVnRXhwLnByb3RvdHlwZS50ZXN0IikscmUsY2U7ZnVuY3Rpb24gbGUoKXt2YXIgaz1yZXF1aXJlQ29tcGFyaXNvbnMoKTtyZT1rLmlzRGVlcEVxdWFsLGNlPWsuaXNEZWVwU3RyaWN0RXF1YWx9dmFyIG9lPSExLHllPWFzc2VydC5leHBvcnRzPXYsWD17fTtmdW5jdGlvbiAkKGspe3Rocm93IGsubWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yP2subWVzc2FnZTpuZXcgVChrKX1mdW5jdGlvbiBtKGssRCxqLHRlLFUpe3ZhciBGPWFyZ3VtZW50cy5sZW5ndGgsdWU7aWYoRj09PTApdWU9IkZhaWxlZCI7ZWxzZSBpZihGPT09MSlqPWssaz12b2lkIDA7ZWxzZXtpZihvZT09PSExKXtvZT0hMDt2YXIgcGU9YXBpJDEuZW1pdFdhcm5pbmc/YXBpJDEuZW1pdFdhcm5pbmc6Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7cGUoImFzc2VydC5mYWlsKCkgd2l0aCBtb3JlIHRoYW4gb25lIGFyZ3VtZW50IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYXNzZXJ0LnN0cmljdEVxdWFsKCkgaW5zdGVhZCBvciBvbmx5IHBhc3MgYSBtZXNzYWdlLiIsIkRlcHJlY2F0aW9uV2FybmluZyIsIkRFUDAwOTQiKX1GPT09MiYmKHRlPSIhPSIpfWlmKGogaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBqO3ZhciBfZT17YWN0dWFsOmssZXhwZWN0ZWQ6RCxvcGVyYXRvcjp0ZT09PXZvaWQgMD8iZmFpbCI6dGUsc3RhY2tTdGFydEZuOlV8fG19O2ohPT12b2lkIDAmJihfZS5tZXNzYWdlPWopO3ZhciBZPW5ldyBUKF9lKTt0aHJvdyB1ZSYmKFkubWVzc2FnZT11ZSxZLmdlbmVyYXRlZE1lc3NhZ2U9ITApLFl9eWUuZmFpbD1tLHllLkFzc2VydGlvbkVycm9yPVQ7ZnVuY3Rpb24gbChrLEQsaix0ZSl7aWYoIWope3ZhciBVPSExO2lmKEQ9PT0wKVU9ITAsdGU9Ik5vIHZhbHVlIGFyZ3VtZW50IHBhc3NlZCB0byBgYXNzZXJ0Lm9rKClgIjtlbHNlIGlmKHRlIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgdGU7dmFyIEY9bmV3IFQoe2FjdHVhbDpqLGV4cGVjdGVkOiEwLG1lc3NhZ2U6dGUsb3BlcmF0b3I6Ij09IixzdGFja1N0YXJ0Rm46a30pO3Rocm93IEYuZ2VuZXJhdGVkTWVzc2FnZT1VLEZ9fWZ1bmN0aW9uIHYoKXtmb3IodmFyIGs9YXJndW1lbnRzLmxlbmd0aCxEPW5ldyBBcnJheShrKSxqPTA7ajxrO2orKylEW2pdPWFyZ3VtZW50c1tqXTtsLmFwcGx5KHZvaWQgMCxbdixELmxlbmd0aF0uY29uY2F0KEQpKX15ZS5vaz12LHllLmVxdWFsPWZ1bmN0aW9uIGsoRCxqLHRlKXtpZihhcmd1bWVudHMubGVuZ3RoPDIpdGhyb3cgbmV3IE8oImFjdHVhbCIsImV4cGVjdGVkIik7RCE9aiYmJCh7YWN0dWFsOkQsZXhwZWN0ZWQ6aixtZXNzYWdlOnRlLG9wZXJhdG9yOiI9PSIsc3RhY2tTdGFydEZuOmt9KX0seWUubm90RXF1YWw9ZnVuY3Rpb24gayhELGosdGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil0aHJvdyBuZXcgTygiYWN0dWFsIiwiZXhwZWN0ZWQiKTtEPT1qJiYkKHthY3R1YWw6RCxleHBlY3RlZDpqLG1lc3NhZ2U6dGUsb3BlcmF0b3I6IiE9IixzdGFja1N0YXJ0Rm46a30pfSx5ZS5kZWVwRXF1YWw9ZnVuY3Rpb24gayhELGosdGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil0aHJvdyBuZXcgTygiYWN0dWFsIiwiZXhwZWN0ZWQiKTtyZT09PXZvaWQgMCYmbGUoKSxyZShELGopfHwkKHthY3R1YWw6RCxleHBlY3RlZDpqLG1lc3NhZ2U6dGUsb3BlcmF0b3I6ImRlZXBFcXVhbCIsc3RhY2tTdGFydEZuOmt9KX0seWUubm90RGVlcEVxdWFsPWZ1bmN0aW9uIGsoRCxqLHRlKXtpZihhcmd1bWVudHMubGVuZ3RoPDIpdGhyb3cgbmV3IE8oImFjdHVhbCIsImV4cGVjdGVkIik7cmU9PT12b2lkIDAmJmxlKCkscmUoRCxqKSYmJCh7YWN0dWFsOkQsZXhwZWN0ZWQ6aixtZXNzYWdlOnRlLG9wZXJhdG9yOiJub3REZWVwRXF1YWwiLHN0YWNrU3RhcnRGbjprfSl9LHllLmRlZXBTdHJpY3RFcXVhbD1mdW5jdGlvbiBrKEQsaix0ZSl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXRocm93IG5ldyBPKCJhY3R1YWwiLCJleHBlY3RlZCIpO3JlPT09dm9pZCAwJiZsZSgpLGNlKEQsail8fCQoe2FjdHVhbDpELGV4cGVjdGVkOmosbWVzc2FnZTp0ZSxvcGVyYXRvcjoiZGVlcFN0cmljdEVxdWFsIixzdGFja1N0YXJ0Rm46a30pfSx5ZS5ub3REZWVwU3RyaWN0RXF1YWw9RTtmdW5jdGlvbiBFKGssRCxqKXtpZihhcmd1bWVudHMubGVuZ3RoPDIpdGhyb3cgbmV3IE8oImFjdHVhbCIsImV4cGVjdGVkIik7cmU9PT12b2lkIDAmJmxlKCksY2UoayxEKSYmJCh7YWN0dWFsOmssZXhwZWN0ZWQ6RCxtZXNzYWdlOmosb3BlcmF0b3I6Im5vdERlZXBTdHJpY3RFcXVhbCIsc3RhY2tTdGFydEZuOkV9KX15ZS5zdHJpY3RFcXVhbD1mdW5jdGlvbiBrKEQsaix0ZSl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXRocm93IG5ldyBPKCJhY3R1YWwiLCJleHBlY3RlZCIpO2llKEQsail8fCQoe2FjdHVhbDpELGV4cGVjdGVkOmosbWVzc2FnZTp0ZSxvcGVyYXRvcjoic3RyaWN0RXF1YWwiLHN0YWNrU3RhcnRGbjprfSl9LHllLm5vdFN0cmljdEVxdWFsPWZ1bmN0aW9uIGsoRCxqLHRlKXtpZihhcmd1bWVudHMubGVuZ3RoPDIpdGhyb3cgbmV3IE8oImFjdHVhbCIsImV4cGVjdGVkIik7aWUoRCxqKSYmJCh7YWN0dWFsOkQsZXhwZWN0ZWQ6aixtZXNzYWdlOnRlLG9wZXJhdG9yOiJub3RTdHJpY3RFcXVhbCIsc3RhY2tTdGFydEZuOmt9KX07dmFyIFM9bihmdW5jdGlvbiBrKEQsaix0ZSl7dmFyIFU9dGhpcztvKHRoaXMsayksai5mb3JFYWNoKGZ1bmN0aW9uKEYpe0YgaW4gRCYmKHRlIT09dm9pZCAwJiZ0eXBlb2YgdGVbRl09PSJzdHJpbmciJiZWKERbRl0pJiZRKERbRl0sdGVbRl0pP1VbRl09dGVbRl06VVtGXT1EW0ZdKX0pfSk7ZnVuY3Rpb24gQihrLEQsaix0ZSxVLEYpe2lmKCEoaiBpbiBrKXx8IWNlKGtbal0sRFtqXSkpe2lmKCF0ZSl7dmFyIHVlPW5ldyBTKGssVSkscGU9bmV3IFMoRCxVLGspLF9lPW5ldyBUKHthY3R1YWw6dWUsZXhwZWN0ZWQ6cGUsb3BlcmF0b3I6ImRlZXBTdHJpY3RFcXVhbCIsc3RhY2tTdGFydEZuOkZ9KTt0aHJvdyBfZS5hY3R1YWw9ayxfZS5leHBlY3RlZD1ELF9lLm9wZXJhdG9yPUYubmFtZSxfZX0kKHthY3R1YWw6ayxleHBlY3RlZDpELG1lc3NhZ2U6dGUsb3BlcmF0b3I6Ri5uYW1lLHN0YWNrU3RhcnRGbjpGfSl9fWZ1bmN0aW9uIEEoayxELGosdGUpe2lmKHR5cGVvZiBEIT0iZnVuY3Rpb24iKXtpZihWKEQpKXJldHVybiBRKEQsayk7aWYoYXJndW1lbnRzLmxlbmd0aD09PTIpdGhyb3cgbmV3IF8oImV4cGVjdGVkIixbIkZ1bmN0aW9uIiwiUmVnRXhwIl0sRCk7aWYoZShrKSE9PSJvYmplY3QifHxrPT09bnVsbCl7dmFyIFU9bmV3IFQoe2FjdHVhbDprLGV4cGVjdGVkOkQsbWVzc2FnZTpqLG9wZXJhdG9yOiJkZWVwU3RyaWN0RXF1YWwiLHN0YWNrU3RhcnRGbjp0ZX0pO3Rocm93IFUub3BlcmF0b3I9dGUubmFtZSxVfXZhciBGPU9iamVjdC5rZXlzKEQpO2lmKEQgaW5zdGFuY2VvZiBFcnJvcilGLnB1c2goIm5hbWUiLCJtZXNzYWdlIik7ZWxzZSBpZihGLmxlbmd0aD09PTApdGhyb3cgbmV3IGIoImVycm9yIixELCJtYXkgbm90IGJlIGFuIGVtcHR5IG9iamVjdCIpO3JldHVybiByZT09PXZvaWQgMCYmbGUoKSxGLmZvckVhY2goZnVuY3Rpb24odWUpe3R5cGVvZiBrW3VlXT09InN0cmluZyImJlYoRFt1ZV0pJiZRKERbdWVdLGtbdWVdKXx8QihrLEQsdWUsaixGLHRlKX0pLCEwfXJldHVybiBELnByb3RvdHlwZSE9PXZvaWQgMCYmayBpbnN0YW5jZW9mIEQ/ITA6RXJyb3IuaXNQcm90b3R5cGVPZihEKT8hMTpELmNhbGwoe30sayk9PT0hMH1mdW5jdGlvbiB5KGspe2lmKHR5cGVvZiBrIT0iZnVuY3Rpb24iKXRocm93IG5ldyBfKCJmbiIsIkZ1bmN0aW9uIixrKTt0cnl7aygpfWNhdGNoKEQpe3JldHVybiBEfXJldHVybiBYfWZ1bmN0aW9uIHgoayl7cmV0dXJuIEgoayl8fGshPT1udWxsJiZlKGspPT09Im9iamVjdCImJnR5cGVvZiBrLnRoZW49PSJmdW5jdGlvbiImJnR5cGVvZiBrLmNhdGNoPT0iZnVuY3Rpb24ifWZ1bmN0aW9uIHAoayl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgRDtpZih0eXBlb2Ygaz09ImZ1bmN0aW9uIil7aWYoRD1rKCksIXgoRCkpdGhyb3cgbmV3IE0oImluc3RhbmNlIG9mIFByb21pc2UiLCJwcm9taXNlRm4iLEQpfWVsc2UgaWYoeChrKSlEPWs7ZWxzZSB0aHJvdyBuZXcgXygicHJvbWlzZUZuIixbIkZ1bmN0aW9uIiwiUHJvbWlzZSJdLGspO3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIER9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFh9KS5jYXRjaChmdW5jdGlvbihqKXtyZXR1cm4gan0pfSl9ZnVuY3Rpb24gSShrLEQsaix0ZSl7aWYodHlwZW9mIGo9PSJzdHJpbmciKXtpZihhcmd1bWVudHMubGVuZ3RoPT09NCl0aHJvdyBuZXcgXygiZXJyb3IiLFsiT2JqZWN0IiwiRXJyb3IiLCJGdW5jdGlvbiIsIlJlZ0V4cCJdLGopO2lmKGUoRCk9PT0ib2JqZWN0IiYmRCE9PW51bGwpe2lmKEQubWVzc2FnZT09PWopdGhyb3cgbmV3IHcoImVycm9yL21lc3NhZ2UiLCdUaGUgZXJyb3IgbWVzc2FnZSAiJy5jb25jYXQoRC5tZXNzYWdlLCciIGlzIGlkZW50aWNhbCB0byB0aGUgbWVzc2FnZS4nKSl9ZWxzZSBpZihEPT09ail0aHJvdyBuZXcgdygiZXJyb3IvbWVzc2FnZSIsJ1RoZSBlcnJvciAiJy5jb25jYXQoRCwnIiBpcyBpZGVudGljYWwgdG8gdGhlIG1lc3NhZ2UuJykpO3RlPWosaj12b2lkIDB9ZWxzZSBpZihqIT1udWxsJiZlKGopIT09Im9iamVjdCImJnR5cGVvZiBqIT0iZnVuY3Rpb24iKXRocm93IG5ldyBfKCJlcnJvciIsWyJPYmplY3QiLCJFcnJvciIsIkZ1bmN0aW9uIiwiUmVnRXhwIl0saik7aWYoRD09PVgpe3ZhciBVPSIiO2omJmoubmFtZSYmKFUrPSIgKCIuY29uY2F0KGoubmFtZSwiKSIpKSxVKz10ZT8iOiAiLmNvbmNhdCh0ZSk6Ii4iO3ZhciBGPWsubmFtZT09PSJyZWplY3RzIj8icmVqZWN0aW9uIjoiZXhjZXB0aW9uIjskKHthY3R1YWw6dm9pZCAwLGV4cGVjdGVkOmosb3BlcmF0b3I6ay5uYW1lLG1lc3NhZ2U6Ik1pc3NpbmcgZXhwZWN0ZWQgIi5jb25jYXQoRikuY29uY2F0KFUpLHN0YWNrU3RhcnRGbjprfSl9aWYoaiYmIUEoRCxqLHRlLGspKXRocm93IER9ZnVuY3Rpb24gZWUoayxELGosdGUpe2lmKEQhPT1YKXtpZih0eXBlb2Ygaj09InN0cmluZyImJih0ZT1qLGo9dm9pZCAwKSwhanx8QShELGopKXt2YXIgVT10ZT8iOiAiLmNvbmNhdCh0ZSk6Ii4iLEY9ay5uYW1lPT09ImRvZXNOb3RSZWplY3QiPyJyZWplY3Rpb24iOiJleGNlcHRpb24iOyQoe2FjdHVhbDpELGV4cGVjdGVkOmosb3BlcmF0b3I6ay5uYW1lLG1lc3NhZ2U6IkdvdCB1bndhbnRlZCAiLmNvbmNhdChGKS5jb25jYXQoVSxgCmApKydBY3R1YWwgbWVzc2FnZTogIicuY29uY2F0KEQmJkQubWVzc2FnZSwnIicpLHN0YWNrU3RhcnRGbjprfSl9dGhyb3cgRH19eWUudGhyb3dzPWZ1bmN0aW9uIGsoRCl7Zm9yKHZhciBqPWFyZ3VtZW50cy5sZW5ndGgsdGU9bmV3IEFycmF5KGo+MT9qLTE6MCksVT0xO1U8ajtVKyspdGVbVS0xXT1hcmd1bWVudHNbVV07SS5hcHBseSh2b2lkIDAsW2sseShEKV0uY29uY2F0KHRlKSl9LHllLnJlamVjdHM9ZnVuY3Rpb24gayhEKXtmb3IodmFyIGo9YXJndW1lbnRzLmxlbmd0aCx0ZT1uZXcgQXJyYXkoaj4xP2otMTowKSxVPTE7VTxqO1UrKyl0ZVtVLTFdPWFyZ3VtZW50c1tVXTtyZXR1cm4gcChEKS50aGVuKGZ1bmN0aW9uKEYpe3JldHVybiBJLmFwcGx5KHZvaWQgMCxbayxGXS5jb25jYXQodGUpKX0pfSx5ZS5kb2VzTm90VGhyb3c9ZnVuY3Rpb24gayhEKXtmb3IodmFyIGo9YXJndW1lbnRzLmxlbmd0aCx0ZT1uZXcgQXJyYXkoaj4xP2otMTowKSxVPTE7VTxqO1UrKyl0ZVtVLTFdPWFyZ3VtZW50c1tVXTtlZS5hcHBseSh2b2lkIDAsW2sseShEKV0uY29uY2F0KHRlKSl9LHllLmRvZXNOb3RSZWplY3Q9ZnVuY3Rpb24gayhEKXtmb3IodmFyIGo9YXJndW1lbnRzLmxlbmd0aCx0ZT1uZXcgQXJyYXkoaj4xP2otMTowKSxVPTE7VTxqO1UrKyl0ZVtVLTFdPWFyZ3VtZW50c1tVXTtyZXR1cm4gcChEKS50aGVuKGZ1bmN0aW9uKEYpe3JldHVybiBlZS5hcHBseSh2b2lkIDAsW2ssRl0uY29uY2F0KHRlKSl9KX0seWUuaWZFcnJvcj1mdW5jdGlvbiBrKEQpe2lmKEQhPW51bGwpe3ZhciBqPSJpZkVycm9yIGdvdCB1bndhbnRlZCBleGNlcHRpb246ICI7ZShEKT09PSJvYmplY3QiJiZ0eXBlb2YgRC5tZXNzYWdlPT0ic3RyaW5nIj9ELm1lc3NhZ2UubGVuZ3RoPT09MCYmRC5jb25zdHJ1Y3Rvcj9qKz1ELmNvbnN0cnVjdG9yLm5hbWU6ais9RC5tZXNzYWdlOmorPUwoRCk7dmFyIHRlPW5ldyBUKHthY3R1YWw6RCxleHBlY3RlZDpudWxsLG9wZXJhdG9yOiJpZkVycm9yIixtZXNzYWdlOmosc3RhY2tTdGFydEZuOmt9KSxVPUQuc3RhY2s7aWYodHlwZW9mIFU9PSJzdHJpbmciKXt2YXIgRj1VLnNwbGl0KGAKYCk7Ri5zaGlmdCgpO2Zvcih2YXIgdWU9dGUuc3RhY2suc3BsaXQoYApgKSxwZT0wO3BlPEYubGVuZ3RoO3BlKyspe3ZhciBfZT11ZS5pbmRleE9mKEZbcGVdKTtpZihfZSE9PS0xKXt1ZT11ZS5zbGljZSgwLF9lKTticmVha319dGUuc3RhY2s9IiIuY29uY2F0KHVlLmpvaW4oYApgKSxgCmApLmNvbmNhdChGLmpvaW4oYApgKSl9dGhyb3cgdGV9fTtmdW5jdGlvbiBmZShrLEQsaix0ZSxVKXtpZighVihEKSl0aHJvdyBuZXcgXygicmVnZXhwIiwiUmVnRXhwIixEKTt2YXIgRj1VPT09Im1hdGNoIjtpZih0eXBlb2YgayE9InN0cmluZyJ8fFEoRCxrKSE9PUYpe2lmKGogaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBqO3ZhciB1ZT0hajtqPWp8fCh0eXBlb2YgayE9InN0cmluZyI/J1RoZSAic3RyaW5nIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlICcrIiIuY29uY2F0KGUoayksIiAoIikuY29uY2F0KEwoayksIikiKTooRj8iVGhlIGlucHV0IGRpZCBub3QgbWF0Y2ggdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiAiOiJUaGUgaW5wdXQgd2FzIGV4cGVjdGVkIHRvIG5vdCBtYXRjaCB0aGUgcmVndWxhciBleHByZXNzaW9uICIpKyIiLmNvbmNhdChMKEQpLGAuIElucHV0OgoKYCkuY29uY2F0KEwoayksYApgKSk7dmFyIHBlPW5ldyBUKHthY3R1YWw6ayxleHBlY3RlZDpELG1lc3NhZ2U6aixvcGVyYXRvcjpVLHN0YWNrU3RhcnRGbjp0ZX0pO3Rocm93IHBlLmdlbmVyYXRlZE1lc3NhZ2U9dWUscGV9fXllLm1hdGNoPWZ1bmN0aW9uIGsoRCxqLHRlKXtmZShELGosdGUsaywibWF0Y2giKX0seWUuZG9lc05vdE1hdGNoPWZ1bmN0aW9uIGsoRCxqLHRlKXtmZShELGosdGUsaywiZG9lc05vdE1hdGNoIil9O2Z1bmN0aW9uIEooKXtmb3IodmFyIGs9YXJndW1lbnRzLmxlbmd0aCxEPW5ldyBBcnJheShrKSxqPTA7ajxrO2orKylEW2pdPWFyZ3VtZW50c1tqXTtsLmFwcGx5KHZvaWQgMCxbSixELmxlbmd0aF0uY29uY2F0KEQpKX1yZXR1cm4geWUuc3RyaWN0PWFlKEoseWUse2VxdWFsOnllLnN0cmljdEVxdWFsLGRlZXBFcXVhbDp5ZS5kZWVwU3RyaWN0RXF1YWwsbm90RXF1YWw6eWUubm90U3RyaWN0RXF1YWwsbm90RGVlcEVxdWFsOnllLm5vdERlZXBTdHJpY3RFcXVhbH0pLHllLnN0cmljdC5zdHJpY3Q9eWUuc3RyaWN0LGFzc2VydC5leHBvcnRzfWZ1bmN0aW9uIFpTdHJlYW0kMigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz0iIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9dmFyIHpzdHJlYW09WlN0cmVhbSQyLGRlZmxhdGUkND17fSxjb21tb249e307KGZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBVaW50OEFycmF5PCJ1IiYmdHlwZW9mIFVpbnQxNkFycmF5PCJ1IiYmdHlwZW9mIEludDMyQXJyYXk8InUiO2Z1bmN0aW9uIG4obyxoKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8saCl9ZS5hc3NpZ249ZnVuY3Rpb24obyl7Zm9yKHZhciBoPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtoLmxlbmd0aDspe3ZhciBkPWguc2hpZnQoKTtpZihkKXtpZih0eXBlb2YgZCE9Im9iamVjdCIpdGhyb3cgbmV3IFR5cGVFcnJvcihkKyJtdXN0IGJlIG5vbi1vYmplY3QiKTtmb3IodmFyIHcgaW4gZCluKGQsdykmJihvW3ddPWRbd10pfX1yZXR1cm4gb30sZS5zaHJpbmtCdWY9ZnVuY3Rpb24obyxoKXtyZXR1cm4gby5sZW5ndGg9PT1oP286by5zdWJhcnJheT9vLnN1YmFycmF5KDAsaCk6KG8ubGVuZ3RoPWgsbyl9O3ZhciBhPXthcnJheVNldDpmdW5jdGlvbihvLGgsZCx3LF8pe2lmKGguc3ViYXJyYXkmJm8uc3ViYXJyYXkpe28uc2V0KGguc3ViYXJyYXkoZCxkK3cpLF8pO3JldHVybn1mb3IodmFyIGI9MDtiPHc7YisrKW9bXytiXT1oW2QrYl19LGZsYXR0ZW5DaHVua3M6ZnVuY3Rpb24obyl7dmFyIGgsZCx3LF8sYixNO2Zvcih3PTAsaD0wLGQ9by5sZW5ndGg7aDxkO2grKyl3Kz1vW2hdLmxlbmd0aDtmb3IoTT1uZXcgVWludDhBcnJheSh3KSxfPTAsaD0wLGQ9by5sZW5ndGg7aDxkO2grKyliPW9baF0sTS5zZXQoYixfKSxfKz1iLmxlbmd0aDtyZXR1cm4gTX19LHU9e2FycmF5U2V0OmZ1bmN0aW9uKG8saCxkLHcsXyl7Zm9yKHZhciBiPTA7Yjx3O2IrKylvW18rYl09aFtkK2JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKG8pe3JldHVybltdLmNvbmNhdC5hcHBseShbXSxvKX19O2Uuc2V0VHlwZWQ9ZnVuY3Rpb24obyl7bz8oZS5CdWY4PVVpbnQ4QXJyYXksZS5CdWYxNj1VaW50MTZBcnJheSxlLkJ1ZjMyPUludDMyQXJyYXksZS5hc3NpZ24oZSxhKSk6KGUuQnVmOD1BcnJheSxlLkJ1ZjE2PUFycmF5LGUuQnVmMzI9QXJyYXksZS5hc3NpZ24oZSx1KSl9LGUuc2V0VHlwZWQodCl9KShjb21tb24pO3ZhciB0cmVlcyQxPXt9LHV0aWxzJDg9Y29tbW9uLFpfRklYRUQkMT00LFpfQklOQVJZPTAsWl9URVhUPTEsWl9VTktOT1dOJDE9MjtmdW5jdGlvbiB6ZXJvJDEoZSl7Zm9yKHZhciB0PWUubGVuZ3RoOy0tdD49MDspZVt0XT0wfXZhciBTVE9SRURfQkxPQ0s9MCxTVEFUSUNfVFJFRVM9MSxEWU5fVFJFRVM9MixNSU5fTUFUQ0gkMT0zLE1BWF9NQVRDSCQxPTI1OCxMRU5HVEhfQ09ERVMkMT0yOSxMSVRFUkFMUyQxPTI1NixMX0NPREVTJDE9TElURVJBTFMkMSsxK0xFTkdUSF9DT0RFUyQxLERfQ09ERVMkMT0zMCxCTF9DT0RFUyQxPTE5LEhFQVBfU0laRSQxPTIqTF9DT0RFUyQxKzEsTUFYX0JJVFMkMT0xNSxCdWZfc2l6ZT0xNixNQVhfQkxfQklUUz03LEVORF9CTE9DSz0yNTYsUkVQXzNfNj0xNixSRVBaXzNfMTA9MTcsUkVQWl8xMV8xMzg9MTgsZXh0cmFfbGJpdHM9WzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0sZXh0cmFfZGJpdHM9WzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTNdLGV4dHJhX2JsYml0cz1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDMsN10sYmxfb3JkZXI9WzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdLERJU1RfQ09ERV9MRU49NTEyLHN0YXRpY19sdHJlZT1uZXcgQXJyYXkoKExfQ09ERVMkMSsyKSoyKTt6ZXJvJDEoc3RhdGljX2x0cmVlKTt2YXIgc3RhdGljX2R0cmVlPW5ldyBBcnJheShEX0NPREVTJDEqMik7emVybyQxKHN0YXRpY19kdHJlZSk7dmFyIF9kaXN0X2NvZGU9bmV3IEFycmF5KERJU1RfQ09ERV9MRU4pO3plcm8kMShfZGlzdF9jb2RlKTt2YXIgX2xlbmd0aF9jb2RlPW5ldyBBcnJheShNQVhfTUFUQ0gkMS1NSU5fTUFUQ0gkMSsxKTt6ZXJvJDEoX2xlbmd0aF9jb2RlKTt2YXIgYmFzZV9sZW5ndGg9bmV3IEFycmF5KExFTkdUSF9DT0RFUyQxKTt6ZXJvJDEoYmFzZV9sZW5ndGgpO3ZhciBiYXNlX2Rpc3Q9bmV3IEFycmF5KERfQ09ERVMkMSk7emVybyQxKGJhc2VfZGlzdCk7ZnVuY3Rpb24gU3RhdGljVHJlZURlc2MoZSx0LG4sYSx1KXt0aGlzLnN0YXRpY190cmVlPWUsdGhpcy5leHRyYV9iaXRzPXQsdGhpcy5leHRyYV9iYXNlPW4sdGhpcy5lbGVtcz1hLHRoaXMubWF4X2xlbmd0aD11LHRoaXMuaGFzX3N0cmVlPWUmJmUubGVuZ3RofXZhciBzdGF0aWNfbF9kZXNjLHN0YXRpY19kX2Rlc2Msc3RhdGljX2JsX2Rlc2M7ZnVuY3Rpb24gVHJlZURlc2MoZSx0KXt0aGlzLmR5bl90cmVlPWUsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPXR9ZnVuY3Rpb24gZF9jb2RlKGUpe3JldHVybiBlPDI1Nj9fZGlzdF9jb2RlW2VdOl9kaXN0X2NvZGVbMjU2KyhlPj4+NyldfWZ1bmN0aW9uIHB1dF9zaG9ydChlLHQpe2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQmMjU1LGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NX1mdW5jdGlvbiBzZW5kX2JpdHMoZSx0LG4pe2UuYmlfdmFsaWQ+QnVmX3NpemUtbj8oZS5iaV9idWZ8PXQ8PGUuYmlfdmFsaWQmNjU1MzUscHV0X3Nob3J0KGUsZS5iaV9idWYpLGUuYmlfYnVmPXQ+PkJ1Zl9zaXplLWUuYmlfdmFsaWQsZS5iaV92YWxpZCs9bi1CdWZfc2l6ZSk6KGUuYmlfYnVmfD10PDxlLmJpX3ZhbGlkJjY1NTM1LGUuYmlfdmFsaWQrPW4pfWZ1bmN0aW9uIHNlbmRfY29kZShlLHQsbil7c2VuZF9iaXRzKGUsblt0KjJdLG5bdCoyKzFdKX1mdW5jdGlvbiBiaV9yZXZlcnNlKGUsdCl7dmFyIG49MDtkbyBufD1lJjEsZT4+Pj0xLG48PD0xO3doaWxlKC0tdD4wKTtyZXR1cm4gbj4+PjF9ZnVuY3Rpb24gYmlfZmx1c2goZSl7ZS5iaV92YWxpZD09PTE2PyhwdXRfc2hvcnQoZSxlLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTApOmUuYmlfdmFsaWQ+PTgmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT1lLmJpX2J1ZiYyNTUsZS5iaV9idWY+Pj04LGUuYmlfdmFsaWQtPTgpfWZ1bmN0aW9uIGdlbl9iaXRsZW4oZSx0KXt2YXIgbj10LmR5bl90cmVlLGE9dC5tYXhfY29kZSx1PXQuc3RhdF9kZXNjLnN0YXRpY190cmVlLG89dC5zdGF0X2Rlc2MuaGFzX3N0cmVlLGg9dC5zdGF0X2Rlc2MuZXh0cmFfYml0cyxkPXQuc3RhdF9kZXNjLmV4dHJhX2Jhc2Usdz10LnN0YXRfZGVzYy5tYXhfbGVuZ3RoLF8sYixNLE8sVCxQLEw9MDtmb3IoTz0wO088PU1BWF9CSVRTJDE7TysrKWUuYmxfY291bnRbT109MDtmb3IobltlLmhlYXBbZS5oZWFwX21heF0qMisxXT0wLF89ZS5oZWFwX21heCsxO188SEVBUF9TSVpFJDE7XysrKWI9ZS5oZWFwW19dLE89bltuW2IqMisxXSoyKzFdKzEsTz53JiYoTz13LEwrKyksbltiKjIrMV09TywhKGI+YSkmJihlLmJsX2NvdW50W09dKyssVD0wLGI+PWQmJihUPWhbYi1kXSksUD1uW2IqMl0sZS5vcHRfbGVuKz1QKihPK1QpLG8mJihlLnN0YXRpY19sZW4rPVAqKHVbYioyKzFdK1QpKSk7aWYoTCE9PTApe2Rve2ZvcihPPXctMTtlLmJsX2NvdW50W09dPT09MDspTy0tO2UuYmxfY291bnRbT10tLSxlLmJsX2NvdW50W08rMV0rPTIsZS5ibF9jb3VudFt3XS0tLEwtPTJ9d2hpbGUoTD4wKTtmb3IoTz13O08hPT0wO08tLSlmb3IoYj1lLmJsX2NvdW50W09dO2IhPT0wOylNPWUuaGVhcFstLV9dLCEoTT5hKSYmKG5bTSoyKzFdIT09TyYmKGUub3B0X2xlbis9KE8tbltNKjIrMV0pKm5bTSoyXSxuW00qMisxXT1PKSxiLS0pfX1mdW5jdGlvbiBnZW5fY29kZXMoZSx0LG4pe3ZhciBhPW5ldyBBcnJheShNQVhfQklUUyQxKzEpLHU9MCxvLGg7Zm9yKG89MTtvPD1NQVhfQklUUyQxO28rKylhW29dPXU9dStuW28tMV08PDE7Zm9yKGg9MDtoPD10O2grKyl7dmFyIGQ9ZVtoKjIrMV07ZCE9PTAmJihlW2gqMl09YmlfcmV2ZXJzZShhW2RdKyssZCkpfX1mdW5jdGlvbiB0cl9zdGF0aWNfaW5pdCgpe3ZhciBlLHQsbixhLHUsbz1uZXcgQXJyYXkoTUFYX0JJVFMkMSsxKTtmb3Iobj0wLGE9MDthPExFTkdUSF9DT0RFUyQxLTE7YSsrKWZvcihiYXNlX2xlbmd0aFthXT1uLGU9MDtlPDE8PGV4dHJhX2xiaXRzW2FdO2UrKylfbGVuZ3RoX2NvZGVbbisrXT1hO2ZvcihfbGVuZ3RoX2NvZGVbbi0xXT1hLHU9MCxhPTA7YTwxNjthKyspZm9yKGJhc2VfZGlzdFthXT11LGU9MDtlPDE8PGV4dHJhX2RiaXRzW2FdO2UrKylfZGlzdF9jb2RlW3UrK109YTtmb3IodT4+PTc7YTxEX0NPREVTJDE7YSsrKWZvcihiYXNlX2Rpc3RbYV09dTw8NyxlPTA7ZTwxPDxleHRyYV9kYml0c1thXS03O2UrKylfZGlzdF9jb2RlWzI1Nit1KytdPWE7Zm9yKHQ9MDt0PD1NQVhfQklUUyQxO3QrKylvW3RdPTA7Zm9yKGU9MDtlPD0xNDM7KXN0YXRpY19sdHJlZVtlKjIrMV09OCxlKyssb1s4XSsrO2Zvcig7ZTw9MjU1OylzdGF0aWNfbHRyZWVbZSoyKzFdPTksZSsrLG9bOV0rKztmb3IoO2U8PTI3OTspc3RhdGljX2x0cmVlW2UqMisxXT03LGUrKyxvWzddKys7Zm9yKDtlPD0yODc7KXN0YXRpY19sdHJlZVtlKjIrMV09OCxlKyssb1s4XSsrO2ZvcihnZW5fY29kZXMoc3RhdGljX2x0cmVlLExfQ09ERVMkMSsxLG8pLGU9MDtlPERfQ09ERVMkMTtlKyspc3RhdGljX2R0cmVlW2UqMisxXT01LHN0YXRpY19kdHJlZVtlKjJdPWJpX3JldmVyc2UoZSw1KTtzdGF0aWNfbF9kZXNjPW5ldyBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfbHRyZWUsZXh0cmFfbGJpdHMsTElURVJBTFMkMSsxLExfQ09ERVMkMSxNQVhfQklUUyQxKSxzdGF0aWNfZF9kZXNjPW5ldyBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfZHRyZWUsZXh0cmFfZGJpdHMsMCxEX0NPREVTJDEsTUFYX0JJVFMkMSksc3RhdGljX2JsX2Rlc2M9bmV3IFN0YXRpY1RyZWVEZXNjKG5ldyBBcnJheSgwKSxleHRyYV9ibGJpdHMsMCxCTF9DT0RFUyQxLE1BWF9CTF9CSVRTKX1mdW5jdGlvbiBpbml0X2Jsb2NrKGUpe3ZhciB0O2Zvcih0PTA7dDxMX0NPREVTJDE7dCsrKWUuZHluX2x0cmVlW3QqMl09MDtmb3IodD0wO3Q8RF9DT0RFUyQxO3QrKyllLmR5bl9kdHJlZVt0KjJdPTA7Zm9yKHQ9MDt0PEJMX0NPREVTJDE7dCsrKWUuYmxfdHJlZVt0KjJdPTA7ZS5keW5fbHRyZWVbRU5EX0JMT0NLKjJdPTEsZS5vcHRfbGVuPWUuc3RhdGljX2xlbj0wLGUubGFzdF9saXQ9ZS5tYXRjaGVzPTB9ZnVuY3Rpb24gYmlfd2luZHVwKGUpe2UuYmlfdmFsaWQ+OD9wdXRfc2hvcnQoZSxlLmJpX2J1Zik6ZS5iaV92YWxpZD4wJiYoZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109ZS5iaV9idWYpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wfWZ1bmN0aW9uIGNvcHlfYmxvY2soZSx0LG4sYSl7Ymlfd2luZHVwKGUpLGEmJihwdXRfc2hvcnQoZSxuKSxwdXRfc2hvcnQoZSx+bikpLHV0aWxzJDguYXJyYXlTZXQoZS5wZW5kaW5nX2J1ZixlLndpbmRvdyx0LG4sZS5wZW5kaW5nKSxlLnBlbmRpbmcrPW59ZnVuY3Rpb24gc21hbGxlcihlLHQsbixhKXt2YXIgdT10KjIsbz1uKjI7cmV0dXJuIGVbdV08ZVtvXXx8ZVt1XT09PWVbb10mJmFbdF08PWFbbl19ZnVuY3Rpb24gcHFkb3duaGVhcChlLHQsbil7Zm9yKHZhciBhPWUuaGVhcFtuXSx1PW48PDE7dTw9ZS5oZWFwX2xlbiYmKHU8ZS5oZWFwX2xlbiYmc21hbGxlcih0LGUuaGVhcFt1KzFdLGUuaGVhcFt1XSxlLmRlcHRoKSYmdSsrLCFzbWFsbGVyKHQsYSxlLmhlYXBbdV0sZS5kZXB0aCkpOyllLmhlYXBbbl09ZS5oZWFwW3VdLG49dSx1PDw9MTtlLmhlYXBbbl09YX1mdW5jdGlvbiBjb21wcmVzc19ibG9jayhlLHQsbil7dmFyIGEsdSxvPTAsaCxkO2lmKGUubGFzdF9saXQhPT0wKWRvIGE9ZS5wZW5kaW5nX2J1ZltlLmRfYnVmK28qMl08PDh8ZS5wZW5kaW5nX2J1ZltlLmRfYnVmK28qMisxXSx1PWUucGVuZGluZ19idWZbZS5sX2J1ZitvXSxvKyssYT09PTA/c2VuZF9jb2RlKGUsdSx0KTooaD1fbGVuZ3RoX2NvZGVbdV0sc2VuZF9jb2RlKGUsaCtMSVRFUkFMUyQxKzEsdCksZD1leHRyYV9sYml0c1toXSxkIT09MCYmKHUtPWJhc2VfbGVuZ3RoW2hdLHNlbmRfYml0cyhlLHUsZCkpLGEtLSxoPWRfY29kZShhKSxzZW5kX2NvZGUoZSxoLG4pLGQ9ZXh0cmFfZGJpdHNbaF0sZCE9PTAmJihhLT1iYXNlX2Rpc3RbaF0sc2VuZF9iaXRzKGUsYSxkKSkpO3doaWxlKG88ZS5sYXN0X2xpdCk7c2VuZF9jb2RlKGUsRU5EX0JMT0NLLHQpfWZ1bmN0aW9uIGJ1aWxkX3RyZWUoZSx0KXt2YXIgbj10LmR5bl90cmVlLGE9dC5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsdT10LnN0YXRfZGVzYy5oYXNfc3RyZWUsbz10LnN0YXRfZGVzYy5lbGVtcyxoLGQsdz0tMSxfO2ZvcihlLmhlYXBfbGVuPTAsZS5oZWFwX21heD1IRUFQX1NJWkUkMSxoPTA7aDxvO2grKyluW2gqMl0hPT0wPyhlLmhlYXBbKytlLmhlYXBfbGVuXT13PWgsZS5kZXB0aFtoXT0wKTpuW2gqMisxXT0wO2Zvcig7ZS5oZWFwX2xlbjwyOylfPWUuaGVhcFsrK2UuaGVhcF9sZW5dPXc8Mj8rK3c6MCxuW18qMl09MSxlLmRlcHRoW19dPTAsZS5vcHRfbGVuLS0sdSYmKGUuc3RhdGljX2xlbi09YVtfKjIrMV0pO2Zvcih0Lm1heF9jb2RlPXcsaD1lLmhlYXBfbGVuPj4xO2g+PTE7aC0tKXBxZG93bmhlYXAoZSxuLGgpO189bztkbyBoPWUuaGVhcFsxXSxlLmhlYXBbMV09ZS5oZWFwW2UuaGVhcF9sZW4tLV0scHFkb3duaGVhcChlLG4sMSksZD1lLmhlYXBbMV0sZS5oZWFwWy0tZS5oZWFwX21heF09aCxlLmhlYXBbLS1lLmhlYXBfbWF4XT1kLG5bXyoyXT1uW2gqMl0rbltkKjJdLGUuZGVwdGhbX109KGUuZGVwdGhbaF0+PWUuZGVwdGhbZF0/ZS5kZXB0aFtoXTplLmRlcHRoW2RdKSsxLG5baCoyKzFdPW5bZCoyKzFdPV8sZS5oZWFwWzFdPV8rKyxwcWRvd25oZWFwKGUsbiwxKTt3aGlsZShlLmhlYXBfbGVuPj0yKTtlLmhlYXBbLS1lLmhlYXBfbWF4XT1lLmhlYXBbMV0sZ2VuX2JpdGxlbihlLHQpLGdlbl9jb2RlcyhuLHcsZS5ibF9jb3VudCl9ZnVuY3Rpb24gc2Nhbl90cmVlKGUsdCxuKXt2YXIgYSx1PS0xLG8saD10WzAqMisxXSxkPTAsdz03LF89NDtmb3IoaD09PTAmJih3PTEzOCxfPTMpLHRbKG4rMSkqMisxXT02NTUzNSxhPTA7YTw9bjthKyspbz1oLGg9dFsoYSsxKSoyKzFdLCEoKytkPHcmJm89PT1oKSYmKGQ8Xz9lLmJsX3RyZWVbbyoyXSs9ZDpvIT09MD8obyE9PXUmJmUuYmxfdHJlZVtvKjJdKyssZS5ibF90cmVlW1JFUF8zXzYqMl0rKyk6ZDw9MTA/ZS5ibF90cmVlW1JFUFpfM18xMCoyXSsrOmUuYmxfdHJlZVtSRVBaXzExXzEzOCoyXSsrLGQ9MCx1PW8saD09PTA/KHc9MTM4LF89Myk6bz09PWg/KHc9NixfPTMpOih3PTcsXz00KSl9ZnVuY3Rpb24gc2VuZF90cmVlKGUsdCxuKXt2YXIgYSx1PS0xLG8saD10WzAqMisxXSxkPTAsdz03LF89NDtmb3IoaD09PTAmJih3PTEzOCxfPTMpLGE9MDthPD1uO2ErKylpZihvPWgsaD10WyhhKzEpKjIrMV0sISgrK2Q8dyYmbz09PWgpKXtpZihkPF8pZG8gc2VuZF9jb2RlKGUsbyxlLmJsX3RyZWUpO3doaWxlKC0tZCE9PTApO2Vsc2UgbyE9PTA/KG8hPT11JiYoc2VuZF9jb2RlKGUsbyxlLmJsX3RyZWUpLGQtLSksc2VuZF9jb2RlKGUsUkVQXzNfNixlLmJsX3RyZWUpLHNlbmRfYml0cyhlLGQtMywyKSk6ZDw9MTA/KHNlbmRfY29kZShlLFJFUFpfM18xMCxlLmJsX3RyZWUpLHNlbmRfYml0cyhlLGQtMywzKSk6KHNlbmRfY29kZShlLFJFUFpfMTFfMTM4LGUuYmxfdHJlZSksc2VuZF9iaXRzKGUsZC0xMSw3KSk7ZD0wLHU9byxoPT09MD8odz0xMzgsXz0zKTpvPT09aD8odz02LF89Myk6KHc9NyxfPTQpfX1mdW5jdGlvbiBidWlsZF9ibF90cmVlKGUpe3ZhciB0O2ZvcihzY2FuX3RyZWUoZSxlLmR5bl9sdHJlZSxlLmxfZGVzYy5tYXhfY29kZSksc2Nhbl90cmVlKGUsZS5keW5fZHRyZWUsZS5kX2Rlc2MubWF4X2NvZGUpLGJ1aWxkX3RyZWUoZSxlLmJsX2Rlc2MpLHQ9QkxfQ09ERVMkMS0xO3Q+PTMmJmUuYmxfdHJlZVtibF9vcmRlclt0XSoyKzFdPT09MDt0LS0pO3JldHVybiBlLm9wdF9sZW4rPTMqKHQrMSkrNSs1KzQsdH1mdW5jdGlvbiBzZW5kX2FsbF90cmVlcyhlLHQsbixhKXt2YXIgdTtmb3Ioc2VuZF9iaXRzKGUsdC0yNTcsNSksc2VuZF9iaXRzKGUsbi0xLDUpLHNlbmRfYml0cyhlLGEtNCw0KSx1PTA7dTxhO3UrKylzZW5kX2JpdHMoZSxlLmJsX3RyZWVbYmxfb3JkZXJbdV0qMisxXSwzKTtzZW5kX3RyZWUoZSxlLmR5bl9sdHJlZSx0LTEpLHNlbmRfdHJlZShlLGUuZHluX2R0cmVlLG4tMSl9ZnVuY3Rpb24gZGV0ZWN0X2RhdGFfdHlwZShlKXt2YXIgdD00MDkzNjI0NDQ3LG47Zm9yKG49MDtuPD0zMTtuKyssdD4+Pj0xKWlmKHQmMSYmZS5keW5fbHRyZWVbbioyXSE9PTApcmV0dXJuIFpfQklOQVJZO2lmKGUuZHluX2x0cmVlWzkqMl0hPT0wfHxlLmR5bl9sdHJlZVsxMCoyXSE9PTB8fGUuZHluX2x0cmVlWzEzKjJdIT09MClyZXR1cm4gWl9URVhUO2ZvcihuPTMyO248TElURVJBTFMkMTtuKyspaWYoZS5keW5fbHRyZWVbbioyXSE9PTApcmV0dXJuIFpfVEVYVDtyZXR1cm4gWl9CSU5BUll9dmFyIHN0YXRpY19pbml0X2RvbmU9ITE7ZnVuY3Rpb24gX3RyX2luaXQoZSl7c3RhdGljX2luaXRfZG9uZXx8KHRyX3N0YXRpY19pbml0KCksc3RhdGljX2luaXRfZG9uZT0hMCksZS5sX2Rlc2M9bmV3IFRyZWVEZXNjKGUuZHluX2x0cmVlLHN0YXRpY19sX2Rlc2MpLGUuZF9kZXNjPW5ldyBUcmVlRGVzYyhlLmR5bl9kdHJlZSxzdGF0aWNfZF9kZXNjKSxlLmJsX2Rlc2M9bmV3IFRyZWVEZXNjKGUuYmxfdHJlZSxzdGF0aWNfYmxfZGVzYyksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTAsaW5pdF9ibG9jayhlKX1mdW5jdGlvbiBfdHJfc3RvcmVkX2Jsb2NrKGUsdCxuLGEpe3NlbmRfYml0cyhlLChTVE9SRURfQkxPQ0s8PDEpKyhhPzE6MCksMyksY29weV9ibG9jayhlLHQsbiwhMCl9ZnVuY3Rpb24gX3RyX2FsaWduKGUpe3NlbmRfYml0cyhlLFNUQVRJQ19UUkVFUzw8MSwzKSxzZW5kX2NvZGUoZSxFTkRfQkxPQ0ssc3RhdGljX2x0cmVlKSxiaV9mbHVzaChlKX1mdW5jdGlvbiBfdHJfZmx1c2hfYmxvY2soZSx0LG4sYSl7dmFyIHUsbyxoPTA7ZS5sZXZlbD4wPyhlLnN0cm0uZGF0YV90eXBlPT09Wl9VTktOT1dOJDEmJihlLnN0cm0uZGF0YV90eXBlPWRldGVjdF9kYXRhX3R5cGUoZSkpLGJ1aWxkX3RyZWUoZSxlLmxfZGVzYyksYnVpbGRfdHJlZShlLGUuZF9kZXNjKSxoPWJ1aWxkX2JsX3RyZWUoZSksdT1lLm9wdF9sZW4rMys3Pj4+MyxvPWUuc3RhdGljX2xlbiszKzc+Pj4zLG88PXUmJih1PW8pKTp1PW89bis1LG4rNDw9dSYmdCE9PS0xP190cl9zdG9yZWRfYmxvY2soZSx0LG4sYSk6ZS5zdHJhdGVneT09PVpfRklYRUQkMXx8bz09PXU/KHNlbmRfYml0cyhlLChTVEFUSUNfVFJFRVM8PDEpKyhhPzE6MCksMyksY29tcHJlc3NfYmxvY2soZSxzdGF0aWNfbHRyZWUsc3RhdGljX2R0cmVlKSk6KHNlbmRfYml0cyhlLChEWU5fVFJFRVM8PDEpKyhhPzE6MCksMyksc2VuZF9hbGxfdHJlZXMoZSxlLmxfZGVzYy5tYXhfY29kZSsxLGUuZF9kZXNjLm1heF9jb2RlKzEsaCsxKSxjb21wcmVzc19ibG9jayhlLGUuZHluX2x0cmVlLGUuZHluX2R0cmVlKSksaW5pdF9ibG9jayhlKSxhJiZiaV93aW5kdXAoZSl9ZnVuY3Rpb24gX3RyX3RhbGx5KGUsdCxuKXtyZXR1cm4gZS5wZW5kaW5nX2J1ZltlLmRfYnVmK2UubGFzdF9saXQqMl09dD4+PjgmMjU1LGUucGVuZGluZ19idWZbZS5kX2J1ZitlLmxhc3RfbGl0KjIrMV09dCYyNTUsZS5wZW5kaW5nX2J1ZltlLmxfYnVmK2UubGFzdF9saXRdPW4mMjU1LGUubGFzdF9saXQrKyx0PT09MD9lLmR5bl9sdHJlZVtuKjJdKys6KGUubWF0Y2hlcysrLHQtLSxlLmR5bl9sdHJlZVsoX2xlbmd0aF9jb2RlW25dK0xJVEVSQUxTJDErMSkqMl0rKyxlLmR5bl9kdHJlZVtkX2NvZGUodCkqMl0rKyksZS5sYXN0X2xpdD09PWUubGl0X2J1ZnNpemUtMX10cmVlcyQxLl90cl9pbml0PV90cl9pbml0LHRyZWVzJDEuX3RyX3N0b3JlZF9ibG9jaz1fdHJfc3RvcmVkX2Jsb2NrLHRyZWVzJDEuX3RyX2ZsdXNoX2Jsb2NrPV90cl9mbHVzaF9ibG9jayx0cmVlcyQxLl90cl90YWxseT1fdHJfdGFsbHksdHJlZXMkMS5fdHJfYWxpZ249X3RyX2FsaWduO2Z1bmN0aW9uIGFkbGVyMzIkMihlLHQsbixhKXtmb3IodmFyIHU9ZSY2NTUzNXwwLG89ZT4+PjE2JjY1NTM1fDAsaD0wO24hPT0wOyl7aD1uPjJlMz8yZTM6bixuLT1oO2RvIHU9dSt0W2ErK118MCxvPW8rdXwwO3doaWxlKC0taCk7dSU9NjU1MjEsbyU9NjU1MjF9cmV0dXJuIHV8bzw8MTZ8MH12YXIgYWRsZXIzMl8xPWFkbGVyMzIkMjtmdW5jdGlvbiBtYWtlVGFibGUoKXtmb3IodmFyIGUsdD1bXSxuPTA7bjwyNTY7bisrKXtlPW47Zm9yKHZhciBhPTA7YTw4O2ErKyllPWUmMT8zOTg4MjkyMzg0XmU+Pj4xOmU+Pj4xO3Rbbl09ZX1yZXR1cm4gdH12YXIgY3JjVGFibGU9bWFrZVRhYmxlKCk7ZnVuY3Rpb24gY3JjMzIkMihlLHQsbixhKXt2YXIgdT1jcmNUYWJsZSxvPWErbjtlXj0tMTtmb3IodmFyIGg9YTtoPG87aCsrKWU9ZT4+PjhedVsoZV50W2hdKSYyNTVdO3JldHVybiBlXi0xfXZhciBjcmMzMl8xPWNyYzMyJDIsbWVzc2FnZXM9ezI6Im5lZWQgZGljdGlvbmFyeSIsMToic3RyZWFtIGVuZCIsMDoiIiwiLTEiOiJmaWxlIGVycm9yIiwiLTIiOiJzdHJlYW0gZXJyb3IiLCItMyI6ImRhdGEgZXJyb3IiLCItNCI6Imluc3VmZmljaWVudCBtZW1vcnkiLCItNSI6ImJ1ZmZlciBlcnJvciIsIi02IjoiaW5jb21wYXRpYmxlIHZlcnNpb24ifSx1dGlscyQ3PWNvbW1vbix0cmVlcz10cmVlcyQxLGFkbGVyMzIkMT1hZGxlcjMyXzEsY3JjMzIkMT1jcmMzMl8xLG1zZyQyPW1lc3NhZ2VzLFpfTk9fRkxVU0gkMT0wLFpfUEFSVElBTF9GTFVTSD0xLFpfRlVMTF9GTFVTSD0zLFpfRklOSVNIJDI9NCxaX0JMT0NLJDE9NSxaX09LJDI9MCxaX1NUUkVBTV9FTkQkMj0xLFpfU1RSRUFNX0VSUk9SJDE9LTIsWl9EQVRBX0VSUk9SJDE9LTMsWl9CVUZfRVJST1IkMT0tNSxaX0RFRkFVTFRfQ09NUFJFU1NJT04kMT0tMSxaX0ZJTFRFUkVEPTEsWl9IVUZGTUFOX09OTFk9MixaX1JMRT0zLFpfRklYRUQ9NCxaX0RFRkFVTFRfU1RSQVRFR1kkMT0wLFpfVU5LTk9XTj0yLFpfREVGTEFURUQkMj04LE1BWF9NRU1fTEVWRUw9OSxNQVhfV0JJVFMkMT0xNSxERUZfTUVNX0xFVkVMPTgsTEVOR1RIX0NPREVTPTI5LExJVEVSQUxTPTI1NixMX0NPREVTPUxJVEVSQUxTKzErTEVOR1RIX0NPREVTLERfQ09ERVM9MzAsQkxfQ09ERVM9MTksSEVBUF9TSVpFPTIqTF9DT0RFUysxLE1BWF9CSVRTPTE1LE1JTl9NQVRDSD0zLE1BWF9NQVRDSD0yNTgsTUlOX0xPT0tBSEVBRD1NQVhfTUFUQ0grTUlOX01BVENIKzEsUFJFU0VUX0RJQ1Q9MzIsSU5JVF9TVEFURT00MixFWFRSQV9TVEFURT02OSxOQU1FX1NUQVRFPTczLENPTU1FTlRfU1RBVEU9OTEsSENSQ19TVEFURT0xMDMsQlVTWV9TVEFURT0xMTMsRklOSVNIX1NUQVRFPTY2NixCU19ORUVEX01PUkU9MSxCU19CTE9DS19ET05FPTIsQlNfRklOSVNIX1NUQVJURUQ9MyxCU19GSU5JU0hfRE9ORT00LE9TX0NPREU9MztmdW5jdGlvbiBlcnIoZSx0KXtyZXR1cm4gZS5tc2c9bXNnJDJbdF0sdH1mdW5jdGlvbiByYW5rKGUpe3JldHVybihlPDwxKS0oZT40Pzk6MCl9ZnVuY3Rpb24gemVybyhlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7LS10Pj0wOyllW3RdPTB9ZnVuY3Rpb24gZmx1c2hfcGVuZGluZyhlKXt2YXIgdD1lLnN0YXRlLG49dC5wZW5kaW5nO24+ZS5hdmFpbF9vdXQmJihuPWUuYXZhaWxfb3V0KSxuIT09MCYmKHV0aWxzJDcuYXJyYXlTZXQoZS5vdXRwdXQsdC5wZW5kaW5nX2J1Zix0LnBlbmRpbmdfb3V0LG4sZS5uZXh0X291dCksZS5uZXh0X291dCs9bix0LnBlbmRpbmdfb3V0Kz1uLGUudG90YWxfb3V0Kz1uLGUuYXZhaWxfb3V0LT1uLHQucGVuZGluZy09bix0LnBlbmRpbmc9PT0wJiYodC5wZW5kaW5nX291dD0wKSl9ZnVuY3Rpb24gZmx1c2hfYmxvY2tfb25seShlLHQpe3RyZWVzLl90cl9mbHVzaF9ibG9jayhlLGUuYmxvY2tfc3RhcnQ+PTA/ZS5ibG9ja19zdGFydDotMSxlLnN0cnN0YXJ0LWUuYmxvY2tfc3RhcnQsdCksZS5ibG9ja19zdGFydD1lLnN0cnN0YXJ0LGZsdXNoX3BlbmRpbmcoZS5zdHJtKX1mdW5jdGlvbiBwdXRfYnl0ZShlLHQpe2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXR9ZnVuY3Rpb24gcHV0U2hvcnRNU0IoZSx0KXtlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10Pj4+OCYyNTUsZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109dCYyNTV9ZnVuY3Rpb24gcmVhZF9idWYoZSx0LG4sYSl7dmFyIHU9ZS5hdmFpbF9pbjtyZXR1cm4gdT5hJiYodT1hKSx1PT09MD8wOihlLmF2YWlsX2luLT11LHV0aWxzJDcuYXJyYXlTZXQodCxlLmlucHV0LGUubmV4dF9pbix1LG4pLGUuc3RhdGUud3JhcD09PTE/ZS5hZGxlcj1hZGxlcjMyJDEoZS5hZGxlcix0LHUsbik6ZS5zdGF0ZS53cmFwPT09MiYmKGUuYWRsZXI9Y3JjMzIkMShlLmFkbGVyLHQsdSxuKSksZS5uZXh0X2luKz11LGUudG90YWxfaW4rPXUsdSl9ZnVuY3Rpb24gbG9uZ2VzdF9tYXRjaChlLHQpe3ZhciBuPWUubWF4X2NoYWluX2xlbmd0aCxhPWUuc3Ryc3RhcnQsdSxvLGg9ZS5wcmV2X2xlbmd0aCxkPWUubmljZV9tYXRjaCx3PWUuc3Ryc3RhcnQ+ZS53X3NpemUtTUlOX0xPT0tBSEVBRD9lLnN0cnN0YXJ0LShlLndfc2l6ZS1NSU5fTE9PS0FIRUFEKTowLF89ZS53aW5kb3csYj1lLndfbWFzayxNPWUucHJldixPPWUuc3Ryc3RhcnQrTUFYX01BVENILFQ9X1thK2gtMV0sUD1fW2EraF07ZS5wcmV2X2xlbmd0aD49ZS5nb29kX21hdGNoJiYobj4+PTIpLGQ+ZS5sb29rYWhlYWQmJihkPWUubG9va2FoZWFkKTtkbyBpZih1PXQsIShfW3UraF0hPT1QfHxfW3UraC0xXSE9PVR8fF9bdV0hPT1fW2FdfHxfWysrdV0hPT1fW2ErMV0pKXthKz0yLHUrKztkbzt3aGlsZShfWysrYV09PT1fWysrdV0mJl9bKythXT09PV9bKyt1XSYmX1srK2FdPT09X1srK3VdJiZfWysrYV09PT1fWysrdV0mJl9bKythXT09PV9bKyt1XSYmX1srK2FdPT09X1srK3VdJiZfWysrYV09PT1fWysrdV0mJl9bKythXT09PV9bKyt1XSYmYTxPKTtpZihvPU1BWF9NQVRDSC0oTy1hKSxhPU8tTUFYX01BVENILG8+aCl7aWYoZS5tYXRjaF9zdGFydD10LGg9byxvPj1kKWJyZWFrO1Q9X1thK2gtMV0sUD1fW2EraF19fXdoaWxlKCh0PU1bdCZiXSk+dyYmLS1uIT09MCk7cmV0dXJuIGg8PWUubG9va2FoZWFkP2g6ZS5sb29rYWhlYWR9ZnVuY3Rpb24gZmlsbF93aW5kb3coZSl7dmFyIHQ9ZS53X3NpemUsbixhLHUsbyxoO2Rve2lmKG89ZS53aW5kb3dfc2l6ZS1lLmxvb2thaGVhZC1lLnN0cnN0YXJ0LGUuc3Ryc3RhcnQ+PXQrKHQtTUlOX0xPT0tBSEVBRCkpe3V0aWxzJDcuYXJyYXlTZXQoZS53aW5kb3csZS53aW5kb3csdCx0LDApLGUubWF0Y2hfc3RhcnQtPXQsZS5zdHJzdGFydC09dCxlLmJsb2NrX3N0YXJ0LT10LGE9ZS5oYXNoX3NpemUsbj1hO2RvIHU9ZS5oZWFkWy0tbl0sZS5oZWFkW25dPXU+PXQ/dS10OjA7d2hpbGUoLS1hKTthPXQsbj1hO2RvIHU9ZS5wcmV2Wy0tbl0sZS5wcmV2W25dPXU+PXQ/dS10OjA7d2hpbGUoLS1hKTtvKz10fWlmKGUuc3RybS5hdmFpbF9pbj09PTApYnJlYWs7aWYoYT1yZWFkX2J1ZihlLnN0cm0sZS53aW5kb3csZS5zdHJzdGFydCtlLmxvb2thaGVhZCxvKSxlLmxvb2thaGVhZCs9YSxlLmxvb2thaGVhZCtlLmluc2VydD49TUlOX01BVENIKWZvcihoPWUuc3Ryc3RhcnQtZS5pbnNlcnQsZS5pbnNfaD1lLndpbmRvd1toXSxlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbaCsxXSkmZS5oYXNoX21hc2s7ZS5pbnNlcnQmJihlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbaCtNSU5fTUFUQ0gtMV0pJmUuaGFzaF9tYXNrLGUucHJldltoJmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWgsaCsrLGUuaW5zZXJ0LS0sIShlLmxvb2thaGVhZCtlLmluc2VydDxNSU5fTUFUQ0gpKTspO313aGlsZShlLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEJiZlLnN0cm0uYXZhaWxfaW4hPT0wKX1mdW5jdGlvbiBkZWZsYXRlX3N0b3JlZChlLHQpe3ZhciBuPTY1NTM1O2ZvcihuPmUucGVuZGluZ19idWZfc2l6ZS01JiYobj1lLnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYoZS5sb29rYWhlYWQ8PTEpe2lmKGZpbGxfd2luZG93KGUpLGUubG9va2FoZWFkPT09MCYmdD09PVpfTk9fRkxVU0gkMSlyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKGUubG9va2FoZWFkPT09MClicmVha31lLnN0cnN0YXJ0Kz1lLmxvb2thaGVhZCxlLmxvb2thaGVhZD0wO3ZhciBhPWUuYmxvY2tfc3RhcnQrbjtpZigoZS5zdHJzdGFydD09PTB8fGUuc3Ryc3RhcnQ+PWEpJiYoZS5sb29rYWhlYWQ9ZS5zdHJzdGFydC1hLGUuc3Ryc3RhcnQ9YSxmbHVzaF9ibG9ja19vbmx5KGUsITEpLGUuc3RybS5hdmFpbF9vdXQ9PT0wKXx8ZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0Pj1lLndfc2l6ZS1NSU5fTE9PS0FIRUFEJiYoZmx1c2hfYmxvY2tfb25seShlLCExKSxlLnN0cm0uYXZhaWxfb3V0PT09MCkpcmV0dXJuIEJTX05FRURfTU9SRX1yZXR1cm4gZS5pbnNlcnQ9MCx0PT09Wl9GSU5JU0gkMj8oZmx1c2hfYmxvY2tfb25seShlLCEwKSxlLnN0cm0uYXZhaWxfb3V0PT09MD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6KGUuc3Ryc3RhcnQ+ZS5ibG9ja19zdGFydCYmKGZsdXNoX2Jsb2NrX29ubHkoZSwhMSksZS5zdHJtLmF2YWlsX291dD09PTApLEJTX05FRURfTU9SRSl9ZnVuY3Rpb24gZGVmbGF0ZV9mYXN0KGUsdCl7Zm9yKHZhciBuLGE7Oyl7aWYoZS5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCl7aWYoZmlsbF93aW5kb3coZSksZS5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCYmdD09PVpfTk9fRkxVU0gkMSlyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKGUubG9va2FoZWFkPT09MClicmVha31pZihuPTAsZS5sb29rYWhlYWQ+PU1JTl9NQVRDSCYmKGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0K01JTl9NQVRDSC0xXSkmZS5oYXNoX21hc2ssbj1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KSxuIT09MCYmZS5zdHJzdGFydC1uPD1lLndfc2l6ZS1NSU5fTE9PS0FIRUFEJiYoZS5tYXRjaF9sZW5ndGg9bG9uZ2VzdF9tYXRjaChlLG4pKSxlLm1hdGNoX2xlbmd0aD49TUlOX01BVENIKWlmKGE9dHJlZXMuX3RyX3RhbGx5KGUsZS5zdHJzdGFydC1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoLU1JTl9NQVRDSCksZS5sb29rYWhlYWQtPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPD1lLm1heF9sYXp5X21hdGNoJiZlLmxvb2thaGVhZD49TUlOX01BVENIKXtlLm1hdGNoX2xlbmd0aC0tO2RvIGUuc3Ryc3RhcnQrKyxlLmluc19oPShlLmluc19oPDxlLmhhc2hfc2hpZnReZS53aW5kb3dbZS5zdHJzdGFydCtNSU5fTUFUQ0gtMV0pJmUuaGFzaF9tYXNrLG49ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydDt3aGlsZSgtLWUubWF0Y2hfbGVuZ3RoIT09MCk7ZS5zdHJzdGFydCsrfWVsc2UgZS5zdHJzdGFydCs9ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg9MCxlLmluc19oPWUud2luZG93W2Uuc3Ryc3RhcnRdLGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0KzFdKSZlLmhhc2hfbWFzaztlbHNlIGE9dHJlZXMuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0Kys7aWYoYSYmKGZsdXNoX2Jsb2NrX29ubHkoZSwhMSksZS5zdHJtLmF2YWlsX291dD09PTApKXJldHVybiBCU19ORUVEX01PUkV9cmV0dXJuIGUuaW5zZXJ0PWUuc3Ryc3RhcnQ8TUlOX01BVENILTE/ZS5zdHJzdGFydDpNSU5fTUFUQ0gtMSx0PT09Wl9GSU5JU0gkMj8oZmx1c2hfYmxvY2tfb25seShlLCEwKSxlLnN0cm0uYXZhaWxfb3V0PT09MD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6ZS5sYXN0X2xpdCYmKGZsdXNoX2Jsb2NrX29ubHkoZSwhMSksZS5zdHJtLmF2YWlsX291dD09PTApP0JTX05FRURfTU9SRTpCU19CTE9DS19ET05FfWZ1bmN0aW9uIGRlZmxhdGVfc2xvdyhlLHQpe2Zvcih2YXIgbixhLHU7Oyl7aWYoZS5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCl7aWYoZmlsbF93aW5kb3coZSksZS5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCYmdD09PVpfTk9fRkxVU0gkMSlyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKGUubG9va2FoZWFkPT09MClicmVha31pZihuPTAsZS5sb29rYWhlYWQ+PU1JTl9NQVRDSCYmKGUuaW5zX2g9KGUuaW5zX2g8PGUuaGFzaF9zaGlmdF5lLndpbmRvd1tlLnN0cnN0YXJ0K01JTl9NQVRDSC0xXSkmZS5oYXNoX21hc2ssbj1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KSxlLnByZXZfbGVuZ3RoPWUubWF0Y2hfbGVuZ3RoLGUucHJldl9tYXRjaD1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoPU1JTl9NQVRDSC0xLG4hPT0wJiZlLnByZXZfbGVuZ3RoPGUubWF4X2xhenlfbWF0Y2gmJmUuc3Ryc3RhcnQtbjw9ZS53X3NpemUtTUlOX0xPT0tBSEVBRCYmKGUubWF0Y2hfbGVuZ3RoPWxvbmdlc3RfbWF0Y2goZSxuKSxlLm1hdGNoX2xlbmd0aDw9NSYmKGUuc3RyYXRlZ3k9PT1aX0ZJTFRFUkVEfHxlLm1hdGNoX2xlbmd0aD09PU1JTl9NQVRDSCYmZS5zdHJzdGFydC1lLm1hdGNoX3N0YXJ0PjQwOTYpJiYoZS5tYXRjaF9sZW5ndGg9TUlOX01BVENILTEpKSxlLnByZXZfbGVuZ3RoPj1NSU5fTUFUQ0gmJmUubWF0Y2hfbGVuZ3RoPD1lLnByZXZfbGVuZ3RoKXt1PWUuc3Ryc3RhcnQrZS5sb29rYWhlYWQtTUlOX01BVENILGE9dHJlZXMuX3RyX3RhbGx5KGUsZS5zdHJzdGFydC0xLWUucHJldl9tYXRjaCxlLnByZXZfbGVuZ3RoLU1JTl9NQVRDSCksZS5sb29rYWhlYWQtPWUucHJldl9sZW5ndGgtMSxlLnByZXZfbGVuZ3RoLT0yO2RvKytlLnN0cnN0YXJ0PD11JiYoZS5pbnNfaD0oZS5pbnNfaDw8ZS5oYXNoX3NoaWZ0XmUud2luZG93W2Uuc3Ryc3RhcnQrTUlOX01BVENILTFdKSZlLmhhc2hfbWFzayxuPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQpO3doaWxlKC0tZS5wcmV2X2xlbmd0aCE9PTApO2lmKGUubWF0Y2hfYXZhaWxhYmxlPTAsZS5tYXRjaF9sZW5ndGg9TUlOX01BVENILTEsZS5zdHJzdGFydCsrLGEmJihmbHVzaF9ibG9ja19vbmx5KGUsITEpLGUuc3RybS5hdmFpbF9vdXQ9PT0wKSlyZXR1cm4gQlNfTkVFRF9NT1JFfWVsc2UgaWYoZS5tYXRjaF9hdmFpbGFibGUpe2lmKGE9dHJlZXMuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0LTFdKSxhJiZmbHVzaF9ibG9ja19vbmx5KGUsITEpLGUuc3Ryc3RhcnQrKyxlLmxvb2thaGVhZC0tLGUuc3RybS5hdmFpbF9vdXQ9PT0wKXJldHVybiBCU19ORUVEX01PUkV9ZWxzZSBlLm1hdGNoX2F2YWlsYWJsZT0xLGUuc3Ryc3RhcnQrKyxlLmxvb2thaGVhZC0tfXJldHVybiBlLm1hdGNoX2F2YWlsYWJsZSYmKGE9dHJlZXMuX3RyX3RhbGx5KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0LTFdKSxlLm1hdGNoX2F2YWlsYWJsZT0wKSxlLmluc2VydD1lLnN0cnN0YXJ0PE1JTl9NQVRDSC0xP2Uuc3Ryc3RhcnQ6TUlOX01BVENILTEsdD09PVpfRklOSVNIJDI/KGZsdXNoX2Jsb2NrX29ubHkoZSwhMCksZS5zdHJtLmF2YWlsX291dD09PTA/QlNfRklOSVNIX1NUQVJURUQ6QlNfRklOSVNIX0RPTkUpOmUubGFzdF9saXQmJihmbHVzaF9ibG9ja19vbmx5KGUsITEpLGUuc3RybS5hdmFpbF9vdXQ9PT0wKT9CU19ORUVEX01PUkU6QlNfQkxPQ0tfRE9ORX1mdW5jdGlvbiBkZWZsYXRlX3JsZShlLHQpe2Zvcih2YXIgbixhLHUsbyxoPWUud2luZG93Ozspe2lmKGUubG9va2FoZWFkPD1NQVhfTUFUQ0gpe2lmKGZpbGxfd2luZG93KGUpLGUubG9va2FoZWFkPD1NQVhfTUFUQ0gmJnQ9PT1aX05PX0ZMVVNIJDEpcmV0dXJuIEJTX05FRURfTU9SRTtpZihlLmxvb2thaGVhZD09PTApYnJlYWt9aWYoZS5tYXRjaF9sZW5ndGg9MCxlLmxvb2thaGVhZD49TUlOX01BVENIJiZlLnN0cnN0YXJ0PjAmJih1PWUuc3Ryc3RhcnQtMSxhPWhbdV0sYT09PWhbKyt1XSYmYT09PWhbKyt1XSYmYT09PWhbKyt1XSkpe289ZS5zdHJzdGFydCtNQVhfTUFUQ0g7ZG87d2hpbGUoYT09PWhbKyt1XSYmYT09PWhbKyt1XSYmYT09PWhbKyt1XSYmYT09PWhbKyt1XSYmYT09PWhbKyt1XSYmYT09PWhbKyt1XSYmYT09PWhbKyt1XSYmYT09PWhbKyt1XSYmdTxvKTtlLm1hdGNoX2xlbmd0aD1NQVhfTUFUQ0gtKG8tdSksZS5tYXRjaF9sZW5ndGg+ZS5sb29rYWhlYWQmJihlLm1hdGNoX2xlbmd0aD1lLmxvb2thaGVhZCl9aWYoZS5tYXRjaF9sZW5ndGg+PU1JTl9NQVRDSD8obj10cmVlcy5fdHJfdGFsbHkoZSwxLGUubWF0Y2hfbGVuZ3RoLU1JTl9NQVRDSCksZS5sb29rYWhlYWQtPWUubWF0Y2hfbGVuZ3RoLGUuc3Ryc3RhcnQrPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPTApOihuPXRyZWVzLl90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrKSxuJiYoZmx1c2hfYmxvY2tfb25seShlLCExKSxlLnN0cm0uYXZhaWxfb3V0PT09MCkpcmV0dXJuIEJTX05FRURfTU9SRX1yZXR1cm4gZS5pbnNlcnQ9MCx0PT09Wl9GSU5JU0gkMj8oZmx1c2hfYmxvY2tfb25seShlLCEwKSxlLnN0cm0uYXZhaWxfb3V0PT09MD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6ZS5sYXN0X2xpdCYmKGZsdXNoX2Jsb2NrX29ubHkoZSwhMSksZS5zdHJtLmF2YWlsX291dD09PTApP0JTX05FRURfTU9SRTpCU19CTE9DS19ET05FfWZ1bmN0aW9uIGRlZmxhdGVfaHVmZihlLHQpe2Zvcih2YXIgbjs7KXtpZihlLmxvb2thaGVhZD09PTAmJihmaWxsX3dpbmRvdyhlKSxlLmxvb2thaGVhZD09PTApKXtpZih0PT09Wl9OT19GTFVTSCQxKXJldHVybiBCU19ORUVEX01PUkU7YnJlYWt9aWYoZS5tYXRjaF9sZW5ndGg9MCxuPXRyZWVzLl90cl90YWxseShlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrLG4mJihmbHVzaF9ibG9ja19vbmx5KGUsITEpLGUuc3RybS5hdmFpbF9vdXQ9PT0wKSlyZXR1cm4gQlNfTkVFRF9NT1JFfXJldHVybiBlLmluc2VydD0wLHQ9PT1aX0ZJTklTSCQyPyhmbHVzaF9ibG9ja19vbmx5KGUsITApLGUuc3RybS5hdmFpbF9vdXQ9PT0wP0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKTplLmxhc3RfbGl0JiYoZmx1c2hfYmxvY2tfb25seShlLCExKSxlLnN0cm0uYXZhaWxfb3V0PT09MCk/QlNfTkVFRF9NT1JFOkJTX0JMT0NLX0RPTkV9ZnVuY3Rpb24gQ29uZmlnKGUsdCxuLGEsdSl7dGhpcy5nb29kX2xlbmd0aD1lLHRoaXMubWF4X2xhenk9dCx0aGlzLm5pY2VfbGVuZ3RoPW4sdGhpcy5tYXhfY2hhaW49YSx0aGlzLmZ1bmM9dX12YXIgY29uZmlndXJhdGlvbl90YWJsZTtjb25maWd1cmF0aW9uX3RhYmxlPVtuZXcgQ29uZmlnKDAsMCwwLDAsZGVmbGF0ZV9zdG9yZWQpLG5ldyBDb25maWcoNCw0LDgsNCxkZWZsYXRlX2Zhc3QpLG5ldyBDb25maWcoNCw1LDE2LDgsZGVmbGF0ZV9mYXN0KSxuZXcgQ29uZmlnKDQsNiwzMiwzMixkZWZsYXRlX2Zhc3QpLG5ldyBDb25maWcoNCw0LDE2LDE2LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZyg4LDE2LDMyLDMyLGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZyg4LDE2LDEyOCwxMjgsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDgsMzIsMTI4LDI1NixkZWZsYXRlX3Nsb3cpLG5ldyBDb25maWcoMzIsMTI4LDI1OCwxMDI0LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZygzMiwyNTgsMjU4LDQwOTYsZGVmbGF0ZV9zbG93KV07ZnVuY3Rpb24gbG1faW5pdChlKXtlLndpbmRvd19zaXplPTIqZS53X3NpemUsemVybyhlLmhlYWQpLGUubWF4X2xhenlfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtlLmxldmVsXS5tYXhfbGF6eSxlLmdvb2RfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtlLmxldmVsXS5nb29kX2xlbmd0aCxlLm5pY2VfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtlLmxldmVsXS5uaWNlX2xlbmd0aCxlLm1heF9jaGFpbl9sZW5ndGg9Y29uZmlndXJhdGlvbl90YWJsZVtlLmxldmVsXS5tYXhfY2hhaW4sZS5zdHJzdGFydD0wLGUuYmxvY2tfc3RhcnQ9MCxlLmxvb2thaGVhZD0wLGUuaW5zZXJ0PTAsZS5tYXRjaF9sZW5ndGg9ZS5wcmV2X2xlbmd0aD1NSU5fTUFUQ0gtMSxlLm1hdGNoX2F2YWlsYWJsZT0wLGUuaW5zX2g9MH1mdW5jdGlvbiBEZWZsYXRlU3RhdGUoKXt0aGlzLnN0cm09bnVsbCx0aGlzLnN0YXR1cz0wLHRoaXMucGVuZGluZ19idWY9bnVsbCx0aGlzLnBlbmRpbmdfYnVmX3NpemU9MCx0aGlzLnBlbmRpbmdfb3V0PTAsdGhpcy5wZW5kaW5nPTAsdGhpcy53cmFwPTAsdGhpcy5nemhlYWQ9bnVsbCx0aGlzLmd6aW5kZXg9MCx0aGlzLm1ldGhvZD1aX0RFRkxBVEVEJDIsdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IHV0aWxzJDcuQnVmMTYoSEVBUF9TSVpFKjIpLHRoaXMuZHluX2R0cmVlPW5ldyB1dGlscyQ3LkJ1ZjE2KCgyKkRfQ09ERVMrMSkqMiksdGhpcy5ibF90cmVlPW5ldyB1dGlscyQ3LkJ1ZjE2KCgyKkJMX0NPREVTKzEpKjIpLHplcm8odGhpcy5keW5fbHRyZWUpLHplcm8odGhpcy5keW5fZHRyZWUpLHplcm8odGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgdXRpbHMkNy5CdWYxNihNQVhfQklUUysxKSx0aGlzLmhlYXA9bmV3IHV0aWxzJDcuQnVmMTYoMipMX0NPREVTKzEpLHplcm8odGhpcy5oZWFwKSx0aGlzLmhlYXBfbGVuPTAsdGhpcy5oZWFwX21heD0wLHRoaXMuZGVwdGg9bmV3IHV0aWxzJDcuQnVmMTYoMipMX0NPREVTKzEpLHplcm8odGhpcy5kZXB0aCksdGhpcy5sX2J1Zj0wLHRoaXMubGl0X2J1ZnNpemU9MCx0aGlzLmxhc3RfbGl0PTAsdGhpcy5kX2J1Zj0wLHRoaXMub3B0X2xlbj0wLHRoaXMuc3RhdGljX2xlbj0wLHRoaXMubWF0Y2hlcz0wLHRoaXMuaW5zZXJ0PTAsdGhpcy5iaV9idWY9MCx0aGlzLmJpX3ZhbGlkPTB9ZnVuY3Rpb24gZGVmbGF0ZVJlc2V0S2VlcChlKXt2YXIgdDtyZXR1cm4hZXx8IWUuc3RhdGU/ZXJyKGUsWl9TVFJFQU1fRVJST1IkMSk6KGUudG90YWxfaW49ZS50b3RhbF9vdXQ9MCxlLmRhdGFfdHlwZT1aX1VOS05PV04sdD1lLnN0YXRlLHQucGVuZGluZz0wLHQucGVuZGluZ19vdXQ9MCx0LndyYXA8MCYmKHQud3JhcD0tdC53cmFwKSx0LnN0YXR1cz10LndyYXA/SU5JVF9TVEFURTpCVVNZX1NUQVRFLGUuYWRsZXI9dC53cmFwPT09Mj8wOjEsdC5sYXN0X2ZsdXNoPVpfTk9fRkxVU0gkMSx0cmVlcy5fdHJfaW5pdCh0KSxaX09LJDIpfWZ1bmN0aW9uIGRlZmxhdGVSZXNldChlKXt2YXIgdD1kZWZsYXRlUmVzZXRLZWVwKGUpO3JldHVybiB0PT09Wl9PSyQyJiZsbV9pbml0KGUuc3RhdGUpLHR9ZnVuY3Rpb24gZGVmbGF0ZVNldEhlYWRlcihlLHQpe3JldHVybiFlfHwhZS5zdGF0ZXx8ZS5zdGF0ZS53cmFwIT09Mj9aX1NUUkVBTV9FUlJPUiQxOihlLnN0YXRlLmd6aGVhZD10LFpfT0skMil9ZnVuY3Rpb24gZGVmbGF0ZUluaXQyKGUsdCxuLGEsdSxvKXtpZighZSlyZXR1cm4gWl9TVFJFQU1fRVJST1IkMTt2YXIgaD0xO2lmKHQ9PT1aX0RFRkFVTFRfQ09NUFJFU1NJT04kMSYmKHQ9NiksYTwwPyhoPTAsYT0tYSk6YT4xNSYmKGg9MixhLT0xNiksdTwxfHx1Pk1BWF9NRU1fTEVWRUx8fG4hPT1aX0RFRkxBVEVEJDJ8fGE8OHx8YT4xNXx8dDwwfHx0Pjl8fG88MHx8bz5aX0ZJWEVEKXJldHVybiBlcnIoZSxaX1NUUkVBTV9FUlJPUiQxKTthPT09OCYmKGE9OSk7dmFyIGQ9bmV3IERlZmxhdGVTdGF0ZTtyZXR1cm4gZS5zdGF0ZT1kLGQuc3RybT1lLGQud3JhcD1oLGQuZ3poZWFkPW51bGwsZC53X2JpdHM9YSxkLndfc2l6ZT0xPDxkLndfYml0cyxkLndfbWFzaz1kLndfc2l6ZS0xLGQuaGFzaF9iaXRzPXUrNyxkLmhhc2hfc2l6ZT0xPDxkLmhhc2hfYml0cyxkLmhhc2hfbWFzaz1kLmhhc2hfc2l6ZS0xLGQuaGFzaF9zaGlmdD1+figoZC5oYXNoX2JpdHMrTUlOX01BVENILTEpL01JTl9NQVRDSCksZC53aW5kb3c9bmV3IHV0aWxzJDcuQnVmOChkLndfc2l6ZSoyKSxkLmhlYWQ9bmV3IHV0aWxzJDcuQnVmMTYoZC5oYXNoX3NpemUpLGQucHJldj1uZXcgdXRpbHMkNy5CdWYxNihkLndfc2l6ZSksZC5saXRfYnVmc2l6ZT0xPDx1KzYsZC5wZW5kaW5nX2J1Zl9zaXplPWQubGl0X2J1ZnNpemUqNCxkLnBlbmRpbmdfYnVmPW5ldyB1dGlscyQ3LkJ1ZjgoZC5wZW5kaW5nX2J1Zl9zaXplKSxkLmRfYnVmPTEqZC5saXRfYnVmc2l6ZSxkLmxfYnVmPSgxKzIpKmQubGl0X2J1ZnNpemUsZC5sZXZlbD10LGQuc3RyYXRlZ3k9byxkLm1ldGhvZD1uLGRlZmxhdGVSZXNldChlKX1mdW5jdGlvbiBkZWZsYXRlSW5pdChlLHQpe3JldHVybiBkZWZsYXRlSW5pdDIoZSx0LFpfREVGTEFURUQkMixNQVhfV0JJVFMkMSxERUZfTUVNX0xFVkVMLFpfREVGQVVMVF9TVFJBVEVHWSQxKX1mdW5jdGlvbiBkZWZsYXRlJDMoZSx0KXt2YXIgbixhLHUsbztpZighZXx8IWUuc3RhdGV8fHQ+Wl9CTE9DSyQxfHx0PDApcmV0dXJuIGU/ZXJyKGUsWl9TVFJFQU1fRVJST1IkMSk6Wl9TVFJFQU1fRVJST1IkMTtpZihhPWUuc3RhdGUsIWUub3V0cHV0fHwhZS5pbnB1dCYmZS5hdmFpbF9pbiE9PTB8fGEuc3RhdHVzPT09RklOSVNIX1NUQVRFJiZ0IT09Wl9GSU5JU0gkMilyZXR1cm4gZXJyKGUsZS5hdmFpbF9vdXQ9PT0wP1pfQlVGX0VSUk9SJDE6Wl9TVFJFQU1fRVJST1IkMSk7aWYoYS5zdHJtPWUsbj1hLmxhc3RfZmx1c2gsYS5sYXN0X2ZsdXNoPXQsYS5zdGF0dXM9PT1JTklUX1NUQVRFKWlmKGEud3JhcD09PTIpZS5hZGxlcj0wLHB1dF9ieXRlKGEsMzEpLHB1dF9ieXRlKGEsMTM5KSxwdXRfYnl0ZShhLDgpLGEuZ3poZWFkPyhwdXRfYnl0ZShhLChhLmd6aGVhZC50ZXh0PzE6MCkrKGEuZ3poZWFkLmhjcmM/MjowKSsoYS5nemhlYWQuZXh0cmE/NDowKSsoYS5nemhlYWQubmFtZT84OjApKyhhLmd6aGVhZC5jb21tZW50PzE2OjApKSxwdXRfYnl0ZShhLGEuZ3poZWFkLnRpbWUmMjU1KSxwdXRfYnl0ZShhLGEuZ3poZWFkLnRpbWU+PjgmMjU1KSxwdXRfYnl0ZShhLGEuZ3poZWFkLnRpbWU+PjE2JjI1NSkscHV0X2J5dGUoYSxhLmd6aGVhZC50aW1lPj4yNCYyNTUpLHB1dF9ieXRlKGEsYS5sZXZlbD09PTk/MjphLnN0cmF0ZWd5Pj1aX0hVRkZNQU5fT05MWXx8YS5sZXZlbDwyPzQ6MCkscHV0X2J5dGUoYSxhLmd6aGVhZC5vcyYyNTUpLGEuZ3poZWFkLmV4dHJhJiZhLmd6aGVhZC5leHRyYS5sZW5ndGgmJihwdXRfYnl0ZShhLGEuZ3poZWFkLmV4dHJhLmxlbmd0aCYyNTUpLHB1dF9ieXRlKGEsYS5nemhlYWQuZXh0cmEubGVuZ3RoPj44JjI1NSkpLGEuZ3poZWFkLmhjcmMmJihlLmFkbGVyPWNyYzMyJDEoZS5hZGxlcixhLnBlbmRpbmdfYnVmLGEucGVuZGluZywwKSksYS5nemluZGV4PTAsYS5zdGF0dXM9RVhUUkFfU1RBVEUpOihwdXRfYnl0ZShhLDApLHB1dF9ieXRlKGEsMCkscHV0X2J5dGUoYSwwKSxwdXRfYnl0ZShhLDApLHB1dF9ieXRlKGEsMCkscHV0X2J5dGUoYSxhLmxldmVsPT09OT8yOmEuc3RyYXRlZ3k+PVpfSFVGRk1BTl9PTkxZfHxhLmxldmVsPDI/NDowKSxwdXRfYnl0ZShhLE9TX0NPREUpLGEuc3RhdHVzPUJVU1lfU1RBVEUpO2Vsc2V7dmFyIGg9Wl9ERUZMQVRFRCQyKyhhLndfYml0cy04PDw0KTw8OCxkPS0xO2Euc3RyYXRlZ3k+PVpfSFVGRk1BTl9PTkxZfHxhLmxldmVsPDI/ZD0wOmEubGV2ZWw8Nj9kPTE6YS5sZXZlbD09PTY/ZD0yOmQ9MyxofD1kPDw2LGEuc3Ryc3RhcnQhPT0wJiYoaHw9UFJFU0VUX0RJQ1QpLGgrPTMxLWglMzEsYS5zdGF0dXM9QlVTWV9TVEFURSxwdXRTaG9ydE1TQihhLGgpLGEuc3Ryc3RhcnQhPT0wJiYocHV0U2hvcnRNU0IoYSxlLmFkbGVyPj4+MTYpLHB1dFNob3J0TVNCKGEsZS5hZGxlciY2NTUzNSkpLGUuYWRsZXI9MX1pZihhLnN0YXR1cz09PUVYVFJBX1NUQVRFKWlmKGEuZ3poZWFkLmV4dHJhKXtmb3IodT1hLnBlbmRpbmc7YS5nemluZGV4PChhLmd6aGVhZC5leHRyYS5sZW5ndGgmNjU1MzUpJiYhKGEucGVuZGluZz09PWEucGVuZGluZ19idWZfc2l6ZSYmKGEuZ3poZWFkLmhjcmMmJmEucGVuZGluZz51JiYoZS5hZGxlcj1jcmMzMiQxKGUuYWRsZXIsYS5wZW5kaW5nX2J1ZixhLnBlbmRpbmctdSx1KSksZmx1c2hfcGVuZGluZyhlKSx1PWEucGVuZGluZyxhLnBlbmRpbmc9PT1hLnBlbmRpbmdfYnVmX3NpemUpKTspcHV0X2J5dGUoYSxhLmd6aGVhZC5leHRyYVthLmd6aW5kZXhdJjI1NSksYS5nemluZGV4Kys7YS5nemhlYWQuaGNyYyYmYS5wZW5kaW5nPnUmJihlLmFkbGVyPWNyYzMyJDEoZS5hZGxlcixhLnBlbmRpbmdfYnVmLGEucGVuZGluZy11LHUpKSxhLmd6aW5kZXg9PT1hLmd6aGVhZC5leHRyYS5sZW5ndGgmJihhLmd6aW5kZXg9MCxhLnN0YXR1cz1OQU1FX1NUQVRFKX1lbHNlIGEuc3RhdHVzPU5BTUVfU1RBVEU7aWYoYS5zdGF0dXM9PT1OQU1FX1NUQVRFKWlmKGEuZ3poZWFkLm5hbWUpe3U9YS5wZW5kaW5nO2Rve2lmKGEucGVuZGluZz09PWEucGVuZGluZ19idWZfc2l6ZSYmKGEuZ3poZWFkLmhjcmMmJmEucGVuZGluZz51JiYoZS5hZGxlcj1jcmMzMiQxKGUuYWRsZXIsYS5wZW5kaW5nX2J1ZixhLnBlbmRpbmctdSx1KSksZmx1c2hfcGVuZGluZyhlKSx1PWEucGVuZGluZyxhLnBlbmRpbmc9PT1hLnBlbmRpbmdfYnVmX3NpemUpKXtvPTE7YnJlYWt9YS5nemluZGV4PGEuZ3poZWFkLm5hbWUubGVuZ3RoP289YS5nemhlYWQubmFtZS5jaGFyQ29kZUF0KGEuZ3ppbmRleCsrKSYyNTU6bz0wLHB1dF9ieXRlKGEsbyl9d2hpbGUobyE9PTApO2EuZ3poZWFkLmhjcmMmJmEucGVuZGluZz51JiYoZS5hZGxlcj1jcmMzMiQxKGUuYWRsZXIsYS5wZW5kaW5nX2J1ZixhLnBlbmRpbmctdSx1KSksbz09PTAmJihhLmd6aW5kZXg9MCxhLnN0YXR1cz1DT01NRU5UX1NUQVRFKX1lbHNlIGEuc3RhdHVzPUNPTU1FTlRfU1RBVEU7aWYoYS5zdGF0dXM9PT1DT01NRU5UX1NUQVRFKWlmKGEuZ3poZWFkLmNvbW1lbnQpe3U9YS5wZW5kaW5nO2Rve2lmKGEucGVuZGluZz09PWEucGVuZGluZ19idWZfc2l6ZSYmKGEuZ3poZWFkLmhjcmMmJmEucGVuZGluZz51JiYoZS5hZGxlcj1jcmMzMiQxKGUuYWRsZXIsYS5wZW5kaW5nX2J1ZixhLnBlbmRpbmctdSx1KSksZmx1c2hfcGVuZGluZyhlKSx1PWEucGVuZGluZyxhLnBlbmRpbmc9PT1hLnBlbmRpbmdfYnVmX3NpemUpKXtvPTE7YnJlYWt9YS5nemluZGV4PGEuZ3poZWFkLmNvbW1lbnQubGVuZ3RoP289YS5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KGEuZ3ppbmRleCsrKSYyNTU6bz0wLHB1dF9ieXRlKGEsbyl9d2hpbGUobyE9PTApO2EuZ3poZWFkLmhjcmMmJmEucGVuZGluZz51JiYoZS5hZGxlcj1jcmMzMiQxKGUuYWRsZXIsYS5wZW5kaW5nX2J1ZixhLnBlbmRpbmctdSx1KSksbz09PTAmJihhLnN0YXR1cz1IQ1JDX1NUQVRFKX1lbHNlIGEuc3RhdHVzPUhDUkNfU1RBVEU7aWYoYS5zdGF0dXM9PT1IQ1JDX1NUQVRFJiYoYS5nemhlYWQuaGNyYz8oYS5wZW5kaW5nKzI+YS5wZW5kaW5nX2J1Zl9zaXplJiZmbHVzaF9wZW5kaW5nKGUpLGEucGVuZGluZysyPD1hLnBlbmRpbmdfYnVmX3NpemUmJihwdXRfYnl0ZShhLGUuYWRsZXImMjU1KSxwdXRfYnl0ZShhLGUuYWRsZXI+PjgmMjU1KSxlLmFkbGVyPTAsYS5zdGF0dXM9QlVTWV9TVEFURSkpOmEuc3RhdHVzPUJVU1lfU1RBVEUpLGEucGVuZGluZyE9PTApe2lmKGZsdXNoX3BlbmRpbmcoZSksZS5hdmFpbF9vdXQ9PT0wKXJldHVybiBhLmxhc3RfZmx1c2g9LTEsWl9PSyQyfWVsc2UgaWYoZS5hdmFpbF9pbj09PTAmJnJhbmsodCk8PXJhbmsobikmJnQhPT1aX0ZJTklTSCQyKXJldHVybiBlcnIoZSxaX0JVRl9FUlJPUiQxKTtpZihhLnN0YXR1cz09PUZJTklTSF9TVEFURSYmZS5hdmFpbF9pbiE9PTApcmV0dXJuIGVycihlLFpfQlVGX0VSUk9SJDEpO2lmKGUuYXZhaWxfaW4hPT0wfHxhLmxvb2thaGVhZCE9PTB8fHQhPT1aX05PX0ZMVVNIJDEmJmEuc3RhdHVzIT09RklOSVNIX1NUQVRFKXt2YXIgdz1hLnN0cmF0ZWd5PT09Wl9IVUZGTUFOX09OTFk/ZGVmbGF0ZV9odWZmKGEsdCk6YS5zdHJhdGVneT09PVpfUkxFP2RlZmxhdGVfcmxlKGEsdCk6Y29uZmlndXJhdGlvbl90YWJsZVthLmxldmVsXS5mdW5jKGEsdCk7aWYoKHc9PT1CU19GSU5JU0hfU1RBUlRFRHx8dz09PUJTX0ZJTklTSF9ET05FKSYmKGEuc3RhdHVzPUZJTklTSF9TVEFURSksdz09PUJTX05FRURfTU9SRXx8dz09PUJTX0ZJTklTSF9TVEFSVEVEKXJldHVybiBlLmF2YWlsX291dD09PTAmJihhLmxhc3RfZmx1c2g9LTEpLFpfT0skMjtpZih3PT09QlNfQkxPQ0tfRE9ORSYmKHQ9PT1aX1BBUlRJQUxfRkxVU0g/dHJlZXMuX3RyX2FsaWduKGEpOnQhPT1aX0JMT0NLJDEmJih0cmVlcy5fdHJfc3RvcmVkX2Jsb2NrKGEsMCwwLCExKSx0PT09Wl9GVUxMX0ZMVVNIJiYoemVybyhhLmhlYWQpLGEubG9va2FoZWFkPT09MCYmKGEuc3Ryc3RhcnQ9MCxhLmJsb2NrX3N0YXJ0PTAsYS5pbnNlcnQ9MCkpKSxmbHVzaF9wZW5kaW5nKGUpLGUuYXZhaWxfb3V0PT09MCkpcmV0dXJuIGEubGFzdF9mbHVzaD0tMSxaX09LJDJ9cmV0dXJuIHQhPT1aX0ZJTklTSCQyP1pfT0skMjphLndyYXA8PTA/Wl9TVFJFQU1fRU5EJDI6KGEud3JhcD09PTI/KHB1dF9ieXRlKGEsZS5hZGxlciYyNTUpLHB1dF9ieXRlKGEsZS5hZGxlcj4+OCYyNTUpLHB1dF9ieXRlKGEsZS5hZGxlcj4+MTYmMjU1KSxwdXRfYnl0ZShhLGUuYWRsZXI+PjI0JjI1NSkscHV0X2J5dGUoYSxlLnRvdGFsX2luJjI1NSkscHV0X2J5dGUoYSxlLnRvdGFsX2luPj44JjI1NSkscHV0X2J5dGUoYSxlLnRvdGFsX2luPj4xNiYyNTUpLHB1dF9ieXRlKGEsZS50b3RhbF9pbj4+MjQmMjU1KSk6KHB1dFNob3J0TVNCKGEsZS5hZGxlcj4+PjE2KSxwdXRTaG9ydE1TQihhLGUuYWRsZXImNjU1MzUpKSxmbHVzaF9wZW5kaW5nKGUpLGEud3JhcD4wJiYoYS53cmFwPS1hLndyYXApLGEucGVuZGluZyE9PTA/Wl9PSyQyOlpfU1RSRUFNX0VORCQyKX1mdW5jdGlvbiBkZWZsYXRlRW5kKGUpe3ZhciB0O3JldHVybiFlfHwhZS5zdGF0ZT9aX1NUUkVBTV9FUlJPUiQxOih0PWUuc3RhdGUuc3RhdHVzLHQhPT1JTklUX1NUQVRFJiZ0IT09RVhUUkFfU1RBVEUmJnQhPT1OQU1FX1NUQVRFJiZ0IT09Q09NTUVOVF9TVEFURSYmdCE9PUhDUkNfU1RBVEUmJnQhPT1CVVNZX1NUQVRFJiZ0IT09RklOSVNIX1NUQVRFP2VycihlLFpfU1RSRUFNX0VSUk9SJDEpOihlLnN0YXRlPW51bGwsdD09PUJVU1lfU1RBVEU/ZXJyKGUsWl9EQVRBX0VSUk9SJDEpOlpfT0skMikpfWZ1bmN0aW9uIGRlZmxhdGVTZXREaWN0aW9uYXJ5KGUsdCl7dmFyIG49dC5sZW5ndGgsYSx1LG8saCxkLHcsXyxiO2lmKCFlfHwhZS5zdGF0ZXx8KGE9ZS5zdGF0ZSxoPWEud3JhcCxoPT09Mnx8aD09PTEmJmEuc3RhdHVzIT09SU5JVF9TVEFURXx8YS5sb29rYWhlYWQpKXJldHVybiBaX1NUUkVBTV9FUlJPUiQxO2ZvcihoPT09MSYmKGUuYWRsZXI9YWRsZXIzMiQxKGUuYWRsZXIsdCxuLDApKSxhLndyYXA9MCxuPj1hLndfc2l6ZSYmKGg9PT0wJiYoemVybyhhLmhlYWQpLGEuc3Ryc3RhcnQ9MCxhLmJsb2NrX3N0YXJ0PTAsYS5pbnNlcnQ9MCksYj1uZXcgdXRpbHMkNy5CdWY4KGEud19zaXplKSx1dGlscyQ3LmFycmF5U2V0KGIsdCxuLWEud19zaXplLGEud19zaXplLDApLHQ9YixuPWEud19zaXplKSxkPWUuYXZhaWxfaW4sdz1lLm5leHRfaW4sXz1lLmlucHV0LGUuYXZhaWxfaW49bixlLm5leHRfaW49MCxlLmlucHV0PXQsZmlsbF93aW5kb3coYSk7YS5sb29rYWhlYWQ+PU1JTl9NQVRDSDspe3U9YS5zdHJzdGFydCxvPWEubG9va2FoZWFkLShNSU5fTUFUQ0gtMSk7ZG8gYS5pbnNfaD0oYS5pbnNfaDw8YS5oYXNoX3NoaWZ0XmEud2luZG93W3UrTUlOX01BVENILTFdKSZhLmhhc2hfbWFzayxhLnByZXZbdSZhLndfbWFza109YS5oZWFkW2EuaW5zX2hdLGEuaGVhZFthLmluc19oXT11LHUrKzt3aGlsZSgtLW8pO2Euc3Ryc3RhcnQ9dSxhLmxvb2thaGVhZD1NSU5fTUFUQ0gtMSxmaWxsX3dpbmRvdyhhKX1yZXR1cm4gYS5zdHJzdGFydCs9YS5sb29rYWhlYWQsYS5ibG9ja19zdGFydD1hLnN0cnN0YXJ0LGEuaW5zZXJ0PWEubG9va2FoZWFkLGEubG9va2FoZWFkPTAsYS5tYXRjaF9sZW5ndGg9YS5wcmV2X2xlbmd0aD1NSU5fTUFUQ0gtMSxhLm1hdGNoX2F2YWlsYWJsZT0wLGUubmV4dF9pbj13LGUuaW5wdXQ9XyxlLmF2YWlsX2luPWQsYS53cmFwPWgsWl9PSyQyfWRlZmxhdGUkNC5kZWZsYXRlSW5pdD1kZWZsYXRlSW5pdCxkZWZsYXRlJDQuZGVmbGF0ZUluaXQyPWRlZmxhdGVJbml0MixkZWZsYXRlJDQuZGVmbGF0ZVJlc2V0PWRlZmxhdGVSZXNldCxkZWZsYXRlJDQuZGVmbGF0ZVJlc2V0S2VlcD1kZWZsYXRlUmVzZXRLZWVwLGRlZmxhdGUkNC5kZWZsYXRlU2V0SGVhZGVyPWRlZmxhdGVTZXRIZWFkZXIsZGVmbGF0ZSQ0LmRlZmxhdGU9ZGVmbGF0ZSQzLGRlZmxhdGUkNC5kZWZsYXRlRW5kPWRlZmxhdGVFbmQsZGVmbGF0ZSQ0LmRlZmxhdGVTZXREaWN0aW9uYXJ5PWRlZmxhdGVTZXREaWN0aW9uYXJ5LGRlZmxhdGUkNC5kZWZsYXRlSW5mbz0icGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSI7dmFyIGluZmxhdGUkND17fSxCQUQkMT0zMCxUWVBFJDE9MTIsaW5mZmFzdD1mdW5jdGlvbiBlKHQsbil7dmFyIGEsdSxvLGgsZCx3LF8sYixNLE8sVCxQLEwseixILFYsYWUsaWUsUSxyZSxjZSxsZSxvZSx5ZSxYO2E9dC5zdGF0ZSx1PXQubmV4dF9pbix5ZT10LmlucHV0LG89dSsodC5hdmFpbF9pbi01KSxoPXQubmV4dF9vdXQsWD10Lm91dHB1dCxkPWgtKG4tdC5hdmFpbF9vdXQpLHc9aCsodC5hdmFpbF9vdXQtMjU3KSxfPWEuZG1heCxiPWEud3NpemUsTT1hLndoYXZlLE89YS53bmV4dCxUPWEud2luZG93LFA9YS5ob2xkLEw9YS5iaXRzLHo9YS5sZW5jb2RlLEg9YS5kaXN0Y29kZSxWPSgxPDxhLmxlbmJpdHMpLTEsYWU9KDE8PGEuZGlzdGJpdHMpLTE7ZTpkb3tMPDE1JiYoUCs9eWVbdSsrXTw8TCxMKz04LFArPXllW3UrK108PEwsTCs9OCksaWU9eltQJlZdO3Q6Zm9yKDs7KXtpZihRPWllPj4+MjQsUD4+Pj1RLEwtPVEsUT1pZT4+PjE2JjI1NSxRPT09MClYW2grK109aWUmNjU1MzU7ZWxzZSBpZihRJjE2KXtyZT1pZSY2NTUzNSxRJj0xNSxRJiYoTDxRJiYoUCs9eWVbdSsrXTw8TCxMKz04KSxyZSs9UCYoMTw8USktMSxQPj4+PVEsTC09USksTDwxNSYmKFArPXllW3UrK108PEwsTCs9OCxQKz15ZVt1KytdPDxMLEwrPTgpLGllPUhbUCZhZV07cjpmb3IoOzspe2lmKFE9aWU+Pj4yNCxQPj4+PVEsTC09USxRPWllPj4+MTYmMjU1LFEmMTYpe2lmKGNlPWllJjY1NTM1LFEmPTE1LEw8USYmKFArPXllW3UrK108PEwsTCs9OCxMPFEmJihQKz15ZVt1KytdPDxMLEwrPTgpKSxjZSs9UCYoMTw8USktMSxjZT5fKXt0Lm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLGEubW9kZT1CQUQkMTticmVhayBlfWlmKFA+Pj49USxMLT1RLFE9aC1kLGNlPlEpe2lmKFE9Y2UtUSxRPk0mJmEuc2FuZSl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixhLm1vZGU9QkFEJDE7YnJlYWsgZX1pZihsZT0wLG9lPVQsTz09PTApe2lmKGxlKz1iLVEsUTxyZSl7cmUtPVE7ZG8gWFtoKytdPVRbbGUrK107d2hpbGUoLS1RKTtsZT1oLWNlLG9lPVh9fWVsc2UgaWYoTzxRKXtpZihsZSs9YitPLVEsUS09TyxRPHJlKXtyZS09UTtkbyBYW2grK109VFtsZSsrXTt3aGlsZSgtLVEpO2lmKGxlPTAsTzxyZSl7UT1PLHJlLT1RO2RvIFhbaCsrXT1UW2xlKytdO3doaWxlKC0tUSk7bGU9aC1jZSxvZT1YfX19ZWxzZSBpZihsZSs9Ty1RLFE8cmUpe3JlLT1RO2RvIFhbaCsrXT1UW2xlKytdO3doaWxlKC0tUSk7bGU9aC1jZSxvZT1YfWZvcig7cmU+MjspWFtoKytdPW9lW2xlKytdLFhbaCsrXT1vZVtsZSsrXSxYW2grK109b2VbbGUrK10scmUtPTM7cmUmJihYW2grK109b2VbbGUrK10scmU+MSYmKFhbaCsrXT1vZVtsZSsrXSkpfWVsc2V7bGU9aC1jZTtkbyBYW2grK109WFtsZSsrXSxYW2grK109WFtsZSsrXSxYW2grK109WFtsZSsrXSxyZS09Mzt3aGlsZShyZT4yKTtyZSYmKFhbaCsrXT1YW2xlKytdLHJlPjEmJihYW2grK109WFtsZSsrXSkpfX1lbHNlIGlmKFEmNjQpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIGNvZGUiLGEubW9kZT1CQUQkMTticmVhayBlfWVsc2V7aWU9SFsoaWUmNjU1MzUpKyhQJigxPDxRKS0xKV07Y29udGludWUgcn1icmVha319ZWxzZSBpZihRJjY0KWlmKFEmMzIpe2EubW9kZT1UWVBFJDE7YnJlYWsgZX1lbHNle3QubXNnPSJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUiLGEubW9kZT1CQUQkMTticmVhayBlfWVsc2V7aWU9elsoaWUmNjU1MzUpKyhQJigxPDxRKS0xKV07Y29udGludWUgdH1icmVha319d2hpbGUodTxvJiZoPHcpO3JlPUw+PjMsdS09cmUsTC09cmU8PDMsUCY9KDE8PEwpLTEsdC5uZXh0X2luPXUsdC5uZXh0X291dD1oLHQuYXZhaWxfaW49dTxvPzUrKG8tdSk6NS0odS1vKSx0LmF2YWlsX291dD1oPHc/MjU3Kyh3LWgpOjI1Ny0oaC13KSxhLmhvbGQ9UCxhLmJpdHM9TH0sdXRpbHMkNj1jb21tb24sTUFYQklUUz0xNSxFTk9VR0hfTEVOUyQxPTg1MixFTk9VR0hfRElTVFMkMT01OTIsQ09ERVMkMT0wLExFTlMkMT0xLERJU1RTJDE9MixsYmFzZT1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdLGxleHQ9WzE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDE2LDcyLDc4XSxkYmFzZT1bMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3LDAsMF0sZGV4dD1bMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdLGluZnRyZWVzPWZ1bmN0aW9uIGUodCxuLGEsdSxvLGgsZCx3KXt2YXIgXz13LmJpdHMsYj0wLE09MCxPPTAsVD0wLFA9MCxMPTAsej0wLEg9MCxWPTAsYWU9MCxpZSxRLHJlLGNlLGxlLG9lPW51bGwseWU9MCxYLCQ9bmV3IHV0aWxzJDYuQnVmMTYoTUFYQklUUysxKSxtPW5ldyB1dGlscyQ2LkJ1ZjE2KE1BWEJJVFMrMSksbD1udWxsLHY9MCxFLFMsQjtmb3IoYj0wO2I8PU1BWEJJVFM7YisrKSRbYl09MDtmb3IoTT0wO008dTtNKyspJFtuW2ErTV1dKys7Zm9yKFA9XyxUPU1BWEJJVFM7VD49MSYmJFtUXT09PTA7VC0tKTtpZihQPlQmJihQPVQpLFQ9PT0wKXJldHVybiBvW2grK109MTw8MjR8NjQ8PDE2fDAsb1toKytdPTE8PDI0fDY0PDwxNnwwLHcuYml0cz0xLDA7Zm9yKE89MTtPPFQmJiRbT109PT0wO08rKyk7Zm9yKFA8TyYmKFA9TyksSD0xLGI9MTtiPD1NQVhCSVRTO2IrKylpZihIPDw9MSxILT0kW2JdLEg8MClyZXR1cm4tMTtpZihIPjAmJih0PT09Q09ERVMkMXx8VCE9PTEpKXJldHVybi0xO2ZvcihtWzFdPTAsYj0xO2I8TUFYQklUUztiKyspbVtiKzFdPW1bYl0rJFtiXTtmb3IoTT0wO008dTtNKyspblthK01dIT09MCYmKGRbbVtuW2ErTV1dKytdPU0pO2lmKHQ9PT1DT0RFUyQxPyhvZT1sPWQsWD0xOSk6dD09PUxFTlMkMT8ob2U9bGJhc2UseWUtPTI1NyxsPWxleHQsdi09MjU3LFg9MjU2KToob2U9ZGJhc2UsbD1kZXh0LFg9LTEpLGFlPTAsTT0wLGI9TyxsZT1oLEw9UCx6PTAscmU9LTEsVj0xPDxQLGNlPVYtMSx0PT09TEVOUyQxJiZWPkVOT1VHSF9MRU5TJDF8fHQ9PT1ESVNUUyQxJiZWPkVOT1VHSF9ESVNUUyQxKXJldHVybiAxO2Zvcig7Oyl7RT1iLXosZFtNXTxYPyhTPTAsQj1kW01dKTpkW01dPlg/KFM9bFt2K2RbTV1dLEI9b2VbeWUrZFtNXV0pOihTPTMyKzY0LEI9MCksaWU9MTw8Yi16LFE9MTw8TCxPPVE7ZG8gUS09aWUsb1tsZSsoYWU+PnopK1FdPUU8PDI0fFM8PDE2fEJ8MDt3aGlsZShRIT09MCk7Zm9yKGllPTE8PGItMTthZSZpZTspaWU+Pj0xO2lmKGllIT09MD8oYWUmPWllLTEsYWUrPWllKTphZT0wLE0rKywtLSRbYl09PT0wKXtpZihiPT09VClicmVhaztiPW5bYStkW01dXX1pZihiPlAmJihhZSZjZSkhPT1yZSl7Zm9yKHo9PT0wJiYoej1QKSxsZSs9TyxMPWIteixIPTE8PEw7TCt6PFQmJihILT0kW0wrel0sIShIPD0wKSk7KUwrKyxIPDw9MTtpZihWKz0xPDxMLHQ9PT1MRU5TJDEmJlY+RU5PVUdIX0xFTlMkMXx8dD09PURJU1RTJDEmJlY+RU5PVUdIX0RJU1RTJDEpcmV0dXJuIDE7cmU9YWUmY2Usb1tyZV09UDw8MjR8TDw8MTZ8bGUtaHwwfX1yZXR1cm4gYWUhPT0wJiYob1tsZSthZV09Yi16PDwyNHw2NDw8MTZ8MCksdy5iaXRzPVAsMH0sdXRpbHMkNT1jb21tb24sYWRsZXIzMj1hZGxlcjMyXzEsY3JjMzI9Y3JjMzJfMSxpbmZsYXRlX2Zhc3Q9aW5mZmFzdCxpbmZsYXRlX3RhYmxlPWluZnRyZWVzLENPREVTPTAsTEVOUz0xLERJU1RTPTIsWl9GSU5JU0gkMT00LFpfQkxPQ0s9NSxaX1RSRUVTPTYsWl9PSyQxPTAsWl9TVFJFQU1fRU5EJDE9MSxaX05FRURfRElDVD0yLFpfU1RSRUFNX0VSUk9SPS0yLFpfREFUQV9FUlJPUj0tMyxaX01FTV9FUlJPUj0tNCxaX0JVRl9FUlJPUj0tNSxaX0RFRkxBVEVEJDE9OCxIRUFEPTEsRkxBR1M9MixUSU1FPTMsT1M9NCxFWExFTj01LEVYVFJBPTYsTkFNRT03LENPTU1FTlQ9OCxIQ1JDPTksRElDVElEPTEwLERJQ1Q9MTEsVFlQRT0xMixUWVBFRE89MTMsU1RPUkVEPTE0LENPUFlfPTE1LENPUFk9MTYsVEFCTEU9MTcsTEVOTEVOUz0xOCxDT0RFTEVOUz0xOSxMRU5fPTIwLExFTj0yMSxMRU5FWFQ9MjIsRElTVD0yMyxESVNURVhUPTI0LE1BVENIPTI1LExJVD0yNixDSEVDSz0yNyxMRU5HVEg9MjgsRE9ORT0yOSxCQUQ9MzAsTUVNPTMxLFNZTkM9MzIsRU5PVUdIX0xFTlM9ODUyLEVOT1VHSF9ESVNUUz01OTIsTUFYX1dCSVRTPTE1LERFRl9XQklUUz1NQVhfV0JJVFM7ZnVuY3Rpb24genN3YXAzMihlKXtyZXR1cm4oZT4+PjI0JjI1NSkrKGU+Pj44JjY1MjgwKSsoKGUmNjUyODApPDw4KSsoKGUmMjU1KTw8MjQpfWZ1bmN0aW9uIEluZmxhdGVTdGF0ZSgpe3RoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgdXRpbHMkNS5CdWYxNigzMjApLHRoaXMud29yaz1uZXcgdXRpbHMkNS5CdWYxNigyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MH1mdW5jdGlvbiBpbmZsYXRlUmVzZXRLZWVwKGUpe3ZhciB0O3JldHVybiFlfHwhZS5zdGF0ZT9aX1NUUkVBTV9FUlJPUjoodD1lLnN0YXRlLGUudG90YWxfaW49ZS50b3RhbF9vdXQ9dC50b3RhbD0wLGUubXNnPSIiLHQud3JhcCYmKGUuYWRsZXI9dC53cmFwJjEpLHQubW9kZT1IRUFELHQubGFzdD0wLHQuaGF2ZWRpY3Q9MCx0LmRtYXg9MzI3NjgsdC5oZWFkPW51bGwsdC5ob2xkPTAsdC5iaXRzPTAsdC5sZW5jb2RlPXQubGVuZHluPW5ldyB1dGlscyQ1LkJ1ZjMyKEVOT1VHSF9MRU5TKSx0LmRpc3Rjb2RlPXQuZGlzdGR5bj1uZXcgdXRpbHMkNS5CdWYzMihFTk9VR0hfRElTVFMpLHQuc2FuZT0xLHQuYmFjaz0tMSxaX09LJDEpfWZ1bmN0aW9uIGluZmxhdGVSZXNldChlKXt2YXIgdDtyZXR1cm4hZXx8IWUuc3RhdGU/Wl9TVFJFQU1fRVJST1I6KHQ9ZS5zdGF0ZSx0LndzaXplPTAsdC53aGF2ZT0wLHQud25leHQ9MCxpbmZsYXRlUmVzZXRLZWVwKGUpKX1mdW5jdGlvbiBpbmZsYXRlUmVzZXQyKGUsdCl7dmFyIG4sYTtyZXR1cm4hZXx8IWUuc3RhdGV8fChhPWUuc3RhdGUsdDwwPyhuPTAsdD0tdCk6KG49KHQ+PjQpKzEsdDw0OCYmKHQmPTE1KSksdCYmKHQ8OHx8dD4xNSkpP1pfU1RSRUFNX0VSUk9SOihhLndpbmRvdyE9PW51bGwmJmEud2JpdHMhPT10JiYoYS53aW5kb3c9bnVsbCksYS53cmFwPW4sYS53Yml0cz10LGluZmxhdGVSZXNldChlKSl9ZnVuY3Rpb24gaW5mbGF0ZUluaXQyKGUsdCl7dmFyIG4sYTtyZXR1cm4gZT8oYT1uZXcgSW5mbGF0ZVN0YXRlLGUuc3RhdGU9YSxhLndpbmRvdz1udWxsLG49aW5mbGF0ZVJlc2V0MihlLHQpLG4hPT1aX09LJDEmJihlLnN0YXRlPW51bGwpLG4pOlpfU1RSRUFNX0VSUk9SfWZ1bmN0aW9uIGluZmxhdGVJbml0KGUpe3JldHVybiBpbmZsYXRlSW5pdDIoZSxERUZfV0JJVFMpfXZhciB2aXJnaW49ITAsbGVuZml4LGRpc3RmaXg7ZnVuY3Rpb24gZml4ZWR0YWJsZXMoZSl7aWYodmlyZ2luKXt2YXIgdDtmb3IobGVuZml4PW5ldyB1dGlscyQ1LkJ1ZjMyKDUxMiksZGlzdGZpeD1uZXcgdXRpbHMkNS5CdWYzMigzMiksdD0wO3Q8MTQ0OyllLmxlbnNbdCsrXT04O2Zvcig7dDwyNTY7KWUubGVuc1t0KytdPTk7Zm9yKDt0PDI4MDspZS5sZW5zW3QrK109Nztmb3IoO3Q8Mjg4OyllLmxlbnNbdCsrXT04O2ZvcihpbmZsYXRlX3RhYmxlKExFTlMsZS5sZW5zLDAsMjg4LGxlbmZpeCwwLGUud29yayx7Yml0czo5fSksdD0wO3Q8MzI7KWUubGVuc1t0KytdPTU7aW5mbGF0ZV90YWJsZShESVNUUyxlLmxlbnMsMCwzMixkaXN0Zml4LDAsZS53b3JrLHtiaXRzOjV9KSx2aXJnaW49ITF9ZS5sZW5jb2RlPWxlbmZpeCxlLmxlbmJpdHM9OSxlLmRpc3Rjb2RlPWRpc3RmaXgsZS5kaXN0Yml0cz01fWZ1bmN0aW9uIHVwZGF0ZXdpbmRvdyhlLHQsbixhKXt2YXIgdSxvPWUuc3RhdGU7cmV0dXJuIG8ud2luZG93PT09bnVsbCYmKG8ud3NpemU9MTw8by53Yml0cyxvLnduZXh0PTAsby53aGF2ZT0wLG8ud2luZG93PW5ldyB1dGlscyQ1LkJ1Zjgoby53c2l6ZSkpLGE+PW8ud3NpemU/KHV0aWxzJDUuYXJyYXlTZXQoby53aW5kb3csdCxuLW8ud3NpemUsby53c2l6ZSwwKSxvLnduZXh0PTAsby53aGF2ZT1vLndzaXplKToodT1vLndzaXplLW8ud25leHQsdT5hJiYodT1hKSx1dGlscyQ1LmFycmF5U2V0KG8ud2luZG93LHQsbi1hLHUsby53bmV4dCksYS09dSxhPyh1dGlscyQ1LmFycmF5U2V0KG8ud2luZG93LHQsbi1hLGEsMCksby53bmV4dD1hLG8ud2hhdmU9by53c2l6ZSk6KG8ud25leHQrPXUsby53bmV4dD09PW8ud3NpemUmJihvLnduZXh0PTApLG8ud2hhdmU8by53c2l6ZSYmKG8ud2hhdmUrPXUpKSksMH1mdW5jdGlvbiBpbmZsYXRlJDMoZSx0KXt2YXIgbixhLHUsbyxoLGQsdyxfLGIsTSxPLFQsUCxMLHo9MCxILFYsYWUsaWUsUSxyZSxjZSxsZSxvZT1uZXcgdXRpbHMkNS5CdWY4KDQpLHllLFgsJD1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV07aWYoIWV8fCFlLnN0YXRlfHwhZS5vdXRwdXR8fCFlLmlucHV0JiZlLmF2YWlsX2luIT09MClyZXR1cm4gWl9TVFJFQU1fRVJST1I7bj1lLnN0YXRlLG4ubW9kZT09PVRZUEUmJihuLm1vZGU9VFlQRURPKSxoPWUubmV4dF9vdXQsdT1lLm91dHB1dCx3PWUuYXZhaWxfb3V0LG89ZS5uZXh0X2luLGE9ZS5pbnB1dCxkPWUuYXZhaWxfaW4sXz1uLmhvbGQsYj1uLmJpdHMsTT1kLE89dyxsZT1aX09LJDE7ZTpmb3IoOzspc3dpdGNoKG4ubW9kZSl7Y2FzZSBIRUFEOmlmKG4ud3JhcD09PTApe24ubW9kZT1UWVBFRE87YnJlYWt9Zm9yKDtiPDE2Oyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9aWYobi53cmFwJjImJl89PT0zNTYxNSl7bi5jaGVjaz0wLG9lWzBdPV8mMjU1LG9lWzFdPV8+Pj44JjI1NSxuLmNoZWNrPWNyYzMyKG4uY2hlY2ssb2UsMiwwKSxfPTAsYj0wLG4ubW9kZT1GTEFHUzticmVha31pZihuLmZsYWdzPTAsbi5oZWFkJiYobi5oZWFkLmRvbmU9ITEpLCEobi53cmFwJjEpfHwoKChfJjI1NSk8PDgpKyhfPj44KSklMzEpe2UubXNnPSJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIixuLm1vZGU9QkFEO2JyZWFrfWlmKChfJjE1KSE9PVpfREVGTEFURUQkMSl7ZS5tc2c9InVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIixuLm1vZGU9QkFEO2JyZWFrfWlmKF8+Pj49NCxiLT00LGNlPShfJjE1KSs4LG4ud2JpdHM9PT0wKW4ud2JpdHM9Y2U7ZWxzZSBpZihjZT5uLndiaXRzKXtlLm1zZz0iaW52YWxpZCB3aW5kb3cgc2l6ZSIsbi5tb2RlPUJBRDticmVha31uLmRtYXg9MTw8Y2UsZS5hZGxlcj1uLmNoZWNrPTEsbi5tb2RlPV8mNTEyP0RJQ1RJRDpUWVBFLF89MCxiPTA7YnJlYWs7Y2FzZSBGTEFHUzpmb3IoO2I8MTY7KXtpZihkPT09MClicmVhayBlO2QtLSxfKz1hW28rK108PGIsYis9OH1pZihuLmZsYWdzPV8sKG4uZmxhZ3MmMjU1KSE9PVpfREVGTEFURUQkMSl7ZS5tc2c9InVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIixuLm1vZGU9QkFEO2JyZWFrfWlmKG4uZmxhZ3MmNTczNDQpe2UubXNnPSJ1bmtub3duIGhlYWRlciBmbGFncyBzZXQiLG4ubW9kZT1CQUQ7YnJlYWt9bi5oZWFkJiYobi5oZWFkLnRleHQ9Xz4+OCYxKSxuLmZsYWdzJjUxMiYmKG9lWzBdPV8mMjU1LG9lWzFdPV8+Pj44JjI1NSxuLmNoZWNrPWNyYzMyKG4uY2hlY2ssb2UsMiwwKSksXz0wLGI9MCxuLm1vZGU9VElNRTtjYXNlIFRJTUU6Zm9yKDtiPDMyOyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9bi5oZWFkJiYobi5oZWFkLnRpbWU9Xyksbi5mbGFncyY1MTImJihvZVswXT1fJjI1NSxvZVsxXT1fPj4+OCYyNTUsb2VbMl09Xz4+PjE2JjI1NSxvZVszXT1fPj4+MjQmMjU1LG4uY2hlY2s9Y3JjMzIobi5jaGVjayxvZSw0LDApKSxfPTAsYj0wLG4ubW9kZT1PUztjYXNlIE9TOmZvcig7YjwxNjspe2lmKGQ9PT0wKWJyZWFrIGU7ZC0tLF8rPWFbbysrXTw8YixiKz04fW4uaGVhZCYmKG4uaGVhZC54ZmxhZ3M9XyYyNTUsbi5oZWFkLm9zPV8+PjgpLG4uZmxhZ3MmNTEyJiYob2VbMF09XyYyNTUsb2VbMV09Xz4+PjgmMjU1LG4uY2hlY2s9Y3JjMzIobi5jaGVjayxvZSwyLDApKSxfPTAsYj0wLG4ubW9kZT1FWExFTjtjYXNlIEVYTEVOOmlmKG4uZmxhZ3MmMTAyNCl7Zm9yKDtiPDE2Oyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9bi5sZW5ndGg9XyxuLmhlYWQmJihuLmhlYWQuZXh0cmFfbGVuPV8pLG4uZmxhZ3MmNTEyJiYob2VbMF09XyYyNTUsb2VbMV09Xz4+PjgmMjU1LG4uY2hlY2s9Y3JjMzIobi5jaGVjayxvZSwyLDApKSxfPTAsYj0wfWVsc2Ugbi5oZWFkJiYobi5oZWFkLmV4dHJhPW51bGwpO24ubW9kZT1FWFRSQTtjYXNlIEVYVFJBOmlmKG4uZmxhZ3MmMTAyNCYmKFQ9bi5sZW5ndGgsVD5kJiYoVD1kKSxUJiYobi5oZWFkJiYoY2U9bi5oZWFkLmV4dHJhX2xlbi1uLmxlbmd0aCxuLmhlYWQuZXh0cmF8fChuLmhlYWQuZXh0cmE9bmV3IEFycmF5KG4uaGVhZC5leHRyYV9sZW4pKSx1dGlscyQ1LmFycmF5U2V0KG4uaGVhZC5leHRyYSxhLG8sVCxjZSkpLG4uZmxhZ3MmNTEyJiYobi5jaGVjaz1jcmMzMihuLmNoZWNrLGEsVCxvKSksZC09VCxvKz1ULG4ubGVuZ3RoLT1UKSxuLmxlbmd0aCkpYnJlYWsgZTtuLmxlbmd0aD0wLG4ubW9kZT1OQU1FO2Nhc2UgTkFNRTppZihuLmZsYWdzJjIwNDgpe2lmKGQ9PT0wKWJyZWFrIGU7VD0wO2RvIGNlPWFbbytUKytdLG4uaGVhZCYmY2UmJm4ubGVuZ3RoPDY1NTM2JiYobi5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoY2UpKTt3aGlsZShjZSYmVDxkKTtpZihuLmZsYWdzJjUxMiYmKG4uY2hlY2s9Y3JjMzIobi5jaGVjayxhLFQsbykpLGQtPVQsbys9VCxjZSlicmVhayBlfWVsc2Ugbi5oZWFkJiYobi5oZWFkLm5hbWU9bnVsbCk7bi5sZW5ndGg9MCxuLm1vZGU9Q09NTUVOVDtjYXNlIENPTU1FTlQ6aWYobi5mbGFncyY0MDk2KXtpZihkPT09MClicmVhayBlO1Q9MDtkbyBjZT1hW28rVCsrXSxuLmhlYWQmJmNlJiZuLmxlbmd0aDw2NTUzNiYmKG4uaGVhZC5jb21tZW50Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGNlKSk7d2hpbGUoY2UmJlQ8ZCk7aWYobi5mbGFncyY1MTImJihuLmNoZWNrPWNyYzMyKG4uY2hlY2ssYSxULG8pKSxkLT1ULG8rPVQsY2UpYnJlYWsgZX1lbHNlIG4uaGVhZCYmKG4uaGVhZC5jb21tZW50PW51bGwpO24ubW9kZT1IQ1JDO2Nhc2UgSENSQzppZihuLmZsYWdzJjUxMil7Zm9yKDtiPDE2Oyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9aWYoXyE9PShuLmNoZWNrJjY1NTM1KSl7ZS5tc2c9ImhlYWRlciBjcmMgbWlzbWF0Y2giLG4ubW9kZT1CQUQ7YnJlYWt9Xz0wLGI9MH1uLmhlYWQmJihuLmhlYWQuaGNyYz1uLmZsYWdzPj45JjEsbi5oZWFkLmRvbmU9ITApLGUuYWRsZXI9bi5jaGVjaz0wLG4ubW9kZT1UWVBFO2JyZWFrO2Nhc2UgRElDVElEOmZvcig7YjwzMjspe2lmKGQ9PT0wKWJyZWFrIGU7ZC0tLF8rPWFbbysrXTw8YixiKz04fWUuYWRsZXI9bi5jaGVjaz16c3dhcDMyKF8pLF89MCxiPTAsbi5tb2RlPURJQ1Q7Y2FzZSBESUNUOmlmKG4uaGF2ZWRpY3Q9PT0wKXJldHVybiBlLm5leHRfb3V0PWgsZS5hdmFpbF9vdXQ9dyxlLm5leHRfaW49byxlLmF2YWlsX2luPWQsbi5ob2xkPV8sbi5iaXRzPWIsWl9ORUVEX0RJQ1Q7ZS5hZGxlcj1uLmNoZWNrPTEsbi5tb2RlPVRZUEU7Y2FzZSBUWVBFOmlmKHQ9PT1aX0JMT0NLfHx0PT09Wl9UUkVFUylicmVhayBlO2Nhc2UgVFlQRURPOmlmKG4ubGFzdCl7Xz4+Pj1iJjcsYi09YiY3LG4ubW9kZT1DSEVDSzticmVha31mb3IoO2I8Mzspe2lmKGQ9PT0wKWJyZWFrIGU7ZC0tLF8rPWFbbysrXTw8YixiKz04fXN3aXRjaChuLmxhc3Q9XyYxLF8+Pj49MSxiLT0xLF8mMyl7Y2FzZSAwOm4ubW9kZT1TVE9SRUQ7YnJlYWs7Y2FzZSAxOmlmKGZpeGVkdGFibGVzKG4pLG4ubW9kZT1MRU5fLHQ9PT1aX1RSRUVTKXtfPj4+PTIsYi09MjticmVhayBlfWJyZWFrO2Nhc2UgMjpuLm1vZGU9VEFCTEU7YnJlYWs7Y2FzZSAzOmUubXNnPSJpbnZhbGlkIGJsb2NrIHR5cGUiLG4ubW9kZT1CQUR9Xz4+Pj0yLGItPTI7YnJlYWs7Y2FzZSBTVE9SRUQ6Zm9yKF8+Pj49YiY3LGItPWImNztiPDMyOyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9aWYoKF8mNjU1MzUpIT09KF8+Pj4xNl42NTUzNSkpe2UubXNnPSJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzIixuLm1vZGU9QkFEO2JyZWFrfWlmKG4ubGVuZ3RoPV8mNjU1MzUsXz0wLGI9MCxuLm1vZGU9Q09QWV8sdD09PVpfVFJFRVMpYnJlYWsgZTtjYXNlIENPUFlfOm4ubW9kZT1DT1BZO2Nhc2UgQ09QWTppZihUPW4ubGVuZ3RoLFQpe2lmKFQ+ZCYmKFQ9ZCksVD53JiYoVD13KSxUPT09MClicmVhayBlO3V0aWxzJDUuYXJyYXlTZXQodSxhLG8sVCxoKSxkLT1ULG8rPVQsdy09VCxoKz1ULG4ubGVuZ3RoLT1UO2JyZWFrfW4ubW9kZT1UWVBFO2JyZWFrO2Nhc2UgVEFCTEU6Zm9yKDtiPDE0Oyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9aWYobi5ubGVuPShfJjMxKSsyNTcsXz4+Pj01LGItPTUsbi5uZGlzdD0oXyYzMSkrMSxfPj4+PTUsYi09NSxuLm5jb2RlPShfJjE1KSs0LF8+Pj49NCxiLT00LG4ubmxlbj4yODZ8fG4ubmRpc3Q+MzApe2UubXNnPSJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9scyIsbi5tb2RlPUJBRDticmVha31uLmhhdmU9MCxuLm1vZGU9TEVOTEVOUztjYXNlIExFTkxFTlM6Zm9yKDtuLmhhdmU8bi5uY29kZTspe2Zvcig7YjwzOyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9bi5sZW5zWyRbbi5oYXZlKytdXT1fJjcsXz4+Pj0zLGItPTN9Zm9yKDtuLmhhdmU8MTk7KW4ubGVuc1skW24uaGF2ZSsrXV09MDtpZihuLmxlbmNvZGU9bi5sZW5keW4sbi5sZW5iaXRzPTcseWU9e2JpdHM6bi5sZW5iaXRzfSxsZT1pbmZsYXRlX3RhYmxlKENPREVTLG4ubGVucywwLDE5LG4ubGVuY29kZSwwLG4ud29yayx5ZSksbi5sZW5iaXRzPXllLmJpdHMsbGUpe2UubXNnPSJpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXQiLG4ubW9kZT1CQUQ7YnJlYWt9bi5oYXZlPTAsbi5tb2RlPUNPREVMRU5TO2Nhc2UgQ09ERUxFTlM6Zm9yKDtuLmhhdmU8bi5ubGVuK24ubmRpc3Q7KXtmb3IoO3o9bi5sZW5jb2RlW18mKDE8PG4ubGVuYml0cyktMV0sSD16Pj4+MjQsVj16Pj4+MTYmMjU1LGFlPXomNjU1MzUsIShIPD1iKTspe2lmKGQ9PT0wKWJyZWFrIGU7ZC0tLF8rPWFbbysrXTw8YixiKz04fWlmKGFlPDE2KV8+Pj49SCxiLT1ILG4ubGVuc1tuLmhhdmUrK109YWU7ZWxzZXtpZihhZT09PTE2KXtmb3IoWD1IKzI7YjxYOyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9aWYoXz4+Pj1ILGItPUgsbi5oYXZlPT09MCl7ZS5tc2c9ImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLG4ubW9kZT1CQUQ7YnJlYWt9Y2U9bi5sZW5zW24uaGF2ZS0xXSxUPTMrKF8mMyksXz4+Pj0yLGItPTJ9ZWxzZSBpZihhZT09PTE3KXtmb3IoWD1IKzM7YjxYOyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9Xz4+Pj1ILGItPUgsY2U9MCxUPTMrKF8mNyksXz4+Pj0zLGItPTN9ZWxzZXtmb3IoWD1IKzc7YjxYOyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9Xz4+Pj1ILGItPUgsY2U9MCxUPTExKyhfJjEyNyksXz4+Pj03LGItPTd9aWYobi5oYXZlK1Q+bi5ubGVuK24ubmRpc3Qpe2UubXNnPSJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0IixuLm1vZGU9QkFEO2JyZWFrfWZvcig7VC0tOyluLmxlbnNbbi5oYXZlKytdPWNlfX1pZihuLm1vZGU9PT1CQUQpYnJlYWs7aWYobi5sZW5zWzI1Nl09PT0wKXtlLm1zZz0iaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrIixuLm1vZGU9QkFEO2JyZWFrfWlmKG4ubGVuYml0cz05LHllPXtiaXRzOm4ubGVuYml0c30sbGU9aW5mbGF0ZV90YWJsZShMRU5TLG4ubGVucywwLG4ubmxlbixuLmxlbmNvZGUsMCxuLndvcmsseWUpLG4ubGVuYml0cz15ZS5iaXRzLGxlKXtlLm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0IixuLm1vZGU9QkFEO2JyZWFrfWlmKG4uZGlzdGJpdHM9NixuLmRpc3Rjb2RlPW4uZGlzdGR5bix5ZT17Yml0czpuLmRpc3RiaXRzfSxsZT1pbmZsYXRlX3RhYmxlKERJU1RTLG4ubGVucyxuLm5sZW4sbi5uZGlzdCxuLmRpc3Rjb2RlLDAsbi53b3JrLHllKSxuLmRpc3RiaXRzPXllLmJpdHMsbGUpe2UubXNnPSJpbnZhbGlkIGRpc3RhbmNlcyBzZXQiLG4ubW9kZT1CQUQ7YnJlYWt9aWYobi5tb2RlPUxFTl8sdD09PVpfVFJFRVMpYnJlYWsgZTtjYXNlIExFTl86bi5tb2RlPUxFTjtjYXNlIExFTjppZihkPj02JiZ3Pj0yNTgpe2UubmV4dF9vdXQ9aCxlLmF2YWlsX291dD13LGUubmV4dF9pbj1vLGUuYXZhaWxfaW49ZCxuLmhvbGQ9XyxuLmJpdHM9YixpbmZsYXRlX2Zhc3QoZSxPKSxoPWUubmV4dF9vdXQsdT1lLm91dHB1dCx3PWUuYXZhaWxfb3V0LG89ZS5uZXh0X2luLGE9ZS5pbnB1dCxkPWUuYXZhaWxfaW4sXz1uLmhvbGQsYj1uLmJpdHMsbi5tb2RlPT09VFlQRSYmKG4uYmFjaz0tMSk7YnJlYWt9Zm9yKG4uYmFjaz0wO3o9bi5sZW5jb2RlW18mKDE8PG4ubGVuYml0cyktMV0sSD16Pj4+MjQsVj16Pj4+MTYmMjU1LGFlPXomNjU1MzUsIShIPD1iKTspe2lmKGQ9PT0wKWJyZWFrIGU7ZC0tLF8rPWFbbysrXTw8YixiKz04fWlmKFYmJiEoViYyNDApKXtmb3IoaWU9SCxRPVYscmU9YWU7ej1uLmxlbmNvZGVbcmUrKChfJigxPDxpZStRKS0xKT4+aWUpXSxIPXo+Pj4yNCxWPXo+Pj4xNiYyNTUsYWU9eiY2NTUzNSwhKGllK0g8PWIpOyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9Xz4+Pj1pZSxiLT1pZSxuLmJhY2srPWllfWlmKF8+Pj49SCxiLT1ILG4uYmFjays9SCxuLmxlbmd0aD1hZSxWPT09MCl7bi5tb2RlPUxJVDticmVha31pZihWJjMyKXtuLmJhY2s9LTEsbi5tb2RlPVRZUEU7YnJlYWt9aWYoViY2NCl7ZS5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsbi5tb2RlPUJBRDticmVha31uLmV4dHJhPVYmMTUsbi5tb2RlPUxFTkVYVDtjYXNlIExFTkVYVDppZihuLmV4dHJhKXtmb3IoWD1uLmV4dHJhO2I8WDspe2lmKGQ9PT0wKWJyZWFrIGU7ZC0tLF8rPWFbbysrXTw8YixiKz04fW4ubGVuZ3RoKz1fJigxPDxuLmV4dHJhKS0xLF8+Pj49bi5leHRyYSxiLT1uLmV4dHJhLG4uYmFjays9bi5leHRyYX1uLndhcz1uLmxlbmd0aCxuLm1vZGU9RElTVDtjYXNlIERJU1Q6Zm9yKDt6PW4uZGlzdGNvZGVbXyYoMTw8bi5kaXN0Yml0cyktMV0sSD16Pj4+MjQsVj16Pj4+MTYmMjU1LGFlPXomNjU1MzUsIShIPD1iKTspe2lmKGQ9PT0wKWJyZWFrIGU7ZC0tLF8rPWFbbysrXTw8YixiKz04fWlmKCEoViYyNDApKXtmb3IoaWU9SCxRPVYscmU9YWU7ej1uLmRpc3Rjb2RlW3JlKygoXyYoMTw8aWUrUSktMSk+PmllKV0sSD16Pj4+MjQsVj16Pj4+MTYmMjU1LGFlPXomNjU1MzUsIShpZStIPD1iKTspe2lmKGQ9PT0wKWJyZWFrIGU7ZC0tLF8rPWFbbysrXTw8YixiKz04fV8+Pj49aWUsYi09aWUsbi5iYWNrKz1pZX1pZihfPj4+PUgsYi09SCxuLmJhY2srPUgsViY2NCl7ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsbi5tb2RlPUJBRDticmVha31uLm9mZnNldD1hZSxuLmV4dHJhPVYmMTUsbi5tb2RlPURJU1RFWFQ7Y2FzZSBESVNURVhUOmlmKG4uZXh0cmEpe2ZvcihYPW4uZXh0cmE7YjxYOyl7aWYoZD09PTApYnJlYWsgZTtkLS0sXys9YVtvKytdPDxiLGIrPTh9bi5vZmZzZXQrPV8mKDE8PG4uZXh0cmEpLTEsXz4+Pj1uLmV4dHJhLGItPW4uZXh0cmEsbi5iYWNrKz1uLmV4dHJhfWlmKG4ub2Zmc2V0Pm4uZG1heCl7ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixuLm1vZGU9QkFEO2JyZWFrfW4ubW9kZT1NQVRDSDtjYXNlIE1BVENIOmlmKHc9PT0wKWJyZWFrIGU7aWYoVD1PLXcsbi5vZmZzZXQ+VCl7aWYoVD1uLm9mZnNldC1ULFQ+bi53aGF2ZSYmbi5zYW5lKXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLG4ubW9kZT1CQUQ7YnJlYWt9VD5uLnduZXh0PyhULT1uLnduZXh0LFA9bi53c2l6ZS1UKTpQPW4ud25leHQtVCxUPm4ubGVuZ3RoJiYoVD1uLmxlbmd0aCksTD1uLndpbmRvd31lbHNlIEw9dSxQPWgtbi5vZmZzZXQsVD1uLmxlbmd0aDtUPncmJihUPXcpLHctPVQsbi5sZW5ndGgtPVQ7ZG8gdVtoKytdPUxbUCsrXTt3aGlsZSgtLVQpO24ubGVuZ3RoPT09MCYmKG4ubW9kZT1MRU4pO2JyZWFrO2Nhc2UgTElUOmlmKHc9PT0wKWJyZWFrIGU7dVtoKytdPW4ubGVuZ3RoLHctLSxuLm1vZGU9TEVOO2JyZWFrO2Nhc2UgQ0hFQ0s6aWYobi53cmFwKXtmb3IoO2I8MzI7KXtpZihkPT09MClicmVhayBlO2QtLSxffD1hW28rK108PGIsYis9OH1pZihPLT13LGUudG90YWxfb3V0Kz1PLG4udG90YWwrPU8sTyYmKGUuYWRsZXI9bi5jaGVjaz1uLmZsYWdzP2NyYzMyKG4uY2hlY2ssdSxPLGgtTyk6YWRsZXIzMihuLmNoZWNrLHUsTyxoLU8pKSxPPXcsKG4uZmxhZ3M/Xzp6c3dhcDMyKF8pKSE9PW4uY2hlY2spe2UubXNnPSJpbmNvcnJlY3QgZGF0YSBjaGVjayIsbi5tb2RlPUJBRDticmVha31fPTAsYj0wfW4ubW9kZT1MRU5HVEg7Y2FzZSBMRU5HVEg6aWYobi53cmFwJiZuLmZsYWdzKXtmb3IoO2I8MzI7KXtpZihkPT09MClicmVhayBlO2QtLSxfKz1hW28rK108PGIsYis9OH1pZihfIT09KG4udG90YWwmNDI5NDk2NzI5NSkpe2UubXNnPSJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrIixuLm1vZGU9QkFEO2JyZWFrfV89MCxiPTB9bi5tb2RlPURPTkU7Y2FzZSBET05FOmxlPVpfU1RSRUFNX0VORCQxO2JyZWFrIGU7Y2FzZSBCQUQ6bGU9Wl9EQVRBX0VSUk9SO2JyZWFrIGU7Y2FzZSBNRU06cmV0dXJuIFpfTUVNX0VSUk9SO2Nhc2UgU1lOQzpkZWZhdWx0OnJldHVybiBaX1NUUkVBTV9FUlJPUn1yZXR1cm4gZS5uZXh0X291dD1oLGUuYXZhaWxfb3V0PXcsZS5uZXh0X2luPW8sZS5hdmFpbF9pbj1kLG4uaG9sZD1fLG4uYml0cz1iLChuLndzaXplfHxPIT09ZS5hdmFpbF9vdXQmJm4ubW9kZTxCQUQmJihuLm1vZGU8Q0hFQ0t8fHQhPT1aX0ZJTklTSCQxKSkmJnVwZGF0ZXdpbmRvdyhlLGUub3V0cHV0LGUubmV4dF9vdXQsTy1lLmF2YWlsX291dCksTS09ZS5hdmFpbF9pbixPLT1lLmF2YWlsX291dCxlLnRvdGFsX2luKz1NLGUudG90YWxfb3V0Kz1PLG4udG90YWwrPU8sbi53cmFwJiZPJiYoZS5hZGxlcj1uLmNoZWNrPW4uZmxhZ3M/Y3JjMzIobi5jaGVjayx1LE8sZS5uZXh0X291dC1PKTphZGxlcjMyKG4uY2hlY2ssdSxPLGUubmV4dF9vdXQtTykpLGUuZGF0YV90eXBlPW4uYml0cysobi5sYXN0PzY0OjApKyhuLm1vZGU9PT1UWVBFPzEyODowKSsobi5tb2RlPT09TEVOX3x8bi5tb2RlPT09Q09QWV8/MjU2OjApLChNPT09MCYmTz09PTB8fHQ9PT1aX0ZJTklTSCQxKSYmbGU9PT1aX09LJDEmJihsZT1aX0JVRl9FUlJPUiksbGV9ZnVuY3Rpb24gaW5mbGF0ZUVuZChlKXtpZighZXx8IWUuc3RhdGUpcmV0dXJuIFpfU1RSRUFNX0VSUk9SO3ZhciB0PWUuc3RhdGU7cmV0dXJuIHQud2luZG93JiYodC53aW5kb3c9bnVsbCksZS5zdGF0ZT1udWxsLFpfT0skMX1mdW5jdGlvbiBpbmZsYXRlR2V0SGVhZGVyKGUsdCl7dmFyIG47cmV0dXJuIWV8fCFlLnN0YXRlfHwobj1lLnN0YXRlLCEobi53cmFwJjIpKT9aX1NUUkVBTV9FUlJPUjoobi5oZWFkPXQsdC5kb25lPSExLFpfT0skMSl9ZnVuY3Rpb24gaW5mbGF0ZVNldERpY3Rpb25hcnkoZSx0KXt2YXIgbj10Lmxlbmd0aCxhLHUsbztyZXR1cm4hZXx8IWUuc3RhdGV8fChhPWUuc3RhdGUsYS53cmFwIT09MCYmYS5tb2RlIT09RElDVCk/Wl9TVFJFQU1fRVJST1I6YS5tb2RlPT09RElDVCYmKHU9MSx1PWFkbGVyMzIodSx0LG4sMCksdSE9PWEuY2hlY2spP1pfREFUQV9FUlJPUjoobz11cGRhdGV3aW5kb3coZSx0LG4sbiksbz8oYS5tb2RlPU1FTSxaX01FTV9FUlJPUik6KGEuaGF2ZWRpY3Q9MSxaX09LJDEpKX1pbmZsYXRlJDQuaW5mbGF0ZVJlc2V0PWluZmxhdGVSZXNldCxpbmZsYXRlJDQuaW5mbGF0ZVJlc2V0Mj1pbmZsYXRlUmVzZXQyLGluZmxhdGUkNC5pbmZsYXRlUmVzZXRLZWVwPWluZmxhdGVSZXNldEtlZXAsaW5mbGF0ZSQ0LmluZmxhdGVJbml0PWluZmxhdGVJbml0LGluZmxhdGUkNC5pbmZsYXRlSW5pdDI9aW5mbGF0ZUluaXQyLGluZmxhdGUkNC5pbmZsYXRlPWluZmxhdGUkMyxpbmZsYXRlJDQuaW5mbGF0ZUVuZD1pbmZsYXRlRW5kLGluZmxhdGUkNC5pbmZsYXRlR2V0SGVhZGVyPWluZmxhdGVHZXRIZWFkZXIsaW5mbGF0ZSQ0LmluZmxhdGVTZXREaWN0aW9uYXJ5PWluZmxhdGVTZXREaWN0aW9uYXJ5LGluZmxhdGUkNC5pbmZsYXRlSW5mbz0icGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSI7dmFyIGNvbnN0YW50cyQxPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9OyhmdW5jdGlvbihlKXt2YXIgdD1yZXF1aXJlQXNzZXJ0KCksbj16c3RyZWFtLGE9ZGVmbGF0ZSQ0LHU9aW5mbGF0ZSQ0LG89Y29uc3RhbnRzJDE7Zm9yKHZhciBoIGluIG8pZVtoXT1vW2hdO2UuTk9ORT0wLGUuREVGTEFURT0xLGUuSU5GTEFURT0yLGUuR1pJUD0zLGUuR1VOWklQPTQsZS5ERUZMQVRFUkFXPTUsZS5JTkZMQVRFUkFXPTYsZS5VTlpJUD03O3ZhciBkPTMxLHc9MTM5O2Z1bmN0aW9uIF8oYil7aWYodHlwZW9mIGIhPSJudW1iZXIifHxiPGUuREVGTEFURXx8Yj5lLlVOWklQKXRocm93IG5ldyBUeXBlRXJyb3IoIkJhZCBhcmd1bWVudCIpO3RoaXMuZGljdGlvbmFyeT1udWxsLHRoaXMuZXJyPTAsdGhpcy5mbHVzaD0wLHRoaXMuaW5pdF9kb25lPSExLHRoaXMubGV2ZWw9MCx0aGlzLm1lbUxldmVsPTAsdGhpcy5tb2RlPWIsdGhpcy5zdHJhdGVneT0wLHRoaXMud2luZG93Qml0cz0wLHRoaXMud3JpdGVfaW5fcHJvZ3Jlc3M9ITEsdGhpcy5wZW5kaW5nX2Nsb3NlPSExLHRoaXMuZ3ppcF9pZF9ieXRlc19yZWFkPTB9Xy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtpZih0aGlzLndyaXRlX2luX3Byb2dyZXNzKXt0aGlzLnBlbmRpbmdfY2xvc2U9ITA7cmV0dXJufXRoaXMucGVuZGluZ19jbG9zZT0hMSx0KHRoaXMuaW5pdF9kb25lLCJjbG9zZSBiZWZvcmUgaW5pdCIpLHQodGhpcy5tb2RlPD1lLlVOWklQKSx0aGlzLm1vZGU9PT1lLkRFRkxBVEV8fHRoaXMubW9kZT09PWUuR1pJUHx8dGhpcy5tb2RlPT09ZS5ERUZMQVRFUkFXP2EuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pOih0aGlzLm1vZGU9PT1lLklORkxBVEV8fHRoaXMubW9kZT09PWUuR1VOWklQfHx0aGlzLm1vZGU9PT1lLklORkxBVEVSQVd8fHRoaXMubW9kZT09PWUuVU5aSVApJiZ1LmluZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm1vZGU9ZS5OT05FLHRoaXMuZGljdGlvbmFyeT1udWxsfSxfLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihiLE0sTyxULFAsTCx6KXtyZXR1cm4gdGhpcy5fd3JpdGUoITAsYixNLE8sVCxQLEwseil9LF8ucHJvdG90eXBlLndyaXRlU3luYz1mdW5jdGlvbihiLE0sTyxULFAsTCx6KXtyZXR1cm4gdGhpcy5fd3JpdGUoITEsYixNLE8sVCxQLEwseil9LF8ucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihiLE0sTyxULFAsTCx6LEgpe2lmKHQuZXF1YWwoYXJndW1lbnRzLmxlbmd0aCw4KSx0KHRoaXMuaW5pdF9kb25lLCJ3cml0ZSBiZWZvcmUgaW5pdCIpLHQodGhpcy5tb2RlIT09ZS5OT05FLCJhbHJlYWR5IGZpbmFsaXplZCIpLHQuZXF1YWwoITEsdGhpcy53cml0ZV9pbl9wcm9ncmVzcywid3JpdGUgYWxyZWFkeSBpbiBwcm9ncmVzcyIpLHQuZXF1YWwoITEsdGhpcy5wZW5kaW5nX2Nsb3NlLCJjbG9zZSBpcyBwZW5kaW5nIiksdGhpcy53cml0ZV9pbl9wcm9ncmVzcz0hMCx0LmVxdWFsKCExLE09PT12b2lkIDAsIm11c3QgcHJvdmlkZSBmbHVzaCB2YWx1ZSIpLHRoaXMud3JpdGVfaW5fcHJvZ3Jlc3M9ITAsTSE9PWUuWl9OT19GTFVTSCYmTSE9PWUuWl9QQVJUSUFMX0ZMVVNIJiZNIT09ZS5aX1NZTkNfRkxVU0gmJk0hPT1lLlpfRlVMTF9GTFVTSCYmTSE9PWUuWl9GSU5JU0gmJk0hPT1lLlpfQkxPQ0spdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGZsdXNoIHZhbHVlIik7aWYoTz09bnVsbCYmKE89YnVmZmVyJDIuQnVmZmVyLmFsbG9jKDApLFA9MCxUPTApLHRoaXMuc3RybS5hdmFpbF9pbj1QLHRoaXMuc3RybS5pbnB1dD1PLHRoaXMuc3RybS5uZXh0X2luPVQsdGhpcy5zdHJtLmF2YWlsX291dD1ILHRoaXMuc3RybS5vdXRwdXQ9TCx0aGlzLnN0cm0ubmV4dF9vdXQ9eix0aGlzLmZsdXNoPU0sIWIpcmV0dXJuIHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9jaGVja0Vycm9yKCk/dGhpcy5fYWZ0ZXJTeW5jKCk6dm9pZCAwO3ZhciBWPXRoaXM7cmV0dXJuIGFwaSQxLm5leHRUaWNrKGZ1bmN0aW9uKCl7Vi5fcHJvY2VzcygpLFYuX2FmdGVyKCl9KSx0aGlzfSxfLnByb3RvdHlwZS5fYWZ0ZXJTeW5jPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zdHJtLmF2YWlsX291dCxNPXRoaXMuc3RybS5hdmFpbF9pbjtyZXR1cm4gdGhpcy53cml0ZV9pbl9wcm9ncmVzcz0hMSxbTSxiXX0sXy5wcm90b3R5cGUuX3Byb2Nlc3M9ZnVuY3Rpb24oKXt2YXIgYj1udWxsO3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2UgZS5ERUZMQVRFOmNhc2UgZS5HWklQOmNhc2UgZS5ERUZMQVRFUkFXOnRoaXMuZXJyPWEuZGVmbGF0ZSh0aGlzLnN0cm0sdGhpcy5mbHVzaCk7YnJlYWs7Y2FzZSBlLlVOWklQOnN3aXRjaCh0aGlzLnN0cm0uYXZhaWxfaW4+MCYmKGI9dGhpcy5zdHJtLm5leHRfaW4pLHRoaXMuZ3ppcF9pZF9ieXRlc19yZWFkKXtjYXNlIDA6aWYoYj09PW51bGwpYnJlYWs7aWYodGhpcy5zdHJtLmlucHV0W2JdPT09ZCl7aWYodGhpcy5nemlwX2lkX2J5dGVzX3JlYWQ9MSxiKyssdGhpcy5zdHJtLmF2YWlsX2luPT09MSlicmVha31lbHNle3RoaXMubW9kZT1lLklORkxBVEU7YnJlYWt9Y2FzZSAxOmlmKGI9PT1udWxsKWJyZWFrO3RoaXMuc3RybS5pbnB1dFtiXT09PXc/KHRoaXMuZ3ppcF9pZF9ieXRlc19yZWFkPTIsdGhpcy5tb2RlPWUuR1VOWklQKTp0aGlzLm1vZGU9ZS5JTkZMQVRFO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIG51bWJlciBvZiBnemlwIG1hZ2ljIG51bWJlciBieXRlcyByZWFkIil9Y2FzZSBlLklORkxBVEU6Y2FzZSBlLkdVTlpJUDpjYXNlIGUuSU5GTEFURVJBVzpmb3IodGhpcy5lcnI9dS5pbmZsYXRlKHRoaXMuc3RybSx0aGlzLmZsdXNoKSx0aGlzLmVycj09PWUuWl9ORUVEX0RJQ1QmJnRoaXMuZGljdGlvbmFyeSYmKHRoaXMuZXJyPXUuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLHRoaXMuZGljdGlvbmFyeSksdGhpcy5lcnI9PT1lLlpfT0s/dGhpcy5lcnI9dS5pbmZsYXRlKHRoaXMuc3RybSx0aGlzLmZsdXNoKTp0aGlzLmVycj09PWUuWl9EQVRBX0VSUk9SJiYodGhpcy5lcnI9ZS5aX05FRURfRElDVCkpO3RoaXMuc3RybS5hdmFpbF9pbj4wJiZ0aGlzLm1vZGU9PT1lLkdVTlpJUCYmdGhpcy5lcnI9PT1lLlpfU1RSRUFNX0VORCYmdGhpcy5zdHJtLm5leHRfaW5bMF0hPT0wOyl0aGlzLnJlc2V0KCksdGhpcy5lcnI9dS5pbmZsYXRlKHRoaXMuc3RybSx0aGlzLmZsdXNoKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBtb2RlICIrdGhpcy5tb2RlKX19LF8ucHJvdG90eXBlLl9jaGVja0Vycm9yPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuZXJyKXtjYXNlIGUuWl9PSzpjYXNlIGUuWl9CVUZfRVJST1I6aWYodGhpcy5zdHJtLmF2YWlsX291dCE9PTAmJnRoaXMuZmx1c2g9PT1lLlpfRklOSVNIKXJldHVybiB0aGlzLl9lcnJvcigidW5leHBlY3RlZCBlbmQgb2YgZmlsZSIpLCExO2JyZWFrO2Nhc2UgZS5aX1NUUkVBTV9FTkQ6YnJlYWs7Y2FzZSBlLlpfTkVFRF9ESUNUOnJldHVybiB0aGlzLmRpY3Rpb25hcnk9PW51bGw/dGhpcy5fZXJyb3IoIk1pc3NpbmcgZGljdGlvbmFyeSIpOnRoaXMuX2Vycm9yKCJCYWQgZGljdGlvbmFyeSIpLCExO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2Vycm9yKCJabGliIGVycm9yIiksITF9cmV0dXJuITB9LF8ucHJvdG90eXBlLl9hZnRlcj1mdW5jdGlvbigpe2lmKHRoaXMuX2NoZWNrRXJyb3IoKSl7dmFyIGI9dGhpcy5zdHJtLmF2YWlsX291dCxNPXRoaXMuc3RybS5hdmFpbF9pbjt0aGlzLndyaXRlX2luX3Byb2dyZXNzPSExLHRoaXMuY2FsbGJhY2soTSxiKSx0aGlzLnBlbmRpbmdfY2xvc2UmJnRoaXMuY2xvc2UoKX19LF8ucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbihiKXt0aGlzLnN0cm0ubXNnJiYoYj10aGlzLnN0cm0ubXNnKSx0aGlzLm9uZXJyb3IoYix0aGlzLmVyciksdGhpcy53cml0ZV9pbl9wcm9ncmVzcz0hMSx0aGlzLnBlbmRpbmdfY2xvc2UmJnRoaXMuY2xvc2UoKX0sXy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihiLE0sTyxULFApe3QoYXJndW1lbnRzLmxlbmd0aD09PTR8fGFyZ3VtZW50cy5sZW5ndGg9PT01LCJpbml0KHdpbmRvd0JpdHMsIGxldmVsLCBtZW1MZXZlbCwgc3RyYXRlZ3ksIFtkaWN0aW9uYXJ5XSkiKSx0KGI+PTgmJmI8PTE1LCJpbnZhbGlkIHdpbmRvd0JpdHMiKSx0KE0+PS0xJiZNPD05LCJpbnZhbGlkIGNvbXByZXNzaW9uIGxldmVsIiksdChPPj0xJiZPPD05LCJpbnZhbGlkIG1lbWxldmVsIiksdChUPT09ZS5aX0ZJTFRFUkVEfHxUPT09ZS5aX0hVRkZNQU5fT05MWXx8VD09PWUuWl9STEV8fFQ9PT1lLlpfRklYRUR8fFQ9PT1lLlpfREVGQVVMVF9TVFJBVEVHWSwiaW52YWxpZCBzdHJhdGVneSIpLHRoaXMuX2luaXQoTSxiLE8sVCxQKSx0aGlzLl9zZXREaWN0aW9uYXJ5KCl9LF8ucHJvdG90eXBlLnBhcmFtcz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiZGVmbGF0ZVBhcmFtcyBOb3Qgc3VwcG9ydGVkIil9LF8ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fcmVzZXQoKSx0aGlzLl9zZXREaWN0aW9uYXJ5KCl9LF8ucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKGIsTSxPLFQsUCl7c3dpdGNoKHRoaXMubGV2ZWw9Yix0aGlzLndpbmRvd0JpdHM9TSx0aGlzLm1lbUxldmVsPU8sdGhpcy5zdHJhdGVneT1ULHRoaXMuZmx1c2g9ZS5aX05PX0ZMVVNILHRoaXMuZXJyPWUuWl9PSywodGhpcy5tb2RlPT09ZS5HWklQfHx0aGlzLm1vZGU9PT1lLkdVTlpJUCkmJih0aGlzLndpbmRvd0JpdHMrPTE2KSx0aGlzLm1vZGU9PT1lLlVOWklQJiYodGhpcy53aW5kb3dCaXRzKz0zMiksKHRoaXMubW9kZT09PWUuREVGTEFURVJBV3x8dGhpcy5tb2RlPT09ZS5JTkZMQVRFUkFXKSYmKHRoaXMud2luZG93Qml0cz0tMSp0aGlzLndpbmRvd0JpdHMpLHRoaXMuc3RybT1uZXcgbix0aGlzLm1vZGUpe2Nhc2UgZS5ERUZMQVRFOmNhc2UgZS5HWklQOmNhc2UgZS5ERUZMQVRFUkFXOnRoaXMuZXJyPWEuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSx0aGlzLmxldmVsLGUuWl9ERUZMQVRFRCx0aGlzLndpbmRvd0JpdHMsdGhpcy5tZW1MZXZlbCx0aGlzLnN0cmF0ZWd5KTticmVhaztjYXNlIGUuSU5GTEFURTpjYXNlIGUuR1VOWklQOmNhc2UgZS5JTkZMQVRFUkFXOmNhc2UgZS5VTlpJUDp0aGlzLmVycj11LmluZmxhdGVJbml0Mih0aGlzLnN0cm0sdGhpcy53aW5kb3dCaXRzKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBtb2RlICIrdGhpcy5tb2RlKX10aGlzLmVyciE9PWUuWl9PSyYmdGhpcy5fZXJyb3IoIkluaXQgZXJyb3IiKSx0aGlzLmRpY3Rpb25hcnk9UCx0aGlzLndyaXRlX2luX3Byb2dyZXNzPSExLHRoaXMuaW5pdF9kb25lPSEwfSxfLnByb3RvdHlwZS5fc2V0RGljdGlvbmFyeT1mdW5jdGlvbigpe2lmKHRoaXMuZGljdGlvbmFyeSE9bnVsbCl7c3dpdGNoKHRoaXMuZXJyPWUuWl9PSyx0aGlzLm1vZGUpe2Nhc2UgZS5ERUZMQVRFOmNhc2UgZS5ERUZMQVRFUkFXOnRoaXMuZXJyPWEuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLHRoaXMuZGljdGlvbmFyeSk7YnJlYWt9dGhpcy5lcnIhPT1lLlpfT0smJnRoaXMuX2Vycm9yKCJGYWlsZWQgdG8gc2V0IGRpY3Rpb25hcnkiKX19LF8ucHJvdG90eXBlLl9yZXNldD1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLmVycj1lLlpfT0ssdGhpcy5tb2RlKXtjYXNlIGUuREVGTEFURTpjYXNlIGUuREVGTEFURVJBVzpjYXNlIGUuR1pJUDp0aGlzLmVycj1hLmRlZmxhdGVSZXNldCh0aGlzLnN0cm0pO2JyZWFrO2Nhc2UgZS5JTkZMQVRFOmNhc2UgZS5JTkZMQVRFUkFXOmNhc2UgZS5HVU5aSVA6dGhpcy5lcnI9dS5pbmZsYXRlUmVzZXQodGhpcy5zdHJtKTticmVha310aGlzLmVyciE9PWUuWl9PSyYmdGhpcy5fZXJyb3IoIkZhaWxlZCB0byByZXNldCBzdHJlYW0iKX0sZS5abGliPV99KShiaW5kaW5nKSxmdW5jdGlvbihlKXt2YXIgdD1idWZmZXIkMi5CdWZmZXIsbj1zdHJlYW1Ccm93c2VyaWZ5LlRyYW5zZm9ybSxhPWJpbmRpbmcsdT11dGlsJDMsbz1yZXF1aXJlQXNzZXJ0KCkub2ssaD1idWZmZXIkMi5rTWF4TGVuZ3RoLGQ9IkNhbm5vdCBjcmVhdGUgZmluYWwgQnVmZmVyLiBJdCB3b3VsZCBiZSBsYXJnZXIgdGhhbiAweCIraC50b1N0cmluZygxNikrIiBieXRlcyI7YS5aX01JTl9XSU5ET1dCSVRTPTgsYS5aX01BWF9XSU5ET1dCSVRTPTE1LGEuWl9ERUZBVUxUX1dJTkRPV0JJVFM9MTUsYS5aX01JTl9DSFVOSz02NCxhLlpfTUFYX0NIVU5LPTEvMCxhLlpfREVGQVVMVF9DSFVOSz0xNioxMDI0LGEuWl9NSU5fTUVNTEVWRUw9MSxhLlpfTUFYX01FTUxFVkVMPTksYS5aX0RFRkFVTFRfTUVNTEVWRUw9OCxhLlpfTUlOX0xFVkVMPS0xLGEuWl9NQVhfTEVWRUw9OSxhLlpfREVGQVVMVF9MRVZFTD1hLlpfREVGQVVMVF9DT01QUkVTU0lPTjtmb3IodmFyIHc9T2JqZWN0LmtleXMoYSksXz0wO188dy5sZW5ndGg7XysrKXt2YXIgYj13W19dO2IubWF0Y2goL15aLykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGIse2VudW1lcmFibGU6ITAsdmFsdWU6YVtiXSx3cml0YWJsZTohMX0pfWZvcih2YXIgTT17Wl9PSzphLlpfT0ssWl9TVFJFQU1fRU5EOmEuWl9TVFJFQU1fRU5ELFpfTkVFRF9ESUNUOmEuWl9ORUVEX0RJQ1QsWl9FUlJOTzphLlpfRVJSTk8sWl9TVFJFQU1fRVJST1I6YS5aX1NUUkVBTV9FUlJPUixaX0RBVEFfRVJST1I6YS5aX0RBVEFfRVJST1IsWl9NRU1fRVJST1I6YS5aX01FTV9FUlJPUixaX0JVRl9FUlJPUjphLlpfQlVGX0VSUk9SLFpfVkVSU0lPTl9FUlJPUjphLlpfVkVSU0lPTl9FUlJPUn0sTz1PYmplY3Qua2V5cyhNKSxUPTA7VDxPLmxlbmd0aDtUKyspe3ZhciBQPU9bVF07TVtNW1BdXT1QfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJjb2RlcyIse2VudW1lcmFibGU6ITAsdmFsdWU6T2JqZWN0LmZyZWV6ZShNKSx3cml0YWJsZTohMX0pLGUuRGVmbGF0ZT1ILGUuSW5mbGF0ZT1WLGUuR3ppcD1hZSxlLkd1bnppcD1pZSxlLkRlZmxhdGVSYXc9USxlLkluZmxhdGVSYXc9cmUsZS5VbnppcD1jZSxlLmNyZWF0ZURlZmxhdGU9ZnVuY3Rpb24oJCl7cmV0dXJuIG5ldyBIKCQpfSxlLmNyZWF0ZUluZmxhdGU9ZnVuY3Rpb24oJCl7cmV0dXJuIG5ldyBWKCQpfSxlLmNyZWF0ZURlZmxhdGVSYXc9ZnVuY3Rpb24oJCl7cmV0dXJuIG5ldyBRKCQpfSxlLmNyZWF0ZUluZmxhdGVSYXc9ZnVuY3Rpb24oJCl7cmV0dXJuIG5ldyByZSgkKX0sZS5jcmVhdGVHemlwPWZ1bmN0aW9uKCQpe3JldHVybiBuZXcgYWUoJCl9LGUuY3JlYXRlR3VuemlwPWZ1bmN0aW9uKCQpe3JldHVybiBuZXcgaWUoJCl9LGUuY3JlYXRlVW56aXA9ZnVuY3Rpb24oJCl7cmV0dXJuIG5ldyBjZSgkKX0sZS5kZWZsYXRlPWZ1bmN0aW9uKCQsbSxsKXtyZXR1cm4gdHlwZW9mIG09PSJmdW5jdGlvbiImJihsPW0sbT17fSksTChuZXcgSChtKSwkLGwpfSxlLmRlZmxhdGVTeW5jPWZ1bmN0aW9uKCQsbSl7cmV0dXJuIHoobmV3IEgobSksJCl9LGUuZ3ppcD1mdW5jdGlvbigkLG0sbCl7cmV0dXJuIHR5cGVvZiBtPT0iZnVuY3Rpb24iJiYobD1tLG09e30pLEwobmV3IGFlKG0pLCQsbCl9LGUuZ3ppcFN5bmM9ZnVuY3Rpb24oJCxtKXtyZXR1cm4geihuZXcgYWUobSksJCl9LGUuZGVmbGF0ZVJhdz1mdW5jdGlvbigkLG0sbCl7cmV0dXJuIHR5cGVvZiBtPT0iZnVuY3Rpb24iJiYobD1tLG09e30pLEwobmV3IFEobSksJCxsKX0sZS5kZWZsYXRlUmF3U3luYz1mdW5jdGlvbigkLG0pe3JldHVybiB6KG5ldyBRKG0pLCQpfSxlLnVuemlwPWZ1bmN0aW9uKCQsbSxsKXtyZXR1cm4gdHlwZW9mIG09PSJmdW5jdGlvbiImJihsPW0sbT17fSksTChuZXcgY2UobSksJCxsKX0sZS51bnppcFN5bmM9ZnVuY3Rpb24oJCxtKXtyZXR1cm4geihuZXcgY2UobSksJCl9LGUuaW5mbGF0ZT1mdW5jdGlvbigkLG0sbCl7cmV0dXJuIHR5cGVvZiBtPT0iZnVuY3Rpb24iJiYobD1tLG09e30pLEwobmV3IFYobSksJCxsKX0sZS5pbmZsYXRlU3luYz1mdW5jdGlvbigkLG0pe3JldHVybiB6KG5ldyBWKG0pLCQpfSxlLmd1bnppcD1mdW5jdGlvbigkLG0sbCl7cmV0dXJuIHR5cGVvZiBtPT0iZnVuY3Rpb24iJiYobD1tLG09e30pLEwobmV3IGllKG0pLCQsbCl9LGUuZ3VuemlwU3luYz1mdW5jdGlvbigkLG0pe3JldHVybiB6KG5ldyBpZShtKSwkKX0sZS5pbmZsYXRlUmF3PWZ1bmN0aW9uKCQsbSxsKXtyZXR1cm4gdHlwZW9mIG09PSJmdW5jdGlvbiImJihsPW0sbT17fSksTChuZXcgcmUobSksJCxsKX0sZS5pbmZsYXRlUmF3U3luYz1mdW5jdGlvbigkLG0pe3JldHVybiB6KG5ldyByZShtKSwkKX07ZnVuY3Rpb24gTCgkLG0sbCl7dmFyIHY9W10sRT0wOyQub24oImVycm9yIixCKSwkLm9uKCJlbmQiLEEpLCQuZW5kKG0pLFMoKTtmdW5jdGlvbiBTKCl7Zm9yKHZhciB5Oyh5PSQucmVhZCgpKSE9PW51bGw7KXYucHVzaCh5KSxFKz15Lmxlbmd0aDskLm9uY2UoInJlYWRhYmxlIixTKX1mdW5jdGlvbiBCKHkpeyQucmVtb3ZlTGlzdGVuZXIoImVuZCIsQSksJC5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLFMpLGwoeSl9ZnVuY3Rpb24gQSgpe3ZhciB5LHg9bnVsbDtFPj1oP3g9bmV3IFJhbmdlRXJyb3IoZCk6eT10LmNvbmNhdCh2LEUpLHY9W10sJC5jbG9zZSgpLGwoeCx5KX19ZnVuY3Rpb24geigkLG0pe2lmKHR5cGVvZiBtPT0ic3RyaW5nIiYmKG09dC5mcm9tKG0pKSwhdC5pc0J1ZmZlcihtKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJOb3QgYSBzdHJpbmcgb3IgYnVmZmVyIik7dmFyIGw9JC5fZmluaXNoRmx1c2hGbGFnO3JldHVybiAkLl9wcm9jZXNzQ2h1bmsobSxsKX1mdW5jdGlvbiBIKCQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEgpKXJldHVybiBuZXcgSCgkKTtvZS5jYWxsKHRoaXMsJCxhLkRFRkxBVEUpfWZ1bmN0aW9uIFYoJCl7aWYoISh0aGlzIGluc3RhbmNlb2YgVikpcmV0dXJuIG5ldyBWKCQpO29lLmNhbGwodGhpcywkLGEuSU5GTEFURSl9ZnVuY3Rpb24gYWUoJCl7aWYoISh0aGlzIGluc3RhbmNlb2YgYWUpKXJldHVybiBuZXcgYWUoJCk7b2UuY2FsbCh0aGlzLCQsYS5HWklQKX1mdW5jdGlvbiBpZSgkKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpZSkpcmV0dXJuIG5ldyBpZSgkKTtvZS5jYWxsKHRoaXMsJCxhLkdVTlpJUCl9ZnVuY3Rpb24gUSgkKXtpZighKHRoaXMgaW5zdGFuY2VvZiBRKSlyZXR1cm4gbmV3IFEoJCk7b2UuY2FsbCh0aGlzLCQsYS5ERUZMQVRFUkFXKX1mdW5jdGlvbiByZSgkKXtpZighKHRoaXMgaW5zdGFuY2VvZiByZSkpcmV0dXJuIG5ldyByZSgkKTtvZS5jYWxsKHRoaXMsJCxhLklORkxBVEVSQVcpfWZ1bmN0aW9uIGNlKCQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGNlKSlyZXR1cm4gbmV3IGNlKCQpO29lLmNhbGwodGhpcywkLGEuVU5aSVApfWZ1bmN0aW9uIGxlKCQpe3JldHVybiAkPT09YS5aX05PX0ZMVVNIfHwkPT09YS5aX1BBUlRJQUxfRkxVU0h8fCQ9PT1hLlpfU1lOQ19GTFVTSHx8JD09PWEuWl9GVUxMX0ZMVVNIfHwkPT09YS5aX0ZJTklTSHx8JD09PWEuWl9CTE9DS31mdW5jdGlvbiBvZSgkLG0pe3ZhciBsPXRoaXM7aWYodGhpcy5fb3B0cz0kPSR8fHt9LHRoaXMuX2NodW5rU2l6ZT0kLmNodW5rU2l6ZXx8ZS5aX0RFRkFVTFRfQ0hVTkssbi5jYWxsKHRoaXMsJCksJC5mbHVzaCYmIWxlKCQuZmx1c2gpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBmbHVzaCBmbGFnOiAiKyQuZmx1c2gpO2lmKCQuZmluaXNoRmx1c2gmJiFsZSgkLmZpbmlzaEZsdXNoKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZmx1c2ggZmxhZzogIiskLmZpbmlzaEZsdXNoKTtpZih0aGlzLl9mbHVzaEZsYWc9JC5mbHVzaHx8YS5aX05PX0ZMVVNILHRoaXMuX2ZpbmlzaEZsdXNoRmxhZz10eXBlb2YgJC5maW5pc2hGbHVzaDwidSI/JC5maW5pc2hGbHVzaDphLlpfRklOSVNILCQuY2h1bmtTaXplJiYoJC5jaHVua1NpemU8ZS5aX01JTl9DSFVOS3x8JC5jaHVua1NpemU+ZS5aX01BWF9DSFVOSykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNodW5rIHNpemU6ICIrJC5jaHVua1NpemUpO2lmKCQud2luZG93Qml0cyYmKCQud2luZG93Qml0czxlLlpfTUlOX1dJTkRPV0JJVFN8fCQud2luZG93Qml0cz5lLlpfTUFYX1dJTkRPV0JJVFMpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB3aW5kb3dCaXRzOiAiKyQud2luZG93Qml0cyk7aWYoJC5sZXZlbCYmKCQubGV2ZWw8ZS5aX01JTl9MRVZFTHx8JC5sZXZlbD5lLlpfTUFYX0xFVkVMKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29tcHJlc3Npb24gbGV2ZWw6ICIrJC5sZXZlbCk7aWYoJC5tZW1MZXZlbCYmKCQubWVtTGV2ZWw8ZS5aX01JTl9NRU1MRVZFTHx8JC5tZW1MZXZlbD5lLlpfTUFYX01FTUxFVkVMKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbWVtTGV2ZWw6ICIrJC5tZW1MZXZlbCk7aWYoJC5zdHJhdGVneSYmJC5zdHJhdGVneSE9ZS5aX0ZJTFRFUkVEJiYkLnN0cmF0ZWd5IT1lLlpfSFVGRk1BTl9PTkxZJiYkLnN0cmF0ZWd5IT1lLlpfUkxFJiYkLnN0cmF0ZWd5IT1lLlpfRklYRUQmJiQuc3RyYXRlZ3khPWUuWl9ERUZBVUxUX1NUUkFURUdZKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzdHJhdGVneTogIiskLnN0cmF0ZWd5KTtpZigkLmRpY3Rpb25hcnkmJiF0LmlzQnVmZmVyKCQuZGljdGlvbmFyeSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGRpY3Rpb25hcnk6IGl0IHNob3VsZCBiZSBhIEJ1ZmZlciBpbnN0YW5jZSIpO3RoaXMuX2hhbmRsZT1uZXcgYS5abGliKG0pO3ZhciB2PXRoaXM7dGhpcy5faGFkRXJyb3I9ITEsdGhpcy5faGFuZGxlLm9uZXJyb3I9ZnVuY3Rpb24oQixBKXt5ZSh2KSx2Ll9oYWRFcnJvcj0hMDt2YXIgeT1uZXcgRXJyb3IoQik7eS5lcnJubz1BLHkuY29kZT1lLmNvZGVzW0FdLHYuZW1pdCgiZXJyb3IiLHkpfTt2YXIgRT1lLlpfREVGQVVMVF9DT01QUkVTU0lPTjt0eXBlb2YgJC5sZXZlbD09Im51bWJlciImJihFPSQubGV2ZWwpO3ZhciBTPWUuWl9ERUZBVUxUX1NUUkFURUdZO3R5cGVvZiAkLnN0cmF0ZWd5PT0ibnVtYmVyIiYmKFM9JC5zdHJhdGVneSksdGhpcy5faGFuZGxlLmluaXQoJC53aW5kb3dCaXRzfHxlLlpfREVGQVVMVF9XSU5ET1dCSVRTLEUsJC5tZW1MZXZlbHx8ZS5aX0RFRkFVTFRfTUVNTEVWRUwsUywkLmRpY3Rpb25hcnkpLHRoaXMuX2J1ZmZlcj10LmFsbG9jVW5zYWZlKHRoaXMuX2NodW5rU2l6ZSksdGhpcy5fb2Zmc2V0PTAsdGhpcy5fbGV2ZWw9RSx0aGlzLl9zdHJhdGVneT1TLHRoaXMub25jZSgiZW5kIix0aGlzLmNsb3NlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiX2Nsb3NlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiFsLl9oYW5kbGV9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9dS5pbmhlcml0cyhvZSxuKSxvZS5wcm90b3R5cGUucGFyYW1zPWZ1bmN0aW9uKCQsbSxsKXtpZigkPGUuWl9NSU5fTEVWRUx8fCQ+ZS5aX01BWF9MRVZFTCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBjb21wcmVzc2lvbiBsZXZlbDogIiskKTtpZihtIT1lLlpfRklMVEVSRUQmJm0hPWUuWl9IVUZGTUFOX09OTFkmJm0hPWUuWl9STEUmJm0hPWUuWl9GSVhFRCYmbSE9ZS5aX0RFRkFVTFRfU1RSQVRFR1kpdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBzdHJhdGVneTogIittKTtpZih0aGlzLl9sZXZlbCE9PSR8fHRoaXMuX3N0cmF0ZWd5IT09bSl7dmFyIHY9dGhpczt0aGlzLmZsdXNoKGEuWl9TWU5DX0ZMVVNILGZ1bmN0aW9uKCl7byh2Ll9oYW5kbGUsInpsaWIgYmluZGluZyBjbG9zZWQiKSx2Ll9oYW5kbGUucGFyYW1zKCQsbSksdi5faGFkRXJyb3J8fCh2Ll9sZXZlbD0kLHYuX3N0cmF0ZWd5PW0sbCYmbCgpKX0pfWVsc2UgYXBpJDEubmV4dFRpY2sobCl9LG9lLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiBvKHRoaXMuX2hhbmRsZSwiemxpYiBiaW5kaW5nIGNsb3NlZCIpLHRoaXMuX2hhbmRsZS5yZXNldCgpfSxvZS5wcm90b3R5cGUuX2ZsdXNoPWZ1bmN0aW9uKCQpe3RoaXMuX3RyYW5zZm9ybSh0LmFsbG9jKDApLCIiLCQpfSxvZS5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oJCxtKXt2YXIgbD10aGlzLHY9dGhpcy5fd3JpdGFibGVTdGF0ZTsodHlwZW9mICQ9PSJmdW5jdGlvbiJ8fCQ9PT12b2lkIDAmJiFtKSYmKG09JCwkPWEuWl9GVUxMX0ZMVVNIKSx2LmVuZGVkP20mJmFwaSQxLm5leHRUaWNrKG0pOnYuZW5kaW5nP20mJnRoaXMub25jZSgiZW5kIixtKTp2Lm5lZWREcmFpbj9tJiZ0aGlzLm9uY2UoImRyYWluIixmdW5jdGlvbigpe3JldHVybiBsLmZsdXNoKCQsbSl9KToodGhpcy5fZmx1c2hGbGFnPSQsdGhpcy53cml0ZSh0LmFsbG9jKDApLCIiLG0pKX0sb2UucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCQpe3llKHRoaXMsJCksYXBpJDEubmV4dFRpY2soWCx0aGlzKX07ZnVuY3Rpb24geWUoJCxtKXttJiZhcGkkMS5uZXh0VGljayhtKSwkLl9oYW5kbGUmJigkLl9oYW5kbGUuY2xvc2UoKSwkLl9oYW5kbGU9bnVsbCl9ZnVuY3Rpb24gWCgkKXskLmVtaXQoImNsb3NlIil9b2UucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oJCxtLGwpe3ZhciB2LEU9dGhpcy5fd3JpdGFibGVTdGF0ZSxTPUUuZW5kaW5nfHxFLmVuZGVkLEI9UyYmKCEkfHxFLmxlbmd0aD09PSQubGVuZ3RoKTtpZigkIT09bnVsbCYmIXQuaXNCdWZmZXIoJCkpcmV0dXJuIGwobmV3IEVycm9yKCJpbnZhbGlkIGlucHV0IikpO2lmKCF0aGlzLl9oYW5kbGUpcmV0dXJuIGwobmV3IEVycm9yKCJ6bGliIGJpbmRpbmcgY2xvc2VkIikpO0I/dj10aGlzLl9maW5pc2hGbHVzaEZsYWc6KHY9dGhpcy5fZmx1c2hGbGFnLCQubGVuZ3RoPj1FLmxlbmd0aCYmKHRoaXMuX2ZsdXNoRmxhZz10aGlzLl9vcHRzLmZsdXNofHxhLlpfTk9fRkxVU0gpKSx0aGlzLl9wcm9jZXNzQ2h1bmsoJCx2LGwpfSxvZS5wcm90b3R5cGUuX3Byb2Nlc3NDaHVuaz1mdW5jdGlvbigkLG0sbCl7dmFyIHY9JCYmJC5sZW5ndGgsRT10aGlzLl9jaHVua1NpemUtdGhpcy5fb2Zmc2V0LFM9MCxCPXRoaXMsQT10eXBlb2YgbD09ImZ1bmN0aW9uIjtpZighQSl7dmFyIHk9W10seD0wLHA7dGhpcy5vbigiZXJyb3IiLGZ1bmN0aW9uKGspe3A9a30pLG8odGhpcy5faGFuZGxlLCJ6bGliIGJpbmRpbmcgY2xvc2VkIik7ZG8gdmFyIEk9dGhpcy5faGFuZGxlLndyaXRlU3luYyhtLCQsUyx2LHRoaXMuX2J1ZmZlcix0aGlzLl9vZmZzZXQsRSk7d2hpbGUoIXRoaXMuX2hhZEVycm9yJiZKKElbMF0sSVsxXSkpO2lmKHRoaXMuX2hhZEVycm9yKXRocm93IHA7aWYoeD49aCl0aHJvdyB5ZSh0aGlzKSxuZXcgUmFuZ2VFcnJvcihkKTt2YXIgZWU9dC5jb25jYXQoeSx4KTtyZXR1cm4geWUodGhpcyksZWV9byh0aGlzLl9oYW5kbGUsInpsaWIgYmluZGluZyBjbG9zZWQiKTt2YXIgZmU9dGhpcy5faGFuZGxlLndyaXRlKG0sJCxTLHYsdGhpcy5fYnVmZmVyLHRoaXMuX29mZnNldCxFKTtmZS5idWZmZXI9JCxmZS5jYWxsYmFjaz1KO2Z1bmN0aW9uIEooayxEKXtpZih0aGlzJiYodGhpcy5idWZmZXI9bnVsbCx0aGlzLmNhbGxiYWNrPW51bGwpLCFCLl9oYWRFcnJvcil7dmFyIGo9RS1EO2lmKG8oaj49MCwiaGF2ZSBzaG91bGQgbm90IGdvIGRvd24iKSxqPjApe3ZhciB0ZT1CLl9idWZmZXIuc2xpY2UoQi5fb2Zmc2V0LEIuX29mZnNldCtqKTtCLl9vZmZzZXQrPWosQT9CLnB1c2godGUpOih5LnB1c2godGUpLHgrPXRlLmxlbmd0aCl9aWYoKEQ9PT0wfHxCLl9vZmZzZXQ+PUIuX2NodW5rU2l6ZSkmJihFPUIuX2NodW5rU2l6ZSxCLl9vZmZzZXQ9MCxCLl9idWZmZXI9dC5hbGxvY1Vuc2FmZShCLl9jaHVua1NpemUpKSxEPT09MCl7aWYoUys9di1rLHY9aywhQSlyZXR1cm4hMDt2YXIgVT1CLl9oYW5kbGUud3JpdGUobSwkLFMsdixCLl9idWZmZXIsQi5fb2Zmc2V0LEIuX2NodW5rU2l6ZSk7VS5jYWxsYmFjaz1KLFUuYnVmZmVyPSQ7cmV0dXJufWlmKCFBKXJldHVybiExO2woKX19fSx1LmluaGVyaXRzKEgsb2UpLHUuaW5oZXJpdHMoVixvZSksdS5pbmhlcml0cyhhZSxvZSksdS5pbmhlcml0cyhpZSxvZSksdS5pbmhlcml0cyhRLG9lKSx1LmluaGVyaXRzKHJlLG9lKSx1LmluaGVyaXRzKGNlLG9lKX0obGliJDEpO3ZhciB6bGliPWdldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGxpYiQxKTtjb25zdCByb3VuZFRvRHA9KGUsdCk9Pk1hdGgucm91bmQoZSpNYXRoLnBvdygxMCx0KSkvTWF0aC5wb3coMTAsdCksZm9ybWF0TnVtYmVyPWU9PmUhPT1udWxsJiZ0eXBlb2YgZT09Im51bWJlciI/ZS50b0xvY2FsZVN0cmluZygpOiIiO2Z1bmN0aW9uIHJlZHVjZU1heE9yTWluJDEoZSx0LG4pe2lmKG49PT0ibWF4IilyZXR1cm4gdChlLnJlZHVjZShmdW5jdGlvbihhLHUpe3JldHVybiB0KHUpPnQoYSk/dTphfSkpO2lmKG49PT0ibWluIilyZXR1cm4gdChlLnJlZHVjZShmdW5jdGlvbihhLHUpe3JldHVybiB0KHUpPHQoYSk/dTphfSkpfWNvbnN0IHNldFVwU3RyZWFtPShlLHQsbik9PntmdW5jdGlvbiBhKGgsZCl7aWYoZCUxZTQ9PT0wJiZkPjB8fGQ9PTUwMClpZihjb25zb2xlLmxvZyhgUHJvY2Vzc2VkICR7Zm9ybWF0TnVtYmVyKGQpfSBsaW5lc2ApLHQuaGVhZGVyLnRvdGFsX25vZGVzKXtjb25zdCBfPWQvdC5oZWFkZXIudG90YWxfbm9kZXMqMTAwO24oe21lc3NhZ2U6YExvYWRlZCAke2Zvcm1hdE51bWJlcihkKX0gbm9kZXNgLHBlcmNlbnRhZ2U6Xy50b0ZpeGVkKDIpLHRvdGFsOmQ9PTUwMD90LmhlYWRlci50b3RhbF9ub2Rlczp2b2lkIDB9KX1lbHNlIG4oe21lc3NhZ2U6YExvYWRlZCAke2Zvcm1hdE51bWJlcihkKX0gbm9kZXMuYH0pO2NvbnN0IHc9SlNPTi5wYXJzZShoKTtkPT09MD8odC5oZWFkZXI9dyx0Lm5vZGVzPVtdLHQubm9kZV90b19tdXQ9e30pOih0Lm5vZGVfdG9fbXV0W3cubm9kZV9pZF09dy5tdXRhdGlvbnMsdC5ub2Rlcy5wdXNoKHcpKX1sZXQgdT0iIixvPTA7ZS5vbigiZGF0YSIsZnVuY3Rpb24oaCl7aWYodSs9aC50b1N0cmluZygpLHUuaW5jbHVkZXMoYApgKSl7Y29uc3QgZD11LnNwbGl0KGAKYCk7dT1kLnBvcCgpLGQuZm9yRWFjaCh3PT57YSh3LG8pLG8rK30pfX0pLGUub24oImVycm9yIixmdW5jdGlvbihoKXtjb25zb2xlLmxvZyhoKX0pLGUub24oImVuZCIsZnVuY3Rpb24oKXtjb25zb2xlLmxvZygiZW5kIil9KX0scHJvY2Vzc0pzb25sPWFzeW5jKGUsdCxuKT0+e2NvbnNvbGUubG9nKCJXb3JrZXIgcHJvY2Vzc0pzb25sIik7Y29uc3QgYT1lLmRhdGEsdT1lLnN0YXR1cztsZXQgbztlLmZpbGVuYW1lLmluY2x1ZGVzKCJneiIpP289emxpYi5jcmVhdGVHdW56aXAoKTpvPW5ldyBzdHJlYW0uUGFzc1Rocm91Z2g7bGV0IGg9e307aWYoc2V0VXBTdHJlYW0obyxoLHQpLHU9PT0ibG9hZGVkIil7Y29uc3QgSD1hO2xldCBWPTUqMTAyNCoxMDI0O2ZvcihsZXQgYWU9MDthZTxILmJ5dGVMZW5ndGg7YWUrPVYpe2NvbnN0IGllPUguc2xpY2UoYWUsYWUrViksUT1idWZmZXIkMS5CdWZmZXIuZnJvbShpZSk7by53cml0ZShRKX1jb25zb2xlLmxvZygiV29ya2VyIHByb2Nlc3NKc29ubCIsYSksby5lbmQoKX1lbHNlIGlmKHU9PT0idXJsX3N1cHBsaWVkIil7Y29uc3QgSD1lLmZpbGVuYW1lO2xldCBWO2NvbnNvbGUubG9nKCJTVEFSVElORyBGRVRDSCIpO3RyeXtWPWF3YWl0IGZldGNoKEgpfWNhdGNoKFEpe2NvbnNvbGUubG9nKCJGZXRjaCBlcnJvciIsUSksdCh7ZXJyb3I6YEZldGNoIGVycm9yOiAke1F9YH0pO3JldHVybn1jb25zb2xlLmxvZygiQUxMIEZJTkUiLFYpLHQoe21lc3NhZ2U6IkxvYWRpbmcgcm9vdCBnZW5vbWUifSk7Y29uc3QgYWU9Vi5ib2R5O25ldyBuKGFlKS5waXBlKG8pfWVsc2UgaWYodT09PSJzdHJlYW1fc3VwcGxpZWQiKWUuc3RyZWFtLnBpcGUobyk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gc3RhdHVzOiAiK3UpO2F3YWl0IG5ldyBQcm9taXNlKChILFYpPT57by5vbigiZW5kIixIKSxvLm9uKCJlcnJvciIsVil9KSxjb25zb2xlLmxvZygiZG9uZSB3aXRoIHN0cmVhbSIpO2NvbnN0IGQ9MjQwMC8oaC5ub2Rlcy5sZW5ndGg+MWU0P2gubm9kZXMubGVuZ3RoOmgubm9kZXMubGVuZ3RoKi42NjY2KTtjb25zb2xlLmxvZygiU2NhbGluZyIpO2Zvcihjb25zdCBIIG9mIGgubm9kZXMpSC55PXJvdW5kVG9EcChILnkqZCw2KTtjb25zb2xlLmxvZygiQ2FsY3VsYXRpbmcgeSBwb3NpdGlvbnMiKTtjb25zdCB3PWgubm9kZXMubWFwKEg9PkgueSk7Y29uc29sZS5sb2coIkNhbGN1bGF0aW5nIGNvb3JkIGV4dHJlbWVzIik7Y29uc3QgXz1yZWR1Y2VNYXhPck1pbiQxKGgubm9kZXMsSD0+SC55LCJtYXgiKSxiPXJlZHVjZU1heE9yTWluJDEoaC5ub2RlcyxIPT5ILnksIm1pbiIpLE09cmVkdWNlTWF4T3JNaW4kMShoLm5vZGVzLEg9PkgueF9kaXN0LCJtYXgiKSxPPXJlZHVjZU1heE9yTWluJDEoaC5ub2RlcyxIPT5ILnhfZGlzdCwibWluIiksVD1oLm5vZGVzLmZpbmQoSD0+SC5wYXJlbnRfaWQ9PT1ILm5vZGVfaWQpLFA9VC5tdXRhdGlvbnM7VC5tdXRhdGlvbnM9W10sY29uc29sZS5sb2coIkNyZWF0aW5nIG91dHB1dCBvYmoiKTtjb25zdCBMPWguaGVhZGVyLmNvbmZpZz9oLmhlYWRlci5jb25maWc6e307cmV0dXJuIEwubnVtX3RpcHM9VC5udW1fdGlwcyx7bm9kZXM6aC5ub2RlcyxvdmVyYWxsTWF4WDpNLG92ZXJhbGxNYXhZOl8sb3ZlcmFsbE1pblg6TyxvdmVyYWxsTWluWTpiLHlfcG9zaXRpb25zOncsbXV0YXRpb25zOmguaGVhZGVyLm11dGF0aW9ucz9oLmhlYWRlci5tdXRhdGlvbnM6aC5oZWFkZXIuYWFfbXV0YXRpb25zLG5vZGVfdG9fbXV0Omgubm9kZV90b19tdXQscm9vdE11dGF0aW9uczpQLHJvb3RJZDpULm5vZGVfaWQsb3ZlcndyaXRlX2NvbmZpZzpMfX0sZ2VuZXJhdGVDb25maWc9KGUsdCk9PntlLm51bV9ub2Rlcz10Lm5vZGVzLmxlbmd0aCxlLmluaXRpYWxfeD0odC5vdmVyYWxsTWF4WCt0Lm92ZXJhbGxNaW5YKS8yLGUuaW5pdGlhbF95PSh0Lm92ZXJhbGxNYXhZK3Qub3ZlcmFsbE1pblkpLzIsZS5pbml0aWFsX3pvb209ZS5pbml0aWFsX3pvb20/ZS5pbml0aWFsX3pvb206LTIsZS5nZW5lcz1bLi4ubmV3IFNldCh0Lm11dGF0aW9ucy5tYXAodz0+dz93LmdlbmU6bnVsbCkpXS5maWx0ZXIodz0+dykuc29ydCgpLGUucm9vdE11dGF0aW9ucz10LnJvb3RNdXRhdGlvbnMsZS5yb290SWQ9dC5yb290SWQsZS5uYW1lX2FjY2Vzc29yPSJuYW1lIjtjb25zdCBuPVsicGFyZW50X2lkIiwibm9kZV9pZCIsIngiLCJ4X2Rpc3QiLCJ4X3RpbWUiLCJ5IiwibXV0YXRpb25zIiwibmFtZSIsIm51bV90aXBzIiwidGltZV94IiwiY2xhZGVzIiwiaXNfdGlwIl0sYT10Lm5vZGVzWzBdO2UueF9hY2Nlc3NvcnM9YS54X2Rpc3QhPT12b2lkIDAmJmEueF90aW1lIT09dm9pZCAwP1sieF9kaXN0IiwieF90aW1lIl06YS54X2Rpc3Q/WyJ4X2Rpc3QiXTpbInhfdGltZSJdLGUua2V5c190b19kaXNwbGF5PU9iamVjdC5rZXlzKHQubm9kZXNbMF0pLmZpbHRlcih3PT4hbi5pbmNsdWRlcyh3KSk7Y29uc3QgdT13PT57aWYody5zdGFydHNXaXRoKCJtZXRhXyIpKXtjb25zdCBiPXcuc3Vic3RyaW5nKDUpO3JldHVybiBiLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSl9cmV0dXJuIHc9PT0ibXV0YXRpb24iPyJNdXRhdGlvbiI6dy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt3LnNsaWNlKDEpfSxvPXc9Pnc9PT0ibXV0YXRpb24iPyJtdXRhdGlvbiI6dz09PSJnZW5vdHlwZSI/Imdlbm90eXBlIjp3PT09Im51bV90aXBzIj8ibnVtYmVyIjp3PT09ImdlbmJhbmsiPyJ0ZXh0X3Blcl9saW5lIjp3PT09InJldmVydGFudCI/InJldmVydGFudCI6dz09PSJtZXRhX0xpbmVhZ2UiPyJ0ZXh0X2V4YWN0Ijp3PT09ImJvb2xlYW4iPyJib29sZWFuIjoidGV4dF9tYXRjaCIsaD1bIm5hbWUiLC4uLmUua2V5c190b19kaXNwbGF5XTt0Lm11dGF0aW9ucy5sZW5ndGg+MCYmKGgucHVzaCgibXV0YXRpb24iKSxoLnB1c2goImdlbm90eXBlIikpLHQucm9vdE11dGF0aW9ucy5sZW5ndGg+MCYmaC5wdXNoKCJyZXZlcnRhbnQiKSxoLnB1c2goIm51bV90aXBzIiksaC5sZW5ndGg+MSYmaC5wdXNoKCJib29sZWFuIiksZS5zZWFyY2hfdHlwZXM9aC5tYXAodz0+KHtuYW1lOncsbGFiZWw6dSh3KSx0eXBlOm8odyl9KSksZS5zZWFyY2hfdHlwZXMuZm9yRWFjaCh3PT57dy50eXBlLmluY2x1ZGVzKCJ0ZXh0IikmJih3LmNvbnRyb2xzPSEwKX0pO2NvbnN0IGQ9Wy4uLmUua2V5c190b19kaXNwbGF5XTt0Lm11dGF0aW9ucy5sZW5ndGg+MCYmZC5wdXNoKCJnZW5vdHlwZSIpLGQucHVzaCgiTm9uZSIpLGQubGVuZ3RoPDImJihlLmNvbG9yTWFwcGluZz17Tm9uZTpbNTAsNTAsMTUwXX0pLGUuY29sb3JCeT17Y29sb3JCeU9wdGlvbnM6ZH0sZS5kZWZhdWx0Q29sb3JCeUZpZWxkPWQuaW5jbHVkZXMoIm1ldGFfcGFuZ29saW5fbGluZWFnZSIpPyJtZXRhX3BhbmdvbGluX2xpbmVhZ2UiOmRbMF19O2Z1bmN0aW9uIGtuX25ld19ub2RlKCl7cmV0dXJue3BhcmVudDpudWxsLGNoaWxkOltdLG5hbWU6IiIsbWV0YToiIixkOi0xLGhsOiExLGhpZGRlbjohMX19ZnVuY3Rpb24ga25fYWRkX25vZGUoZSx0LG4sYSl7bGV0IHU7dmFyIG8saD0wLGQ7Zm9yKGQ9a25fbmV3X25vZGUoKSx1PXQsbz10O3U8ZS5sZW5ndGgmJmUuY2hhckF0KHUpIT0iLCImJmUuY2hhckF0KHUpIT0iKSI7Kyt1KXt2YXIgdz1lLmNoYXJBdCh1KTtpZih3PT0iWyIpe3ZhciBfPXU7aD09MCYmKGg9dSk7ZG8rK3U7d2hpbGUodTxlLmxlbmd0aCYmZS5jaGFyQXQodSkhPSJdIik7aWYodT09ZS5sZW5ndGgpe24uZXJyb3J8PTQ7YnJlYWt9ZC5tZXRhPWUuc3Vic3RyKF8sdS1fKzEpfWVsc2UgaWYodz09IjoiKXtoPT0wJiYoaD11KTtmb3IodmFyIGI9Kyt1O3U8ZS5sZW5ndGg7Kyt1KXt2YXIgTT1lLmNoYXJBdCh1KTtpZigoTTwiMCJ8fE0+IjkiKSYmTSE9ImUiJiZNIT0iRSImJk0hPSIrIiYmTSE9Ii0iJiZNIT0iLiIpYnJlYWt9ZC5kPXBhcnNlRmxvYXQoZS5zdWJzdHIoYix1LWIpKSwtLXV9ZWxzZSB3PCIhIiYmdz4ifiImJmg9PTAmJihoPXUpfXJldHVybiBoPT0wJiYoaD11KSxoPm8mJihkLm5hbWU9ZS5zdWJzdHIobyxoLW8pKSxuLm5vZGUucHVzaChkKSx1fWZ1bmN0aW9uIGtuX3BhcnNlKGUpe3ZhciB0PW5ldyBBcnJheSxuPW5ldyBPYmplY3Q7bi5lcnJvcj1uLm5fdGlwcz0wLG4ubm9kZT1uZXcgQXJyYXk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDspe2Zvcig7YTxlLmxlbmd0aCYmKGUuY2hhckF0KGEpPCIhInx8ZS5jaGFyQXQoYSk+In4iKTspKythO2lmKGE9PWUubGVuZ3RoKWJyZWFrO3ZhciB1PWUuY2hhckF0KGEpO2lmKHU9PSIsIikrK2E7ZWxzZSBpZih1PT0iKCIpdC5wdXNoKC0xKSwrK2E7ZWxzZSBpZih1PT0iKSIpe2xldCBvLGgsZDtmb3Iobz1uLm5vZGUubGVuZ3RoLGQ9dC5sZW5ndGgtMTtkPj0wJiYhKHRbZF08MCk7LS1kKTtpZihkPDApe24uZXJyb3J8PTE7YnJlYWt9Zm9yKGg9dC5sZW5ndGgtMS1kLGE9a25fYWRkX25vZGUoZSxhKzEsbiksZD10Lmxlbmd0aC0xLGg9aC0xO2g+PTA7LS1oLC0tZCluLm5vZGVbb10uY2hpbGRbaF09bi5ub2RlW3RbZF1dLG4ubm9kZVt0W2RdXS5wYXJlbnQ9bi5ub2RlW29dO3QubGVuZ3RoPWQsdC5wdXNoKG8pfWVsc2UrK24ubl90aXBzLHQucHVzaChuLm5vZGUubGVuZ3RoKSxhPWtuX2FkZF9ub2RlKGUsYSxuKX1yZXR1cm4gdC5sZW5ndGg+MSYmKG4uZXJyb3J8PTIpLG4ucm9vdD1uLm5vZGVbbi5ub2RlLmxlbmd0aC0xXSxufWZ1bmN0aW9uIGtuX2V4cGFuZF9ub2RlKGUpe3ZhciB0LG47Zm9yKHQ9bmV3IEFycmF5LG49bmV3IEFycmF5LG4ucHVzaCh7cDplLGk6MH0pOzspe2Zvcig7bltuLmxlbmd0aC0xXS5pIT1uW24ubGVuZ3RoLTFdLnAuY2hpbGQubGVuZ3RoJiYhbltuLmxlbmd0aC0xXS5wLmhpZGRlbjspe3ZhciBhPW5bbi5sZW5ndGgtMV07bi5wdXNoKHtwOmEucC5jaGlsZFthLmldLGk6MH0pfWlmKHQucHVzaChuLnBvcCgpLnApLG4ubGVuZ3RoPjApKytuW24ubGVuZ3RoLTFdLmk7ZWxzZSBicmVha31yZXR1cm4gdH1mdW5jdGlvbiBrbl9jYWx4eShlLHQpe3ZhciBuLGE7YT1lLm5fdGlwcy0xO2ZvcihsZXQgaD1uPTA7aDxlLm5vZGUubGVuZ3RoOysraCl7dmFyIHU9ZS5ub2RlW2hdO3UueT11LmNoaWxkLmxlbmd0aCYmIXUuaGlkZGVuPyh1LmNoaWxkWzBdLnkrdS5jaGlsZFt1LmNoaWxkLmxlbmd0aC0xXS55KS8yOm4rKy9hLHUuY2hpbGQubGVuZ3RoPT0wP3UubWlueT11Lm1heHk9dS55Oih1Lm1pbnk9dS5jaGlsZFswXS5taW55LHUubWF4eT11LmNoaWxkW3UuY2hpbGQubGVuZ3RoLTFdLm1heHkpfWlmKHQpe3ZhciBvPWUubm9kZVtlLm5vZGUubGVuZ3RoLTFdO2E9by54PW8uZD49MD9vLmQ6MDtmb3IobGV0IGg9ZS5ub2RlLmxlbmd0aC0yO2g+PTA7LS1oKXt2YXIgdT1lLm5vZGVbaF07dS54PXUucGFyZW50LngrKHUuZD49MD91LmQ6MCksdS54PmEmJihhPXUueCl9YT09MCYmKHQ9ITEpfWlmKCF0KXthPWUubm9kZVtlLm5vZGUubGVuZ3RoLTFdLng9MTtmb3IobGV0IGg9ZS5ub2RlLmxlbmd0aC0yO2g+PTA7LS1oKXt2YXIgdT1lLm5vZGVbaF07dS54PXUucGFyZW50LngrMSx1Lng+YSYmKGE9dS54KX1mb3IobGV0IGg9MDtoPGUubm9kZS5sZW5ndGgtMTsrK2gpZS5ub2RlW2hdLmNoaWxkLmxlbmd0aD09MCYmKGUubm9kZVtoXS54PWEpfWZvcihsZXQgaD0wO2g8ZS5ub2RlLmxlbmd0aDsrK2gpZS5ub2RlW2hdLngvPWE7cmV0dXJuIHR9dmFyIGRlZmxhdGUkMj17fSxzdHJpbmdzJDI9e30sdXRpbHMkND1jb21tb24sU1RSX0FQUExZX09LPSEwLFNUUl9BUFBMWV9VSUFfT0s9ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxbMF0pfWNhdGNoKGUpe1NUUl9BUFBMWV9PSz0hMX10cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKX1jYXRjaChlKXtTVFJfQVBQTFlfVUlBX09LPSExfWZvcih2YXIgX3V0ZjhsZW49bmV3IHV0aWxzJDQuQnVmOCgyNTYpLHE9MDtxPDI1NjtxKyspX3V0ZjhsZW5bcV09cT49MjUyPzY6cT49MjQ4PzU6cT49MjQwPzQ6cT49MjI0PzM6cT49MTkyPzI6MTtfdXRmOGxlblsyNTRdPV91dGY4bGVuWzI1NF09MSxzdHJpbmdzJDIuc3RyaW5nMmJ1Zj1mdW5jdGlvbihlKXt2YXIgdCxuLGEsdSxvLGg9ZS5sZW5ndGgsZD0wO2Zvcih1PTA7dTxoO3UrKyluPWUuY2hhckNvZGVBdCh1KSwobiY2NDUxMik9PT01NTI5NiYmdSsxPGgmJihhPWUuY2hhckNvZGVBdCh1KzEpLChhJjY0NTEyKT09PTU2MzIwJiYobj02NTUzNisobi01NTI5Njw8MTApKyhhLTU2MzIwKSx1KyspKSxkKz1uPDEyOD8xOm48MjA0OD8yOm48NjU1MzY/Mzo0O2Zvcih0PW5ldyB1dGlscyQ0LkJ1ZjgoZCksbz0wLHU9MDtvPGQ7dSsrKW49ZS5jaGFyQ29kZUF0KHUpLChuJjY0NTEyKT09PTU1Mjk2JiZ1KzE8aCYmKGE9ZS5jaGFyQ29kZUF0KHUrMSksKGEmNjQ1MTIpPT09NTYzMjAmJihuPTY1NTM2KyhuLTU1Mjk2PDwxMCkrKGEtNTYzMjApLHUrKykpLG48MTI4P3RbbysrXT1uOm48MjA0OD8odFtvKytdPTE5MnxuPj4+Nix0W28rK109MTI4fG4mNjMpOm48NjU1MzY/KHRbbysrXT0yMjR8bj4+PjEyLHRbbysrXT0xMjh8bj4+PjYmNjMsdFtvKytdPTEyOHxuJjYzKToodFtvKytdPTI0MHxuPj4+MTgsdFtvKytdPTEyOHxuPj4+MTImNjMsdFtvKytdPTEyOHxuPj4+NiY2Myx0W28rK109MTI4fG4mNjMpO3JldHVybiB0fTtmdW5jdGlvbiBidWYyYmluc3RyaW5nKGUsdCl7aWYodDw2NTUzNCYmKGUuc3ViYXJyYXkmJlNUUl9BUFBMWV9VSUFfT0t8fCFlLnN1YmFycmF5JiZTVFJfQVBQTFlfT0spKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdXRpbHMkNC5zaHJpbmtCdWYoZSx0KSk7Zm9yKHZhciBuPSIiLGE9MDthPHQ7YSsrKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoZVthXSk7cmV0dXJuIG59c3RyaW5ncyQyLmJ1ZjJiaW5zdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGJ1ZjJiaW5zdHJpbmcoZSxlLmxlbmd0aCl9LHN0cmluZ3MkMi5iaW5zdHJpbmcyYnVmPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgdXRpbHMkNC5CdWY4KGUubGVuZ3RoKSxuPTAsYT10Lmxlbmd0aDtuPGE7bisrKXRbbl09ZS5jaGFyQ29kZUF0KG4pO3JldHVybiB0fSxzdHJpbmdzJDIuYnVmMnN0cmluZz1mdW5jdGlvbihlLHQpe3ZhciBuLGEsdSxvLGg9dHx8ZS5sZW5ndGgsZD1uZXcgQXJyYXkoaCoyKTtmb3IoYT0wLG49MDtuPGg7KXtpZih1PWVbbisrXSx1PDEyOCl7ZFthKytdPXU7Y29udGludWV9aWYobz1fdXRmOGxlblt1XSxvPjQpe2RbYSsrXT02NTUzMyxuKz1vLTE7Y29udGludWV9Zm9yKHUmPW89PT0yPzMxOm89PT0zPzE1Ojc7bz4xJiZuPGg7KXU9dTw8NnxlW24rK10mNjMsby0tO2lmKG8+MSl7ZFthKytdPTY1NTMzO2NvbnRpbnVlfXU8NjU1MzY/ZFthKytdPXU6KHUtPTY1NTM2LGRbYSsrXT01NTI5Nnx1Pj4xMCYxMDIzLGRbYSsrXT01NjMyMHx1JjEwMjMpfXJldHVybiBidWYyYmluc3RyaW5nKGQsYSl9LHN0cmluZ3MkMi51dGY4Ym9yZGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG47Zm9yKHQ9dHx8ZS5sZW5ndGgsdD5lLmxlbmd0aCYmKHQ9ZS5sZW5ndGgpLG49dC0xO24+PTAmJihlW25dJjE5Mik9PT0xMjg7KW4tLTtyZXR1cm4gbjwwfHxuPT09MD90Om4rX3V0ZjhsZW5bZVtuXV0+dD9uOnR9O3ZhciB6bGliX2RlZmxhdGU9ZGVmbGF0ZSQ0LHV0aWxzJDM9Y29tbW9uLHN0cmluZ3MkMT1zdHJpbmdzJDIsbXNnJDE9bWVzc2FnZXMsWlN0cmVhbSQxPXpzdHJlYW0sdG9TdHJpbmckMj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFpfTk9fRkxVU0g9MCxaX0ZJTklTSD00LFpfT0s9MCxaX1NUUkVBTV9FTkQ9MSxaX1NZTkNfRkxVU0g9MixaX0RFRkFVTFRfQ09NUFJFU1NJT049LTEsWl9ERUZBVUxUX1NUUkFURUdZPTAsWl9ERUZMQVRFRD04O2Z1bmN0aW9uIERlZmxhdGUoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgRGVmbGF0ZSkpcmV0dXJuIG5ldyBEZWZsYXRlKGUpO3RoaXMub3B0aW9ucz11dGlscyQzLmFzc2lnbih7bGV2ZWw6Wl9ERUZBVUxUX0NPTVBSRVNTSU9OLG1ldGhvZDpaX0RFRkxBVEVELGNodW5rU2l6ZToxNjM4NCx3aW5kb3dCaXRzOjE1LG1lbUxldmVsOjgsc3RyYXRlZ3k6Wl9ERUZBVUxUX1NUUkFURUdZLHRvOiIifSxlfHx7fSk7dmFyIHQ9dGhpcy5vcHRpb25zO3QucmF3JiZ0LndpbmRvd0JpdHM+MD90LndpbmRvd0JpdHM9LXQud2luZG93Qml0czp0Lmd6aXAmJnQud2luZG93Qml0cz4wJiZ0LndpbmRvd0JpdHM8MTYmJih0LndpbmRvd0JpdHMrPTE2KSx0aGlzLmVycj0wLHRoaXMubXNnPSIiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBaU3RyZWFtJDEsdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBuPXpsaWJfZGVmbGF0ZS5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLHQubGV2ZWwsdC5tZXRob2QsdC53aW5kb3dCaXRzLHQubWVtTGV2ZWwsdC5zdHJhdGVneSk7aWYobiE9PVpfT0spdGhyb3cgbmV3IEVycm9yKG1zZyQxW25dKTtpZih0LmhlYWRlciYmemxpYl9kZWZsYXRlLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLHQuaGVhZGVyKSx0LmRpY3Rpb25hcnkpe3ZhciBhO2lmKHR5cGVvZiB0LmRpY3Rpb25hcnk9PSJzdHJpbmciP2E9c3RyaW5ncyQxLnN0cmluZzJidWYodC5kaWN0aW9uYXJ5KTp0b1N0cmluZyQyLmNhbGwodC5kaWN0aW9uYXJ5KT09PSJbb2JqZWN0IEFycmF5QnVmZmVyXSI/YT1uZXcgVWludDhBcnJheSh0LmRpY3Rpb25hcnkpOmE9dC5kaWN0aW9uYXJ5LG49emxpYl9kZWZsYXRlLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxhKSxuIT09Wl9PSyl0aHJvdyBuZXcgRXJyb3IobXNnJDFbbl0pO3RoaXMuX2RpY3Rfc2V0PSEwfX1EZWZsYXRlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zdHJtLGE9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSx1LG87aWYodGhpcy5lbmRlZClyZXR1cm4hMTtvPXQ9PT1+fnQ/dDp0PT09ITA/Wl9GSU5JU0g6Wl9OT19GTFVTSCx0eXBlb2YgZT09InN0cmluZyI/bi5pbnB1dD1zdHJpbmdzJDEuc3RyaW5nMmJ1ZihlKTp0b1N0cmluZyQyLmNhbGwoZSk9PT0iW29iamVjdCBBcnJheUJ1ZmZlcl0iP24uaW5wdXQ9bmV3IFVpbnQ4QXJyYXkoZSk6bi5pbnB1dD1lLG4ubmV4dF9pbj0wLG4uYXZhaWxfaW49bi5pbnB1dC5sZW5ndGg7ZG97aWYobi5hdmFpbF9vdXQ9PT0wJiYobi5vdXRwdXQ9bmV3IHV0aWxzJDMuQnVmOChhKSxuLm5leHRfb3V0PTAsbi5hdmFpbF9vdXQ9YSksdT16bGliX2RlZmxhdGUuZGVmbGF0ZShuLG8pLHUhPT1aX1NUUkVBTV9FTkQmJnUhPT1aX09LKXJldHVybiB0aGlzLm9uRW5kKHUpLHRoaXMuZW5kZWQ9ITAsITE7KG4uYXZhaWxfb3V0PT09MHx8bi5hdmFpbF9pbj09PTAmJihvPT09Wl9GSU5JU0h8fG89PT1aX1NZTkNfRkxVU0gpKSYmKHRoaXMub3B0aW9ucy50bz09PSJzdHJpbmciP3RoaXMub25EYXRhKHN0cmluZ3MkMS5idWYyYmluc3RyaW5nKHV0aWxzJDMuc2hyaW5rQnVmKG4ub3V0cHV0LG4ubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEodXRpbHMkMy5zaHJpbmtCdWYobi5vdXRwdXQsbi5uZXh0X291dCkpKX13aGlsZSgobi5hdmFpbF9pbj4wfHxuLmF2YWlsX291dD09PTApJiZ1IT09Wl9TVFJFQU1fRU5EKTtyZXR1cm4gbz09PVpfRklOSVNIPyh1PXpsaWJfZGVmbGF0ZS5kZWZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZCh1KSx0aGlzLmVuZGVkPSEwLHU9PT1aX09LKToobz09PVpfU1lOQ19GTFVTSCYmKHRoaXMub25FbmQoWl9PSyksbi5hdmFpbF9vdXQ9MCksITApfSxEZWZsYXRlLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0sRGVmbGF0ZS5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oZSl7ZT09PVpfT0smJih0aGlzLm9wdGlvbnMudG89PT0ic3RyaW5nIj90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKCIiKTp0aGlzLnJlc3VsdD11dGlscyQzLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1lLHRoaXMubXNnPXRoaXMuc3RybS5tc2d9O2Z1bmN0aW9uIGRlZmxhdGUkMShlLHQpe3ZhciBuPW5ldyBEZWZsYXRlKHQpO2lmKG4ucHVzaChlLCEwKSxuLmVycil0aHJvdyBuLm1zZ3x8bXNnJDFbbi5lcnJdO3JldHVybiBuLnJlc3VsdH1mdW5jdGlvbiBkZWZsYXRlUmF3KGUsdCl7cmV0dXJuIHQ9dHx8e30sdC5yYXc9ITAsZGVmbGF0ZSQxKGUsdCl9ZnVuY3Rpb24gZ3ppcChlLHQpe3JldHVybiB0PXR8fHt9LHQuZ3ppcD0hMCxkZWZsYXRlJDEoZSx0KX1kZWZsYXRlJDIuRGVmbGF0ZT1EZWZsYXRlLGRlZmxhdGUkMi5kZWZsYXRlPWRlZmxhdGUkMSxkZWZsYXRlJDIuZGVmbGF0ZVJhdz1kZWZsYXRlUmF3LGRlZmxhdGUkMi5nemlwPWd6aXA7dmFyIGluZmxhdGUkMj17fTtmdW5jdGlvbiBHWmhlYWRlciQxKCl7dGhpcy50ZXh0PTAsdGhpcy50aW1lPTAsdGhpcy54ZmxhZ3M9MCx0aGlzLm9zPTAsdGhpcy5leHRyYT1udWxsLHRoaXMuZXh0cmFfbGVuPTAsdGhpcy5uYW1lPSIiLHRoaXMuY29tbWVudD0iIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9dmFyIGd6aGVhZGVyPUdaaGVhZGVyJDEsemxpYl9pbmZsYXRlPWluZmxhdGUkNCx1dGlscyQyPWNvbW1vbixzdHJpbmdzPXN0cmluZ3MkMixjPWNvbnN0YW50cyQxLG1zZz1tZXNzYWdlcyxaU3RyZWFtPXpzdHJlYW0sR1poZWFkZXI9Z3poZWFkZXIsdG9TdHJpbmckMT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIEluZmxhdGUoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgSW5mbGF0ZSkpcmV0dXJuIG5ldyBJbmZsYXRlKGUpO3RoaXMub3B0aW9ucz11dGlscyQyLmFzc2lnbih7Y2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MCx0bzoiIn0sZXx8e30pO3ZhciB0PXRoaXMub3B0aW9uczt0LnJhdyYmdC53aW5kb3dCaXRzPj0wJiZ0LndpbmRvd0JpdHM8MTYmJih0LndpbmRvd0JpdHM9LXQud2luZG93Qml0cyx0LndpbmRvd0JpdHM9PT0wJiYodC53aW5kb3dCaXRzPS0xNSkpLHQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2JiYhKGUmJmUud2luZG93Qml0cykmJih0LndpbmRvd0JpdHMrPTMyKSx0LndpbmRvd0JpdHM+MTUmJnQud2luZG93Qml0czw0OCYmKHQud2luZG93Qml0cyYxNXx8KHQud2luZG93Qml0c3w9MTUpKSx0aGlzLmVycj0wLHRoaXMubXNnPSIiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBaU3RyZWFtLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDt2YXIgbj16bGliX2luZmxhdGUuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSx0LndpbmRvd0JpdHMpO2lmKG4hPT1jLlpfT0spdGhyb3cgbmV3IEVycm9yKG1zZ1tuXSk7aWYodGhpcy5oZWFkZXI9bmV3IEdaaGVhZGVyLHpsaWJfaW5mbGF0ZS5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlciksdC5kaWN0aW9uYXJ5JiYodHlwZW9mIHQuZGljdGlvbmFyeT09InN0cmluZyI/dC5kaWN0aW9uYXJ5PXN0cmluZ3Muc3RyaW5nMmJ1Zih0LmRpY3Rpb25hcnkpOnRvU3RyaW5nJDEuY2FsbCh0LmRpY3Rpb25hcnkpPT09IltvYmplY3QgQXJyYXlCdWZmZXJdIiYmKHQuZGljdGlvbmFyeT1uZXcgVWludDhBcnJheSh0LmRpY3Rpb25hcnkpKSx0LnJhdyYmKG49emxpYl9pbmZsYXRlLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSx0LmRpY3Rpb25hcnkpLG4hPT1jLlpfT0spKSl0aHJvdyBuZXcgRXJyb3IobXNnW25dKX1JbmZsYXRlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zdHJtLGE9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSx1PXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LG8saCxkLHcsXyxiPSExO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7aD10PT09fn50P3Q6dD09PSEwP2MuWl9GSU5JU0g6Yy5aX05PX0ZMVVNILHR5cGVvZiBlPT0ic3RyaW5nIj9uLmlucHV0PXN0cmluZ3MuYmluc3RyaW5nMmJ1ZihlKTp0b1N0cmluZyQxLmNhbGwoZSk9PT0iW29iamVjdCBBcnJheUJ1ZmZlcl0iP24uaW5wdXQ9bmV3IFVpbnQ4QXJyYXkoZSk6bi5pbnB1dD1lLG4ubmV4dF9pbj0wLG4uYXZhaWxfaW49bi5pbnB1dC5sZW5ndGg7ZG97aWYobi5hdmFpbF9vdXQ9PT0wJiYobi5vdXRwdXQ9bmV3IHV0aWxzJDIuQnVmOChhKSxuLm5leHRfb3V0PTAsbi5hdmFpbF9vdXQ9YSksbz16bGliX2luZmxhdGUuaW5mbGF0ZShuLGMuWl9OT19GTFVTSCksbz09PWMuWl9ORUVEX0RJQ1QmJnUmJihvPXpsaWJfaW5mbGF0ZS5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sdSkpLG89PT1jLlpfQlVGX0VSUk9SJiZiPT09ITAmJihvPWMuWl9PSyxiPSExKSxvIT09Yy5aX1NUUkVBTV9FTkQmJm8hPT1jLlpfT0spcmV0dXJuIHRoaXMub25FbmQobyksdGhpcy5lbmRlZD0hMCwhMTtuLm5leHRfb3V0JiYobi5hdmFpbF9vdXQ9PT0wfHxvPT09Yy5aX1NUUkVBTV9FTkR8fG4uYXZhaWxfaW49PT0wJiYoaD09PWMuWl9GSU5JU0h8fGg9PT1jLlpfU1lOQ19GTFVTSCkpJiYodGhpcy5vcHRpb25zLnRvPT09InN0cmluZyI/KGQ9c3RyaW5ncy51dGY4Ym9yZGVyKG4ub3V0cHV0LG4ubmV4dF9vdXQpLHc9bi5uZXh0X291dC1kLF89c3RyaW5ncy5idWYyc3RyaW5nKG4ub3V0cHV0LGQpLG4ubmV4dF9vdXQ9dyxuLmF2YWlsX291dD1hLXcsdyYmdXRpbHMkMi5hcnJheVNldChuLm91dHB1dCxuLm91dHB1dCxkLHcsMCksdGhpcy5vbkRhdGEoXykpOnRoaXMub25EYXRhKHV0aWxzJDIuc2hyaW5rQnVmKG4ub3V0cHV0LG4ubmV4dF9vdXQpKSksbi5hdmFpbF9pbj09PTAmJm4uYXZhaWxfb3V0PT09MCYmKGI9ITApfXdoaWxlKChuLmF2YWlsX2luPjB8fG4uYXZhaWxfb3V0PT09MCkmJm8hPT1jLlpfU1RSRUFNX0VORCk7cmV0dXJuIG89PT1jLlpfU1RSRUFNX0VORCYmKGg9Yy5aX0ZJTklTSCksaD09PWMuWl9GSU5JU0g/KG89emxpYl9pbmZsYXRlLmluZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKG8pLHRoaXMuZW5kZWQ9ITAsbz09PWMuWl9PSyk6KGg9PT1jLlpfU1lOQ19GTFVTSCYmKHRoaXMub25FbmQoYy5aX09LKSxuLmF2YWlsX291dD0wKSwhMCl9LEluZmxhdGUucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNodW5rcy5wdXNoKGUpfSxJbmZsYXRlLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihlKXtlPT09Yy5aX09LJiYodGhpcy5vcHRpb25zLnRvPT09InN0cmluZyI/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbigiIik6dGhpcy5yZXN1bHQ9dXRpbHMkMi5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTtmdW5jdGlvbiBpbmZsYXRlJDEoZSx0KXt2YXIgbj1uZXcgSW5mbGF0ZSh0KTtpZihuLnB1c2goZSwhMCksbi5lcnIpdGhyb3cgbi5tc2d8fG1zZ1tuLmVycl07cmV0dXJuIG4ucmVzdWx0fWZ1bmN0aW9uIGluZmxhdGVSYXcoZSx0KXtyZXR1cm4gdD10fHx7fSx0LnJhdz0hMCxpbmZsYXRlJDEoZSx0KX1pbmZsYXRlJDIuSW5mbGF0ZT1JbmZsYXRlLGluZmxhdGUkMi5pbmZsYXRlPWluZmxhdGUkMSxpbmZsYXRlJDIuaW5mbGF0ZVJhdz1pbmZsYXRlUmF3LGluZmxhdGUkMi51bmd6aXA9aW5mbGF0ZSQxO3ZhciBhc3NpZ249Y29tbW9uLmFzc2lnbixkZWZsYXRlPWRlZmxhdGUkMixpbmZsYXRlPWluZmxhdGUkMixjb25zdGFudHM9Y29uc3RhbnRzJDEscGFrbz17fTthc3NpZ24ocGFrbyxkZWZsYXRlLGluZmxhdGUsY29uc3RhbnRzKTt2YXIgcGFrb18xPXBha28scGFrbyQxPWdldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHBha29fMSk7ZnVuY3Rpb24gYmluZChlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19Y29uc3R7dG9TdHJpbmd9PU9iamVjdC5wcm90b3R5cGUse2dldFByb3RvdHlwZU9mfT1PYmplY3Qsa2luZE9mPShlPT50PT57Y29uc3Qgbj10b1N0cmluZy5jYWxsKHQpO3JldHVybiBlW25dfHwoZVtuXT1uLnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkpfSkoT2JqZWN0LmNyZWF0ZShudWxsKSksa2luZE9mVGVzdD1lPT4oZT1lLnRvTG93ZXJDYXNlKCksdD0+a2luZE9mKHQpPT09ZSksdHlwZU9mVGVzdD1lPT50PT50eXBlb2YgdD09PWUse2lzQXJyYXl9PUFycmF5LGlzVW5kZWZpbmVkPXR5cGVPZlRlc3QoInVuZGVmaW5lZCIpO2Z1bmN0aW9uIGlzQnVmZmVyKGUpe3JldHVybiBlIT09bnVsbCYmIWlzVW5kZWZpbmVkKGUpJiZlLmNvbnN0cnVjdG9yIT09bnVsbCYmIWlzVW5kZWZpbmVkKGUuY29uc3RydWN0b3IpJiZpc0Z1bmN0aW9uKGUuY29uc3RydWN0b3IuaXNCdWZmZXIpJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpfWNvbnN0IGlzQXJyYXlCdWZmZXI9a2luZE9mVGVzdCgiQXJyYXlCdWZmZXIiKTtmdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyhlKXtsZXQgdDtyZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyPCJ1IiYmQXJyYXlCdWZmZXIuaXNWaWV3P3Q9QXJyYXlCdWZmZXIuaXNWaWV3KGUpOnQ9ZSYmZS5idWZmZXImJmlzQXJyYXlCdWZmZXIoZS5idWZmZXIpLHR9Y29uc3QgaXNTdHJpbmc9dHlwZU9mVGVzdCgic3RyaW5nIiksaXNGdW5jdGlvbj10eXBlT2ZUZXN0KCJmdW5jdGlvbiIpLGlzTnVtYmVyPXR5cGVPZlRlc3QoIm51bWJlciIpLGlzT2JqZWN0PWU9PmUhPT1udWxsJiZ0eXBlb2YgZT09Im9iamVjdCIsaXNCb29sZWFuPWU9PmU9PT0hMHx8ZT09PSExLGlzUGxhaW5PYmplY3Q9ZT0+e2lmKGtpbmRPZihlKSE9PSJvYmplY3QiKXJldHVybiExO2NvbnN0IHQ9Z2V0UHJvdG90eXBlT2YoZSk7cmV0dXJuKHQ9PT1udWxsfHx0PT09T2JqZWN0LnByb3RvdHlwZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT09bnVsbCkmJiEoU3ltYm9sLnRvU3RyaW5nVGFnIGluIGUpJiYhKFN5bWJvbC5pdGVyYXRvciBpbiBlKX0saXNEYXRlPWtpbmRPZlRlc3QoIkRhdGUiKSxpc0ZpbGU9a2luZE9mVGVzdCgiRmlsZSIpLGlzQmxvYj1raW5kT2ZUZXN0KCJCbG9iIiksaXNGaWxlTGlzdD1raW5kT2ZUZXN0KCJGaWxlTGlzdCIpLGlzU3RyZWFtPWU9PmlzT2JqZWN0KGUpJiZpc0Z1bmN0aW9uKGUucGlwZSksaXNGb3JtRGF0YT1lPT57bGV0IHQ7cmV0dXJuIGUmJih0eXBlb2YgRm9ybURhdGE9PSJmdW5jdGlvbiImJmUgaW5zdGFuY2VvZiBGb3JtRGF0YXx8aXNGdW5jdGlvbihlLmFwcGVuZCkmJigodD1raW5kT2YoZSkpPT09ImZvcm1kYXRhInx8dD09PSJvYmplY3QiJiZpc0Z1bmN0aW9uKGUudG9TdHJpbmcpJiZlLnRvU3RyaW5nKCk9PT0iW29iamVjdCBGb3JtRGF0YV0iKSl9LGlzVVJMU2VhcmNoUGFyYW1zPWtpbmRPZlRlc3QoIlVSTFNlYXJjaFBhcmFtcyIpLFtpc1JlYWRhYmxlU3RyZWFtLGlzUmVxdWVzdCxpc1Jlc3BvbnNlLGlzSGVhZGVyc109WyJSZWFkYWJsZVN0cmVhbSIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIkhlYWRlcnMiXS5tYXAoa2luZE9mVGVzdCksdHJpbT1lPT5lLnRyaW0/ZS50cmltKCk6ZS5yZXBsYWNlKC9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZywiIik7ZnVuY3Rpb24gZm9yRWFjaChlLHQse2FsbE93bktleXM6bj0hMX09e30pe2lmKGU9PT1udWxsfHx0eXBlb2YgZT4idSIpcmV0dXJuO2xldCBhLHU7aWYodHlwZW9mIGUhPSJvYmplY3QiJiYoZT1bZV0pLGlzQXJyYXkoZSkpZm9yKGE9MCx1PWUubGVuZ3RoO2E8dTthKyspdC5jYWxsKG51bGwsZVthXSxhLGUpO2Vsc2V7Y29uc3Qgbz1uP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpOk9iamVjdC5rZXlzKGUpLGg9by5sZW5ndGg7bGV0IGQ7Zm9yKGE9MDthPGg7YSsrKWQ9b1thXSx0LmNhbGwobnVsbCxlW2RdLGQsZSl9fWZ1bmN0aW9uIGZpbmRLZXkoZSx0KXt0PXQudG9Mb3dlckNhc2UoKTtjb25zdCBuPU9iamVjdC5rZXlzKGUpO2xldCBhPW4ubGVuZ3RoLHU7Zm9yKDthLS0gPjA7KWlmKHU9blthXSx0PT09dS50b0xvd2VyQ2FzZSgpKXJldHVybiB1O3JldHVybiBudWxsfWNvbnN0IF9nbG9iYWw9KCgpPT50eXBlb2YgZ2xvYmFsVGhpczwidSI/Z2xvYmFsVGhpczp0eXBlb2Ygc2VsZjwidSI/c2VsZjp0eXBlb2Ygd2luZG93PCJ1Ij93aW5kb3c6X2dsb2JhbCQxKSgpLGlzQ29udGV4dERlZmluZWQ9ZT0+IWlzVW5kZWZpbmVkKGUpJiZlIT09X2dsb2JhbDtmdW5jdGlvbiBtZXJnZSgpe2NvbnN0e2Nhc2VsZXNzOmV9PWlzQ29udGV4dERlZmluZWQodGhpcykmJnRoaXN8fHt9LHQ9e30sbj0oYSx1KT0+e2NvbnN0IG89ZSYmZmluZEtleSh0LHUpfHx1O2lzUGxhaW5PYmplY3QodFtvXSkmJmlzUGxhaW5PYmplY3QoYSk/dFtvXT1tZXJnZSh0W29dLGEpOmlzUGxhaW5PYmplY3QoYSk/dFtvXT1tZXJnZSh7fSxhKTppc0FycmF5KGEpP3Rbb109YS5zbGljZSgpOnRbb109YX07Zm9yKGxldCBhPTAsdT1hcmd1bWVudHMubGVuZ3RoO2E8dTthKyspYXJndW1lbnRzW2FdJiZmb3JFYWNoKGFyZ3VtZW50c1thXSxuKTtyZXR1cm4gdH1jb25zdCBleHRlbmQ9KGUsdCxuLHthbGxPd25LZXlzOmF9PXt9KT0+KGZvckVhY2godCwodSxvKT0+e24mJmlzRnVuY3Rpb24odSk/ZVtvXT1iaW5kKHUsbik6ZVtvXT11fSx7YWxsT3duS2V5czphfSksZSksc3RyaXBCT009ZT0+KGUuY2hhckNvZGVBdCgwKT09PTY1Mjc5JiYoZT1lLnNsaWNlKDEpKSxlKSxpbmhlcml0cz0oZSx0LG4sYSk9PntlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLGEpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInN1cGVyIix7dmFsdWU6dC5wcm90b3R5cGV9KSxuJiZPYmplY3QuYXNzaWduKGUucHJvdG90eXBlLG4pfSx0b0ZsYXRPYmplY3Q9KGUsdCxuLGEpPT57bGV0IHUsbyxoO2NvbnN0IGQ9e307aWYodD10fHx7fSxlPT1udWxsKXJldHVybiB0O2Rve2Zvcih1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLG89dS5sZW5ndGg7by0tID4wOyloPXVbb10sKCFhfHxhKGgsZSx0KSkmJiFkW2hdJiYodFtoXT1lW2hdLGRbaF09ITApO2U9biE9PSExJiZnZXRQcm90b3R5cGVPZihlKX13aGlsZShlJiYoIW58fG4oZSx0KSkmJmUhPT1PYmplY3QucHJvdG90eXBlKTtyZXR1cm4gdH0sZW5kc1dpdGg9KGUsdCxuKT0+e2U9U3RyaW5nKGUpLChuPT09dm9pZCAwfHxuPmUubGVuZ3RoKSYmKG49ZS5sZW5ndGgpLG4tPXQubGVuZ3RoO2NvbnN0IGE9ZS5pbmRleE9mKHQsbik7cmV0dXJuIGEhPT0tMSYmYT09PW59LHRvQXJyYXk9ZT0+e2lmKCFlKXJldHVybiBudWxsO2lmKGlzQXJyYXkoZSkpcmV0dXJuIGU7bGV0IHQ9ZS5sZW5ndGg7aWYoIWlzTnVtYmVyKHQpKXJldHVybiBudWxsO2NvbnN0IG49bmV3IEFycmF5KHQpO2Zvcig7dC0tID4wOyluW3RdPWVbdF07cmV0dXJuIG59LGlzVHlwZWRBcnJheT0oZT0+dD0+ZSYmdCBpbnN0YW5jZW9mIGUpKHR5cGVvZiBVaW50OEFycmF5PCJ1IiYmZ2V0UHJvdG90eXBlT2YoVWludDhBcnJheSkpLGZvckVhY2hFbnRyeT0oZSx0KT0+e2NvbnN0IGE9KGUmJmVbU3ltYm9sLml0ZXJhdG9yXSkuY2FsbChlKTtsZXQgdTtmb3IoOyh1PWEubmV4dCgpKSYmIXUuZG9uZTspe2NvbnN0IG89dS52YWx1ZTt0LmNhbGwoZSxvWzBdLG9bMV0pfX0sbWF0Y2hBbGw9KGUsdCk9PntsZXQgbjtjb25zdCBhPVtdO2Zvcig7KG49ZS5leGVjKHQpKSE9PW51bGw7KWEucHVzaChuKTtyZXR1cm4gYX0saXNIVE1MRm9ybT1raW5kT2ZUZXN0KCJIVE1MRm9ybUVsZW1lbnQiKSx0b0NhbWVsQ2FzZT1lPT5lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXHNdKFthLXpcZF0pKFx3KikvZyxmdW5jdGlvbihuLGEsdSl7cmV0dXJuIGEudG9VcHBlckNhc2UoKSt1fSksaGFzT3duUHJvcGVydHk9KCh7aGFzT3duUHJvcGVydHk6ZX0pPT4odCxuKT0+ZS5jYWxsKHQsbikpKE9iamVjdC5wcm90b3R5cGUpLGlzUmVnRXhwPWtpbmRPZlRlc3QoIlJlZ0V4cCIpLHJlZHVjZURlc2NyaXB0b3JzPShlLHQpPT57Y29uc3Qgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhlKSxhPXt9O2ZvckVhY2gobiwodSxvKT0+e2xldCBoOyhoPXQodSxvLGUpKSE9PSExJiYoYVtvXT1ofHx1KX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsYSl9LGZyZWV6ZU1ldGhvZHM9ZT0+e3JlZHVjZURlc2NyaXB0b3JzKGUsKHQsbik9PntpZihpc0Z1bmN0aW9uKGUpJiZbImFyZ3VtZW50cyIsImNhbGxlciIsImNhbGxlZSJdLmluZGV4T2YobikhPT0tMSlyZXR1cm4hMTtjb25zdCBhPWVbbl07aWYoaXNGdW5jdGlvbihhKSl7aWYodC5lbnVtZXJhYmxlPSExLCJ3cml0YWJsZSJpbiB0KXt0LndyaXRhYmxlPSExO3JldHVybn10LnNldHx8KHQuc2V0PSgpPT57dGhyb3cgRXJyb3IoIkNhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kICciK24rIiciKX0pfX0pfSx0b09iamVjdFNldD0oZSx0KT0+e2NvbnN0IG49e30sYT11PT57dS5mb3JFYWNoKG89PntuW29dPSEwfSl9O3JldHVybiBpc0FycmF5KGUpP2EoZSk6YShTdHJpbmcoZSkuc3BsaXQodCkpLG59LG5vb3A9KCk9Pnt9LHRvRmluaXRlTnVtYmVyPShlLHQpPT5lIT1udWxsJiZOdW1iZXIuaXNGaW5pdGUoZT0rZSk/ZTp0LEFMUEhBPSJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsRElHSVQ9IjAxMjM0NTY3ODkiLEFMUEhBQkVUPXtESUdJVCxBTFBIQSxBTFBIQV9ESUdJVDpBTFBIQStBTFBIQS50b1VwcGVyQ2FzZSgpK0RJR0lUfSxnZW5lcmF0ZVN0cmluZz0oZT0xNix0PUFMUEhBQkVULkFMUEhBX0RJR0lUKT0+e2xldCBuPSIiO2NvbnN0e2xlbmd0aDphfT10O2Zvcig7ZS0tOyluKz10W01hdGgucmFuZG9tKCkqYXwwXTtyZXR1cm4gbn07ZnVuY3Rpb24gaXNTcGVjQ29tcGxpYW50Rm9ybShlKXtyZXR1cm4hIShlJiZpc0Z1bmN0aW9uKGUuYXBwZW5kKSYmZVtTeW1ib2wudG9TdHJpbmdUYWddPT09IkZvcm1EYXRhIiYmZVtTeW1ib2wuaXRlcmF0b3JdKX1jb25zdCB0b0pTT05PYmplY3Q9ZT0+e2NvbnN0IHQ9bmV3IEFycmF5KDEwKSxuPShhLHUpPT57aWYoaXNPYmplY3QoYSkpe2lmKHQuaW5kZXhPZihhKT49MClyZXR1cm47aWYoISgidG9KU09OImluIGEpKXt0W3VdPWE7Y29uc3Qgbz1pc0FycmF5KGEpP1tdOnt9O3JldHVybiBmb3JFYWNoKGEsKGgsZCk9Pntjb25zdCB3PW4oaCx1KzEpOyFpc1VuZGVmaW5lZCh3KSYmKG9bZF09dyl9KSx0W3VdPXZvaWQgMCxvfX1yZXR1cm4gYX07cmV0dXJuIG4oZSwwKX0saXNBc3luY0ZuPWtpbmRPZlRlc3QoIkFzeW5jRnVuY3Rpb24iKSxpc1RoZW5hYmxlPWU9PmUmJihpc09iamVjdChlKXx8aXNGdW5jdGlvbihlKSkmJmlzRnVuY3Rpb24oZS50aGVuKSYmaXNGdW5jdGlvbihlLmNhdGNoKSxfc2V0SW1tZWRpYXRlPSgoZSx0KT0+ZT9zZXRJbW1lZGlhdGU6dD8oKG4sYSk9PihfZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCh7c291cmNlOnUsZGF0YTpvfSk9Pnt1PT09X2dsb2JhbCYmbz09PW4mJmEubGVuZ3RoJiZhLnNoaWZ0KCkoKX0sITEpLHU9PnthLnB1c2godSksX2dsb2JhbC5wb3N0TWVzc2FnZShuLCIqIil9KSkoYGF4aW9zQCR7TWF0aC5yYW5kb20oKX1gLFtdKTpuPT5zZXRUaW1lb3V0KG4pKSh0eXBlb2Ygc2V0SW1tZWRpYXRlPT0iZnVuY3Rpb24iLGlzRnVuY3Rpb24oX2dsb2JhbC5wb3N0TWVzc2FnZSkpLGFzYXA9dHlwZW9mIHF1ZXVlTWljcm90YXNrPCJ1Ij9xdWV1ZU1pY3JvdGFzay5iaW5kKF9nbG9iYWwpOnR5cGVvZiBhcGkkMTwidSImJmFwaSQxLm5leHRUaWNrfHxfc2V0SW1tZWRpYXRlO3ZhciB1dGlscyQxPXtpc0FycmF5LGlzQXJyYXlCdWZmZXIsaXNCdWZmZXIsaXNGb3JtRGF0YSxpc0FycmF5QnVmZmVyVmlldyxpc1N0cmluZyxpc051bWJlcixpc0Jvb2xlYW4saXNPYmplY3QsaXNQbGFpbk9iamVjdCxpc1JlYWRhYmxlU3RyZWFtLGlzUmVxdWVzdCxpc1Jlc3BvbnNlLGlzSGVhZGVycyxpc1VuZGVmaW5lZCxpc0RhdGUsaXNGaWxlLGlzQmxvYixpc1JlZ0V4cCxpc0Z1bmN0aW9uLGlzU3RyZWFtLGlzVVJMU2VhcmNoUGFyYW1zLGlzVHlwZWRBcnJheSxpc0ZpbGVMaXN0LGZvckVhY2gsbWVyZ2UsZXh0ZW5kLHRyaW0sc3RyaXBCT00saW5oZXJpdHMsdG9GbGF0T2JqZWN0LGtpbmRPZixraW5kT2ZUZXN0LGVuZHNXaXRoLHRvQXJyYXksZm9yRWFjaEVudHJ5LG1hdGNoQWxsLGlzSFRNTEZvcm0saGFzT3duUHJvcGVydHksaGFzT3duUHJvcDpoYXNPd25Qcm9wZXJ0eSxyZWR1Y2VEZXNjcmlwdG9ycyxmcmVlemVNZXRob2RzLHRvT2JqZWN0U2V0LHRvQ2FtZWxDYXNlLG5vb3AsdG9GaW5pdGVOdW1iZXIsZmluZEtleSxnbG9iYWw6X2dsb2JhbCxpc0NvbnRleHREZWZpbmVkLEFMUEhBQkVULGdlbmVyYXRlU3RyaW5nLGlzU3BlY0NvbXBsaWFudEZvcm0sdG9KU09OT2JqZWN0LGlzQXN5bmNGbixpc1RoZW5hYmxlLHNldEltbWVkaWF0ZTpfc2V0SW1tZWRpYXRlLGFzYXB9O2Z1bmN0aW9uIEF4aW9zRXJyb3IoZSx0LG4sYSx1KXtFcnJvci5jYWxsKHRoaXMpLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlP0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3Rvcik6dGhpcy5zdGFjaz1uZXcgRXJyb3IoKS5zdGFjayx0aGlzLm1lc3NhZ2U9ZSx0aGlzLm5hbWU9IkF4aW9zRXJyb3IiLHQmJih0aGlzLmNvZGU9dCksbiYmKHRoaXMuY29uZmlnPW4pLGEmJih0aGlzLnJlcXVlc3Q9YSksdSYmKHRoaXMucmVzcG9uc2U9dSx0aGlzLnN0YXR1cz11LnN0YXR1cz91LnN0YXR1czpudWxsKX11dGlscyQxLmluaGVyaXRzKEF4aW9zRXJyb3IsRXJyb3Ise3RvSlNPTjpmdW5jdGlvbiBlKCl7cmV0dXJue21lc3NhZ2U6dGhpcy5tZXNzYWdlLG5hbWU6dGhpcy5uYW1lLGRlc2NyaXB0aW9uOnRoaXMuZGVzY3JpcHRpb24sbnVtYmVyOnRoaXMubnVtYmVyLGZpbGVOYW1lOnRoaXMuZmlsZU5hbWUsbGluZU51bWJlcjp0aGlzLmxpbmVOdW1iZXIsY29sdW1uTnVtYmVyOnRoaXMuY29sdW1uTnVtYmVyLHN0YWNrOnRoaXMuc3RhY2ssY29uZmlnOnV0aWxzJDEudG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5zdGF0dXN9fX0pO2NvbnN0IHByb3RvdHlwZSQxPUF4aW9zRXJyb3IucHJvdG90eXBlLGRlc2NyaXB0b3JzPXt9O1siRVJSX0JBRF9PUFRJT05fVkFMVUUiLCJFUlJfQkFEX09QVElPTiIsIkVDT05OQUJPUlRFRCIsIkVUSU1FRE9VVCIsIkVSUl9ORVRXT1JLIiwiRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUUyIsIkVSUl9ERVBSRUNBVEVEIiwiRVJSX0JBRF9SRVNQT05TRSIsIkVSUl9CQURfUkVRVUVTVCIsIkVSUl9DQU5DRUxFRCIsIkVSUl9OT1RfU1VQUE9SVCIsIkVSUl9JTlZBTElEX1VSTCJdLmZvckVhY2goZT0+e2Rlc2NyaXB0b3JzW2VdPXt2YWx1ZTplfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEF4aW9zRXJyb3IsZGVzY3JpcHRvcnMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUkMSwiaXNBeGlvc0Vycm9yIix7dmFsdWU6ITB9KSxBeGlvc0Vycm9yLmZyb209KGUsdCxuLGEsdSxvKT0+e2NvbnN0IGg9T2JqZWN0LmNyZWF0ZShwcm90b3R5cGUkMSk7cmV0dXJuIHV0aWxzJDEudG9GbGF0T2JqZWN0KGUsaCxmdW5jdGlvbih3KXtyZXR1cm4gdyE9PUVycm9yLnByb3RvdHlwZX0sZD0+ZCE9PSJpc0F4aW9zRXJyb3IiKSxBeGlvc0Vycm9yLmNhbGwoaCxlLm1lc3NhZ2UsdCxuLGEsdSksaC5jYXVzZT1lLGgubmFtZT1lLm5hbWUsbyYmT2JqZWN0LmFzc2lnbihoLG8pLGh9O3ZhciBodHRwQWRhcHRlcj1udWxsO2Z1bmN0aW9uIGlzVmlzaXRhYmxlKGUpe3JldHVybiB1dGlscyQxLmlzUGxhaW5PYmplY3QoZSl8fHV0aWxzJDEuaXNBcnJheShlKX1mdW5jdGlvbiByZW1vdmVCcmFja2V0cyhlKXtyZXR1cm4gdXRpbHMkMS5lbmRzV2l0aChlLCJbXSIpP2Uuc2xpY2UoMCwtMik6ZX1mdW5jdGlvbiByZW5kZXJLZXkoZSx0LG4pe3JldHVybiBlP2UuY29uY2F0KHQpLm1hcChmdW5jdGlvbih1LG8pe3JldHVybiB1PXJlbW92ZUJyYWNrZXRzKHUpLCFuJiZvPyJbIit1KyJdIjp1fSkuam9pbihuPyIuIjoiIik6dH1mdW5jdGlvbiBpc0ZsYXRBcnJheShlKXtyZXR1cm4gdXRpbHMkMS5pc0FycmF5KGUpJiYhZS5zb21lKGlzVmlzaXRhYmxlKX1jb25zdCBwcmVkaWNhdGVzPXV0aWxzJDEudG9GbGF0T2JqZWN0KHV0aWxzJDEse30sbnVsbCxmdW5jdGlvbiBlKHQpe3JldHVybi9eaXNbQS1aXS8udGVzdCh0KX0pO2Z1bmN0aW9uIHRvRm9ybURhdGEoZSx0LG4pe2lmKCF1dGlscyQxLmlzT2JqZWN0KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoInRhcmdldCBtdXN0IGJlIGFuIG9iamVjdCIpO3Q9dHx8bmV3IEZvcm1EYXRhLG49dXRpbHMkMS50b0ZsYXRPYmplY3Qobix7bWV0YVRva2VuczohMCxkb3RzOiExLGluZGV4ZXM6ITF9LCExLGZ1bmN0aW9uKEwseil7cmV0dXJuIXV0aWxzJDEuaXNVbmRlZmluZWQoeltMXSl9KTtjb25zdCBhPW4ubWV0YVRva2Vucyx1PW4udmlzaXRvcnx8YixvPW4uZG90cyxoPW4uaW5kZXhlcyx3PShuLkJsb2J8fHR5cGVvZiBCbG9iPCJ1IiYmQmxvYikmJnV0aWxzJDEuaXNTcGVjQ29tcGxpYW50Rm9ybSh0KTtpZighdXRpbHMkMS5pc0Z1bmN0aW9uKHUpKXRocm93IG5ldyBUeXBlRXJyb3IoInZpc2l0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uIik7ZnVuY3Rpb24gXyhQKXtpZihQPT09bnVsbClyZXR1cm4iIjtpZih1dGlscyQxLmlzRGF0ZShQKSlyZXR1cm4gUC50b0lTT1N0cmluZygpO2lmKCF3JiZ1dGlscyQxLmlzQmxvYihQKSl0aHJvdyBuZXcgQXhpb3NFcnJvcigiQmxvYiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYSBCdWZmZXIgaW5zdGVhZC4iKTtyZXR1cm4gdXRpbHMkMS5pc0FycmF5QnVmZmVyKFApfHx1dGlscyQxLmlzVHlwZWRBcnJheShQKT93JiZ0eXBlb2YgQmxvYj09ImZ1bmN0aW9uIj9uZXcgQmxvYihbUF0pOmJ1ZmZlciQyLkJ1ZmZlci5mcm9tKFApOlB9ZnVuY3Rpb24gYihQLEwseil7bGV0IEg9UDtpZihQJiYheiYmdHlwZW9mIFA9PSJvYmplY3QiKXtpZih1dGlscyQxLmVuZHNXaXRoKEwsInt9IikpTD1hP0w6TC5zbGljZSgwLC0yKSxQPUpTT04uc3RyaW5naWZ5KFApO2Vsc2UgaWYodXRpbHMkMS5pc0FycmF5KFApJiZpc0ZsYXRBcnJheShQKXx8KHV0aWxzJDEuaXNGaWxlTGlzdChQKXx8dXRpbHMkMS5lbmRzV2l0aChMLCJbXSIpKSYmKEg9dXRpbHMkMS50b0FycmF5KFApKSlyZXR1cm4gTD1yZW1vdmVCcmFja2V0cyhMKSxILmZvckVhY2goZnVuY3Rpb24oYWUsaWUpeyEodXRpbHMkMS5pc1VuZGVmaW5lZChhZSl8fGFlPT09bnVsbCkmJnQuYXBwZW5kKGg9PT0hMD9yZW5kZXJLZXkoW0xdLGllLG8pOmg9PT1udWxsP0w6TCsiW10iLF8oYWUpKX0pLCExfXJldHVybiBpc1Zpc2l0YWJsZShQKT8hMDoodC5hcHBlbmQocmVuZGVyS2V5KHosTCxvKSxfKFApKSwhMSl9Y29uc3QgTT1bXSxPPU9iamVjdC5hc3NpZ24ocHJlZGljYXRlcyx7ZGVmYXVsdFZpc2l0b3I6Yixjb252ZXJ0VmFsdWU6Xyxpc1Zpc2l0YWJsZX0pO2Z1bmN0aW9uIFQoUCxMKXtpZighdXRpbHMkMS5pc1VuZGVmaW5lZChQKSl7aWYoTS5pbmRleE9mKFApIT09LTEpdGhyb3cgRXJyb3IoIkNpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAiK0wuam9pbigiLiIpKTtNLnB1c2goUCksdXRpbHMkMS5mb3JFYWNoKFAsZnVuY3Rpb24oSCxWKXsoISh1dGlscyQxLmlzVW5kZWZpbmVkKEgpfHxIPT09bnVsbCkmJnUuY2FsbCh0LEgsdXRpbHMkMS5pc1N0cmluZyhWKT9WLnRyaW0oKTpWLEwsTykpPT09ITAmJlQoSCxMP0wuY29uY2F0KFYpOltWXSl9KSxNLnBvcCgpfX1pZighdXRpbHMkMS5pc09iamVjdChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJkYXRhIG11c3QgYmUgYW4gb2JqZWN0Iik7cmV0dXJuIFQoZSksdH1mdW5jdGlvbiBlbmNvZGUkMShlKXtjb25zdCB0PXsiISI6IiUyMSIsIiciOiIlMjciLCIoIjoiJTI4IiwiKSI6IiUyOSIsIn4iOiIlN0UiLCIlMjAiOiIrIiwiJTAwIjoiXDAifTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLGZ1bmN0aW9uKGEpe3JldHVybiB0W2FdfSl9ZnVuY3Rpb24gQXhpb3NVUkxTZWFyY2hQYXJhbXMoZSx0KXt0aGlzLl9wYWlycz1bXSxlJiZ0b0Zvcm1EYXRhKGUsdGhpcyx0KX1jb25zdCBwcm90b3R5cGU9QXhpb3NVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlO3Byb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24gZSh0LG4pe3RoaXMuX3BhaXJzLnB1c2goW3Qsbl0pfSxwcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24gZSh0KXtjb25zdCBuPXQ/ZnVuY3Rpb24oYSl7cmV0dXJuIHQuY2FsbCh0aGlzLGEsZW5jb2RlJDEpfTplbmNvZGUkMTtyZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uKHUpe3JldHVybiBuKHVbMF0pKyI9IituKHVbMV0pfSwiIikuam9pbigiJiIpfTtmdW5jdGlvbiBlbmNvZGUoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMjQvZywiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpLnJlcGxhY2UoLyUyMC9nLCIrIikucmVwbGFjZSgvJTVCL2dpLCJbIikucmVwbGFjZSgvJTVEL2dpLCJdIil9ZnVuY3Rpb24gYnVpbGRVUkwoZSx0LG4pe2lmKCF0KXJldHVybiBlO2NvbnN0IGE9biYmbi5lbmNvZGV8fGVuY29kZTt1dGlscyQxLmlzRnVuY3Rpb24obikmJihuPXtzZXJpYWxpemU6bn0pO2NvbnN0IHU9biYmbi5zZXJpYWxpemU7bGV0IG87aWYodT9vPXUodCxuKTpvPXV0aWxzJDEuaXNVUkxTZWFyY2hQYXJhbXModCk/dC50b1N0cmluZygpOm5ldyBBeGlvc1VSTFNlYXJjaFBhcmFtcyh0LG4pLnRvU3RyaW5nKGEpLG8pe2NvbnN0IGg9ZS5pbmRleE9mKCIjIik7aCE9PS0xJiYoZT1lLnNsaWNlKDAsaCkpLGUrPShlLmluZGV4T2YoIj8iKT09PS0xPyI/IjoiJiIpK299cmV0dXJuIGV9Y2xhc3MgSW50ZXJjZXB0b3JNYW5hZ2Vye2NvbnN0cnVjdG9yKCl7dGhpcy5oYW5kbGVycz1bXX11c2UodCxuLGEpe3JldHVybiB0aGlzLmhhbmRsZXJzLnB1c2goe2Z1bGZpbGxlZDp0LHJlamVjdGVkOm4sc3luY2hyb25vdXM6YT9hLnN5bmNocm9ub3VzOiExLHJ1bldoZW46YT9hLnJ1bldoZW46bnVsbH0pLHRoaXMuaGFuZGxlcnMubGVuZ3RoLTF9ZWplY3QodCl7dGhpcy5oYW5kbGVyc1t0XSYmKHRoaXMuaGFuZGxlcnNbdF09bnVsbCl9Y2xlYXIoKXt0aGlzLmhhbmRsZXJzJiYodGhpcy5oYW5kbGVycz1bXSl9Zm9yRWFjaCh0KXt1dGlscyQxLmZvckVhY2godGhpcy5oYW5kbGVycyxmdW5jdGlvbihhKXthIT09bnVsbCYmdChhKX0pfX12YXIgSW50ZXJjZXB0b3JNYW5hZ2VyJDE9SW50ZXJjZXB0b3JNYW5hZ2VyLHRyYW5zaXRpb25hbERlZmF1bHRzPXtzaWxlbnRKU09OUGFyc2luZzohMCxmb3JjZWRKU09OUGFyc2luZzohMCxjbGFyaWZ5VGltZW91dEVycm9yOiExfSxVUkxTZWFyY2hQYXJhbXMkMT10eXBlb2YgVVJMU2VhcmNoUGFyYW1zPCJ1Ij9VUkxTZWFyY2hQYXJhbXM6QXhpb3NVUkxTZWFyY2hQYXJhbXMsRm9ybURhdGEkMT10eXBlb2YgRm9ybURhdGE8InUiP0Zvcm1EYXRhOm51bGwsQmxvYiQxPXR5cGVvZiBCbG9iPCJ1Ij9CbG9iOm51bGwscGxhdGZvcm0kMT17aXNCcm93c2VyOiEwLGNsYXNzZXM6e1VSTFNlYXJjaFBhcmFtczpVUkxTZWFyY2hQYXJhbXMkMSxGb3JtRGF0YTpGb3JtRGF0YSQxLEJsb2I6QmxvYiQxfSxwcm90b2NvbHM6WyJodHRwIiwiaHR0cHMiLCJmaWxlIiwiYmxvYiIsInVybCIsImRhdGEiXX07Y29uc3QgaGFzQnJvd3NlckVudj10eXBlb2Ygd2luZG93PCJ1IiYmdHlwZW9mIGRvY3VtZW50PCJ1IixfbmF2aWdhdG9yPXR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3J8fHZvaWQgMCxoYXNTdGFuZGFyZEJyb3dzZXJFbnY9aGFzQnJvd3NlckVudiYmKCFfbmF2aWdhdG9yfHxbIlJlYWN0TmF0aXZlIiwiTmF0aXZlU2NyaXB0IiwiTlMiXS5pbmRleE9mKF9uYXZpZ2F0b3IucHJvZHVjdCk8MCksaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52PSgoKT0+dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlPCJ1IiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZ0eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iKSgpLG9yaWdpbj1oYXNCcm93c2VyRW52JiZ3aW5kb3cubG9jYXRpb24uaHJlZnx8Imh0dHA6Ly9sb2NhbGhvc3QiO3ZhciB1dGlscz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxoYXNCcm93c2VyRW52LGhhc1N0YW5kYXJkQnJvd3NlckVudixoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYsbmF2aWdhdG9yOl9uYXZpZ2F0b3Isb3JpZ2lufSkscGxhdGZvcm09ey4uLnV0aWxzLC4uLnBsYXRmb3JtJDF9O2Z1bmN0aW9uIHRvVVJMRW5jb2RlZEZvcm0oZSx0KXtyZXR1cm4gdG9Gb3JtRGF0YShlLG5ldyBwbGF0Zm9ybS5jbGFzc2VzLlVSTFNlYXJjaFBhcmFtcyxPYmplY3QuYXNzaWduKHt2aXNpdG9yOmZ1bmN0aW9uKG4sYSx1LG8pe3JldHVybiBwbGF0Zm9ybS5pc05vZGUmJnV0aWxzJDEuaXNCdWZmZXIobik/KHRoaXMuYXBwZW5kKGEsbi50b1N0cmluZygiYmFzZTY0IikpLCExKTpvLmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHQpKX1mdW5jdGlvbiBwYXJzZVByb3BQYXRoKGUpe3JldHVybiB1dGlscyQxLm1hdGNoQWxsKC9cdyt8XFsoXHcqKV0vZyxlKS5tYXAodD0+dFswXT09PSJbXSI/IiI6dFsxXXx8dFswXSl9ZnVuY3Rpb24gYXJyYXlUb09iamVjdChlKXtjb25zdCB0PXt9LG49T2JqZWN0LmtleXMoZSk7bGV0IGE7Y29uc3QgdT1uLmxlbmd0aDtsZXQgbztmb3IoYT0wO2E8dTthKyspbz1uW2FdLHRbb109ZVtvXTtyZXR1cm4gdH1mdW5jdGlvbiBmb3JtRGF0YVRvSlNPTihlKXtmdW5jdGlvbiB0KG4sYSx1LG8pe2xldCBoPW5bbysrXTtpZihoPT09Il9fcHJvdG9fXyIpcmV0dXJuITA7Y29uc3QgZD1OdW1iZXIuaXNGaW5pdGUoK2gpLHc9bz49bi5sZW5ndGg7cmV0dXJuIGg9IWgmJnV0aWxzJDEuaXNBcnJheSh1KT91Lmxlbmd0aDpoLHc/KHV0aWxzJDEuaGFzT3duUHJvcCh1LGgpP3VbaF09W3VbaF0sYV06dVtoXT1hLCFkKTooKCF1W2hdfHwhdXRpbHMkMS5pc09iamVjdCh1W2hdKSkmJih1W2hdPVtdKSx0KG4sYSx1W2hdLG8pJiZ1dGlscyQxLmlzQXJyYXkodVtoXSkmJih1W2hdPWFycmF5VG9PYmplY3QodVtoXSkpLCFkKX1pZih1dGlscyQxLmlzRm9ybURhdGEoZSkmJnV0aWxzJDEuaXNGdW5jdGlvbihlLmVudHJpZXMpKXtjb25zdCBuPXt9O3JldHVybiB1dGlscyQxLmZvckVhY2hFbnRyeShlLChhLHUpPT57dChwYXJzZVByb3BQYXRoKGEpLHUsbiwwKX0pLG59cmV0dXJuIG51bGx9ZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KGUsdCxuKXtpZih1dGlscyQxLmlzU3RyaW5nKGUpKXRyeXtyZXR1cm4odHx8SlNPTi5wYXJzZSkoZSksdXRpbHMkMS50cmltKGUpfWNhdGNoKGEpe2lmKGEubmFtZSE9PSJTeW50YXhFcnJvciIpdGhyb3cgYX1yZXR1cm4obnx8SlNPTi5zdHJpbmdpZnkpKGUpfWNvbnN0IGRlZmF1bHRzPXt0cmFuc2l0aW9uYWw6dHJhbnNpdGlvbmFsRGVmYXVsdHMsYWRhcHRlcjpbInhociIsImh0dHAiLCJmZXRjaCJdLHRyYW5zZm9ybVJlcXVlc3Q6W2Z1bmN0aW9uIGUodCxuKXtjb25zdCBhPW4uZ2V0Q29udGVudFR5cGUoKXx8IiIsdT1hLmluZGV4T2YoImFwcGxpY2F0aW9uL2pzb24iKT4tMSxvPXV0aWxzJDEuaXNPYmplY3QodCk7aWYobyYmdXRpbHMkMS5pc0hUTUxGb3JtKHQpJiYodD1uZXcgRm9ybURhdGEodCkpLHV0aWxzJDEuaXNGb3JtRGF0YSh0KSlyZXR1cm4gdT9KU09OLnN0cmluZ2lmeShmb3JtRGF0YVRvSlNPTih0KSk6dDtpZih1dGlscyQxLmlzQXJyYXlCdWZmZXIodCl8fHV0aWxzJDEuaXNCdWZmZXIodCl8fHV0aWxzJDEuaXNTdHJlYW0odCl8fHV0aWxzJDEuaXNGaWxlKHQpfHx1dGlscyQxLmlzQmxvYih0KXx8dXRpbHMkMS5pc1JlYWRhYmxlU3RyZWFtKHQpKXJldHVybiB0O2lmKHV0aWxzJDEuaXNBcnJheUJ1ZmZlclZpZXcodCkpcmV0dXJuIHQuYnVmZmVyO2lmKHV0aWxzJDEuaXNVUkxTZWFyY2hQYXJhbXModCkpcmV0dXJuIG4uc2V0Q29udGVudFR5cGUoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04IiwhMSksdC50b1N0cmluZygpO2xldCBkO2lmKG8pe2lmKGEuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIik+LTEpcmV0dXJuIHRvVVJMRW5jb2RlZEZvcm0odCx0aGlzLmZvcm1TZXJpYWxpemVyKS50b1N0cmluZygpO2lmKChkPXV0aWxzJDEuaXNGaWxlTGlzdCh0KSl8fGEuaW5kZXhPZigibXVsdGlwYXJ0L2Zvcm0tZGF0YSIpPi0xKXtjb25zdCB3PXRoaXMuZW52JiZ0aGlzLmVudi5Gb3JtRGF0YTtyZXR1cm4gdG9Gb3JtRGF0YShkP3siZmlsZXNbXSI6dH06dCx3JiZuZXcgdyx0aGlzLmZvcm1TZXJpYWxpemVyKX19cmV0dXJuIG98fHU/KG4uc2V0Q29udGVudFR5cGUoImFwcGxpY2F0aW9uL2pzb24iLCExKSxzdHJpbmdpZnlTYWZlbHkodCkpOnR9XSx0cmFuc2Zvcm1SZXNwb25zZTpbZnVuY3Rpb24gZSh0KXtjb25zdCBuPXRoaXMudHJhbnNpdGlvbmFsfHxkZWZhdWx0cy50cmFuc2l0aW9uYWwsYT1uJiZuLmZvcmNlZEpTT05QYXJzaW5nLHU9dGhpcy5yZXNwb25zZVR5cGU9PT0ianNvbiI7aWYodXRpbHMkMS5pc1Jlc3BvbnNlKHQpfHx1dGlscyQxLmlzUmVhZGFibGVTdHJlYW0odCkpcmV0dXJuIHQ7aWYodCYmdXRpbHMkMS5pc1N0cmluZyh0KSYmKGEmJiF0aGlzLnJlc3BvbnNlVHlwZXx8dSkpe2NvbnN0IGg9IShuJiZuLnNpbGVudEpTT05QYXJzaW5nKSYmdTt0cnl7cmV0dXJuIEpTT04ucGFyc2UodCl9Y2F0Y2goZCl7aWYoaCl0aHJvdyBkLm5hbWU9PT0iU3ludGF4RXJyb3IiP0F4aW9zRXJyb3IuZnJvbShkLEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRSx0aGlzLG51bGwsdGhpcy5yZXNwb25zZSk6ZH19cmV0dXJuIHR9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6IlhTUkYtVE9LRU4iLHhzcmZIZWFkZXJOYW1lOiJYLVhTUkYtVE9LRU4iLG1heENvbnRlbnRMZW5ndGg6LTEsbWF4Qm9keUxlbmd0aDotMSxlbnY6e0Zvcm1EYXRhOnBsYXRmb3JtLmNsYXNzZXMuRm9ybURhdGEsQmxvYjpwbGF0Zm9ybS5jbGFzc2VzLkJsb2J9LHZhbGlkYXRlU3RhdHVzOmZ1bmN0aW9uIGUodCl7cmV0dXJuIHQ+PTIwMCYmdDwzMDB9LGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyoiLCJDb250ZW50LVR5cGUiOnZvaWQgMH19fTt1dGlscyQxLmZvckVhY2goWyJkZWxldGUiLCJnZXQiLCJoZWFkIiwicG9zdCIsInB1dCIsInBhdGNoIl0sZT0+e2RlZmF1bHRzLmhlYWRlcnNbZV09e319KTt2YXIgZGVmYXVsdHMkMT1kZWZhdWx0cztjb25zdCBpZ25vcmVEdXBsaWNhdGVPZj11dGlscyQxLnRvT2JqZWN0U2V0KFsiYWdlIiwiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtbGVuZ3RoIiwiY29udGVudC10eXBlIiwiZXRhZyIsImV4cGlyZXMiLCJmcm9tIiwiaG9zdCIsImlmLW1vZGlmaWVkLXNpbmNlIiwiaWYtdW5tb2RpZmllZC1zaW5jZSIsImxhc3QtbW9kaWZpZWQiLCJsb2NhdGlvbiIsIm1heC1mb3J3YXJkcyIsInByb3h5LWF1dGhvcml6YXRpb24iLCJyZWZlcmVyIiwicmV0cnktYWZ0ZXIiLCJ1c2VyLWFnZW50Il0pO3ZhciBwYXJzZUhlYWRlcnM9ZT0+e2NvbnN0IHQ9e307bGV0IG4sYSx1O3JldHVybiBlJiZlLnNwbGl0KGAKYCkuZm9yRWFjaChmdW5jdGlvbihoKXt1PWguaW5kZXhPZigiOiIpLG49aC5zdWJzdHJpbmcoMCx1KS50cmltKCkudG9Mb3dlckNhc2UoKSxhPWguc3Vic3RyaW5nKHUrMSkudHJpbSgpLCEoIW58fHRbbl0mJmlnbm9yZUR1cGxpY2F0ZU9mW25dKSYmKG49PT0ic2V0LWNvb2tpZSI/dFtuXT90W25dLnB1c2goYSk6dFtuXT1bYV06dFtuXT10W25dP3Rbbl0rIiwgIithOmEpfSksdH07Y29uc3QgJGludGVybmFscz1TeW1ib2woImludGVybmFscyIpO2Z1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihlKXtyZXR1cm4gZSYmU3RyaW5nKGUpLnRyaW0oKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKGUpe3JldHVybiBlPT09ITF8fGU9PW51bGw/ZTp1dGlscyQxLmlzQXJyYXkoZSk/ZS5tYXAobm9ybWFsaXplVmFsdWUpOlN0cmluZyhlKX1mdW5jdGlvbiBwYXJzZVRva2VucyhlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCksbj0vKFteXHMsOz1dKylccyooPzo9XHMqKFteLDtdKykpPy9nO2xldCBhO2Zvcig7YT1uLmV4ZWMoZSk7KXRbYVsxXV09YVsyXTtyZXR1cm4gdH1jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZT1lPT4vXlstX2EtekEtWjAtOV5gfH4sISMkJSYnKisuXSskLy50ZXN0KGUudHJpbSgpKTtmdW5jdGlvbiBtYXRjaEhlYWRlclZhbHVlKGUsdCxuLGEsdSl7aWYodXRpbHMkMS5pc0Z1bmN0aW9uKGEpKXJldHVybiBhLmNhbGwodGhpcyx0LG4pO2lmKHUmJih0PW4pLCEhdXRpbHMkMS5pc1N0cmluZyh0KSl7aWYodXRpbHMkMS5pc1N0cmluZyhhKSlyZXR1cm4gdC5pbmRleE9mKGEpIT09LTE7aWYodXRpbHMkMS5pc1JlZ0V4cChhKSlyZXR1cm4gYS50ZXN0KHQpfX1mdW5jdGlvbiBmb3JtYXRIZWFkZXIoZSl7cmV0dXJuIGUudHJpbSgpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcZF0pKFx3KikvZywodCxuLGEpPT5uLnRvVXBwZXJDYXNlKCkrYSl9ZnVuY3Rpb24gYnVpbGRBY2Nlc3NvcnMoZSx0KXtjb25zdCBuPXV0aWxzJDEudG9DYW1lbENhc2UoIiAiK3QpO1siZ2V0Iiwic2V0IiwiaGFzIl0uZm9yRWFjaChhPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYStuLHt2YWx1ZTpmdW5jdGlvbih1LG8saCl7cmV0dXJuIHRoaXNbYV0uY2FsbCh0aGlzLHQsdSxvLGgpfSxjb25maWd1cmFibGU6ITB9KX0pfWNsYXNzIEF4aW9zSGVhZGVyc3tjb25zdHJ1Y3Rvcih0KXt0JiZ0aGlzLnNldCh0KX1zZXQodCxuLGEpe2NvbnN0IHU9dGhpcztmdW5jdGlvbiBvKGQsdyxfKXtjb25zdCBiPW5vcm1hbGl6ZUhlYWRlcih3KTtpZighYil0aHJvdyBuZXcgRXJyb3IoImhlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nIik7Y29uc3QgTT11dGlscyQxLmZpbmRLZXkodSxiKTsoIU18fHVbTV09PT12b2lkIDB8fF89PT0hMHx8Xz09PXZvaWQgMCYmdVtNXSE9PSExKSYmKHVbTXx8d109bm9ybWFsaXplVmFsdWUoZCkpfWNvbnN0IGg9KGQsdyk9PnV0aWxzJDEuZm9yRWFjaChkLChfLGIpPT5vKF8sYix3KSk7aWYodXRpbHMkMS5pc1BsYWluT2JqZWN0KHQpfHx0IGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciloKHQsbik7ZWxzZSBpZih1dGlscyQxLmlzU3RyaW5nKHQpJiYodD10LnRyaW0oKSkmJiFpc1ZhbGlkSGVhZGVyTmFtZSh0KSloKHBhcnNlSGVhZGVycyh0KSxuKTtlbHNlIGlmKHV0aWxzJDEuaXNIZWFkZXJzKHQpKWZvcihjb25zdFtkLHddb2YgdC5lbnRyaWVzKCkpbyh3LGQsYSk7ZWxzZSB0IT1udWxsJiZvKG4sdCxhKTtyZXR1cm4gdGhpc31nZXQodCxuKXtpZih0PW5vcm1hbGl6ZUhlYWRlcih0KSx0KXtjb25zdCBhPXV0aWxzJDEuZmluZEtleSh0aGlzLHQpO2lmKGEpe2NvbnN0IHU9dGhpc1thXTtpZighbilyZXR1cm4gdTtpZihuPT09ITApcmV0dXJuIHBhcnNlVG9rZW5zKHUpO2lmKHV0aWxzJDEuaXNGdW5jdGlvbihuKSlyZXR1cm4gbi5jYWxsKHRoaXMsdSxhKTtpZih1dGlscyQxLmlzUmVnRXhwKG4pKXJldHVybiBuLmV4ZWModSk7dGhyb3cgbmV3IFR5cGVFcnJvcigicGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24iKX19fWhhcyh0LG4pe2lmKHQ9bm9ybWFsaXplSGVhZGVyKHQpLHQpe2NvbnN0IGE9dXRpbHMkMS5maW5kS2V5KHRoaXMsdCk7cmV0dXJuISEoYSYmdGhpc1thXSE9PXZvaWQgMCYmKCFufHxtYXRjaEhlYWRlclZhbHVlKHRoaXMsdGhpc1thXSxhLG4pKSl9cmV0dXJuITF9ZGVsZXRlKHQsbil7Y29uc3QgYT10aGlzO2xldCB1PSExO2Z1bmN0aW9uIG8oaCl7aWYoaD1ub3JtYWxpemVIZWFkZXIoaCksaCl7Y29uc3QgZD11dGlscyQxLmZpbmRLZXkoYSxoKTtkJiYoIW58fG1hdGNoSGVhZGVyVmFsdWUoYSxhW2RdLGQsbikpJiYoZGVsZXRlIGFbZF0sdT0hMCl9fXJldHVybiB1dGlscyQxLmlzQXJyYXkodCk/dC5mb3JFYWNoKG8pOm8odCksdX1jbGVhcih0KXtjb25zdCBuPU9iamVjdC5rZXlzKHRoaXMpO2xldCBhPW4ubGVuZ3RoLHU9ITE7Zm9yKDthLS07KXtjb25zdCBvPW5bYV07KCF0fHxtYXRjaEhlYWRlclZhbHVlKHRoaXMsdGhpc1tvXSxvLHQsITApKSYmKGRlbGV0ZSB0aGlzW29dLHU9ITApfXJldHVybiB1fW5vcm1hbGl6ZSh0KXtjb25zdCBuPXRoaXMsYT17fTtyZXR1cm4gdXRpbHMkMS5mb3JFYWNoKHRoaXMsKHUsbyk9Pntjb25zdCBoPXV0aWxzJDEuZmluZEtleShhLG8pO2lmKGgpe25baF09bm9ybWFsaXplVmFsdWUodSksZGVsZXRlIG5bb107cmV0dXJufWNvbnN0IGQ9dD9mb3JtYXRIZWFkZXIobyk6U3RyaW5nKG8pLnRyaW0oKTtkIT09byYmZGVsZXRlIG5bb10sbltkXT1ub3JtYWxpemVWYWx1ZSh1KSxhW2RdPSEwfSksdGhpc31jb25jYXQoLi4udCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsLi4udCl9dG9KU09OKHQpe2NvbnN0IG49T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gdXRpbHMkMS5mb3JFYWNoKHRoaXMsKGEsdSk9PnthIT1udWxsJiZhIT09ITEmJihuW3VdPXQmJnV0aWxzJDEuaXNBcnJheShhKT9hLmpvaW4oIiwgIik6YSl9KSxufVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpW1N5bWJvbC5pdGVyYXRvcl0oKX10b1N0cmluZygpe3JldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKS5tYXAoKFt0LG5dKT0+dCsiOiAiK24pLmpvaW4oYApgKX1nZXRbU3ltYm9sLnRvU3RyaW5nVGFnXSgpe3JldHVybiJBeGlvc0hlYWRlcnMifXN0YXRpYyBmcm9tKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdGhpcz90Om5ldyB0aGlzKHQpfXN0YXRpYyBjb25jYXQodCwuLi5uKXtjb25zdCBhPW5ldyB0aGlzKHQpO3JldHVybiBuLmZvckVhY2godT0+YS5zZXQodSkpLGF9c3RhdGljIGFjY2Vzc29yKHQpe2NvbnN0IGE9KHRoaXNbJGludGVybmFsc109dGhpc1skaW50ZXJuYWxzXT17YWNjZXNzb3JzOnt9fSkuYWNjZXNzb3JzLHU9dGhpcy5wcm90b3R5cGU7ZnVuY3Rpb24gbyhoKXtjb25zdCBkPW5vcm1hbGl6ZUhlYWRlcihoKTthW2RdfHwoYnVpbGRBY2Nlc3NvcnModSxoKSxhW2RdPSEwKX1yZXR1cm4gdXRpbHMkMS5pc0FycmF5KHQpP3QuZm9yRWFjaChvKTpvKHQpLHRoaXN9fUF4aW9zSGVhZGVycy5hY2Nlc3NvcihbIkNvbnRlbnQtVHlwZSIsIkNvbnRlbnQtTGVuZ3RoIiwiQWNjZXB0IiwiQWNjZXB0LUVuY29kaW5nIiwiVXNlci1BZ2VudCIsIkF1dGhvcml6YXRpb24iXSksdXRpbHMkMS5yZWR1Y2VEZXNjcmlwdG9ycyhBeGlvc0hlYWRlcnMucHJvdG90eXBlLCh7dmFsdWU6ZX0sdCk9PntsZXQgbj10WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtyZXR1cm57Z2V0OigpPT5lLHNldChhKXt0aGlzW25dPWF9fX0pLHV0aWxzJDEuZnJlZXplTWV0aG9kcyhBeGlvc0hlYWRlcnMpO3ZhciBBeGlvc0hlYWRlcnMkMT1BeGlvc0hlYWRlcnM7ZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShlLHQpe2NvbnN0IG49dGhpc3x8ZGVmYXVsdHMkMSxhPXR8fG4sdT1BeGlvc0hlYWRlcnMkMS5mcm9tKGEuaGVhZGVycyk7bGV0IG89YS5kYXRhO3JldHVybiB1dGlscyQxLmZvckVhY2goZSxmdW5jdGlvbihkKXtvPWQuY2FsbChuLG8sdS5ub3JtYWxpemUoKSx0P3Quc3RhdHVzOnZvaWQgMCl9KSx1Lm5vcm1hbGl6ZSgpLG99ZnVuY3Rpb24gaXNDYW5jZWwoZSl7cmV0dXJuISEoZSYmZS5fX0NBTkNFTF9fKX1mdW5jdGlvbiBDYW5jZWxlZEVycm9yKGUsdCxuKXtBeGlvc0Vycm9yLmNhbGwodGhpcyxlPz8iY2FuY2VsZWQiLEF4aW9zRXJyb3IuRVJSX0NBTkNFTEVELHQsbiksdGhpcy5uYW1lPSJDYW5jZWxlZEVycm9yIn11dGlscyQxLmluaGVyaXRzKENhbmNlbGVkRXJyb3IsQXhpb3NFcnJvcix7X19DQU5DRUxfXzohMH0pO2Z1bmN0aW9uIHNldHRsZShlLHQsbil7Y29uc3QgYT1uLmNvbmZpZy52YWxpZGF0ZVN0YXR1czshbi5zdGF0dXN8fCFhfHxhKG4uc3RhdHVzKT9lKG4pOnQobmV3IEF4aW9zRXJyb3IoIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgIituLnN0YXR1cyxbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKG4uc3RhdHVzLzEwMCktNF0sbi5jb25maWcsbi5yZXF1ZXN0LG4pKX1mdW5jdGlvbiBwYXJzZVByb3RvY29sKGUpe2NvbnN0IHQ9L14oWy0rXHddezEsMjV9KSg6P1wvXC98OikvLmV4ZWMoZSk7cmV0dXJuIHQmJnRbMV18fCIifWZ1bmN0aW9uIHNwZWVkb21ldGVyKGUsdCl7ZT1lfHwxMDtjb25zdCBuPW5ldyBBcnJheShlKSxhPW5ldyBBcnJheShlKTtsZXQgdT0wLG89MCxoO3JldHVybiB0PXQhPT12b2lkIDA/dDoxZTMsZnVuY3Rpb24odyl7Y29uc3QgXz1EYXRlLm5vdygpLGI9YVtvXTtofHwoaD1fKSxuW3VdPXcsYVt1XT1fO2xldCBNPW8sTz0wO2Zvcig7TSE9PXU7KU8rPW5bTSsrXSxNPU0lZTtpZih1PSh1KzEpJWUsdT09PW8mJihvPShvKzEpJWUpLF8taDx0KXJldHVybjtjb25zdCBUPWImJl8tYjtyZXR1cm4gVD9NYXRoLnJvdW5kKE8qMWUzL1QpOnZvaWQgMH19ZnVuY3Rpb24gdGhyb3R0bGUoZSx0KXtsZXQgbj0wLGE9MWUzL3QsdSxvO2NvbnN0IGg9KF8sYj1EYXRlLm5vdygpKT0+e249Yix1PW51bGwsbyYmKGNsZWFyVGltZW91dChvKSxvPW51bGwpLGUuYXBwbHkobnVsbCxfKX07cmV0dXJuWyguLi5fKT0+e2NvbnN0IGI9RGF0ZS5ub3coKSxNPWItbjtNPj1hP2goXyxiKToodT1fLG98fChvPXNldFRpbWVvdXQoKCk9PntvPW51bGwsaCh1KX0sYS1NKSkpfSwoKT0+dSYmaCh1KV19Y29uc3QgcHJvZ3Jlc3NFdmVudFJlZHVjZXI9KGUsdCxuPTMpPT57bGV0IGE9MDtjb25zdCB1PXNwZWVkb21ldGVyKDUwLDI1MCk7cmV0dXJuIHRocm90dGxlKG89Pntjb25zdCBoPW8ubG9hZGVkLGQ9by5sZW5ndGhDb21wdXRhYmxlP28udG90YWw6dm9pZCAwLHc9aC1hLF89dSh3KSxiPWg8PWQ7YT1oO2NvbnN0IE09e2xvYWRlZDpoLHRvdGFsOmQscHJvZ3Jlc3M6ZD9oL2Q6dm9pZCAwLGJ5dGVzOncscmF0ZTpffHx2b2lkIDAsZXN0aW1hdGVkOl8mJmQmJmI/KGQtaCkvXzp2b2lkIDAsZXZlbnQ6byxsZW5ndGhDb21wdXRhYmxlOmQhPW51bGwsW3Q/ImRvd25sb2FkIjoidXBsb2FkIl06ITB9O2UoTSl9LG4pfSxwcm9ncmVzc0V2ZW50RGVjb3JhdG9yPShlLHQpPT57Y29uc3Qgbj1lIT1udWxsO3JldHVyblthPT50WzBdKHtsZW5ndGhDb21wdXRhYmxlOm4sdG90YWw6ZSxsb2FkZWQ6YX0pLHRbMV1dfSxhc3luY0RlY29yYXRvcj1lPT4oLi4udCk9PnV0aWxzJDEuYXNhcCgoKT0+ZSguLi50KSk7dmFyIGlzVVJMU2FtZU9yaWdpbj1wbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnY/KChlLHQpPT5uPT4obj1uZXcgVVJMKG4scGxhdGZvcm0ub3JpZ2luKSxlLnByb3RvY29sPT09bi5wcm90b2NvbCYmZS5ob3N0PT09bi5ob3N0JiYodHx8ZS5wb3J0PT09bi5wb3J0KSkpKG5ldyBVUkwocGxhdGZvcm0ub3JpZ2luKSxwbGF0Zm9ybS5uYXZpZ2F0b3ImJi8obXNpZXx0cmlkZW50KS9pLnRlc3QocGxhdGZvcm0ubmF2aWdhdG9yLnVzZXJBZ2VudCkpOigpPT4hMCxjb29raWVzPXBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudj97d3JpdGUoZSx0LG4sYSx1LG8pe2NvbnN0IGg9W2UrIj0iK2VuY29kZVVSSUNvbXBvbmVudCh0KV07dXRpbHMkMS5pc051bWJlcihuKSYmaC5wdXNoKCJleHBpcmVzPSIrbmV3IERhdGUobikudG9HTVRTdHJpbmcoKSksdXRpbHMkMS5pc1N0cmluZyhhKSYmaC5wdXNoKCJwYXRoPSIrYSksdXRpbHMkMS5pc1N0cmluZyh1KSYmaC5wdXNoKCJkb21haW49Iit1KSxvPT09ITAmJmgucHVzaCgic2VjdXJlIiksZG9jdW1lbnQuY29va2llPWguam9pbigiOyAiKX0scmVhZChlKXtjb25zdCB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCIoXnw7XFxzKikoIitlKyIpPShbXjtdKikiKSk7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHRbM10pOm51bGx9LHJlbW92ZShlKXt0aGlzLndyaXRlKGUsIiIsRGF0ZS5ub3coKS04NjRlNSl9fTp7d3JpdGUoKXt9LHJlYWQoKXtyZXR1cm4gbnVsbH0scmVtb3ZlKCl7fX07ZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTChlKXtyZXR1cm4vXihbYS16XVthLXpcZCtcLS5dKjopP1wvXC8vaS50ZXN0KGUpfWZ1bmN0aW9uIGNvbWJpbmVVUkxzKGUsdCl7cmV0dXJuIHQ/ZS5yZXBsYWNlKC9cLz9cLyQvLCIiKSsiLyIrdC5yZXBsYWNlKC9eXC8rLywiIik6ZX1mdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGUsdCl7cmV0dXJuIGUmJiFpc0Fic29sdXRlVVJMKHQpP2NvbWJpbmVVUkxzKGUsdCk6dH1jb25zdCBoZWFkZXJzVG9PYmplY3Q9ZT0+ZSBpbnN0YW5jZW9mIEF4aW9zSGVhZGVycyQxP3suLi5lfTplO2Z1bmN0aW9uIG1lcmdlQ29uZmlnKGUsdCl7dD10fHx7fTtjb25zdCBuPXt9O2Z1bmN0aW9uIGEoXyxiLE0sTyl7cmV0dXJuIHV0aWxzJDEuaXNQbGFpbk9iamVjdChfKSYmdXRpbHMkMS5pc1BsYWluT2JqZWN0KGIpP3V0aWxzJDEubWVyZ2UuY2FsbCh7Y2FzZWxlc3M6T30sXyxiKTp1dGlscyQxLmlzUGxhaW5PYmplY3QoYik/dXRpbHMkMS5tZXJnZSh7fSxiKTp1dGlscyQxLmlzQXJyYXkoYik/Yi5zbGljZSgpOmJ9ZnVuY3Rpb24gdShfLGIsTSxPKXtpZih1dGlscyQxLmlzVW5kZWZpbmVkKGIpKXtpZighdXRpbHMkMS5pc1VuZGVmaW5lZChfKSlyZXR1cm4gYSh2b2lkIDAsXyxNLE8pfWVsc2UgcmV0dXJuIGEoXyxiLE0sTyl9ZnVuY3Rpb24gbyhfLGIpe2lmKCF1dGlscyQxLmlzVW5kZWZpbmVkKGIpKXJldHVybiBhKHZvaWQgMCxiKX1mdW5jdGlvbiBoKF8sYil7aWYodXRpbHMkMS5pc1VuZGVmaW5lZChiKSl7aWYoIXV0aWxzJDEuaXNVbmRlZmluZWQoXykpcmV0dXJuIGEodm9pZCAwLF8pfWVsc2UgcmV0dXJuIGEodm9pZCAwLGIpfWZ1bmN0aW9uIGQoXyxiLE0pe2lmKE0gaW4gdClyZXR1cm4gYShfLGIpO2lmKE0gaW4gZSlyZXR1cm4gYSh2b2lkIDAsXyl9Y29uc3Qgdz17dXJsOm8sbWV0aG9kOm8sZGF0YTpvLGJhc2VVUkw6aCx0cmFuc2Zvcm1SZXF1ZXN0OmgsdHJhbnNmb3JtUmVzcG9uc2U6aCxwYXJhbXNTZXJpYWxpemVyOmgsdGltZW91dDpoLHRpbWVvdXRNZXNzYWdlOmgsd2l0aENyZWRlbnRpYWxzOmgsd2l0aFhTUkZUb2tlbjpoLGFkYXB0ZXI6aCxyZXNwb25zZVR5cGU6aCx4c3JmQ29va2llTmFtZTpoLHhzcmZIZWFkZXJOYW1lOmgsb25VcGxvYWRQcm9ncmVzczpoLG9uRG93bmxvYWRQcm9ncmVzczpoLGRlY29tcHJlc3M6aCxtYXhDb250ZW50TGVuZ3RoOmgsbWF4Qm9keUxlbmd0aDpoLGJlZm9yZVJlZGlyZWN0OmgsdHJhbnNwb3J0OmgsaHR0cEFnZW50OmgsaHR0cHNBZ2VudDpoLGNhbmNlbFRva2VuOmgsc29ja2V0UGF0aDpoLHJlc3BvbnNlRW5jb2Rpbmc6aCx2YWxpZGF0ZVN0YXR1czpkLGhlYWRlcnM6KF8sYixNKT0+dShoZWFkZXJzVG9PYmplY3QoXyksaGVhZGVyc1RvT2JqZWN0KGIpLE0sITApfTtyZXR1cm4gdXRpbHMkMS5mb3JFYWNoKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sZSx0KSksZnVuY3Rpb24oYil7Y29uc3QgTT13W2JdfHx1LE89TShlW2JdLHRbYl0sYik7dXRpbHMkMS5pc1VuZGVmaW5lZChPKSYmTSE9PWR8fChuW2JdPU8pfSksbn12YXIgcmVzb2x2ZUNvbmZpZz1lPT57Y29uc3QgdD1tZXJnZUNvbmZpZyh7fSxlKTtsZXR7ZGF0YTpuLHdpdGhYU1JGVG9rZW46YSx4c3JmSGVhZGVyTmFtZTp1LHhzcmZDb29raWVOYW1lOm8saGVhZGVyczpoLGF1dGg6ZH09dDt0LmhlYWRlcnM9aD1BeGlvc0hlYWRlcnMkMS5mcm9tKGgpLHQudXJsPWJ1aWxkVVJMKGJ1aWxkRnVsbFBhdGgodC5iYXNlVVJMLHQudXJsKSxlLnBhcmFtcyxlLnBhcmFtc1NlcmlhbGl6ZXIpLGQmJmguc2V0KCJBdXRob3JpemF0aW9uIiwiQmFzaWMgIitidG9hKChkLnVzZXJuYW1lfHwiIikrIjoiKyhkLnBhc3N3b3JkP3VuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChkLnBhc3N3b3JkKSk6IiIpKSk7bGV0IHc7aWYodXRpbHMkMS5pc0Zvcm1EYXRhKG4pKXtpZihwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnZ8fHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiloLnNldENvbnRlbnRUeXBlKHZvaWQgMCk7ZWxzZSBpZigodz1oLmdldENvbnRlbnRUeXBlKCkpIT09ITEpe2NvbnN0W18sLi4uYl09dz93LnNwbGl0KCI7IikubWFwKE09Pk0udHJpbSgpKS5maWx0ZXIoQm9vbGVhbik6W107aC5zZXRDb250ZW50VHlwZShbX3x8Im11bHRpcGFydC9mb3JtLWRhdGEiLC4uLmJdLmpvaW4oIjsgIikpfX1pZihwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYmJihhJiZ1dGlscyQxLmlzRnVuY3Rpb24oYSkmJihhPWEodCkpLGF8fGEhPT0hMSYmaXNVUkxTYW1lT3JpZ2luKHQudXJsKSkpe2NvbnN0IF89dSYmbyYmY29va2llcy5yZWFkKG8pO18mJmguc2V0KHUsXyl9cmV0dXJuIHR9O2NvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZD10eXBlb2YgWE1MSHR0cFJlcXVlc3Q8InUiO3ZhciB4aHJBZGFwdGVyPWlzWEhSQWRhcHRlclN1cHBvcnRlZCYmZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4sYSl7Y29uc3QgdT1yZXNvbHZlQ29uZmlnKGUpO2xldCBvPXUuZGF0YTtjb25zdCBoPUF4aW9zSGVhZGVycyQxLmZyb20odS5oZWFkZXJzKS5ub3JtYWxpemUoKTtsZXR7cmVzcG9uc2VUeXBlOmQsb25VcGxvYWRQcm9ncmVzczp3LG9uRG93bmxvYWRQcm9ncmVzczpffT11LGIsTSxPLFQsUDtmdW5jdGlvbiBMKCl7VCYmVCgpLFAmJlAoKSx1LmNhbmNlbFRva2VuJiZ1LmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKGIpLHUuc2lnbmFsJiZ1LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCJhYm9ydCIsYil9bGV0IHo9bmV3IFhNTEh0dHBSZXF1ZXN0O3oub3Blbih1Lm1ldGhvZC50b1VwcGVyQ2FzZSgpLHUudXJsLCEwKSx6LnRpbWVvdXQ9dS50aW1lb3V0O2Z1bmN0aW9uIEgoKXtpZigheilyZXR1cm47Y29uc3QgYWU9QXhpb3NIZWFkZXJzJDEuZnJvbSgiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzImluIHomJnouZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLFE9e2RhdGE6IWR8fGQ9PT0idGV4dCJ8fGQ9PT0ianNvbiI/ei5yZXNwb25zZVRleHQ6ei5yZXNwb25zZSxzdGF0dXM6ei5zdGF0dXMsc3RhdHVzVGV4dDp6LnN0YXR1c1RleHQsaGVhZGVyczphZSxjb25maWc6ZSxyZXF1ZXN0Onp9O3NldHRsZShmdW5jdGlvbihjZSl7bihjZSksTCgpfSxmdW5jdGlvbihjZSl7YShjZSksTCgpfSxRKSx6PW51bGx9Im9ubG9hZGVuZCJpbiB6P3oub25sb2FkZW5kPUg6ei5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXshenx8ei5yZWFkeVN0YXRlIT09NHx8ei5zdGF0dXM9PT0wJiYhKHoucmVzcG9uc2VVUkwmJnoucmVzcG9uc2VVUkwuaW5kZXhPZigiZmlsZToiKT09PTApfHxzZXRUaW1lb3V0KEgpfSx6Lm9uYWJvcnQ9ZnVuY3Rpb24oKXt6JiYoYShuZXcgQXhpb3NFcnJvcigiUmVxdWVzdCBhYm9ydGVkIixBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCxlLHopKSx6PW51bGwpfSx6Lm9uZXJyb3I9ZnVuY3Rpb24oKXthKG5ldyBBeGlvc0Vycm9yKCJOZXR3b3JrIEVycm9yIixBeGlvc0Vycm9yLkVSUl9ORVRXT1JLLGUseikpLHo9bnVsbH0sei5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtsZXQgaWU9dS50aW1lb3V0PyJ0aW1lb3V0IG9mICIrdS50aW1lb3V0KyJtcyBleGNlZWRlZCI6InRpbWVvdXQgZXhjZWVkZWQiO2NvbnN0IFE9dS50cmFuc2l0aW9uYWx8fHRyYW5zaXRpb25hbERlZmF1bHRzO3UudGltZW91dEVycm9yTWVzc2FnZSYmKGllPXUudGltZW91dEVycm9yTWVzc2FnZSksYShuZXcgQXhpb3NFcnJvcihpZSxRLmNsYXJpZnlUaW1lb3V0RXJyb3I/QXhpb3NFcnJvci5FVElNRURPVVQ6QXhpb3NFcnJvci5FQ09OTkFCT1JURUQsZSx6KSksej1udWxsfSxvPT09dm9pZCAwJiZoLnNldENvbnRlbnRUeXBlKG51bGwpLCJzZXRSZXF1ZXN0SGVhZGVyImluIHomJnV0aWxzJDEuZm9yRWFjaChoLnRvSlNPTigpLGZ1bmN0aW9uKGllLFEpe3ouc2V0UmVxdWVzdEhlYWRlcihRLGllKX0pLHV0aWxzJDEuaXNVbmRlZmluZWQodS53aXRoQ3JlZGVudGlhbHMpfHwoei53aXRoQ3JlZGVudGlhbHM9ISF1LndpdGhDcmVkZW50aWFscyksZCYmZCE9PSJqc29uIiYmKHoucmVzcG9uc2VUeXBlPXUucmVzcG9uc2VUeXBlKSxfJiYoW08sUF09cHJvZ3Jlc3NFdmVudFJlZHVjZXIoXywhMCksei5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsTykpLHcmJnoudXBsb2FkJiYoW00sVF09cHJvZ3Jlc3NFdmVudFJlZHVjZXIodyksei51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLE0pLHoudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLFQpKSwodS5jYW5jZWxUb2tlbnx8dS5zaWduYWwpJiYoYj1hZT0+e3omJihhKCFhZXx8YWUudHlwZT9uZXcgQ2FuY2VsZWRFcnJvcihudWxsLGUseik6YWUpLHouYWJvcnQoKSx6PW51bGwpfSx1LmNhbmNlbFRva2VuJiZ1LmNhbmNlbFRva2VuLnN1YnNjcmliZShiKSx1LnNpZ25hbCYmKHUuc2lnbmFsLmFib3J0ZWQ/YigpOnUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixiKSkpO2NvbnN0IFY9cGFyc2VQcm90b2NvbCh1LnVybCk7aWYoViYmcGxhdGZvcm0ucHJvdG9jb2xzLmluZGV4T2YoVik9PT0tMSl7YShuZXcgQXhpb3NFcnJvcigiVW5zdXBwb3J0ZWQgcHJvdG9jb2wgIitWKyI6IixBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCxlKSk7cmV0dXJufXouc2VuZChvfHxudWxsKX0pfTtjb25zdCBjb21wb3NlU2lnbmFscz0oZSx0KT0+e2NvbnN0e2xlbmd0aDpufT1lPWU/ZS5maWx0ZXIoQm9vbGVhbik6W107aWYodHx8bil7bGV0IGE9bmV3IEFib3J0Q29udHJvbGxlcix1O2NvbnN0IG89ZnVuY3Rpb24oXyl7aWYoIXUpe3U9ITAsZCgpO2NvbnN0IGI9XyBpbnN0YW5jZW9mIEVycm9yP186dGhpcy5yZWFzb247YS5hYm9ydChiIGluc3RhbmNlb2YgQXhpb3NFcnJvcj9iOm5ldyBDYW5jZWxlZEVycm9yKGIgaW5zdGFuY2VvZiBFcnJvcj9iLm1lc3NhZ2U6YikpfX07bGV0IGg9dCYmc2V0VGltZW91dCgoKT0+e2g9bnVsbCxvKG5ldyBBeGlvc0Vycm9yKGB0aW1lb3V0ICR7dH0gb2YgbXMgZXhjZWVkZWRgLEF4aW9zRXJyb3IuRVRJTUVET1VUKSl9LHQpO2NvbnN0IGQ9KCk9PntlJiYoaCYmY2xlYXJUaW1lb3V0KGgpLGg9bnVsbCxlLmZvckVhY2goXz0+e18udW5zdWJzY3JpYmU/Xy51bnN1YnNjcmliZShvKTpfLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0IixvKX0pLGU9bnVsbCl9O2UuZm9yRWFjaChfPT5fLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IixvKSk7Y29uc3R7c2lnbmFsOnd9PWE7cmV0dXJuIHcudW5zdWJzY3JpYmU9KCk9PnV0aWxzJDEuYXNhcChkKSx3fX07dmFyIGNvbXBvc2VTaWduYWxzJDE9Y29tcG9zZVNpZ25hbHM7Y29uc3Qgc3RyZWFtQ2h1bms9ZnVuY3Rpb24qKGUsdCl7bGV0IG49ZS5ieXRlTGVuZ3RoO2lmKCF0fHxuPHQpe3lpZWxkIGU7cmV0dXJufWxldCBhPTAsdTtmb3IoO2E8bjspdT1hK3QseWllbGQgZS5zbGljZShhLHUpLGE9dX0scmVhZEJ5dGVzPWFzeW5jIGZ1bmN0aW9uKihlLHQpe2ZvciBhd2FpdChjb25zdCBuIG9mIHJlYWRTdHJlYW0oZSkpeWllbGQqc3RyZWFtQ2h1bmsobix0KX0scmVhZFN0cmVhbT1hc3luYyBmdW5jdGlvbiooZSl7aWYoZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pe3lpZWxkKmU7cmV0dXJufWNvbnN0IHQ9ZS5nZXRSZWFkZXIoKTt0cnl7Zm9yKDs7KXtjb25zdHtkb25lOm4sdmFsdWU6YX09YXdhaXQgdC5yZWFkKCk7aWYobilicmVhazt5aWVsZCBhfX1maW5hbGx5e2F3YWl0IHQuY2FuY2VsKCl9fSx0cmFja1N0cmVhbT0oZSx0LG4sYSk9Pntjb25zdCB1PXJlYWRCeXRlcyhlLHQpO2xldCBvPTAsaCxkPXc9PntofHwoaD0hMCxhJiZhKHcpKX07cmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7YXN5bmMgcHVsbCh3KXt0cnl7Y29uc3R7ZG9uZTpfLHZhbHVlOmJ9PWF3YWl0IHUubmV4dCgpO2lmKF8pe2QoKSx3LmNsb3NlKCk7cmV0dXJufWxldCBNPWIuYnl0ZUxlbmd0aDtpZihuKXtsZXQgTz1vKz1NO24oTyl9dy5lbnF1ZXVlKG5ldyBVaW50OEFycmF5KGIpKX1jYXRjaChfKXt0aHJvdyBkKF8pLF99fSxjYW5jZWwodyl7cmV0dXJuIGQodyksdS5yZXR1cm4oKX19LHtoaWdoV2F0ZXJNYXJrOjJ9KX0saXNGZXRjaFN1cHBvcnRlZD10eXBlb2YgZmV0Y2g9PSJmdW5jdGlvbiImJnR5cGVvZiBSZXF1ZXN0PT0iZnVuY3Rpb24iJiZ0eXBlb2YgUmVzcG9uc2U9PSJmdW5jdGlvbiIsaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZD1pc0ZldGNoU3VwcG9ydGVkJiZ0eXBlb2YgUmVhZGFibGVTdHJlYW09PSJmdW5jdGlvbiIsZW5jb2RlVGV4dD1pc0ZldGNoU3VwcG9ydGVkJiYodHlwZW9mIFRleHRFbmNvZGVyPT0iZnVuY3Rpb24iPyhlPT50PT5lLmVuY29kZSh0KSkobmV3IFRleHRFbmNvZGVyKTphc3luYyBlPT5uZXcgVWludDhBcnJheShhd2FpdCBuZXcgUmVzcG9uc2UoZSkuYXJyYXlCdWZmZXIoKSkpLHRlc3Q9KGUsLi4udCk9Pnt0cnl7cmV0dXJuISFlKC4uLnQpfWNhdGNoe3JldHVybiExfX0sc3VwcG9ydHNSZXF1ZXN0U3RyZWFtPWlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQmJnRlc3QoKCk9PntsZXQgZT0hMTtjb25zdCB0PW5ldyBSZXF1ZXN0KHBsYXRmb3JtLm9yaWdpbix7Ym9keTpuZXcgUmVhZGFibGVTdHJlYW0sbWV0aG9kOiJQT1NUIixnZXQgZHVwbGV4KCl7cmV0dXJuIGU9ITAsImhhbGYifX0pLmhlYWRlcnMuaGFzKCJDb250ZW50LVR5cGUiKTtyZXR1cm4gZSYmIXR9KSxERUZBVUxUX0NIVU5LX1NJWkU9NjQqMTAyNCxzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtPWlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQmJnRlc3QoKCk9PnV0aWxzJDEuaXNSZWFkYWJsZVN0cmVhbShuZXcgUmVzcG9uc2UoIiIpLmJvZHkpKSxyZXNvbHZlcnM9e3N0cmVhbTpzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtJiYoZT0+ZS5ib2R5KX07aXNGZXRjaFN1cHBvcnRlZCYmKGU9PntbInRleHQiLCJhcnJheUJ1ZmZlciIsImJsb2IiLCJmb3JtRGF0YSIsInN0cmVhbSJdLmZvckVhY2godD0+eyFyZXNvbHZlcnNbdF0mJihyZXNvbHZlcnNbdF09dXRpbHMkMS5pc0Z1bmN0aW9uKGVbdF0pP249Pm5bdF0oKToobixhKT0+e3Rocm93IG5ldyBBeGlvc0Vycm9yKGBSZXNwb25zZSB0eXBlICcke3R9JyBpcyBub3Qgc3VwcG9ydGVkYCxBeGlvc0Vycm9yLkVSUl9OT1RfU1VQUE9SVCxhKX0pfSl9KShuZXcgUmVzcG9uc2UpO2NvbnN0IGdldEJvZHlMZW5ndGg9YXN5bmMgZT0+e2lmKGU9PW51bGwpcmV0dXJuIDA7aWYodXRpbHMkMS5pc0Jsb2IoZSkpcmV0dXJuIGUuc2l6ZTtpZih1dGlscyQxLmlzU3BlY0NvbXBsaWFudEZvcm0oZSkpcmV0dXJuKGF3YWl0IG5ldyBSZXF1ZXN0KHBsYXRmb3JtLm9yaWdpbix7bWV0aG9kOiJQT1NUIixib2R5OmV9KS5hcnJheUJ1ZmZlcigpKS5ieXRlTGVuZ3RoO2lmKHV0aWxzJDEuaXNBcnJheUJ1ZmZlclZpZXcoZSl8fHV0aWxzJDEuaXNBcnJheUJ1ZmZlcihlKSlyZXR1cm4gZS5ieXRlTGVuZ3RoO2lmKHV0aWxzJDEuaXNVUkxTZWFyY2hQYXJhbXMoZSkmJihlPWUrIiIpLHV0aWxzJDEuaXNTdHJpbmcoZSkpcmV0dXJuKGF3YWl0IGVuY29kZVRleHQoZSkpLmJ5dGVMZW5ndGh9LHJlc29sdmVCb2R5TGVuZ3RoPWFzeW5jKGUsdCk9Pntjb25zdCBuPXV0aWxzJDEudG9GaW5pdGVOdW1iZXIoZS5nZXRDb250ZW50TGVuZ3RoKCkpO3JldHVybiBuPz9nZXRCb2R5TGVuZ3RoKHQpfTt2YXIgZmV0Y2hBZGFwdGVyPWlzRmV0Y2hTdXBwb3J0ZWQmJihhc3luYyBlPT57bGV0e3VybDp0LG1ldGhvZDpuLGRhdGE6YSxzaWduYWw6dSxjYW5jZWxUb2tlbjpvLHRpbWVvdXQ6aCxvbkRvd25sb2FkUHJvZ3Jlc3M6ZCxvblVwbG9hZFByb2dyZXNzOncscmVzcG9uc2VUeXBlOl8saGVhZGVyczpiLHdpdGhDcmVkZW50aWFsczpNPSJzYW1lLW9yaWdpbiIsZmV0Y2hPcHRpb25zOk99PXJlc29sdmVDb25maWcoZSk7Xz1fPyhfKyIiKS50b0xvd2VyQ2FzZSgpOiJ0ZXh0IjtsZXQgVD1jb21wb3NlU2lnbmFscyQxKFt1LG8mJm8udG9BYm9ydFNpZ25hbCgpXSxoKSxQO2NvbnN0IEw9VCYmVC51bnN1YnNjcmliZSYmKCgpPT57VC51bnN1YnNjcmliZSgpfSk7bGV0IHo7dHJ5e2lmKHcmJnN1cHBvcnRzUmVxdWVzdFN0cmVhbSYmbiE9PSJnZXQiJiZuIT09ImhlYWQiJiYoej1hd2FpdCByZXNvbHZlQm9keUxlbmd0aChiLGEpKSE9PTApe2xldCBRPW5ldyBSZXF1ZXN0KHQse21ldGhvZDoiUE9TVCIsYm9keTphLGR1cGxleDoiaGFsZiJ9KSxyZTtpZih1dGlscyQxLmlzRm9ybURhdGEoYSkmJihyZT1RLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKSkmJmIuc2V0Q29udGVudFR5cGUocmUpLFEuYm9keSl7Y29uc3RbY2UsbGVdPXByb2dyZXNzRXZlbnREZWNvcmF0b3Ioeixwcm9ncmVzc0V2ZW50UmVkdWNlcihhc3luY0RlY29yYXRvcih3KSkpO2E9dHJhY2tTdHJlYW0oUS5ib2R5LERFRkFVTFRfQ0hVTktfU0laRSxjZSxsZSl9fXV0aWxzJDEuaXNTdHJpbmcoTSl8fChNPU0/ImluY2x1ZGUiOiJvbWl0Iik7Y29uc3QgSD0iY3JlZGVudGlhbHMiaW4gUmVxdWVzdC5wcm90b3R5cGU7UD1uZXcgUmVxdWVzdCh0LHsuLi5PLHNpZ25hbDpULG1ldGhvZDpuLnRvVXBwZXJDYXNlKCksaGVhZGVyczpiLm5vcm1hbGl6ZSgpLnRvSlNPTigpLGJvZHk6YSxkdXBsZXg6ImhhbGYiLGNyZWRlbnRpYWxzOkg/TTp2b2lkIDB9KTtsZXQgVj1hd2FpdCBmZXRjaChQKTtjb25zdCBhZT1zdXBwb3J0c1Jlc3BvbnNlU3RyZWFtJiYoXz09PSJzdHJlYW0ifHxfPT09InJlc3BvbnNlIik7aWYoc3VwcG9ydHNSZXNwb25zZVN0cmVhbSYmKGR8fGFlJiZMKSl7Y29uc3QgUT17fTtbInN0YXR1cyIsInN0YXR1c1RleHQiLCJoZWFkZXJzIl0uZm9yRWFjaChvZT0+e1Fbb2VdPVZbb2VdfSk7Y29uc3QgcmU9dXRpbHMkMS50b0Zpbml0ZU51bWJlcihWLmhlYWRlcnMuZ2V0KCJjb250ZW50LWxlbmd0aCIpKSxbY2UsbGVdPWQmJnByb2dyZXNzRXZlbnREZWNvcmF0b3IocmUscHJvZ3Jlc3NFdmVudFJlZHVjZXIoYXN5bmNEZWNvcmF0b3IoZCksITApKXx8W107Vj1uZXcgUmVzcG9uc2UodHJhY2tTdHJlYW0oVi5ib2R5LERFRkFVTFRfQ0hVTktfU0laRSxjZSwoKT0+e2xlJiZsZSgpLEwmJkwoKX0pLFEpfV89X3x8InRleHQiO2xldCBpZT1hd2FpdCByZXNvbHZlcnNbdXRpbHMkMS5maW5kS2V5KHJlc29sdmVycyxfKXx8InRleHQiXShWLGUpO3JldHVybiFhZSYmTCYmTCgpLGF3YWl0IG5ldyBQcm9taXNlKChRLHJlKT0+e3NldHRsZShRLHJlLHtkYXRhOmllLGhlYWRlcnM6QXhpb3NIZWFkZXJzJDEuZnJvbShWLmhlYWRlcnMpLHN0YXR1czpWLnN0YXR1cyxzdGF0dXNUZXh0OlYuc3RhdHVzVGV4dCxjb25maWc6ZSxyZXF1ZXN0OlB9KX0pfWNhdGNoKEgpe3Rocm93IEwmJkwoKSxIJiZILm5hbWU9PT0iVHlwZUVycm9yIiYmL2ZldGNoL2kudGVzdChILm1lc3NhZ2UpP09iamVjdC5hc3NpZ24obmV3IEF4aW9zRXJyb3IoIk5ldHdvcmsgRXJyb3IiLEF4aW9zRXJyb3IuRVJSX05FVFdPUkssZSxQKSx7Y2F1c2U6SC5jYXVzZXx8SH0pOkF4aW9zRXJyb3IuZnJvbShILEgmJkguY29kZSxlLFApfX0pO2NvbnN0IGtub3duQWRhcHRlcnM9e2h0dHA6aHR0cEFkYXB0ZXIseGhyOnhockFkYXB0ZXIsZmV0Y2g6ZmV0Y2hBZGFwdGVyfTt1dGlscyQxLmZvckVhY2goa25vd25BZGFwdGVycywoZSx0KT0+e2lmKGUpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwibmFtZSIse3ZhbHVlOnR9KX1jYXRjaHt9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImFkYXB0ZXJOYW1lIix7dmFsdWU6dH0pfX0pO2NvbnN0IHJlbmRlclJlYXNvbj1lPT5gLSAke2V9YCxpc1Jlc29sdmVkSGFuZGxlPWU9PnV0aWxzJDEuaXNGdW5jdGlvbihlKXx8ZT09PW51bGx8fGU9PT0hMTt2YXIgYWRhcHRlcnM9e2dldEFkYXB0ZXI6ZT0+e2U9dXRpbHMkMS5pc0FycmF5KGUpP2U6W2VdO2NvbnN0e2xlbmd0aDp0fT1lO2xldCBuLGE7Y29uc3QgdT17fTtmb3IobGV0IG89MDtvPHQ7bysrKXtuPWVbb107bGV0IGg7aWYoYT1uLCFpc1Jlc29sdmVkSGFuZGxlKG4pJiYoYT1rbm93bkFkYXB0ZXJzWyhoPVN0cmluZyhuKSkudG9Mb3dlckNhc2UoKV0sYT09PXZvaWQgMCkpdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFVua25vd24gYWRhcHRlciAnJHtofSdgKTtpZihhKWJyZWFrO3VbaHx8IiMiK29dPWF9aWYoIWEpe2NvbnN0IG89T2JqZWN0LmVudHJpZXModSkubWFwKChbZCx3XSk9PmBhZGFwdGVyICR7ZH0gYCsodz09PSExPyJpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudCI6ImlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGJ1aWxkIikpO2xldCBoPXQ/by5sZW5ndGg+MT9gc2luY2UgOgpgK28ubWFwKHJlbmRlclJlYXNvbikuam9pbihgCmApOiIgIityZW5kZXJSZWFzb24ob1swXSk6ImFzIG5vIGFkYXB0ZXIgc3BlY2lmaWVkIjt0aHJvdyBuZXcgQXhpb3NFcnJvcigiVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCAiK2gsIkVSUl9OT1RfU1VQUE9SVCIpfXJldHVybiBhfSxhZGFwdGVyczprbm93bkFkYXB0ZXJzfTtmdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGUpe2lmKGUuY2FuY2VsVG9rZW4mJmUuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpLGUuc2lnbmFsJiZlLnNpZ25hbC5hYm9ydGVkKXRocm93IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsZSl9ZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGUpe3JldHVybiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGUpLGUuaGVhZGVycz1BeGlvc0hlYWRlcnMkMS5mcm9tKGUuaGVhZGVycyksZS5kYXRhPXRyYW5zZm9ybURhdGEuY2FsbChlLGUudHJhbnNmb3JtUmVxdWVzdCksWyJwb3N0IiwicHV0IiwicGF0Y2giXS5pbmRleE9mKGUubWV0aG9kKSE9PS0xJiZlLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsITEpLGFkYXB0ZXJzLmdldEFkYXB0ZXIoZS5hZGFwdGVyfHxkZWZhdWx0cyQxLmFkYXB0ZXIpKGUpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoZSksYS5kYXRhPXRyYW5zZm9ybURhdGEuY2FsbChlLGUudHJhbnNmb3JtUmVzcG9uc2UsYSksYS5oZWFkZXJzPUF4aW9zSGVhZGVycyQxLmZyb20oYS5oZWFkZXJzKSxhfSxmdW5jdGlvbihhKXtyZXR1cm4gaXNDYW5jZWwoYSl8fCh0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGUpLGEmJmEucmVzcG9uc2UmJihhLnJlc3BvbnNlLmRhdGE9dHJhbnNmb3JtRGF0YS5jYWxsKGUsZS50cmFuc2Zvcm1SZXNwb25zZSxhLnJlc3BvbnNlKSxhLnJlc3BvbnNlLmhlYWRlcnM9QXhpb3NIZWFkZXJzJDEuZnJvbShhLnJlc3BvbnNlLmhlYWRlcnMpKSksUHJvbWlzZS5yZWplY3QoYSl9KX1jb25zdCBWRVJTSU9OPSIxLjcuOSIsdmFsaWRhdG9ycyQxPXt9O1sib2JqZWN0IiwiYm9vbGVhbiIsIm51bWJlciIsImZ1bmN0aW9uIiwic3RyaW5nIiwic3ltYm9sIl0uZm9yRWFjaCgoZSx0KT0+e3ZhbGlkYXRvcnMkMVtlXT1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGE9PT1lfHwiYSIrKHQ8MT8ibiAiOiIgIikrZX19KTtjb25zdCBkZXByZWNhdGVkV2FybmluZ3M9e307dmFsaWRhdG9ycyQxLnRyYW5zaXRpb25hbD1mdW5jdGlvbiBlKHQsbixhKXtmdW5jdGlvbiB1KG8saCl7cmV0dXJuIltBeGlvcyB2IitWRVJTSU9OKyJdIFRyYW5zaXRpb25hbCBvcHRpb24gJyIrbysiJyIraCsoYT8iLiAiK2E6IiIpfXJldHVybihvLGgsZCk9PntpZih0PT09ITEpdGhyb3cgbmV3IEF4aW9zRXJyb3IodShoLCIgaGFzIGJlZW4gcmVtb3ZlZCIrKG4/IiBpbiAiK246IiIpKSxBeGlvc0Vycm9yLkVSUl9ERVBSRUNBVEVEKTtyZXR1cm4gbiYmIWRlcHJlY2F0ZWRXYXJuaW5nc1toXSYmKGRlcHJlY2F0ZWRXYXJuaW5nc1toXT0hMCxjb25zb2xlLndhcm4odShoLCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2IituKyIgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmUiKSkpLHQ/dChvLGgsZCk6ITB9fSx2YWxpZGF0b3JzJDEuc3BlbGxpbmc9ZnVuY3Rpb24gZSh0KXtyZXR1cm4obixhKT0+KGNvbnNvbGUud2FybihgJHthfSBpcyBsaWtlbHkgYSBtaXNzcGVsbGluZyBvZiAke3R9YCksITApfTtmdW5jdGlvbiBhc3NlcnRPcHRpb25zKGUsdCxuKXtpZih0eXBlb2YgZSE9Im9iamVjdCIpdGhyb3cgbmV3IEF4aW9zRXJyb3IoIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QiLEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO2NvbnN0IGE9T2JqZWN0LmtleXMoZSk7bGV0IHU9YS5sZW5ndGg7Zm9yKDt1LS0gPjA7KXtjb25zdCBvPWFbdV0saD10W29dO2lmKGgpe2NvbnN0IGQ9ZVtvXSx3PWQ9PT12b2lkIDB8fGgoZCxvLGUpO2lmKHchPT0hMCl0aHJvdyBuZXcgQXhpb3NFcnJvcigib3B0aW9uICIrbysiIG11c3QgYmUgIit3LEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO2NvbnRpbnVlfWlmKG4hPT0hMCl0aHJvdyBuZXcgQXhpb3NFcnJvcigiVW5rbm93biBvcHRpb24gIitvLEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT04pfX12YXIgdmFsaWRhdG9yPXthc3NlcnRPcHRpb25zLHZhbGlkYXRvcnM6dmFsaWRhdG9ycyQxfTtjb25zdCB2YWxpZGF0b3JzPXZhbGlkYXRvci52YWxpZGF0b3JzO2NsYXNzIEF4aW9ze2NvbnN0cnVjdG9yKHQpe3RoaXMuZGVmYXVsdHM9dCx0aGlzLmludGVyY2VwdG9ycz17cmVxdWVzdDpuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyJDEscmVzcG9uc2U6bmV3IEludGVyY2VwdG9yTWFuYWdlciQxfX1hc3luYyByZXF1ZXN0KHQsbil7dHJ5e3JldHVybiBhd2FpdCB0aGlzLl9yZXF1ZXN0KHQsbil9Y2F0Y2goYSl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXtsZXQgdT17fTtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT9FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh1KTp1PW5ldyBFcnJvcjtjb25zdCBvPXUuc3RhY2s/dS5zdGFjay5yZXBsYWNlKC9eLitcbi8sIiIpOiIiO3RyeXthLnN0YWNrP28mJiFTdHJpbmcoYS5zdGFjaykuZW5kc1dpdGgoby5yZXBsYWNlKC9eLitcbi4rXG4vLCIiKSkmJihhLnN0YWNrKz1gCmArbyk6YS5zdGFjaz1vfWNhdGNoe319dGhyb3cgYX19X3JlcXVlc3QodCxuKXt0eXBlb2YgdD09InN0cmluZyI/KG49bnx8e30sbi51cmw9dCk6bj10fHx7fSxuPW1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsbik7Y29uc3R7dHJhbnNpdGlvbmFsOmEscGFyYW1zU2VyaWFsaXplcjp1LGhlYWRlcnM6b309bjthIT09dm9pZCAwJiZ2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhhLHtzaWxlbnRKU09OUGFyc2luZzp2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLGZvcmNlZEpTT05QYXJzaW5nOnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksY2xhcmlmeVRpbWVvdXRFcnJvcjp2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pfSwhMSksdSE9bnVsbCYmKHV0aWxzJDEuaXNGdW5jdGlvbih1KT9uLnBhcmFtc1NlcmlhbGl6ZXI9e3NlcmlhbGl6ZTp1fTp2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyh1LHtlbmNvZGU6dmFsaWRhdG9ycy5mdW5jdGlvbixzZXJpYWxpemU6dmFsaWRhdG9ycy5mdW5jdGlvbn0sITApKSx2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhuLHtiYXNlVXJsOnZhbGlkYXRvcnMuc3BlbGxpbmcoImJhc2VVUkwiKSx3aXRoWHNyZlRva2VuOnZhbGlkYXRvcnMuc3BlbGxpbmcoIndpdGhYU1JGVG9rZW4iKX0sITApLG4ubWV0aG9kPShuLm1ldGhvZHx8dGhpcy5kZWZhdWx0cy5tZXRob2R8fCJnZXQiKS50b0xvd2VyQ2FzZSgpO2xldCBoPW8mJnV0aWxzJDEubWVyZ2Uoby5jb21tb24sb1tuLm1ldGhvZF0pO28mJnV0aWxzJDEuZm9yRWFjaChbImRlbGV0ZSIsImdldCIsImhlYWQiLCJwb3N0IiwicHV0IiwicGF0Y2giLCJjb21tb24iXSxQPT57ZGVsZXRlIG9bUF19KSxuLmhlYWRlcnM9QXhpb3NIZWFkZXJzJDEuY29uY2F0KGgsbyk7Y29uc3QgZD1bXTtsZXQgdz0hMDt0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24oTCl7dHlwZW9mIEwucnVuV2hlbj09ImZ1bmN0aW9uIiYmTC5ydW5XaGVuKG4pPT09ITF8fCh3PXcmJkwuc3luY2hyb25vdXMsZC51bnNoaWZ0KEwuZnVsZmlsbGVkLEwucmVqZWN0ZWQpKX0pO2NvbnN0IF89W107dGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbihMKXtfLnB1c2goTC5mdWxmaWxsZWQsTC5yZWplY3RlZCl9KTtsZXQgYixNPTAsTztpZighdyl7Y29uc3QgUD1bZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksdm9pZCAwXTtmb3IoUC51bnNoaWZ0LmFwcGx5KFAsZCksUC5wdXNoLmFwcGx5KFAsXyksTz1QLmxlbmd0aCxiPVByb21pc2UucmVzb2x2ZShuKTtNPE87KWI9Yi50aGVuKFBbTSsrXSxQW00rK10pO3JldHVybiBifU89ZC5sZW5ndGg7bGV0IFQ9bjtmb3IoTT0wO008Tzspe2NvbnN0IFA9ZFtNKytdLEw9ZFtNKytdO3RyeXtUPVAoVCl9Y2F0Y2goeil7TC5jYWxsKHRoaXMseik7YnJlYWt9fXRyeXtiPWRpc3BhdGNoUmVxdWVzdC5jYWxsKHRoaXMsVCl9Y2F0Y2goUCl7cmV0dXJuIFByb21pc2UucmVqZWN0KFApfWZvcihNPTAsTz1fLmxlbmd0aDtNPE87KWI9Yi50aGVuKF9bTSsrXSxfW00rK10pO3JldHVybiBifWdldFVyaSh0KXt0PW1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsdCk7Y29uc3Qgbj1idWlsZEZ1bGxQYXRoKHQuYmFzZVVSTCx0LnVybCk7cmV0dXJuIGJ1aWxkVVJMKG4sdC5wYXJhbXMsdC5wYXJhbXNTZXJpYWxpemVyKX19dXRpbHMkMS5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCIsIm9wdGlvbnMiXSxmdW5jdGlvbiBlKHQpe0F4aW9zLnByb3RvdHlwZVt0XT1mdW5jdGlvbihuLGEpe3JldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoYXx8e30se21ldGhvZDp0LHVybDpuLGRhdGE6KGF8fHt9KS5kYXRhfSkpfX0pLHV0aWxzJDEuZm9yRWFjaChbInBvc3QiLCJwdXQiLCJwYXRjaCJdLGZ1bmN0aW9uIGUodCl7ZnVuY3Rpb24gbihhKXtyZXR1cm4gZnVuY3Rpb24obyxoLGQpe3JldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoZHx8e30se21ldGhvZDp0LGhlYWRlcnM6YT97IkNvbnRlbnQtVHlwZSI6Im11bHRpcGFydC9mb3JtLWRhdGEifTp7fSx1cmw6byxkYXRhOmh9KSl9fUF4aW9zLnByb3RvdHlwZVt0XT1uKCksQXhpb3MucHJvdG90eXBlW3QrIkZvcm0iXT1uKCEwKX0pO3ZhciBBeGlvcyQxPUF4aW9zO2NsYXNzIENhbmNlbFRva2Vue2NvbnN0cnVjdG9yKHQpe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoImV4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4iKTtsZXQgbjt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24obyl7bj1vfSk7Y29uc3QgYT10aGlzO3RoaXMucHJvbWlzZS50aGVuKHU9PntpZighYS5fbGlzdGVuZXJzKXJldHVybjtsZXQgbz1hLl9saXN0ZW5lcnMubGVuZ3RoO2Zvcig7by0tID4wOylhLl9saXN0ZW5lcnNbb10odSk7YS5fbGlzdGVuZXJzPW51bGx9KSx0aGlzLnByb21pc2UudGhlbj11PT57bGV0IG87Y29uc3QgaD1uZXcgUHJvbWlzZShkPT57YS5zdWJzY3JpYmUoZCksbz1kfSkudGhlbih1KTtyZXR1cm4gaC5jYW5jZWw9ZnVuY3Rpb24oKXthLnVuc3Vic2NyaWJlKG8pfSxofSx0KGZ1bmN0aW9uKG8saCxkKXthLnJlYXNvbnx8KGEucmVhc29uPW5ldyBDYW5jZWxlZEVycm9yKG8saCxkKSxuKGEucmVhc29uKSl9KX10aHJvd0lmUmVxdWVzdGVkKCl7aWYodGhpcy5yZWFzb24pdGhyb3cgdGhpcy5yZWFzb259c3Vic2NyaWJlKHQpe2lmKHRoaXMucmVhc29uKXt0KHRoaXMucmVhc29uKTtyZXR1cm59dGhpcy5fbGlzdGVuZXJzP3RoaXMuX2xpc3RlbmVycy5wdXNoKHQpOnRoaXMuX2xpc3RlbmVycz1bdF19dW5zdWJzY3JpYmUodCl7aWYoIXRoaXMuX2xpc3RlbmVycylyZXR1cm47Y29uc3Qgbj10aGlzLl9saXN0ZW5lcnMuaW5kZXhPZih0KTtuIT09LTEmJnRoaXMuX2xpc3RlbmVycy5zcGxpY2UobiwxKX10b0Fib3J0U2lnbmFsKCl7Y29uc3QgdD1uZXcgQWJvcnRDb250cm9sbGVyLG49YT0+e3QuYWJvcnQoYSl9O3JldHVybiB0aGlzLnN1YnNjcmliZShuKSx0LnNpZ25hbC51bnN1YnNjcmliZT0oKT0+dGhpcy51bnN1YnNjcmliZShuKSx0LnNpZ25hbH1zdGF0aWMgc291cmNlKCl7bGV0IHQ7cmV0dXJue3Rva2VuOm5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbih1KXt0PXV9KSxjYW5jZWw6dH19fXZhciBDYW5jZWxUb2tlbiQxPUNhbmNlbFRva2VuO2Z1bmN0aW9uIHNwcmVhZChlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUuYXBwbHkobnVsbCxuKX19ZnVuY3Rpb24gaXNBeGlvc0Vycm9yKGUpe3JldHVybiB1dGlscyQxLmlzT2JqZWN0KGUpJiZlLmlzQXhpb3NFcnJvcj09PSEwfWNvbnN0IEh0dHBTdGF0dXNDb2RlPXtDb250aW51ZToxMDAsU3dpdGNoaW5nUHJvdG9jb2xzOjEwMSxQcm9jZXNzaW5nOjEwMixFYXJseUhpbnRzOjEwMyxPazoyMDAsQ3JlYXRlZDoyMDEsQWNjZXB0ZWQ6MjAyLE5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbjoyMDMsTm9Db250ZW50OjIwNCxSZXNldENvbnRlbnQ6MjA1LFBhcnRpYWxDb250ZW50OjIwNixNdWx0aVN0YXR1czoyMDcsQWxyZWFkeVJlcG9ydGVkOjIwOCxJbVVzZWQ6MjI2LE11bHRpcGxlQ2hvaWNlczozMDAsTW92ZWRQZXJtYW5lbnRseTozMDEsRm91bmQ6MzAyLFNlZU90aGVyOjMwMyxOb3RNb2RpZmllZDozMDQsVXNlUHJveHk6MzA1LFVudXNlZDozMDYsVGVtcG9yYXJ5UmVkaXJlY3Q6MzA3LFBlcm1hbmVudFJlZGlyZWN0OjMwOCxCYWRSZXF1ZXN0OjQwMCxVbmF1dGhvcml6ZWQ6NDAxLFBheW1lbnRSZXF1aXJlZDo0MDIsRm9yYmlkZGVuOjQwMyxOb3RGb3VuZDo0MDQsTWV0aG9kTm90QWxsb3dlZDo0MDUsTm90QWNjZXB0YWJsZTo0MDYsUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkOjQwNyxSZXF1ZXN0VGltZW91dDo0MDgsQ29uZmxpY3Q6NDA5LEdvbmU6NDEwLExlbmd0aFJlcXVpcmVkOjQxMSxQcmVjb25kaXRpb25GYWlsZWQ6NDEyLFBheWxvYWRUb29MYXJnZTo0MTMsVXJpVG9vTG9uZzo0MTQsVW5zdXBwb3J0ZWRNZWRpYVR5cGU6NDE1LFJhbmdlTm90U2F0aXNmaWFibGU6NDE2LEV4cGVjdGF0aW9uRmFpbGVkOjQxNyxJbUFUZWFwb3Q6NDE4LE1pc2RpcmVjdGVkUmVxdWVzdDo0MjEsVW5wcm9jZXNzYWJsZUVudGl0eTo0MjIsTG9ja2VkOjQyMyxGYWlsZWREZXBlbmRlbmN5OjQyNCxUb29FYXJseTo0MjUsVXBncmFkZVJlcXVpcmVkOjQyNixQcmVjb25kaXRpb25SZXF1aXJlZDo0MjgsVG9vTWFueVJlcXVlc3RzOjQyOSxSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2U6NDMxLFVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zOjQ1MSxJbnRlcm5hbFNlcnZlckVycm9yOjUwMCxOb3RJbXBsZW1lbnRlZDo1MDEsQmFkR2F0ZXdheTo1MDIsU2VydmljZVVuYXZhaWxhYmxlOjUwMyxHYXRld2F5VGltZW91dDo1MDQsSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ6NTA1LFZhcmlhbnRBbHNvTmVnb3RpYXRlczo1MDYsSW5zdWZmaWNpZW50U3RvcmFnZTo1MDcsTG9vcERldGVjdGVkOjUwOCxOb3RFeHRlbmRlZDo1MTAsTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6NTExfTtPYmplY3QuZW50cmllcyhIdHRwU3RhdHVzQ29kZSkuZm9yRWFjaCgoW2UsdF0pPT57SHR0cFN0YXR1c0NvZGVbdF09ZX0pO3ZhciBIdHRwU3RhdHVzQ29kZSQxPUh0dHBTdGF0dXNDb2RlO2Z1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGUpe2NvbnN0IHQ9bmV3IEF4aW9zJDEoZSksbj1iaW5kKEF4aW9zJDEucHJvdG90eXBlLnJlcXVlc3QsdCk7cmV0dXJuIHV0aWxzJDEuZXh0ZW5kKG4sQXhpb3MkMS5wcm90b3R5cGUsdCx7YWxsT3duS2V5czohMH0pLHV0aWxzJDEuZXh0ZW5kKG4sdCxudWxsLHthbGxPd25LZXlzOiEwfSksbi5jcmVhdGU9ZnVuY3Rpb24odSl7cmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGUsdSkpfSxufWNvbnN0IGF4aW9zPWNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzJDEpO2F4aW9zLkF4aW9zPUF4aW9zJDEsYXhpb3MuQ2FuY2VsZWRFcnJvcj1DYW5jZWxlZEVycm9yLGF4aW9zLkNhbmNlbFRva2VuPUNhbmNlbFRva2VuJDEsYXhpb3MuaXNDYW5jZWw9aXNDYW5jZWwsYXhpb3MuVkVSU0lPTj1WRVJTSU9OLGF4aW9zLnRvRm9ybURhdGE9dG9Gb3JtRGF0YSxheGlvcy5BeGlvc0Vycm9yPUF4aW9zRXJyb3IsYXhpb3MuQ2FuY2VsPWF4aW9zLkNhbmNlbGVkRXJyb3IsYXhpb3MuYWxsPWZ1bmN0aW9uIGUodCl7cmV0dXJuIFByb21pc2UuYWxsKHQpfSxheGlvcy5zcHJlYWQ9c3ByZWFkLGF4aW9zLmlzQXhpb3NFcnJvcj1pc0F4aW9zRXJyb3IsYXhpb3MubWVyZ2VDb25maWc9bWVyZ2VDb25maWcsYXhpb3MuQXhpb3NIZWFkZXJzPUF4aW9zSGVhZGVycyQxLGF4aW9zLmZvcm1Ub0pTT049ZT0+Zm9ybURhdGFUb0pTT04odXRpbHMkMS5pc0hUTUxGb3JtKGUpP25ldyBGb3JtRGF0YShlKTplKSxheGlvcy5nZXRBZGFwdGVyPWFkYXB0ZXJzLmdldEFkYXB0ZXIsYXhpb3MuSHR0cFN0YXR1c0NvZGU9SHR0cFN0YXR1c0NvZGUkMSxheGlvcy5kZWZhdWx0PWF4aW9zO3ZhciBheGlvcyQxPWF4aW9zO2Z1bmN0aW9uIHJlZHVjZU1heE9yTWluKGUsdCxuKXtpZihuPT09Im1heCIpcmV0dXJuIHQoZS5yZWR1Y2UoZnVuY3Rpb24oYSx1KXtyZXR1cm4gdCh1KT50KGEpP3U6YX0pKTtpZihuPT09Im1pbiIpcmV0dXJuIHQoZS5yZWR1Y2UoZnVuY3Rpb24oYSx1KXtyZXR1cm4gdCh1KTx0KGEpP3U6YX0pKX1mdW5jdGlvbiBuZXh1c1RvTmV3aWNrKGUpe2NvbnN0IHQ9ZS5tYXRjaCgvVHJhbnNsYXRlKC4qPyk7L2dpbXMpO2xldCBuPXt9O3JldHVybiB0JiZ0WzBdLnNwbGl0KGAKYCkuZm9yRWFjaChkPT57ZD1kLnRyaW0oKTtjb25zdCB3PWQuc3BsaXQoIiAiKTtpZih3Lmxlbmd0aD09PTIpe2NvbnN0IF89d1swXSxiPXdbMV0ucmVwbGFjZSgiLCIsIiIpO25bX109Yn19KSx7bmV3aWNrOmUubWF0Y2goL3RyZWUgLisgPz0gPyguKj87KS9naW1zKVswXS5tYXRjaCgvXCgoLio/KVwpLis7L2dpbXMpWzBdLnJlcGxhY2UoLyhbXjpcLFwoXCldKykvZ2ltcyxoPT5uW2hdfHxoKX19Y29uc3QgZW1wdHlMaXN0JDE9W107YXN5bmMgZnVuY3Rpb24gZG9fZmV0Y2gkMShlLHQsbil7aWYodHx8KHQ9KCk9Pnt9KSxlLmVuZHNXaXRoKCIuZ3oiKSl7Y29uc3QgYT1hd2FpdCBheGlvcyQxLmdldChlLHtyZXNwb25zZVR5cGU6ImFycmF5YnVmZmVyIixvbkRvd25sb2FkUHJvZ3Jlc3M6aD0+e3Qoe21lc3NhZ2U6IkRvd25sb2FkaW5nIGNvbXByZXNzZWQgIituLHBlcmNlbnRhZ2U6aC5sb2FkZWQvaC50b3RhbCoxMDB9KX19KTt0KHttZXNzYWdlOiJEZWNvbXByZXNzaW5nIGNvbXByZXNzZWQgIitufSk7Y29uc3QgdT1wYWtvJDEudW5nemlwKGEuZGF0YSk7cmV0dXJuIG5ldyBUZXh0RGVjb2RlcigidXRmLTgiKS5kZWNvZGUodSl9ZWxzZSByZXR1cm4oYXdhaXQgYXhpb3MkMS5nZXQoZSx7b25Eb3dubG9hZFByb2dyZXNzOm89Pnt0KHttZXNzYWdlOiJEb3dubG9hZGluZyAiK24scGVyY2VudGFnZTpvLmxvYWRlZC9vLnRvdGFsKjEwMH0pfX0pKS5kYXRhfWZ1bmN0aW9uIGZldGNoX29yX2V4dHJhY3QkMShlLHQsbil7aWYoZS5zdGF0dXM9PT0idXJsX3N1cHBsaWVkIilyZXR1cm4gZG9fZmV0Y2gkMShlLmZpbGVuYW1lLHQsbik7aWYoZS5zdGF0dXM9PT0ibG9hZGVkIilpZihlLmZpbGVuYW1lLmluY2x1ZGVzKCIuZ3oiKSl7Y29uc3QgYT1lLmRhdGE7dCh7bWVzc2FnZToiRGVjb21wcmVzc2luZyBjb21wcmVzc2VkICIrbn0pO2NvbnN0IHU9cGFrbyQxLnVuZ3ppcChhKTtyZXR1cm4gbmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLmRlY29kZSh1KX1lbHNle2xldCBhO3JldHVybiB0eXBlb2YgZS5kYXRhPT0ic3RyaW5nIj9hPWUuZGF0YTphPW5ldyBUZXh0RGVjb2RlcigidXRmLTgiKS5kZWNvZGUoZS5kYXRhKSxhfX1mdW5jdGlvbiBwYXJzZU5ld2lja0tleVZhbHVlKGUsdCl7Y29uc3Qgbj0vKCY/XHcrKT0oe1tefV0qfXxbXixdKikvZztsZXQgYTtmb3IoOyhhPW4uZXhlYyhlKSkhPT1udWxsOyl7Y29uc3QgdT1hWzFdLnN0YXJ0c1dpdGgoIiYiKT9hWzFdLnNsaWNlKDEpOmFbMV07dFsibWV0YV8iK3VdPWFbMl19fWFzeW5jIGZ1bmN0aW9uIGNsZWFudXAkMShlKXtlLm5vZGUuZm9yRWFjaCgoaCxkKT0+e2gubm9kZV9pZD1kfSksZS5ub2RlPWUubm9kZS5tYXAoKGgsZCk9Pntjb25zdCB3PXtuYW1lOmgubmFtZS5yZXBsYWNlKC8nL2csIiIpLHBhcmVudF9pZDpoLnBhcmVudD9oLnBhcmVudC5ub2RlX2lkOmgubm9kZV9pZCx4X2Rpc3Q6aC54LG11dGF0aW9uczplbXB0eUxpc3QkMSx5OmgueSxudW1fdGlwczpoLm51bV90aXBzLGlzX3RpcDpoLmNoaWxkLmxlbmd0aD09PTAsbm9kZV9pZDpoLm5vZGVfaWR9O3JldHVybiBoLm1ldGEmJnBhcnNlTmV3aWNrS2V5VmFsdWUoaC5tZXRhLHcpLHd9KTtjb25zdCB0PTJlMyxuPWUubm9kZS5tYXAoaD0+aC54X2Rpc3QpO24uc29ydCgoaCxkKT0+aC1kKTtjb25zdCBhPS45OSxvPTQ1MC9uW01hdGguZmxvb3Iobi5sZW5ndGgqYSldO2Uubm9kZS5mb3JFYWNoKGg9PntoLnhfZGlzdD1oLnhfZGlzdCpvLGgueT1oLnkqdH0pfWFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NOZXdpY2soZSx0KXtsZXQgbjtuPWF3YWl0IGZldGNoX29yX2V4dHJhY3QkMShlLHQsInRyZWUiKSxjb25zb2xlLmxvZygiZGF0YS5maWxldHlwZSIsZS5maWxldHlwZSksZS5maWxldHlwZT09Im5leHVzIiYmKG49bmV4dXNUb05ld2ljayhuKS5uZXdpY2spLHQoe21lc3NhZ2U6IlBhcnNpbmcgTmV3aWNrIGZpbGUifSksblswXT09PSJbIiYmKG49bi5zbGljZShuLmluZGV4T2YoIl0iKSsxKSksbj1uLnJlcGxhY2VBbGwoYApgLCIiKSxuPW4ucmVwbGFjZUFsbCgiXHIiLCIiKTtjb25zdCBhPWtuX3BhcnNlKG4pO2NvbnNvbGUubG9nKCJ0cmVlIixhKTtmdW5jdGlvbiB1KFQpe3JldHVybiBULmNoaWxkLmxlbmd0aD09PTA/VC5udW1fdGlwcz0xOihULm51bV90aXBzPTAsVC5jaGlsZC5mb3JFYWNoKFA9PntULm51bV90aXBzKz11KFApfSkpLFQubnVtX3RpcHN9ZnVuY3Rpb24gbyhUKXtULmNoaWxkLnNvcnQoKFAsTCk9PlAubnVtX3RpcHMtTC5udW1fdGlwcyksVC5jaGlsZC5mb3JFYWNoKFA9PntvKFApfSl9dShhLnJvb3QpO2NvbnN0IGg9YS5yb290Lm51bV90aXBzO2UubGFkZGVyaXplJiYobyhhLnJvb3QpLGEubm9kZT1rbl9leHBhbmRfbm9kZShhLnJvb3QpKSx0KHttZXNzYWdlOiJMYXlpbmcgb3V0IHRoZSB0cmVlIn0pLGtuX2NhbHh5KGEsZS51c2VEaXN0YW5jZXM9PT0hMCksdCh7bWVzc2FnZToiU29ydGluZyBvbiBZIn0pLGEubm9kZS5zb3J0KChULFApPT5ULnktUC55KSx0KHttZXNzYWdlOiJSZS1wcm9jZXNzaW5nIn0pLGNsZWFudXAkMShhKSxjb25zb2xlLmxvZygidHJlZSIsYSk7Y29uc3QgZD1yZWR1Y2VNYXhPck1pbihhLm5vZGUsVD0+VC54X2Rpc3QsIm1heCIpLHc9cmVkdWNlTWF4T3JNaW4oYS5ub2RlLFQ9PlQueF9kaXN0LCJtaW4iKSxfPXJlZHVjZU1heE9yTWluKGEubm9kZSxUPT5ULnksIm1heCIpLGI9cmVkdWNlTWF4T3JNaW4oYS5ub2RlLFQ9PlQueSwibWluIiksTT1hLm5vZGUubWFwKFQ9PlQueSk7cmV0dXJue25vZGVzOmEubm9kZSxvdmVyYWxsTWF4WDpkLG92ZXJhbGxNYXhZOl8sb3ZlcmFsbE1pblg6dyxvdmVyYWxsTWluWTpiLHlfcG9zaXRpb25zOk0sbXV0YXRpb25zOltdLG5vZGVfdG9fbXV0Ont9LHJvb3RNdXRhdGlvbnM6W10scm9vdElkOjAsb3ZlcndyaXRlX2NvbmZpZzp7bnVtX3RpcHM6aCxmcm9tX25ld2ljazohMH19fWFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NNZXRhZGF0YUZpbGUoZSx0KXtjb25zdCBuPXc9Pntjb25zb2xlLmxvZyh3Lm1lc3NhZ2UpfTtsZXQgYTthPWF3YWl0IGZldGNoX29yX2V4dHJhY3QkMShlLG4sIm1ldGFkYXRhIik7Y29uc3QgdT1hLnNwbGl0KGAKYCksbz1uZXcgTWFwO2xldCBoO2lmKGUuZmlsZXR5cGU9PSJtZXRhX3RzdiIpaD13PT53LnNwbGl0KCIJIik7ZWxzZSBpZihlLmZpbGV0eXBlPT0ibWV0YV9jc3YiKWg9dz0+dy5zcGxpdCgiLCIpLm1hcChfPT5fLnJlcGxhY2UoLyIvZywiIikpO2Vsc2UgdGhyb3cgdCh7ZXJyb3I6IkZpbGV0eXBlIHdhcyBub3Qgc2V0LCBwbGVhc2UgcmFpc2UgYW4gaXNzdWUgb24gb3VyIEdpdEh1YiBwYWdlIn0pLG5ldyBFcnJvcigiRmlsZXR5cGUgd2FzIG5vdCBzZXQsIHBsZWFzZSByYWlzZSBhbiBpc3N1ZSBvbiBvdXIgR2l0SHViIHBhZ2UiKTtsZXQgZDtyZXR1cm4gdS5mb3JFYWNoKCh3LF8pPT57aWYoXyUxZTQ9PT0wJiYodCh7bWVzc2FnZToiUGFyc2luZyBtZXRhZGF0YSBmaWxlIixwZXJjZW50YWdlOl8vdS5sZW5ndGgqMTAwfSksY29uc29sZS5sb2coXykpLF89PT0wKWQ9aCh3KTtlbHNle2NvbnN0IGI9aCh3KTtsZXQgTTtpZihlLnRheG9uQ29sdW1uKXtjb25zdCBUPWQuaW5kZXhPZihlLnRheG9uQ29sdW1uKTtNPWJbVF19ZWxzZSBNPWJbMF07Y29uc3QgTz17fTtiLnNsaWNlKDEpLmZvckVhY2goKFQsUCk9PntPWyJtZXRhXyIrZFtQKzFdXT1UfSksby5zZXQoTSxPKX19KSx0KHttZXNzYWdlOiJGaW5hbGlzaW5nIn0pLFtvLGRdfWFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NOZXdpY2tBbmRNZXRhZGF0YShlLHQpe2NvbnN0IG49cHJvY2Vzc05ld2ljayhlLHQpO2xldCBhLHUsbz1uZXcgTWFwLGg9W107Y29uc3QgZD1lLm1ldGFkYXRhO2Q/KFthLHVdPWF3YWl0IFByb21pc2UuYWxsKFtuLHByb2Nlc3NNZXRhZGF0YUZpbGUoZCx0KV0pLFtvLGhdPXUpOmE9YXdhaXQgbjtjb25zdCB3PU9iamVjdC5mcm9tRW50cmllcyhoLnNsaWNlKDEpLm1hcChNPT5bIm1ldGFfIitNLCIiXSkpLF89bmV3IFNldDthLm5vZGVzLmZvckVhY2goTT0+e09iamVjdC5rZXlzKE0pLmZpbHRlcihUPT5ULnN0YXJ0c1dpdGgoIm1ldGFfIikpLmZvckVhY2goVD0+e18uYWRkKFQpfSl9KSxjb25zb2xlLmxvZygiYWxsX2tleXMiLF8pLF8uZm9yRWFjaChNPT57d1tNXXx8KHdbTV09IiIpfSksY29uc29sZS5sb2coImJsYW5rcyIsdyk7Y29uc3QgYj1PYmplY3QuZW50cmllcyh3KTtyZXR1cm4gdCh7bWVzc2FnZToiQXNzaWduaW5nIG1ldGFkYXRhIHRvIG5vZGVzIn0pLGEubm9kZXMuZm9yRWFjaChNPT57Y29uc3QgTz1vLmdldChNLm5hbWUpO2IuZm9yRWFjaCgoW1QsUF0pPT57TVtUXXx8KE1bVF09UCl9KSxPJiZPYmplY3QuYXNzaWduKE0sTyl9KSxhfWNvbnN0IGVtcHR5TGlzdD1bXSxub2RlTXV0YXRpb25zRnJvbU5leHRTdHJhaW5Ub1RheG9uaXVtPShlLHQsbik9Pntjb25zdCBhPU9iamVjdC5rZXlzKGUpLHU9ZS5udWM/ZS5udWM6W10sbz1hLmZpbHRlcihkPT5kIT09Im51YyIpLGg9W107cmV0dXJuIHUuZm9yRWFjaChkPT57Y29uc3Qgdz1kLm1hdGNoKC9cZCsvZyksXz1kLmluZGV4T2Yod1swXSksYj1kLnN1YnN0cmluZygwLF8pLE09ZC5zdWJzdHJpbmcoXyt3WzBdLmxlbmd0aCksTz17dHlwZToibnQiLGdlbmU6Im50IixwcmV2aW91c19yZXNpZHVlOmIsbmV3X3Jlc2lkdWU6TSxyZXNpZHVlX3BvczpwYXJzZUludCh3WzBdKX0sVD1KU09OLnN0cmluZ2lmeShPKTtpZihuW1RdKWgucHVzaChuW1RdKTtlbHNle3QucHVzaCh7Li4uTyxtdXRhdGlvbl9pZDp0Lmxlbmd0aH0pO2NvbnN0IFA9dC5sZW5ndGgtMTtuW1RdPVAsaC5wdXNoKFApfX0pLG8uZm9yRWFjaChkPT57ZVtkXS5mb3JFYWNoKF89Pntjb25zdCBiPV8ubWF0Y2goL1xkKy9nKSxNPV8uaW5kZXhPZihiWzBdKSxPPV8uc3Vic3RyaW5nKDAsTSksVD1fLnN1YnN0cmluZyhNK2JbMF0ubGVuZ3RoKSxQPXt0eXBlOiJhYSIsZ2VuZTpkLHByZXZpb3VzX3Jlc2lkdWU6TyxuZXdfcmVzaWR1ZTpULHJlc2lkdWVfcG9zOnBhcnNlSW50KGJbMF0pfSxMPUpTT04uc3RyaW5naWZ5KFApO2lmKG5bTF0paC5wdXNoKG5bTF0pO2Vsc2V7dC5wdXNoKHsuLi5QLG11dGF0aW9uX2lkOnQubGVuZ3RofSk7Y29uc3Qgej10Lmxlbmd0aC0xO25bTF09eixoLnB1c2goeil9fSl9KSxofTthc3luYyBmdW5jdGlvbiBkb19mZXRjaChlLHQsbil7aWYodHx8KHQ9KCk9Pnt9KSxlLmVuZHNXaXRoKCIuZ3oiKSl7Y29uc3QgYT1hd2FpdCBheGlvcyQxLmdldChlLHtyZXNwb25zZVR5cGU6ImFycmF5YnVmZmVyIixvbkRvd25sb2FkUHJvZ3Jlc3M6aD0+e3Qoe21lc3NhZ2U6IkRvd25sb2FkaW5nIGNvbXByZXNzZWQgIituLHBlcmNlbnRhZ2U6aC5sb2FkZWQvaC50b3RhbCoxMDB9KX19KTt0KHttZXNzYWdlOiJEZWNvbXByZXNzaW5nIGNvbXByZXNzZWQgIitufSk7Y29uc3QgdT1wYWtvJDEudW5nemlwKGEuZGF0YSk7cmV0dXJuIG5ldyBUZXh0RGVjb2RlcigidXRmLTgiKS5kZWNvZGUodSl9ZWxzZSByZXR1cm4oYXdhaXQgYXhpb3MkMS5nZXQoZSx7dHJhbnNmb3JtUmVzcG9uc2U6bz0+byxyZXNwb25zZVR5cGU6Impzb24iLG9uRG93bmxvYWRQcm9ncmVzczpvPT57dCh7bWVzc2FnZToiRG93bmxvYWRpbmcgIituLHBlcmNlbnRhZ2U6by5sb2FkZWQvby50b3RhbCoxMDB9KX19KSkuZGF0YX1mdW5jdGlvbiBmZXRjaF9vcl9leHRyYWN0KGUsdCxuKXtpZihlLnN0YXR1cz09PSJ1cmxfc3VwcGxpZWQiKXJldHVybiBkb19mZXRjaChlLmZpbGVuYW1lLHQsbik7aWYoZS5zdGF0dXM9PT0ibG9hZGVkIilpZihlLmZpbGVuYW1lLmluY2x1ZGVzKCIuZ3oiKSl7Y29uc3QgYT1lLmRhdGE7dCh7bWVzc2FnZToiRGVjb21wcmVzc2luZyBjb21wcmVzc2VkICIrbn0pO2NvbnN0IHU9cGFrbyQxLnVuZ3ppcChhKTtyZXR1cm4gbmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLmRlY29kZSh1KX1lbHNlIHJldHVybiBuZXcgVGV4dERlY29kZXIoInV0Zi04IikuZGVjb2RlKGUuZGF0YSl9YXN5bmMgZnVuY3Rpb24gY2xlYW51cChlKXtlLm5vZGUuZm9yRWFjaCgoXyxiKT0+e18ubm9kZV9pZD1ifSksZS5ub2RlPWUubm9kZS5tYXAoKF8sYik9Pntjb25zdCBNPXtuYW1lOl8ubmFtZS5yZXBsYWNlKC8nL2csIiIpLHBhcmVudF9pZDpfLnBhcmVudD9fLnBhcmVudC5ub2RlX2lkOl8ubm9kZV9pZCxtdXRhdGlvbnM6Xy5tdXRhdGlvbnM/Xy5tdXRhdGlvbnM6ZW1wdHlMaXN0LHk6Xy55LG51bV90aXBzOl8ubnVtX3RpcHMsaXNfdGlwOl8uY2hpbGQubGVuZ3RoPT09MCxub2RlX2lkOl8ubm9kZV9pZH07cmV0dXJuIE9iamVjdC5rZXlzKF8pLmZvckVhY2goTz0+e08uc3RhcnRzV2l0aCgibWV0YV8iKSYmKE1bT109X1tPXSl9KSxfLnhfZGlzdCE9PXZvaWQgMCYmKE0ueF9kaXN0PV8ueF9kaXN0KSxfLnhfdGltZSE9PXZvaWQgMCYmKE0ueF90aW1lPV8ueF90aW1lKSxNfSk7Y29uc3QgdD0yZTMsbj1lLm5vZGUubWFwKF89Pl8ueF9kaXN0KSxhPWUubm9kZS5tYXAoXz0+Xy54X3RpbWUpO24uc29ydCgoXyxiKT0+Xy1iKSxhLnNvcnQoKF8sYik9Pl8tYik7Y29uc3QgdT0uOTksbz1uW01hdGguZmxvb3Iobi5sZW5ndGgqdSldLGg9YVtNYXRoLmZsb29yKGEubGVuZ3RoKnUpXSxkPTQ1MC9vLHc9NDUwL2g7ZS5ub2RlLmZvckVhY2goXz0+e18ueF9kaXN0IT09dm9pZCAwJiYoXy54X2Rpc3Q9Xy54X2Rpc3QqZCksXy54X3RpbWUhPT12b2lkIDAmJihfLnhfdGltZT1fLnhfdGltZSp3KSxfLnk9Xy55KnR9KX1hc3luYyBmdW5jdGlvbiBwcm9jZXNzSnNUcmVlKGUsdCxuLGEpe2Z1bmN0aW9uIHUoVCl7cmV0dXJuIFQuY2hpbGQubGVuZ3RoPT09MD9ULm51bV90aXBzPTE6KFQubnVtX3RpcHM9MCxULmNoaWxkLmZvckVhY2goUD0+e1QubnVtX3RpcHMrPXUoUCl9KSksVC5udW1fdGlwc31mdW5jdGlvbiBvKFQpe1QuY2hpbGQuc29ydCgoUCxMKT0+UC5udW1fdGlwcy1MLm51bV90aXBzKSxULmNoaWxkLmZvckVhY2goUD0+e28oUCl9KX11KGUucm9vdCk7Y29uc3QgaD1lLnJvb3QubnVtX3RpcHM7dC5sYWRkZXJpemUmJm8oZS5yb290KSxlLm5vZGU9a25fZXhwYW5kX25vZGUoZS5yb290KSxhKHttZXNzYWdlOiJMYXlpbmcgb3V0IHRoZSB0cmVlIn0pLGUubm9kZVswXS5wcmVfeF9kaXN0IT09dm9pZCAwJiYoZS5ub2RlLmZvckVhY2goVD0+e1QuZD1ULnByZV94X2Rpc3R9KSxrbl9jYWx4eShlLCEwKSxlLm5vZGUuZm9yRWFjaChUPT57VC54X2Rpc3Q9VC54fSkpLGUubm9kZVswXS5wcmVfeF90aW1lIT09dm9pZCAwJiYoZS5ub2RlLmZvckVhY2goVD0+e1QuZD1ULnByZV94X3RpbWV9KSxrbl9jYWx4eShlLCEwKSxlLm5vZGUuZm9yRWFjaChUPT57VC54X3RpbWU9VC54fSkpLGEoe21lc3NhZ2U6IlNvcnRpbmcgb24gWSJ9KSxlLm5vZGUuc29ydCgoVCxQKT0+VC55LVAueSksYSh7bWVzc2FnZToiUmUtcHJvY2Vzc2luZyJ9KSxjbGVhbnVwKGUpO2NvbnN0IGQ9cmVkdWNlTWF4T3JNaW4oZS5ub2RlLFQ9PlQueF9kaXN0LCJtYXgiKSx3PXJlZHVjZU1heE9yTWluKGUubm9kZSxUPT5ULnhfZGlzdCwibWluIiksXz1yZWR1Y2VNYXhPck1pbihlLm5vZGUsVD0+VC55LCJtYXgiKSxiPXJlZHVjZU1heE9yTWluKGUubm9kZSxUPT5ULnksIm1pbiIpLE09ZS5ub2RlLm1hcChUPT5ULnkpO3JldHVybntub2RlczplLm5vZGUsb3ZlcmFsbE1heFg6ZCxvdmVyYWxsTWF4WTpfLG92ZXJhbGxNaW5YOncsb3ZlcmFsbE1pblk6Yix5X3Bvc2l0aW9uczpNLG11dGF0aW9uczpbXSxub2RlX3RvX211dDp7fSxyb290TXV0YXRpb25zOltdLHJvb3RJZDowLG92ZXJ3cml0ZV9jb25maWc6ey4uLm4sbnVtX3RpcHM6aH19fWZ1bmN0aW9uIGpzb25fcHJlb3JkZXIoZSl7bGV0IHQ9MDtjb25zdCBuPXt9O25bZS5uYW1lXT1udWxsO2NvbnN0IGE9W10sdT1bZV0sbz1bXSxoPXt9O2Zvcig7dS5sZW5ndGg+MDspe2NvbnN0IGQ9dS5wb3AoKTtsZXQgdz1udWxsLF89bnVsbDtkLm5vZGVfYXR0cnMuZGl2JiYodz1kLm5vZGVfYXR0cnMuZGl2KSxkLm5vZGVfYXR0cnMubnVtX2RhdGUmJihfPWQubm9kZV9hdHRycy5udW1fZGF0ZS52YWx1ZSk7Y29uc3QgYj17bmFtZTpkLm5hbWUsY2hpbGQ6W10sbWV0YToiIixobDohMSxoaWRkZW46ITEsbXV0YXRpb25zOmQuYnJhbmNoX2F0dHJzJiZkLmJyYW5jaF9hdHRycy5tdXRhdGlvbnM/bm9kZU11dGF0aW9uc0Zyb21OZXh0U3RyYWluVG9UYXhvbml1bShkLmJyYW5jaF9hdHRycy5tdXRhdGlvbnMsbyxoKTpbXX07dyYmKGIuZGl2PXcpLF8mJihiLnRpbWU9Xyk7Y29uc3QgTT1bImRpdiIsIm51bV9kYXRlIl07aWYoT2JqZWN0LmtleXMoZC5ub2RlX2F0dHJzKS5maWx0ZXIoTz0+IU0uaW5jbHVkZXMoTykpLmZvckVhY2goTz0+e2NvbnN0IFQ9ZC5ub2RlX2F0dHJzW09dO2JbYG1ldGFfJHtPfWBdPVQudmFsdWUmJnR5cGVvZiBULnZhbHVlIT0ib2JqZWN0Ij9ULnZhbHVlOnR5cGVvZiBUIT0ib2JqZWN0Ij9UOiIifSksYS5wdXNoKGIpLGQuY2hpbGRyZW4hPT12b2lkIDApZm9yKGNvbnN0IE8gb2YgZC5jaGlsZHJlbiluW08ubmFtZV09Yix1LnB1c2goTyk7ZWxzZSB0Kz0xfXJldHVybntwYXRoOmEscGFyZW50czpuLG5fdGlwczp0LHVuaXF1ZV9tdXRhdGlvbnM6b319YXN5bmMgZnVuY3Rpb24ganNvbl90b190cmVlKGUpe2NvbnN0IHQ9ZS50cmVlLHtwYXRoOm4scGFyZW50czphLG5fdGlwczp1LHVuaXF1ZV9tdXRhdGlvbnM6b309anNvbl9wcmVvcmRlcih0KSxoPVtdO2xldCBkO2Zvcihjb25zdCBNIG9mIG4pe2NvbnN0IE89YVtNLm5hbWVdO00ucGFyZW50PU8sTz8oTy5jaGlsZC5wdXNoKE0pLE0uZGl2IT09dm9pZCAwJiYoTS5wcmVfeF9kaXN0PU0uZGl2LU8uZGl2KSxNLnRpbWUhPT12b2lkIDAmJihNLnByZV94X3RpbWU9TS50aW1lLU8udGltZSkpOihkPU0sTS5wcmVfeF90aW1lPTAsTS5wcmVfeF9kaXN0PTApLGgucHVzaChNKX1jb25zdCB3PXtub2RlOmgsZXJyb3I6MCxuX3RpcHM6dSxyb290OmR9LF89e307Y29uc29sZS5sb2coIk1FVEEiLGUubWV0YSksXy50aXRsZT1lLm1ldGEudGl0bGUsY29uc29sZS5sb2coIk1FVEEgUFJPViIsZS5tZXRhLmRhdGFfcHJvdmVuYW5jZSksXy5zb3VyY2U9IiIsZS5tZXRhJiZlLm1ldGEuZGF0YV9wcm92ZW5hbmNlJiYoXy5zb3VyY2U9Xy5zb3VyY2UrZS5tZXRhLmRhdGFfcHJvdmVuYW5jZS5tYXAoTT0+TS5uYW1lKS5qb2luKCIgJiAiKSksXy5zb3VyY2UuaW5jbHVkZXMoIkdJU0FJRCIpJiYoXy5lbmFibGVkX2J5X2dpc2FpZD0hMCk7ZnVuY3Rpb24gYihNKXt2YXIgTz0vXFsoW15cXV0rKVxdXCgoW14pXSspXCkvZyxUPU0ucmVwbGFjZShPLCc8YSBjbGFzcz0idW5kZXJsaW5lIiBocmVmPSIkMiI+JDE8L2E+Jyk7cmV0dXJuIFR9aWYoXy5vdmVybGF5PSI8cD5UaGlzIGlzIGEgdHJlZSBleHRyYWN0ZWQgZnJvbSBhIDxhIGNsYXNzPSd1bmRlcmxpbmUnIGhyZWY9Jy8vbmV4dHN0cmFpbi5vcmcnPk5leHRzdHJhaW48L2E+IEpTT04gZmlsZSwgYmVpbmcgdmlzdWFsaXNlZCBpbiBUYXhvbml1bS48L3A+LiIsZS5tZXRhLmRlc2NyaXB0aW9uJiYoXy5vdmVybGF5PV8ub3ZlcmxheSsiPHA+IitiKGUubWV0YS5kZXNjcmlwdGlvbikrIjwvcD4iKSxlLm1ldGEmJmUubWV0YS51cGRhdGVkJiYoXy5zb3VyY2U9Xy5zb3VyY2UrIiBpbiBhIHRyZWUgYnVpbHQgb24gIitlLm1ldGEudXBkYXRlZCksZS5tZXRhJiZlLm1ldGEubWFpbnRhaW5lcnMpe18uc291cmNlPV8uc291cmNlKyIgaW4gYSBidWlsZCBtYWludGFpbmVkIGJ5ICIrZS5tZXRhLm1haW50YWluZXJzLm1hcChPPT5PLm5hbWUpLmpvaW4oIiAmICIpO2NvbnN0IE09ZS5tZXRhLm1haW50YWluZXJzLm1hcChPPT5gPGEgY2xhc3M9J3VuZGVybGluZScgaHJlZj0nJHtPLnVybH0nPiR7Ty5uYW1lfTwvYT5gKS5qb2luKCIgJiAiKTtfLm92ZXJsYXkrPWA8cD5UaGUgTmV4dHN0cmFpbiBidWlsZCBpcyBtYWludGFpbmVkIGJ5ICR7TX0uPC9wPmB9cmV0dXJuIGUubWV0YS5idWlsZF91cmwmJihfLm92ZXJsYXkrPWA8cD5UaGUgTmV4dHN0cmFpbiBidWlsZCBpcyBhdmFpbGFibGUgPGEgY2xhc3M9J3VuZGVybGluZScgaHJlZj0nJHtlLm1ldGEuYnVpbGRfdXJsfSc+aGVyZTwvYT4uPC9wPmApLHtqc1RyZWU6dyxjb25maWc6Xyx1bmlxdWVfbXV0YXRpb25zOm99fWFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NOZXh0c3RyYWluKGUsdCl7Y29uc3Qgbj1hd2FpdCBmZXRjaF9vcl9leHRyYWN0KGUsdCwidHJlZSIpO3Qoe21lc3NhZ2U6IlBhcnNpbmcgTmV4dHN0cmFpbiBmb3JtYXQifSk7Y29uc3R7anNUcmVlOmEsY29uZmlnOnUsdW5pcXVlX211dGF0aW9uczpvfT1hd2FpdCBqc29uX3RvX3RyZWUoSlNPTi5wYXJzZShuKSksaD1hd2FpdCBwcm9jZXNzSnNUcmVlKGEsZSx1LHQpLGQ9aC5ub2Rlcy5tYXAodz0+dy5tdXRhdGlvbnMpO3JldHVybnsuLi5oLG11dGF0aW9uczpvLG5vZGVfdG9fbXV0OmR9fXZhciBsaWI9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGxpYiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIFJlYWRhYmxlV2ViVG9Ob2RlU3RyZWFtXzE9bGliLlJlYWRhYmxlV2ViVG9Ob2RlU3RyZWFtPXZvaWQgMDtjb25zdCByZWFkYWJsZV9zdHJlYW1fMT1yZWFkYWJsZUJyb3dzZXJFeHBvcnRzJDE7Y2xhc3MgUmVhZGFibGVXZWJUb05vZGVTdHJlYW0gZXh0ZW5kcyByZWFkYWJsZV9zdHJlYW1fMS5SZWFkYWJsZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuYnl0ZXNSZWFkPTAsdGhpcy5yZWxlYXNlZD0hMSx0aGlzLnJlYWRlcj10LmdldFJlYWRlcigpfWFzeW5jIF9yZWFkKCl7aWYodGhpcy5yZWxlYXNlZCl7dGhpcy5wdXNoKG51bGwpO3JldHVybn10aGlzLnBlbmRpbmdSZWFkPXRoaXMucmVhZGVyLnJlYWQoKTtjb25zdCB0PWF3YWl0IHRoaXMucGVuZGluZ1JlYWQ7ZGVsZXRlIHRoaXMucGVuZGluZ1JlYWQsdC5kb25lfHx0aGlzLnJlbGVhc2VkP3RoaXMucHVzaChudWxsKToodGhpcy5ieXRlc1JlYWQrPXQudmFsdWUubGVuZ3RoLHRoaXMucHVzaCh0LnZhbHVlKSl9YXN5bmMgd2FpdEZvclJlYWRUb0NvbXBsZXRlKCl7dGhpcy5wZW5kaW5nUmVhZCYmYXdhaXQgdGhpcy5wZW5kaW5nUmVhZH1hc3luYyBjbG9zZSgpe2F3YWl0IHRoaXMuc3luY0FuZFJlbGVhc2UoKX1hc3luYyBzeW5jQW5kUmVsZWFzZSgpe3RoaXMucmVsZWFzZWQ9ITAsYXdhaXQgdGhpcy53YWl0Rm9yUmVhZFRvQ29tcGxldGUoKSxhd2FpdCB0aGlzLnJlYWRlci5yZWxlYXNlTG9jaygpfX1SZWFkYWJsZVdlYlRvTm9kZVN0cmVhbV8xPWxpYi5SZWFkYWJsZVdlYlRvTm9kZVN0cmVhbT1SZWFkYWJsZVdlYlRvTm9kZVN0cmVhbSxjb25zb2xlLmxvZygid29ya2VyIHN0YXJ0aW5nIikscG9zdE1lc3NhZ2Uoe2RhdGE6IldvcmtlciBzdGFydGluZyJ9KTtjb25zdCB0aGVfY2FjaGU9e30sY2FjaGVfaGVscGVyPXtyZXRyaWV2ZV9mcm9tX2NhY2hlOmU9PnRoZV9jYWNoZVtlXSxzdG9yZV9pbl9jYWNoZTooZSx0KT0+e3RoZV9jYWNoZVtlXT10O2xldCBuPTA7Zm9yKGNvbnN0IGEgaW4gdGhlX2NhY2hlKW4rPXRoZV9jYWNoZVthXS5sZW5ndGg7aWYobj4xZTgpe2NvbnN0IGE9T2JqZWN0LmtleXModGhlX2NhY2hlKSx1PWFbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmEubGVuZ3RoKV07ZGVsZXRlIHRoZV9jYWNoZVt1XX19fTtsZXQgcHJvY2Vzc2VkVXBsb2FkZWREYXRhO2NvbnN0IHNlbmRTdGF0dXNNZXNzYWdlPWU9Pntwb3N0TWVzc2FnZSh7dHlwZToic3RhdHVzIixkYXRhOmV9KX0sd2FpdEZvclByb2Nlc3NlZERhdGE9YXN5bmMoKT0+e3Byb2Nlc3NlZFVwbG9hZGVkRGF0YT09PXZvaWQgMCYmYXdhaXQgbmV3IFByb21pc2UoZT0+e2NvbnN0IHQ9c2V0SW50ZXJ2YWwoKCk9Pntwcm9jZXNzZWRVcGxvYWRlZERhdGEhPT12b2lkIDAmJihjbGVhckludGVydmFsKHQpLGUoKSl9LDEwMCl9KX0scXVlcnlOb2Rlcz1hc3luYyBlPT57Y29uc29sZS5sb2coIldvcmtlciBxdWVyeSBOb2RlcyIpLGF3YWl0IHdhaXRGb3JQcm9jZXNzZWREYXRhKCk7Y29uc3R7bm9kZXM6dCxvdmVyYWxsTWF4WDpuLG92ZXJhbGxNYXhZOmEsb3ZlcmFsbE1pblg6dSxvdmVyYWxsTWluWTpvLHlfcG9zaXRpb25zOmh9PXByb2Nlc3NlZFVwbG9hZGVkRGF0YTtsZXQgZD1pc05hTihlLm1pbl95KT9vOmUubWluX3ksdz1pc05hTihlLm1heF95KT9hOmUubWF4X3ksXz1pc05hTihlLm1pbl94KT91OmUubWluX3gsYj1pc05hTihlLm1heF94KT9uOmUubWF4X3g7ZDxvJiYoZD1vKSx3PmEmJih3PWEpO2xldCBNO3JldHVybiBjb25zb2xlLmxvZygiZmlsdGVyaW5nIiksTT17bm9kZXM6ZmlsdGVyaW5nLmdldE5vZGVzKHQsaCxkLHcsXyxiLGUueFR5cGUpfSxjb25zb2xlLmxvZygicmVzdWx0IGlzIGRvbmUiKSxNfSxzZWFyY2g9YXN5bmMoZSx0KT0+e2NvbnNvbGUubG9nKCJXb3JrZXIgcXVlcnkgU2VhcmNoIiksYXdhaXQgd2FpdEZvclByb2Nlc3NlZERhdGEoKTtjb25zdHtub2RlczpuLG92ZXJhbGxNYXhYOmEsb3ZlcmFsbE1heFk6dSxvdmVyYWxsTWluWDpvLG92ZXJhbGxNaW5ZOmgseV9wb3NpdGlvbnM6ZCxub2RlX3RvX211dDp3LG11dGF0aW9uczpffT1wcm9jZXNzZWRVcGxvYWRlZERhdGEsYj1KU09OLnBhcnNlKGUpO2NvbnNvbGUubG9nKGIpO2NvbnN0IE09dCYmdC5taW5feT90Lm1pbl95OmgsTz10JiZ0Lm1heF95P3QubWF4X3k6dSxUPXQmJnQubWluX3g/dC5taW5feDpvLFA9dCYmdC5tYXhfeD90Lm1heF94OmEsTD10JiZ0LnhUeXBlP3QueFR5cGU6InhfZGlzdCIsej1maWx0ZXJpbmcuc2luZ2xlU2VhcmNoKHtkYXRhOm4sc3BlYzpiLG1pbl95Ok0sbWF4X3k6TyxtaW5feDpULG1heF94OlAseV9wb3NpdGlvbnM6ZCxtdXRhdGlvbnM6Xyxub2RlX3RvX211dDp3LHhUeXBlOkwsY2FjaGVfaGVscGVyfSk7cmV0dXJuIGNvbnNvbGUubG9nKCJnb3Qgc2VhcmNoIHJlc3VsdCIseiksei5rZXk9Yi5rZXksen0sZ2V0Q29uZmlnPWFzeW5jKCk9Pntjb25zb2xlLmxvZygiV29ya2VyIGdldENvbmZpZyIpLGF3YWl0IHdhaXRGb3JQcm9jZXNzZWREYXRhKCk7Y29uc3QgZT17fTtyZXR1cm4gZ2VuZXJhdGVDb25maWcoZSxwcm9jZXNzZWRVcGxvYWRlZERhdGEpLGUubXV0YXRpb25zPXByb2Nlc3NlZFVwbG9hZGVkRGF0YS5tdXRhdGlvbnMsY29uc29sZS5sb2coIm92ZXJ3cml0ZSB3aXRoIixwcm9jZXNzZWRVcGxvYWRlZERhdGEub3ZlcndyaXRlX2NvbmZpZyksey4uLmUsLi4ucHJvY2Vzc2VkVXBsb2FkZWREYXRhLm92ZXJ3cml0ZV9jb25maWd9fSxnZXREZXRhaWxzPWFzeW5jIGU9Pntjb25zb2xlLmxvZygiV29ya2VyIGdldERldGFpbHMiKSxhd2FpdCB3YWl0Rm9yUHJvY2Vzc2VkRGF0YSgpO2NvbnN0e25vZGVzOnR9PXByb2Nlc3NlZFVwbG9hZGVkRGF0YSxuPXRbZV07Y29uc29sZS5sb2coIm5vZGUgaXMgIixuKTtjb25zdCBhPXsuLi5ufTtyZXR1cm4gYS5tdXRhdGlvbnM9cHJvY2Vzc2VkVXBsb2FkZWREYXRhLm5vZGVfdG9fbXV0W2VdP3Byb2Nlc3NlZFVwbG9hZGVkRGF0YS5ub2RlX3RvX211dFtlXS5tYXAodT0+cHJvY2Vzc2VkVXBsb2FkZWREYXRhLm11dGF0aW9uc1t1XSk6W10sY29uc29sZS5sb2coImRldGFpbHMgaXMgIixhKSxhfSxnZXRMaXN0PWFzeW5jKGUsdCk9Pntjb25zb2xlLmxvZygiV29ya2VyIGdldExpc3QiKSxhd2FpdCB3YWl0Rm9yUHJvY2Vzc2VkRGF0YSgpO2NvbnN0e25vZGVzOm59PXByb2Nlc3NlZFVwbG9hZGVkRGF0YTtyZXR1cm4gZmlsdGVyaW5nLmdldFRpcEF0dHMobixlLHQpfTtvbm1lc3NhZ2U9YXN5bmMgZT0+e2NvbnNvbGUubG9nKCJXb3JrZXIgb25tZXNzYWdlIik7Y29uc3R7ZGF0YTp0fT1lO2lmKHQudHlwZT09PSJ1cGxvYWQiJiZ0LmRhdGEmJnQuZGF0YS5maWxlbmFtZSYmdC5kYXRhLmZpbGVuYW1lLmluY2x1ZGVzKCJqc29ubCIpKXByb2Nlc3NlZFVwbG9hZGVkRGF0YT1hd2FpdCBwcm9jZXNzSnNvbmwodC5kYXRhLHNlbmRTdGF0dXNNZXNzYWdlLFJlYWRhYmxlV2ViVG9Ob2RlU3RyZWFtXzEpLGNvbnNvbGUubG9nKCJwcm9jZXNzZWRVcGxvYWRlZERhdGEgY3JlYXRlZCIpO2Vsc2UgaWYodC50eXBlPT09InVwbG9hZCImJnQuZGF0YSYmdC5kYXRhLmZpbGVuYW1lJiYodC5kYXRhLmZpbGV0eXBlPT09Im53ayJ8fHQuZGF0YS5maWxldHlwZT09PSJuZXh1cyIpKWNvbnNvbGUubG9nKCJnb3QgbndrIGZpbGUiLHQuZGF0YSksdC5kYXRhLnVzZURpc3RhbmNlcz0hMCxwcm9jZXNzZWRVcGxvYWRlZERhdGE9YXdhaXQgcHJvY2Vzc05ld2lja0FuZE1ldGFkYXRhKHQuZGF0YSxzZW5kU3RhdHVzTWVzc2FnZSk7ZWxzZSBpZih0LnR5cGU9PT0idXBsb2FkIiYmdC5kYXRhJiZ0LmRhdGEuZmlsZW5hbWUmJnQuZGF0YS5maWxldHlwZT09PSJuZXh0c3RyYWluIilwcm9jZXNzZWRVcGxvYWRlZERhdGE9YXdhaXQgcHJvY2Vzc05leHRzdHJhaW4odC5kYXRhLHNlbmRTdGF0dXNNZXNzYWdlKTtlbHNlIGlmKHQudHlwZT09PSJ1cGxvYWQiJiZ0LmRhdGEmJnQuZGF0YS5maWxlbmFtZSlzZW5kU3RhdHVzTWVzc2FnZSh7ZXJyb3I6Ik9ubHkgVGF4b25pdW0ganNvbmwgZmlsZXMgYXJlIHN1cHBvcnRlZCAoY291bGQgbm90IGZpbmQgJ2pzb25sJyBpbiBmaWxlbmFtZSkifSk7ZWxzZXtpZih0LnR5cGU9PT0icXVlcnkiKXtjb25zb2xlLmxvZygiV29ya2VyIHF1ZXJ5Iik7Y29uc3Qgbj1hd2FpdCBxdWVyeU5vZGVzKHQuYm91bmRzKTtwb3N0TWVzc2FnZSh7dHlwZToicXVlcnkiLGRhdGE6bn0pfWlmKHQudHlwZT09PSJzZWFyY2giKXtjb25zb2xlLmxvZygiV29ya2VyIHNlYXJjaCIpO2NvbnN0IG49YXdhaXQgc2VhcmNoKHQuc2VhcmNoLHQuYm91bmRzKTtwb3N0TWVzc2FnZSh7dHlwZToic2VhcmNoIixkYXRhOm59KX1pZih0LnR5cGU9PT0iY29uZmlnIil7Y29uc29sZS5sb2coIldvcmtlciBjb25maWciKTtjb25zdCBuPWF3YWl0IGdldENvbmZpZygpO3Bvc3RNZXNzYWdlKHt0eXBlOiJjb25maWciLGRhdGE6bn0pfWlmKHQudHlwZT09PSJkZXRhaWxzIil7Y29uc29sZS5sb2coIldvcmtlciBkZXRhaWxzIik7Y29uc3Qgbj1hd2FpdCBnZXREZXRhaWxzKHQubm9kZV9pZCk7cG9zdE1lc3NhZ2Uoe3R5cGU6ImRldGFpbHMiLGRhdGE6bn0pfWlmKHQudHlwZT09PSJsaXN0Iil7Y29uc3Qgbj1hd2FpdCBnZXRMaXN0KHQubm9kZV9pZCx0LmtleSk7cG9zdE1lc3NhZ2Uoe3R5cGU6Imxpc3QiLGRhdGE6bn0pfWlmKHQudHlwZT09PSJuZXh0c3RyYWluIil7Y29uc3Qgbj1hd2FpdCBnZXROZXh0c3RyYWluU3VidHJlZUpzb24odC5ub2RlX2lkLHByb2Nlc3NlZFVwbG9hZGVkRGF0YS5ub2Rlcyx0LmNvbmZpZyxwcm9jZXNzZWRVcGxvYWRlZERhdGEubXV0YXRpb25zKTtwb3N0TWVzc2FnZSh7dHlwZToibmV4dHN0cmFpbiIsZGF0YTpufSl9fX19KSgpOwo=",mM=typeof window<"u"&&window.Blob&&new Blob([atob(sK)],{type:"text/javascript;charset=utf-8"});function dve(){let t;try{if(t=mM&&(window.URL||window.webkitURL).createObjectURL(mM),!t)throw"";return new Worker(t)}catch{return new Worker("data:application/javascript;base64,"+sK)}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}console.log("new worker");const lr=new dve;let oK=t=>{},cK=t=>{console.log("STATUS:",t.data)},uK=t=>{},dK=t=>{},mK=t=>{},mve=t=>{console.log("NEXT STRAIN:",t);const e=new Blob([JSON.stringify(t)],{type:"application/json"}),n=URL.createObjectURL(e),i=document.createElement("a");i.style.display="none",i.href=n,i.download="nextstrain.json",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)},hK={};lr.onmessage=t=>{console.log("got message from worker"),t.data.type==="status"&&cK(t.data),t.data.type==="query"&&oK(t.data.data),t.data.type==="search"&&hK[t.data.data.key](t.data.data),t.data.type==="config"&&uK(t.data.data),t.data.type==="details"&&dK(t.data.data),t.data.type==="list"&&mK(t.data.data),t.data.type==="nextstrain"&&mve(t.data.data)};function hve(t){const[e,n]=T.useState({message:null});cK=c=>{console.log("STATUS:",c.data),c.data.error&&(window.alert(c.data.error),console.log("ERROR33:",c.data.error));const u=c.data.total;u&&u>6e6&&window.alert("This is a large tree which may use too much memory to run in the web browser. If the page crashes you might want to try the Taxonium desktop app."),n(c.data)},T.useEffect(()=>{console.log("Sending data to worker",t),lr.postMessage({type:"upload",data:t})},[t]);const i=T.useCallback(async(c,u,d,m)=>{console.log("queryNodes",c),lr.postMessage({type:"query",bounds:c}),oK=h=>{console.log("got query result"),h.nodes.forEach(b=>{b.node_id===m.rootId?b.mutations=m.rootMutations.map(Z=>m.mutations[Z]):b.mutations=b.mutations.map(Z=>m.mutations[Z])}),u(h)}},[]),l=T.useCallback((c,u,d)=>{const m=JSON.parse(c).key;return console.log("singleSearch",c,"key",m),lr.postMessage({type:"search",search:c,bounds:u}),hK[m]=h=>{console.log("got search result from ",m,"result"),d(h)},{abortController:{abort:()=>console.log("no controller for local")}}},[]),r=T.useCallback((c,u)=>{console.log("getDetails",c),lr.postMessage({type:"details",node_id:c}),dK=d=>{console.log("got details result",d),u(d)}},[]),a=T.useCallback(c=>{console.log("getConfig"),lr.postMessage({type:"config"}),uK=u=>{console.log("got config result",u),c(u)}},[]),s=T.useCallback((c,u,d)=>{console.log("getTipAtts",c,u),lr.postMessage({type:"list",node_id:c,key:u}),mK=m=>{console.log("got list result",m),d(null,m)}},[]),o=T.useCallback((c,u)=>{console.log("getNextstrainJson",c),lr.postMessage({type:"nextstrain",node_id:c,config:u})},[]);return T.useMemo(()=>({queryNodes:i,singleSearch:l,getDetails:r,getConfig:a,statusMessage:e,setStatusMessage:n,getTipAtts:s,getNextstrainJson:o,type:"local"}),[i,l,r,a,e,n,s,o])}function bve(t,e,n,i){const l=hve(i);return i?l:(window.alert("Taxonium did not receive the information it needed to launch."),null)}const pve=(t,e,n,i,l,r,a)=>{const[s,o]=T.useState({title:"loading",source:"",num_nodes:0});return T.useEffect(()=>{console.log("GETTING CONFIG"),t.getConfig(c=>{const u={...e.viewState,target:[2e3,c.initial_y],zoom:c.initial_zoom},d={...u};let m={};function h(){if(l.config){console.log("FOUND QUERY",l.config);const b=JSON.parse(l.config);console.log("UNPACKED",b),delete b.validate_SID,Object.assign(c,b)}Object.assign(c,m),c.title&&(i(c.title),window.document.title=c.title,console.log("setting title to ",s.title)),Object.assign(c,r),o(c),t.setStatusMessage({message:"Connecting"}),e.onViewStateChange({viewState:u,oldViewState:d,interactionState:"isZooming"}),c.overlay&&n(c.overlay)}a&&!l.configUrl&&(l.configUrl=a),l.configUrl?(console.log("FOUND QUERY",l.configUrl),fetch(l.configUrl).then(b=>b.json()).then(b=>{console.log("FOUND CONFIG URL",b),m=b,h()}).catch(b=>{console.log("ERROR",b),h()})):h()})},[t.getConfig]),s},Zve=E2(),fve=({query:t,updateQuery:e})=>{const[n,i]=T.useState(!0),[l,r]=T.useState(!1),[a,s]=T.useState(2.9),[o,c]=T.useState(!1),[u,d]=T.useState(3),[m,h]=T.useState(.6),[b,Z]=T.useState({enabled:!1,color:[76,87,106],width:1}),[p,f]=T.useState([180,180,180]),[G,V]=T.useState([150,150,150]),[X,L]=T.useState(3),[x,v]=T.useState([100,100,100]),[C,w]=T.useState(!1),z=()=>{i(!n)},$=T.useMemo(()=>t.mutationTypesEnabled?JSON.parse(t.mutationTypesEnabled):JSON.parse(Zve.mutationTypesEnabled),[t.mutationTypesEnabled]),ee=T.useMemo(()=>t.treenomeEnabled?JSON.parse(t.treenomeEnabled):!1,[t.treenomeEnabled]),D=T.useCallback(k=>{e({treenomeEnabled:JSON.stringify(k)}),qt(`Treenome Browser is now ${k?"enabled":"disabled"}`,{position:"bottom-center"})},[e]),j=T.useCallback(k=>k.filter(A=>$[A.type]),[$]),_=(k,A)=>{const O={...$};O[k]=A,e({mutationTypesEnabled:JSON.stringify(O)})},[ce,E]=T.useState(10),H=()=>N.jsx("div",{className:"block font-normal pt-1 mr-3",children:Object.keys($).map(k=>N.jsx("div",{className:"inline-block mr-3  -mb-1 -pb-1",children:N.jsxs("label",{children:[N.jsx("input",{type:"checkbox",className:"mr-1 -mb-1 -pb-1",checked:$[k],onChange:()=>{const A=!$[k];_(k,A),qt(`Display of ${k.toUpperCase()} mutations is now ${A?"enabled":"disabled"} for hovered and selected nodes`,{position:"bottom-center"})}})," ",k]},k)},k))}),[de,ue]=T.useState("chromosome"),[U,Q]=T.useState(!1);return T.useEffect(()=>{(window.location.href.includes("cov2tree.org")||window.location.href.includes("big-tree.ucsc.edu"))&&(Q(!0),ue("NC_045512v2"))},[]),{minimapEnabled:n,treenomeEnabled:ee,setTreenomeEnabled:D,toggleMinimapEnabled:z,mutationTypesEnabled:$,filterMutations:j,setMutationTypeEnabled:_,displayTextForInternalNodes:l,setDisplayTextForInternalNodes:r,displayPointsForInternalNodes:C,setDisplayPointsForInternalNodes:w,thresholdForDisplayingText:a,setThresholdForDisplayingText:s,maxCladeTexts:ce,setMaxCladeTexts:E,miniMutationsMenu:H,isCov2Tree:U,chromosomeName:de,setChromosomeName:ue,displaySearchesAsPoints:o,setDisplaySearchesAsPoints:c,searchPointSize:u,setSearchPointSize:d,terminalNodeLabelColor:p,setTerminalNodeLabelColor:f,lineColor:G,setLineColor:V,cladeLabelColor:x,setCladeLabelColor:v,nodeSize:X,setNodeSize:L,prettyStroke:b,setPrettyStroke:Z,opacity:m,setOpacity:h}},yve=E2(),Gve="https://fail.org/";function Xve({sourceData:t,backendUrl:e,configDict:n,configUrl:i,query:l,updateQuery:r,overlayContent:a,setAboutEnabled:s,setOverlayContent:o,setTitle:c}){const[u,d]=T.useState(yve),m=T.useCallback(O=>{d(le=>({...le,...O}))},[]);!l&&!r&&(l=u,r=m),c||(c=()=>{}),o||(o=()=>{}),s||(s=()=>{});const h=T.useRef(),b=T.useRef(),[Z,p]=T.useState(!1),[f,G]=T.useState(null),V=fve({query:l,updateQuery:r}),X=PNe({settings:V,deckSize:f,deckRef:h,jbrowseRef:b,mouseDownIsMinimap:Z}),L=Gve,x=bve(e||l.backend,l.sid,L,t);let v=uve();const C=dM("gisaid-hovered",x);window.location.toString().includes("epicov.org")&&(v=C);const w=dM("selected",x),z=pve(x,X,o,c,l,n,i),$=cve(z,l,r),[ee,D]=T.useState({}),j=T.useMemo(()=>({...z.colorMapping?z.colorMapping:{},...ee}),[z.colorMapping,ee]),_=ave(j);z.enable_ns_download=!0;const ce=l.xType?l.xType:"x_dist",E=T.useCallback(O=>{r({xType:O})},[r]),{data:H,boundsForQueries:de,isCurrentlyOutsideBounds:ue}=jNe(x,$,X.viewState,z,ce);T.useEffect(()=>{if(H.base_data&&H.base_data.nodes){const O=H.base_data.nodes[0];O.hasOwnProperty("x_dist")?O.hasOwnProperty("x_time")||E("x_dist"):E("x_time")}},[H.base_data,E]);const U=ove({data:H,config:z,boundsForQueries:de,view:X,backend:x,query:l,updateQuery:r,deckSize:f,xType:ce,settings:V}),[Q,k]=T.useState(!0),A=UNe(H,h,X,V);return N.jsxs("div",{className:"w-full h-full flex",children:[N.jsx(KNe,{}),N.jsx(QMe,{delayHide:400,className:"infoTooltip",place:"top",backgroundColor:"#e5e7eb",textColor:"#000",effect:"solid"}),N.jsx("div",{className:"flex-grow overflow-hidden flex flex-col md:flex-row",children:N.jsx("div",{className:Q?"h-1/2 md:h-full w-full 2xl:w-3/4 md:flex-grow"+(V.treenomeEnabled?" md:w-3/4":" md:w-2/3"):"md:col-span-12 h-5/6 md:h-full w-full",children:N.jsx(sSe,{statusMessage:x.statusMessage,data:H,search:U,view:X,colorHook:_,colorBy:$,config:z,ariaHideApp:!1,hoverDetails:v,selectedDetails:w,xType:ce,settings:V,setDeckSize:G,deckSize:f,isCurrentlyOutsideBounds:ue,treenomeState:A,deckRef:h,mouseDownIsMinimap:Z,setMouseDownIsMinimap:p,jbrowseRef:b,setAdditionalColorMapping:D})})})]})}const By=L4.create({view:{newick:""}}),gve=DB(({viewModel:t})=>{if(!t.newick)return null;const e={status:"loaded",filename:"test.nwk",data:t.newick,filetype:"nwk",mutationtypeEnabled:!0},n=Date.now();return N.jsx(Xve,{sourceData:e},n)});function Wve(){return T.useEffect(()=>{const t=new WebSocket("ws://localhost:8000/ws/newick");try{t.onmessage=e=>{const n=JSON.parse(e.data);n&&n!==By.view.newick&&By.view.updateNewick(n.data),t.onerror=i=>{console.error("WebSocket error:",i)}}}catch(e){console.error("Failed to parse event data:",e)}return()=>{t.close()}},[]),N.jsxs("div",{className:"visual-display",children:[N.jsx("div",{className:"visual-title",children:"Visualization Board"}),N.jsx(gve,{viewModel:By.view})]})}function Vve(){const[t,e]=T.useState("");return N.jsx(N.Fragment,{children:N.jsxs("div",{className:"app-container",children:[N.jsx("div",{className:"not-supported-message",children:N.jsx("p",{children:"This view is not supported on mobile devices. Please enable desktop mode."})}),N.jsx("div",{className:"right-container",children:N.jsx(gj,{userName:t})}),N.jsx("div",{className:"left-container",children:N.jsx(Wve,{})})]})})}fB.render(N.jsx(S.StrictMode,{children:N.jsx(Vve,{})}),document.getElementById("root"))});export default Tve();
