[build-system]
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "lorax-arg"
version = "0.1.2"
description = "Lorax single-port app (bundled UI + backend)"
readme = "README.md"
requires-python = ">=3.10"
license = {text = "MIT"}
authors = [{name = "Lorax Team"}]
keywords = ["lorax", "arg", "visualization", "fastapi", "socketio"]

dependencies = [
  # Backend runtime deps (vendored lorax package)
  "fastapi>=0.100.0",
  "uvicorn>=0.20.0",
  "python-socketio>=5.0.0",
  "python-dotenv>=1.0.0",
  "click>=8.0.0",
  "aiofiles>=24.0.0",
  "aiohttp>=3.0.0",
  "numpy>=2.0.0",
  "pandas>=2.0.0",
  "pyarrow>=18.0.0",
  "tskit>=1.0.0",
  "tszip>=0.2.0",
  "redis>=5.0.0",
  "google-cloud-storage>=3.0.0",
  "orjson>=3.0.0",
  "ormsgpack>=1.0.0",
  "starlette>=0.40.0",
  "python-multipart>=0.0.10",
  "pydantic>=2.0.0",
  "pydantic-settings>=2.0.0",
  "psutil>=5.0.0",
  "ete3>=3.1.0",
  "zarr>=2.18.0",
  "numcodecs>=0.15.0,<0.16",
  "numba>0.57.1",
  "scipy>=1.0.0",
  "networkx>=3.0.0",
  "zstandard>=0.23.0",
]

[project.scripts]
lorax-arg = "lorax_app.cli:main"

[tool.setuptools.packages.find]
where = ["."]
include = ["lorax_app*", "lorax*"]

[tool.setuptools.package-data]
lorax_app = [
  # Bundled website build output (copied in at build time)
  "static/**/*",
  "static/*",
]
lorax = ["*.json", "*.yaml", "*.yml"]
